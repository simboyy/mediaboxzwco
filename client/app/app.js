'use strict';

angular.module('mediaboxApp', ['mediaboxApp.auth', 'mediaboxApp.admin', 'mediaboxApp.constants', 'ngCookies', 'ngResource', 'ngSanitize', 'ngMessages', 'btford.socket-io', 'ui.router', 'validation.match', 'ngMaterial', 'ngAnimate', 'ngMdIcons', 'angularMoment', 'infinite-scroll', 'materialDatePicker', 'ngFileUpload', 'rzModule', 'darthwade.dwLoading', 'ui.tree', 'ui.odometer', 'oitozero.ngSweetAlert', 'naif.base64', 'ngPintura', 'ngOnload', 'kendo.directives']).config(function ($stateProvider, $urlRouterProvider, $locationProvider, $httpProvider, $urlMatcherFactoryProvider, $mdThemingProvider, $mdIconProvider) {
  $urlRouterProvider.otherwise('/');
  $locationProvider.html5Mode(true);

  // set the default palette name
  var defaultPalette = 'blue';
  // define a palette to darken the background of components
  var greyBackgroundMap = $mdThemingProvider.extendPalette(defaultPalette, { 'A100': 'fafafa' });

  $mdThemingProvider.definePalette('grey-background', greyBackgroundMap);
  $mdThemingProvider.setDefaultTheme(defaultPalette);

  // customize the theme
  $mdThemingProvider.theme(defaultPalette).primaryPalette(defaultPalette).accentPalette('pink').backgroundPalette('grey-background');

  // var spritePath = 'bower_components/material-design-icons/sprites/svg-sprite/';
  // $mdIconProvider.iconSet('navigation', spritePath + 'svg-sprite-navigation.svg');
  // $mdIconProvider.iconSet('image', spritePath + 'svg-sprite-image.svg');
  // $mdIconProvider.iconSet('action', spritePath + 'svg-sprite-action.svg');
  // $mdIconProvider.iconSet('content', spritePath + 'svg-sprite-content.svg');
  // $mdIconProvider.iconSet('toggle', spritePath + 'svg-sprite-toggle.svg');
  // $mdIconProvider.iconSet('alert', spritePath + 'svg-sprite-alert.svg');
  // $mdIconProvider.iconSet('social', spritePath + 'svg-sprite-social.svg');
  // $mdIconProvider.iconSet('avatar', '../assets/iconsets/avatar-icons.svg', 128);
  // $mdIconProvider.defaultIconSet(spritePath + 'svg-sprite-alert.svg');
}).controller('preLoaderCtrl', function ($scope) {
  $scope.siteLoaded = true;
});
//# sourceMappingURL=app.js.map

'use strict';

angular.module('mediaboxApp.admin', ['mediaboxApp.auth', 'ui.router']);
//# sourceMappingURL=admin.module.js.map

'use strict';

angular.module('mediaboxApp.auth', ['mediaboxApp.constants', 'mediaboxApp.util', 'ngCookies', 'ui.router']).config(function ($httpProvider) {
  $httpProvider.interceptors.push('authInterceptor');
});
//# sourceMappingURL=auth.module.js.map

'use strict';

angular.module('mediaboxApp.util', []);
//# sourceMappingURL=util.module.js.map

'use strict';

angular.module('mediaboxApp').config(function ($stateProvider) {
  // login, signup are used for emergency situations otherwise LoginModal
  $stateProvider.state('login', {
    url: '/login?referrer',
    templateUrl: 'app/account/login/login.html',
    controller: 'LoginController',
    controllerAs: 'login',
    title: 'Login to Mediabox'
  }).state('logout', {
    url: '/logout?referrer',
    referrer: '/',
    template: '',
    controller: function controller($state, Auth) {
      Auth.logout();
      $state.go('/');
    }
  }).state('signup', {
    url: '/signup',
    templateUrl: 'app/account/signup/signup.html',
    controller: 'SignupController',
    controllerAs: 'signup',
    title: 'Signup for Mediabox'
  }).state('forgot', {
    url: '/forgot?email',
    templateUrl: 'app/account/password/forgot.html',
    controller: 'PasswordController',
    controllerAs: 'forgot',
    title: 'Password Recovery'
  }).state('reset', {
    url: '/reset/:token',
    templateUrl: 'app/account/password/reset.html',
    controller: 'PasswordController',
    controllerAs: 'reset',
    title: 'Reset Password'
  }).state('cp', {
    url: '/change-password',
    templateUrl: 'app/account/cp/cp.html',
    controller: 'CpController',
    controllerAs: 'cp',
    title: 'Change Password',
    authenticate: true
  });
}).run(function ($rootScope, Auth) {
  $rootScope.$on('$stateChangeStart', function (event, next, nextParams, current) {
    if (next.name === 'logout' && current && current.name && !current.authenticate) {
      next.referrer = current.name;
    }
  });

  $rootScope.$on('$stateChangeSuccess', function (evt, toState) {
    if (toState.title) {
      window.document.title = toState.title + ' - Mediabox';
    } else if (toState.name != 'crud-table') {
      var input = toState.name;
      input = input.replace(/([A-Z])/g, ' $1');
      input = input[0].toUpperCase() + input.slice(1);
      window.document.title = input + ' - Mediabox';
    }
  });
});
//# sourceMappingURL=account.js.map

'use strict';

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var CpController = function () {
  function CpController(Auth, Settings, Toast) {
    _classCallCheck(this, CpController);

    this.errors = {};
    this.submitted = false;
    this.Settings = Settings;
    this.Toast = Toast;
    this.Auth = Auth;
  }

  _createClass(CpController, [{
    key: 'changePassword',
    value: function changePassword(form) {
      var _this = this;

      this.submitted = true;

      if (form.$valid) {
        this.loading = true;

        this.Auth.changePassword(this.user.oldPassword, this.user.newPassword).then(function () {
          _this.loading = false;
          _this.message = 'Password successfully changed.';
        }).catch(function () {
          _this.loading = false;
          form.password.$setValidity('mongoose', false);
          _this.errors.other = 'Incorrect password';
          _this.message = '';
        });
      } else {
        this.Toast.show({ type: 'info', text: 'Form is not valid. Check your inputs' });
      }
    }
  }]);

  return CpController;
}();

angular.module('mediaboxApp').controller('CpController', CpController);
//# sourceMappingURL=cp.controller.js.map

'use strict';

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var LoginController = function () {
  function LoginController(Auth, $state) {
    _classCallCheck(this, LoginController);

    this.user = { email: 'admin@codenx.com', password: 'codenx' };
    this.errors = {};
    this.submitted = false;

    this.Auth = Auth;
    this.$state = $state;
  }

  _createClass(LoginController, [{
    key: 'login',
    value: function login(form) {
      var _this = this;

      this.submitted = true;

      if (form.$valid) {
        this.loading = true;
        this.Auth.login({
          email: this.user.email,
          password: this.user.password
        }).then(function () {
          if (!angular.isUndefined(_this.$state.params.referrer)) {
            _this.$state.go(_this.$state.params.referrer);
          } else {
            _this.$state.go('/');
          }
        }).catch(function (err) {
          _this.errors.other = err.message;
          _this.loading = false;
        });
      }
    }
  }]);

  return LoginController;
}();

angular.module('mediaboxApp').controller('LoginController', LoginController);
//# sourceMappingURL=login.controller.js.map

'use strict';

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var PasswordController = function () {
  function PasswordController(Auth, $state, $http) {
    _classCallCheck(this, PasswordController);

    this.user = {};
    this.user.email = $state.params.email;
    this.errors = {};
    this.submitted = false;

    this.Auth = Auth;
    this.$state = $state;
    this.$http = $http;
  }

  _createClass(PasswordController, [{
    key: 'reset',
    value: function reset(form) {
      var _this = this;

      this.submitted = true;

      if (form.$valid) {
        this.loading = true;
        this.user.token = this.$state.params.token;
        this.$http.post('api/users/reset/' + this.$state.params.token, this.user).then(function (data) {
          _this.errors.message = data.data.message;
          _this.errors.email = '';
          _this.loading = false;
        }).catch(function (err) {
          _this.errors.message = '';
          _this.errors.email = err.data.message;
          _this.loading = false;
        });
      }
    }
  }, {
    key: 'forgot',
    value: function forgot(form) {
      var _this2 = this;

      this.submitted = true;

      if (form.$valid) {
        this.loading = true;
        this.$http.post('api/users/forgot', this.user).then(function (data) {
          _this2.errors.message = data.data.message;
          _this2.errors.email = '';
          _this2.loading = false;
        }).catch(function (err) {
          _this2.errors.message = '';
          _this2.errors.email = err.data.message;
          _this2.loading = false;
        });
      }
    }
  }]);

  return PasswordController;
}();

angular.module('mediaboxApp').controller('PasswordController', PasswordController);
//# sourceMappingURL=password.controller.js.map

'use strict';

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var SignupController = function () {
  function SignupController(Auth, $state) {
    _classCallCheck(this, SignupController);

    this.user = {};
    this.errors = {};
    this.submitted = false;
    this.Auth = Auth;
    this.$state = $state;
  }

  _createClass(SignupController, [{
    key: 'register',
    value: function register(form) {
      var _this = this;

      console.log(this.user);
      this.submitted = true;
      if (form.$valid) {
        this.loading = true;
        this.Auth.createUser({
          name: this.user.name,
          email: this.user.email,
          phone: this.user.phone,
          company: this.user.company,
          website: this.user.website,
          role: this.user.role,
          password: this.user.password
        }).then(function () {
          // Account created, redirect to home
          _this.$state.go('/');
        }).catch(function (err) {
          err = err.data;
          // this.errors = {};
          _this.loading = false;
          // Update validity of form fields that match the sequelize errors
          if (err.name) {
            angular.forEach(err.errors, function (field) {
              // console.log('err',field);
              form[field.path].$setValidity('mongoose', false);
              // this.errors[field] = err.message;
            });
          }
        });
      }
    }
  }, {
    key: 'cancel',
    value: function cancel() {
      this.$state.go('login');
    }
  }]);

  return SignupController;
}();

angular.module('mediaboxApp').controller('SignupController', SignupController);
//# sourceMappingURL=signup.controller.js.map

'use strict';

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

(function () {
    var AddressController = function () {
        function AddressController(Toast, Address, Settings, socket, $http, $scope, $mdDialog) {
            _classCallCheck(this, AddressController);

            var vm = this;
            this.Address = Address;
            this.addr = {};
            this.$http = $http;
            this.$mdDialog = $mdDialog;
            this.socket = socket;
            this.Toast = Toast;
            this.newAddress = false;
            this.options = {};
            this.Settings = Settings;
            this.getMyAddress();
            $scope.$on('$destroy', function () {
                socket.unsyncUpdates('address');
            });
        }

        _createClass(AddressController, [{
            key: 'getMyAddress',
            value: function getMyAddress() {
                var vm = this;
                vm.Address.my.query(function (res) {
                    vm.address = res;
                    vm.addr = res[0];
                    vm.socket.syncUpdates('address', vm.address);
                });
            }
        }, {
            key: 'switchAddress',
            value: function switchAddress(a) {
                this.addr = a;
            }
        }, {
            key: 'delete',
            value: function _delete(item) {
                var vm = this;
                var confirm = this.$mdDialog.confirm().title('Would you like to delete the address?').textContent('This is unrecoverable').ariaLabel('Confirm delete address').ok('Please do it!').cancel('No. keep');

                this.$mdDialog.show(confirm).then(function () {
                    vm.Address.delete({ id: item._id }, function () {}, function (res) {
                        vm.Toast.show({ type: 'error', text: res });
                    });
                });
            }
        }, {
            key: 'saveAddress',
            value: function saveAddress(data) {
                var vm = this;
                data.country = vm.Settings.country.name;
                vm.loadingAddress = true;
                if (_.has(data, '_id')) {
                    this.Address.update({ id: data._id }, data, function () {
                        vm.loadingAddress = false;
                        vm.getMyAddress();
                    }, function (err) {
                        // If rejected by auth interceptor.service
                        vm.loadingAddress = false;
                    });
                } else {
                    this.Address.save(data, function () {
                        vm.loadingAddress = false;
                        vm.getMyAddress();
                    });
                }
                vm.addressForm(false);
            }
        }, {
            key: 'addressForm',
            value: function addressForm(visible) {
                this.showAddressForm = visible;
            }
        }, {
            key: 'cancelForm',
            value: function cancelForm(addr) {
                this.showAddressForm = false;
                this.addr = this.address[0];
            }
        }]);

        return AddressController;
    }();

    angular.module('mediaboxApp').controller('AddressController', AddressController);
})();
//# sourceMappingURL=address.controller.js.map

'use strict';

angular.module('mediaboxApp').config(function ($stateProvider) {
  $stateProvider.state('address', {
    url: '/address?id&msg',
    templateUrl: 'app/address/address.html',
    controller: 'AddressController as address',
    authenticate: true
  });
});
//# sourceMappingURL=address.js.map

'use strict';

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

(function () {
  var AdminController = function AdminController(User, Settings, appConfig) {
    _classCallCheck(this, AdminController);

    var userRoles = appConfig.userRoles || [];
    this.options = [{ field: 'name' }, { field: 'role', dataType: 'select', options: userRoles }];
    if (Settings.demo) this.options.push({ field: 'null', heading: 'email (Hidden in demo mode)' });else this.options.push({ field: 'email' });

    this.options.push({ field: 'provider', noEdit: true });
  }

  //   delete(user) {
  //     user.$remove();
  //     this.users.splice(this.users.indexOf(user), 1);
  //   }
  ;

  angular.module('mediaboxApp.admin').controller('AdminController', AdminController);
})();
//# sourceMappingURL=admin.controller.js.map

'use strict';

angular.module('mediaboxApp.admin').config(function ($stateProvider) {
  $stateProvider.state('admin', {
    url: '/admin',
    templateUrl: 'app/admin/admin.html',
    controller: 'AdminController as admin',
    authenticate: 'admin'
  });
});
//# sourceMappingURL=admin.router.js.map

"use strict";

(function (angular, undefined) {
	angular.module("mediaboxApp.constants", []).constant("appConfig", {
		"userRoles": ["guest", "user", "manager", "admin"],
		"reviewSettings": {
			"enabled": true,
			"moderate": false
		},
		"wishlist": true,
		"mailOptions": {}
	});
})(angular);
//# sourceMappingURL=app.constant.js.map

'use strict';

angular.module('mediaboxApp').controller('BookCtrl', function ($scope) {
  $scope.options = [{ field: 'image', heading: 'Image', dataType: 'image' }, { field: 'name', title: 'Title', dataType: 'text' }, { field: 'author', dataType: 'text' }, { field: 'category', dataType: 'select', options: ['Fiction', 'Non fiction', 'Inspirational', 'Novel', 'Science', 'Story'] }, { field: 'price', dataType: 'currency' }, { field: 'releaseDate', dataType: 'date' }, { field: 'isbn', heading: 'ISBN', dataType: 'text', noEdit: true }, { field: 'active', heading: 'Availability', dataType: 'boolean' }];
});
//# sourceMappingURL=book.controller.js.map

'use strict';

angular.module('mediaboxApp').config(function ($stateProvider) {
  $stateProvider.state('book', {
    url: '/book',
    templateUrl: 'app/book/book.html',
    controller: 'BookCtrl',
    authenticate: true,
    title: 'Books Management'
  });
});
//# sourceMappingURL=book.js.map

'use strict';

angular.module('mediaboxApp').controller('BrandCtrl', function ($scope) {
  $scope.options = [{ field: 'name' }, { field: 'brand', dataType: 'number', heading: 'ID' }, { field: 'image', dataType: 'image' }, { field: 'active', dataType: 'boolean' }];
});
//# sourceMappingURL=brand.controller.js.map

'use strict';

angular.module('mediaboxApp').config(function ($stateProvider) {
  $stateProvider.state('brand', {
    url: '/brand',
    templateUrl: 'app/brand/brand.html',
    controller: 'BrandCtrl',
    authenticate: 'manager'
  });
});
//# sourceMappingURL=brand.js.map

'use strict';

angular.module('mediaboxApp').controller('BrandMGCtrl', function ($scope) {
  $scope.options = [{ field: 'name' }, { field: 'brand', dataType: 'number', heading: 'ID' }, { field: 'image', dataType: 'image' }, { field: 'active', dataType: 'boolean' }];
});
//# sourceMappingURL=brandmg.controller.js.map

'use strict';

angular.module('mediaboxApp').config(function ($stateProvider) {
  $stateProvider.state('brandmg', {
    url: '/brandmg',
    templateUrl: 'app/brandmg/brandmg.html',
    controller: 'BrandMGCtrl',
    authenticate: 'manager'
  });
});
//# sourceMappingURL=brandmg.js.map

'use strict';

angular.module('mediaboxApp').controller('BrandTVCtrl', function ($scope) {
  $scope.options = [{ field: 'name' }, { field: 'brand', dataType: 'number', heading: 'ID' }, { field: 'image', dataType: 'image' }, { field: 'active', dataType: 'boolean' }];
});
//# sourceMappingURL=brandtv.controller.js.map

'use strict';

angular.module('mediaboxApp').config(function ($stateProvider) {
  $stateProvider.state('brandtv', {
    url: '/brandtv',
    templateUrl: 'app/brandtv/brandtv.html',
    controller: 'BrandTVCtrl',
    authenticate: 'manager'
  });
});
//# sourceMappingURL=brandtv.js.map

'use strict';

angular.module('mediaboxApp').controller('LeftCtrl', function ($scope, $timeout, $mdSidenav, $log) {
  $scope.close = function () {
    // Component lookup should always be available since we are not using `ng-if`
    $mdSidenav('left').close().then(function () {
      $log.debug("close LEFT is done");
    });
  };
}).controller('RightCtrl', function ($scope, $timeout, $mdSidenav, $log) {
  $scope.close = function () {
    // Component lookup should always be available since we are not using `ng-if`
    $mdSidenav('right').close().then(function () {
      $log.debug("close RIGHT is done");
    });
  };
}).controller('CampaignController', function ($scope, Cart, Auth, $log, $mdSidenav, Campaign, $loading, Upload, $timeout, $http, socket, $mdDialog, Settings, Toast) {
  //clear items added to campaign from cart
  //clear items added to campaign from cart
  Cart.cart.clearItems();
  Cart.cart.products = 20;

  Auth.getCurrentUser().photo = {};

  //alert(Auth.getCurrentUser().company);
  ////console.log(Auth.getCurrentUser());


  $loading.start("campaigns");

  ////console.log(Cart);

  var vm = this;
  vm.cart = Cart.cart;

  vm.itemsGrid = [];

  vm.toggleLeft = buildDelayedToggler('left');
  vm.toggleRight = buildToggler('right');
  vm.isOpenRight = function () {
    return $mdSidenav('right').isOpen();
  };
  /**
   * Supplies a function that will continue to operate until the
   * time is up.
   */
  function debounce(func, wait, context) {
    var timer;
    return function debounced() {
      var context = $scope,
          args = Array.prototype.slice.call(arguments);
      $timeout.cancel(timer);
      timer = $timeout(function () {
        timer = undefined;
        func.apply(context, args);
      }, wait || 10);
    };
  }
  /**
   * Build handler to open/close a SideNav; when animation finishes
   * report completion in console
   */
  function buildDelayedToggler(navID) {
    return debounce(function () {
      $mdSidenav(navID).toggle().then(function () {
        $log.debug("toggle " + navID + " is done");
      });
    }, 200);
  }
  function buildToggler(navID) {
    return function () {
      $mdSidenav(navID).toggle().then(function () {
        $log.debug("toggle " + navID + " is done");
      });
    };
  }

  vm.cmp = {};
  vm.campaignStatusLov = Campaign.status;
  vm.campaignStatus = [{ name: '', val: 402 }, { name: 'Avail Check', val: 201 }, { name: 'Buy', val: 202 }];

  vm.mediaLibrary = function (index) {
    $mdDialog.show({
      template: '<md-dialog aria-label="Media Library" ng-cloak flex="95">\n        <md-toolbar class="md-warn">\n          <div class="md-toolbar-tools">\n            <h2>Media Library</h2>\n            <span flex></span>\n            <md-button class="md-icon-button" ng-click="cancel()">\n              <ng-md-icon icon="close" aria-label="Close dialog"></ng-md-icon>\n            </md-button>\n          </div>\n        </md-toolbar>\n\n        <md-dialog-content>\n            <div class="md-dialog-content padding"  class="md-whiteframe-z2">\n                <md-grid-list class="media-list" md-cols-xs ="3" md-cols-sm="4" md-cols-md="5" md-cols-lg="7" md-cols-gt-lg="10" md-row-height-gt-md="1:1" md-row-height="4:3" md-gutter="12px" md-gutter-gt-sm="8px" layout="row" layout-align="center center">\n                  <md-grid-tile ng-repeat="i in media" class="md-whiteframe-z2" ng-click="ok(i.path)">\n                    <div class="thumbnail">\n                        <img ng-src="{{i.path}}" draggable="false" alt="{{i.name}}">\n                    </div>\n                    <md-grid-tile-footer><h3>{{i.name}}</h3></md-grid-tile-footer>\n                  </md-grid-tile>\n                </md-grid-list>\n          </div>\n        </md-dialog-content>\n        <md-dialog-actions layout="row">\n          <span flex></span>\n          <md-button ng-click="addNewImage()" class="md-warn md-raised">\n           Add new Creative\n          </md-button>\n        </md-dialog-actions>\n      </md-dialog>\n',
      controller: function controller($scope, $mdDialog, $http, socket, $state) {
        // Start query the database for the table
        var vm = this;
        $scope.loading = true;
        $http.get('/api/media/').then(function (res) {
          $scope.loading = false;
          $scope.media = res.data;
          socket.syncUpdates('media', $scope.data);
        }, handleError);

        function handleError(error) {
          // error handler
          $scope.loading = false;
          if (error.status === 403) {
            Toast.show({
              type: 'error',
              text: 'Not authorised to make changes.'
            });
          } else {
            Toast.show({
              type: 'error',
              text: error.status
            });
          }
        }
        $scope.ok = function (path) {
          $mdDialog.hide(path);
        };
        $scope.hide = function () {
          $mdDialog.hide();
        };
        $scope.cancel = function () {
          $mdDialog.cancel();
        };
        $scope.addNewImage = function () {
          $state.go('media');
          //vm.save(vm.product)
          $mdDialog.hide();
        };
      }

    }).then(function (answer) {
      //console.log(answer);
      if (index === 1000000) vm.cart.items.push({ size: 'x', creative: answer });else vm.cart.items[index].creative = answer;
    }, function () {});
  };

  vm.imageDetails = function (img) {
    $mdDialog.show({
      template: '\n    <md-dialog aria-label="Image Details Dialog"  ng-cloak>\n  <md-toolbar>\n    <div class="md-toolbar-tools">\n      <h2>Media Details</h2>\n      <span flex></span>\n      <md-button class="md-icon-button" ng-click="cancel()">\n        <ng-md-icon icon="close" aria-label="Close dialog"></ng-md-icon>\n      </md-button>\n    </div>\n  </md-toolbar>\n  <md-dialog-content>\n    <div class="md-dialog-content">\n      <div layout="row" class="md-whiteframe-z2">\n        <div class="flexbox-container">\n          <div>\n            <img ng-src="{{img}}" draggable="false"  class="detail-image"/>\n          </div>\n          </div>\n      </div>\n  </md-dialog-content>\n  <md-dialog-actions layout="row">\n    <span flex></span>\n    <md-button ng-click="delete(img)" class="md-warn">\n     Delete Permanently\n    </md-button>\n  </md-dialog-actions>\n</md-dialog>\n',
      controller: function controller($scope, $mdDialog) {
        $scope.img = img;
        $scope.delete = function (img) {
          var confirm = $mdDialog.confirm().title('Would you like to delete the media permanently?').textContent('Media once deleted can not be undone.').ariaLabel('Delete Media').ok('Please do it!').cancel('Cancel');
          $mdDialog.show(confirm).then(function () {
            $http.delete('/api/media/' + img._id).then(function () {
              $mdDialog.hide();
            }, handleError);
          }, function () {
            $mdDialog.hide();
          });
        };
        $scope.hide = function () {
          $mdDialog.hide();
        };
        $scope.cancel = function () {
          $mdDialog.cancel();
        };
      }
    }).then(function (answer) {
      $scope.alert = 'You said the information was "' + answer + '".';
    }, function () {
      $scope.alert = 'You cancelled the dialog.';
    });
  };

  var qAll = {};
  qAll.where = { 'items.advertiser.email': Auth.getCurrentUser().email };

  vm.campaignsAll = Campaign.my.query(qAll, function (res) {

    var totalCampaign = res.length;

    res.totalCampaign = totalCampaign;
    ////console.log(totalCampaign);
    $loading.finish("campaigns");

    // }
    // res.total = total;
  });

  var qPending = {};
  qPending.where = { $and: [{ 'items.advertiser.email': Auth.getCurrentUser().email }, { 'status': 'Campaign Placed' }] };

  vm.campaignsPending = Campaign.my.query(qPending, function (res) {

    var totalCampaign = res.length;

    res.totalCampaign = totalCampaign;
    ////console.log(totalCampaign);
    $loading.finish("campaigns");

    // }
    // res.total = total;
  });

  var qScheduled = {};
  qScheduled.where = { $and: [{ 'items.advertiser.email': Auth.getCurrentUser().email }, { 'items.startDate': { $gt: Date.now() } }, { 'status': 'Campaign Accepted' }] };

  vm.campaignsScheduled = Campaign.my.query(qScheduled, function (res) {

    var totalCampaign = res.length;

    res.totalCampaign = totalCampaign;
    ////console.log(totalCampaign);
    $loading.finish("campaigns");

    // }
    // res.total = total;
  });

  var qRunning = {};
  qRunning.where = { $and: [{ 'items.advertiser.email': Auth.getCurrentUser().email }, { 'items.startDate': { $lt: Date.now() } }, { 'items.endDate': { $gt: Date.now() } }, { 'status': 'Campaign Accepted' }] };

  vm.campaignsRunning = Campaign.my.query(qRunning, function (res) {

    var totalCampaign = res.length;

    res.totalCampaign = totalCampaign;
    ////console.log(totalCampaign);
    $loading.finish("campaigns");

    // }
    // res.total = total;
  });

  var qFinished = {};
  qFinished.where = { $and: [{ 'items.advertiser.email': Auth.getCurrentUser().email }, { 'items.endDate': { $lt: Date.now() } }, { 'status': 'Campaign Accepted' }] };

  vm.campaignsCompleted = Campaign.my.query(qFinished, function (res) {

    var totalCampaign = res.length;

    res.totalCampaign = totalCampaign;
    ////console.log(totalCampaign);
    $loading.finish("campaigns");

    // }
    // res.total = total;
  });

  vm.getTotal = function (item) {
    // //console.log(item);
    var total = 0;

    for (var i = 0; i < item.items.length; i++) {

      // items[i].total = 0;

      var p = item.items[i].price;
      var q = item.items[i].quantity;
      total += p * q;
      // var x.sub.push(total);
    }
    // //console.log(total);

    return total;
  };

  // alert(Auth.getCurrentUser().email);


  vm.mainGridOptions = {
    dataSource: {

      transport: {
        read: function read(options) {
          //options holds the grids current page and filter settings
          var qPending = {};
          qPending.where = { $and: [{ 'items.advertiser.email': Auth.getCurrentUser().email }, { 'status': 'Campaign Placed' }] };

          Campaign.my.query(qPending, function (res) {

            console.log(res);

            for (var j = 0; j < res.length; j++) {
              var total = 0;
              var item = res[j];
              for (var i = 0; i < item.items.length; i++) {

                var p = item.items[i].price;
                var q = item.items[i].quantity;
                total += p * q;
              }

              res[j].total = total;
            }

            options.success(res);
            ////console.log(res);
          });
        }
      },
      pageSize: 10,
      serverPaging: true,
      serverSorting: true
    },
    toolbar: ['excel', 'pdf'],

    excel: {
      allPages: true,
      proxyURL: "//demos.telerik.com/kendo-ui/service/export",
      fileName: 'Mediabox-campaigns.xlsx',
      filterable: true
    },
    pdf: {
      allPages: true,
      avoidLinks: true,
      paperSize: "A4",
      margin: { top: "2cm", left: "1cm", right: "1cm", bottom: "1cm" },
      landscape: true,
      repeatHeaders: true,
      template: $("#page-template").html(),
      scale: 0.8
    },
    sortable: true,
    pageable: true,
    editable: "popup",

    filterable: true,

    dataBound: function dataBound() {
      this.expandRow(this.tbody.find("tr.k-master-row").first());
    },
    columns: [{ field: "campaignNo", title: "Campaign #" }, { field: "campaignName", title: "Campaign Name" }, { field: "created_at", title: "Date Created", type: 'datetime', template: "#=  (created_at == null)? '' : kendo.toString(kendo.parseDate(created_at, 'yyyy-MM-dd'), 'MM/dd/yy') #" },
    //{ field: "endDate", title: "Start Date-End Date",type: 'datetime',template: "#=  (endDate == null)? '' : kendo.toString(kendo.parseDate(endDate, 'yyyy-MM-dd'), 'MM/dd/yy') #" },
    { field: "status", title: "Status", template: function template(dataItem) {
        return "<div ng-show= \"dataItem.status.val=='305'\" class=\"alert alert-success\"><small>Approved</small></div>" +
        // "<div ng-show=\"!dataItem.creative\" class=\"alert alert-danger\" ><small>Needs Creative</small></div>"+
        "<div  ng-show = \"dataItem.status=='Campaign Placed'\" class=\"alert alert-danger\" ><small>Waiting Response<small></div>" + "<div  ng-show = \"dataItem.status=='Campaign Accepted'\" class=\"alert alert-success\" ><small>Campaign Approved</small> </div>" + "<div  ng-show = \"dataItem.status=='Campaign Rejected'\" class=\"alert alert-danger\" ><small>Campaign Rejected</small> </div>" + "<div  ng-show = \"dataItem.status=='Campaign Completed'\" class=\"alert alert-success\" ><small>Campaign Completed</small> </div>";
      } }, { field: "total", title: "Total", format: "{0:c2}" }]
  };

  vm.detailGridOptions = function (dataItem) {

    return {
      dataSource: {
        filter: { field: "campaignNo", operator: "eq", value: dataItem.campaignNo },
        transport: {
          read: function read(options) {
            //options holds the grids current page and filter settings
            var itemsGrid = [];
            var qPending = {};
            qPending.where = { $and: [{ 'items.advertiser.email': Auth.getCurrentUser().email }, { 'status': 'Campaign Placed' }] };

            Campaign.my.query(qPending, function (res) {

              var totalFinal = 0;
              var totalCampaign = res.length;

              for (var j = 0; j < res.length; j++) {
                var total = 0;

                var item = res[j];
                for (var i = 0; i < item.items.length; i++) {

                  var itemGridTemp = {
                    campaignNo: item.campaignNo,
                    status: item.status,
                    id: item._id,
                    advertiser: item.items[i].advertiser,
                    category: item.items[i].category,
                    creative: item.items[i].creative,
                    image: item.items[i].image,
                    messages: item.items[i].messages,
                    mrp: item.items[i].mrp,
                    name: item.items[i].name,
                    price: item.items[i].price,
                    publisher: item.items[i].publisher,
                    publisheruid: item.items[i].publisheruid,
                    quantity: item.items[i].quantity,
                    request: item.items[i].request,
                    size: item.items[i].size,
                    sku: item.items[i].sku,
                    uid: item.items[i].uid
                  };

                  var p = item.items[i].price;
                  var q = item.items[i].quantity;
                  total += p * q;

                  vm.itemsGrid.push(itemGridTemp);
                }

                res[j].total = total;
              }

              res.totalFinal = total;

              var data = [];
              ////console.log(vm.itemsGrid);
              for (var i = 0; i < vm.itemsGrid.length; i++) {
                var item = vm.itemsGrid[i];
                if (item.campaignNo == dataItem.campaignNo) {
                  //alert(item.campaignNo);
                  data.push(item);
                }

                options.success(data);
                //console.log(data);

                vm.data = [];
              }

              vm.itemsGrid = [];
            });
          }
        },
        serverPaging: true,
        serverSorting: true,
        serverFiltering: true,
        pageSize: 5,
        filterable: true

      },
      scrollable: false,
      sortable: true,

      pageable: true,
      columns: [
      //{ field: "campaignNo", title:"Campaign #", width: "70px" },
      //{ field: "publisher", title:"Publisher", width: "100px" },
      // { field: "category", title:"Category", width: "50px" },
      { field: "name", title: "Name", width: "80px" }, { field: "category", title: "Start - End Date", width: "60px" }, { field: "price", title: "Price", width: "50px", format: "{0:c2}" }, { field: "quantity", title: "Inserts", width: "30px" },
      //    { 

      //    title: "Status",
      //     width: "40px",
      //      template: function (dataItem) {
      //          return "<div ng-show= \"dataItem.status.val=='305'\" class=\"alert alert-success\"><small>Approved</small></div>"+
      //         // "<div ng-show=\"!dataItem.creative\" class=\"alert alert-danger\" ><small>Needs Creative</small></div>"+
      //          "<div  ng-show = \"dataItem.status.val=='402'\" class=\"alert alert-danger\" ><small>Pending<small></div>"+
      //         "<div  ng-show = \"dataItem.status.val=='300'\" class=\"alert alert-success\" ><small>Ready</small> </div>"+
      //          "<div  ng-show = \"dataItem.status.val=='500'\" class=\"alert alert-danger\" ><small>Rejected</small> </div>"+
      //            "<div  ng-show = \"dataItem.status.val=='309'\" class=\"alert alert-success\" ><small>Completed</small> </div>";
      //     } 
      // },
      {
        field: "creative",
        title: "Creative",
        width: "20px",
        template: function template(dataItem) {
          return "<div ng-hide=\"dataItem.creative\">" + "<button  class=\"btn btn-danger\" ng-hide=\"isAdmin()\" ng-click=\"vm.mediaLibrary(dataItem)\" ><i class=\"fa fa-image\"></i><span class=\"glyphicon glyphicon-upload\"></span></button></div>" + "</div>" + "<div ng-show=\"dataItem.creative\">" + "<button  class=\"btn btn-success\" ng-hide=\"isAdmin()\" ng-click=\"vm.imageDetails(dataItem.creative)\" ><i class=\"fa fa-image\"></i><span class=\"glyphicon glyphicon-upload\"></span></button></div>" + "</div>";
          //return "<div> <button  class=\"btn btn-danger\"  ng-click=\"vm.open(cart.items,item,item.creative,'md')\" ><i class=\"fa fa-image\"></i><span class=\"glyphicon glyphicon-upload\"></span></button></div>";
        } }, {
        title: "Action",
        width: "40px",
        template: function template(dataItem) {
          return "<div  ng-show= \"dataItem.status=='Campaign Accepted'\" ><md-button ng-click=\"vm.addToCart({'sku':dataItem.id, 'name':dataItem.name ,'advertiser':dataItem.advertiser,'publisher':dataItem.publisher,'publisheruid':dataItem.publisheruid,'price':dataItem.price, 'quantity':dataItem.quantity,'image':dataItem.image,  'vid':dataItem.id} ,dataItem.quantity)\" class=\"md-raised cart\">" + "<ng-md-icon icon=\"shopping_cart\"></ng-md-icon>" + "</div>";
          // return "<button class=\"btn-success btn-sm btn-success\" ng-click=\"goToSite(site)\">Buy</button>";
        } }]
    };
  };

  vm.action = function (campaign) {
    // method
    ////console.log(campaign);
    Campaign.delete({ id: campaign._id }, function () {
      ////console.log("Campaign deleted");

      Campaign.save(campaign).$promise.then(function () {
        toastr.success("Campaign info saved successfully", "Success");
      });
    });
  };

  vm.changeStatus = function (campaign) {

    Campaign.update({ id: campaign._id }, campaign).$promise.then(function (res) {
      ////console.log(res);
    }, function (error) {
      // error handler
      ////console.log(error);
      if (error.data.errors) {
        var err = error.data.errors;
        toastr.error(err[Object.keys(err)].message, err[Object.keys(err)].name);
      } else {
        var msg = error.data.message;
        toastr.error(msg);
      }
    });
  };

  vm.addToCart = function (item, i) {

    Cart.cart.addItem(item, i);
    Cart.cart.flagOn();

    Toast.show({
      type: 'success',
      text: item.publisher + "-" + item.name + "" + "Has Been Added to Cart"
    });
  };

  var toNumber = function toNumber(value) {
    value = value * 1;
    return isNaN(value) ? 0 : value;
  };
});
//# sourceMappingURL=campaign.controller.js.map

'use strict';

angular.module('mediaboxApp').config(function ($stateProvider) {
  $stateProvider.state('campaign', {
    url: '/campaign',
    templateUrl: 'app/campaign/campaign.html',
    controller: 'CampaignController as campaign',
    authenticate: true
  });
});
//# sourceMappingURL=campaign.js.map

'use strict';

angular.module('mediaboxApp').controller('CampaignCompletedController', function ($scope, Cart, Auth, $log, $mdSidenav, Campaign, $loading, Upload, $timeout, $http, socket, $mdDialog, Settings, Toast) {
  //clear items added to campaign from cart
  //clear items added to campaign from cart
  Cart.cart.clearItems();
  Cart.cart.products = 20;

  Auth.getCurrentUser().photo = {};

  //alert(Auth.getCurrentUser().company);
  ////console.log(Auth.getCurrentUser());


  $loading.start("campaigns");

  ////console.log(Cart);

  var vm = this;
  vm.cart = Cart.cart;

  vm.itemsGrid = [];

  vm.toggleLeft = buildDelayedToggler('left');
  vm.toggleRight = buildToggler('right');
  vm.isOpenRight = function () {
    return $mdSidenav('right').isOpen();
  };
  /**
   * Supplies a function that will continue to operate until the
   * time is up.
   */
  function debounce(func, wait, context) {
    var timer;
    return function debounced() {
      var context = $scope,
          args = Array.prototype.slice.call(arguments);
      $timeout.cancel(timer);
      timer = $timeout(function () {
        timer = undefined;
        func.apply(context, args);
      }, wait || 10);
    };
  }
  /**
   * Build handler to open/close a SideNav; when animation finishes
   * report completion in console
   */
  function buildDelayedToggler(navID) {
    return debounce(function () {
      $mdSidenav(navID).toggle().then(function () {
        $log.debug("toggle " + navID + " is done");
      });
    }, 200);
  }
  function buildToggler(navID) {
    return function () {
      $mdSidenav(navID).toggle().then(function () {
        $log.debug("toggle " + navID + " is done");
      });
    };
  }

  vm.cmp = {};
  vm.campaignStatusLov = Campaign.status;
  vm.campaignStatus = [{ name: '', val: 402 }, { name: 'Avail Check', val: 201 }, { name: 'Buy', val: 202 }];

  vm.mediaLibrary = function (index) {
    $mdDialog.show({
      template: '<md-dialog aria-label="Media Library" ng-cloak flex="95">\n        <md-toolbar class="md-warn">\n          <div class="md-toolbar-tools">\n            <h2>Media Library</h2>\n            <span flex></span>\n            <md-button class="md-icon-button" ng-click="cancel()">\n              <ng-md-icon icon="close" aria-label="Close dialog"></ng-md-icon>\n            </md-button>\n          </div>\n        </md-toolbar>\n\n        <md-dialog-content>\n            <div class="md-dialog-content padding"  class="md-whiteframe-z2">\n                <md-grid-list class="media-list" md-cols-xs ="3" md-cols-sm="4" md-cols-md="5" md-cols-lg="7" md-cols-gt-lg="10" md-row-height-gt-md="1:1" md-row-height="4:3" md-gutter="12px" md-gutter-gt-sm="8px" layout="row" layout-align="center center">\n                  <md-grid-tile ng-repeat="i in media" class="md-whiteframe-z2" ng-click="ok(i.path)">\n                    <div class="thumbnail">\n                        <img ng-src="{{i.path}}" draggable="false" alt="{{i.name}}">\n                    </div>\n                    <md-grid-tile-footer><h3>{{i.name}}</h3></md-grid-tile-footer>\n                  </md-grid-tile>\n                </md-grid-list>\n          </div>\n        </md-dialog-content>\n        <md-dialog-actions layout="row">\n          <span flex></span>\n          <md-button ng-click="addNewImage()" class="md-warn md-raised">\n           Add new Creative\n          </md-button>\n        </md-dialog-actions>\n      </md-dialog>\n',
      controller: function controller($scope, $mdDialog, $http, socket, $state) {
        // Start query the database for the table
        var vm = this;
        $scope.loading = true;
        $http.get('/api/media/').then(function (res) {
          $scope.loading = false;
          $scope.media = res.data;
          socket.syncUpdates('media', $scope.data);
        }, handleError);

        function handleError(error) {
          // error handler
          $scope.loading = false;
          if (error.status === 403) {
            Toast.show({
              type: 'error',
              text: 'Not authorised to make changes.'
            });
          } else {
            Toast.show({
              type: 'error',
              text: error.status
            });
          }
        }
        $scope.ok = function (path) {
          $mdDialog.hide(path);
        };
        $scope.hide = function () {
          $mdDialog.hide();
        };
        $scope.cancel = function () {
          $mdDialog.cancel();
        };
        $scope.addNewImage = function () {
          $state.go('media');
          //vm.save(vm.product)
          $mdDialog.hide();
        };
      }

    }).then(function (answer) {
      //console.log(answer);
      if (index === 1000000) vm.cart.items.push({ size: 'x', creative: answer });else vm.cart.items[index].creative = answer;
    }, function () {});
  };

  vm.imageDetails = function (img) {
    $mdDialog.show({
      template: '\n    <md-dialog aria-label="Image Details Dialog"  ng-cloak>\n  <md-toolbar>\n    <div class="md-toolbar-tools">\n      <h2>Media Details</h2>\n      <span flex></span>\n      <md-button class="md-icon-button" ng-click="cancel()">\n        <ng-md-icon icon="close" aria-label="Close dialog"></ng-md-icon>\n      </md-button>\n    </div>\n  </md-toolbar>\n  <md-dialog-content>\n    <div class="md-dialog-content">\n      <div layout="row" class="md-whiteframe-z2">\n        <div class="flexbox-container">\n          <div>\n            <img ng-src="{{img}}" draggable="false"  class="detail-image"/>\n          </div>\n          </div>\n      </div>\n  </md-dialog-content>\n  <md-dialog-actions layout="row">\n    <span flex></span>\n    <md-button ng-click="delete(img)" class="md-warn">\n     Delete Permanently\n    </md-button>\n  </md-dialog-actions>\n</md-dialog>\n',
      controller: function controller($scope, $mdDialog) {
        $scope.img = img;
        $scope.delete = function (img) {
          var confirm = $mdDialog.confirm().title('Would you like to delete the media permanently?').textContent('Media once deleted can not be undone.').ariaLabel('Delete Media').ok('Please do it!').cancel('Cancel');
          $mdDialog.show(confirm).then(function () {
            $http.delete('/api/media/' + img._id).then(function () {
              $mdDialog.hide();
            }, handleError);
          }, function () {
            $mdDialog.hide();
          });
        };
        $scope.hide = function () {
          $mdDialog.hide();
        };
        $scope.cancel = function () {
          $mdDialog.cancel();
        };
      }
    }).then(function (answer) {
      $scope.alert = 'You said the information was "' + answer + '".';
    }, function () {
      $scope.alert = 'You cancelled the dialog.';
    });
  };

  vm.campaignsAll = Campaign.my.query({}, function (res) {

    var totalCampaign = res.length;

    res.totalCampaign = totalCampaign;
    ////console.log(totalCampaign);
    $loading.finish("campaigns");

    // }
    // res.total = total;
  });

  var qPending = {};
  qPending.where = { $and: [{ 'items.advertiser.email': Auth.getCurrentUser().email }, { 'status': 'Campaign Placed' }] };

  vm.campaignsPending = Campaign.my.query(qPending, function (res) {

    var totalCampaign = res.length;

    res.totalCampaign = totalCampaign;
    ////console.log(totalCampaign);
    $loading.finish("campaigns");

    // }
    // res.total = total;
  });

  var qScheduled = {};
  qScheduled.where = { $and: [{ 'items.advertiser.email': Auth.getCurrentUser().email }, { 'items.startDate': { $gt: Date.now() } }, { 'status': 'Campaign Accepted' }] };

  vm.campaignsScheduled = Campaign.my.query(qScheduled, function (res) {

    var totalCampaign = res.length;

    res.totalCampaign = totalCampaign;
    ////console.log(totalCampaign);
    $loading.finish("campaigns");

    // }
    // res.total = total;
  });

  var qRunning = {};
  qRunning.where = { $and: [{ 'items.advertiser.email': Auth.getCurrentUser().email }, { 'items.startDate': { $lt: Date.now() } }, { 'items.endDate': { $gt: Date.now() } }, { 'status': 'Campaign Accepted' }] };

  vm.campaignsRunning = Campaign.my.query(qRunning, function (res) {

    var totalCampaign = res.length;

    res.totalCampaign = totalCampaign;
    ////console.log(totalCampaign);
    $loading.finish("campaigns");

    // }
    // res.total = total;
  });

  var qFinished = {};
  qFinished.where = { $and: [{ 'items.advertiser.email': Auth.getCurrentUser().email }, { 'items.endDate': { $lt: Date.now() } }, { 'status': 'Campaign Completed' }] };

  vm.campaignsCompleted = Campaign.my.query(qFinished, function (res) {

    var totalCampaign = res.length;

    res.totalCampaign = totalCampaign;
    ////console.log(totalCampaign);
    $loading.finish("campaigns");

    // }
    // res.total = total;
  });

  vm.getTotal = function (item) {
    // //console.log(item);
    var total = 0;

    for (var i = 0; i < item.items.length; i++) {

      // items[i].total = 0;

      var p = item.items[i].price;
      var q = item.items[i].quantity;
      total += p * q;
      // var x.sub.push(total);
    }
    // //console.log(total);

    return total;
  };

  // alert(Auth.getCurrentUser().email);


  vm.mainGridOptions = {
    dataSource: {

      transport: {
        read: function read(options) {
          //options holds the grids current page and filter settings
          var itemsGrid = [];
          var qFinished = {};
          qFinished.where = { $and: [{ 'items.advertiser.email': Auth.getCurrentUser().email }, { 'items.endDate': { $lt: Date.now() } }, { 'status': 'Campaign Accepted' }] };
          Campaign.my.query(qFinished, function (res) {

            console.log(res);

            for (var j = 0; j < res.length; j++) {
              var total = 0;
              var item = res[j];
              for (var i = 0; i < item.items.length; i++) {

                var p = item.items[i].price;
                var q = item.items[i].quantity;
                total += p * q;
              }

              res[j].total = total;
            }

            options.success(res);
            ////console.log(res);
          });
        }
      },
      pageSize: 10,
      serverPaging: true,
      serverSorting: true
    },
    toolbar: ['excel', 'pdf'],

    excel: {
      allPages: true,
      proxyURL: "//demos.telerik.com/kendo-ui/service/export",
      fileName: 'Mediabox-campaigns.xlsx',
      filterable: true
    },
    pdf: {
      allPages: true,
      avoidLinks: true,
      paperSize: "A4",
      margin: { top: "2cm", left: "1cm", right: "1cm", bottom: "1cm" },
      landscape: true,
      repeatHeaders: true,
      template: $("#page-template").html(),
      scale: 0.8
    },
    sortable: true,
    pageable: true,
    editable: "popup",

    filterable: true,

    dataBound: function dataBound() {
      this.expandRow(this.tbody.find("tr.k-master-row").first());
    },
    columns: [
    //{ field: "campaignNo", title: "Campaign ID" },
    { field: "campaignName", title: "Campaign Name" }, { field: "created_at", title: "Date Created", type: 'datetime', template: "#=  (created_at == null)? '' : kendo.toString(kendo.parseDate(created_at, 'yyyy-MM-dd'), 'MM/dd/yy') #" },
    //{ field: "endDate", title: "Start Date-End Date",type: 'datetime',template: "#=  (endDate == null)? '' : kendo.toString(kendo.parseDate(endDate, 'yyyy-MM-dd'), 'MM/dd/yy') #" },
    { field: "status", title: "Status", template: function template(dataItem) {
        return "<div ng-show= \"dataItem.status.val=='305'\" class=\"alert alert-success\"><small>Approved</small></div>" +
        // "<div ng-show=\"!dataItem.creative\" class=\"alert alert-danger\" ><small>Needs Creative</small></div>"+
        "<div  ng-show = \"dataItem.status=='Campaign Placed'\" class=\"alert alert-danger\" ><small>Waiting Response<small></div>" + "<div  ng-show = \"dataItem.status=='Campaign Accepted'\" class=\"alert alert-success\" ><small>Campaign Approved</small> </div>" + "<div  ng-show = \"dataItem.status=='Campaign Rejected'\" class=\"alert alert-danger\" ><small>Campaign Rejected</small> </div>" + "<div  ng-show = \"dataItem.status=='Campaign Completed'\" class=\"alert alert-success\" ><small>Campaign Completed</small> </div>";
      } }, { field: "total", title: "Total", format: "{0:c2}" }]
  };

  vm.detailGridOptions = function (dataItem) {

    return {
      dataSource: {
        filter: { field: "campaignNo", operator: "eq", value: dataItem.campaignNo },
        transport: {
          read: function read(options) {
            //options holds the grids current page and filter settings
            var itemsGrid = [];
            var qFinished = {};
            qFinished.where = { $and: [{ 'items.advertiser.email': Auth.getCurrentUser().email }, { 'items.endDate': { $lt: Date.now() } }, { 'status': 'Campaign Accepted' }] };
            Campaign.my.query(qFinished, function (res) {
              ////console.log(res);


              var totalFinal = 0;
              var totalCampaign = res.length;

              for (var j = 0; j < res.length; j++) {
                var total = 0;

                var item = res[j];
                for (var i = 0; i < item.items.length; i++) {

                  var itemGridTemp = {
                    campaignNo: item.campaignNo,
                    status: item.status,
                    id: item._id,
                    advertiser: item.items[i].advertiser,
                    category: item.items[i].category,
                    creative: item.items[i].creative,
                    image: item.items[i].image,
                    messages: item.items[i].messages,
                    mrp: item.items[i].mrp,
                    name: item.items[i].name,
                    price: item.items[i].price,
                    publisher: item.items[i].publisher,
                    publisheruid: item.items[i].publisheruid,
                    quantity: item.items[i].quantity,
                    request: item.items[i].request,
                    size: item.items[i].size,
                    sku: item.items[i].sku,
                    uid: item.items[i].uid
                  };

                  var p = item.items[i].price;
                  var q = item.items[i].quantity;
                  total += p * q;

                  vm.itemsGrid.push(itemGridTemp);
                }

                res[j].total = total;
              }

              res.totalFinal = total;

              var data = [];
              ////console.log(vm.itemsGrid);
              for (var i = 0; i < vm.itemsGrid.length; i++) {
                var item = vm.itemsGrid[i];
                if (item.campaignNo == dataItem.campaignNo) {
                  //alert(item.campaignNo);
                  data.push(item);
                }

                options.success(data);
                //console.log(data);

                vm.data = [];
              }

              vm.itemsGrid = [];
            });
          }
        },
        serverPaging: true,
        serverSorting: true,
        serverFiltering: true,
        pageSize: 5,
        filterable: true

      },
      scrollable: false,
      sortable: true,

      pageable: true,
      columns: [{ field: "campaignNo", title: "Campaign #", width: "70px" },
      //{ field: "publisher", title:"Publisher", width: "100px" },
      // { field: "category", title:"Category", width: "50px" },
      { field: "name", title: "Name", width: "80px" }, { field: "category", title: "Start - End Date", width: "60px" }, { field: "price", title: "Price", width: "50px", format: "{0:c2}" }, { field: "quantity", title: "Inserts", width: "30px" },
      //    { 

      //    title: "Status",
      //     width: "40px",
      //      template: function (dataItem) {
      //          return "<div ng-show= \"dataItem.status.val=='305'\" class=\"alert alert-success\"><small>Approved</small></div>"+
      //         // "<div ng-show=\"!dataItem.creative\" class=\"alert alert-danger\" ><small>Needs Creative</small></div>"+
      //          "<div  ng-show = \"dataItem.status.val=='402'\" class=\"alert alert-danger\" ><small>Pending<small></div>"+
      //         "<div  ng-show = \"dataItem.status.val=='300'\" class=\"alert alert-success\" ><small>Ready</small> </div>"+
      //          "<div  ng-show = \"dataItem.status.val=='500'\" class=\"alert alert-danger\" ><small>Rejected</small> </div>"+
      //            "<div  ng-show = \"dataItem.status.val=='309'\" class=\"alert alert-success\" ><small>Completed</small> </div>";
      //     } 
      // },
      {
        field: "creative",
        title: "Creative",
        width: "20px",
        template: function template(dataItem) {
          return "<div ng-hide=\"dataItem.creative\">" + "<button  class=\"btn btn-danger\" ng-hide=\"isAdmin()\" ng-click=\"vm.mediaLibrary(dataItem)\" ><i class=\"fa fa-image\"></i><span class=\"glyphicon glyphicon-upload\"></span></button></div>" + "</div>" + "<div ng-show=\"dataItem.creative\">" + "<button  class=\"btn btn-success\" ng-hide=\"isAdmin()\" ng-click=\"vm.imageDetails(dataItem.creative)\" ><i class=\"fa fa-image\"></i><span class=\"glyphicon glyphicon-upload\"></span></button></div>" + "</div>";
          //return "<div> <button  class=\"btn btn-danger\"  ng-click=\"vm.open(cart.items,item,item.creative,'md')\" ><i class=\"fa fa-image\"></i><span class=\"glyphicon glyphicon-upload\"></span></button></div>";
        } }, {
        title: "Action",
        width: "40px",
        template: function template(dataItem) {
          return "<div  ng-show= \"dataItem.status=='Campaign Accepted'\" ><md-button ng-click=\"vm.addToCart({'sku':dataItem.id, 'name':dataItem.name ,'advertiser':dataItem.advertiser,'publisher':dataItem.publisher,'publisheruid':dataItem.publisheruid,'price':dataItem.price, 'quantity':dataItem.quantity,'image':dataItem.image,  'vid':dataItem.id} ,dataItem.quantity)\" class=\"md-raised cart\">" + "<ng-md-icon icon=\"shopping_cart\"></ng-md-icon>" + "</div>";
          // return "<button class=\"btn-success btn-sm btn-success\" ng-click=\"goToSite(site)\">Buy</button>";
        } }]
    };
  };

  vm.action = function (campaign) {
    // method
    ////console.log(campaign);
    Campaign.delete({ id: campaign._id }, function () {
      ////console.log("Campaign deleted");

      Campaign.save(campaign).$promise.then(function () {
        toastr.success("Campaign info saved successfully", "Success");
      });
    });
  };

  vm.changeStatus = function (campaign) {

    Campaign.update({ id: campaign._id }, campaign).$promise.then(function (res) {
      ////console.log(res);
    }, function (error) {
      // error handler
      ////console.log(error);
      if (error.data.errors) {
        var err = error.data.errors;
        toastr.error(err[Object.keys(err)].message, err[Object.keys(err)].name);
      } else {
        var msg = error.data.message;
        toastr.error(msg);
      }
    });
  };

  vm.addToCart = function (item, i) {

    Cart.cart.addItem(item, i);
    Cart.cart.flagOn();

    Toast.show({
      type: 'success',
      text: item.publisher + "-" + item.name + "" + "Has Been Added to Cart"
    });
  };

  var toNumber = function toNumber(value) {
    value = value * 1;
    return isNaN(value) ? 0 : value;
  };
});
//# sourceMappingURL=campaignCompleted.controller.js.map

'use strict';

angular.module('mediaboxApp').controller('CampaignRunningController', function ($scope, Cart, Auth, $log, $mdSidenav, Campaign, $loading, Upload, $timeout, $http, socket, $mdDialog, Settings, Toast) {
  //clear items added to campaign from cart
  //clear items added to campaign from cart
  Cart.cart.clearItems();
  Cart.cart.products = 20;

  Auth.getCurrentUser().photo = {};

  //alert(Auth.getCurrentUser().company);
  ////console.log(Auth.getCurrentUser());


  $loading.start("campaigns");

  ////console.log(Cart);

  var vm = this;
  vm.cart = Cart.cart;

  vm.itemsGrid = [];

  vm.toggleLeft = buildDelayedToggler('left');
  vm.toggleRight = buildToggler('right');
  vm.isOpenRight = function () {
    return $mdSidenav('right').isOpen();
  };
  /**
   * Supplies a function that will continue to operate until the
   * time is up.
   */
  function debounce(func, wait, context) {
    var timer;
    return function debounced() {
      var context = $scope,
          args = Array.prototype.slice.call(arguments);
      $timeout.cancel(timer);
      timer = $timeout(function () {
        timer = undefined;
        func.apply(context, args);
      }, wait || 10);
    };
  }
  /**
   * Build handler to open/close a SideNav; when animation finishes
   * report completion in console
   */
  function buildDelayedToggler(navID) {
    return debounce(function () {
      $mdSidenav(navID).toggle().then(function () {
        $log.debug("toggle " + navID + " is done");
      });
    }, 200);
  }
  function buildToggler(navID) {
    return function () {
      $mdSidenav(navID).toggle().then(function () {
        $log.debug("toggle " + navID + " is done");
      });
    };
  }

  vm.cmp = {};
  vm.campaignStatusLov = Campaign.status;
  vm.campaignStatus = [{ name: '', val: 402 }, { name: 'Avail Check', val: 201 }, { name: 'Buy', val: 202 }];

  vm.mediaLibrary = function (index) {
    $mdDialog.show({
      template: '<md-dialog aria-label="Media Library" ng-cloak flex="95">\n        <md-toolbar class="md-warn">\n          <div class="md-toolbar-tools">\n            <h2>Media Library</h2>\n            <span flex></span>\n            <md-button class="md-icon-button" ng-click="cancel()">\n              <ng-md-icon icon="close" aria-label="Close dialog"></ng-md-icon>\n            </md-button>\n          </div>\n        </md-toolbar>\n\n        <md-dialog-content>\n            <div class="md-dialog-content padding"  class="md-whiteframe-z2">\n                <md-grid-list class="media-list" md-cols-xs ="3" md-cols-sm="4" md-cols-md="5" md-cols-lg="7" md-cols-gt-lg="10" md-row-height-gt-md="1:1" md-row-height="4:3" md-gutter="12px" md-gutter-gt-sm="8px" layout="row" layout-align="center center">\n                  <md-grid-tile ng-repeat="i in media" class="md-whiteframe-z2" ng-click="ok(i.path)">\n                    <div class="thumbnail">\n                        <img ng-src="{{i.path}}" draggable="false" alt="{{i.name}}">\n                    </div>\n                    <md-grid-tile-footer><h3>{{i.name}}</h3></md-grid-tile-footer>\n                  </md-grid-tile>\n                </md-grid-list>\n          </div>\n        </md-dialog-content>\n        <md-dialog-actions layout="row">\n          <span flex></span>\n          <md-button ng-click="addNewImage()" class="md-warn md-raised">\n           Add new Creative\n          </md-button>\n        </md-dialog-actions>\n      </md-dialog>\n',
      controller: function controller($scope, $mdDialog, $http, socket, $state) {
        // Start query the database for the table
        var vm = this;
        $scope.loading = true;
        $http.get('/api/media/').then(function (res) {
          $scope.loading = false;
          $scope.media = res.data;
          socket.syncUpdates('media', $scope.data);
        }, handleError);

        function handleError(error) {
          // error handler
          $scope.loading = false;
          if (error.status === 403) {
            Toast.show({
              type: 'error',
              text: 'Not authorised to make changes.'
            });
          } else {
            Toast.show({
              type: 'error',
              text: error.status
            });
          }
        }
        $scope.ok = function (path) {
          $mdDialog.hide(path);
        };
        $scope.hide = function () {
          $mdDialog.hide();
        };
        $scope.cancel = function () {
          $mdDialog.cancel();
        };
        $scope.addNewImage = function () {
          $state.go('media');
          //vm.save(vm.product)
          $mdDialog.hide();
        };
      }

    }).then(function (answer) {
      //console.log(answer);
      if (index === 1000000) vm.cart.items.push({ size: 'x', creative: answer });else vm.cart.items[index].creative = answer;
    }, function () {});
  };

  vm.imageDetails = function (img) {
    $mdDialog.show({
      template: '\n    <md-dialog aria-label="Image Details Dialog"  ng-cloak>\n  <md-toolbar>\n    <div class="md-toolbar-tools">\n      <h2>Media Details</h2>\n      <span flex></span>\n      <md-button class="md-icon-button" ng-click="cancel()">\n        <ng-md-icon icon="close" aria-label="Close dialog"></ng-md-icon>\n      </md-button>\n    </div>\n  </md-toolbar>\n  <md-dialog-content>\n    <div class="md-dialog-content">\n      <div layout="row" class="md-whiteframe-z2">\n        <div class="flexbox-container">\n          <div>\n            <img ng-src="{{img}}" draggable="false"  class="detail-image"/>\n          </div>\n          </div>\n      </div>\n  </md-dialog-content>\n  <md-dialog-actions layout="row">\n    <span flex></span>\n    <md-button ng-click="delete(img)" class="md-warn">\n     Delete Permanently\n    </md-button>\n  </md-dialog-actions>\n</md-dialog>\n',
      controller: function controller($scope, $mdDialog) {
        $scope.img = img;
        $scope.delete = function (img) {
          var confirm = $mdDialog.confirm().title('Would you like to delete the media permanently?').textContent('Media once deleted can not be undone.').ariaLabel('Delete Media').ok('Please do it!').cancel('Cancel');
          $mdDialog.show(confirm).then(function () {
            $http.delete('/api/media/' + img._id).then(function () {
              $mdDialog.hide();
            }, handleError);
          }, function () {
            $mdDialog.hide();
          });
        };
        $scope.hide = function () {
          $mdDialog.hide();
        };
        $scope.cancel = function () {
          $mdDialog.cancel();
        };
      }
    }).then(function (answer) {
      $scope.alert = 'You said the information was "' + answer + '".';
    }, function () {
      $scope.alert = 'You cancelled the dialog.';
    });
  };

  vm.campaignsAll = Campaign.my.query({}, function (res) {

    var totalCampaign = res.length;

    res.totalCampaign = totalCampaign;
    ////console.log(totalCampaign);
    $loading.finish("campaigns");

    // }
    // res.total = total;
  });

  var qPending = {};
  qPending.where = { $and: [{ 'items.advertiser.email': Auth.getCurrentUser().email }, { 'status': 'Campaign Placed' }] };

  vm.campaignsPending = Campaign.my.query(qPending, function (res) {

    var totalCampaign = res.length;

    res.totalCampaign = totalCampaign;
    ////console.log(totalCampaign);
    $loading.finish("campaigns");

    // }
    // res.total = total;
  });

  var qScheduled = {};
  qScheduled.where = { $and: [{ 'items.advertiser.email': Auth.getCurrentUser().email }, { 'items.startDate': { $gt: Date.now() } }, { 'status': 'Campaign Accepted' }] };

  vm.campaignsScheduled = Campaign.my.query(qScheduled, function (res) {

    var totalCampaign = res.length;

    res.totalCampaign = totalCampaign;
    ////console.log(totalCampaign);
    $loading.finish("campaigns");

    // }
    // res.total = total;
  });

  var qRunning = {};
  qRunning.where = { $and: [{ 'items.advertiser.email': Auth.getCurrentUser().email }, { 'items.startDate': { $lt: Date.now() } }, { 'items.endDate': { $gt: Date.now() } }, { 'status': 'Campaign Accepted' }] };

  vm.campaignsRunning = Campaign.my.query(qRunning, function (res) {

    var totalCampaign = res.length;

    res.totalCampaign = totalCampaign;
    ////console.log(totalCampaign);
    $loading.finish("campaigns");

    // }
    // res.total = total;
  });

  var qFinished = {};
  qFinished.where = { $and: [{ 'items.advertiser.email': Auth.getCurrentUser().email }, { 'items.endDate': { $lt: Date.now() } }, { 'status': 'Campaign Completed' }] };

  vm.campaignsCompleted = Campaign.my.query(qFinished, function (res) {

    var totalCampaign = res.length;

    res.totalCampaign = totalCampaign;
    ////console.log(totalCampaign);
    $loading.finish("campaigns");

    // }
    // res.total = total;
  });

  vm.getTotal = function (item) {
    // //console.log(item);
    var total = 0;

    for (var i = 0; i < item.items.length; i++) {

      // items[i].total = 0;

      var p = item.items[i].price;
      var q = item.items[i].quantity;
      total += p * q;
      // var x.sub.push(total);
    }
    // //console.log(total);

    return total;
  };

  // alert(Auth.getCurrentUser().email);


  vm.mainGridOptions = {
    dataSource: {

      transport: {
        read: function read(options) {
          var qRunning = {};
          qRunning.where = { $and: [{ 'items.advertiser.email': Auth.getCurrentUser().email }, { 'items.startDate': { $lt: Date.now() } }, { 'items.endDate': { $gt: Date.now() } }, { 'status': 'Campaign Accepted' }] };

          Campaign.my.query(qRunning, function (res) {

            console.log(res);

            for (var j = 0; j < res.length; j++) {
              var total = 0;
              var item = res[j];
              for (var i = 0; i < item.items.length; i++) {

                var p = item.items[i].price;
                var q = item.items[i].quantity;
                total += p * q;
              }

              res[j].total = total;
            }

            options.success(res);
            ////console.log(res);
          });
        }
      },
      pageSize: 10,
      serverPaging: true,
      serverSorting: true
    },
    toolbar: ['excel', 'pdf'],

    excel: {
      allPages: true,
      proxyURL: "//demos.telerik.com/kendo-ui/service/export",
      fileName: 'Mediabox-campaigns.xlsx',
      filterable: true
    },
    pdf: {
      allPages: true,
      avoidLinks: true,
      paperSize: "A4",
      margin: { top: "2cm", left: "1cm", right: "1cm", bottom: "1cm" },
      landscape: true,
      repeatHeaders: true,
      template: $("#page-template").html(),
      scale: 0.8
    },
    sortable: true,
    pageable: true,
    editable: "popup",

    filterable: true,

    dataBound: function dataBound() {
      this.expandRow(this.tbody.find("tr.k-master-row").first());
    },
    columns: [{ field: "campaignNo", title: "Campaign #" }, { field: "campaignName", title: "Campaign Name" }, { field: "created_at", title: "Date Created", type: 'datetime', template: "#=  (created_at == null)? '' : kendo.toString(kendo.parseDate(created_at, 'yyyy-MM-dd'), 'MM/dd/yy') #" },
    //{ field: "endDate", title: "Start Date-End Date",type: 'datetime',template: "#=  (endDate == null)? '' : kendo.toString(kendo.parseDate(endDate, 'yyyy-MM-dd'), 'MM/dd/yy') #" },
    { field: "status", title: "Status", template: function template(dataItem) {
        return "<div ng-show= \"dataItem.status.val=='305'\" class=\"alert alert-success\"><small>Approved</small></div>" +
        // "<div ng-show=\"!dataItem.creative\" class=\"alert alert-danger\" ><small>Needs Creative</small></div>"+
        "<div  ng-show = \"dataItem.status=='Campaign Placed'\" class=\"alert alert-danger\" ><small>Waiting Response<small></div>" + "<div  ng-show = \"dataItem.status=='Campaign Accepted'\" class=\"alert alert-success\" ><small>Campaign Approved</small> </div>" + "<div  ng-show = \"dataItem.status=='Campaign Rejected'\" class=\"alert alert-danger\" ><small>Campaign Rejected</small> </div>" + "<div  ng-show = \"dataItem.status=='Campaign Completed'\" class=\"alert alert-success\" ><small>Campaign Completed</small> </div>";
      } }, { field: "total", title: "Total", format: "{0:c2}" }]
  };

  vm.detailGridOptions = function (dataItem) {

    return {
      dataSource: {
        filter: { field: "campaignNo", operator: "eq", value: dataItem.campaignNo },
        transport: {
          read: function read(options) {
            //options holds the grids current page and filter settings
            var itemsGrid = [];
            var qRunning = {};
            qRunning.where = { $and: [{ 'items.advertiser.email': Auth.getCurrentUser().email }, { 'items.startDate': { $lt: Date.now() } }, { 'items.endDate': { $gt: Date.now() } }, { 'status': 'Campaign Accepted' }] };
            Campaign.my.query(qRunning, function (res) {
              ////console.log(res);


              var totalFinal = 0;
              var totalCampaign = res.length;

              for (var j = 0; j < res.length; j++) {
                var total = 0;

                var item = res[j];
                for (var i = 0; i < item.items.length; i++) {

                  var itemGridTemp = {
                    campaignNo: item.campaignNo,
                    status: item.status,
                    id: item._id,
                    advertiser: item.items[i].advertiser,
                    category: item.items[i].category,
                    creative: item.items[i].creative,
                    image: item.items[i].image,
                    messages: item.items[i].messages,
                    mrp: item.items[i].mrp,
                    name: item.items[i].name,
                    price: item.items[i].price,
                    publisher: item.items[i].publisher,
                    publisheruid: item.items[i].publisheruid,
                    quantity: item.items[i].quantity,
                    request: item.items[i].request,
                    size: item.items[i].size,
                    sku: item.items[i].sku,
                    uid: item.items[i].uid
                  };

                  var p = item.items[i].price;
                  var q = item.items[i].quantity;
                  total += p * q;

                  vm.itemsGrid.push(itemGridTemp);
                }

                res[j].total = total;
              }

              res.totalFinal = total;

              var data = [];
              ////console.log(vm.itemsGrid);
              for (var i = 0; i < vm.itemsGrid.length; i++) {
                var item = vm.itemsGrid[i];
                if (item.campaignNo == dataItem.campaignNo) {
                  //alert(item.campaignNo);
                  data.push(item);
                }

                options.success(data);
                //console.log(data);

                vm.data = [];
              }

              vm.itemsGrid = [];
            });
          }
        },
        serverPaging: true,
        serverSorting: true,
        serverFiltering: true,
        pageSize: 5,
        filterable: true

      },
      scrollable: false,
      sortable: true,

      pageable: true,
      columns: [
      //{ field: "campaignNo", title:"Campaign #", width: "70px" },
      //{ field: "publisher", title:"Publisher", width: "100px" },
      // { field: "category", title:"Category", width: "50px" },
      { field: "name", title: "Name", width: "80px" }, { field: "category", title: "Start - End Date", width: "60px" }, { field: "price", title: "Price", width: "50px", format: "{0:c2}" }, { field: "quantity", title: "Inserts", width: "30px" },
      //    { 

      //    title: "Status",
      //     width: "40px",
      //      template: function (dataItem) {
      //          return "<div ng-show= \"dataItem.status.val=='305'\" class=\"alert alert-success\"><small>Approved</small></div>"+
      //         // "<div ng-show=\"!dataItem.creative\" class=\"alert alert-danger\" ><small>Needs Creative</small></div>"+
      //          "<div  ng-show = \"dataItem.status.val=='402'\" class=\"alert alert-danger\" ><small>Pending<small></div>"+
      //         "<div  ng-show = \"dataItem.status.val=='300'\" class=\"alert alert-success\" ><small>Ready</small> </div>"+
      //          "<div  ng-show = \"dataItem.status.val=='500'\" class=\"alert alert-danger\" ><small>Rejected</small> </div>"+
      //            "<div  ng-show = \"dataItem.status.val=='309'\" class=\"alert alert-success\" ><small>Completed</small> </div>";
      //     } 
      // },
      {
        field: "creative",
        title: "Creative",
        width: "20px",
        template: function template(dataItem) {
          return "<div ng-hide=\"dataItem.creative\">" + "<button  class=\"btn btn-danger\" ng-hide=\"isAdmin()\" ng-click=\"vm.mediaLibrary(dataItem)\" ><i class=\"fa fa-image\"></i><span class=\"glyphicon glyphicon-upload\"></span></button></div>" + "</div>" + "<div ng-show=\"dataItem.creative\">" + "<button  class=\"btn btn-success\" ng-hide=\"isAdmin()\" ng-click=\"vm.imageDetails(dataItem.creative)\" ><i class=\"fa fa-image\"></i><span class=\"glyphicon glyphicon-upload\"></span></button></div>" + "</div>";
          //return "<div> <button  class=\"btn btn-danger\"  ng-click=\"vm.open(cart.items,item,item.creative,'md')\" ><i class=\"fa fa-image\"></i><span class=\"glyphicon glyphicon-upload\"></span></button></div>";
        } }, {
        title: "Action",
        width: "40px",
        template: function template(dataItem) {
          return "<div  ng-show= \"dataItem.status=='Campaign Accepted'\" ><md-button ng-click=\"vm.addToCart({'sku':dataItem.id, 'name':dataItem.name ,'advertiser':dataItem.advertiser,'publisher':dataItem.publisher,'publisheruid':dataItem.publisheruid,'price':dataItem.price, 'quantity':dataItem.quantity,'image':dataItem.image,  'vid':dataItem.id} ,dataItem.quantity)\" class=\"md-raised cart\">" + "<ng-md-icon icon=\"shopping_cart\"></ng-md-icon>" + "</div>";
          // return "<button class=\"btn-success btn-sm btn-success\" ng-click=\"goToSite(site)\">Buy</button>";
        } }]
    };
  };

  vm.action = function (campaign) {
    // method
    ////console.log(campaign);
    Campaign.delete({ id: campaign._id }, function () {
      ////console.log("Campaign deleted");

      Campaign.save(campaign).$promise.then(function () {
        toastr.success("Campaign info saved successfully", "Success");
      });
    });
  };

  vm.changeStatus = function (campaign) {

    Campaign.update({ id: campaign._id }, campaign).$promise.then(function (res) {
      ////console.log(res);
    }, function (error) {
      // error handler
      ////console.log(error);
      if (error.data.errors) {
        var err = error.data.errors;
        toastr.error(err[Object.keys(err)].message, err[Object.keys(err)].name);
      } else {
        var msg = error.data.message;
        toastr.error(msg);
      }
    });
  };

  vm.addToCart = function (item, i) {

    Cart.cart.addItem(item, i);
    Cart.cart.flagOn();

    Toast.show({
      type: 'success',
      text: item.publisher + "-" + item.name + "" + "Has Been Added to Cart"
    });
  };

  var toNumber = function toNumber(value) {
    value = value * 1;
    return isNaN(value) ? 0 : value;
  };
});
//# sourceMappingURL=campaignRunning.controller.js.map

'use strict';

angular.module('mediaboxApp').controller('CampaignScheduledController', function ($scope, Cart, Auth, $log, $mdSidenav, Campaign, $loading, Upload, $timeout, $http, socket, $mdDialog, Settings, Toast) {
  //clear items added to campaign from cart
  //clear items added to campaign from cart
  Cart.cart.clearItems();
  Cart.cart.products = 20;

  Auth.getCurrentUser().photo = {};

  //alert(Auth.getCurrentUser().company);
  ////console.log(Auth.getCurrentUser());


  $loading.start("campaigns");

  ////console.log(Cart);

  var vm = this;
  vm.cart = Cart.cart;

  vm.itemsGrid = [];

  vm.toggleLeft = buildDelayedToggler('left');
  vm.toggleRight = buildToggler('right');
  vm.isOpenRight = function () {
    return $mdSidenav('right').isOpen();
  };
  /**
   * Supplies a function that will continue to operate until the
   * time is up.
   */
  function debounce(func, wait, context) {
    var timer;
    return function debounced() {
      var context = $scope,
          args = Array.prototype.slice.call(arguments);
      $timeout.cancel(timer);
      timer = $timeout(function () {
        timer = undefined;
        func.apply(context, args);
      }, wait || 10);
    };
  }
  /**
   * Build handler to open/close a SideNav; when animation finishes
   * report completion in console
   */
  function buildDelayedToggler(navID) {
    return debounce(function () {
      $mdSidenav(navID).toggle().then(function () {
        $log.debug("toggle " + navID + " is done");
      });
    }, 200);
  }
  function buildToggler(navID) {
    return function () {
      $mdSidenav(navID).toggle().then(function () {
        $log.debug("toggle " + navID + " is done");
      });
    };
  }

  vm.cmp = {};
  vm.campaignStatusLov = Campaign.status;
  vm.campaignStatus = [{ name: '', val: 402 }, { name: 'Avail Check', val: 201 }, { name: 'Buy', val: 202 }];

  vm.mediaLibrary = function (index) {
    $mdDialog.show({
      template: '<md-dialog aria-label="Media Library" ng-cloak flex="95">\n        <md-toolbar class="md-warn">\n          <div class="md-toolbar-tools">\n            <h2>Media Library</h2>\n            <span flex></span>\n            <md-button class="md-icon-button" ng-click="cancel()">\n              <ng-md-icon icon="close" aria-label="Close dialog"></ng-md-icon>\n            </md-button>\n          </div>\n        </md-toolbar>\n\n        <md-dialog-content>\n            <div class="md-dialog-content padding"  class="md-whiteframe-z2">\n                <md-grid-list class="media-list" md-cols-xs ="3" md-cols-sm="4" md-cols-md="5" md-cols-lg="7" md-cols-gt-lg="10" md-row-height-gt-md="1:1" md-row-height="4:3" md-gutter="12px" md-gutter-gt-sm="8px" layout="row" layout-align="center center">\n                  <md-grid-tile ng-repeat="i in media" class="md-whiteframe-z2" ng-click="ok(i.path)">\n                    <div class="thumbnail">\n                        <img ng-src="{{i.path}}" draggable="false" alt="{{i.name}}">\n                    </div>\n                    <md-grid-tile-footer><h3>{{i.name}}</h3></md-grid-tile-footer>\n                  </md-grid-tile>\n                </md-grid-list>\n          </div>\n        </md-dialog-content>\n        <md-dialog-actions layout="row">\n          <span flex></span>\n          <md-button ng-click="addNewImage()" class="md-warn md-raised">\n           Add new Creative\n          </md-button>\n        </md-dialog-actions>\n      </md-dialog>\n',
      controller: function controller($scope, $mdDialog, $http, socket, $state) {
        // Start query the database for the table
        var vm = this;
        $scope.loading = true;
        $http.get('/api/media/').then(function (res) {
          $scope.loading = false;
          $scope.media = res.data;
          socket.syncUpdates('media', $scope.data);
        }, handleError);

        function handleError(error) {
          // error handler
          $scope.loading = false;
          if (error.status === 403) {
            Toast.show({
              type: 'error',
              text: 'Not authorised to make changes.'
            });
          } else {
            Toast.show({
              type: 'error',
              text: error.status
            });
          }
        }
        $scope.ok = function (path) {
          $mdDialog.hide(path);
        };
        $scope.hide = function () {
          $mdDialog.hide();
        };
        $scope.cancel = function () {
          $mdDialog.cancel();
        };
        $scope.addNewImage = function () {
          $state.go('media');
          //vm.save(vm.product)
          $mdDialog.hide();
        };
      }

    }).then(function (answer) {
      //console.log(answer);
      if (index === 1000000) vm.cart.items.push({ size: 'x', creative: answer });else vm.cart.items[index].creative = answer;
    }, function () {});
  };

  vm.imageDetails = function (img) {
    $mdDialog.show({
      template: '\n    <md-dialog aria-label="Image Details Dialog"  ng-cloak>\n  <md-toolbar>\n    <div class="md-toolbar-tools">\n      <h2>Media Details</h2>\n      <span flex></span>\n      <md-button class="md-icon-button" ng-click="cancel()">\n        <ng-md-icon icon="close" aria-label="Close dialog"></ng-md-icon>\n      </md-button>\n    </div>\n  </md-toolbar>\n  <md-dialog-content>\n    <div class="md-dialog-content">\n      <div layout="row" class="md-whiteframe-z2">\n        <div class="flexbox-container">\n          <div>\n            <img ng-src="{{img}}" draggable="false"  class="detail-image"/>\n          </div>\n          </div>\n      </div>\n  </md-dialog-content>\n  <md-dialog-actions layout="row">\n    <span flex></span>\n    <md-button ng-click="delete(img)" class="md-warn">\n     Delete Permanently\n    </md-button>\n  </md-dialog-actions>\n</md-dialog>\n',
      controller: function controller($scope, $mdDialog) {
        $scope.img = img;
        $scope.delete = function (img) {
          var confirm = $mdDialog.confirm().title('Would you like to delete the media permanently?').textContent('Media once deleted can not be undone.').ariaLabel('Delete Media').ok('Please do it!').cancel('Cancel');
          $mdDialog.show(confirm).then(function () {
            $http.delete('/api/media/' + img._id).then(function () {
              $mdDialog.hide();
            }, handleError);
          }, function () {
            $mdDialog.hide();
          });
        };
        $scope.hide = function () {
          $mdDialog.hide();
        };
        $scope.cancel = function () {
          $mdDialog.cancel();
        };
      }
    }).then(function (answer) {
      $scope.alert = 'You said the information was "' + answer + '".';
    }, function () {
      $scope.alert = 'You cancelled the dialog.';
    });
  };

  vm.campaignsAll = Campaign.my.query({}, function (res) {

    var totalCampaign = res.length;

    res.totalCampaign = totalCampaign;
    ////console.log(totalCampaign);
    $loading.finish("campaigns");

    // }
    // res.total = total;
  });

  var qPending = {};
  qPending.where = { $and: [{ 'items.advertiser.email': Auth.getCurrentUser().email }, { 'status': 'Campaign Placed' }] };

  vm.campaignsPending = Campaign.my.query(qPending, function (res) {

    var totalCampaign = res.length;

    res.totalCampaign = totalCampaign;
    ////console.log(totalCampaign);
    $loading.finish("campaigns");

    // }
    // res.total = total;
  });

  var qScheduled = {};
  qScheduled.where = { $and: [{ 'items.advertiser.email': Auth.getCurrentUser().email }, { 'items.startDate': { $gt: Date.now() } }, { 'status': 'Campaign Accepted' }] };

  vm.campaignsScheduled = Campaign.my.query(qScheduled, function (res) {

    var totalCampaign = res.length;

    res.totalCampaign = totalCampaign;
    ////console.log(totalCampaign);
    $loading.finish("campaigns");

    // }
    // res.total = total;
  });

  var qRunning = {};
  qRunning.where = { $and: [{ 'items.advertiser.email': Auth.getCurrentUser().email }, { 'items.startDate': { $lt: Date.now() } }, { 'items.endDate': { $gt: Date.now() } }, { 'status': 'Campaign Accepted' }] };

  vm.campaignsRunning = Campaign.my.query(qRunning, function (res) {

    var totalCampaign = res.length;

    res.totalCampaign = totalCampaign;
    ////console.log(totalCampaign);
    $loading.finish("campaigns");

    // }
    // res.total = total;
  });

  var qFinished = {};
  qFinished.where = { $and: [{ 'items.advertiser.email': Auth.getCurrentUser().email }, { 'items.endDate': { $lt: Date.now() } }, { 'status': 'Campaign Completed' }] };

  vm.campaignsCompleted = Campaign.my.query(qFinished, function (res) {

    var totalCampaign = res.length;

    res.totalCampaign = totalCampaign;
    ////console.log(totalCampaign);
    $loading.finish("campaigns");

    // }
    // res.total = total;
  });

  vm.getTotal = function (item) {
    // //console.log(item);
    var total = 0;

    for (var i = 0; i < item.items.length; i++) {

      // items[i].total = 0;

      var p = item.items[i].price;
      var q = item.items[i].quantity;
      total += p * q;
      // var x.sub.push(total);
    }
    // //console.log(total);

    return total;
  };

  // alert(Auth.getCurrentUser().email);


  vm.mainGridOptions = {
    dataSource: {

      transport: {
        read: function read(options) {
          //options holds the grids current page and filter settings
          var qScheduled = {};
          qScheduled.where = { $and: [{ 'items.advertiser.email': Auth.getCurrentUser().email }, { 'items.startDate': { $gt: Date.now() } }, { 'status': 'Campaign Accepted' }] };

          Campaign.my.query(qScheduled, function (res) {

            console.log(res);

            for (var j = 0; j < res.length; j++) {
              var total = 0;
              var item = res[j];
              for (var i = 0; i < item.items.length; i++) {

                var p = item.items[i].price;
                var q = item.items[i].quantity;
                total += p * q;
              }

              res[j].total = total;
            }

            options.success(res);
            ////console.log(res);
          });
        }
      },
      pageSize: 10,
      serverPaging: true,
      serverSorting: true
    },
    toolbar: ['excel', 'pdf'],

    excel: {
      allPages: true,
      proxyURL: "//demos.telerik.com/kendo-ui/service/export",
      fileName: 'Mediabox-campaigns.xlsx',
      filterable: true
    },
    pdf: {
      allPages: true,
      avoidLinks: true,
      paperSize: "A4",
      margin: { top: "2cm", left: "1cm", right: "1cm", bottom: "1cm" },
      landscape: true,
      repeatHeaders: true,
      template: $("#page-template").html(),
      scale: 0.8
    },
    sortable: true,
    pageable: true,
    editable: "popup",

    filterable: true,

    dataBound: function dataBound() {
      this.expandRow(this.tbody.find("tr.k-master-row").first());
    },
    columns: [{ field: "campaignNo", title: "Campaign #" }, { field: "campaignName", title: "Campaign Name" }, { field: "created_at", title: "Date Created", type: 'datetime', template: "#=  (created_at == null)? '' : kendo.toString(kendo.parseDate(created_at, 'yyyy-MM-dd'), 'MM/dd/yy') #" },
    //{ field: "endDate", title: "Start Date-End Date",type: 'datetime',template: "#=  (endDate == null)? '' : kendo.toString(kendo.parseDate(endDate, 'yyyy-MM-dd'), 'MM/dd/yy') #" },
    { field: "status", title: "Status", template: function template(dataItem) {
        return "<div ng-show= \"dataItem.status.val=='305'\" class=\"alert alert-success\"><small>Approved</small></div>" +
        // "<div ng-show=\"!dataItem.creative\" class=\"alert alert-danger\" ><small>Needs Creative</small></div>"+
        "<div  ng-show = \"dataItem.status=='Campaign Placed'\" class=\"alert alert-danger\" ><small>Waiting Response<small></div>" + "<div  ng-show = \"dataItem.status=='Campaign Accepted'\" class=\"alert alert-success\" ><small>Campaign Approved</small> </div>" + "<div  ng-show = \"dataItem.status=='Campaign Rejected'\" class=\"alert alert-danger\" ><small>Campaign Rejected</small> </div>" + "<div  ng-show = \"dataItem.status=='Campaign Completed'\" class=\"alert alert-success\" ><small>Campaign Completed</small> </div>";
      } }, { field: "total", title: "Total", format: "{0:c2}" }]
  };

  vm.detailGridOptions = function (dataItem) {

    return {
      dataSource: {
        filter: { field: "campaignNo", operator: "eq", value: dataItem.campaignNo },
        transport: {
          read: function read(options) {
            //options holds the grids current page and filter settings
            var itemsGrid = [];
            var qScheduled = {};
            qScheduled.where = { $and: [{ 'items.advertiser.email': Auth.getCurrentUser().email }, { 'items.startDate': { $gt: Date.now() } }, { 'status': 'Campaign Accepted' }] };

            Campaign.my.query(qScheduled, function (res) {
              ////console.log(res);


              var totalFinal = 0;
              var totalCampaign = res.length;

              for (var j = 0; j < res.length; j++) {
                var total = 0;

                var item = res[j];
                for (var i = 0; i < item.items.length; i++) {

                  var itemGridTemp = {
                    campaignNo: item.campaignNo,
                    status: item.status,
                    id: item._id,
                    advertiser: item.items[i].advertiser,
                    category: item.items[i].category,
                    creative: item.items[i].creative,
                    image: item.items[i].image,
                    messages: item.items[i].messages,
                    mrp: item.items[i].mrp,
                    name: item.items[i].name,
                    price: item.items[i].price,
                    publisher: item.items[i].publisher,
                    publisheruid: item.items[i].publisheruid,
                    quantity: item.items[i].quantity,
                    request: item.items[i].request,
                    size: item.items[i].size,
                    sku: item.items[i].sku,
                    uid: item.items[i].uid
                  };

                  var p = item.items[i].price;
                  var q = item.items[i].quantity;
                  total += p * q;

                  vm.itemsGrid.push(itemGridTemp);
                }

                res[j].total = total;
              }

              res.totalFinal = total;

              var data = [];
              ////console.log(vm.itemsGrid);
              for (var i = 0; i < vm.itemsGrid.length; i++) {
                var item = vm.itemsGrid[i];
                if (item.campaignNo == dataItem.campaignNo) {
                  //alert(item.campaignNo);
                  data.push(item);
                }

                options.success(data);
                //console.log(data);

                vm.data = [];
              }

              vm.itemsGrid = [];
            });
          }
        },
        serverPaging: true,
        serverSorting: true,
        serverFiltering: true,
        pageSize: 5,
        filterable: true

      },
      scrollable: false,
      sortable: true,

      pageable: true,
      columns: [{ field: "name", title: "Name", width: "80px" }, { field: "category", title: "Start - End Date", width: "60px" }, { field: "price", title: "Price", format: "{0:c2}", width: "50px" }, { field: "quantity", title: "Inserts", width: "30px" }, {
        field: "creative",
        title: "Creative",
        width: "20px",
        template: function template(dataItem) {
          return "<div ng-hide=\"dataItem.creative\">" + "<button  class=\"btn btn-danger\" ng-hide=\"isAdmin()\" ng-click=\"vm.mediaLibrary(dataItem)\" ><i class=\"fa fa-image\"></i><span class=\"glyphicon glyphicon-upload\"></span></button></div>" + "</div>" + "<div ng-show=\"dataItem.creative\">" + "<button  class=\"btn btn-success\" ng-hide=\"isAdmin()\" ng-click=\"vm.imageDetails(dataItem.creative)\" ><i class=\"fa fa-image\"></i><span class=\"glyphicon glyphicon-upload\"></span></button></div>" + "</div>";
        } }, {
        title: "Action",
        width: "40px",
        template: function template(dataItem) {
          return "<div  ng-show= \"dataItem.status=='Campaign Accepted'\" ><md-button ng-click=\"vm.addToCart({'sku':dataItem.id, 'name':dataItem.name ,'advertiser':dataItem.advertiser,'publisher':dataItem.publisher,'publisheruid':dataItem.publisheruid,'price':dataItem.price, 'quantity':dataItem.quantity,'image':dataItem.image,  'vid':dataItem.id} ,dataItem.quantity)\" class=\"md-raised cart\">" + "<ng-md-icon icon=\"shopping_cart\"></ng-md-icon>" + "</div>";
        } }]
    };
  };

  vm.action = function (campaign) {
    // method
    ////console.log(campaign);
    Campaign.delete({ id: campaign._id }, function () {
      ////console.log("Campaign deleted");

      Campaign.save(campaign).$promise.then(function () {
        toastr.success("Campaign info saved successfully", "Success");
      });
    });
  };

  vm.changeStatus = function (campaign) {

    Campaign.update({ id: campaign._id }, campaign).$promise.then(function (res) {
      ////console.log(res);
    }, function (error) {
      // error handler
      ////console.log(error);
      if (error.data.errors) {
        var err = error.data.errors;
        toastr.error(err[Object.keys(err)].message, err[Object.keys(err)].name);
      } else {
        var msg = error.data.message;
        toastr.error(msg);
      }
    });
  };

  vm.addToCart = function (item, i) {

    Cart.cart.addItem(item, i);
    Cart.cart.flagOn();

    Toast.show({
      type: 'success',
      text: item.publisher + "-" + item.name + "" + "Has Been Added to Cart"
    });
  };

  var toNumber = function toNumber(value) {
    value = value * 1;
    return isNaN(value) ? 0 : value;
  };
});
//# sourceMappingURL=campaignScheduled.controller.js.map

'use strict';

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

(function () {
  var CampaignsController = function () {
    function CampaignsController(Cart, Country, Auth, PaymentMethod, Shipping, Coupon, Campaign, Toast, Settings, $state, $scope, $loading, Upload, $timeout, $http, socket, $mdDialog) {
      _classCallCheck(this, CampaignsController);

      $loading.start("campaigns");
      var vm = this;
      vm.itemsGrid = [];
      this.Cart = Cart, this.campaignStatusLov = Campaign.status;
      this.Campaign = Campaign;
      this.Toast = Toast;
      this.Settings = Settings;
      this.$state = $state;
      this.options = {};
      //this.campaigns = Campaign.query();
      this.campaignStatus = [{ name: '', val: 402 }, { name: 'Approved', val: 305 }, { name: 'Reject', val: 500 }];

      this.campaignStatusCreativeAdded = [{ name: 'Completed', val: 309 }];

      var qAll = {};
      qAll.where = { 'items.advertiser.email': Auth.getCurrentUser().email };
      this.campaigns = Campaign.pub.query(qAll, function (res) {
        var totalCampaign = res.length;

        res.totalCampaign = totalCampaign;
        console.log(totalCampaign);
        $loading.finish("campaigns");

        // }
        // res.total = total;
      });

      vm.mediaLibrary = function (index) {
        $mdDialog.show({
          template: '<md-dialog aria-label="Media Library" ng-cloak flex="95">\n        <md-toolbar class="md-warn">\n          <div class="md-toolbar-tools">\n            <h2>Media Library</h2>\n            <span flex></span>\n            <md-button class="md-icon-button" ng-click="cancel()">\n              <ng-md-icon icon="close" aria-label="Close dialog"></ng-md-icon>\n            </md-button>\n          </div>\n        </md-toolbar>\n\n        <md-dialog-content>\n            <div class="md-dialog-content padding"  class="md-whiteframe-z2">\n                <md-grid-list class="media-list" md-cols-xs ="3" md-cols-sm="4" md-cols-md="5" md-cols-lg="7" md-cols-gt-lg="10" md-row-height-gt-md="1:1" md-row-height="4:3" md-gutter="12px" md-gutter-gt-sm="8px" layout="row" layout-align="center center">\n                  <md-grid-tile ng-repeat="i in media" class="md-whiteframe-z2" ng-click="ok(i.path)">\n                    <div class="thumbnail">\n                        <img ng-src="{{i.path}}" draggable="false" alt="{{i.name}}">\n                    </div>\n                    <md-grid-tile-footer><h3>{{i.name}}</h3></md-grid-tile-footer>\n                  </md-grid-tile>\n                </md-grid-list>\n          </div>\n        </md-dialog-content>\n        <md-dialog-actions layout="row">\n          <span flex></span>\n          <md-button ng-click="addNewImage()" class="md-warn md-raised">\n           Add new Creative\n          </md-button>\n        </md-dialog-actions>\n      </md-dialog>\n',
          controller: function controller($scope, $mdDialog, $http, socket, $state) {
            // Start query the database for the table
            var vm = this;
            $scope.loading = true;
            $http.get('/api/media/').then(function (res) {
              $scope.loading = false;
              $scope.media = res.data;
              socket.syncUpdates('media', $scope.data);
            }, handleError);

            function handleError(error) {
              // error handler
              $scope.loading = false;
              if (error.status === 403) {
                Toast.show({
                  type: 'error',
                  text: 'Not authorised to make changes.'
                });
              } else {
                Toast.show({
                  type: 'error',
                  text: error.status
                });
              }
            }
            $scope.ok = function (path) {
              $mdDialog.hide(path);
            };
            $scope.hide = function () {
              $mdDialog.hide();
            };
            $scope.cancel = function () {
              $mdDialog.cancel();
            };
            $scope.addNewImage = function () {
              $state.go('media');
              //vm.save(vm.product)
              $mdDialog.hide();
            };
          }

        }).then(function (answer) {
          console.log(answer);
          if (index === 1000000) vm.cart.items.push({ size: 'x', creative: answer });else vm.cart.items[index].creative = answer;
        }, function () {});
      };

      vm.imageDetails = function (img) {
        $mdDialog.show({
          template: '\n    <md-dialog aria-label="Image Details Dialog"  ng-cloak>\n  <md-toolbar>\n    <div class="md-toolbar-tools">\n      <h2>Media Details</h2>\n      <span flex></span>\n      <md-button class="md-icon-button" ng-click="cancel()">\n        <ng-md-icon icon="close" aria-label="Close dialog"></ng-md-icon>\n      </md-button>\n    </div>\n  </md-toolbar>\n  <md-dialog-content>\n    <div class="md-dialog-content">\n      <div layout="row" class="md-whiteframe-z2">\n        <div class="flexbox-container">\n          <div>\n            <img ng-src="{{img}}" draggable="false"  class="detail-image"/>\n          </div>\n          </div>\n      </div>\n  </md-dialog-content>\n  <md-dialog-actions layout="row">\n    <span flex></span>\n    <md-button ng-click="delete(img)" class="md-warn">\n     Delete Permanently\n    </md-button>\n  </md-dialog-actions>\n</md-dialog>\n',
          controller: function controller($scope, $mdDialog) {
            $scope.img = img;
            $scope.delete = function (img) {
              var confirm = $mdDialog.confirm().title('Would you like to delete the media permanently?').textContent('Media once deleted can not be undone.').ariaLabel('Delete Media').ok('Please do it!').cancel('Cancel');
              $mdDialog.show(confirm).then(function () {
                $http.delete('/api/media/' + img._id).then(function () {
                  $mdDialog.hide();
                }, handleError);
              }, function () {
                $mdDialog.hide();
              });
            };
            $scope.hide = function () {
              $mdDialog.hide();
            };
            $scope.cancel = function () {
              $mdDialog.cancel();
            };
          }
        }).then(function (answer) {
          $scope.alert = 'You said the information was "' + answer + '".';
        }, function () {
          $scope.alert = 'You cancelled the dialog.';
        });
      };

      var qPending = {};
      qPending.where = { $and: [{ 'items.publisheruid': Auth.getCurrentUser().email }, { 'status': 'Campaign Placed' }] };

      this.campaignsPending = Campaign.pub.query(qPending, function (res) {

        var totalCampaign = res.length;

        res.totalCampaign = totalCampaign;
        console.log(totalCampaign);
        $loading.finish("campaigns");

        // }
        // res.total = total;
      });

      var qScheduled = {};
      qScheduled.where = { $and: [{ 'items.publisheruid': Auth.getCurrentUser().email }, { 'items.startDate': { $gt: Date.now() } }, { 'status': 'Campaign Accepted' }] };

      this.campaignsScheduled = Campaign.pub.query(qScheduled, function (res) {

        var totalCampaign = res.length;

        res.totalCampaign = totalCampaign;
        console.log(totalCampaign);
        $loading.finish("campaigns");

        // }
        // res.total = total;
      });

      var qRunning = {};
      qRunning.where = { $and: [{ 'items.publisheruid': Auth.getCurrentUser().email }, { 'items.startDate': { $lt: Date.now() } }, { 'items.endDate': { $gt: Date.now() } }, { 'status': 'Campaign Accepted' }] };

      this.campaignsRunning = Campaign.pub.query(qRunning, function (res) {

        var totalCampaign = res.length;

        res.totalCampaign = totalCampaign;
        console.log(totalCampaign);
        $loading.finish("campaigns");

        // }
        // res.total = total;
      });

      var qFinished = {};
      qFinished.where = { $and: [{ 'items.publisheruid': Auth.getCurrentUser().email }, { 'items.endDate': { $lt: Date.now() } }, { 'status': 'Campaign Accepted' }] };

      this.campaignsCompleted = Campaign.pub.query(qFinished, function (res) {

        var totalCampaign = res.length;

        res.totalCampaign = totalCampaign;
        console.log(totalCampaign);
        $loading.finish("campaigns");

        // }
        // res.total = total;
      });

      this.items = Campaign.pub.query(qAll, function (res) {

        var total = 0;

        // for(var i=0;i<res.length;i++){
        //     var subTotal = 0;
        for (var j = 0; j < res.length; j++) {

          // console.log(res[j].campaignDate);

          total = 0;
          // console.log();
          // subTotal += res[i].shipping.charge;
          var item = res[j];

          // console.log(item.items);
          // var x = item.items
          // var x.sub = [];

          for (var i = 0; i < item.items.length; i++) {

            var p = item.items[i].price;
            var q = item.items[i].quantity;
            total += p * q;
            // var x.sub.push(total);
          }
          // console.log(total);
        }
        res.total = total;
        //console.log(res);
        $loading.finish('campaigns');

        // }
        // res.total = total;
      });

      this.itemsGrid = [];

      this.mainGridOptions = {
        dataSource: {

          transport: {
            read: function read(options) {
              //options holds the grids current page and filter settings

              var qPending = {};
              qPending.where = { $and: [{ 'items.publisheruid': Auth.getCurrentUser().email }, { 'status': 'Campaign Placed' }] };
              Campaign.pub.query(qPending, function (res) {

                for (var j = 0; j < res.length; j++) {
                  var total = 0;
                  var item = res[j];
                  for (var i = 0; i < item.items.length; i++) {

                    var p = item.items[i].price;
                    var q = item.items[i].quantity;
                    total += p * q;
                  }

                  res[j].total = total;
                }

                options.success(res);
                // console.log(res);
              });
            }
          },
          pageSize: 10,
          serverPaging: true,
          serverSorting: true
        },
        toolbar: ['excel', 'pdf'],

        excel: {
          allPages: true,
          proxyURL: "//demos.telerik.com/kendo-ui/service/export",
          fileName: 'Mediabox-campaigns.xlsx',
          filterable: true
        },
        pdf: {
          allPages: true,
          avoidLinks: true,
          paperSize: "A4",
          margin: { top: "2cm", left: "1cm", right: "1cm", bottom: "1cm" },
          landscape: true,
          repeatHeaders: true,
          template: $("#page-template").html(),
          scale: 0.8
        },
        sortable: true,
        pageable: true,

        filterable: true,

        dataBound: function dataBound() {
          this.expandRow(this.tbody.find("tr.k-master-row").first());
        },
        columns: [//{ field: "items[0].advertiser.company", title: "Advertiser" },
        //{ field: "campaignNo", title: "Campaign ID" },
        { field: "campaignName", title: "Campaign Name" }, { field: "created_at", title: "Campaign Date", type: 'datetime', template: "#=  (created_at == null)? '' : kendo.toString(kendo.parseDate(created_at, 'yyyy-MM-dd'), 'MM/dd/yy') #" },
        //{ field: "endDate", title: "End Date",type: 'datetime',template: "#=  (endDate == null)? '' : kendo.toString(kendo.parseDate(endDate, 'yyyy-MM-dd'), 'MM/dd/yy') #" },
        { field: "total", title: "Total", template: function template(dataItem) {
            return "<div></span><span style='display:inline-block;width:75%;text-align:left;white-space:nowrap;'>$ " + dataItem.total + "</span></div>";
          } }, { field: "status", title: "Status", template: function template(dataItem) {
            return " <span class=\"md-subhead\"><md-select ng-model=\"dataItem.status\"  ng-change=\"vm.changeStatus(dataItem)\" flex><md-option ng-value=\"o\" ng-repeat=\"o in vm.Settings.campaignStatus\">{{o}}</md-option></md-select></span>";
            // return "<div  ng-if = \"dataItem.status =='Campaign Placed'\">"+
            //  "<md-select ng-model=\"dataItem.status\" value=\"dataItem.status\" ng-options=\"p.name for p in vm.campaignStatus track by p.val\" ng-change=\"vm.action(dataItem)\" class=\"k-select\" style=\"max-width: 150px\"></md-select>"+
            //   "</div>"+

            //  "<div  ng-show = \"!dataItem.status.val=='402'\" >"+
            //  "<select ng-model=\"dataItem.status\" ng-options=\"p.name for p in vm.campaignStatusCreativeAdded track by p.val\" ng-change=\"vm.action(o)\" class=\"k-select\"  style=\"max-width: 150px\"></select>"+
            //  "</div>"; 
          } }]
      };

      this.detailGridOptions = function (dataItem) {

        this.dataItem = dataItem;
        this.uCampaign = dataItem;
        console.log(this.dataItem);

        return {
          update: function update(e) {
            console.log(e);
            // e.success();
            alert("update called");
            e.container.find("input[name=price]").data("KendoNumericTextBox");
          },
          edit: function edit(e) {
            //e.success();
            alert("edit called");
            e.container.find("input[name=price]").data("KendoNumericTextBox");
          },
          destroy: function destroy(e) {
            e.success();
            alert("update called");
            e.container.find("input[name=price]").data("KendoNumericTextBox");
          },
          create: function create(e) {
            e.success();
            alert("update called");
            e.container.find("input[name=price]").data("KendoNumericTextBox");
          },
          toolbar: ["create"],
          dataSource: {
            schema: {
              model: {
                id: "id",
                fields: {
                  "id": { type: "number" },
                  "publisher": { type: "String" },
                  "name": { type: "String" },
                  "price": { type: "number" },
                  "quantity": { type: "number" },
                  "creative": { type: "upload" }
                }
              }
            },
            filter: { field: "id", operator: "eq", value: dataItem.id },
            transport: {
              read: function read(options) {
                //options holds the grids current page and filter settings
                var itemsGrid = [];
                var qPending = {};
                qPending.where = { $and: [{ 'items.publisheruid': Auth.getCurrentUser().email }, { 'status': 'Campaign Placed' }] };
                Campaign.pub.query(qPending, function (res) {
                  //console.log(res);


                  var totalFinal = 0;
                  var totalCampaign = res.length;

                  for (var j = 0; j < res.length; j++) {
                    var total = 0;

                    var item = res[j];
                    for (var i = 0; i < item.items.length; i++) {

                      var itemGridTemp = {
                        campaignNo: item.campaignNo,
                        campaignName: item.campaignName,
                        campaignid: item._id,
                        advertiser: item.items[i].advertiser,
                        category: item.items[i].category,
                        creative: item.items[i].creative,
                        image: item.items[i].image,
                        messages: item.items[i].messages,
                        mrp: item.items[i].mrp,
                        name: item.items[i].name,
                        price: item.items[i].price,
                        publisher: item.items[i].publisher,
                        quantity: item.items[i].quantity,
                        request: item.items[i].request,
                        size: item.items[i].size,
                        sku: item.items[i].sku,
                        status: item.items[i].status,
                        uid: item.items[i].uid,
                        position: i

                      };

                      var p = item.items[i].price;
                      var q = item.items[i].quantity;
                      total += p * q;

                      vm.itemsGrid.push(itemGridTemp);
                    }

                    res[j].total = total;
                  }

                  res.totalFinal = total;

                  var data = [];
                  //console.log(vm.itemsGrid);
                  for (var i = 0; i < vm.itemsGrid.length; i++) {
                    var item = vm.itemsGrid[i];
                    if (item.campaignNo == dataItem.campaignNo) {
                      //alert(item.campaignNo);
                      data.push(item);
                    }

                    options.success(data);
                    console.log(data);

                    vm.data = [];
                  }

                  vm.itemsGrid = [];
                });
              }
            },
            serverPaging: true,
            serverSorting: true,
            serverFiltering: true,
            pageSize: 5,
            filterable: true

          },
          scrollable: false,
          sortable: true,
          editable: "inline",

          pageable: true,
          columns: [
          //{ field: "campaignNo", title:"Campaign #", width: "70px" },
          //{ field: "email", title:"Email", width: "70px" },
          { field: "publisher", title: "Publisher", width: "80px" }, { field: "name", title: "Name", width: "70px" }, { field: "category", title: "Dates", width: "100px", template: function template(dataItem) {
              return "<md-input-container>" + "<label>&nbsp</label>" + "<input  name=\"daterange\" value=\"dataItem.category\" id=\"config-demo\"   ng-model= \"dataItem.category\"\>" + "<i class=\"glyphicon glyphicon-calendar form-control-feedback\"></i>" + "</md-input-container>";
            } }, {
            field: "price",
            title: "Price",
            width: "50px",

            template: function template(dataItem) {

              return "<md-input-container>" + "<label>&nbsp</label>" + "<input  type=\"number\" value=\"dataItem.price\" ng-model= \"dataItem.price\"\>" + "</md-input-container>";
            } }, { field: "quantity", title: "Quantity", width: "40px", template: function template(dataItem) {

              return "<md-input-container>" + "<label>&nbsp</label>" + "<input  type=\"number\" value=\"dataItem.quantity\" ng-model= \"dataItem.quantity\"\>" + "</md-input-container>";
            } }, {
            field: "creative",
            title: "Creative",
            width: "40px",
            template: function template(dataItem) {
              return "<div ng-hide=\"dataItem.creative\">" + "<button  class=\"btn btn-danger\" ng-hide=\"isAdmin()\" ng-click=\"vm.mediaLibrary(dataItem)\" ><i class=\"fa fa-image\"></i><span class=\"glyphicon glyphicon-upload\"></span></button></div>" + "</div>" + "<div ng-show=\"dataItem.creative\">" + "<button  class=\"btn btn-success\" ng-hide=\"isAdmin()\" ng-click=\"vm.imageDetails(dataItem.creative)\" ><i class=\"fa fa-image\"></i><span class=\"glyphicon glyphicon-upload\"></span></button></div>" + "</div>";
              //return "<div> <button  class=\"btn btn-danger\"  ng-click=\"vm.open(cart.items,item,item.creative,'md')\" ><i class=\"fa fa-image\"></i><span class=\"glyphicon glyphicon-upload\"></span></button></div>";
            } },
          //    { 
          //      field: "status.name", 
          //      title: "Status", 
          //      width: "40px" ,
          //      template: function (dataItem) {
          //      return "<div ng-show= \"dataItem.status.val=='305'\" class=\"alert alert-success\"><small>Approved</small></div>"+
          //         // "<div ng-show=\"!dataItem.creative\" class=\"alert alert-danger\" ><small>Needs Creative</small></div>"+
          //          "<div  ng-show = \"dataItem.status.val=='402'\" class=\"alert alert-danger\" ><small>Pending<small></div>"+
          //       "<div  ng-show = \"dataItem.status.val=='300'\" class=\"alert alert-success\" ><small>Ready</small> </div>"+
          //      "<div  ng-show = \"dataItem.status.val=='500'\" class=\"alert alert-danger\" ><small>Rejected</small> </div>"+
          //        "<div  ng-show = \"dataItem.status.val=='309'\" class=\"alert alert-success\" ><small>Completed</small> </div>";
          // } 

          //    },
          //     { 
          //       title:"Action",
          //        width: "50px" ,
          //         template: function (dataItem) {
          //        //return "<div ng-show= \"dataItem.status.val=='305'\"><button class=\"btn-success btn-sm btn-success\" ng-click=\"cart.addItem({sku:dataItem.sku, name:dataItem.name,slug:adspace.formart,mrp:dataItem.mrp, weight:dataItem.maxSize,size:dataItem.size,price:dataItem.price , publisher:dataItem.publisher,uid:dataItem.uid,category:dataItem.category,image:dataItem.image,quantity:1} ,true);\" ng-show=\"checkCart(dataItem.name)\"><i class=\"fa fa-shopping-cart\" ></i></button></div>";
          //     // return "<button class=\"btn-success btn-sm btn-success\" ng-click=\"goToSite(site)\">Buy</button>";
          //     return "<div  ng-if = \"dataItem.status.val=='402'\">"+
          //            "<select ng-model=\"dataItem.status\" ng-options=\"p.name for p in vm.campaignStatus track by p.val\" ng-change=\"vm.action(dataItem)\" class=\"k-select\" style=\"max-width: 150px\"></select>"+
          // "</div>"+

          //            "<div  ng-show = \"!dataItem.status.val=='402'\" >"+
          //            "<select ng-model=\"dataItem.status\" ng-options=\"p.name for p in vm.campaignStatusCreativeAdded track by p.val\" ng-change=\"vm.action(o)\" class=\"k-select\"  style=\"max-width: 150px\"></select>"+
          //            "</div>";  
          //  }},
          // { command: [
          //    { name :"Update",
          //      click:function(dataItem){
          //        console.log(e);
          //        alert("clicked event");
          //    }},
          //    // {name:"edit"},
          //    // {name:"destroy"}

          //  ],width :"40px"}
          //  
          {
            field: "campaignNo",
            title: "Update",
            width: "60px",
            template: function template(dataItem) {
              return "<div>" + "<button  class=\"btn btn-success\"  ng-click=\"vm.updateItem(dataItem)\" ><i class=\"fa fa-check\">Update</i><span class=\"glyphicon glyphicon-check\"></span></button></div>" + "</div>";
            } }]
        };
      };
    } //end constructor

    _createClass(CampaignsController, [{
      key: 'navigate',
      value: function navigate(params) {
        this.$state.go('single-product', { id: params.sku, slug: params.description }, { reload: false });
      }
    }, {
      key: 'getTotal',
      value: function getTotal(item) {
        // console.log(item);
        var total = 0;

        for (var i = 0; i < item.items.length; i++) {

          // items[i].total = 0;

          var p = item.items[i].price;
          var q = item.items[i].quantity;
          total += p * q;
          // var x.sub.push(total);
        }
        // //console.log(total);

        return total;
      }
    }, {
      key: 'action',
      value: function action(items) {

        var newStatus = { name: 'Approved', val: 305 };

        //var updated = _.merge(itemToMergeCampaign,items.itemToMergeItem);
        // method

        if (items) {
          console.log(vm.uCampaign._id);
          //vm.uCampaign.items = [];
          console.log(items);

          Campaign.update({ id: vm.uCampaign._id }, items).$promise.then(function (res) {
            //console.log(res);
            toastr.success("Campaign has been Approved", "Success");
          }, function (error) {
            // error handler
            //console.log(error);
            if (error.data.errors) {
              var err = error.data.errors;
              toastr.error(err[Object.keys(err)].message, err[Object.keys(err)].name);
            } else {
              var msg = error.data.message;
              toastr.error(msg);
            }
          });
        }
      }
    }, {
      key: 'changeStatus',
      value: function changeStatus(campaign) {
        var vm = this;
        var vm = this;

        this.Campaign.update({ id: campaign._id }, { campaignName: campaign.campaignName,
          status: campaign.status,
          startDate: campaign.items[0].startDate,
          endDate: campaign.items[0].endDate }).$promise.then(function (res) {}, function (error) {
          // error handler
          if (error) {
            vm.Toast.show({
              type: 'error',
              text: error.data.errors.status.message
            });
          } else {
            vm.Toast.show({
              type: 'success',
              text: error.statusText
            });
          }
        });
      }
    }, {
      key: 'updateItem',
      value: function updateItem(campaign) {

        var dateArray = campaign.category.split('-');

        var newItem = {
          name: campaign.name,
          publisher: campaign.publisher,
          category: campaign.category,
          price: campaign.price,
          quantity: campaign.quantity,
          position: true
        };

        var vm = this;
        this.Campaign.update({ id: campaign.campaignid }, { campaignName: campaign.campaignName,
          startDate: dateArray[0],
          endDate: dateArray[1],
          items: newItem }).$promise.then(function (res) {}, function (error) {
          // error handler
          if (error) {
            vm.Toast.show({
              type: 'error',
              text: error.data.errors.status.message
            });
          } else {
            vm.Toast.show({
              type: 'success',
              text: error.statusText
            });
          }
        });
      }
    }]);

    return CampaignsController;
  }();

  angular.module('mediaboxApp').controller('CampaignsController', CampaignsController);
})();
//# sourceMappingURL=campaigns.controller.js.map

'use strict';

angular.module('mediaboxApp').config(function ($stateProvider) {
  $stateProvider.state('campaigns', {
    url: '/campaigns',
    templateUrl: 'app/campaigns/campaigns.html',
    controller: 'CampaignsController as campaigns',
    authenticate: 'manager'
  });
});
//# sourceMappingURL=campaigns.js.map

'use strict';

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

(function () {
  var CampaignsCompletedController = function () {
    function CampaignsCompletedController(Cart, Country, Auth, PaymentMethod, Shipping, Coupon, Campaign, Toast, Settings, $state, $scope, $loading, Upload, $timeout, $http, socket, $mdDialog) {
      _classCallCheck(this, CampaignsCompletedController);

      $loading.start("campaigns");
      var vm = this;
      vm.itemsGrid = [];
      this.campaignStatusLov = Campaign.status;
      this.Campaign = Campaign;
      this.Toast = Toast;
      this.Settings = Settings;
      this.$state = $state;
      this.options = {};
      //this.campaigns = Campaign.query();
      this.campaignStatus = [{ name: '', val: 402 }, { name: 'Approved', val: 305 }, { name: 'Reject', val: 500 }];

      this.campaignStatusCreativeAdded = [{ name: 'Completed', val: 309 }];

      this.campaigns = Campaign.pub.query({}, function (res) {
        var totalCampaign = res.length;

        res.totalCampaign = totalCampaign;
        console.log(totalCampaign);
        $loading.finish("campaigns");

        // }
        // res.total = total;
      });

      vm.mediaLibrary = function (index) {
        $mdDialog.show({
          template: '<md-dialog aria-label="Media Library" ng-cloak flex="95">\n        <md-toolbar class="md-warn">\n          <div class="md-toolbar-tools">\n            <h2>Media Library</h2>\n            <span flex></span>\n            <md-button class="md-icon-button" ng-click="cancel()">\n              <ng-md-icon icon="close" aria-label="Close dialog"></ng-md-icon>\n            </md-button>\n          </div>\n        </md-toolbar>\n\n        <md-dialog-content>\n            <div class="md-dialog-content padding"  class="md-whiteframe-z2">\n                <md-grid-list class="media-list" md-cols-xs ="3" md-cols-sm="4" md-cols-md="5" md-cols-lg="7" md-cols-gt-lg="10" md-row-height-gt-md="1:1" md-row-height="4:3" md-gutter="12px" md-gutter-gt-sm="8px" layout="row" layout-align="center center">\n                  <md-grid-tile ng-repeat="i in media" class="md-whiteframe-z2" ng-click="ok(i.path)">\n                    <div class="thumbnail">\n                        <img ng-src="{{i.path}}" draggable="false" alt="{{i.name}}">\n                    </div>\n                    <md-grid-tile-footer><h3>{{i.name}}</h3></md-grid-tile-footer>\n                  </md-grid-tile>\n                </md-grid-list>\n          </div>\n        </md-dialog-content>\n        <md-dialog-actions layout="row">\n          <span flex></span>\n          <md-button ng-click="addNewImage()" class="md-warn md-raised">\n           Add new Creative\n          </md-button>\n        </md-dialog-actions>\n      </md-dialog>\n',
          controller: function controller($scope, $mdDialog, $http, socket, $state) {
            // Start query the database for the table
            var vm = this;
            $scope.loading = true;
            $http.get('/api/media/').then(function (res) {
              $scope.loading = false;
              $scope.media = res.data;
              socket.syncUpdates('media', $scope.data);
            }, handleError);

            function handleError(error) {
              // error handler
              $scope.loading = false;
              if (error.status === 403) {
                Toast.show({
                  type: 'error',
                  text: 'Not authorised to make changes.'
                });
              } else {
                Toast.show({
                  type: 'error',
                  text: error.status
                });
              }
            }
            $scope.ok = function (path) {
              $mdDialog.hide(path);
            };
            $scope.hide = function () {
              $mdDialog.hide();
            };
            $scope.cancel = function () {
              $mdDialog.cancel();
            };
            $scope.addNewImage = function () {
              $state.go('media');
              //vm.save(vm.product)
              $mdDialog.hide();
            };
          }

        }).then(function (answer) {
          console.log(answer);
          if (index === 1000000) vm.cart.items.push({ size: 'x', creative: answer });else vm.cart.items[index].creative = answer;
        }, function () {});
      };

      vm.imageDetails = function (img) {
        $mdDialog.show({
          template: '\n    <md-dialog aria-label="Image Details Dialog"  ng-cloak>\n  <md-toolbar>\n    <div class="md-toolbar-tools">\n      <h2>Media Details</h2>\n      <span flex></span>\n      <md-button class="md-icon-button" ng-click="cancel()">\n        <ng-md-icon icon="close" aria-label="Close dialog"></ng-md-icon>\n      </md-button>\n    </div>\n  </md-toolbar>\n  <md-dialog-content>\n    <div class="md-dialog-content">\n      <div layout="row" class="md-whiteframe-z2">\n        <div class="flexbox-container">\n          <div>\n            <img ng-src="{{img}}" draggable="false"  class="detail-image"/>\n          </div>\n          </div>\n      </div>\n  </md-dialog-content>\n  <md-dialog-actions layout="row">\n    <span flex></span>\n    <md-button ng-click="delete(img)" class="md-warn">\n     Delete Permanently\n    </md-button>\n  </md-dialog-actions>\n</md-dialog>\n',
          controller: function controller($scope, $mdDialog) {
            $scope.img = img;
            $scope.delete = function (img) {
              var confirm = $mdDialog.confirm().title('Would you like to delete the media permanently?').textContent('Media once deleted can not be undone.').ariaLabel('Delete Media').ok('Please do it!').cancel('Cancel');
              $mdDialog.show(confirm).then(function () {
                $http.delete('/api/media/' + img._id).then(function () {
                  $mdDialog.hide();
                }, handleError);
              }, function () {
                $mdDialog.hide();
              });
            };
            $scope.hide = function () {
              $mdDialog.hide();
            };
            $scope.cancel = function () {
              $mdDialog.cancel();
            };
          }
        }).then(function (answer) {
          $scope.alert = 'You said the information was "' + answer + '".';
        }, function () {
          $scope.alert = 'You cancelled the dialog.';
        });
      };

      this.itemsGrid = [];

      this.mainGridOptions = {
        dataSource: {

          transport: {
            read: function read(options) {
              //options holds the grids current page and filter settings
              var qFinished = {};
              qFinished.where = { $and: [{ 'items.publisheruid': Auth.getCurrentUser().email }, { 'items.endDate': { $lt: Date.now() } }, { 'status': 'Campaign Accepted' }] };
              Campaign.pub.query(qFinished, function (res) {

                for (var j = 0; j < res.length; j++) {
                  var total = 0;
                  var item = res[j];
                  for (var i = 0; i < item.items.length; i++) {

                    var p = item.items[i].price;
                    var q = item.items[i].quantity;
                    total += p * q;
                  }

                  res[j].total = total;
                }

                options.success(res);
                // console.log(res);
              });
            }
          },
          pageSize: 10,
          serverPaging: true,
          serverSorting: true
        },
        toolbar: ['excel', 'pdf'],

        excel: {
          allPages: true,
          proxyURL: "//demos.telerik.com/kendo-ui/service/export",
          fileName: 'Mediabox-campaigns.xlsx',
          filterable: true
        },
        pdf: {
          allPages: true,
          avoidLinks: true,
          paperSize: "A4",
          margin: { top: "2cm", left: "1cm", right: "1cm", bottom: "1cm" },
          landscape: true,
          repeatHeaders: true,
          template: $("#page-template").html(),
          scale: 0.8
        },
        sortable: true,
        pageable: true,

        filterable: true,

        dataBound: function dataBound() {
          this.expandRow(this.tbody.find("tr.k-master-row").first());
        },
        columns: [//{ field: "items[0].advertiser.company", title: "Advertiser" },
        //{ field: "campaignNo", title: "Campaign ID" },
        { field: "campaignName", title: "Campaign Name" }, { field: "created_at", title: "Campaign Date", type: 'datetime', template: "#=  (created_at == null)? '' : kendo.toString(kendo.parseDate(created_at, 'yyyy-MM-dd'), 'MM/dd/yy') #" },
        //{ field: "endDate", title: "End Date",type: 'datetime',template: "#=  (endDate == null)? '' : kendo.toString(kendo.parseDate(endDate, 'yyyy-MM-dd'), 'MM/dd/yy') #" },
        { field: "total", title: "Total", template: function template(dataItem) {
            return "<div></span><span style='display:inline-block;width:75%;text-align:left;white-space:nowrap;'>$ " + dataItem.total + "</span></div>";
          } }, { field: "status", title: "Status" }]
      };

      this.detailGridOptions = function (dataItem) {

        this.dataItem = dataItem;
        this.uCampaign = dataItem;
        console.log(this.dataItem);

        return {
          dataSource: {
            filter: { field: "id", operator: "eq", value: dataItem.id },
            transport: {
              read: function read(options) {
                //options holds the grids current page and filter settings
                var itemsGrid = [];
                var qFinished = {};
                qFinished.where = { $and: [{ 'items.publisheruid': Auth.getCurrentUser().email }, { 'items.endDate': { $lt: Date.now() } }, { 'status': 'Campaign Accepted' }] };
                Campaign.pub.query(qFinished, function (res) {
                  //console.log(res);


                  var totalFinal = 0;
                  var totalCampaign = res.length;

                  for (var j = 0; j < res.length; j++) {
                    var total = 0;

                    var item = res[j];
                    for (var i = 0; i < item.items.length; i++) {

                      var itemGridTemp = {
                        campaignNo: item.campaignNo,
                        id: item._id,
                        advertiser: item.items[i].advertiser,
                        category: item.items[i].category,
                        creative: item.items[i].creative,
                        image: item.items[i].image,
                        messages: item.items[i].messages,
                        mrp: item.items[i].mrp,
                        name: item.items[i].name,
                        price: item.items[i].price,
                        publisher: item.items[i].publisher,
                        quantity: item.items[i].quantity,
                        request: item.items[i].request,
                        size: item.items[i].size,
                        sku: item.items[i].sku,
                        status: item.items[i].status,
                        uid: item.items[i].uid
                      };

                      var p = item.items[i].price;
                      var q = item.items[i].quantity;
                      total += p * q;

                      vm.itemsGrid.push(itemGridTemp);
                    }

                    res[j].total = total;
                  }

                  res.totalFinal = total;

                  var data = [];
                  //console.log(vm.itemsGrid);
                  for (var i = 0; i < vm.itemsGrid.length; i++) {
                    var item = vm.itemsGrid[i];
                    if (item.campaignNo == dataItem.campaignNo) {
                      //alert(item.campaignNo);
                      data.push(item);
                    }

                    options.success(data);
                    console.log(data);

                    vm.data = [];
                  }

                  vm.itemsGrid = [];
                });
              }
            },
            serverPaging: true,
            serverSorting: true,
            serverFiltering: true,
            pageSize: 5,
            filterable: true

          },
          scrollable: false,
          sortable: true,

          pageable: true,
          columns: [
          //{ field: "campaignNo", title:"Campaign #", width: "70px" },
          //{ field: "email", title:"Email", width: "70px" },
          { field: "publisher", title: "Publisher", width: "100px" }, { field: "name", title: "Name", width: "70px" }, { field: "category", title: "Dates", width: "70px" }, {
            field: "price",
            title: "Price",
            width: "50px",

            template: function template(dataItem) {
              return "<div><span style='display:inline-block;width:75%;text-align:left;white-space:nowrap;'>$" + dataItem.price + "</span></div>";
            } }, { field: "quantity", title: "Quantity", width: "50px" }, {
            field: "creative",
            title: "Creative",
            width: "50px",
            template: function template(dataItem) {
              return "<div ng-hide=\"dataItem.creative\">" + "<button  class=\"btn btn-danger\" ng-hide=\"isAdmin()\" ng-click=\"vm.mediaLibrary(dataItem)\" ><i class=\"fa fa-image\"></i><span class=\"glyphicon glyphicon-upload\"></span></button></div>" + "</div>" + "<div ng-show=\"dataItem.creative\">" + "<button  class=\"btn btn-success\" ng-hide=\"isAdmin()\" ng-click=\"vm.imageDetails(dataItem.creative)\" ><i class=\"fa fa-image\"></i><span class=\"glyphicon glyphicon-upload\"></span></button></div>" + "</div>";
              //return "<div> <button  class=\"btn btn-danger\"  ng-click=\"vm.open(cart.items,item,item.creative,'md')\" ><i class=\"fa fa-image\"></i><span class=\"glyphicon glyphicon-upload\"></span></button></div>";
            } },
          //    { 
          //      field: "status.name", 
          //      title: "Status", 
          //      width: "40px" ,
          //      template: function (dataItem) {
          //      return "<div ng-show= \"dataItem.status.val=='305'\" class=\"alert alert-success\"><small>Approved</small></div>"+
          //         // "<div ng-show=\"!dataItem.creative\" class=\"alert alert-danger\" ><small>Needs Creative</small></div>"+
          //          "<div  ng-show = \"dataItem.status.val=='402'\" class=\"alert alert-danger\" ><small>Pending<small></div>"+
          //       "<div  ng-show = \"dataItem.status.val=='300'\" class=\"alert alert-success\" ><small>Ready</small> </div>"+
          //      "<div  ng-show = \"dataItem.status.val=='500'\" class=\"alert alert-danger\" ><small>Rejected</small> </div>"+
          //        "<div  ng-show = \"dataItem.status.val=='309'\" class=\"alert alert-success\" ><small>Completed</small> </div>";
          // } 

          //    },
          {
            title: "Action",
            width: "50px",
            template: function template(dataItem) {
              //return "<div ng-show= \"dataItem.status.val=='305'\"><button class=\"btn-success btn-sm btn-success\" ng-click=\"cart.addItem({sku:dataItem.sku, name:dataItem.name,slug:adspace.formart,mrp:dataItem.mrp, weight:dataItem.maxSize,size:dataItem.size,price:dataItem.price , publisher:dataItem.publisher,uid:dataItem.uid,category:dataItem.category,image:dataItem.image,quantity:1} ,true);\" ng-show=\"checkCart(dataItem.name)\"><i class=\"fa fa-shopping-cart\" ></i></button></div>";
              // return "<button class=\"btn-success btn-sm btn-success\" ng-click=\"goToSite(site)\">Buy</button>";
              return "<div  ng-if = \"dataItem.status.val=='402'\">" + "<select ng-model=\"dataItem.status\" ng-options=\"p.name for p in vm.campaignStatus track by p.val\" ng-change=\"vm.action(dataItem)\" class=\"k-select\" style=\"max-width: 150px\"></select>" + "</div>" + "<div  ng-show = \"!dataItem.status.val=='402'\" >" + "<select ng-model=\"dataItem.status\" ng-options=\"p.name for p in vm.campaignStatusCreativeAdded track by p.val\" ng-change=\"vm.action(o)\" class=\"k-select\"  style=\"max-width: 150px\"></select>" + "</div>";
            } }]
        };
      };
    } //end constructor

    _createClass(CampaignsCompletedController, [{
      key: 'navigate',
      value: function navigate(params) {
        this.$state.go('single-product', { id: params.sku, slug: params.description }, { reload: false });
      }
    }, {
      key: 'getTotal',
      value: function getTotal(item) {
        // console.log(item);
        var total = 0;

        for (var i = 0; i < item.items.length; i++) {

          // items[i].total = 0;

          var p = item.items[i].price;
          var q = item.items[i].quantity;
          total += p * q;
          // var x.sub.push(total);
        }
        // //console.log(total);

        return total;
      }
    }, {
      key: 'action',
      value: function action(items) {

        var newStatus = { name: 'Approved', val: 305 };

        //var updated = _.merge(itemToMergeCampaign,items.itemToMergeItem);
        // method

        if (items) {
          console.log(vm.uCampaign._id);
          //vm.uCampaign.items = [];
          console.log(items);

          Campaign.update({ id: vm.uCampaign._id }, items).$promise.then(function (res) {
            //console.log(res);
            toastr.success("Campaign has been Approved", "Success");
          }, function (error) {
            // error handler
            //console.log(error);
            if (error.data.errors) {
              var err = error.data.errors;
              toastr.error(err[Object.keys(err)].message, err[Object.keys(err)].name);
            } else {
              var msg = error.data.message;
              toastr.error(msg);
            }
          });
        }
      }
    }, {
      key: 'changeStatus',
      value: function changeStatus(campaign) {
        var vm = this;
        var vm = this;
        this.Campaign.update({ id: campaign._id }, campaign).$promise.then(function (res) {}, function (error) {
          // error handler
          if (error.data.errors) {
            vm.Toast.show({
              type: 'error',
              text: error.data.errors.status.message
            });
          } else {
            vm.Toast.show({
              type: 'success',
              text: error.statusText
            });
          }
        });
      }
    }]);

    return CampaignsCompletedController;
  }();

  angular.module('mediaboxApp').controller('CampaignsCompletedController', CampaignsCompletedController);
})();
//# sourceMappingURL=campaignsCompleted.controller.js.map

'use strict';

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

(function () {
  var CampaignsRunningController = function () {
    function CampaignsRunningController(Cart, Country, Auth, PaymentMethod, Shipping, Coupon, Campaign, Toast, Settings, $state, $scope, $loading, Upload, $timeout, $http, socket, $mdDialog) {
      _classCallCheck(this, CampaignsRunningController);

      $loading.start("campaigns");
      var vm = this;
      vm.itemsGrid = [];
      this.campaignStatusLov = Campaign.status;
      this.Campaign = Campaign;
      this.Toast = Toast;
      this.Settings = Settings;
      this.$state = $state;
      this.options = {};
      //this.campaigns = Campaign.query();
      this.campaignStatus = [{ name: '', val: 402 }, { name: 'Approved', val: 305 }, { name: 'Reject', val: 500 }];

      this.campaignStatusCreativeAdded = [{ name: 'Completed', val: 309 }];

      this.campaigns = Campaign.pub.query({}, function (res) {
        var totalCampaign = res.length;

        res.totalCampaign = totalCampaign;
        console.log(totalCampaign);
        $loading.finish("campaigns");

        // }
        // res.total = total;
      });

      vm.mediaLibrary = function (index) {
        $mdDialog.show({
          template: '<md-dialog aria-label="Media Library" ng-cloak flex="95">\n        <md-toolbar class="md-warn">\n          <div class="md-toolbar-tools">\n            <h2>Media Library</h2>\n            <span flex></span>\n            <md-button class="md-icon-button" ng-click="cancel()">\n              <ng-md-icon icon="close" aria-label="Close dialog"></ng-md-icon>\n            </md-button>\n          </div>\n        </md-toolbar>\n\n        <md-dialog-content>\n            <div class="md-dialog-content padding"  class="md-whiteframe-z2">\n                <md-grid-list class="media-list" md-cols-xs ="3" md-cols-sm="4" md-cols-md="5" md-cols-lg="7" md-cols-gt-lg="10" md-row-height-gt-md="1:1" md-row-height="4:3" md-gutter="12px" md-gutter-gt-sm="8px" layout="row" layout-align="center center">\n                  <md-grid-tile ng-repeat="i in media" class="md-whiteframe-z2" ng-click="ok(i.path)">\n                    <div class="thumbnail">\n                        <img ng-src="{{i.path}}" draggable="false" alt="{{i.name}}">\n                    </div>\n                    <md-grid-tile-footer><h3>{{i.name}}</h3></md-grid-tile-footer>\n                  </md-grid-tile>\n                </md-grid-list>\n          </div>\n        </md-dialog-content>\n        <md-dialog-actions layout="row">\n          <span flex></span>\n          <md-button ng-click="addNewImage()" class="md-warn md-raised">\n           Add new Creative\n          </md-button>\n        </md-dialog-actions>\n      </md-dialog>\n',
          controller: function controller($scope, $mdDialog, $http, socket, $state) {
            // Start query the database for the table
            var vm = this;
            $scope.loading = true;
            $http.get('/api/media/').then(function (res) {
              $scope.loading = false;
              $scope.media = res.data;
              socket.syncUpdates('media', $scope.data);
            }, handleError);

            function handleError(error) {
              // error handler
              $scope.loading = false;
              if (error.status === 403) {
                Toast.show({
                  type: 'error',
                  text: 'Not authorised to make changes.'
                });
              } else {
                Toast.show({
                  type: 'error',
                  text: error.status
                });
              }
            }
            $scope.ok = function (path) {
              $mdDialog.hide(path);
            };
            $scope.hide = function () {
              $mdDialog.hide();
            };
            $scope.cancel = function () {
              $mdDialog.cancel();
            };
            $scope.addNewImage = function () {
              $state.go('media');
              //vm.save(vm.product)
              $mdDialog.hide();
            };
          }

        }).then(function (answer) {
          console.log(answer);
          if (index === 1000000) vm.cart.items.push({ size: 'x', creative: answer });else vm.cart.items[index].creative = answer;
        }, function () {});
      };

      vm.imageDetails = function (img) {
        $mdDialog.show({
          template: '\n    <md-dialog aria-label="Image Details Dialog"  ng-cloak>\n  <md-toolbar>\n    <div class="md-toolbar-tools">\n      <h2>Media Details</h2>\n      <span flex></span>\n      <md-button class="md-icon-button" ng-click="cancel()">\n        <ng-md-icon icon="close" aria-label="Close dialog"></ng-md-icon>\n      </md-button>\n    </div>\n  </md-toolbar>\n  <md-dialog-content>\n    <div class="md-dialog-content">\n      <div layout="row" class="md-whiteframe-z2">\n        <div class="flexbox-container">\n          <div>\n            <img ng-src="{{img}}" draggable="false"  class="detail-image"/>\n          </div>\n          </div>\n      </div>\n  </md-dialog-content>\n  <md-dialog-actions layout="row">\n    <span flex></span>\n    <md-button ng-click="delete(img)" class="md-warn">\n     Delete Permanently\n    </md-button>\n  </md-dialog-actions>\n</md-dialog>\n',
          controller: function controller($scope, $mdDialog) {
            $scope.img = img;
            $scope.delete = function (img) {
              var confirm = $mdDialog.confirm().title('Would you like to delete the media permanently?').textContent('Media once deleted can not be undone.').ariaLabel('Delete Media').ok('Please do it!').cancel('Cancel');
              $mdDialog.show(confirm).then(function () {
                $http.delete('/api/media/' + img._id).then(function () {
                  $mdDialog.hide();
                }, handleError);
              }, function () {
                $mdDialog.hide();
              });
            };
            $scope.hide = function () {
              $mdDialog.hide();
            };
            $scope.cancel = function () {
              $mdDialog.cancel();
            };
          }
        }).then(function (answer) {
          $scope.alert = 'You said the information was "' + answer + '".';
        }, function () {
          $scope.alert = 'You cancelled the dialog.';
        });
      };

      this.itemsGrid = [];

      this.mainGridOptions = {
        dataSource: {

          transport: {
            read: function read(options) {
              //options holds the grids current page and filter settings
              var qRunning = {};
              qRunning.where = { $and: [{ 'items.publisheruid': Auth.getCurrentUser().email }, { 'items.startDate': { $lt: Date.now() } }, { 'items.endDate': { $gt: Date.now() } }, { 'status': 'Campaign Accepted' }] };
              Campaign.pub.query(qRunning, function (res) {

                for (var j = 0; j < res.length; j++) {
                  var total = 0;
                  var item = res[j];
                  for (var i = 0; i < item.items.length; i++) {

                    var p = item.items[i].price;
                    var q = item.items[i].quantity;
                    total += p * q;
                  }

                  res[j].total = total;
                }

                options.success(res);
                // console.log(res);
              });
            }
          },
          pageSize: 10,
          serverPaging: true,
          serverSorting: true
        },
        toolbar: ['excel', 'pdf'],

        excel: {
          allPages: true,
          proxyURL: "//demos.telerik.com/kendo-ui/service/export",
          fileName: 'Mediabox-campaigns.xlsx',
          filterable: true
        },
        pdf: {
          allPages: true,
          avoidLinks: true,
          paperSize: "A4",
          margin: { top: "2cm", left: "1cm", right: "1cm", bottom: "1cm" },
          landscape: true,
          repeatHeaders: true,
          template: $("#page-template").html(),
          scale: 0.8
        },
        sortable: true,
        pageable: true,

        filterable: true,

        dataBound: function dataBound() {
          this.expandRow(this.tbody.find("tr.k-master-row").first());
        },
        columns: [//{ field: "items[0].advertiser.company", title: "Advertiser" },
        //{ field: "campaignNo", title: "Campaign ID" },
        { field: "campaignName", title: "Campaign Name" }, { field: "created_at", title: "Campaign Date", type: 'datetime', template: "#=  (created_at == null)? '' : kendo.toString(kendo.parseDate(created_at, 'yyyy-MM-dd'), 'MM/dd/yy') #" },
        //{ field: "endDate", title: "End Date",type: 'datetime',template: "#=  (endDate == null)? '' : kendo.toString(kendo.parseDate(endDate, 'yyyy-MM-dd'), 'MM/dd/yy') #" },
        { field: "total", title: "Total", template: function template(dataItem) {
            return "<div></span><span style='display:inline-block;width:75%;text-align:left;white-space:nowrap;'>$ " + dataItem.total + "</span></div>";
          } }, { field: "status", title: "Status" }]
      };

      this.detailGridOptions = function (dataItem) {

        this.dataItem = dataItem;
        this.uCampaign = dataItem;
        console.log(this.dataItem);

        return {
          dataSource: {
            filter: { field: "id", operator: "eq", value: dataItem.id },
            transport: {
              read: function read(options) {
                //options holds the grids current page and filter settings
                var itemsGrid = [];
                var qRunning = {};
                qRunning.where = { $and: [{ 'items.publisheruid': Auth.getCurrentUser().email }, { 'items.startDate': { $lt: Date.now() } }, { 'items.endDate': { $gt: Date.now() } }, { 'status': 'Campaign Accepted' }] };
                Campaign.pub.query(qRunning, function (res) {
                  //console.log(res);


                  var totalFinal = 0;
                  var totalCampaign = res.length;

                  for (var j = 0; j < res.length; j++) {
                    var total = 0;

                    var item = res[j];
                    for (var i = 0; i < item.items.length; i++) {

                      var itemGridTemp = {
                        campaignNo: item.campaignNo,
                        id: item._id,
                        advertiser: item.items[i].advertiser,
                        category: item.items[i].category,
                        creative: item.items[i].creative,
                        image: item.items[i].image,
                        messages: item.items[i].messages,
                        mrp: item.items[i].mrp,
                        name: item.items[i].name,
                        price: item.items[i].price,
                        publisher: item.items[i].publisher,
                        quantity: item.items[i].quantity,
                        request: item.items[i].request,
                        size: item.items[i].size,
                        sku: item.items[i].sku,
                        status: item.items[i].status,
                        uid: item.items[i].uid
                      };

                      var p = item.items[i].price;
                      var q = item.items[i].quantity;
                      total += p * q;

                      vm.itemsGrid.push(itemGridTemp);
                    }

                    res[j].total = total;
                  }

                  res.totalFinal = total;

                  var data = [];
                  //console.log(vm.itemsGrid);
                  for (var i = 0; i < vm.itemsGrid.length; i++) {
                    var item = vm.itemsGrid[i];
                    if (item.campaignNo == dataItem.campaignNo) {
                      //alert(item.campaignNo);
                      data.push(item);
                    }

                    options.success(data);
                    console.log(data);

                    vm.data = [];
                  }

                  vm.itemsGrid = [];
                });
              }
            },
            serverPaging: true,
            serverSorting: true,
            serverFiltering: true,
            pageSize: 5,
            filterable: true

          },
          scrollable: false,
          sortable: true,

          pageable: true,
          columns: [
          //{ field: "campaignNo", title:"Campaign #", width: "70px" },
          //{ field: "email", title:"Email", width: "70px" },
          { field: "publisher", title: "Publisher", width: "100px" }, { field: "name", title: "Name", width: "70px" }, { field: "category", title: "Dates", width: "70px" }, {
            field: "price",
            title: "Price",
            width: "50px",

            template: function template(dataItem) {
              return "<div><span style='display:inline-block;width:75%;text-align:left;white-space:nowrap;'>$" + dataItem.price + "</span></div>";
            } }, { field: "quantity", title: "Quantity", width: "50px" }, {
            field: "creative",
            title: "Creative",
            width: "50px",
            template: function template(dataItem) {
              return "<div ng-hide=\"dataItem.creative\">" + "<button  class=\"btn btn-danger\" ng-hide=\"isAdmin()\" ng-click=\"vm.mediaLibrary(dataItem)\" ><i class=\"fa fa-image\"></i><span class=\"glyphicon glyphicon-upload\"></span></button></div>" + "</div>" + "<div ng-show=\"dataItem.creative\">" + "<button  class=\"btn btn-success\" ng-hide=\"isAdmin()\" ng-click=\"vm.imageDetails(dataItem.creative)\" ><i class=\"fa fa-image\"></i><span class=\"glyphicon glyphicon-upload\"></span></button></div>" + "</div>";
              //return "<div> <button  class=\"btn btn-danger\"  ng-click=\"vm.open(cart.items,item,item.creative,'md')\" ><i class=\"fa fa-image\"></i><span class=\"glyphicon glyphicon-upload\"></span></button></div>";
            } },
          //    { 
          //      field: "status.name", 
          //      title: "Status", 
          //      width: "40px" ,
          //      template: function (dataItem) {
          //      return "<div ng-show= \"dataItem.status.val=='305'\" class=\"alert alert-success\"><small>Approved</small></div>"+
          //         // "<div ng-show=\"!dataItem.creative\" class=\"alert alert-danger\" ><small>Needs Creative</small></div>"+
          //          "<div  ng-show = \"dataItem.status.val=='402'\" class=\"alert alert-danger\" ><small>Pending<small></div>"+
          //       "<div  ng-show = \"dataItem.status.val=='300'\" class=\"alert alert-success\" ><small>Ready</small> </div>"+
          //      "<div  ng-show = \"dataItem.status.val=='500'\" class=\"alert alert-danger\" ><small>Rejected</small> </div>"+
          //        "<div  ng-show = \"dataItem.status.val=='309'\" class=\"alert alert-success\" ><small>Completed</small> </div>";
          // } 

          //    },
          {
            title: "Action",
            width: "50px",
            template: function template(dataItem) {
              //return "<div ng-show= \"dataItem.status.val=='305'\"><button class=\"btn-success btn-sm btn-success\" ng-click=\"cart.addItem({sku:dataItem.sku, name:dataItem.name,slug:adspace.formart,mrp:dataItem.mrp, weight:dataItem.maxSize,size:dataItem.size,price:dataItem.price , publisher:dataItem.publisher,uid:dataItem.uid,category:dataItem.category,image:dataItem.image,quantity:1} ,true);\" ng-show=\"checkCart(dataItem.name)\"><i class=\"fa fa-shopping-cart\" ></i></button></div>";
              // return "<button class=\"btn-success btn-sm btn-success\" ng-click=\"goToSite(site)\">Buy</button>";
              return "<div  ng-if = \"dataItem.status.val=='402'\">" + "<select ng-model=\"dataItem.status\" ng-options=\"p.name for p in vm.campaignStatus track by p.val\" ng-change=\"vm.action(dataItem)\" class=\"k-select\" style=\"max-width: 150px\"></select>" + "</div>" + "<div  ng-show = \"!dataItem.status.val=='402'\" >" + "<select ng-model=\"dataItem.status\" ng-options=\"p.name for p in vm.campaignStatusCreativeAdded track by p.val\" ng-change=\"vm.action(o)\" class=\"k-select\"  style=\"max-width: 150px\"></select>" + "</div>";
            } }]
        };
      };
    } //end constructor

    _createClass(CampaignsRunningController, [{
      key: 'navigate',
      value: function navigate(params) {
        this.$state.go('single-product', { id: params.sku, slug: params.description }, { reload: false });
      }
    }, {
      key: 'getTotal',
      value: function getTotal(item) {
        // console.log(item);
        var total = 0;

        for (var i = 0; i < item.items.length; i++) {

          // items[i].total = 0;

          var p = item.items[i].price;
          var q = item.items[i].quantity;
          total += p * q;
          // var x.sub.push(total);
        }
        // //console.log(total);

        return total;
      }
    }, {
      key: 'action',
      value: function action(items) {

        var newStatus = { name: 'Approved', val: 305 };

        //var updated = _.merge(itemToMergeCampaign,items.itemToMergeItem);
        // method

        if (items) {
          console.log(vm.uCampaign._id);
          //vm.uCampaign.items = [];
          console.log(items);

          Campaign.update({ id: vm.uCampaign._id }, items).$promise.then(function (res) {
            //console.log(res);
            toastr.success("Campaign has been Approved", "Success");
          }, function (error) {
            // error handler
            //console.log(error);
            if (error.data.errors) {
              var err = error.data.errors;
              toastr.error(err[Object.keys(err)].message, err[Object.keys(err)].name);
            } else {
              var msg = error.data.message;
              toastr.error(msg);
            }
          });
        }
      }
    }, {
      key: 'changeStatus',
      value: function changeStatus(campaign) {
        var vm = this;
        var vm = this;
        this.Campaign.update({ id: campaign._id }, campaign).$promise.then(function (res) {}, function (error) {
          // error handler
          if (error.data.errors) {
            vm.Toast.show({
              type: 'error',
              text: error.data.errors.status.message
            });
          } else {
            vm.Toast.show({
              type: 'success',
              text: error.statusText
            });
          }
        });
      }
    }]);

    return CampaignsRunningController;
  }();

  angular.module('mediaboxApp').controller('CampaignsRunningController', CampaignsRunningController);
})();
//# sourceMappingURL=campaignsRunning.controller.js.map

'use strict';

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

(function () {
  var CampaignsScheduledController = function () {
    function CampaignsScheduledController(Cart, Country, Auth, PaymentMethod, Shipping, Coupon, Campaign, Toast, Settings, $state, $scope, $loading, Upload, $timeout, $http, socket, $mdDialog) {
      _classCallCheck(this, CampaignsScheduledController);

      $loading.start("campaigns");
      var vm = this;
      vm.itemsGrid = [];
      this.campaignStatusLov = Campaign.status;
      this.Campaign = Campaign;
      this.Toast = Toast;
      this.Settings = Settings;
      this.$state = $state;
      this.options = {};
      //this.campaigns = Campaign.query();
      this.campaignStatus = [{ name: '', val: 402 }, { name: 'Approved', val: 305 }, { name: 'Reject', val: 500 }];

      this.campaignStatusCreativeAdded = [{ name: 'Completed', val: 309 }];

      this.campaigns = Campaign.pub.query({}, function (res) {
        var totalCampaign = res.length;

        res.totalCampaign = totalCampaign;
        console.log(totalCampaign);
        $loading.finish("campaigns");

        // }
        // res.total = total;
      });

      vm.mediaLibrary = function (index) {
        $mdDialog.show({
          template: '<md-dialog aria-label="Media Library" ng-cloak flex="95">\n        <md-toolbar class="md-warn">\n          <div class="md-toolbar-tools">\n            <h2>Media Library</h2>\n            <span flex></span>\n            <md-button class="md-icon-button" ng-click="cancel()">\n              <ng-md-icon icon="close" aria-label="Close dialog"></ng-md-icon>\n            </md-button>\n          </div>\n        </md-toolbar>\n\n        <md-dialog-content>\n            <div class="md-dialog-content padding"  class="md-whiteframe-z2">\n                <md-grid-list class="media-list" md-cols-xs ="3" md-cols-sm="4" md-cols-md="5" md-cols-lg="7" md-cols-gt-lg="10" md-row-height-gt-md="1:1" md-row-height="4:3" md-gutter="12px" md-gutter-gt-sm="8px" layout="row" layout-align="center center">\n                  <md-grid-tile ng-repeat="i in media" class="md-whiteframe-z2" ng-click="ok(i.path)">\n                    <div class="thumbnail">\n                        <img ng-src="{{i.path}}" draggable="false" alt="{{i.name}}">\n                    </div>\n                    <md-grid-tile-footer><h3>{{i.name}}</h3></md-grid-tile-footer>\n                  </md-grid-tile>\n                </md-grid-list>\n          </div>\n        </md-dialog-content>\n        <md-dialog-actions layout="row">\n          <span flex></span>\n          <md-button ng-click="addNewImage()" class="md-warn md-raised">\n           Add new Creative\n          </md-button>\n        </md-dialog-actions>\n      </md-dialog>\n',
          controller: function controller($scope, $mdDialog, $http, socket, $state) {
            // Start query the database for the table
            var vm = this;
            $scope.loading = true;
            $http.get('/api/media/').then(function (res) {
              $scope.loading = false;
              $scope.media = res.data;
              socket.syncUpdates('media', $scope.data);
            }, handleError);

            function handleError(error) {
              // error handler
              $scope.loading = false;
              if (error.status === 403) {
                Toast.show({
                  type: 'error',
                  text: 'Not authorised to make changes.'
                });
              } else {
                Toast.show({
                  type: 'error',
                  text: error.status
                });
              }
            }
            $scope.ok = function (path) {
              $mdDialog.hide(path);
            };
            $scope.hide = function () {
              $mdDialog.hide();
            };
            $scope.cancel = function () {
              $mdDialog.cancel();
            };
            $scope.addNewImage = function () {
              $state.go('media');
              //vm.save(vm.product)
              $mdDialog.hide();
            };
          }

        }).then(function (answer) {
          console.log(answer);
          if (index === 1000000) vm.cart.items.push({ size: 'x', creative: answer });else vm.cart.items[index].creative = answer;
        }, function () {});
      };

      vm.imageDetails = function (img) {
        $mdDialog.show({
          template: '\n    <md-dialog aria-label="Image Details Dialog"  ng-cloak>\n  <md-toolbar>\n    <div class="md-toolbar-tools">\n      <h2>Media Details</h2>\n      <span flex></span>\n      <md-button class="md-icon-button" ng-click="cancel()">\n        <ng-md-icon icon="close" aria-label="Close dialog"></ng-md-icon>\n      </md-button>\n    </div>\n  </md-toolbar>\n  <md-dialog-content>\n    <div class="md-dialog-content">\n      <div layout="row" class="md-whiteframe-z2">\n        <div class="flexbox-container">\n          <div>\n            <img ng-src="{{img}}" draggable="false"  class="detail-image"/>\n          </div>\n          </div>\n      </div>\n  </md-dialog-content>\n  <md-dialog-actions layout="row">\n    <span flex></span>\n    <md-button ng-click="delete(img)" class="md-warn">\n     Delete Permanently\n    </md-button>\n  </md-dialog-actions>\n</md-dialog>\n',
          controller: function controller($scope, $mdDialog) {
            $scope.img = img;
            $scope.delete = function (img) {
              var confirm = $mdDialog.confirm().title('Would you like to delete the media permanently?').textContent('Media once deleted can not be undone.').ariaLabel('Delete Media').ok('Please do it!').cancel('Cancel');
              $mdDialog.show(confirm).then(function () {
                $http.delete('/api/media/' + img._id).then(function () {
                  $mdDialog.hide();
                }, handleError);
              }, function () {
                $mdDialog.hide();
              });
            };
            $scope.hide = function () {
              $mdDialog.hide();
            };
            $scope.cancel = function () {
              $mdDialog.cancel();
            };
          }
        }).then(function (answer) {
          $scope.alert = 'You said the information was "' + answer + '".';
        }, function () {
          $scope.alert = 'You cancelled the dialog.';
        });
      };

      this.itemsGrid = [];

      this.mainGridOptions = {
        dataSource: {

          transport: {
            read: function read(options) {
              //options holds the grids current page and filter settings
              var qScheduled = {};
              qScheduled.where = { $and: [{ 'items.publisheruid': Auth.getCurrentUser().email }, { 'items.startDate': { $gt: Date.now() } }, { 'status': 'Campaign Accepted' }] };
              Campaign.pub.query(qScheduled, function (res) {

                for (var j = 0; j < res.length; j++) {
                  var total = 0;
                  var item = res[j];
                  for (var i = 0; i < item.items.length; i++) {

                    var p = item.items[i].price;
                    var q = item.items[i].quantity;
                    total += p * q;
                  }

                  res[j].total = total;
                }

                options.success(res);
                // console.log(res);
              });
            }
          },
          pageSize: 10,
          serverPaging: true,
          serverSorting: true
        },
        toolbar: ['excel', 'pdf'],

        excel: {
          allPages: true,
          proxyURL: "//demos.telerik.com/kendo-ui/service/export",
          fileName: 'Mediabox-campaigns.xlsx',
          filterable: true
        },
        pdf: {
          allPages: true,
          avoidLinks: true,
          paperSize: "A4",
          margin: { top: "2cm", left: "1cm", right: "1cm", bottom: "1cm" },
          landscape: true,
          repeatHeaders: true,
          template: $("#page-template").html(),
          scale: 0.8
        },
        sortable: true,
        pageable: true,

        filterable: true,

        dataBound: function dataBound() {
          this.expandRow(this.tbody.find("tr.k-master-row").first());
        },
        columns: [//{ field: "items[0].advertiser.company", title: "Advertiser" },
        //{ field: "campaignNo", title: "Campaign ID" },
        { field: "campaignName", title: "Campaign Name" }, { field: "created_at", title: "Campaign Date", type: 'datetime', template: "#=  (created_at == null)? '' : kendo.toString(kendo.parseDate(created_at, 'yyyy-MM-dd'), 'MM/dd/yy') #" },
        //{ field: "endDate", title: "End Date",type: 'datetime',template: "#=  (endDate == null)? '' : kendo.toString(kendo.parseDate(endDate, 'yyyy-MM-dd'), 'MM/dd/yy') #" },
        { field: "total", title: "Total", template: function template(dataItem) {
            return "<div></span><span style='display:inline-block;width:75%;text-align:left;white-space:nowrap;'>$ " + dataItem.total + "</span></div>";
          } },
        /// { field: "status", title: "Status" },
        { field: "status", title: "Status", template: function template(dataItem) {
            return " <span class=\"md-subhead\"><md-select ng-model=\"dataItem.status\"  ng-change=\"vm.changeStatus(dataItem)\" flex><md-option ng-value=\"o\" ng-repeat=\"o in vm.Settings.campaignStatus\">{{o}}</md-option></md-select></span>";
            // return "<div  ng-if = \"dataItem.status =='Campaign Placed'\">"+
            //  "<md-select ng-model=\"dataItem.status\" value=\"dataItem.status\" ng-options=\"p.name for p in vm.campaignStatus track by p.val\" ng-change=\"vm.action(dataItem)\" class=\"k-select\" style=\"max-width: 150px\"></md-select>"+
            //   "</div>"+

            //  "<div  ng-show = \"!dataItem.status.val=='402'\" >"+
            //  "<select ng-model=\"dataItem.status\" ng-options=\"p.name for p in vm.campaignStatusCreativeAdded track by p.val\" ng-change=\"vm.action(o)\" class=\"k-select\"  style=\"max-width: 150px\"></select>"+
            //  "</div>"; 
          } }]
      };

      this.detailGridOptions = function (dataItem) {

        this.dataItem = dataItem;
        this.uCampaign = dataItem;
        console.log(this.dataItem);

        return {
          dataSource: {
            filter: { field: "id", operator: "eq", value: dataItem.id },
            transport: {
              read: function read(options) {
                //options holds the grids current page and filter settings
                var itemsGrid = [];
                var qScheduled = {};
                qScheduled.where = { $and: [{ 'items.publisheruid': Auth.getCurrentUser().email }, { 'items.startDate': { $gt: Date.now() } }, { 'status': 'Campaign Accepted' }] };
                Campaign.pub.query(qScheduled, function (res) {

                  var totalFinal = 0;
                  var totalCampaign = res.length;

                  for (var j = 0; j < res.length; j++) {
                    var total = 0;

                    var item = res[j];
                    for (var i = 0; i < item.items.length; i++) {

                      var itemGridTemp = {
                        campaignNo: item.campaignNo,
                        id: item._id,
                        advertiser: item.items[i].advertiser,
                        category: item.items[i].category,
                        creative: item.items[i].creative,
                        image: item.items[i].image,
                        messages: item.items[i].messages,
                        mrp: item.items[i].mrp,
                        name: item.items[i].name,
                        price: item.items[i].price,
                        publisher: item.items[i].publisher,
                        quantity: item.items[i].quantity,
                        request: item.items[i].request,
                        size: item.items[i].size,
                        sku: item.items[i].sku,
                        status: item.items[i].status,
                        uid: item.items[i].uid
                      };

                      var p = item.items[i].price;
                      var q = item.items[i].quantity;
                      total += p * q;

                      vm.itemsGrid.push(itemGridTemp);
                    }

                    res[j].total = total;
                  }

                  res.totalFinal = total;

                  var data = [];
                  //console.log(vm.itemsGrid);
                  for (var i = 0; i < vm.itemsGrid.length; i++) {
                    var item = vm.itemsGrid[i];
                    if (item.campaignNo == dataItem.campaignNo) {
                      //alert(item.campaignNo);
                      data.push(item);
                    }

                    options.success(data);
                    console.log(data);

                    vm.data = [];
                  }

                  vm.itemsGrid = [];
                });
              }
            },
            serverPaging: true,
            serverSorting: true,
            serverFiltering: true,
            pageSize: 5,
            filterable: true

          },
          scrollable: false,
          sortable: true,

          pageable: true,
          columns: [
          //{ field: "campaignNo", title:"Campaign #", width: "70px" },
          //{ field: "email", title:"Email", width: "70px" },
          { field: "publisher", title: "Publisher", width: "100px" }, { field: "name", title: "Name", width: "70px" }, { field: "category", title: "Dates", width: "70px" }, {
            field: "price",
            title: "Price",
            width: "50px",

            template: function template(dataItem) {
              return "<div><span style='display:inline-block;width:75%;text-align:left;white-space:nowrap;'>$" + dataItem.price + "</span></div>";
            } }, { field: "quantity", title: "Quantity", width: "50px" }, {
            field: "creative",
            title: "Creative",
            width: "50px",
            template: function template(dataItem) {
              return "<div ng-hide=\"dataItem.creative\">" + "<button  class=\"btn btn-danger\" ng-hide=\"isAdmin()\" ng-click=\"vm.mediaLibrary(dataItem)\" ><i class=\"fa fa-image\"></i><span class=\"glyphicon glyphicon-upload\"></span></button></div>" + "</div>" + "<div ng-show=\"dataItem.creative\">" + "<button  class=\"btn btn-success\" ng-hide=\"isAdmin()\" ng-click=\"vm.imageDetails(dataItem.creative)\" ><i class=\"fa fa-image\"></i><span class=\"glyphicon glyphicon-upload\"></span></button></div>" + "</div>";
              //return "<div> <button  class=\"btn btn-danger\"  ng-click=\"vm.open(cart.items,item,item.creative,'md')\" ><i class=\"fa fa-image\"></i><span class=\"glyphicon glyphicon-upload\"></span></button></div>";
            } },
          //    { 
          //      field: "status.name", 
          //      title: "Status", 
          //      width: "40px" ,
          //      template: function (dataItem) {
          //      return "<div ng-show= \"dataItem.status.val=='305'\" class=\"alert alert-success\"><small>Approved</small></div>"+
          //         // "<div ng-show=\"!dataItem.creative\" class=\"alert alert-danger\" ><small>Needs Creative</small></div>"+
          //          "<div  ng-show = \"dataItem.status.val=='402'\" class=\"alert alert-danger\" ><small>Pending<small></div>"+
          //       "<div  ng-show = \"dataItem.status.val=='300'\" class=\"alert alert-success\" ><small>Ready</small> </div>"+
          //      "<div  ng-show = \"dataItem.status.val=='500'\" class=\"alert alert-danger\" ><small>Rejected</small> </div>"+
          //        "<div  ng-show = \"dataItem.status.val=='309'\" class=\"alert alert-success\" ><small>Completed</small> </div>";
          // } 

          //    },
          {
            title: "Action",
            width: "50px",
            template: function template(dataItem) {
              //return "<div ng-show= \"dataItem.status.val=='305'\"><button class=\"btn-success btn-sm btn-success\" ng-click=\"cart.addItem({sku:dataItem.sku, name:dataItem.name,slug:adspace.formart,mrp:dataItem.mrp, weight:dataItem.maxSize,size:dataItem.size,price:dataItem.price , publisher:dataItem.publisher,uid:dataItem.uid,category:dataItem.category,image:dataItem.image,quantity:1} ,true);\" ng-show=\"checkCart(dataItem.name)\"><i class=\"fa fa-shopping-cart\" ></i></button></div>";
              // return "<button class=\"btn-success btn-sm btn-success\" ng-click=\"goToSite(site)\">Buy</button>";
              return "<div  ng-if = \"dataItem.status.val=='402'\">" + "<select ng-model=\"dataItem.status\" ng-options=\"p.name for p in vm.campaignStatus track by p.val\" ng-change=\"vm.action(dataItem)\" class=\"k-select\" style=\"max-width: 150px\"></select>" + "</div>" + "<div  ng-show = \"!dataItem.status.val=='402'\" >" + "<select ng-model=\"dataItem.status\" ng-options=\"p.name for p in vm.campaignStatusCreativeAdded track by p.val\" ng-change=\"vm.action(o)\" class=\"k-select\"  style=\"max-width: 150px\"></select>" + "</div>";
            } }]
        };
      };
    } //end constructor

    _createClass(CampaignsScheduledController, [{
      key: 'navigate',
      value: function navigate(params) {
        this.$state.go('single-product', { id: params.sku, slug: params.description }, { reload: false });
      }
    }, {
      key: 'getTotal',
      value: function getTotal(item) {
        // console.log(item);
        var total = 0;

        for (var i = 0; i < item.items.length; i++) {

          // items[i].total = 0;

          var p = item.items[i].price;
          var q = item.items[i].quantity;
          total += p * q;
          // var x.sub.push(total);
        }
        // //console.log(total);

        return total;
      }
    }, {
      key: 'action',
      value: function action(items) {

        var newStatus = { name: 'Approved', val: 305 };

        //var updated = _.merge(itemToMergeCampaign,items.itemToMergeItem);
        // method

        if (items) {
          console.log(vm.uCampaign._id);
          //vm.uCampaign.items = [];
          console.log(items);

          Campaign.update({ id: vm.uCampaign._id }, items).$promise.then(function (res) {
            //console.log(res);
            toastr.success("Campaign has been Approved", "Success");
          }, function (error) {
            // error handler
            //console.log(error);
            if (error.data.errors) {
              var err = error.data.errors;
              toastr.error(err[Object.keys(err)].message, err[Object.keys(err)].name);
            } else {
              var msg = error.data.message;
              toastr.error(msg);
            }
          });
        }
      }
    }, {
      key: 'changeStatus',
      value: function changeStatus(campaign) {
        var vm = this;
        var vm = this;
        this.Campaign.update({ id: campaign._id }, campaign).$promise.then(function (res) {}, function (error) {
          // error handler
          if (error.data.errors) {
            vm.Toast.show({
              type: 'error',
              text: error.data.errors.status.message
            });
          } else {
            vm.Toast.show({
              type: 'success',
              text: error.statusText
            });
          }
        });
      }
    }]);

    return CampaignsScheduledController;
  }();

  angular.module('mediaboxApp').controller('CampaignsScheduledController', CampaignsScheduledController);
})();
//# sourceMappingURL=campaignsScheduled.controller.js.map

'use strict';

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

(function () {
  var CartController = function CartController(ToggleComponent, $filter, Media, Auth, Toast, Campaign, Settings, Cart, SweetAlert, Category, Brand, Product, $state, $stateParams, $mdMedia, $mdDialog) {
    _classCallCheck(this, CartController);

    var vm = this;

    /* autocomplete */
    vm.simulateQuery = true;
    vm.querySearch = querySearch;
    vm.selectedItemChange = selectedItemChange;
    vm.searchTextChange = searchTextChange;
    vm.products = [];
    vm.product = {};
    vm.product.variants = [];
    vm.cart = Cart.cart;
    vm.Settings = Settings;
    vm.$mdMedia = $mdMedia;
    vm.$filter = $filter;
    vm.Media = Media;
    this.Media = Media;
    vm.Toast = Toast;

    console.log(vm.cart);
    // var productId = localStorage !== null ? localStorage.productId : null;

    if ($stateParams.search) // When searched print the search text inside search textbox 
      vm.searchText = $stateParams.name;

    vm.cart.getBestShipper().$promise.then(function (data) {
      vm.shipping = data[0];
      vm.totalPriceAfterShipping = vm.cartTotal + data[0].charge;
    });

    vm.mediaLibrary = function (index) {
      $mdDialog.show({
        template: '<md-dialog aria-label="Media Library" ng-cloak flex="95">\n        <md-toolbar class="md-warn">\n          <div class="md-toolbar-tools">\n            <h2>Media Library</h2>\n            <span flex></span>\n            <md-button class="md-icon-button" ng-click="cancel()">\n              <ng-md-icon icon="close" aria-label="Close dialog"></ng-md-icon>\n            </md-button>\n          </div>\n        </md-toolbar>\n\n        <md-dialog-content>\n            <div class="md-dialog-content"  class="md-whiteframe-z2">\n                <md-grid-list class="media-list" md-cols-xs ="3" md-cols-sm="4" md-cols-md="5" md-cols-lg="7" md-cols-gt-lg="10" md-row-height-gt-md="1:1" md-row-height="4:3" md-gutter="12px" md-gutter-gt-sm="8px" layout="row" layout-align="center center">\n                  <md-grid-tile ng-repeat="i in media" class="md-whiteframe-z2" ng-click="ok(i.path)">\n                    <div class="thumbnail">\n                        <img ng-src="{{i.path}}" draggable="false" alt="{{i.name}}">\n                    </div>\n                    <md-grid-tile-footer><h3>{{i.name}}</h3></md-grid-tile-footer>\n                  </md-grid-tile>\n                </md-grid-list>\n          </div>\n        </md-dialog-content>\n        <md-dialog-actions layout="row">\n          <span flex></span>\n          <md-button ng-click="addNewImage()" class="md-warn md-raised">\n           Add new Image\n          </md-button>\n        </md-dialog-actions>\n      </md-dialog>\n',
        controller: function controller($scope, $mdDialog, $http, socket, $state) {
          // Start query the database for the table
          var vm = this;
          $scope.loading = true;
          $http.get('/api/media/').then(function (res) {
            $scope.loading = false;
            $scope.media = res.data;
            socket.syncUpdates('media', $scope.data);
          }, handleError);

          function handleError(error) {
            // error handler
            $scope.loading = false;
            if (error.status === 403) {
              Toast.show({
                type: 'error',
                text: 'Not authorised to make changes.'
              });
            } else {
              Toast.show({
                type: 'error',
                text: error.status
              });
            }
          }
          $scope.ok = function (path) {
            $mdDialog.hide(path);
          };
          $scope.hide = function () {
            $mdDialog.hide();
          };
          $scope.cancel = function () {
            $mdDialog.cancel();
          };
          $scope.addNewImage = function () {
            $state.go('media');
            //vm.save(vm.product)
            $mdDialog.hide();
          };
        }

      }).then(function (answer) {
        console.log(answer);
        if (index === 1000000) vm.cart.items.push({ size: 'x', creative: answer });else vm.cart.items[index].creative = answer;
      }, function () {});
    };

    function querySearch(input) {
      var data = [];
      if (input) {
        input = input.toLowerCase();
        data = Product.query({ where: { nameLower: { '$regex': input }, active: true }, limit: 10, skip: 0, select: { id: 1, name: 1, slug: 1, 'variants.image': 1 } });
      }
      return data;
    }

    function selectedItemChange(item) {
      $state.go('single-product', { id: item._id, slug: item.slug, search: true, name: item.name }, { reload: false });
    }
    function searchTextChange() {}
    /**
     * Create filter function for a query string
     */

    vm.isLoggedIn = Auth.isLoggedIn;
    vm.openFilter = function () {
      ToggleComponent('filtermenu').open();
    };
    vm.openCart = function () {
      ToggleComponent('cart').open();
      vm.cart.getBestShipper().$promise.then(function (data) {
        vm.shipping = data[0];
        vm.totalPriceAfterShipping = vm.cartTotal + data[0].charge;
      });
    };
    var originatorEv;
    vm.openMenu = function ($mdOpenMenu, ev) {
      originatorEv = ev;
      $mdOpenMenu(ev);
    };

    vm.menu = [{
      'title': 'Home',
      'link': '/'
    }];

    vm.brands = Brand.query({ active: true });

    vm.isCollapsed = true;
    vm.isCollapsed1 = true;
    vm.getCurrentUser = Auth.getCurrentUser;

    vm.gotoDetail = function (params) {
      $state.go('single-product', { id: params.sku, slug: params.slug }, { reload: false });
    };

    vm.createCampaign = function (cart) {

      for (var i = 0; i < cart.items.length; i++) {
        cart.items[i];
        var dateArray = cart.items[i].category.split('-');
        cart.items[i].startDate = dateArray[0];
        cart.items[i].endDate = dateArray[1];
      }

      console.log(cart);

      var newCampaign = {
        campaignNo: cart.campaignNo,
        cartName: cart.campaignName,
        skuArray: cart.skuArray,
        totalWeight: cart.totalWeight,
        taxRate: cart.taxRate,
        tax: cart.tax,
        campaignName: cart.campaignName,
        objective: cart.objective,
        startDate: cart.startDate,
        endDate: cart.endDate,
        products: cart.products,
        totalSpend: cart.totalSpend,
        spendStats: cart.spendStats,
        shipping: cart.shipping,
        age: cart.age,
        uid: cart.uid,
        income: cart.income,
        items: cart.items

      };

      console.log(newCampaign);

      if (cart.campaignName == "") {

        swal('Oops...', 'Campaign name is required!', 'error');
      } else {

        var mytable = "<table class=\"table table-striped table-responsive\">" + "<tr>" + "<td class=\"col-sm-4\" style=\"text-align:left\">Publisher</td>" + "<td class=\"col-sm-6\" style=\"text-align:left\">Ad Space</td>" +
        //"<td class=\"col-sm-3\" style=\"text-align:left\">Dates</td>"+
        "<td class=\"col-sm-1\" style=\"text-align:left\">Price</td>" + "<td class=\"col-sm-1\" style=\"text-align:left\">Inserts</td>" + "</tr></tbody>";

        for (var i = 0; i < cart.items.length; i++) {

          mytable += "<tr><td class=\"col-sm-4\" style=\"text-align:left\">" + cart.items[i].publisher + "</td>" + "<td class=\"col-sm-6\" style=\"text-align:left\">" + cart.items[i].name + "</td>" +
          // "<td class=\"col-sm-3\" style=\"text-align:left\">"+cart.items[i].category+"</td>"+
          "<td class=\"col-sm-1\" style=\"text-align:left\">" + vm.Settings.currency.symbol + parseFloat(cart.items[i].price) + "</td>" + "<td class=\"col-sm-1\" style=\"text-align:left\">" + cart.items[i].quantity + "</td>" + "</tr>";
        }

        mytable += "<tr>" + "<td class=\"col-sm-2\" style=\"text-align:left\">SubTotal</td>" + "<td class=\"col-sm-4\" style=\"text-align:left\">" + vm.Settings.currency.symbol + parseFloat(cart.getTotalPrice()) + "</td>" + "<td class=\"col-sm-4\" style=\"text-align:left\">&nbsp;</td>" + "<td class=\"col-sm-1\" style=\"text-align:left\">&nbsp;</td>" + "<td class=\"col-sm-1\" style=\"text-align:left\">&nbsp;</td></tr>";

        mytable += "</tbody></table>";

        swal({
          title: 'Confirm to continue',
          text: "A proposal will be send to the publisher(s)!",
          type: 'warning',
          html: mytable,
          width: '600px',
          showCancelButton: true,
          confirmButtonColor: '#3085d6',
          cancelButtonColor: '#d33',
          confirmButtonText: 'Yes, Continue!',
          cancelButtonText: 'No, cancel!',
          confirmButtonClass: 'btn btn-success',
          cancelButtonClass: 'btn btn-danger',
          buttonsStyling: false
        }).then(function (vm) {
          setTimeout(function (vm) {

            swal("proposal Send!", "Your proposal has been send ,you will get response from the publisher within 7 working days!", "success");

            var vm = this;
            Campaign.save(newCampaign).$promise.then(function (res) {

              var vm = this;
              for (var i = 0; i < newCampaign.items.length; i++) {
                var vm = this;
                var item = newCampaign.items[i];

                console.log(item);

                Media.update({ id: item.creative }, { pub: item.uid }).$promise.then(function (res) {}, function (error) {
                  // error handler
                  // 
                  console.log(error);
                  if (error.data.errors.status.message == 'not found') {
                    Toast.show({
                      type: 'error',
                      text: "Creative not found"
                    });
                  } else if (error.data.errors) {
                    Toast.show({
                      type: 'error',
                      text: error.data.errors.status.message
                    });
                  } else {
                    Toast.show({
                      type: 'success',
                      text: error.statusText
                    });
                  }
                });
              }

              $state.go('campaign');
            });
          }, 2000);
        }, function (dismiss) {
          // dismiss can be 'cancel', 'overlay',
          // 'close', and 'timer'
          if (dismiss === 'cancel') {
            swal("Cancelled", "Process cancelled :)", "error");
          }
        });
      }
    };

    vm.getQuantity = function (sku) {
      for (var i = 0; i < vm.cart.items.length; i++) {
        if (vm.cart.items[i].sku === sku) {
          return vm.cart.items[i].quantity;
        }
      }
    };

    vm.getQuantity = function (sku) {
      for (var i = 0; i < vm.cart.items.length; i++) {
        if (vm.cart.items[i].sku === sku) {
          return vm.cart.items[i].quantity;
        }
      }
    };
    vm.toggle = function (item, list) {
      //   console.log(item,list);
      if (angular.isUndefined(list)) list = [];
      var idx = list.indexOf(item);
      if (idx > -1) list.splice(idx, 1);else list.push(item);
      vm.filter();
    };

    vm.categories = Category.loaded.query();

    console.log(vm.categories);

    vm.close = function () {
      ToggleComponent('cart').close();
    };
  };

  angular.module('mediaboxApp').controller('CartController', CartController);
})();
//# sourceMappingURL=cart.controller.js.map

'use strict';

angular.module('mediaboxApp').config(function ($stateProvider) {
  $stateProvider.state('cart', {
    url: '/cart',
    templateUrl: 'app/cart/cart.html',
    controller: 'CartController as cart',
    authenticate: true
  });
});
//# sourceMappingURL=cart.js.map

'use strict';

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

(function () {
  var CategoryComponent = function CategoryComponent(Modal) {
    _classCallCheck(this, CategoryComponent);

    this.message = 'Hello';
  };

  angular.module('mediaboxApp').component('category', {
    templateUrl: 'app/category/category.html',
    controller: CategoryComponent
  });
})();
//# sourceMappingURL=category.controller.js.map

'use strict';

// angular.module('mediaboxApp')
//   .config(function ($stateProvider) {
//     $stateProvider
//       .state('category', {
//         url: '/category',
//         template: '<category></category>'
//       });
//   });


angular.module('mediaboxApp').config(function ($stateProvider) {
  $stateProvider.state('category', {
    url: '/category',
    params: { options: null, columns: null },
    views: {
      '': {
        templateUrl: 'app/category/main.html',
        controller: 'CategoriesMainController as main'
      },
      'content@category': {
        url: '/content',
        templateUrl: 'app/category/list.html',
        controller: 'CategoriesListController as list'
      }
    },
    authenticate: 'manager'
  }).state('category-detail', {
    url: '/category-detail/:id',
    onEnter: onEnterUserListDetail, // To open right sidebar
    params: { category: null, categories: null, brands: null, features: null },
    parent: 'category',
    views: {
      '': {
        templateUrl: 'app/category/main.html'
      },
      'detail': {
        templateUrl: 'app/category/detail.html',
        controller: 'CategoriesDetailController as detail'
      }
    },
    authenticate: 'manager'
  }).state('categories-create', {
    url: '/categories-create',
    parent: 'categories',
    params: { data: null },
    views: {
      '': {}
    },
    authenticate: 'manager'
  });
  function resolveIdFromArray($stateParams) {
    return { '_id': $stateParams.id, 'api': $stateParams.api };
  }

  onEnterUserListDetail.$inject = ['$timeout', 'ToggleComponent'];

  function onEnterUserListDetail($timeout, ToggleComponent) {
    $timeout(showDetails, 0, false);

    function showDetails() {
      ToggleComponent('categories.detailView').open();
    }
  }
});
//# sourceMappingURL=category.js.map

'use strict';

(function () {

  function CategoriesDetailController($http, $state, Toast, $stateParams, ToggleComponent, Settings, $mdDialog, socket) {
    var vm = this;
    vm.myDate = new Date();
    vm.header = 'cat';
    vm.cat = {};
    vm.options = {};
    vm.cat.subcat = [];
    vm.cat.newSubCat = {};
    vm.cat.features = [];
    vm.cat.keyFeatures = [];
    vm.unsavedCategory = $stateParams.categories;
    vm.category = angular.copy($stateParams.categories);
    vm.options.categories = angular.copy($stateParams.categories);

    vm.mediaLibrary = function (index) {
      $mdDialog.show({
        template: '<md-dialog aria-label="Media Library" ng-cloak flex="95">\n        <md-toolbar class="md-warn">\n          <div class="md-toolbar-tools">\n            <h2>Media Library</h2>\n            <span flex></span>\n            <md-button class="md-icon-button" ng-click="cancel()">\n              <ng-md-icon icon="close" aria-label="Close dialog"></ng-md-icon>\n            </md-button>\n          </div>\n        </md-toolbar>\n\n        <md-dialog-content>\n            <div class="md-dialog-content"  class="md-whiteframe-z2">\n                <md-grid-list class="media-list" md-cols-xs ="3" md-cols-sm="4" md-cols-md="5" md-cols-lg="7" md-cols-gt-lg="10" md-row-height-gt-md="1:1" md-row-height="4:3" md-gutter="12px" md-gutter-gt-sm="8px" layout="row" layout-align="center center">\n                  <md-grid-tile ng-repeat="i in media" class="md-whiteframe-z2" ng-click="ok(i.path)">\n                \t\t<div class="thumbnail">\n                \t\t\t\t<img ng-src="{{i.path}}" draggable="false" alt="{{i.name}}">\n                \t\t</div>\n                    <md-grid-tile-footer><h3>{{i.name}}</h3></md-grid-tile-footer>\n                  </md-grid-tile>\n                </md-grid-list>\n          </div>\n        </md-dialog-content>\n        <md-dialog-actions layout="row">\n          <span flex></span>\n          <md-button ng-click="addNewImage()" class="md-warn md-raised">\n           Add new Image\n          </md-button>\n        </md-dialog-actions>\n      </md-dialog>\n',
        controller: function controller($scope, $mdDialog, $http, socket, $state) {
          function handleError(error) {
            // error handler
            $scope.loading = false;
            if (error.status === 403) {
              Toast.show({
                type: 'error',
                text: 'Not authorised to make changes.'
              });
            } else {
              Toast.show({
                type: 'error',
                text: error.status
              });
            }
          }

          // Start query the database for the table
          $scope.loading = true;
          $http.get('/api/media/').then(function (res) {
            $scope.loading = false;
            $scope.media = res.data;
            socket.syncUpdates('media', $scope.data);
          }, handleError);

          $scope.ok = function (path) {
            $mdDialog.hide(path);
          };
          $scope.hide = function () {
            $mdDialog.hide();
          };
          $scope.cancel = function () {
            $mdDialog.cancel();
          };
          $scope.addNewImage = function () {
            $state.go('media');
            vm.save(vm.cat);
            $mdDialog.hide();
          };
        }

      }).then(function (answer) {
        vm.cat.subcat[index].image = answer;
      }, function () {});
    };

    // goBack.$inject = ['ToggleComponent'];
    function goBack() {
      ToggleComponent('categories.detailView').close();
      $state.go('^', {}, { location: false });
    }
    vm.goBack = goBack;

    vm.save = function (cat) {
      // refuse to work with invalid data
      if (!cat) {
        Toast.show({
          type: 'error',
          text: 'No cat defined.'
        });
        return;
      }
      if ('newSubCat' in cat) {
        vm.cat.subcat.push(cat.newSubCat);
      }

      function success() {
        vm.cat.newSubCat = {};
        Toast.show({
          type: 'success',
          text: 'Category has been updated'
        });
      };

      function err(err) {
        console.log(err);
        if (cat && err) {}

        Toast.show({
          type: 'warn',
          text: 'Error while updating database'
        });
      };

      $http.patch('/api/categories/' + cat._id, cat).then(success).catch(err);
    };

    vm.deleteFeature = function (index, cat) {
      vm.cat.features.splice(index, 1);
      vm.save(cat);
    };

    vm.deleteKF = function (index, cat) {
      vm.cat.keyFeatures.splice(index, 1);
      vm.save(cat);
    };

    vm.deleteVariants = function (index, cat) {
      vm.cat.subcat.splice(index, 1);
      vm.save(cat);
    };
  }

  angular.module('mediaboxApp').controller('CategoriesDetailController', CategoriesDetailController);
})();
//# sourceMappingURL=detail.controller.js.map

'use strict';

(function () {

  function CategoriesListController($scope, $http, socket, $state, $stateParams, Modal, Toast, Settings, Category, $location, $anchorScroll, $mdDialog) {
    this.cols = [
    // {field: 'image', heading: 'image'},
    { field: 'edit', heading: 'Action' }, { field: 'name', heading: 'name' }, { field: 'status', heading: 'status' }];
    this.header = 'Categories';
    this.sort = {};
    this.$mdDialog = $mdDialog;
    var vm = this;
    vm.loading = true;
    // vm.Cat = Cat;
    // the selected item id
    var _id = null;
    var originatorEv;

    // Tabs
    var selected = null,
        previous = null;
    // this.tabs = tabs;
    $scope.newSubItem = function (scope) {
      var nodeData = scope.$modelValue;
      nodeData.child.push({
        id: nodeData.id * 10 + nodeData.child.length,
        title: nodeData.title + '.' + (nodeData.child.length + 1),
        child: []
      });
    };

    $scope.visible = function (item) {
      return !($scope.query && $scope.query.length > 0 && item.title.indexOf($scope.query) === -1);
    };

    $scope.findNodes = function () {};

    this.getCategories = function () {
      vm.loading = true;
      $http.get('/api/categories').then(function (res) {
        vm.loading = false;
        vm.data = res.data;
        // socket.syncUpdates('category', vm.data);
      }, handleError);
    };

    this.remove = function (scope, node) {
      var confirm = this.$mdDialog.confirm().title('Are you sure to delete the category?').textContent('This is unrecoverable').ariaLabel('Confirm delete category').ok('Please do it!').cancel('No. keep');

      this.$mdDialog.show(confirm).then(function () {
        scope.remove();
        $http.delete('/api/categories/' + node._id, node);
      });
    };

    vm.toggle = function (scope) {
      scope.toggle();
    };

    $scope.treeOptions = {
      dropped: function dropped(event) {
        var sourceNode = event.source.nodeScope;
        var op = event.source.nodesScope.$nodeScope;
        var destNodes = event.dest.nodesScope;
        var sortBefore = event.source.index + 1;
        var sortAfter = event.dest.index + 1;
        var np = destNodes.$parent;
        var me = sourceNode.$modelValue;
        var oldParent = null;
        var newParent = null;
        // var oldParentId = null;
        if (!_.isNull(op)) {
          // If I had a oldParent (If I was already assigned to a oldParent) 
          // Update oldParent's child reference
          oldParent = op.$modelValue;
          $http.put('/api/categories/' + oldParent._id, oldParent).then().catch(err);
        }
        if (!_.isUndefined(np) && !_.isNull(np)) {
          // If I have a newParent now
          // Update my new parent's child reference
          newParent = np.$modelValue;

          $http.put('/api/categories/' + newParent._id, newParent).then().catch(err);
          me.parent = newParent._id;
        }

        $http.put('/api/categories/' + me._id, me).then(vm.getCategories).catch(err);
        // I was recently created or not under any parent
      }

    };

    this.selectedIndex = 2;
    $scope.$watch('selectedIndex', function (current, old) {
      previous = selected;
    });

    // Add new category
    this.addTab = function (category) {
      $http.post('/api/categories', category).then(function (res) {
        vm.loading = false;
        vm.getCategories();
        $location.hash('bottom');
        $anchorScroll();
      }, handleError);
    };

    this.sort.reverse = true;
    this.order = function (predicate) {
      this.sort.reverse = this.sort.predicate === predicate ? !this.sort.reverse : false;
      this.sort.predicate = predicate;
    };

    this.l = 10;
    this.loadMore = function () {
      this.l += 2;
    };

    this.exportData = function (type) {
      var data = JSON.stringify(this.data, undefined, 2);
      var blob;
      if (type === 'txt') {
        // Save as .txt
        blob = new Blob([data], { type: 'text/plain;charset=utf-8' });
        saveAs(blob, 'cat.txt');
      } else if (type === 'csv') {
        // Save as .csv
        blob = new Blob([document.getElementById('exportable').innerHTML], { type: 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=utf-8' });
        saveAs(blob, 'cat.csv');
      } else if (type === 'xls') {
        // Save as xls
        blob = new Blob([document.getElementById('exportable').innerHTML], {
          type: 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=utf-8'
        });
        saveAs(blob, 'cat.xls');
      } else {
        // Save as .json
        blob = new Blob([data], { type: 'text/plain;charset=utf-8' });
        saveAs(blob, 'cat.json');
      }
    };

    this.openMenu = function ($mdOpenMenu, ev) {
      originatorEv = ev;
      $mdOpenMenu(ev);
    };
    vm.isSelected = function (cat) {
      return _id === cat._id;
    };

    // Start query the database for categories
    vm.loading = true;
    $http.get('/api/categories').then(function (res) {
      vm.loading = false;
      vm.data = res.data;
    }, handleError);

    // Start query the database for brands
    vm.loading = true;
    $http.get('/api/brands').then(function (res) {
      vm.loading = false;
      vm.brands = res.data;
      socket.syncUpdates('brand', vm.brands);
    }, handleError);

    this.saveSubCategory = function (i, cat) {
      if (cat) {
        i.subcat.push(cat);
      }
      $http.put('/api/categories/' + i._id, i).then(success).catch(err);
    };
    function success(res) {
      var item = vm.cat = res.data;
      Toast.show({ type: 'success', text: 'Category has been updated' });
    }

    function err(err) {
      Toast.show({ type: 'warn', text: 'Error while updating database' });
    }

    this.changeStatus = function (x) {
      $http.put('/api/categories/' + x._id, x).then(success).catch(err);
    };

    this.delete = function (data) {
      var confirm = this.$mdDialog.confirm().title('Are you sure to delete the category?').textContent('This is unrecoverable').ariaLabel('Confirm delete category').ok('Please do it!').cancel('No. keep');

      this.$mdDialog.show(confirm).then(function () {
        $http.delete('/api/categories/' + data._id).then(function () {}, handleError);
      });
    };

    function handleError(error) {
      // error handler
      vm.loading = false;
      if (error.status === 403) {
        Toast.show({ type: 'error', text: 'Not authorised to make changes.' });
      } else if (err.type !== 'demo') {
        Toast.show({ type: 'error', text: error.status });
      }
    }

    $scope.$on('$destroy', function () {
      socket.unsyncUpdates('categories');
    });

    this.showInDetails = function (item) {
      _id = item._id;
      $state.go('category-detail', { categories: item }, { location: false });
    };
  }

  angular.module('mediaboxApp').controller('CategoriesListController', CategoriesListController);
})();
//# sourceMappingURL=list.controller.js.map

'use strict';

(function () {

  function CategoriesMainController(Modal, $stateParams) {
    // var options = {api:'cat'};
    // var cols = [{field: 'name', heading:'Name'}];
    // this.create = function(){
    //   Modal.show(cols,options);
    // }
  }

  angular.module('mediaboxApp').controller('CategoriesMainController', CategoriesMainController);
})();
//# sourceMappingURL=main.controller.js.map

'use strict';

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

(function () {
    var CheckoutController = function () {
        function CheckoutController(Cart, Country, PaymentMethod, Shipping, Coupon, Order, Pay, Toast, Address, Settings, socket, $scope, Auth, $stateParams, $state, $http, $mdDialog, $window) {
            _classCallCheck(this, CheckoutController);

            var vm = this;
            this.msg = 'No items in cart.';
            this.customer = {};
            this.coupon = {};
            this.Coupon = Coupon;
            this.Shipping = Shipping;
            this.Order = Order;
            this.Pay = Pay;
            this.cart = Cart.cart;
            this.Address = Address;
            this.Auth = Auth;
            this.addr = {};
            this.order = {};
            this.$http = $http;
            this.$mdDialog = $mdDialog;
            this.$window = $window;
            this.socket = socket;
            this.Toast = Toast;
            this.Cart = Cart;
            this.newAddress = false;
            this.options = { email: 'smkorera@mediabox.co.zw' };
            this.stripeToken = {
                number: '4242424242424242',
                cvc: '123',
                exp_month: '12',
                exp_year: '2020'
            };
            PaymentMethod.active.query(function (res) {
                vm.paymentOptions = res;
                vm.options.paymentMethod = res[0];
            });
            this.Settings = Settings;
            this.getMyAddress();
            if ($stateParams.id === '404') this.payment = { id: $stateParams.id, msg: JSON.parse($stateParams.msg) };else if ($stateParams.msg) this.payment = { id: $stateParams.id, msg: [{ field: ':', issue: $stateParams.msg }] };

            this.$state = $state;
            $scope.$on('$destroy', function () {
                socket.unsyncUpdates('address');
            });
            // vm.cartTotal = Cart.cart.getTotalPrice();
            // vm.cartCount = Cart.cart.getTotalCount();
            //vm.getBestShipper()
        }

        _createClass(CheckoutController, [{
            key: 'getMyAddress',
            value: function getMyAddress() {
                var vm = this;
                vm.Address.my.query(function (res) {
                    vm.address = res;
                    vm.addr = res[0];
                    vm.options.paymentMethod = vm.paymentOptions[0];
                    vm.socket.syncUpdates('address', vm.address);
                });
            }
        }, {
            key: 'switchAddress',
            value: function switchAddress(a) {
                this.options.paymentMethod = this.paymentOptions[0];
                this.addr = a;
                // this.getBestShipper();         
            }
        }, {
            key: 'delete',
            value: function _delete(item) {
                var vm = this;
                var confirm = this.$mdDialog.confirm().title('Would you like to delete the address?').textContent('This is unrecoverable').ariaLabel('Confirm delete address').ok('Please do it!').cancel('No. keep');

                this.$mdDialog.show(confirm).then(function () {
                    vm.Address.delete({ id: item._id }, function () {}, function (res) {
                        vm.Toast.show({ type: 'error', text: res });
                    });
                });
            }
            // Setting the default country on page load
            // getBestShipper(){
            //   var vm = this;
            //   vm.Cart.cart.getBestShipper().$promise.then(function(data){
            //       vm.shipping = data[0];
            //   })
            // }

        }, {
            key: 'saveAddress',
            value: function saveAddress(data) {
                var vm = this;
                data.country = vm.Settings.country.name;
                vm.loadingAddress = true;
                if (_.has(data, '_id')) {
                    this.Address.update({ id: data._id }, data, function () {
                        vm.loadingAddress = false;
                        vm.getMyAddress();
                    }, function (err) {
                        // If rejected by auth interceptor.service
                        vm.loadingAddress = false;
                    });
                } else {
                    this.Address.save(data, function () {
                        vm.loadingAddress = false;
                        vm.getMyAddress();
                    });
                }
                vm.addressForm(false);
            }
        }, {
            key: 'addressForm',
            value: function addressForm(visible) {
                this.showAddressForm = visible;
            }
        }, {
            key: 'cancelForm',
            value: function cancelForm(addr) {
                this.showAddressForm = false;
                this.addr = this.address[0];
            }
        }, {
            key: 'checkout',
            value: function checkout(order, o, clearCart) {

                var vm = this;
                order = _.merge(order, o);
                order.options = {};
                if (!_.has(order, 'phone') || !order.phone) {
                    vm.Toast.show({ type: 'error', text: 'You need to specify an address with phone number' });
                    return;
                }

                if (!_.has(order, 'paymentMethod') || order.paymentMethod.name == undefined || o.paymentMethod.name == null || o.paymentMethod.name == "") {
                    vm.Toast.show({ type: 'error', text: 'Please select a payment method' });
                    return;
                }

                if (this.cart.items.length == 0) {
                    vm.Toast.show({ type: 'error', text: 'Your cart found empty. Please add some items' });
                }
                //order.shipping = vm.shipping.best
                if (!vm.coupon) vm.coupon = { amount: 0 };else if (!vm.coupon.amount) vm.coupon = { amount: 0 };
                order.couponAmount = vm.coupon.amount;
                order.stripeToken = vm.stripeToken;
                order.country_code = vm.Settings.country.code;
                order.currency_code = vm.Settings.currency.code;
                order.exchange_rate = vm.Settings.currency.exchange_rate;
                order.total = vm.cartTotal + this.cart.getHandlingFee() - vm.coupon.amount;
                order.email = this.Auth.getCurrentUser().email;
                order.payment = 'Pending';
                order.items = this.cart.items;
                delete order._id;
                if (true) {

                    this.loading = true;
                    this.cart.flagOff();

                    this.cart.checkout(order, clearCart);
                } else {
                    vm.Toast.show({ type: 'error', text: 'Item not available for your location' });
                }
            }
        }, {
            key: 'removeCoupon',
            value: function removeCoupon() {
                this.coupon = {};
            }
        }, {
            key: 'checkCoupon',
            value: function checkCoupon(code, cartValue) {
                var q = {};
                var vm = this;
                // x.where is required else it adds unneccessery colons which can not be parsed by the JSON parser at the Server
                q.where = { code: code, active: true, 'minimumCartValue': { $lte: cartValue } };
                this.Coupon.query(q, function (res) {
                    vm.coupon = res[0];
                });
            }
        }]);

        return CheckoutController;
    }();

    angular.module('mediaboxApp').controller('CheckoutController', CheckoutController);
})();
//# sourceMappingURL=checkout.controller.js.map

'use strict';

angular.module('mediaboxApp').config(function ($stateProvider) {
  $stateProvider.state('checkout', {
    url: '/checkout?id&msg',
    templateUrl: 'app/checkout/checkout.html',
    controller: 'CheckoutController as checkout',
    authenticate: true
  }).state('payment/prepare', {
    url: '/payment/prepare',
    authenticate: true
  });
});
//# sourceMappingURL=checkout.js.map

'use strict';

angular.module('mediaboxApp').controller('ContactCtrl', function ($scope) {
  $scope.options = [{ field: 'photo', dataType: 'image' }, { field: 'name', noEdit: true }, { field: 'email' }, { field: 'phone' }, { field: 'category', dataType: 'select', options: ['Family', 'Friends', 'Acquaintances', 'Services'] }, { field: 'active', dataType: 'boolean' }];
});
//# sourceMappingURL=contact.controller.js.map

'use strict';

angular.module('mediaboxApp').config(function ($stateProvider) {
  $stateProvider.state('contact', {
    url: '/contact',
    templateUrl: 'app/contact/contact.html',
    controller: 'ContactCtrl',
    authenticate: true,
    title: 'Contacts Manager'
  });
});
//# sourceMappingURL=contact.js.map

'use strict';

angular.module('mediaboxApp').controller('CountryCtrl', function ($scope) {
  $scope.options = [{ field: 'name' }, { field: 'dial_code' }, { field: 'code' }, { field: 'active', dataType: 'boolean' }];
});
//# sourceMappingURL=country.controller.js.map

'use strict';

angular.module('mediaboxApp').config(function ($stateProvider) {
  $stateProvider.state('country', {
    url: '/country',
    templateUrl: 'app/country/country.html',
    controller: 'CountryCtrl',
    authenticate: 'manager'
  });
});
//# sourceMappingURL=country.js.map

'use strict';

angular.module('mediaboxApp').controller('CouponCtrl', function ($scope) {
  $scope.options = [{ field: 'code' }, { field: 'amount', dataType: 'currency' }, { field: 'minimumCartValue', dataType: 'number' }, { field: 'info' }, { field: 'type' }, { field: 'active', dataType: 'boolean' }];
});
//# sourceMappingURL=coupon.controller.js.map

'use strict';

angular.module('mediaboxApp').config(function ($stateProvider) {
  $stateProvider.state('coupon', {
    url: '/coupon',
    templateUrl: 'app/coupon/coupon.html',
    controller: 'CouponCtrl',
    authenticate: 'admin'
  });
});
//# sourceMappingURL=coupon.js.map

'use strict';

angular.module('mediaboxApp').controller('CustomerCtrl', function ($scope) {
  $scope.options = [{ field: 'photo', heading: 'Image', dataType: 'image' }, { field: 'name', noSort: true, noEdit: true }, { field: 'address', dataType: 'textarea' }, { field: 'country', dataType: 'select', options: ['India', 'USA', 'Australlia', 'China', 'Japan'] }, { field: 'active', heading: 'Status', dataType: 'boolean' }];
});
//# sourceMappingURL=customer.controller.js.map

'use strict';

angular.module('mediaboxApp').config(function ($stateProvider) {
  $stateProvider.state('customer', {
    url: '/customer',
    templateUrl: 'app/customer/customer.html',
    controller: 'CustomerCtrl',
    authenticate: true
  });
});
//# sourceMappingURL=customer.js.map

'use strict';

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

(function () {
  var DashboardController = function DashboardController(Settings) {
    _classCallCheck(this, DashboardController);

    this.getColor = function ($index) {
      var _d = ($index + 1) % 11;
      var bg = '';

      switch (_d) {
        case 1:
          bg = 'red';break;
        case 2:
          bg = 'green';break;
        case 3:
          bg = 'darkBlue';break;
        case 4:
          bg = 'blue';break;
        case 5:
          bg = 'yellow';break;
        case 6:
          bg = 'pink';break;
        case 7:
          bg = 'darkBlue';break;
        case 8:
          bg = 'purple';break;
        case 9:
          bg = 'deepBlue';break;
        case 10:
          bg = 'lightPurple';break;
        default:
          bg = 'yellow';break;
      }

      return bg;
    };

    this.pages = [];
    this.pages = Settings.menu.pages;
  };

  angular.module('mediaboxApp').controller('DashboardController', DashboardController);
})();
//# sourceMappingURL=dashboard.controller.js.map

'use strict';

angular.module('mediaboxApp').config(function ($stateProvider) {
  $stateProvider.state('dashboard', {
    url: '/dashboard',
    templateUrl: 'app/dashboard/dashboard.html',
    controller: 'DashboardController',
    controllerAs: 'dashboard',
    title: 'Shop Dashboard for Admin',
    authenticate: true
  });
});
//# sourceMappingURL=dashboard.js.map

'use strict';

angular.module('mediaboxApp').controller('DocumentationCtrl', function () {
  this.topFeatures = [{ h: 'PayPal Shopping Cart', p: 'Enter your paypal app ID into settings, add products and start selling with no matter of time. This has got inbuilt multi currency support with curency conversion feature', i: 'assets/images/paypal-e9dccdb656.png' }, { h: 'MEAN Stack', p: 'Developed using the most popular MEAN(MongoDB + Express + Angular + Node) which has a RestAPI based architecture with high scallability.', i: 'assets/images/mean.png' }, { h: 'Authentication', p: 'Inbuilt authentication mechanism with role based user access and user management', i: 'assets/images/user-roles-4e6a449f54.png' }, { h: 'Material Design', p: 'Most of the components are based on Google Material designe guidelines which gives you a responsive, bold and accessible design with great amount of user interactivity', i: 'assets/images/material-design-f0a449231f.png' }, { h: 'Emails', p: 'Integration of emails at diffent levels like Order Placement, Forgot/Reset password gives a secure as well as informative feeling', i: 'assets/images/email-bdab61141f.png' }, { h: 'Modular Code', p: 'The modular application structure gives you enormous ability to modify, test and deploy easily', i: 'assets/images/code-6ff7c0abcb.png' }];
  this.why = [{ h: 'Drag and drop category selection', i: 'playlist_add', c: 'fill: #FF5722' }, { h: 'AngularJS Shopping Cart', i: 'shopping_basket', c: 'fill:#DE140E' }, { h: 'Local + OAUTH login', i: 'lock_outline', c: 'fill: #2196F3' }, { h: 'Email integration', i: 'email', c: 'fill: #FABD0E' }, { h: 'PayPal Checkout', i: 'account_balance_wallet', c: 'fill: #795548' }, { h: 'Material Design', i: 'devices', c: 'fill: #ab47bc' }, { h: 'CRUD Generator', i: 'settings', c: 'fill: #3949ab' }, { h: 'Image uploader', i: 'collections', c: 'fill: #8bc34a' }, { h: 'ReST API based backend', i: 'http', c: 'fill: #26a69a' }];

  this.future = [{ h2: 'Multivendor', p: 'Support for multiple vendors where each vendor will have their own profile to mange their orders' }, { h2: 'Social Media', p: 'Integration of social info profile of each customer' }, { h2: 'Backorders', p: 'Shoppers can order an item even if stock is 0' }, { h2: 'Additional Payment Methods', p: 'Support for more payment methods e.g. Stripe, Credit Card.' }, { h2: 'Inventory Mangement', p: 'The store owner can manage inventory with automated replenishment orders' }, { h2: 'SMS Integration', p: 'SMS for each important transaction performed' }, { h2: 'Hotkeys', p: 'Keyboard Shortcuts for regular tasks' }, { h2: 'Reviews', p: 'Product Reviews and Comments' }, { h2: 'Ratings', p: 'Product Ratings feature' }, { h2: 'Tax Management', p: 'Integrated Tax Manager' }, { h2: 'Theming', p: 'Advanced theming support for the whole website' }, { h2: 'Static Page Management', p: 'Create and edit static pages, such as Contact, About, or Support.' }, { h2: 'Returns and Refunds', p: 'Adminster and manage returns and refunds.' }];

  this.newFeatures = [{ h2: 'Coupons', p: 'Ability yo manage discount coupons on cart total', i: 'settings' }, { h2: 'Media Management', p: 'With integrated drag and drop image upload its easy to manage the images for the whole shop' }, { h2: 'NodeJS Module', p: 'ES6 module structure for serve side programming.' }, { h2: 'Order Management', p: 'PayPal integration with orders' }, { h2: 'User Roles', p: 'Role based user management for both client and server side e.g. User, Manager, Administrator' }, { h2: 'Email Integration', p: 'Now an email is sent as soon as a order is placed or payment failed' }, { h2: 'Material Design', p: 'Mobile Centered Material Designed components with accessibility support' }, { h2: 'New Design Principle', p: 'Flex based page design principle' }, { h2: 'CRUD Table', p: 'Free Material CRUD Table module comes with this Material Shop' }, { h2: 'Image Selector', p: 'Directly select image for a product from the media gallery' }, { h2: 'Cloning', p: 'Now Clone any brand, country, shipping, coupon to save time' }, { h2: 'Multi Level Category', p: 'Drag and drop category management upto 10 levels' }, { h2: 'Multi Currency', p: 'Support for additional currencies beyond US Dollars from a single settings page' }, { h2: 'Forgot Password', p: 'Forgotten password of a user or shop manager can be retrieved with a encryption based email service' }, { h2: 'Contact Page', p: 'A tiny little popup window for anybody to reach the store owner with any grievance or suggestions' }, { h2: 'PayPal', p: 'Now PayPal integration is more powerful with the managed payment status' }, { h2: 'Search', p: 'Auto-suggest, keyword product search.' }];

  this.storeFrontFeatures = [{ h2: 'MEAN', p: 'The MEAN Stack ecommerce with Material Design' }, { h2: 'AngularJS', p: 'A whole ecommerce application created using AngularJS as front end' }, { h2: 'NodeJS', p: 'The backend (server side) is backed with the awesome NodeJS framework for better speed and wide extensions support with a very large community base' }, { h2: 'MongoDB', p: 'The document based No_SQL database used for faster communication and more efficiency' }, { h2: 'Modular', p: 'Industry standard application module structure' }, { h2: 'Single Page', p: 'SPA(Single Page App) created with the power of AngularJS and ui-router' }, { h2: 'One Page Checkout', p: 'Instant and single page advance checkout system' }, { h2: 'SocketIO', p: 'Now every activity by a user or shop manger is reflected in realtime across the web app(without page reloads)' }, { h2: 'Acive/Inactive', p: 'Option to save inactive product for publishing later' }, { h2: 'Product Variants', p: 'Option to add multiple variants of a single product with different price, size and image' }, { h2: 'Product Features', p: 'Additional product details in key/value list' }, { h2: 'Featured Product Details', p: 'More product details in key/value list which need to be highlighted in the product details page' }, { h2: 'Cross Platform', p: 'Cross Platform development setup with efficient with gulp, bower, npm' }, { h2: 'Product Category', p: 'Category wise product details' }, { h2: 'Filters', p: 'Advanced features like Multiple brands selector, Prodcut type filter, price slider' }, { h2: 'OAUTH', p: 'Integrated social media login' }, { h2: 'Passwords', p: 'Reset and Change Password option' }, { h2: 'Infinite Scroll', p: 'Automatically load more products on scroll without the need of pagination' }, { h2: 'SEO friendly', p: 'SEO friendly URLs for each page' }, { h2: 'Assistive Technology', p: 'Ready for screen readers for improved assistive' }, { h2: 'Contact Form', p: 'Email service for queries/suggestions/grievances through popup contact form' }];

  this.storeBackFeatures = [{ h2: 'Manage Backoffice', p: 'Products, Categories, Brand, Order Management from admin panel with easy directives' }, { h2: 'Order Management', p: 'Manage Order and Change Status from admin panel' }, { h2: 'Product Variants', p: 'Facility for Multiple product variants (size, color, price, image)' }, { h2: 'User roles', p: '- Administrator, User, Manager' }, { h2: 'Quality Code', p: 'Secure and quality code - Takes care all single page web app standards' }, { h2: 'Secure', p: 'Securely built and prevent security attacks' }, { h2: 'CRUD Generator', p: 'Generates CRUD(Create, Read, Update, Delete) pages automatically from database.' }, { h2: 'ReST API', p: 'NodeJS based ReST API architecture' }, { h2: 'Date picker', p: 'Integrated material designed date picker for date fields' }, { h2: 'Modular Code', p: 'Code is Modular, Maintainable, Well Structured, Easy to customize, Production Ready' }, { h2: 'HTML Components Generator', p: 'Automatically generates dropdowns, datepickers, number field, toggle switch based on field types' }, { h2: 'Exportable', p: 'Easily export the table as Excel, JSON, txt format' }];
});
//# sourceMappingURL=documentation.controller.js.map

'use strict';

angular.module('mediaboxApp').config(function ($stateProvider) {
  $stateProvider.state('doc', {
    url: '/index',
    templateUrl: 'app/documentation/index.html',
    controller: 'DocumentationCtrl as doc'
  }).state('terms', {
    url: '/index/terms',
    templateUrl: 'app/documentation/install.html',
    controller: 'DocumentationCtrl as doc'
  }).state('faq', {
    url: '/index/faq',
    templateUrl: 'app/documentation/features.html',
    controller: 'DocumentationCtrl as doc'
  }).state('verified-publishers', {
    url: '/index/verified',
    templateUrl: 'app/documentation/use.html',
    controller: 'DocumentationCtrl as doc'
  });
}).directive('docMenu', function ($state) {
  return {
    restrict: 'E',
    link: function link(scope, element, attrs) {
      scope.page = $state.current.name;
    },
    template: '\n      <md-toolbar class="md-whiteframe-2dp">\n        <div class="md-toolbar-tools navbar" layout="row" layout-align="space-around center">\n          <h3><a ui-sref="/">Material Shop</a></h3>\n        <md-button ui-sref="docInstall" class="md-raised md-default md-button md-ink-ripple" flex="20" ng-hide="page==\'docInstall\'"><ng-md-icon icon="now_widgets"></ng-md-icon>Installation</md-button>\n        <md-button ui-sref="doc" class="md-raised md-default md-button md-ink-ripple" flex="20" ng-hide="page==\'doc\'"><ng-md-icon icon="star"></ng-md-icon>Highlights</md-button>\n        <md-button ui-sref="docFeatures" class="md-raised md-default md-button md-ink-ripple" flex="20" ng-hide="page==\'docFeatures\'"><ng-md-icon icon="spellcheck"></ng-md-icon>Features</md-button>\n        <md-button ui-sref="docUse" class="md-raised md-default md-button md-ink-ripple" flex="20" ng-hide="page==\'docUse\'"><ng-md-icon icon="spellcheck"></ng-md-icon>Store Use</md-button>\n        <md-button ui-sref="/" class="md-raised md-default md-button md-ink-ripple" flex="20" ng-hide="page==\'docBack\'"><ng-md-icon icon="spellcheck"></ng-md-icon>Store Demo</md-button>\n      </div>\n      </md-toolbar>\n      '
  };
}).directive('docNav', function ($state) {
  return {
    restrict: 'E',
    link: function link(scope, element, attrs) {
      scope.page = $state.current.name;
    },
    template: '\n      <md-button ui-sref="docInstall" class="md-raised md-primary md-button md-ink-ripple" ng-hide="page==\'docInstall\'"><ng-md-icon icon="now_widgets"></ng-md-icon>Installation</md-button>\n        <md-button ui-sref="doc" class="md-raised md-primary md-button md-ink-ripple"   ng-hide="page==\'doc\'"><ng-md-icon icon="star"></ng-md-icon>Highlights</md-button>\n        <md-button ui-sref="docFeatures" class="md-raised md-primary md-button md-ink-ripple" ng-hide="page==\'docFeatures\'"><ng-md-icon icon="spellcheck"></ng-md-icon>Features</md-button>\n      '
  };
});
//# sourceMappingURL=documentation.js.map

'use strict';

angular.module('mediaboxApp').controller('FeatureCtrl', function ($scope) {
  $scope.options = [{ field: 'key' }, { field: 'val' }, { field: 'active', dataType: 'boolean' }];
});
//# sourceMappingURL=feature.controller.js.map

'use strict';

angular.module('mediaboxApp').config(function ($stateProvider) {
  $stateProvider.state('feature', {
    url: '/feature',
    templateUrl: 'app/feature/feature.html',
    controller: 'FeatureCtrl',
    authenticate: 'manager'
  });
});
//# sourceMappingURL=feature.js.map

'use strict';

angular.module('mediaboxApp').controller('KeyFeatureCtrl', function ($scope) {
  $scope.options = [{ field: 'key' }, { field: 'val' }, { field: 'active', dataType: 'boolean' }];
});
//# sourceMappingURL=keyfeature.controller.js.map

'use strict';

angular.module('mediaboxApp').config(function ($stateProvider) {
  $stateProvider.state('keyfeature', {
    url: '/keyfeature',
    templateUrl: 'app/keyfeature/keyfeature.html',
    controller: 'KeyFeatureCtrl',
    authenticate: 'manager'
  });
});
//# sourceMappingURL=keyfeature.js.map

"use strict";
//# sourceMappingURL=campaign.controller.js.map

'use strict';

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

(function () {
  var MainController = function () {
    function MainController($scope, $state, $stateParams, $http, $location, Cart, Product, Brand, BrandMG, BrandTV, Category, Feature, Settings, socket, $rootScope, $injector, $loading, $timeout, $mdMedia) {
      _classCallCheck(this, MainController);

      var vm = this;
      // Start query the database for products
      // this.loading = true;
      // if ($stateParams.productSku) { // != null
      //     this.product = this.store.getProduct($stateParams.productSku);
      // }
      // this
      this.$http = $http;
      this.$timeout = $timeout;
      this.$loading = $loading;
      this.$mdMedia = $mdMedia;
      this.$location = $location;
      this.$state = $state;
      this.Product = Product;
      this.product = {};
      this.products = {};
      this.filtered = {};
      this.products.busy = false;
      this.products.end = false;
      this.products.after = 0;
      this.products.items = [];
      this.fl = {};
      this.fl.brands = [];
      this.fl.categories = [];
      this.priceSlider = {};
      this.features = Feature.group.query();
      this.categories = Category.query();
      this.brands = Brand.query({ active: true });
      this.Brand = Brand;
      this.Category = Category;
      this.BrandMG = BrandMG;
      this.BrandTV = BrandTV;
      this.selected = [];
      this.$scope = $scope;
      this.$rootScope = $rootScope;
      this.$injector = $injector;
      this.Settings = Settings;
      // this.fl.brands = this.selected;
      this.sort = this.products.sort = $stateParams.sort;
      this.q = { where: { active: true }, limit: 20 };
      this.f = [];
      this.fl.features = {};
      this.resetPriceRange();

      // This is done at ui-router resolve
      // var id = $stateParams.id;
      // // Storing the product id into localStorage because the _id of the selected product which was passed as a hidden parameter from products won't available on page refresh
      // if (localStorage !== null && JSON !== null && id !== null) {
      //     localStorage.productId = id;
      // }
      // var productId = localStorage !== null ? localStorage.productId : null;

      // if (productId && productId !== 'undefined') { // To avoid product undefined error at Category/slug/id page
      //     this.product = Product.get({id:productId});
      // }


      //Range slider config
      this.priceSlider = {
        min: 0,
        max: 3000,
        options: {
          floor: 0,
          step: 1,
          translate: function translate(value) {
            return vm.Settings.currency.symbol + value;
          },
          onStart: function onStart() {
            // console.log('start slider......');
          },
          onChange: function onChange() {
            // console.log('change slider......');
          },
          onEnd: function onEnd() {
            // console.log('end slider......');
            vm.filter(vm, 'price');
          }
        }
      };

      if ('page' in $stateParams) {
        this.brands = false;
        console.log($stateParams);
        if ($stateParams.slug === 'magazines' || $stateParams.slug === 'newspapers') {
          this.brands = this.BrandMG.query({ active: true });
          console.log(this.brands);
        } else if ($stateParams.slug === 'banner' || $stateParams.slug === 'social-media') {
          this.brands = this.Brand.query({ active: true });
          console.log(this.brands);
        } else if ($stateParams.slug === 'television' || $stateParams.slug === 'cinema' || $stateParams.slug === 'radio') {
          this.brands = this.BrandTV.query({ active: true });
          console.log(this.brands);
        } else {}

        //this.brands = this.Brand.query({active:true});

        // If category or brand page

        if ($stateParams.page && $stateParams._id) {
          this.products.brand = { _id: $stateParams._id };
          this.breadcrumb = { type: $stateParams.page };
          this.generateBreadCrumb(this, $stateParams.page, $stateParams._id);
          if ($stateParams.page === 'Category') {
            this.fl.categories.push({ _id: $stateParams._id, name: $stateParams.slug });
          } else if ($stateParams.page === 'Brand') {

            this.fl.brands.push({ _id: $stateParams._id, name: $stateParams.slug });
          }
          // this.resetPriceRange(this);
        } else {
          this.q = { sort: this.sort, limit: 20 };
        }
        this.filter(this);
      } else {
        this.q = { limit: 20 };
      }

      this.scroll = function () {
        if (this.products.busy || this.products.end) {
          return;
        }
        this.products.busy = false;
        this.q.skip = this.products.after;
        this.displayProducts(this.q);
      };

      $scope.$on('$destroy', function () {
        socket.unsyncUpdates('product');
      });

      this.selectedFeatures = [];
      this.selectedSubFeatures = [];
    }
    // for the checkboxs


    _createClass(MainController, [{
      key: 'exists',
      value: function exists(item, list) {
        if (angular.isUndefined(list)) list = [];
        return list.indexOf(item) > -1;
        // this.filter(this);
      }
    }, {
      key: 'toggle',
      value: function toggle(item, list) {
        var idx = list.indexOf(item);
        if (idx > -1) list.splice(idx, 1);else list.push(item);
        this.filter(this);
      }
    }, {
      key: 'navigate',
      value: function navigate(page, params) {
        if (page === 'sort') {
          delete params.$$hashKey;
          var paramString = JSON.stringify(params);
          this.$state.go(this.$state.current, { sort: paramString }, { reload: true });
        } else if (params) {
          this.$location.replace().path(page + '/' + params.slug + '/' + params._id);
        } else {
          this.$location.replace().path('/');
        }
      }
    }, {
      key: 'gotoDetail',
      value: function gotoDetail(params) {
        this.$state.go('single-product', { id: params._id, slug: params.slug }, { reload: false });
      }
    }, {
      key: 'gotoCheckout',
      value: function gotoCheckout(params) {
        this.$state.go('checkout');
      }
    }, {
      key: 'generateBreadCrumb',
      value: function generateBreadCrumb(vm, page, id) {
        vm.breadcrumb.items = [];
        var api = vm.$injector.get(page);
        api.get({ id: id }).$promise.then(function (child) {
          vm.breadcrumb.items.push(child);
          if (page === 'Category') {
            vm.breadcrumb.items.push({ name: 'All Categories' });
          } else if (page === 'Brand') {
            vm.breadcrumb.items.push({ name: 'All Brands' });
          }
        });
      }
    }, {
      key: 'filter',
      value: function filter(vm) {
        // var q = {};
        var f = [];
        if (vm.fl.features) {
          _.forEach(vm.fl.features, function (val, key) {
            if (val.length > 0) {
              f.push({ 'features.key': key, 'features.val': { $in: val } });
            }
          });
        }

        if (vm.fl.brands) {
          if (vm.fl.brands.length > 0) {
            var brandIds = [];
            _.forEach(vm.fl.brands, function (brand) {
              brandIds.push(brand._id);
            });
            f.push({ 'brand': { $in: brandIds } });
          }
        }
        if (vm.fl.categories) {
          if (vm.fl.categories.length > 0) {
            var categoryIds = [];
            _.forEach(vm.fl.categories, function (category) {
              categoryIds.push(category._id);
            });
            f.push({ 'category': { $in: categoryIds } });
          }
        }

        f.push({ 'variants.price': { $gt: vm.priceSlider.min, $lt: vm.priceSlider.max } });

        // var vm = this;
        if (f.length > 0) {
          vm.q.where = { $and: f };
        } else {
          vm.q.where = {};
        }

        vm.displayProducts(vm.q, true);
        // vm.resetPriceRange(vm.q);
      }
    }, {
      key: 'sortNow',
      value: function sortNow(sort) {
        this.q.sort = sort;
        this.displayProducts(this.q, true);
      }
    }, {
      key: 'displayProducts',
      value: function displayProducts(q, flush) {
        var products = this.products;
        var filtered = this.filtered;
        var $loading = this.$loading;
        if (flush) {
          q.skip = 0;
          products.items = [];
          products.end = false;
          products.after = 0;
        }
        $loading.start('products');
        products.busy = true;
        var vm = this;
        this.Product.query(q, function (data) {

          for (var i = 0; i < data.length; i++) {
            var success2 = function success2(res) {
              console.log(res.data.name);
              item.startDate = res.data.name;
            };

            var err2 = function err2(err) {
              console.log(err);
              // if (product && err) {
              // }
            };

            var success = function success(res) {
              console.log(res.data.name);
              data[i].endDate = res.data.name;
            };

            var err = function err(_err) {
              console.log(_err);
              // if (product && err) {
              // }
            };

            var item = data[i];

            console.log(item.category);
            var catid = item.category;
            var brandid = item.brand;

            vm.$http.get('/api/brands/' + brandid).then(success2).catch(err2);


            vm.$http.get('/api/categories/' + catid).then(success).catch(err);


            products.items.push(data[i]);
          }
          // Products count
          filtered.count = data.length + products.after;
          if (data.length >= 5) {
            products.after = products.after + data.length;
          } else {
            products.end = true;
          }

          products.busy = false;
          $loading.finish('products');
        }, function () {
          products.busy = false;vm.$loading.finish('products');
        }).$promise.then(function () {
          vm.Product.count.query(q, function (res) {
            products.count = res[0].count;
          });
        });
      }
    }, {
      key: 'resetPriceRange',
      value: function resetPriceRange(q) {
        // Could not be implemented. Need to try again later
        var vm = this;
        vm.Product.pr.get(q, function (data) {
          vm.priceSlider.options.floor = data.min;
          vm.priceSlider.min = data.min;
          vm.priceSlider.options.ceil = data.max;
          vm.priceSlider.max = 3000;
        });
      }

      // For Price slider

    }, {
      key: 'currencyFormatting',
      value: function currencyFormatting(value) {
        return this.Settings.currency.symbol + ' ' + value.toString();
      }
    }, {
      key: 'removeFeatures',
      value: function removeFeatures(features, k, f) {
        this.fl.features[k] = _.without(features, f);
        this.filter(this);
      }
    }, {
      key: 'removeBrand',
      value: function removeBrand(brand) {
        var index = this.fl.brands.indexOf(brand);
        if (index > -1) {
          this.fl.brands.splice(index, 1);
          this.filter(this);
        }
      }
    }, {
      key: 'removeCategory',
      value: function removeCategory() {
        this.fl.categories = undefined;
        this.filter();
      }
    }, {
      key: 'handleError',
      value: function handleError(error) {
        // error handler
        this.loading = false;
        if (error.status === 403) {
          Toast.show({
            type: 'error',
            text: 'Not authorised to make changes.'
          });
        } else {
          Toast.show({
            type: 'error',
            text: error.status
          });
        }
      }
    }]);

    return MainController;
  }();

  angular.module('mediaboxApp').controller('MainController', MainController);
})();
//# sourceMappingURL=main.controller.js.map

'use strict';

angular.module('mediaboxApp').config(function ($stateProvider) {
  $stateProvider.state('/', {
    url: '/',
    templateUrl: 'app/main/main.html',
    controller: 'MainController as main',
    title: 'Mediabox | Discover | Plan | Buy '
  }).state('/Category', {
    url: '/Category',
    templateUrl: 'app/main/test.html',
    controller: 'MainController as main',
    title: 'Categories'
  }).state('/campaign', {
    url: '/campaign',
    templateUrl: 'app/main/campaign.html',
    controller: 'CampaignController as cart',
    title: 'Campaign'

  }).state('single-product', {
    params: { id: null, name: null, slug: null, search: false },
    url: '/p/:slug',
    templateUrl: 'app/main/single-product.html',
    controller: 'SingleProductController as single',
    title: 'Product details',
    resolve: {
      SingleProduct: function SingleProduct($stateParams, Product) {
        // Storing the product id into localStorage because the _id of the selected product which was passed as a hidden parameter from products won't available on page refresh
        var id = $stateParams.id;
        if (localStorage !== null && JSON !== null && id !== null) {
          localStorage.productId = id;
        }
        var productId = localStorage !== null ? localStorage.productId : null;

        if (productId) {
          // != null
          return Product.get({ id: productId });
        }

        // return productId;
      }
    }
  }).state('main', {
    title: 'Mediabox',
    url: '/',
    templateUrl: 'app/main/main.html',
    controller: 'MainController as main',
    params: {
      sort: null
    }
  })
  // When a category selected from the navbar megamenu
  .state('SubProduct', {
    title: 'All products under current category or brand',
    url: '/:page/:slug/:_id',
    templateUrl: 'app/main/main.html',
    controller: 'MainController as main',
    params: {
      id: null,
      sort: null,
      brand: null,
      category: null,
      price1: 0,
      price2: 100000
    }
  });
});
//# sourceMappingURL=main.js.map

'use strict';

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

(function () {
    var SingleProductController = function () {
        function SingleProductController($stateParams, $scope, Product, Review, socket, SingleProduct, Auth, Toast, LoginModal, $mdDialog, appConfig) {
            _classCallCheck(this, SingleProductController);

            var vm = this;

            vm.$mdDialog = $mdDialog;
            vm.$scope = $scope;
            vm.currentUser = Auth.getCurrentUser();
            vm.LoginModal = LoginModal;
            vm.Auth = Auth;
            vm.Toast = Toast;
            vm.Review = Review;

            $scope.vm = vm;

            var id = $stateParams.id;
            console.log($stateParams);
            if (localStorage !== null && JSON !== null && id !== null) {
                localStorage.productId = id;
            }
            vm.productId = localStorage !== null ? localStorage.productId : null;

            SingleProduct.$promise.then(function (res) {
                vm.product = res;
                console.log(res.category.name);

                if (res.category.name == "Magazines") {
                    vm.magazines = true;
                } else if (res.category.name == "Television") {
                    vm.television = true;
                } else if (res.category.name == "Radio") {
                    vm.radio = true;
                } else if (res.category.name == "Newspapers") {
                    vm.newspapers = true;
                } else if (res.category.name == "Fliers") {
                    vm.fliers = true;
                } else if (res.category.name == "Cinema") {
                    vm.cinema = true;
                } else if (res.category.name == "Airline") {
                    vm.airline = true;
                } else if (res.category.name == "Instore") {
                    vm.instore = true;
                } else if (res.category.name == "Email Marketing") {
                    vm.emailMarketing = true;
                } else if (res.category.name == "Bulk SMS") {
                    vm.bulkSms = true;
                } else if (res.category.name == "Banner") {
                    vm.banner = true;
                } else if (res.category.name == "Social Media") {
                    vm.socialMedia = true;
                } else if (res.category.name == "Billboards") {
                    vm.billboards = true;
                } else {
                    vm.default = true;
                }

                if (!appConfig.reviewSettings.enabled) {
                    // If the settings says not to enable reviews
                    return;
                }
                vm.q = { pid: SingleProduct._id };
                vm.getReviews();
            });
            vm.i = 0;
            vm.changeIndex = function (i) {
                vm.i = i;
            };
        }

        _createClass(SingleProductController, [{
            key: "preview",
            value: function preview(adspace) {

                console.log(adspace);
                var vm = this;

                if (adspace.image) {

                    vm.name = adspace.name;
                    vm.size = adspace.size;
                    vm.formart = adspace.formart;

                    vm.image = {
                        src: adspace.image,
                        position: {
                            x: -137.5,
                            y: -68
                        },
                        scaling: 1,
                        maxScaling: 5,
                        scaleStep: 0.11,
                        mwScaleStep: 0.09,
                        moveStep: 99,
                        fitOnload: true,
                        progress: 0
                    };

                    this.$scope.$watch('adspace.image', function (newValue) {
                        if (typeof newValue != "string") {
                            console.log(newValue);
                        }
                    });
                } else {
                    vm.name = false;
                    vm.size = false;
                }
            }
        }, {
            key: "getReviews",
            value: function getReviews() {
                var vm = this;
                vm.Review.my.query(vm.q, function (r) {
                    vm.reviews = r;
                    vm.publishtRatings(vm.reviews);
                });
            }
        }, {
            key: "publishtRatings",
            value: function publishtRatings(r) {
                var vm = this;
                var reviewCount = 0;
                var rating = { r5: 0, r4: 0, r3: 0, r2: 0, r1: 0, count: 0, total: 0, avg: 0 };
                r.forEach(function (i) {
                    if (i.message) reviewCount++;
                    if (i.rating) rating.count++;
                    if (i.rating) rating.total = rating.total + i.rating;
                    if (i.rating == 5) rating.r5++;
                    if (i.rating == 4) rating.r4++;
                    if (i.rating == 3) rating.r3++;
                    if (i.rating == 2) rating.r2++;
                    if (i.rating == 1) rating.r1++;
                }, this);
                vm.reviewCount = reviewCount;
                rating.avg = Math.round(rating.total / rating.count * 10) / 10;
                vm.rating = rating;
            }
        }, {
            key: "deleteReview",
            value: function deleteReview(review) {
                var vm = this;
                var confirm = this.$mdDialog.confirm().title('Are you sure to delete your review?').textContent('This is unrecoverable').ariaLabel('Confirm delete review').ok('Please do it!').cancel('No. keep');

                this.$mdDialog.show(confirm).then(function () {
                    vm.Review.delete({ id: review._id }, function () {
                        vm.getReviews();
                    }, function (err) {
                        vm.Toast.show({ type: 'error', text: 'Error while saving your review: ' + err.data });
                    });
                });
            }
        }, {
            key: "myReview",
            value: function myReview(review) {
                if (this.Auth.getCurrentUser().email == review.email) return true;
            }
        }, {
            key: "reviewForm",
            value: function reviewForm() {
                var vm = this;
                if (!vm.Auth.getCurrentUser().name) {
                    vm.LoginModal.show('single-product', true); // Reload the route, else it won't show the wishlist status of the product
                    return;
                }
                vm.$mdDialog.show({
                    templateUrl: 'app/main/review-form.html',
                    controller: NewReviewController
                }).then(function (data) {
                    vm.getReviews();
                    if (vm.reviewSettings.moderate) vm.Toast.show({ type: 'success', text: 'Your review is under moderation. Will be visible to public after approval.' });
                });
                function NewReviewController($scope, $mdDialog, Review, Toast) {
                    var user = vm.Auth.getCurrentUser();
                    $scope.hide = function () {
                        $mdDialog.hide();
                    };
                    $scope.cancel = function () {
                        $mdDialog.cancel();
                    };
                    $scope.save = function (data) {
                        if (!data) {
                            $scope.message = 'Please rate the item from a scale of 1-5';
                            return;
                        }
                        data.pid = vm.product._id;
                        data.pname = vm.product.name;
                        data.pslug = vm.product.slug;
                        data.email = user.email;
                        data.reviewer = user.name;
                        Review.save(data, function () {}, function (err) {
                            Toast.show({ type: 'error', text: 'Error while saving your review: ' + err.data });
                        });
                        $mdDialog.hide(data);
                    };
                }
                NewReviewController.$inject = ['$scope', '$mdDialog', 'Review', 'Toast'];
            }
        }]);

        return SingleProductController;
    }();

    SingleProductController.$inject = ['$stateParams', '$scope', 'Product', 'Review', 'socket', 'SingleProduct', 'Auth', 'Toast', 'LoginModal', '$mdDialog', 'appConfig'];

    angular.module('mediaboxApp').controller('SingleProductController', SingleProductController);
})();
//# sourceMappingURL=single.controller.js.map

'use strict';

angular.module('mediaboxApp').controller('MediaCtrl', function ($scope, Upload, $timeout, $http, socket, $mdDialog, Settings, Toast) {

  $scope.imageDetails = function (img) {
    $mdDialog.show({
      template: '\n    <md-dialog aria-label="Image Details Dialog"  ng-cloak>\n  <md-toolbar>\n    <div class="md-toolbar-tools">\n      <h2>Media Details</h2>\n      <span flex></span>\n      <md-button class="md-icon-button" ng-click="cancel()">\n        <ng-md-icon icon="close" aria-label="Close dialog"></ng-md-icon>\n      </md-button>\n    </div>\n  </md-toolbar>\n  <md-dialog-content>\n    <div class="md-dialog-content">\n      <div layout="row" class="md-whiteframe-z2">\n        <div class="flexbox-container">\n        \t<div>\n            <img ng-src="{{img.path}}" draggable="false" alt="{{img.name}}" class="detail-image"/>\n          </div>\n        \t<div>\n            <ul>\n              <li><strong>Media Name:</strong> {{img.originalFilename}}</li>\n              <li><strong>Media Size:</strong> {{img.size}}</li>\n              <li><strong>Media type:</strong> {{img.type}}</li>\n              <li><strong>Date Uploaded:</strong> {{img.created_at}}</li>\n              <li><strong>Uploaded By:</strong> {{img.name}}</li>\n\n            </ul>\n        \t</div>\n        </div>\n      </div>\n  </md-dialog-content>\n  <md-dialog-actions layout="row">\n    <span flex></span>\n    <md-button ng-click="delete(img)" class="md-warn">\n     Delete Permanently\n    </md-button>\n  </md-dialog-actions>\n</md-dialog>\n',
      controller: function controller($scope, $mdDialog) {
        $scope.img = img;
        $scope.delete = function (img) {
          var confirm = $mdDialog.confirm().title('Would you like to delete the media permanently?').textContent('Media once deleted can not be undone.').ariaLabel('Delete Media').ok('Please do it!').cancel('Cancel');
          $mdDialog.show(confirm).then(function () {
            $http.delete('/api/media/' + img._id).then(function () {
              $mdDialog.hide();
            }, handleError);
          }, function () {
            $mdDialog.hide();
          });
        };
        $scope.hide = function () {
          $mdDialog.hide();
        };
        $scope.cancel = function () {
          $mdDialog.cancel();
        };
      }
    }).then(function (answer) {
      $scope.alert = 'You said the information was "' + answer + '".';
    }, function () {
      $scope.alert = 'You cancelled the dialog.';
    });
  };
  // Start query the database for the table
  $scope.loading = true;
  $http.get('/api/media/').then(function (res) {
    console.log(res);
    $scope.loading = false;
    $scope.data = res.data;
    socket.syncUpdates('media', $scope.data);
  }, handleError);

  function handleError(error) {
    // error handler
    $scope.loading = false;
    if (error.status === 403) {
      Toast.show({
        type: 'error',
        text: 'Not authorised to make changes.'
      });
    } else {
      Toast.show({
        type: 'error',
        text: error.status
      });
    }
  }
  $scope.$watch('files', function () {
    $scope.upload($scope.files);
  });
  $scope.$watch('file', function () {
    if ($scope.file != null) {
      $scope.files = [$scope.file];
    }
  });
  $scope.log = '';

  $scope.upload = function (files) {
    if (files && files.length) {
      for (var i = 0; i < files.length; i++) {
        var file = files[i];
        if (!file.$error) {
          Upload.upload({
            url: 'api/media',
            data: {
              username: $scope.username,
              file: file
            }
          }).then(function (resp) {
            $timeout(function () {
              $scope.log = 'file: ' + resp.config.data.file.name + ', Response: ' + JSON.stringify(resp.data) + '\n' + $scope.log;
              $scope.result = resp.data;
            });
          }, function (response) {
            if (response.status > 0) {
              $scope.errorMsg = response.status + ': ' + response.data;
            }
          }, function (evt) {
            var progressPercentage = parseInt(100.0 * evt.loaded / evt.total);
            $scope.log = 'progress: ' + progressPercentage + '% ' + evt.config.data.file.name + '\n' + $scope.log;
            $scope.progress = Math.min(100, parseInt(100.0 * evt.loaded / evt.total));
          });
        }
      }
    }
  };
});
//# sourceMappingURL=media.controller.js.map

'use strict';

angular.module('mediaboxApp').config(function ($stateProvider) {
  $stateProvider.state('media', {
    url: '/media',
    templateUrl: 'app/media/media.html',
    controller: 'MediaCtrl',
    authenticate: true
  });
});
//# sourceMappingURL=media.js.map

'use strict';

angular.module('mediaboxApp').controller('MediasCtrl', function ($scope, Upload, Media, Auth, $timeout, $http, socket, $mdDialog, Settings, Toast) {

  $scope.imageDetails = function (img) {
    $mdDialog.show({
      template: '\n    <md-dialog aria-label="Image Details Dialog"  ng-cloak>\n  <md-toolbar>\n    <div class="md-toolbar-tools">\n      <h2>Media Details</h2>\n      <span flex></span>\n      <md-button class="md-icon-button" ng-click="cancel()">\n        <ng-md-icon icon="close" aria-label="Close dialog"></ng-md-icon>\n      </md-button>\n    </div>\n  </md-toolbar>\n  <md-dialog-content>\n    <div class="md-dialog-content">\n      <div layout="row" class="md-whiteframe-z2">\n        <div class="flexbox-container">\n        \t<div>\n            <img ng-src="{{img.path}}" draggable="false" alt="{{img.name}}" class="detail-image"/>\n          </div>\n        \t<div>\n            <ul>\n              <li><strong>Media Name:</strong> {{img.originalFilename}}</li>\n              <li><strong>Media Size:</strong> {{img.size}}</li>\n              <li><strong>Media type:</strong> {{img.type}}</li>\n              <li><strong>Media path:</strong> {{img.path}}</li>\n              <li><strong>Date Uploaded:</strong> {{img.created_at}}</li>\n              <li><strong>Uploaded By:</strong> {{img.uid}}</li>\n\n            </ul>\n        \t</div>\n        </div>\n      </div>\n  </md-dialog-content>\n  <md-dialog-actions layout="row">\n    <span flex></span>\n    <md-button ng-click="delete(img)" class="md-warn">\n     Delete Permanently\n    </md-button>\n  </md-dialog-actions>\n</md-dialog>\n',
      controller: function controller($scope, Auth, Media, $mdDialog) {
        $scope.img = img;
        $scope.delete = function (img) {
          var confirm = $mdDialog.confirm().title('Would you like to delete the media permanently?').textContent('Media once deleted can not be undone.').ariaLabel('Delete Media').ok('Please do it!').cancel('Cancel');
          $mdDialog.show(confirm).then(function () {
            $http.delete('/api/media/' + img._id).then(function () {
              $mdDialog.hide();
            }, handleError);
          }, function () {
            $mdDialog.hide();
          });
        };
        $scope.hide = function () {
          $mdDialog.hide();
        };
        $scope.cancel = function () {
          $mdDialog.cancel();
        };
      }
    }).then(function (answer) {
      $scope.alert = 'You said the information was "' + answer + '".';
    }, function () {
      $scope.alert = 'You cancelled the dialog.';
    });
  };
  // Start query the database for the table
  $scope.loading = true;

  Media.pub.query(function (res) {
    console.log(res);
    $scope.loading = false;
    $scope.data = res;
    socket.syncUpdates('media', $scope.data);
  });

  function handleError(error) {
    // error handler
    $scope.loading = false;
    if (error.status === 403) {
      Toast.show({
        type: 'error',
        text: 'Not authorised to make changes.'
      });
    } else {
      Toast.show({
        type: 'error',
        text: error.status
      });
    }
  }
  $scope.$watch('files', function () {
    $scope.upload($scope.files);
  });
  $scope.$watch('file', function () {
    if ($scope.file != null) {
      $scope.files = [$scope.file];
    }
  });
  $scope.log = '';

  $scope.upload = function (files) {
    if (files && files.length) {
      for (var i = 0; i < files.length; i++) {
        var file = files[i];
        if (!file.$error) {
          Upload.upload({
            url: 'api/media',
            data: {
              username: $scope.username,
              file: file
            }
          }).then(function (resp) {
            $timeout(function () {
              $scope.log = 'file: ' + resp.config.data.file.name + ', Response: ' + JSON.stringify(resp.data) + '\n' + $scope.log;
              $scope.result = resp.data;
            });
          }, function (response) {
            if (response.status > 0) {
              $scope.errorMsg = response.status + ': ' + response.data;
            }
          }, function (evt) {
            var progressPercentage = parseInt(100.0 * evt.loaded / evt.total);
            $scope.log = 'progress: ' + progressPercentage + '% ' + evt.config.data.file.name + '\n' + $scope.log;
            $scope.progress = Math.min(100, parseInt(100.0 * evt.loaded / evt.total));
          });
        }
      }
    }
  };
});
//# sourceMappingURL=medias.controller.js.map

'use strict';

angular.module('mediaboxApp').config(function ($stateProvider) {
  $stateProvider.state('medias', {
    url: '/medias',
    templateUrl: 'app/medias/medias.html',
    controller: 'MediasCtrl',
    authenticate: 'true'
  });
});
//# sourceMappingURL=medias.js.map

'use strict';

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

(function () {
    var OrderController = function () {
        function OrderController(Cart, Auth, Order, Toast, Settings, $state, $stateParams, $loading) {
            _classCallCheck(this, OrderController);

            var vm = this;
            this.orderStatusLov = Order.status;
            this.Toast = Toast;
            this.Auth = Auth;
            this.Settings = Settings; // Used to get currency symbol
            this.$state = $state;
            this.options = {};
            this.payment = $stateParams;
            this.itemsGrid = [];

            if ($stateParams.id) // If payment was successful clear cart
                Cart.cart.clearItems();

            this.itemsGrid = [];

            $loading.start("orders");

            this.orders = Order.my.query({}, function (res) {
                var total = 0;
                for (var i = 0; i < res.length; i++) {
                    //     var subTotal = 0;
                    var item = res[i];
                    total += item.amount.total;
                    console.log(total);
                    $loading.finish("orders");
                }
                $loading.finish("orders");
                res.total = total;
            });

            /***data table**/

            this.mainGridOptions = {
                dataSource: {

                    transport: {
                        read: function read(options) {
                            //options holds the grids current page and filter settings
                            Order.my.query({ sort: { created_at: -1 } }, function (res) {

                                for (var j = 0; j < res.length; j++) {
                                    var total = 0;
                                    var item = res[j];
                                    for (var i = 0; i < item.items.length; i++) {

                                        var p = item.items[i].price;
                                        var q = item.items[i].quantity;
                                        total += p * q;
                                    }

                                    res[j].total = total;
                                }

                                options.success(res);
                                //console.log(res);
                            });
                        }
                    },
                    pageSize: 10,
                    serverPaging: true,
                    serverSorting: true
                },
                toolbar: ['excel', 'pdf'],

                excel: {
                    allPages: true,
                    proxyURL: "//demos.telerik.com/kendo-ui/service/export",
                    fileName: 'Mediabox-campaigns.xlsx',
                    filterable: true
                },
                pdf: {
                    allPages: true,
                    avoidLinks: true,
                    paperSize: "A4",
                    margin: { top: "2cm", left: "1cm", right: "1cm", bottom: "1cm" },
                    landscape: true,
                    repeatHeaders: true,
                    template: $("#page-template").html(),
                    scale: 0.8
                },
                sortable: true,
                pageable: true,
                editable: "popup",

                filterable: true,

                dataBound: function dataBound() {
                    this.expandRow(this.tbody.find("tr.k-master-row").first());
                },
                columns: [
                // { field: "orderNo", title: "Order Number" },
                { field: "created_at", title: "Order Date", type: 'datetime', template: "#=  (created_at == null)? '' : kendo.toString(kendo.parseDate(created_at, 'yyyy-MM-dd'), 'MM/dd/yy') #" }, { field: "status", title: "Status" }, { field: "payment.id", title: "Payment Reference" }, { field: "amount.total", title: "Total", format: "{0:c2}" }]
            };

            this.detailGridOptions = function (dataItem) {

                return {
                    dataSource: {
                        filter: { field: "orderNo", operator: "eq", value: dataItem.orderNo },
                        transport: {
                            read: function read(options) {
                                //options holds the grids current page and filter settings
                                var itemsGrid = [];
                                var q = {};
                                //q.where = { $and: [ { 'items.uid' : Auth.getCurrentUser().email }, { 'status':'Campaign Placed'} ] };
                                Order.my.query(function (res) {
                                    //console.log(res);


                                    var totalFinal = 0;
                                    var totalOrder = res.length;

                                    for (var j = 0; j < res.length; j++) {
                                        var total = 0;

                                        var item = res[j];
                                        for (var i = 0; i < item.items.length; i++) {

                                            var itemGridTemp = {
                                                orderNo: item.orderNo,
                                                puburl: item.items[i].url,
                                                id: item.items[i]._id,
                                                advertiser: item.items[i].advertiser,
                                                category: item.items[i].category,
                                                mrp: item.items[i].mrp,
                                                name: item.items[i].name,
                                                price: parseFloat(item.items[i].price),
                                                publisher: item.items[i].publisher,
                                                quantity: item.items[i].quantity,
                                                size: item.items[i].size,
                                                sku: item.items[i].sku,
                                                uid: item.items[i].uid
                                            };

                                            var p = item.items[i].price;
                                            var q = item.items[i].quantity;
                                            total += p * q;

                                            vm.itemsGrid.push(itemGridTemp);
                                        }

                                        res[j].total = total;
                                    }

                                    res.totalFinal = total;

                                    var data = [];
                                    //console.log(vm.itemsGrid);
                                    for (var i = 0; i < vm.itemsGrid.length; i++) {
                                        var item = vm.itemsGrid[i];
                                        if (item.orderNo == dataItem.orderNo) {
                                            //alert(item.campaignNo);
                                            data.push(item);
                                        }

                                        options.success(data);
                                        console.log(data);

                                        vm.data = [];
                                    }

                                    vm.itemsGrid = [];
                                });
                            }
                        },
                        serverPaging: true,
                        serverSorting: true,
                        serverFiltering: true,
                        pageSize: 5,
                        filterable: true

                    },
                    scrollable: false,
                    sortable: true,

                    pageable: true,
                    columns: [{ field: "orderNo", title: "Order #", width: "50px" }, { field: "publisher",title: "Publisher", width: "50px" },
                    //{ field: "category", title:"Category", width: "100px" },
                    { field: "name", title: "Name", width: "100px" }, { field: "price", title: "Price", width: "50px", format: "{0:c2}" }, { field: "quantity", title: "Quantity", width: "50px" }]
                };
            };
        } //end constuctor

        _createClass(OrderController, [{
            key: "navigate",
            value: function navigate(params) {
                this.$state.go('single-product', { id: params.sku, slug: params.description }, { reload: false });
            }
        }, {
            key: "getTotal",
            value: function getTotal(item) {
                // console.log(item);
                var total = 0;

                for (var i = 0; i < item.items.length; i++) {

                    // items[i].total = 0;

                    var p = item.items[i].price;
                    var q = item.items[i].quantity;
                    total += p * q;
                    // var x.sub.push(total);
                }
                // console.log(total);

                return total;
            }
        }, {
            key: "changeStatus",
            value: function changeStatus(order) {
                var vm = this;
                var vm = this;
                this.Order.update({ id: order._id }, order).$promise.then(function (res) {}, function (error) {
                    // error handler
                    if (error.data.errors) {
                        vm.Toast.show({
                            type: 'error',
                            text: error.data.errors.status.message
                        });
                    } else {
                        vm.Toast.show({
                            type: 'success',
                            text: error.statusText
                        });
                    }
                });
            }
        }]);

        return OrderController;
    }();

    angular.module('mediaboxApp').controller('OrderController', OrderController);
})();
//# sourceMappingURL=order.controller.js.map

'use strict';

angular.module('mediaboxApp').config(function ($stateProvider) {
  $stateProvider.state('order', {
    url: '/order?id&msg',
    templateUrl: 'app/order/order.html',
    controller: 'OrderController as order',
    authenticate: true
  });
});
//# sourceMappingURL=order.js.map

'use strict';

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

(function () {
    var OrdersController = function () {
        function OrdersController(Cart, Auth, Order, Toast, Settings, $state, $stateParams, $loading) {
            _classCallCheck(this, OrdersController);

            var vm = this;
            this.Order = Order;
            this.orderStatusLov = Order.status;
            this.Toast = Toast;
            this.Auth = Auth;
            this.Settings = Settings; // Used to get currency symbol
            this.$state = $state;
            this.options = {};
            this.itemsGrid = [];

            $loading.start("orders");

            this.orders = Order.pub.query({}, function (res) {
                var total = 0;
                for (var i = 0; i < res.length; i++) {
                    //     var subTotal = 0;
                    var item = res[i];
                    for (var j = 0; j < item.items.length; j++) {

                        // items[i].total = 0;

                        var p = item.items[j].price;
                        var q = item.items[j].quantity;
                        total += p * q;
                        // var x.sub.push(total);
                    }
                    // res.total = total;
                    console.log(total);
                    $loading.finish("orders");
                }
                $loading.finish("orders");
                res.total = total;
            });

            /***data table**/

            this.mainGridOptions = {
                dataSource: {

                    transport: {
                        read: function read(options) {
                            //options holds the grids current page and filter settings
                            Order.pub.query(function (res) {

                                for (var j = 0; j < res.length; j++) {
                                    var total = 0;
                                    var item = res[j];
                                    for (var i = 0; i < item.items.length; i++) {

                                        var p = item.items[i].price;
                                        var q = item.items[i].quantity;
                                        total += p * q;
                                    }

                                    res[j].total = total;
                                }

                                options.success(res);
                                console.log(res);
                            });
                        }
                    },
                    pageSize: 10,
                    serverPaging: true,
                    serverSorting: true
                },
                toolbar: ['excel', 'pdf'],

                excel: {
                    allPages: true,
                    proxyURL: "//demos.telerik.com/kendo-ui/service/export",
                    fileName: 'Mediabox-Orders.xlsx',
                    filterable: true
                },
                pdf: {
                    allPages: true,
                    avoidLinks: true,
                    paperSize: "A4",
                    margin: { top: "2cm", left: "1cm", right: "1cm", bottom: "1cm" },
                    landscape: true,
                    repeatHeaders: true,
                    template: $("#page-template").html(),
                    scale: 0.8
                },
                sortable: true,
                pageable: true,

                filterable: true,

                dataBound: function dataBound() {
                    this.expandRow(this.tbody.find("tr.k-master-row").first());
                },
                columns: [{ field: "created_at", title: "Order Date", type: 'datetime', template: "#=  (created_at == null)? '' : kendo.toString(kendo.parseDate(created_at, 'yyyy-MM-dd'), 'MM/dd/yy') #" }, { field: "status", title: "Status" }, 
                { field: "payment.id", title: "Payment Reference"}, { field: "total", title: "Total", format: "{0:c2}" }]
            };

            this.detailGridOptions = function (dataItem) {

                return {
                    dataSource: {
                        transport: {
                            read: function read(options) {
                                //options holds the grids current page and filter settings
                                var itemsGrid = [];
                                Order.pub.query({}, function (res) {

                                    var total = 0;
                                    var totalOrder = res.length;

                                    // console.log(res.OrderName);
                                    // for(var i=0;i<res.length;i++){
                                    //     var subTotal = 0;
                                    for (var j = 0; j < res.length; j++) {
                                        total = 0;
                                        // console.log();
                                        // subTotal += res[i].shipping.charge;
                                        var item = res[j];
                                        //console.log(dataItem.orderNo);


                                        //s console.log(item.orderNo);
                                        //itemsGrid.push(item.items);
                                        // var x = item.items
                                        // var x.sub = [];

                                        for (var i = 0; i < item.items.length; i++) {

                                            var itemGridTemp = {
                                                orderNo: item.orderNo,
                                                id: item._id,
                                                advertiser: item.items[i].advertiser,
                                                category: item.items[i].category,
                                                mrp: item.items[i].mrp,
                                                name: item.items[i].name,
                                                price: parseFloat(item.items[i].price),
                                                publisher: item.items[i].publisher,
                                                quantity: item.items[i].quantity,
                                                size: item.items[i].size,
                                                sku: item.items[i].sku,
                                                uid: item.items[i].uid
                                            };

                                            // items[i].total = 0;

                                            var p = item.items[i].price;
                                            var q = item.items[i].quantity;
                                            total += p * q;
                                            res.totalSpend = total;
                                            // var x.sub.push(total);

                                            vm.itemsGrid.push(itemGridTemp);
                                        }
                                        //console.log(total);
                                    }
                                    res.total = total;
                                    res.totalOrder = totalOrder;

                                    var data = [];
                                    //console.log(vm.itemsGrid);
                                    for (var i = 0; i < vm.itemsGrid.length; i++) {
                                        var item = vm.itemsGrid[i];
                                        if (item.orderNo == dataItem.orderNo) {
                                            //alert(item.campaignNo);
                                            data.push(item);
                                        }

                                        options.success(data);
                                        console.log(data);

                                        vm.data = [];
                                    }

                                    vm.itemsGrid = [];
                                });
                            }
                        },
                        serverPaging: true,
                        serverSorting: true,
                        serverFiltering: true,
                        pageSize: 5,
                        filter: { field: "orderNo", operator: "eq", value: dataItem.orderNo }

                    },
                    scrollable: false,
                    sortable: true,

                    pageable: true,
                    columns: [{ field: "orderNo", title: "Order #", width: "50px" }, { field: "publisher", title: "Product/Site", width: "100px" }, { field: "name", title: "Name", width: "100px" }, { field: "price", title: "Price", format: "{0:c2}", width: "50px" }, { field: "quantity", title: "Quantity", width: "50px" }]
                };
            };
        } //end constuctor

        _createClass(OrdersController, [{
            key: "navigate",
            value: function navigate(params) {
                this.$state.go('single-product', { id: params.sku, slug: params.description }, { reload: false });
            }
        }, {
            key: "getTotal",
            value: function getTotal(item) {
                // console.log(item);
                var total = 0;

                for (var i = 0; i < item.items.length; i++) {

                    // items[i].total = 0;

                    var p = item.items[i].price;
                    var q = item.items[i].quantity;
                    total += p * q;
                    // var x.sub.push(total);
                }
                // console.log(total);

                return total;
            }
        }, {
            key: "changeStatus",
            value: function changeStatus(order) {

                //console.log(order);
                var vm = this;
                var vm = this;
                this.Order.update({ id: order._id }, order).$promise.then(function (res) {}, function (error) {
                    // error handler
                    if (error.data.errors) {
                        vm.Toast.show({
                            type: 'error',
                            text: error.data.errors.status.message
                        });
                    } else {
                        vm.Toast.show({
                            type: 'success',
                            text: error.statusText
                        });
                    }
                });
            }
        }]);

        return OrdersController;
    }();

    angular.module('mediaboxApp').controller('OrdersController', OrdersController);
})();
//# sourceMappingURL=orders.controller.js.map

'use strict';

angular.module('mediaboxApp').config(function ($stateProvider) {
  $stateProvider.state('orders', {
    url: '/orders',
    templateUrl: 'app/orders/orders.html',
    controller: 'OrdersController as orders',
    authenticate: 'manager'
  });
});
//# sourceMappingURL=orders.js.map

'use strict';

angular.module('mediaboxApp').controller('PaymentMethodCtrl', function ($scope) {
  $scope.options = [{ field: 'name', dataType: 'select', options: ['PayPal', 'COD', 'Stripe'] }, { field: 'email' }, { field: 'active', dataType: 'boolean' }];
});
//# sourceMappingURL=payment-method.controller.js.map

'use strict';

angular.module('mediaboxApp').config(function ($stateProvider) {
  $stateProvider.state('payment-method', {
    url: '/payment-method',
    templateUrl: 'app/payment-method/payment-method.html',
    controller: 'PaymentMethodCtrl',
    authenticate: 'admin'
  });
});
//# sourceMappingURL=payment-method.js.map

'use strict';

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

(function () {
  var PaymentController = function PaymentController() {
    _classCallCheck(this, PaymentController);
  };

  angular.module('mediaboxApp').controller('PaymentController', PaymentController);
})();
//# sourceMappingURL=payment.controller.js.map

'use strict';

angular.module('mediaboxApp').config(function ($stateProvider) {
  $stateProvider.state('payment-success', {
    url: '/payment/success',
    templateUrl: 'app/payment/success.html',
    controller: 'PaymentController as payment',
    authenticate: true
  }).state('payment-cancel', {
    url: '/payment/cancel',
    templateUrl: 'app/payment/cancel.html',
    controller: 'PaymentController as payment',
    authenticate: true
  }).state('payment-error', {
    url: '/payment/error',
    templateUrl: 'app/payment/error.html',
    controller: 'PaymentController as payment',
    authenticate: true
  });
});
//# sourceMappingURL=payment.js.map

'use strict';

(function () {

  function ProductsDetailController($http, $state, Toast, $stateParams, ToggleComponent, Settings, $mdDialog, socket, $scope) {
    var vm = this;
    vm.myDate = new Date();
    vm.header = 'product';

    vm.product = {};
    vm.options = {};
    vm.product.variants = [];
    vm.product.newVariant = {};
    vm.product.features = [];
    vm.product.stats = [];
    vm.product.keyFeatures = [];
    vm.unsavedProduct = $stateParams.products;
    vm.product = angular.copy($stateParams.products);
    vm.options.categories = angular.copy($stateParams.categories);

    $scope.$watch('vm.product.category', function (newValue) {
      console.log(vm.product.category);
      if (typeof newValue != "string") {
        console.log(vm.product.category);
      }
    });

    if (vm.product.category == '582597286bf2000d54ac92fa' || vm.product.category == '5825972f6bf2000d54ac92fb' || vm.product.category == '582597976bf2000d54ac9304') {
      vm.options.brands = $stateParams.brandtvs;
    } else if (vm.product.category == '582597646bf2000d54ac9300' || vm.product.category == '5825976d6bf2000d54ac9301') {
      vm.options.brands = $stateParams.brandmgs;
    } else {
      vm.options.brands = angular.copy($stateParams.brands);
    }

    vm.options.brandmgs = angular.copy($stateParams.brandmgs);
    vm.options.brandtvs = angular.copy($stateParams.brandtvs);
    console.log($stateParams);

    vm.options.variants = angular.copy($stateParams.variants);
    vm.options.features = angular.copy($stateParams.features);
    vm.options.statistics = angular.copy($stateParams.statistics);
    vm.options.keyfeatures = angular.copy($stateParams.keyfeatures);

    console.log(vm.options.statistics);

    // The whole category hierarchy
    vm.loading = true;
    $http.get('/api/categories/all').then(function (res) {
      vm.loading = false;
      vm.options.categories = res.data;
    }, handleError);

    vm.changeCategory = function (cat) {

      console.log(vm.product.category);
      if (vm.product.category == '582597286bf2000d54ac92fa' || vm.product.category == '5825972f6bf2000d54ac92fb' || vm.product.category == '582597976bf2000d54ac9304') {
        vm.options.brands = $stateParams.brandtvs;
      } else if (vm.product.category == '582597646bf2000d54ac9300' || vm.product.category == '5825976d6bf2000d54ac9301') {
        vm.options.brands = $stateParams.brandmgs;
      } else {
        vm.options.brands = angular.copy($stateParams.brands);
      }
    };

    vm.save = function (product) {

      // refuse to work with invalid data
      if (!product) {
        Toast.show({
          type: 'error',
          text: 'No product defined.'
        });
        return;
      }
      if ('newVariant' in product) {
        vm.product.variants.push(product.newVariant);
      }

      $http.put('/api/products/' + product._id, product).then(success).catch(err);
      function success(res) {
        var item = vm.product = res.data;
        Toast.show({
          type: 'success',
          text: 'Product has been updated'
        });
      }

      function err(err) {
        console.log(err);
        if (product && err) {}

        Toast.show({
          type: 'warn',
          text: 'Error while updating database'
        });
      }
    };

    vm.mediaLibrary = function (index) {
      $mdDialog.show({
        template: '<md-dialog aria-label="Media Library" ng-cloak flex="95">\n        <md-toolbar class="md-warn">\n          <div class="md-toolbar-tools">\n            <h2>Media Library</h2>\n            <span flex></span>\n            <md-button class="md-icon-button" ng-click="cancel()">\n              <ng-md-icon icon="close" aria-label="Close dialog"></ng-md-icon>\n            </md-button>\n          </div>\n        </md-toolbar>\n\n        <md-dialog-content>\n            <div class="md-dialog-content"  class="md-whiteframe-z2">\n                <md-grid-list class="media-list" md-cols-xs ="3" md-cols-sm="4" md-cols-md="5" md-cols-lg="7" md-cols-gt-lg="10" md-row-height-gt-md="1:1" md-row-height="4:3" md-gutter="12px" md-gutter-gt-sm="8px" layout="row" layout-align="center center">\n                  <md-grid-tile ng-repeat="i in media" class="md-whiteframe-z2" ng-click="ok(i.path)">\n                \t\t<div class="thumbnail">\n                \t\t\t\t<img ng-src="{{i.path}}" draggable="false" alt="{{i.name}}">\n                \t\t</div>\n                    <md-grid-tile-footer><h3>{{i.name}}</h3></md-grid-tile-footer>\n                  </md-grid-tile>\n                </md-grid-list>\n          </div>\n        </md-dialog-content>\n        <md-dialog-actions layout="row">\n          <span flex></span>\n          <md-button ng-click="addNewImage()" class="md-warn md-raised">\n           Add new Image\n          </md-button>\n        </md-dialog-actions>\n      </md-dialog>\n',
        controller: function controller($scope, $mdDialog, $http, socket, $state) {
          // Start query the database for the table
          var vm = this;
          $scope.loading = true;
          $http.get('/api/media/').then(function (res) {
            $scope.loading = false;
            $scope.media = res.data;
            socket.syncUpdates('media', $scope.data);
          }, handleError);

          function handleError(error) {
            // error handler
            $scope.loading = false;
            if (error.status === 403) {
              Toast.show({
                type: 'error',
                text: 'Not authorised to make changes.'
              });
            } else {
              Toast.show({
                type: 'error',
                text: error.status
              });
            }
          }
          $scope.ok = function (path) {
            $mdDialog.hide(path);
          };
          $scope.hide = function () {
            $mdDialog.hide();
          };
          $scope.cancel = function () {
            $mdDialog.cancel();
          };
          $scope.addNewImage = function () {
            var vm = this;
            $state.go('media');
            vm.save(vm.product);
            $mdDialog.hide();
          };
        }

      }).then(function (answer) {
        if (index === 1000000) vm.product.variants.push({ size: 'x', image: answer });else vm.product.variants[index].image = answer;
      }, function () {});
    };

    function goBack() {
      ToggleComponent('products.detailView').close();
      $state.go('^', {}, { location: false });
    }
    vm.goBack = goBack;

    vm.deleteFeature = function (index, product) {
      vm.product.features.splice(index, 1);
      vm.save(product);
    };

    vm.deleteKeyFeature = function (index, product) {
      vm.product.keyFeatures.splice(index, 1);
      vm.save(product);
    };

    vm.deleteStat = function (index, product) {
      vm.product.stats.splice(index, 1);
      vm.save(product);
    };

    vm.deleteKF = function (index, product) {
      vm.product.keyFeatures.splice(index, 1);
      vm.save(product);
    };

    vm.deleteVariants = function (index, product) {
      vm.product.variants.splice(index, 1);
      vm.save(product);
    };
    function handleError(error) {
      // error handler
      vm.loading = false;
      if (error.status === 403) {
        Toast.show({
          type: 'error',
          text: 'Not authorised to make changes.'
        });
      } else {
        Toast.show({
          type: 'error',
          text: error.status
        });
      }
    }
  }

  angular.module('mediaboxApp').controller('ProductsDetailController', ProductsDetailController);
})();
//# sourceMappingURL=detail.controller.js.map

'use strict';

(function () {

  function ProductsListController($scope, $http, socket, $state, $mdDialog, $stateParams, Modal, Toast, Settings) {
    this.cols = [{ field: 'image', heading: 'image' }, { field: 'name', heading: 'name' }, { field: 'active', heading: 'active' }];
    this.header = 'Product';
    this.sort = {};
    this.$mdDialog = $mdDialog;
    var vm = this;
    vm.loading = true;

    // the selected item id
    var _id = null;
    var originatorEv;

    this.sort.predicate = 'name';
    this.sort.reverse = false;
    this.order = function (predicate) {
      this.sort.reverse = this.sort.predicate === predicate ? !this.sort.reverse : false;
      this.sort.predicate = predicate;
    };

    this.l = 10;
    this.loadMore = function () {
      this.l += 2;
    };

    this.exportData = function (type) {
      var data = JSON.stringify(this.data, undefined, 2);
      var blob;
      if (type === 'txt') {
        // Save as .txt
        blob = new Blob([data], { type: 'text/plain;charset=utf-8' });
        saveAs(blob, 'product.txt');
      } else if (type === 'csv') {
        // Save as .csv
        blob = new Blob([document.getElementById('exportable').innerHTML], { type: 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=utf-8' });
        saveAs(blob, "product.csv");
      } else if (type === 'xls') {
        // Save as xls
        blob = new Blob([document.getElementById('exportable').innerHTML], {
          type: "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=utf-8"
        });
        saveAs(blob, "product.xls");
      } else {
        // Save as .json
        blob = new Blob([data], { type: 'text/plain;charset=utf-8' });
        saveAs(blob, 'product.json');
      }
    };

    this.openMenu = function ($mdOpenMenu, ev) {
      originatorEv = ev;
      $mdOpenMenu(ev);
    };
    vm.isSelected = function (product) {
      return _id === product._id;
    };

    // Start query the database for products
    vm.loading = true;
    $http.get('/api/products').then(function (res) {
      vm.loading = false;
      vm.data = res.data;
      socket.syncUpdates('product', vm.data);
    }, handleError);

    // Start query the database for brands
    vm.loading = true;
    $http.get('/api/brands').then(function (res) {
      vm.loading = false;
      vm.brands = res.data;
      socket.syncUpdates('brand', vm.brands);
    }, handleError);

    $http.get('/api/brandmgs').then(function (res) {
      vm.loading = false;
      vm.brandmgs = res.data;
      socket.syncUpdates('brandmg', vm.brandmgs);
    }, handleError);

    $http.get('/api/brandtvs').then(function (res) {
      vm.loading = false;
      vm.brandtvs = res.data;
      socket.syncUpdates('brandtv', vm.brandtvs);
    }, handleError);

    // Start query the database for categories
    vm.loading = true;
    $http.get('/api/categories').then(function (res) {
      vm.loading = false;
      vm.categories = res.data;
      socket.syncUpdates('category', vm.categories);
    }, handleError);

    // Start query the database for features
    vm.loading = true;
    $http.get('/api/features').then(function (res) {
      vm.loading = false;
      vm.features = res.data;
      socket.syncUpdates('feature', vm.features);
    }, handleError);
    // Start query the database for features
    vm.loading = true;
    $http.get('/api/keyfeatures').then(function (res) {
      vm.loading = false;
      vm.keyfeatures = res.data;
      socket.syncUpdates('feature', vm.features);
    }, handleError);

    vm.loading = true;
    $http.get('api/statistics').then(function (res) {
      vm.loading = false;
      vm.statistics = res.data;
      socket.syncUpdates('statistic', vm.statistics);
    }, handleError);

    this.changeStatus = function (x) {
      $http.put('/api/products/' + x._id, { active: x.active }).then(function () {}, handleError);
    };

    this.delete = function (data) {
      var confirm = this.$mdDialog.confirm().title('Would you like to delete the product completely?').textContent('All its details will be deleted as well').ariaLabel('Confirm delete product').ok('Please do it!').cancel('No. keep');

      this.$mdDialog.show(confirm).then(function () {
        $http.delete('/api/products/' + data._id).then(function () {}, handleError);
      });
    };

    function handleError(error) {
      // error handler
      vm.loading = false;
      if (error.status === 403) {
        Toast.show({
          type: 'error',
          text: 'Not authorised to make changes.'
        });
      } else {
        Toast.show({
          type: 'error',
          text: error.status
        });
      }
    }

    $scope.$on('$destroy', function () {
      socket.unsyncUpdates('product');
    });

    this.showInDetails = function (item) {
      _id = item._id;
      $state.go('product-detail', { products: item, brands: vm.brands, brandmgs: vm.brandmgs, brandtvs: vm.brandtvs, categories: vm.categories, features: vm.features, keyfeatures: vm.keyfeatures, statistics: vm.statistics }, { location: false });
    };

    this.gotoDetail = function (params) {
      $state.go('single-product', { id: params._id, slug: params.slug }, { reload: false });
    };
  }

  angular.module('mediaboxApp').controller('ProductsListController', ProductsListController);
})();
//# sourceMappingURL=list.controller.js.map

'use strict';

(function () {

  function ProductsMainController(Modal, $stateParams) {
    var options = { api: 'product' };
    var cols = [{ field: 'sku', heading: 'SKU' }, { field: 'name', heading: 'Name' }, { field: 'description', heading: 'Description', dataType: 'textarea' }];
    this.create = function () {
      Modal.show(cols, options);
    };
  }

  angular.module('mediaboxApp').controller('ProductsMainController', ProductsMainController);
})();
//# sourceMappingURL=main.controller.js.map

'use strict';

angular.module('mediaboxApp').controller('ProductCtrl', function ($scope) {
  $scope.summary = [{ field: 'name' }, { field: 'category' }, { field: 'active' }];
  $scope.details = [{ field: 'name' }, { field: 'category' }, { field: 'brand' }, { field: 'active' }];
});
//# sourceMappingURL=product.controller.js.map

'use strict';

angular.module('mediaboxApp').config(function ($stateProvider) {
  $stateProvider.state('product', {
    url: '/product',
    params: { options: null, columns: null },
    views: {
      '': {
        templateUrl: 'app/product/main.html',
        controller: 'ProductsMainController as main'
      },
      'content@product': {
        url: '/content',
        templateUrl: 'app/product/list.html',
        controller: 'ProductsListController as list'
      }
    },
    authenticate: 'manager'
  }).state('product-detail', {
    url: '/product-detail/:id',
    onEnter: onEnterUserListDetail, // To open right sidebar
    params: { products: null, categories: null, brands: null, brandmgs: null, brandtvs: null, features: null, keyfeatures: null, statistics: null },
    parent: 'product',
    views: {
      '': {
        templateUrl: 'app/product/main.html'
      },
      'detail': {
        templateUrl: 'app/product/detail.html',
        controller: 'ProductsDetailController as detail'
      }
    },
    authenticate: 'manager'
  }).state('products-create', {
    url: '/products-create',
    parent: 'products',
    params: { data: null },
    views: {
      '': {}
    },
    authenticate: 'manager'
  });
  function resolveIdFromArray($stateParams) {
    return { '_id': $stateParams.id, 'api': $stateParams.api };
  }

  onEnterUserListDetail.$inject = ['$timeout', 'ToggleComponent'];

  function onEnterUserListDetail($timeout, ToggleComponent) {
    $timeout(showDetails, 0, false);

    function showDetails() {
      ToggleComponent('products.detailView').open();
    }
  }
});
//# sourceMappingURL=product.js.map

'use strict';

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

(function () {
    var ReviewController = function ReviewController() {
        _classCallCheck(this, ReviewController);

        this.options = [{ field: 'pid', heading: 'Product ID' }, { field: 'pname', heading: 'Product Name' }, { field: 'reviewer' }, { field: 'email' }, { field: 'message' }, { field: 'rating', dataType: 'number' }, { field: 'created', dataType: 'date' }];
    };

    angular.module('mediaboxApp').controller('ReviewController', ReviewController);
})();
//# sourceMappingURL=review.controller.js.map

'use strict';

angular.module('mediaboxApp').config(function ($stateProvider) {
  $stateProvider.state('review', {
    url: '/review',
    templateUrl: 'app/review/review.html',
    controller: 'ReviewController as review',
    authenticate: true
  });
});
//# sourceMappingURL=review.js.map

'use strict';

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

(function () {
    var ReviewsController = function ReviewsController() {
        _classCallCheck(this, ReviewsController);

        this.options = [{ field: 'pid', heading: 'Product ID' }, { field: 'pname', heading: 'Product Name' }, { field: 'reviewer' }, { field: 'email' }, { field: 'message' }, { field: 'rating', dataType: 'number' }, { field: 'created', dataType: 'date' }, { field: 'active', dataType: 'boolean' }];
    };

    angular.module('mediaboxApp').controller('ReviewsController', ReviewsController);
})();
//# sourceMappingURL=reviews.controller.js.map

'use strict';

angular.module('mediaboxApp').config(function ($stateProvider) {
  $stateProvider.state('reviews', {
    url: '/reviews',
    templateUrl: 'app/reviews/reviews.html',
    controller: 'ReviewsController as reviews',
    authenticate: true
  });
});
//# sourceMappingURL=reviews.js.map

'use strict';

(function () {
  angular.module('mediaboxApp').constant('Settings', {
    demo: false,
    country: {
      name: 'Zimbabwe',
      code: 'ZW' // must be 2 digit code from the list https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2 
    },
    handlingFee: '5 %',
    currency: {
      code: 'USD', // Paypal currency code *** Please choose from https://developer.paypal.com/docs/classic/api/currency_codes/
      shop_currency: 'USD',
      symbol: '$ ', // Currency symbol to be displayed through out the shop
      exchange_rate: '1' // Paypal currency code(USD) / Shop currency (INR) ***  exchange_rate should not be 0 else it will generate divided by 0 error
    },
    paymentStatus: ['Pending', 'Paid', 'created'], // On success from Paypal it stores as created
    orderStatus: ['Payment Pending', 'Order Placed', 'Order Accepted', 'Order Executed', 'Shipped', 'Delivered', 'Cancelled', 'Not in Stock'],
    campaignStatus: ['Creative Pending', 'Campaign Placed', 'Campaign Ready', 'Campaign Accepted', 'Campaign Executed', 'Campaign Completed', 'Campaign Rejected'],
    menu: {
      pages: [// Main menu8
      { text: 'Transaction History', url: 'order', authenticate: true, icon: 'account_balance' }, { text: 'Manage Orders', url: 'orders', authenticate: true, role: 'manager', icon: 'shopping_basket' }, { text: 'Campaign Management', url: 'campaigns', authenticate: true, role: 'manager', icon: 'chrome_reader_mode' }, { text: 'Campaigns', url: 'campaign', authenticate: true, icon: 'perm_media' }, { text: 'Profile', url: 'address', authenticate: true, icon: 'directions' },
      //{text:'Reviews', url: 'review', authenticate: true, role: 'admin',icon: 'star'},
      //{text:'Moderate Reviews', url: 'reviews', authenticate: true, role: 'admin', icon: 'star'},
      //{text:'Wishlist', url: 'wish', authenticate: true, role: 'admin',icon: 'favorite'},
      { text: 'My Library', url: 'media', authenticate: true, icon: 'photo_library' }, { text: 'Media Library', url: 'medias', authenticate: true, role: 'manager', icon: 'photo_library' }, { text: 'Inventory', url: 'product', authenticate: true, role: 'manager', icon: 'style' }],
      user: [// Separate panel for user management tasks for both admin and user
      /// {text:'Users', url: 'admin', authenticate: true, role: 'admin', icon: 'perm_identity'},
      { text: 'Change Password', authenticate: true, url: 'cp', icon: 'settings_applications' }, { text: 'logout', authenticate: true, url: 'logout', icon: 'logout' }]
    }
  });
})();
//# sourceMappingURL=settings.js.map

'use strict';

angular.module('mediaboxApp').controller('ShippingCtrl', function ($scope) {
  $scope.options = [{ field: 'carrier' }, { field: 'country' }, { field: 'charge', dataType: 'currency' }, { field: 'minWeight', dataType: 'number' }, { field: 'maxWeight', dataType: 'number' }, { field: 'freeShipping', dataType: 'currency' }, { field: 'active', dataType: 'boolean' }];
});
//# sourceMappingURL=shipping.controller.js.map

'use strict';

angular.module('mediaboxApp').config(function ($stateProvider) {
  $stateProvider.state('shipping', {
    url: '/shipping',
    templateUrl: 'app/shipping/shipping.html',
    controller: 'ShippingCtrl',
    authenticate: 'manager'
  });
});
//# sourceMappingURL=shipping.js.map

'use strict';

angular.module('mediaboxApp').controller('StatisticCtrl', function ($scope) {
  $scope.options = [{ field: 'key' }, { field: 'val' }, { field: 'active', dataType: 'boolean' }];
});
//# sourceMappingURL=statistic.controller.js.map

'use strict';

angular.module('mediaboxApp').config(function ($stateProvider) {
  $stateProvider.state('statistic', {
    url: '/statistic',
    templateUrl: 'app/statistic/statistic.html',
    controller: 'StatisticCtrl',
    authenticate: 'manager'
  });
});
//# sourceMappingURL=statistic.js.map

'use strict';

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

(function () {
    var WishController = function () {
        function WishController(Wishlist, $state) {
            _classCallCheck(this, WishController);

            this.Wishlist = Wishlist;
            this.wishes = Wishlist.query();
            this.$state = $state;
        }

        _createClass(WishController, [{
            key: 'remove',
            value: function remove(wish) {
                var vm = this;
                this.Wishlist.delete({ id: wish._id }, function (res) {
                    if (res) {
                        vm.wishes = vm.Wishlist.query();
                    }
                });
            }
        }, {
            key: 'gotoDetail',
            value: function gotoDetail(params) {
                this.$state.go('single-product', { id: params.pid, slug: params.slug }, { reload: false });
            }
        }]);

        return WishController;
    }();

    angular.module('mediaboxApp').controller('WishController', WishController);
})();
//# sourceMappingURL=wish.controller.js.map

'use strict';

angular.module('mediaboxApp').config(function ($stateProvider) {
  $stateProvider.state('wish', {
    url: '/wish',
    templateUrl: 'app/wish/wish.html',
    controller: 'WishController as wish',
    authenticate: true
  });
});
//# sourceMappingURL=wish.js.map

'use strict';

(function () {
  var NGPCanvas,
      NGPImage,
      NGPImageLoader,
      NGPIndicator,
      module,
      __bind = function __bind(fn, me) {
    return function () {
      return fn.apply(me, arguments);
    };
  };

  module = angular.module('ngPintura', []);

  NGPImageLoader = function () {
    function NGPImageLoader(files, loadedCb, progressCb) {
      var file, _i, _len, _ref;
      this.files = files != null ? files : [];
      this.loadedCb = loadedCb;
      this.progressCb = progressCb;
      this.onload = __bind(this.onload, this);
      this.loaded = 0;
      _ref = this.files;
      for (_i = 0, _len = _ref.length; _i < _len; _i++) {
        file = _ref[_i];
        file.image = new Image();
        file.image.onload = this.onload;
        file.image.src = file.url;
      }
    }

    NGPImageLoader.prototype.onload = function () {
      this.loaded += 1;
      if (this.progressCb) {
        this.progressCb(this.loaded / this.files.length);
      }
      if (this.loaded >= this.files.length) {
        return this.loadedCb(this.files);
      }
    };

    return NGPImageLoader;
  }();

  NGPCanvas = function () {
    function NGPCanvas() {
      var imageNode, indicatorNode, layerNode, stageNode;
      stageNode = new Konva.Stage({
        container: angular.element('<div>')[0]
      });
      layerNode = new Konva.Layer();
      imageNode = new Konva.Image();
      indicatorNode = new Konva.Rect();
      stageNode.add(layerNode);
      layerNode.add(imageNode);
      layerNode.add(indicatorNode);
      this.progressCb = void 0;
      this.stage = stageNode;
      this.layer = layerNode;
      this.image = new NGPImage(imageNode);
      this.indicator = new NGPIndicator(indicatorNode);
    }

    NGPCanvas.prototype.resize = function (width, height) {
      this.stage.size({
        width: width,
        height: height
      });
      this.indicator.node.position({
        x: width / 2,
        y: height / 2
      });
      return this.image.adjustScaleBounds(this.stage.size());
    };

    NGPCanvas.prototype.imageChange = function (src) {
      this.image.node.visible(false);
      this.indicator.node.visible(true);
      this.indicator.animation.start();
      if (typeof src === 'string') {
        return Konva.Image.fromURL(src, function (_this) {
          return function (newImage) {
            _this.setImage(newImage.image());
            return newImage.destroy();
          };
        }(this));
      } else if (src instanceof Image) {
        return this.setImage(src);
      } else if (src instanceof Array) {
        return this.setCollage(src);
      } else {
        return console.log('src is empty or unknown format:', src);
      }
    };

    NGPCanvas.prototype.setImage = function (newImage) {
      this.image.node.size({
        width: newImage.width,
        height: newImage.height
      });
      this.image.node.image(newImage);
      this.indicator.node.visible(false);
      this.indicator.animation.stop();
      this.image.adjustScaleBounds(this.stage.size());
      this.image.node.visible(true);
      this.image.node.parent.draw();
      return this.image.node.fire(this.image.LOADED);
    };

    NGPCanvas.prototype.setCollage = function (files) {
      var loaded;
      loaded = function (_this) {
        return function (images) {
          var image, rowsX, rowsY, tmpLayer, _i, _len;
          rowsX = 0;
          rowsY = 0;
          tmpLayer = new Konva.Layer();
          for (_i = 0, _len = images.length; _i < _len; _i++) {
            image = images[_i];
            rowsX = Math.max(image.x + 1, rowsX);
            rowsY = Math.max(image.y + 1, rowsY);
            tmpLayer.add(new Konva.Image({
              image: image.image,
              x: image.x * image.image.width,
              y: image.y * image.image.height
            }));
          }
          return tmpLayer.toImage({
            x: 0,
            y: 0,
            width: rowsX * images[0].image.width,
            height: rowsY * images[0].image.height,
            callback: function callback(image) {
              _this.setImage(image);
              return tmpLayer.destroy();
            }
          });
        };
      }(this);
      return new NGPImageLoader(files, loaded, this.progressCb);
    };

    return NGPCanvas;
  }();

  /*
   *
   */

  NGPIndicator = function () {
    function NGPIndicator(node) {
      var _animFn;
      this.node = node;
      this.rotationSpeed = 270;
      this.node.setAttrs({
        width: 50,
        height: 50,
        fill: 'pink',
        stroke: 'white',
        strokeWidth: 4,
        zIndex: 99,
        visible: false,
        offset: {
          x: 25,
          y: 25
        }
      });
      _animFn = function (_this) {
        return function (frame) {
          var angleDiff;
          angleDiff = frame.timeDiff * _this.rotationSpeed / 1000;
          return _this.node.rotate(angleDiff);
        };
      }(this);
      this.animation = new Konva.Animation(_animFn, this.node.parent);
    }

    return NGPIndicator;
  }();

  /*
   *
   */

  NGPImage = function () {
    function NGPImage(node) {
      this.node = node;
      this.LOADED = 'loaded';
      this.node.draggable(true);
      this.minScale = 0.5;
      this.maxScale = 1;
      this.tween = void 0;
      this.tweenDuration = 0.25;
    }

    NGPImage.prototype.adjustScaleBounds = function (viewport) {
      if (!this.node.width() || !this.node.height()) {
        return;
      }
      this.minScale = viewport.width / this.node.width();
      if (viewport.height < this.node.height() * this.minScale) {
        this.minScale = viewport.height / this.node.height();
      }
      return this.minScale = Math.min(this.minScale, 1);
    };

    NGPImage.prototype._fitScale = function (scale) {
      return Math.min(Math.max(scale, this.minScale), this.maxScale);
    };

    NGPImage.prototype._zoomToPointAttrs = function (scale, point) {
      var attrs, imgPoint, scaling;
      scaling = this.node.scaleX() + scale;
      scaling = this._fitScale(scaling);
      imgPoint = this.node.getAbsoluteTransform().copy().invert().point(point);
      return attrs = {
        x: (-imgPoint.x + point.x / scaling) * scaling,
        y: (-imgPoint.y + point.y / scaling) * scaling,
        scaleX: scaling,
        scaleY: scaling
      };
    };

    NGPImage.prototype.zoomToPoint = function (scale, point) {
      this.node.setAttrs(this._zoomToPointAttrs(scale, point));
      return this.node.parent.draw();
    };

    NGPImage.prototype.zoomToPointer = function (scale) {
      return this.zoomToPoint(scale, this.node.getStage().getPointerPosition());
    };

    NGPImage.prototype._stageCenter = function () {
      var center;
      return center = {
        x: this.node.getStage().width() / 2,
        y: this.node.getStage().height() / 2
      };
    };

    NGPImage.prototype.zoomToCenter = function (scale) {
      return this.zoomToPoint(scale, this._stageCenter());
    };

    NGPImage.prototype.zoomToPointTween = function (scale, point, callback) {
      var tweenAttrs;
      tweenAttrs = this._zoomToPointAttrs(scale, point);
      if (scale !== this.node.scaleX() || tweenAttrs.x !== this.node.x() || tweenAttrs.y !== this.node.y()) {
        if (this.tween) {
          this.tween.pause().destroy();
        }
        this.tween = new Konva.Tween(angular.extend(tweenAttrs, {
          node: this.node,
          duration: this.tweenDuration,
          easing: Konva.Easings.EaseOut,
          onFinish: callback
        }));
        return this.tween.play();
      }
    };

    NGPImage.prototype.zoomToCenterTween = function (scale, callback) {
      return this.zoomToPointTween(scale, this._stageCenter(), callback);
    };

    NGPImage.prototype.moveByVectorTween = function (v, callback) {
      var pos;
      pos = this.node.position();
      if (v.x) {
        pos.x += v.x;
      }
      if (v.y) {
        pos.y += v.y;
      }
      if (pos.x !== this.node.x() || pos.y !== this.node.y()) {
        if (this.tween) {
          this.tween.pause().destroy();
        }
        this.tween = new Konva.Tween(angular.extend(pos, {
          node: this.node,
          duration: this.tweenDuration,
          easing: Konva.Easings.EaseOut,
          onFinish: callback
        }));
        return this.tween.play();
      }
    };

    NGPImage.prototype.fitInViewTween = function (callback) {
      var attrs, imgScaled;
      imgScaled = {
        width: this.node.width() * this.minScale,
        height: this.node.height() * this.minScale
      };
      attrs = {
        scaleX: this.minScale,
        scaleY: this.minScale,
        x: imgScaled.width < this.node.getStage().width() ? (this.node.getStage().width() - imgScaled.width) / 2 : 0,
        y: imgScaled.height < this.node.getStage().height() ? (this.node.getStage().height() - imgScaled.height) / 2 : 0
      };
      if (attrs.x !== this.node.x() || attrs.y !== this.node.y() || attrs.scaleX !== this.node.scaleX()) {
        if (this.tween) {
          this.tween.pause().destroy();
        }
        this.tween = new Konva.Tween(angular.extend(attrs, {
          node: this.node,
          duration: this.tweenDuration,
          easing: Konva.Easings.EaseOut,
          onFinish: callback
        }));
        return this.tween.play();
      }
    };

    return NGPImage;
  }();

  module.service('ngPintura', function () {
    return new NGPCanvas();
  });

  /**
   * pintura container
   * creates and shares paperjs scope with child directives
   * creates canvas
   */

  module.directive('ngPintura', ["ngPintura", "$window", function (ngPintura, $window) {
    var directive;
    return directive = {
      transclude: true,
      scope: {
        src: '=ngpSrc',
        scaling: '=ngpScaling',
        position: '=ngpPosition',
        fitOnload: '=ngpfitOnload',
        maxScaling: '=ngpMaxScaling',
        scaleStep: '=ngpScaleStep',
        mwScaleStep: '=ngpMwScaleStep',
        moveStep: '=ngpMoveStep',
        progress: '=ngpProgress'
      },
      link: function link(scope, element, attrs, ctrl, transcludeFn) {
        var applySyncScope, imageChange, imageLoad, maxScalingChange, mouseWheel, positionChange, resizeContainer, scalingChange, setScalingDisabled, syncScope;
        scope.slider = {
          value: void 0,
          fromScaling: function fromScaling(scale) {
            return this.value = parseInt((scale - ngPintura.image.minScale) / (ngPintura.image.maxScale - ngPintura.image.minScale) * 100);
          },
          toScaling: function toScaling() {
            return (ngPintura.image.maxScale - ngPintura.image.minScale) * (this.value / 100) + ngPintura.image.minScale;
          }
        };
        resizeContainer = function resizeContainer() {
          ngPintura.resize(element[0].clientWidth, element[0].clientHeight);
          return setScalingDisabled();
        };
        imageChange = function imageChange() {
          return ngPintura.imageChange(scope.src);
        };
        positionChange = function positionChange() {
          var _ref, _ref1;
          if (((_ref = scope.position) != null ? _ref.x : void 0) && ((_ref1 = scope.position) != null ? _ref1.y : void 0)) {
            ngPintura.image.node.position(scope.position);
            return ngPintura.layer.draw();
          }
        };
        scalingChange = function scalingChange() {
          ngPintura.image.node.scale({
            x: scope.scaling,
            y: scope.scaling
          });
          ngPintura.layer.draw();
          return scope.slider.fromScaling(scope.scaling);
        };
        mouseWheel = function mouseWheel(e) {
          e.evt.preventDefault();
          if (e.evt.wheelDeltaY > 0) {
            ngPintura.image.zoomToPointer(scope.mwScaleStep);
          } else {
            ngPintura.image.zoomToPointer(-scope.mwScaleStep);
          }
          return applySyncScope();
        };
        syncScope = function syncScope() {
          scope.position = ngPintura.image.node.position();
          scope.scaling = ngPintura.image.node.scaleX();
          if (scope.slider.toScaling() !== scope.scaling) {
            return scope.slider.fromScaling(scope.scaling);
          }
        };
        applySyncScope = function applySyncScope() {
          return scope.$apply(syncScope);
        };
        scope.fitInView = function () {
          return ngPintura.image.fitInViewTween(applySyncScope);
        };
        scope.moveUp = function () {
          return ngPintura.image.moveByVectorTween({
            y: scope.moveStep
          }, applySyncScope);
        };
        scope.moveDown = function () {
          return ngPintura.image.moveByVectorTween({
            y: -scope.moveStep
          }, applySyncScope);
        };
        scope.moveRight = function () {
          return ngPintura.image.moveByVectorTween({
            x: -scope.moveStep
          }, applySyncScope);
        };
        scope.moveLeft = function () {
          return ngPintura.image.moveByVectorTween({
            x: scope.moveStep
          }, applySyncScope);
        };
        scope.zoomIn = function () {
          return ngPintura.image.zoomToCenterTween(scope.scaleStep, applySyncScope);
        };
        scope.zoomOut = function () {
          return ngPintura.image.zoomToCenterTween(-scope.scaleStep, applySyncScope);
        };
        scope.sliderChange = function () {
          var scale;
          scale = scope.slider.toScaling() - ngPintura.image.node.scaleX();
          ngPintura.image.zoomToCenter(scale);
          return syncScope();
        };
        setScalingDisabled = function setScalingDisabled() {
          return scope.scalingDisabled = ngPintura.image.minScale >= ngPintura.image.maxScale;
        };
        imageLoad = function imageLoad() {
          if (scope.fitOnload) {
            scope.fitInView();
          }
          return setScalingDisabled();
        };
        maxScalingChange = function maxScalingChange() {
          ngPintura.image.maxScale = scope.maxScaling;
          return setScalingDisabled();
        };
        ngPintura.progressCb = function (progress) {
          return scope.$apply(function () {
            return scope.progress = progress;
          });
        };
        if (scope.maxScaling == null) {
          scope.maxScaling = 1;
        }
        if (scope.scaleStep == null) {
          scope.scaleStep = 0.4;
        }
        if (scope.mwScaleStep == null) {
          scope.mwScaleStep = 0.1;
        }
        if (scope.moveStep == null) {
          scope.moveStep = 100;
        }
        if (scope.fitOnload == null) {
          scope.fitOnload = true;
        }
        element.append(ngPintura.stage.content);
        resizeContainer();
        angular.element($window).on('resize', resizeContainer);
        scope.$watch('src', imageChange);
        scope.$watch('position', positionChange, true);
        scope.$watch('scaling', scalingChange);
        scope.$watch('maxScaling', maxScalingChange);
        ngPintura.image.node.on('dragend', applySyncScope);
        ngPintura.image.node.on('mousewheel', mouseWheel);
        ngPintura.image.node.on(ngPintura.image.LOADED, imageLoad);
        return transcludeFn(scope, function (clonedTranscludedTemplate) {
          return element.append(clonedTranscludedTemplate);
        });
      }
    };
  }]);
}).call(undefined);
//# sourceMappingURL=angular-pintura.js.map

'use strict';

(function () {

  function AuthService($location, $http, $cookies, $q, appConfig, Util, User) {
    var safeCb = Util.safeCb;
    var currentUser = {};
    var userRoles = appConfig.userRoles || [];

    if ($cookies.get('token') && $location.path() !== '/logout') {
      currentUser = User.get();
    }

    var Auth = {

      /**
       * Authenticate user and save token
       *
       * @param  {Object}   user     - login info
       * @param  {Function} callback - optional, function(error, user)
       * @return {Promise}
       */
      login: function login(_ref, callback) {
        var email = _ref.email,
            password = _ref.password;

        return $http.post('/auth/local', {
          email: email,
          password: password
        }).then(function (res) {
          $cookies.put('token', res.data.token);
          currentUser = User.get();
          return currentUser.$promise;
        }).then(function (user) {
          safeCb(callback)(null, user);
          return user;
        }).catch(function (err) {
          Auth.logout();
          safeCb(callback)(err.data);
          return $q.reject(err.data);
        });
      },


      /**
       * Delete access token and user info
       */
      logout: function logout() {
        $cookies.remove('token');
        currentUser = {};
      },


      /**
       * Create a new user
       *
       * @param  {Object}   user     - user info
       * @param  {Function} callback - optional, function(error, user)
       * @return {Promise}
       */
      createUser: function createUser(user, callback) {
        return User.save(user, function (data) {
          $cookies.put('token', data.token);
          currentUser = User.get();
          return safeCb(callback)(null, user);
        }, function (err) {
          Auth.logout();
          return safeCb(callback)(err);
        }).$promise;
      },


      /**
       * Change password
       *
       * @param  {String}   oldPassword
       * @param  {String}   newPassword
       * @param  {Function} callback    - optional, function(error, user)
       * @return {Promise}
       */
      changePassword: function changePassword(oldPassword, newPassword, callback) {
        return User.changePassword({ id: currentUser._id }, {
          oldPassword: oldPassword,
          newPassword: newPassword
        }, function () {
          return safeCb(callback)(null);
        }, function (err) {
          return safeCb(callback)(err);
        }).$promise;
      },


      /**
       * Gets all available info on a user
       *   (synchronous|asynchronous)
       *
       * @param  {Function|*} callback - optional, funciton(user)
       * @return {Object|Promise}
       */
      getCurrentUser: function getCurrentUser(callback) {
        if (arguments.length === 0) {
          return currentUser;
        }

        var value = currentUser.hasOwnProperty('$promise') ? currentUser.$promise : currentUser;
        return $q.when(value).then(function (user) {
          safeCb(callback)(user);
          return user;
        }, function () {
          safeCb(callback)({});
          return {};
        });
      },


      /**
       * Check if a user is logged in
       *   (synchronous|asynchronous)
       *
       * @param  {Function|*} callback - optional, function(is)
       * @return {Bool|Promise}
       */
      isLoggedIn: function isLoggedIn(callback) {
        if (arguments.length === 0) {
          return currentUser.hasOwnProperty('role');
        }

        return Auth.getCurrentUser(null).then(function (user) {
          var is = user.hasOwnProperty('role');
          safeCb(callback)(is);
          return is;
        });
      },

      isLoggedInAsync: function isLoggedInAsync(cb) {
        if (currentUser.hasOwnProperty('$promise')) {
          currentUser.$promise.then(function () {
            cb(true);
          }).catch(function () {
            cb(false);
          });
        } else if (currentUser.hasOwnProperty('role')) {
          cb(true);
        } else {
          cb(false);
        }
      },

      /**
       * Check if a user has a specified role or higher
       *   (synchronous|asynchronous)
       *
       * @param  {String}     role     - the role to check against
       * @param  {Function|*} callback - optional, function(has)
       * @return {Bool|Promise}
       */
      hasRole: function hasRole(role, callback) {
        var hasRole = function hasRole(r, h) {
          return userRoles.indexOf(r) >= userRoles.indexOf(h);
        };

        if (arguments.length < 2) {
          return hasRole(currentUser.role, role);
        }

        return Auth.getCurrentUser(null).then(function (user) {
          var has = user.hasOwnProperty('role') ? hasRole(user.role, role) : false;
          safeCb(callback)(has);
          return has;
        });
      },


      /**
       * Check if a user is an admin
       *   (synchronous|asynchronous)
       *
       * @param  {Function|*} callback - optional, function(is)
       * @return {Bool|Promise}
       */
      isAdmin: function isAdmin() {
        return Auth.hasRole.apply(Auth, [].concat.apply(['admin'], arguments));
      },


      /**
       * Get auth token
       *
       * @return {String} - a token string used for authenticating
       */
      getToken: function getToken() {
        return $cookies.get('token');
      }
    };

    return Auth;
  }

  angular.module('mediaboxApp.auth').factory('Auth', AuthService);
})();
//# sourceMappingURL=auth.service.js.map

'use strict';

(function () {

  function authInterceptor($q, $cookies, $injector, Util, Settings) {
    var state;

    return {
      // Add authorization token to headers
      request: function request(config) {
        config.headers = config.headers || {};
        if (Settings.demo) {
          if (config.method === 'PATCH' || config.method === 'PUT' || config.method === 'POST' || config.method === 'DELETE') {
            var allowedURL = config.url === '/auth/local' || config.url.match('api/users/*') // Allow login, signup, change-password, forgot, reset ** User Deletion blocked at admin page
            || config.url === '/api/orders' || config.url === '/api/reviews' || config.url === '/api/wishlists' || config.url === '/api/pay/stripe' || config.url === '/api/sendmail' || config.url.match('/api/address/*');
            if (!allowedURL || config.method === 'DELETE' || config.data.role) {
              // Do not allow delete in demo mode
              var response = { type: 'demo', text: 'Demo Mode: Unable to save', message: 'Demo Mode: Unable to save', data: 'Demo Mode: Unable to save' };
              $injector.get('Toast').show(response);
              return $q.reject(response);
            }
          }
        }
        if ($cookies.get('token') && Util.isSameOrigin(config.url)) {
          config.headers.Authorization = 'Bearer ' + $cookies.get('token');
        }
        return config;
      },


      // Intercept 401s and redirect you to login
      responseError: function responseError(response) {
        // console.log('error at auth interceptor', response)
        if (response.status === 401) {
          // $injector.get('Toast').show({type: 'error', text: response.statusText});
          if (response.config.url !== "/auth/local") // If the request is not from login modal page
            $injector.get('LoginModal').show('/'); // Causes circular dependency

          // (state || (state = $injector.get('$state'))).go('login');
          // remove any stale tokens
          $cookies.remove('token');
        }
        return $q.reject(response);
      }
    };
  }

  angular.module('mediaboxApp.auth').factory('authInterceptor', authInterceptor);
})();
//# sourceMappingURL=interceptor.service.js.map

'use strict';

(function () {

  angular.module('mediaboxApp.auth').run(function ($rootScope, $state, $location, Auth, LoginModal, Toast) {
    // Redirect to login if route requires auth and the user is not logged in, or doesn't have required role
    $rootScope.$on('$stateChangeStart', function (event, next) {
      // Routes that does not require login (Public routes)
      if (!next.authenticate) {
        return;
      }
      // Routes that require specific roles
      if (typeof next.authenticate === 'string') {
        Auth.hasRole(next.authenticate, _.noop).then(function (has) {
          if (has) {
            return;
          }
          $state.go('login');
          Toast.show({ type: 'error', text: 'Unauthorized to make changes' });
        });
      } else {
        // Routes that require only authentication without any specific roles
        Auth.isLoggedInAsync(function (is) {
          if (!is) {
            event.preventDefault();
            LoginModal.show(next.name);
          }
        });
      }
    });
    $rootScope.$on('$stateChangeError', function (event, toState, toParams, fromState, fromParams, error) {
      // this is required if you want to prevent the $UrlRouter reverting the URL to the previous valid location
      Toast.show({ type: 'error', text: 'The requested page has some error' });
      return $location.path(fromState, fromParams);
    });
  });
})();
//# sourceMappingURL=router.decorator.js.map

'use strict';

(function () {

  function UserResource($resource) {
    return $resource('/api/users/:id/:controller', {
      id: '@_id'
    }, {
      changePassword: {
        method: 'PUT',
        params: {
          controller: 'password'
        }
      },
      get: {
        method: 'GET',
        params: {
          id: 'me'
        }
      }
    });
  }

  angular.module('mediaboxApp.auth').factory('User', UserResource);
})();
//# sourceMappingURL=user.service.js.map

'use strict';

angular.module('mediaboxApp').directive('input', ['$mdDatePicker', '$timeout', function ($mdDatePicker, $timeout) {
  return {
    restrict: 'E',
    require: '?ngModel',
    templateUrl: 'components/calendar/calendar.html',
    link: function link(scope, element, attrs, ngModel) {
      if ('undefined' !== typeof attrs.type && 'calendar' === attrs.type && ngModel) {
        $timeout(function () {
          var isDate = moment(ngModel.$modelValue).isValid();
          if (isDate) {
            ngModel.$setViewValue(moment(ngModel.$modelValue).format('YYYY-MM-DD'));
            ngModel.$render();
          }
        });
        // ngModel.$setViewValue('2013-12-10');
        // ngModel.$render();
        angular.element(element).on('click', function (ev) {
          var isDate = moment(ngModel.$modelValue).isValid();
          if (!isDate) {
            ngModel.$modelValue = Date.now();
          }
          $mdDatePicker(ev, ngModel.$modelValue).then(function (selectedDate) {
            $timeout(function () {
              var isDate = moment(selectedDate).isValid();
              if (isDate) {
                ngModel.$setViewValue(moment(selectedDate).format('YYYY-MM-DD'));
                ngModel.$render();
              }
            });
          });
        });
      }
    }
  };
}]).controller('DatePickerCtrl', ['$scope', '$mdDialog', 'currentDate', '$mdMedia', function ($scope, $mdDialog, currentDate, $mdMedia) {
  var self = this;
  this.currentDate = currentDate;
  this.currentMoment = moment(self.currentDate);
  this.weekDays = moment.weekdaysMin();

  $scope.$mdMedia = $mdMedia;
  $scope.yearsOptions = [];
  for (var i = 1970; i <= this.currentMoment.year() + 100; i++) {
    $scope.yearsOptions.push(i);
  }
  $scope.year = this.currentMoment.year();

  this.setYear = function () {
    self.currentMoment.year($scope.year);
  };

  this.selectDate = function (dom) {
    self.currentMoment.date(dom);
  };

  this.cancel = function () {
    $mdDialog.cancel();
  };

  this.confirm = function () {
    $mdDialog.hide(this.currentMoment.toDate());
  };

  this.getDaysInMonth = function () {
    var days = self.currentMoment.daysInMonth(),
        firstDay = moment(self.currentMoment).date(1).day();

    var arr = [];
    for (var i = 1; i <= firstDay + days; i++) {
      arr.push(i > firstDay ? i - firstDay : false);
    }
    return arr;
  };

  this.nextMonth = function () {
    self.currentMoment.add(1, 'months');
    $scope.year = self.currentMoment.year();
  };

  this.prevMonth = function () {
    self.currentMoment.subtract(1, 'months');
    $scope.year = self.currentMoment.year();
  };
}]).factory('$mdDatePicker', ['$mdDialog', function ($mdDialog) {
  var datePicker = function datePicker(targetEvent, currentDate) {
    var jsDate = moment(currentDate, 'DD-MMM-YYYY').toDate();
    if (!angular.isDate(jsDate)) {
      currentDate = Date.now();
    }
    return $mdDialog.show({
      controller: 'DatePickerCtrl',
      controllerAs: 'datepicker',
      templateUrl: '/modal.datepicker.html',
      targetEvent: targetEvent,
      locals: {
        currentDate: currentDate
      }
    });
  };

  return datePicker;
}]);
//# sourceMappingURL=calendar.directive.js.map

'use strict';

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

(function () {
    var cartButtonsController =
    /*@ngInject*/
    function cartButtonsController(Cart, Auth) {
        _classCallCheck(this, cartButtonsController);

        this.cart = Cart.cart;
        this.Auth = Auth;
        this.addItem = function (product, variant, i) {
            var advertiser = this.Auth.getCurrentUser();
            i = i || 1;

            if (product.campaignName) {

                this.cart.addItem({ sku: variant._id, name: variant.name, slug: variant.formart, mrp: variant.model, image: variant.image, weight: variant.maxSize, size: variant.size, price: variant.price, quantity: 1, 'advertiser': advertiser, publisher: variant.publisher, publisheruid: variant.publisheruid, vid: variant._id }, i);
            }

            //ng-click="cart.addItem({sku:adspace.sku, name:adspace.name,slug:adspace.formart,mrp:adspace.model, weight:adspace.maxSize,size:adspace.size,price:adspace.price ,status: {name:'New', val:402}, publisher:product.name,advertiser:user,uid:product.uid,category:product.brand.name,image:product.logo[0].base64,quantity:1} ,true);"
            /*
               todo add category to cart
             */

            this.cart.addItem({ sku: variant._id, name: variant.name, slug: variant.formart, mrp: variant.model, weight: variant.maxSize, size: variant.size, price: variant.price, status: { name: 'New', val: 402 }, publisher: product.name, publisheruid: product.uid, advertiser: this.Auth.getCurrentUser(), uid: product.uid, image: product.logo[0].base64, quantity: 1, vid: variant._id }, i);
        };
    };

    angular.module('mediaboxApp').component('cartButtons', {
        template: '    \n        <section class="md-actions cta" layout="row" layout-align="start end" ng-show="$ctrl.variant.price" ng-if="$ctrl.cart.checkCart($ctrl.variant._id, $ctrl.variant._id)">\n            <md-button ng-click="$ctrl.addItem($ctrl.product, $ctrl.variant)" class="md-raised md-primary"\n            aria-label="Add to cart">\n                <ng-md-icon icon="shopping_cart"></ng-md-icon>Add to cart\n            </md-button>\n        </section>\n\n        <section class="md-actions cta" ng-hide="$ctrl.variant.price" layout="row" layout-align="start end" ng-if="$ctrl.cart.checkCart($ctrl.variant._id, $ctrl.variant._id)">\n            <md-button ng-click="$ctrl.addItem($ctrl.product, $ctrl.variant)" class="md-raised md-primary"\n            aria-label="Add to cart">\n                <ng-md-icon icon="mail_outline"></ng-md-icon>Enquire\n            </md-button>\n        </section>\n\n        <section class="md-actions cta" layout="row" layout-align="start center" ng-if="!$ctrl.cart.checkCart($ctrl.variant._id, $ctrl.variant._id)">\n            <md-button class="md-raised md-primary left md-icon-button" \n            ng-click="$ctrl.addItem($ctrl.product, $ctrl.variant,-1)" \n            aria-label="Remove from cart">\n                <ng-md-icon icon="remove"></ng-md-icon>\n            </md-button>\n\n            <md-button class="middle" aria-label="Cart quantity" ui-sref="checkout">Buy {{$ctrl.cart.getQuantity($ctrl.variant._id, $ctrl.variant._id)}}</md-button>\n\n            <md-button class="md-raised md-primary right md-icon-button" ng-click="$ctrl.addItem($ctrl.product, $ctrl.variant,1)" aria-label="Add to cart">\n                <ng-md-icon icon="add"></ng-md-icon>\n            </md-button>\n        </section>\n    ',
        bindings: {
            product: '<', // One way binding towards controller
            variant: '<', // One way binding towards controller
            readOnly: '@?' // String value
        },
        controller: cartButtonsController
    });
})();
//# sourceMappingURL=cart-buttons.component.js.map

'use strict';

angular.module('mediaboxApp').directive('crudTable', function ($http, $state) {
  return {
    templateUrl: 'components/crud-table/main.html',
    restrict: 'E',
    scope: { api: '@', columns: '=options' },
    transclude: true,
    link: function link(scope, element, attrs) {
      var obj = [];
      var columns = scope.columns;
      angular.forEach(columns, function (i) {
        var o = {};
        // Extract sortType from dataType
        if (i.dataType === 'numeric' || i.dataType === 'number' || i.dataType === 'float' || i.dataType === 'integer' || i.dataType === 'currency') {
          i.dataType = 'parseFloat';
          o.sortType = 'parseFloat';
        } else if (i.dataType === 'date' || i.dataType === 'calendar') {
          i.dataType = 'date';
          o.sortType = 'date';
        } else if (i.dataType === 'dropdown' || i.dataType === 'select' || i.dataType === 'option') {
          i.dataType = 'dropdown';
          o.sortType = 'lowercase';
        } else if (i.dataType === 'textarea' || i.dataType === 'multiline') {
          i.dataType = 'textarea';
          o.sortType = 'lowercase';
        } else if (i.dataType === 'image' || i.dataType === 'photo' || i.dataType === 'picture') {
          i.dataType = 'image';
          o.sortType = 'lowercase';
        } else {
          o.sortType = 'lowercase';
        }
        // check heading (Assign heading if not exists)
        if ('heading' in i) {
          o.heading = i.heading;
        } else if ('title' in i) {
          o.heading = i.title;
        } else {
          o.heading = i.field;
        }

        // Assign fields to object
        o.field = i.field;
        // o.sort = attrs.sort; // The field where the sort=true
        o.noSort = i.noSort;
        o.noAdd = i.noAdd;
        o.noEdit = i.noEdit;
        o.dataType = i.dataType;
        o.options = i.options;

        obj.push(o);
      });
      $state.go('crud-table', { api: attrs.api, options: attrs, columns: obj }, { location: false });
    }
  };
});
//# sourceMappingURL=crud-table.js.map

'use strict';

(function () {

  function CrudTableDetailController($http, $state, Toast, $stateParams, ToggleComponent, Settings, $mdDialog, socket, $scope, $filter) {
    var vm = this;
    var api = $stateParams.api;
    // var _id = $stateParams.id;
    vm.myDate = new Date();
    vm.header = api;
    vm.item = angular.copy($stateParams.data);
    vm.columns = $stateParams.columns;
    vm.mediaLibrary = function () {
      $mdDialog.show({
        templateUrl: '/components/crud-table/media-library.html',
        controller: function controller($scope, $mdDialog) {
          // Start query the database for the table
          $scope.loading = true;
          $http.get('/api/media/').then(function (res) {
            $scope.loading = false;
            $scope.media = res.data;
            socket.syncUpdates('media', $scope.data);
          }, handleError);

          function handleError(error) {
            // error handler
            $scope.loading = false;
            if (error.status === 403) {
              Toast.show({
                type: 'error',
                text: 'Not authorised to make changes.'
              });
            } else if (error.status !== 500) {
              Toast.show({
                type: 'error',
                text: error.status
              });
            }
          }
          $scope.ok = function (path) {
            $mdDialog.hide(path);
          };
          $scope.hide = function () {
            $mdDialog.hide();
          };
          $scope.cancel = function () {
            $mdDialog.cancel();
          };
          $scope.addNewImage = function () {
            $state.go('media');
            $mdDialog.hide(path);
          };
        }
      }).then(function (answer) {
        vm.item.image = answer;
      }, function () {});
    };

    function goBack() {
      ToggleComponent('crud-table.detailView').close();
      $state.go('^', {}, { location: false });
    }
    vm.goBack = goBack;

    vm.edit = function (product) {
      // refuse to work with invalid data
      if (!product) {
        return;
      }

      $http.put('/api/' + $filter('pluralize')(api) + '/' + product._id, product).then(success).catch(err);
      function success(res) {
        var item = vm.item = res.data;
        Toast.show({ type: 'success', text: api + ' has been updated' });
      }

      function err(err) {}
    };
  }

  angular.module('mediaboxApp').controller('CrudTableDetailController', CrudTableDetailController);
})();
//# sourceMappingURL=detail.controller.js.map

'use strict';

(function () {

  function CrudTableListController($scope, $http, socket, $state, $stateParams, Modal, Toast, Settings, $filter, $mdDialog) {
    var api = $stateParams.api;
    this.sortPredicate = $stateParams.options.sort;
    var options = $stateParams.options;
    this.cols = $stateParams.columns;
    this.header = api;
    this.sort = {};
    this.$mdDialog = $mdDialog;
    var vm = this;
    vm.loading = true;

    // the selected item id
    var _id = null;
    var originatorEv;

    if (options) {
      if (options.predicate) {
        this.sort.predicate = options.predicate;
      } else {
        this.sort.predicate = this.sortPredicate || 'name';
      }
    }
    this.sort.reverse = true;
    this.order = function (predicate) {
      this.sort.reverse = this.sort.predicate === predicate ? !this.sort.reverse : false;
      this.sort.predicate = predicate;
    };
    this.no = {};
    if ('noadd' in options) {
      this.no.add = true;
    }
    if ('nocopy' in options) {
      this.no.copy = true;
    }
    if ('nodelete' in options) {
      this.no.delete = true;
    }
    if ('noedit' in options) {
      this.no.edit = true;
    }
    if ('nosort' in options) {
      this.no.sort = true;
    }
    if ('nosearch' in options) {
      this.no.filter = true;
    }
    if ('nofilter' in options) {
      this.no.filter = true;
    }
    if ('noexport' in options) {
      this.no.export = true;
    }
    this.l = 10;
    this.loadMore = function () {
      this.l += 2;
    };

    this.exportData = function (type) {
      var data = JSON.stringify(this.data, undefined, 2);
      var blob;
      if (type === 'txt') {
        // Save as .txt
        blob = new Blob([data], { type: 'text/plain;charset=utf-8' });
        saveAs(blob, options.api + '.txt');
      } else if (type === 'csv') {
        // Save as .csv
        blob = new Blob([document.getElementById('exportable').innerHTML], { type: 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=utf-8' });
        saveAs(blob, options.api + ".csv");
      } else if (type === 'xls') {
        // Save as xls
        blob = new Blob([document.getElementById('exportable').innerHTML], {
          type: "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=utf-8"
        });
        saveAs(blob, options.api + ".xls");
      } else {
        // Save as .json
        blob = new Blob([data], { type: 'text/plain;charset=utf-8' });
        saveAs(blob, options.api + '.json');
      }
    };

    this.openMenu = function ($mdOpenMenu, ev) {
      originatorEv = ev;
      $mdOpenMenu(ev);
    };
    vm.isSelected = function (product) {
      return _id === product._id;
    };

    // Start query the database for the table
    vm.loading = true;
    var api2 = $filter('pluralize')(api);

    $http.get('/api/' + api2).then(function (res) {
      vm.loading = false;
      vm.data = res.data;
      socket.syncUpdates(api, vm.data);
    }, handleError);

    this.changeStatus = function (x) {
      $http.put('/api/' + api2 + '/' + x._id, { active: x.active }).then(function () {}, handleError);
    };

    this.copy = function (data) {
      var confirm = this.$mdDialog.confirm().title('Would you like to copy the ' + api + '?').ariaLabel('Confirm to copy ' + api).ok('Yes').cancel('No');
      this.$mdDialog.show(confirm).then(function () {
        var d = angular.copy(data);
        delete d._id;
        $http.post('/api/' + api2, d).then(function (response) {
          Toast.show({
            type: 'success',
            text: 'The ' + options.api + ' copied successfully.'
          });
        }).catch(function (err) {
          if (err.type === 'demo') return;

          Toast.show({
            type: 'warn',
            text: 'Error while duplicating ' + options.api
          });
        });
      });
    };

    this.delete = function (data) {
      var confirm = this.$mdDialog.confirm().title('Would you like to delete the ' + api + '?').ariaLabel('Confirm delete ' + api).ok('Yes').cancel('No');
      this.$mdDialog.show(confirm).then(function () {
        $http.delete('/api/' + api2 + '/' + data._id).then(function () {}, handleError);
      });
    };

    function handleError(error) {
      // error handler
      vm.loading = false;
      if (error.status === 401 || error.status === 403) {
        Toast.show({
          type: 'error',
          text: 'Not authorised to make changes.'
        });
      } else if (error.status === 404) {
        Toast.show({ type: 'error', text: 'The requested resource not found.' });
      } else if (error.status !== 500 && error.type !== 'demo') {
        Toast.show({
          type: 'error',
          text: error.status
        });
      }
    }

    this.showInDetails = function (item) {
      _id = item._id;
      $state.go('detail', { 'data': item }, { location: false });
    };
  }

  angular.module('mediaboxApp').controller('CrudTableListController', CrudTableListController);
})();
//# sourceMappingURL=list.controller.js.map

'use strict';

(function () {

  function CrudTableMainController(Modal, $stateParams) {
    var options = $stateParams.options;
    var cols = $stateParams.columns;
    this.create = function () {
      Modal.show(cols, options);
    };
  }

  angular.module('mediaboxApp').controller('CrudTableMainController', CrudTableMainController);
})();
//# sourceMappingURL=main.controller.js.map

'use strict';

(function () {
  'use strict';

  angular.module('mediaboxApp').config(mainRoute);
  mainRoute.$inject = ['$stateProvider'];
  function mainRoute($stateProvider, $stateParams) {
    $stateProvider.state('crud-table', {
      url: '/crud-table/:api',
      params: { options: null, columns: null },
      views: {
        '': {
          templateUrl: 'components/crud-table/main.html',
          controller: 'CrudTableMainController as main'
        },
        'content@crud-table': {
          url: '/content',
          templateUrl: 'components/crud-table/list.html',
          controller: 'CrudTableListController as list'
        }
      }
    }).state('detail', {
      url: '/detail/:id',
      onEnter: onEnterUserListDetail, // To open right sidebar
      params: { data: null },
      parent: 'crud-table',
      views: {
        '': {
          templateUrl: 'components/crud-table/main.html'
        },
        'detail': {
          templateUrl: 'components/crud-table/detail.html',
          controller: 'CrudTableDetailController as detail'
        }
      }
    }).state('create', {
      url: '/create',
      parent: 'crud-table',
      params: { data: null },
      views: {
        '': {}
      }
    });
  }
  function resolveIdFromArray($stateParams) {
    return { '_id': $stateParams.id, 'api': $stateParams.api };
  }

  onEnterUserListDetail.$inject = ['$timeout', 'ToggleComponent'];

  function onEnterUserListDetail($timeout, ToggleComponent) {
    $timeout(showDetails, 0, false);
    function showDetails() {
      ToggleComponent('crud-table.detailView').open();
    }
  }
})();
//# sourceMappingURL=main.js.map

'use strict';

angular.module('mediaboxApp').directive('noautocomplete', function () {

  return {

    restrict: 'A',

    link: function link(scope, el, attrs) {
      // password fields need one of the same type above it (firefox)
      var type = el.attr('type') || 'text';
      // chrome tries to act smart by guessing on the name.. so replicate a shadow name
      var name = el.attr('name') || '';
      var shadowName = name + '_shadow';
      // trick the browsers to fill this innocent silhouette
      var shadowEl = angular.element('<input type="' + type + '" name="' + shadowName + '" style="display: none">');

      // insert before
      el.parent()[0].insertBefore(shadowEl[0], el[0]);
    }

  };
}).directive('errSrc', function () {
  return {
    link: function link(scope, element, attrs) {
      element.bind('error', function () {
        if (attrs.src !== attrs.errSrc) {
          attrs.$set('src', attrs.errSrc);
        }
      });
    }
  };
}).directive('onlyNumbers', function () {
  return function (scope, element, attrs) {
    var keyCode = [8, 9, 13, 37, 39, 46, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 110, 190];
    element.bind('keydown', function (event) {
      if (_.indexOf(keyCode, event.which) === -1) {
        scope.$apply(function () {
          scope.$eval(attrs.onlyNum);
          event.preventDefault();
        });
        event.preventDefault();
      }
    });
  };
}).directive('focusMe', function ($timeout, $parse) {
  return {
    link: function link(scope, element, attrs) {
      var model = $parse(attrs.focusMe);
      scope.$watch(model, function (value) {
        if (value === true) {
          $timeout(function () {
            element[0].focus();
          });
        }
      });
      // on blur event:
      element.bind('blur', function () {
        scope.$apply(model.assign(scope, false));
      });
    }
  };
}).directive('ngPrism', ['$interpolate', function ($interpolate) {
  return {
    restrict: 'E',
    template: '<pre><code ng-transclude></code></pre>',
    replace: true,
    transclude: true
  };
}]).directive('validateCart', function (Cart) {
  return {
    restrict: 'A',
    scope: true,
    require: 'ngModel',
    link: function link(scope, elem, attrs, control) {
      var checker = function checker() {
        var cv = Cart.cart.getTotalPrice();
        // if(e2!=null)
        return cv !== 0;
      };
      scope.$watch(checker, function (n) {
        control.$setValidity("validCart", n);
      });
    }
  };
});
//# sourceMappingURL=directive.directive.js.map

'use strict';

function ShoppingCart(cartName, Settings, Shipping, Order, Mail, Pay, appConfig, $state) {
    this.cartName = cartName;
    this.clearCart = false;
    this.flag = false;
    this.pflag = false;
    this.checkoutParameters = {};
    this.items = [];
    this.skuArray = [];
    this.variantsArray = [];
    this.totalWeight = 0;
    this.taxRate = 10;
    this.tax = null;
    this.campaignName = "";
    this.objectives = "";
    this.startDate = "";
    this.endDate = "";
    this.products = null;
    this.totalSpend = null;
    this.spendStats = null;
    this.age = [];
    this.income = [];
    // load items from local storage when initializing
    this.loadItems();

    this.Settings = Settings;
    this.Shipping = Shipping;
    this.Order = Order;
    this.Mail = Mail;
    this.Pay = Pay;
    this.appConfig = appConfig;
    this.$state = $state;
}

//----------------------------------------------------------------
// items in the cart
//
function CartItem(sku, name, slug, mrp, price, quantity, image, category, size, weight, status, publisher, publisheruid, advertiser, uid, vid) {
    this.sku = sku;
    this.name = name;
    this.slug = slug;
    this.image = image;
    this.category = category;
    this.size = size;
    this.mrp = mrp;
    this.price = price * 1;
    this.quantity = quantity * 1;
    this.weight = weight;
    this.status = status;
    this.publisher = publisher;
    this.publisheruid = publisheruid;
    this.advertiser = advertiser;
    this.uid = uid;
    this.vid = vid;
    this.status = 0;
}

//----------------------------------------------------------------
// checkout parameters (one per supported payment service)
// replaced this.serviceName with serviceName because of jshint complaint
//
function checkoutParameters(serviceName, merchantID, options) {
    this.serviceName = serviceName;
    this.merchantID = merchantID;
    this.options = options;
}

// load items from local storage
ShoppingCart.prototype.loadItems = function () {
    var items = localStorage !== null ? localStorage[this.cartName + '_items'] : null;
    if (items !== null && JSON !== null) {
        try {
            items = JSON.parse(items);
            for (var i = 0; i < items.length; i++) {
                var item = items[i];

                if (this.pflag) {
                    if (item.sku !== null && item.name !== null && item.price !== null) {
                        item = new CartItem(item.sku, item.name, item.slug, item.mrp, item.price, item.quantity, item.image, item.category, item.size, item.weight, item.status, item.publisher, item.publisheruid, item.advertiser, item.uid, item.vid);
                        this.items.push(item);
                        this.skuArray.push(item.sku);
                        this.variantsArray.push(item.vid);
                        // this.totalWeight = item.weight;
                    } else {
                        if (item.sku !== null && item.name !== null) {
                            item = new CartItem(item.sku, item.name, item.slug, item.mrp, item.price, item.quantity, item.image, item.category, item.size, item.weight, item.status, item.publisher, item.publisheruid, item.advertiser, item.uid, item.vid);
                            this.items.push(item);
                            this.skuArray.push(item.sku);
                            this.variantsArray.push(item.vid);
                            // this.totalWeight = item.weight;
                        }
                    }
                }
            }
        } catch (err) {
            // ignore errors while loading...
        }
    }
};

// save items to local storage
ShoppingCart.prototype.saveItems = function () {
    if (localStorage !== null && JSON !== null) {
        localStorage[this.cartName + '_items'] = JSON.stringify(this.items);
    }
};

// adds an item to the cart
ShoppingCart.prototype.addItem = function (product, quantity) {

    if (this.pflag) {
        quantity = this.toNumber(quantity);
        if (quantity !== 0) {
            // update quantity for existing item
            var found = false;
            for (var i = 0; i < this.items.length && !found; i++) {
                var item = this.items[i];
                if (item.sku === product.sku && item.vid === product.vid) {
                    found = true;
                    item.quantity = this.toNumber(this.toNumber(item.quantity) + quantity);
                    if (item.weight == null) {
                        item.weight = 0;
                    }
                    item.slug = product.slug;
                    if (item.quantity <= 0) {
                        this.items.splice(i, 1);
                        this.skuArray.splice(i, 1);
                        this.variantsArray.splice(i, 1);
                    }
                }
            }

            // new item, add now
            if (!found && product.price) {
                var itm = new CartItem(product.sku, product.name, product.slug, product.mrp, product.price, product.quantity, product.image, product.category, product.size, product.weight, product.status, product.publisher, product.publisheruid, product.advertiser, product.uid, product.vid);
                this.items.push(itm);
                this.skuArray.push(itm.sku);
                this.variantsArray.push(itm.vid);
            }

            // save changes
            this.saveItems();
        }
    } else {
        if (quantity !== 0) {
            // update quantity for existing item
            var found = false;
            for (var i = 0; i < this.items.length && !found; i++) {
                var item = this.items[i];
                if (item.sku === product.sku && item.vid === product.vid) {
                    found = true;
                    item.quantity = this.toNumber(this.toNumber(item.quantity) + quantity);
                    if (item.weight == null) {
                        item.weight = 0;
                    }
                    item.slug = product.slug;
                    if (item.quantity <= 0) {
                        this.items.splice(i, 1);
                        this.skuArray.splice(i, 1);
                        this.variantsArray.splice(i, 1);
                    }
                }
            }

            // new item, add now
            if (!found) {
                var itm = new CartItem(product.sku, product.name, product.slug, product.mrp, product.price, product.quantity, product.image, product.category, product.size, product.weight, product.status, product.publisher, product.publisheruid, product.advertiser, product.uid, product.vid);
                this.items.push(itm);
                this.skuArray.push(itm.sku);
                this.variantsArray.push(itm.vid);
            }

            // save changes
            this.saveItems();
        }
    }
};

// get the total price for all items currently in the cart
ShoppingCart.prototype.getBestShipper = function () {
    var cartValue = this.getTotalPrice();
    var totalWeight = this.getTotalWeight();

    //return 0;
    return this.Shipping.best.query({ country: this.Settings.country.name, weight: totalWeight, cartValue: cartValue });
};

// get handling fee
ShoppingCart.prototype.getHandlingFee = function () {
    var cartValue = this.getTotalPrice();

    return cartValue * 0.05;
};

// get the total price for all items currently in the cart
ShoppingCart.prototype.getTotalWeight = function (sku) {
    var totalWeight = 0;
    for (var i = 0; i < this.items.length; i++) {
        var item = this.items[i];
        if (sku === undefined || item.sku === sku) {
            totalWeight += this.toNumber(item.quantity * item.weight);
        }
    }
    return totalWeight;
};

// get the total price for all items currently in the cart
ShoppingCart.prototype.getTotalPrice = function (sku) {
    var total = 0;
    for (var i = 0; i < this.items.length; i++) {
        var item = this.items[i];
        if (sku === undefined || item.sku === sku) {
            total += this.toNumber(item.quantity * item.price);
        }
    }
    return total;
};

ShoppingCart.prototype.checkCart = function (id, vid) {
    // Returns false when there is item in cart
    if (!_.includes(this.skuArray, id) || !_.includes(this.variantsArray, vid)) {
        return true;
    } else {
        return false;
    }
};
ShoppingCart.prototype.getQuantity = function (sku, vid) {
    // Get quantity based on the combination of product_id and variant_id
    for (var i = 0; i < this.items.length; i++) {
        if (this.items[i].sku === sku && this.items[i].vid === vid) {
            return this.items[i].quantity;
        }
    }
};

// get the total price for all items currently in the cart
ShoppingCart.prototype.getTotalCount = function (sku) {
    var count = 0;
    for (var i = 0; i < this.items.length; i++) {
        var item = this.items[i];
        if (sku === undefined || item.sku === sku) {
            count += this.toNumber(item.quantity);
        }
    }
    return count;
};

// clear the cart
ShoppingCart.prototype.clearItems = function () {
    this.items = [];
    this.skuArray = [];
    this.variantsArray = [];
    this.saveItems();
};

ShoppingCart.prototype.toNumber = function (value) {
    value = value * 1;
    return isNaN(value) ? 0 : value;
};
ShoppingCart.prototype.flagOn = function () {
    this.flag = true;
};
ShoppingCart.prototype.flagOff = function () {
    this.flag = false;
};

// define checkout parameters
ShoppingCart.prototype.addCheckoutParameters = function (serviceName, merchantID, options) {

    // check parameters
    if (serviceName != "PayPal" && serviceName != "PayNow" && serviceName != "Google" && serviceName != "Stripe" && serviceName != "COD") {
        throw "serviceName must be 'PayPal' or 'Google' or 'Stripe' or 'Cash On Delivery'.";
    }
    
    // save parameters
    this.checkoutParameters[serviceName] = new checkoutParameters(serviceName, merchantID, options);
};

// check out
ShoppingCart.prototype.checkout = function (serviceName, clearCart) {

    serviceName = { name: serviceName.paymentMethod.name, email: serviceName.paymentMethod.email, options: serviceName };

    this.addCheckoutParameters(serviceName.name, serviceName.email, serviceName.options);

    // select serviceName if we have to
    if (serviceName.name == null) {
        var p = this.checkoutParameters[Object.keys(this.checkoutParameters)[0]];
        serviceName = p.serviceName;
    }

    // sanity
    if (serviceName.name == null) {
        throw "Use the 'addCheckoutParameters' method to define at least one checkout service.";
    }

    // go to work
    var parms = this.checkoutParameters[serviceName.name];
    if (parms == null) {
        throw "Cannot get checkout parameters for '" + serviceName.name + "'.";
    }
    switch (parms.serviceName) {
        case "PayPal":
            this.checkoutPayPal(parms, clearCart);
            break;
        case "PayNow":
            this.checkoutPayNow(parms, clearCart);
            break;
        case "Google":
            this.checkoutGoogle(parms, clearCart);
            break;
        case "Stripe":
            this.checkoutStripe(parms, clearCart);
            break;
        case "COD":
            this.checkoutCOD(parms, clearCart);
            break;
        default:
            throw "Unknown checkout service: " + parms.serviceName;
    }
};

ShoppingCart.prototype.checkoutPayPal = function (parms, clearCart) {

    var vm = this;

    for (var i = 0; i < this.items.length; i++) {
        this.items[i].image = null;
    }

    var opt = parms.options;
    var options = { uid: opt.uid, email: opt.email, recipient_name: opt.name, phone: opt.phone, line1: opt.address, city: opt.city, postal_code: opt.zip, country_code: opt.country_code, discount: opt.couponAmount, shipping: 0, currency_code: opt.currency_code, exchange_rate: opt.exchange_rate };
    var data = {
        cmd: "_cart",
        business: 'smkorera@gmail.com',
        upload: "1",
        rm: "2",
        charset: "utf-8",
        data: this.items,
        options: options
    };
    var form = $('<form/></form>');
    form.attr("id", "paypalForm");
    form.attr("action", "/api/pay/prepare");
    form.attr("method", "GET");
    form.attr("style", "display:none;");
    this.addFormFields(form, data);
    $("body").append(form);

    // submit form
    this.clearCart = clearCart == null || clearCart;
    form.submit();
    form.remove();
};

ShoppingCart.prototype.checkoutPayNow = function (parms, clearCart) {

    for (var i = 0; i < this.items.length; i++) {
        this.items[i].image = null;
    }

    var vm = this;
    var opt = parms.options;
    var options = { uid: opt.uid, email: opt.email, recipient_name: opt.name, phone: opt.phone, line1: opt.address, city: opt.city, postal_code: opt.zip, country_code: opt.country_code, discount: opt.couponAmount, shipping: 0, currency_code: opt.currency_code, exchange_rate: opt.exchange_rate };
    var data = {
        business: 'smkorera@gmail.com',
        upload: "1",
        rm: "2",
        charset: "utf-8",
        data: this.items,
        options: options
    };
    var form = $('<form/></form>');
    form.attr("id", "paypalForm");
    form.attr("action", "/api/pay/prepare");
    form.attr("method", "GET");
    form.attr("style", "display:none;");
    this.addFormFields(form, data);
    $("body").append(form);

    // submit form
    this.clearCart = clearCart == null || clearCart;
    form.submit();
    form.remove();
};

// check out using COD
ShoppingCart.prototype.checkoutCOD = function (parms, clearCart) {
    var vm = this;
    var opt = parms.options;
    var data = opt.items;
    var total = Math.round(this.getTotalPrice() + this.getHandlingFee() - opt.couponAmount);
    var subtotal = Math.round(this.getTotalPrice() - opt.couponAmount);

    var items = [];

    if (isNaN(opt.exchange_rate) || opt.exchange_rate === '') // If exchange rate is not a float value, force this to 1
        opt.exchange_rate = 1;
    for (var k = 0; k < data.length; k++) {
        var i = data[k];
        items.push({ sku: i.sku, name: i.name, url: i.image, description: i.slug, publisher: i.publisher, publisheruid: i.publisheruid, price: Math.round(i.price), quantity: i.quantity, currency: opt.currency_code });
    }
    if (opt.discount > 0) items.push({ sku: '#', name: 'Coupon Discount', url: '-', description: '-', price: -Math.round(opt.discount), quantity: 1, currency: opt.currency_code });

    var orderDetails = {
        uid: opt.uid,
        email: opt.email,
        phone: opt.phone,
        address: { country_code: opt.country_code, postal_code: opt.zip, state: opt.state, city: opt.city, line1: opt.address, recipient_name: opt.name },
        payment: { state: opt.payment },
        amount: { total: total, currency: opt.currency_code, details: { shipping: Math.round(this.getHandlingFee()), subtotal: subtotal } },
        exchange_rate: opt.exchange_rate,
        items: items,
        status: 'Payment Pending',
        payment_method: 'COD'
    };

    // When order.status is null, the client will replace with the Array[0] of order status at Settings page
    this.Order.save(orderDetails, function (data, err) {
        if (clearCart) vm.clearItems();
        vm.$state.go('order');
    });
};

// check out using Google Wallet
// for details see:
// developers.google.com/checkout/developer/Google_Checkout_Custom_Cart_How_To_HTML
// developers.google.com/checkout/developer/interactive_demo
ShoppingCart.prototype.checkoutGoogle = function (parms, clearCart) {

    // global data
    var data = {};

    // item data
    for (var i = 0; i < this.items.length; i++) {
        var item = this.items[i];
        var ctr = i + 1;
        data["item_name_" + ctr] = item.sku;
        data["item_description_" + ctr] = item.name;
        data["item_price_" + ctr] = item.price.toFixed(2);
        data["item_quantity_" + ctr] = item.quantity;
        data["item_merchant_id_" + ctr] = parms.merchantID;
    }

    // build form
    var form = $('<form/></form>');
    // NOTE: in production projects, use the checkout.google url below;
    // for debugging/testing, use the sandbox.google url instead.
    //form.attr("action", "https://checkout.google.com/api/checkout/v2/merchantCheckoutForm/Merchant/" + parms.merchantID);
    form.attr("action", "https://sandbox.google.com/checkout/api/checkout/v2/checkoutForm/Merchant/" + parms.merchantID);
    form.attr("method", "POST");
    form.attr("style", "display:none;");
    this.addFormFields(form, data);
    if (!parms.options) {
        parms.options = {};
    }
    this.addFormFields(form, parms.options);
    $("body").append(form);

    // submit form
    this.clearCart = clearCart == null || clearCart;
    form.submit();
    form.remove();
};

// check out using Stripe
// for details see:
// https://stripe.com/docs/checkout
ShoppingCart.prototype.checkoutStripe = function (parms, clearCart) {
    var vm = this;
    var opt = parms.options;
    var data = opt.items;
    var total = Math.round((this.getTotalPrice() + opt.shipping.charge - opt.couponAmount) * opt.exchange_rate * 100) / 100;
    var subtotal = Math.round((this.getTotalPrice() - opt.couponAmount) * opt.exchange_rate * 100) / 100;
    parms.options.total = total;

    var items = [];

    if (isNaN(opt.exchange_rate) || opt.exchange_rate === '') // If exchange rate is not a float value, force this to 1
        opt.exchange_rate = 1;
    for (var k = 0; k < data.length; k++) {
        var i = data[k];
        items.push({ sku: i.sku, name: i.name, url: i.image, description: i.slug, price: Math.round(i.price * opt.exchange_rate * 100) / 100, quantity: i.quantity, currency: opt.currency_code });
    }
    if (opt.discount > 0) items.push({ sku: '#', name: 'Coupon Discount', url: '-', description: '-', price: -Math.round(opt.discount * opt.exchange_rate * 100) / 100, quantity: 1, currency: opt.currency_code });

    parms.options.items = items;
    this.Pay.stripe.save(parms.options, function (res) {
        if (clearCart) vm.clearItems();
        vm.$state.go('order', { id: res.id, msg: 'Stripe payment successful' });
    }, function (err) {
        vm.$state.go('checkout', { id: err.data.id, msg: err.data.message });
    });
};

// utility methods
ShoppingCart.prototype.addFormFields = function (form, data) {
    if (data !== null) {
        $.each(data, function (name, value) {
            if (value !== null) {
                var input = $('<input></input>').attr('type', 'hidden').attr('name', name).val(JSON.stringify(value));
                form.append(input);
            }
        });
    }
};

angular.module('mediaboxApp').factory('Cart', function (Settings, Shipping, Order, Mail, Pay, appConfig, $state) {
    var myCart = new ShoppingCart('mShop', Settings, Shipping, Order, Mail, Pay, appConfig, $state);
    return { cart: myCart };
});
//# sourceMappingURL=cart.service.js.map

'use strict';

angular.module('mediaboxApp').factory('Product', ['$resource', function ($resource) {
  var obj = {};
  obj = $resource('/api/products/:id', null, { 'update': { method: 'PUT' } });
  obj.count = $resource('/api/products/count');
  obj.pr = $resource('/api/products/priceRange');
  return obj;
}]).factory('Shipping', ['$resource', function ($resource) {
  var obj = {};
  obj = $resource('/api/shippings/:id', null, { 'update': { method: 'PUT' } });
  obj.best = $resource('/api/shippings/best', null, { 'update': { method: 'PUT' } });
  return obj;
}]).factory('Category', ['$resource', function ($resource) {
  var obj = {};
  obj = $resource('/api/categories/:id', null, {
    'update': { method: 'PUT' },
    'query': { method: 'GET', isArray: true } });
  obj.loaded = $resource('/api/categories/loaded');
  obj.tree = $resource('/api/categories/tree');
  return obj;
}]).factory('Cat', ['$resource', function ($resource) {
  var obj = {};
  obj = $resource('/api/cats/:id', null, { 'update': { method: 'PUT' } });
  obj.headings = $resource('/api/cats/headings');
  return obj;
}]).factory('Country', ['$resource', function ($resource) {
  var obj = {};
  obj = $resource('/api/countries/:id', null, { 'update': { method: 'PUT' } });
  obj.active = $resource('/api/countries/active', null, { 'update': { method: 'PUT' } });
  return obj;
}]).factory('Brand', ['$resource', '$rootScope', function ($resource, $rootScope) {
  var obj = {};

  var pageFlag = $rootScope.page;

  if (pageFlag == "OnlineStore") {} else if (pageFlag == "magazines") {

    return $resource('/api/brandmgs/:id', null, { 'update': { method: 'PUT' } });
  } else if (pageFlag == "Ticketing") {

    return $resource('/api/brands/:id', null, { 'update': { method: 'PUT' } });
  } else if (pageFlag == "television") {

    return $resource('/api/brandtvs/:id', null, { 'update': { method: 'PUT' } });
  } else {

    return $resource('/api/brands/:id', null, { 'update': { method: 'PUT' } });
  }
}]).factory('BrandMG', ['$resource', function ($resource) {
  return $resource('/api/brandmgs/:id', null, { 'update': { method: 'PUT' } });
}]).factory('BrandTV', ['$resource', function ($resource) {
  return $resource('/api/brandtvs/:id', null, { 'update': { method: 'PUT' } });
}]).factory('Coupon', ['$resource', function ($resource) {
  return $resource('/api/coupons/:id', null, { 'update': { method: 'PUT' } });
}]).factory('Address', ['$resource', function ($resource) {
  var obj = {};
  obj = $resource('/api/address/:id', null, { 'update': { method: 'PUT' } });
  obj.my = $resource('/api/address/my', null);
  return obj;
}]).factory('Feature', ['$resource', function ($resource) {
  var obj = {};
  obj = $resource('/api/features/:id', null, { 'update': { method: 'PUT' } });
  obj.group = $resource('/api/features/group', null, { 'update': { method: 'PUT' } });
  return obj;
}]).factory('KeyFeature', ['$resource', function ($resource) {
  var obj = {};
  obj = $resource('/api/keyfeatures/:id', null, { 'update': { method: 'PUT' } });
  obj.group = $resource('/api/keyfeatures/group', null, { 'update': { method: 'PUT' } });
  return obj;
}]).factory('Media', ['$resource', function ($resource) {
  var obj = {};
  obj = $resource('/api/media/:id', null, { 'update': { method: 'PUT' } });
  obj.my = $resource('/api/media/my/:id', null, { 'update': { method: 'PUT' } });
  obj.pub = $resource('/api/media/pub/:id', null, { 'update': { method: 'PUT' } });
  return obj;
}]).factory('Statistic', ['$resource', function ($resource) {
  var obj = {};
  obj = $resource('/api/statistics/:id', null, { 'update': { method: 'PUT' } });
  obj.group = $resource('/api/statistics/group', null, { 'update': { method: 'PUT' } });
  return obj;
}]).factory('PaymentMethod', ['$resource', function ($resource) {
  var obj = {};
  obj = $resource('/api/PaymentMethods/:id', null, { 'update': { method: 'PUT' } });
  obj.active = $resource('/api/PaymentMethods/active', null, { 'update': { method: 'PUT' } });
  return obj;
}]).factory('Order', ['$resource', function ($resource) {
  var obj = {};
  obj = $resource('/api/orders/:id', null, { 'update': { method: 'PUT' } });
  obj.my = $resource('/api/orders/my', null, { 'update': { method: 'PUT' } });
  obj.pub = $resource('/api/orders/pub', null, { 'update': { method: 'PUT' } });
  return obj;
}]).factory('Campaign', ['$resource', function ($resource) {
  var obj = {};
  obj = $resource('/api/campaigns/:id', null, { 'update': { method: 'PUT' } });
  obj.my = $resource('/api/campaigns/my', null, { 'update': { method: 'PUT' } });
  obj.pub = $resource('/api/campaigns/pub', null, { 'update': { method: 'PUT' } });
  return obj;
}]).factory('Pay', ['$resource', function ($resource) {
  var obj = {};
  obj = $resource('/api/pay/:id', null, { 'update': { method: 'PUT' } });
  obj.prepare = $resource('/api/pay/prepare');
  obj.stripe = $resource('/api/pay/stripe');
  obj.paynow = $resource('/api/pay/paynow');
  return obj;
}]).factory('Review', ['$resource', function ($resource) {
  var obj = {};
  obj = $resource('/api/reviews/:id', null, { 'update': { method: 'PUT' } });
  obj.my = $resource('/api/reviews/my');
  return obj;
}]).factory('Wishlist', ['$resource', function ($resource) {
  var obj = {};
  obj = $resource('/api/wishlists/:id', null, { 'update': { method: 'PUT' } });
  obj.my = $resource('/api/wishlists/my');
  return obj;
}]).factory('Mail', ['$resource', function ($resource) {
  return $resource('/api/sendmail/:id');
}]);
//# sourceMappingURL=factory.service.js.map

'use strict';

angular.module('mediaboxApp').filter('localPrice', function (Settings, $filter) {
  return function (input, key) {
    var input = Math.round(input / Settings.currency.exchange_rate * 100) / 100;
    if (!input) {
      return 0;
    }
    if (parseFloat(input) != 0) {
      return $filter('currency')(input, Settings.currency.symbol);
    }
    return $filter('currency')(input);
  };
}).filter('pluralize', function () {
  return function (noun, key) {
    var plural = noun;
    if (noun.substr(noun.length - 2) == 'us') {
      plural = plural.substr(0, plural.length - 2) + 'i';
    } else if (noun.substr(noun.length - 2) == 'ch' || noun.charAt(noun.length - 1) == 'x' || noun.charAt(noun.length - 1) == 's') {
      plural += 'es';
    } else if (noun.charAt(noun.length - 1) == 'y' && ['a', 'e', 'i', 'o', 'u'].indexOf(noun.charAt(noun.length - 2)) == -1) {
      plural = plural.substr(0, plural.length - 1) + 'ies';
    } else if (noun.substr(noun.length - 2) == 'is') {
      plural = plural.substr(0, plural.length - 2) + 'es';
    } else {
      plural += 's';
    }
    return plural;
  };
}).filter('unique', function () {
  return function (input, key) {
    var unique = {};
    var uniqueList = [];
    for (var i = 0; i < input.length; i++) {
      if (typeof unique[input[i][key]] === 'undefined') {
        unique[input[i][key]] = '';
        uniqueList.push(input[i]);
      }
    }
    return uniqueList;
  };
}).filter('labelCase', [function () {
  return function (input) {
    if (!input) {
      return input;
    } else {
      input = input.replace(/([A-Z])/g, ' $1');
      return input[0].toUpperCase() + input.slice(1);
    }
  };
}]).filter('camelCase', [function () {
  return function (input) {
    if (!input) {
      return input;
    } else {
      return input.toLowerCase().replace(/ (\w)/g, function (match, letter) {
        return letter.toUpperCase();
      });
    }
  };
}]).filter('reverse', [function () {
  return function (items) {
    if (items) {
      return items.slice().reverse();
    } else {
      return items;
    }
  };
}]);
//# sourceMappingURL=filters.filter.js.map

'use strict';

angular.module('mediaboxApp').directive('footer', function ($mdDialog, $http, $mdMedia) {
    return {
        templateUrl: 'components/footer/footer.html',
        restrict: 'E',
        link: function link(scope, element) {
            element.addClass('footer');
            scope.addDialog = function () {
                $mdDialog.show({
                    templateUrl: 'components/footer/contact-form.html',
                    controller: function controller($scope, $mdDialog, Toast) {
                        $scope.hide = function () {
                            $mdDialog.hide();
                        };
                        $scope.cancel = function () {
                            $mdDialog.cancel();
                        };
                        $scope.send = function (mail) {
                            $http.post('/api/sendmail', {
                                from: 'Mediabox admin@mediabox.co.zw>',
                                to: 'support@mediabox.co.zw',
                                subject: 'Message from Mediabox',
                                text: mail.message
                            });
                            $mdDialog.hide(mail);
                            Toast.show({ type: 'success', text: 'Thanks for contacting us.' });
                        };
                    }
                }).then(function (answer) {
                    scope.alert = 'You said the information was "' + answer + '".';
                }, function () {
                    scope.alert = 'You cancelled the dialog.';
                });
            };
            scope.screenIsBig = $mdMedia('gt-sm'); // Erase the parent reference from md-toast the (md-toast bug)
        }
    };
});
//# sourceMappingURL=footer.directive.js.map

"use strict";

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

/*!

JSZip - A Javascript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2014 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/master/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/master/LICENSE
*/
!function (a) {
  if ("object" == (typeof exports === "undefined" ? "undefined" : _typeof(exports)) && "undefined" != typeof module) module.exports = a();else if ("function" == typeof define && define.amd) define([], a);else {
    var b;b = "undefined" != typeof window ? window : "undefined" != typeof global ? global : "undefined" != typeof self ? self : this, b.JSZip = a();
  }
}(function () {
  return function a(b, c, d) {
    function e(g, h) {
      if (!c[g]) {
        if (!b[g]) {
          var i = "function" == typeof require && require;if (!h && i) return i(g, !0);if (f) return f(g, !0);var j = new Error("Cannot find module '" + g + "'");throw j.code = "MODULE_NOT_FOUND", j;
        }var k = c[g] = { exports: {} };b[g][0].call(k.exports, function (a) {
          var c = b[g][1][a];return e(c ? c : a);
        }, k, k.exports, a, b, c, d);
      }return c[g].exports;
    }for (var f = "function" == typeof require && require, g = 0; g < d.length; g++) {
      e(d[g]);
    }return e;
  }({ 1: [function (a, b, c) {
      "use strict";
      function d(a) {
        if (a) {
          this.data = a, this.length = this.data.length, this.index = 0, this.zero = 0;for (var b = 0; b < this.data.length; b++) {
            a[b] = 255 & a[b];
          }
        }
      }var e = a("./dataReader");d.prototype = new e(), d.prototype.byteAt = function (a) {
        return this.data[this.zero + a];
      }, d.prototype.lastIndexOfSignature = function (a) {
        for (var b = a.charCodeAt(0), c = a.charCodeAt(1), d = a.charCodeAt(2), e = a.charCodeAt(3), f = this.length - 4; f >= 0; --f) {
          if (this.data[f] === b && this.data[f + 1] === c && this.data[f + 2] === d && this.data[f + 3] === e) return f - this.zero;
        }return -1;
      }, d.prototype.readData = function (a) {
        if (this.checkOffset(a), 0 === a) return [];var b = this.data.slice(this.zero + this.index, this.zero + this.index + a);return this.index += a, b;
      }, b.exports = d;
    }, { "./dataReader": 6 }], 2: [function (a, b, c) {
      "use strict";
      var d = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";c.encode = function (a, b) {
        for (var c, e, f, g, h, i, j, k = "", l = 0; l < a.length;) {
          c = a.charCodeAt(l++), e = a.charCodeAt(l++), f = a.charCodeAt(l++), g = c >> 2, h = (3 & c) << 4 | e >> 4, i = (15 & e) << 2 | f >> 6, j = 63 & f, isNaN(e) ? i = j = 64 : isNaN(f) && (j = 64), k = k + d.charAt(g) + d.charAt(h) + d.charAt(i) + d.charAt(j);
        }return k;
      }, c.decode = function (a, b) {
        var c,
            e,
            f,
            g,
            h,
            i,
            j,
            k = "",
            l = 0;for (a = a.replace(/[^A-Za-z0-9\+\/\=]/g, ""); l < a.length;) {
          g = d.indexOf(a.charAt(l++)), h = d.indexOf(a.charAt(l++)), i = d.indexOf(a.charAt(l++)), j = d.indexOf(a.charAt(l++)), c = g << 2 | h >> 4, e = (15 & h) << 4 | i >> 2, f = (3 & i) << 6 | j, k += String.fromCharCode(c), 64 != i && (k += String.fromCharCode(e)), 64 != j && (k += String.fromCharCode(f));
        }return k;
      };
    }, {}], 3: [function (a, b, c) {
      "use strict";
      function d() {
        this.compressedSize = 0, this.uncompressedSize = 0, this.crc32 = 0, this.compressionMethod = null, this.compressedContent = null;
      }d.prototype = { getContent: function getContent() {
          return null;
        }, getCompressedContent: function getCompressedContent() {
          return null;
        } }, b.exports = d;
    }, {}], 4: [function (a, b, c) {
      "use strict";
      c.STORE = { magic: "\x00\x00", compress: function compress(a, b) {
          return a;
        }, uncompress: function uncompress(a) {
          return a;
        }, compressInputType: null, uncompressInputType: null }, c.DEFLATE = a("./flate");
    }, { "./flate": 9 }], 5: [function (a, b, c) {
      "use strict";
      var d = a("./utils"),
          e = [0, 1996959894, 3993919788, 2567524794, 124634137, 1886057615, 3915621685, 2657392035, 249268274, 2044508324, 3772115230, 2547177864, 162941995, 2125561021, 3887607047, 2428444049, 498536548, 1789927666, 4089016648, 2227061214, 450548861, 1843258603, 4107580753, 2211677639, 325883990, 1684777152, 4251122042, 2321926636, 335633487, 1661365465, 4195302755, 2366115317, 997073096, 1281953886, 3579855332, 2724688242, 1006888145, 1258607687, 3524101629, 2768942443, 901097722, 1119000684, 3686517206, 2898065728, 853044451, 1172266101, 3705015759, 2882616665, 651767980, 1373503546, 3369554304, 3218104598, 565507253, 1454621731, 3485111705, 3099436303, 671266974, 1594198024, 3322730930, 2970347812, 795835527, 1483230225, 3244367275, 3060149565, 1994146192, 31158534, 2563907772, 4023717930, 1907459465, 112637215, 2680153253, 3904427059, 2013776290, 251722036, 2517215374, 3775830040, 2137656763, 141376813, 2439277719, 3865271297, 1802195444, 476864866, 2238001368, 4066508878, 1812370925, 453092731, 2181625025, 4111451223, 1706088902, 314042704, 2344532202, 4240017532, 1658658271, 366619977, 2362670323, 4224994405, 1303535960, 984961486, 2747007092, 3569037538, 1256170817, 1037604311, 2765210733, 3554079995, 1131014506, 879679996, 2909243462, 3663771856, 1141124467, 855842277, 2852801631, 3708648649, 1342533948, 654459306, 3188396048, 3373015174, 1466479909, 544179635, 3110523913, 3462522015, 1591671054, 702138776, 2966460450, 3352799412, 1504918807, 783551873, 3082640443, 3233442989, 3988292384, 2596254646, 62317068, 1957810842, 3939845945, 2647816111, 81470997, 1943803523, 3814918930, 2489596804, 225274430, 2053790376, 3826175755, 2466906013, 167816743, 2097651377, 4027552580, 2265490386, 503444072, 1762050814, 4150417245, 2154129355, 426522225, 1852507879, 4275313526, 2312317920, 282753626, 1742555852, 4189708143, 2394877945, 397917763, 1622183637, 3604390888, 2714866558, 953729732, 1340076626, 3518719985, 2797360999, 1068828381, 1219638859, 3624741850, 2936675148, 906185462, 1090812512, 3747672003, 2825379669, 829329135, 1181335161, 3412177804, 3160834842, 628085408, 1382605366, 3423369109, 3138078467, 570562233, 1426400815, 3317316542, 2998733608, 733239954, 1555261956, 3268935591, 3050360625, 752459403, 1541320221, 2607071920, 3965973030, 1969922972, 40735498, 2617837225, 3943577151, 1913087877, 83908371, 2512341634, 3803740692, 2075208622, 213261112, 2463272603, 3855990285, 2094854071, 198958881, 2262029012, 4057260610, 1759359992, 534414190, 2176718541, 4139329115, 1873836001, 414664567, 2282248934, 4279200368, 1711684554, 285281116, 2405801727, 4167216745, 1634467795, 376229701, 2685067896, 3608007406, 1308918612, 956543938, 2808555105, 3495958263, 1231636301, 1047427035, 2932959818, 3654703836, 1088359270, 936918e3, 2847714899, 3736837829, 1202900863, 817233897, 3183342108, 3401237130, 1404277552, 615818150, 3134207493, 3453421203, 1423857449, 601450431, 3009837614, 3294710456, 1567103746, 711928724, 3020668471, 3272380065, 1510334235, 755167117];b.exports = function (a, b) {
        if ("undefined" == typeof a || !a.length) return 0;var c = "string" !== d.getTypeOf(a);"undefined" == typeof b && (b = 0);var f = 0,
            g = 0,
            h = 0;b = -1 ^ b;for (var i = 0, j = a.length; j > i; i++) {
          h = c ? a[i] : a.charCodeAt(i), g = 255 & (b ^ h), f = e[g], b = b >>> 8 ^ f;
        }return -1 ^ b;
      };
    }, { "./utils": 22 }], 6: [function (a, b, c) {
      "use strict";
      function d(a) {
        this.data = null, this.length = 0, this.index = 0, this.zero = 0;
      }var e = a("./utils");d.prototype = { checkOffset: function checkOffset(a) {
          this.checkIndex(this.index + a);
        }, checkIndex: function checkIndex(a) {
          if (this.length < this.zero + a || 0 > a) throw new Error("End of data reached (data length = " + this.length + ", asked index = " + a + "). Corrupted zip ?");
        }, setIndex: function setIndex(a) {
          this.checkIndex(a), this.index = a;
        }, skip: function skip(a) {
          this.setIndex(this.index + a);
        }, byteAt: function byteAt(a) {}, readInt: function readInt(a) {
          var b,
              c = 0;for (this.checkOffset(a), b = this.index + a - 1; b >= this.index; b--) {
            c = (c << 8) + this.byteAt(b);
          }return this.index += a, c;
        }, readString: function readString(a) {
          return e.transformTo("string", this.readData(a));
        }, readData: function readData(a) {}, lastIndexOfSignature: function lastIndexOfSignature(a) {}, readDate: function readDate() {
          var a = this.readInt(4);return new Date((a >> 25 & 127) + 1980, (a >> 21 & 15) - 1, a >> 16 & 31, a >> 11 & 31, a >> 5 & 63, (31 & a) << 1);
        } }, b.exports = d;
    }, { "./utils": 22 }], 7: [function (a, b, c) {
      "use strict";
      c.base64 = !1, c.binary = !1, c.dir = !1, c.createFolders = !1, c.date = null, c.compression = null, c.compressionOptions = null, c.comment = null, c.unixPermissions = null, c.dosPermissions = null;
    }, {}], 8: [function (a, b, c) {
      "use strict";
      var d = a("./utils");c.string2binary = function (a) {
        return d.string2binary(a);
      }, c.string2Uint8Array = function (a) {
        return d.transformTo("uint8array", a);
      }, c.uint8Array2String = function (a) {
        return d.transformTo("string", a);
      }, c.string2Blob = function (a) {
        var b = d.transformTo("arraybuffer", a);return d.arrayBuffer2Blob(b);
      }, c.arrayBuffer2Blob = function (a) {
        return d.arrayBuffer2Blob(a);
      }, c.transformTo = function (a, b) {
        return d.transformTo(a, b);
      }, c.getTypeOf = function (a) {
        return d.getTypeOf(a);
      }, c.checkSupport = function (a) {
        return d.checkSupport(a);
      }, c.MAX_VALUE_16BITS = d.MAX_VALUE_16BITS, c.MAX_VALUE_32BITS = d.MAX_VALUE_32BITS, c.pretty = function (a) {
        return d.pretty(a);
      }, c.findCompression = function (a) {
        return d.findCompression(a);
      }, c.isRegExp = function (a) {
        return d.isRegExp(a);
      };
    }, { "./utils": 22 }], 9: [function (a, b, c) {
      "use strict";
      var d = "undefined" != typeof Uint8Array && "undefined" != typeof Uint16Array && "undefined" != typeof Uint32Array,
          e = a("pako");c.uncompressInputType = d ? "uint8array" : "array", c.compressInputType = d ? "uint8array" : "array", c.magic = "\b\x00", c.compress = function (a, b) {
        return e.deflateRaw(a, { level: b.level || -1 });
      }, c.uncompress = function (a) {
        return e.inflateRaw(a);
      };
    }, { pako: 25 }], 10: [function (a, b, c) {
      "use strict";
      function d(a, b) {
        return this instanceof d ? (this.files = {}, this.comment = null, this.root = "", a && this.load(a, b), void (this.clone = function () {
          var a = new d();for (var b in this) {
            "function" != typeof this[b] && (a[b] = this[b]);
          }return a;
        })) : new d(a, b);
      }var e = a("./base64");d.prototype = a("./object"), d.prototype.load = a("./load"), d.support = a("./support"), d.defaults = a("./defaults"), d.utils = a("./deprecatedPublicUtils"), d.base64 = { encode: function encode(a) {
          return e.encode(a);
        }, decode: function decode(a) {
          return e.decode(a);
        } }, d.compressions = a("./compressions"), b.exports = d;
    }, { "./base64": 2, "./compressions": 4, "./defaults": 7, "./deprecatedPublicUtils": 8, "./load": 11, "./object": 14, "./support": 18 }], 11: [function (a, b, c) {
      "use strict";
      var d = a("./base64"),
          e = a("./utf8"),
          f = a("./utils"),
          g = a("./zipEntries");b.exports = function (a, b) {
        var c, h, i, j;for (b = f.extend(b || {}, { base64: !1, checkCRC32: !1, optimizedBinaryString: !1, createFolders: !1, decodeFileName: e.utf8decode }), b.base64 && (a = d.decode(a)), h = new g(a, b), c = h.files, i = 0; i < c.length; i++) {
          j = c[i], this.file(j.fileNameStr, j.decompressed, { binary: !0, optimizedBinaryString: !0, date: j.date, dir: j.dir, comment: j.fileCommentStr.length ? j.fileCommentStr : null, unixPermissions: j.unixPermissions, dosPermissions: j.dosPermissions, createFolders: b.createFolders });
        }return h.zipComment.length && (this.comment = h.zipComment), this;
      };
    }, { "./base64": 2, "./utf8": 21, "./utils": 22, "./zipEntries": 23 }], 12: [function (a, b, c) {
      (function (a) {
        "use strict";
        b.exports = function (b, c) {
          return new a(b, c);
        }, b.exports.test = function (b) {
          return a.isBuffer(b);
        };
      }).call(this, "undefined" != typeof Buffer ? Buffer : void 0);
    }, {}], 13: [function (a, b, c) {
      "use strict";
      function d(a) {
        this.data = a, this.length = this.data.length, this.index = 0, this.zero = 0;
      }var e = a("./uint8ArrayReader");d.prototype = new e(), d.prototype.readData = function (a) {
        this.checkOffset(a);var b = this.data.slice(this.zero + this.index, this.zero + this.index + a);return this.index += a, b;
      }, b.exports = d;
    }, { "./uint8ArrayReader": 19 }], 14: [function (a, b, c) {
      "use strict";
      var d = a("./support"),
          e = a("./utils"),
          f = a("./crc32"),
          g = a("./signature"),
          h = a("./defaults"),
          i = a("./base64"),
          j = a("./compressions"),
          k = a("./compressedObject"),
          l = a("./nodeBuffer"),
          m = a("./utf8"),
          n = a("./stringWriter"),
          o = a("./uint8ArrayWriter"),
          p = function p(a) {
        if (a._data instanceof k && (a._data = a._data.getContent(), a.options.binary = !0, a.options.base64 = !1, "uint8array" === e.getTypeOf(a._data))) {
          var b = a._data;a._data = new Uint8Array(b.length), 0 !== b.length && a._data.set(b, 0);
        }return a._data;
      },
          q = function q(a) {
        var b = p(a),
            c = e.getTypeOf(b);return "string" === c ? !a.options.binary && d.nodebuffer ? l(b, "utf-8") : a.asBinary() : b;
      },
          r = function r(a) {
        var b = p(this);return null === b || "undefined" == typeof b ? "" : (this.options.base64 && (b = i.decode(b)), b = a && this.options.binary ? D.utf8decode(b) : e.transformTo("string", b), a || this.options.binary || (b = e.transformTo("string", D.utf8encode(b))), b);
      },
          s = function s(a, b, c) {
        this.name = a, this.dir = c.dir, this.date = c.date, this.comment = c.comment, this.unixPermissions = c.unixPermissions, this.dosPermissions = c.dosPermissions, this._data = b, this.options = c, this._initialMetadata = { dir: c.dir, date: c.date };
      };s.prototype = { asText: function asText() {
          return r.call(this, !0);
        }, asBinary: function asBinary() {
          return r.call(this, !1);
        }, asNodeBuffer: function asNodeBuffer() {
          var a = q(this);return e.transformTo("nodebuffer", a);
        }, asUint8Array: function asUint8Array() {
          var a = q(this);return e.transformTo("uint8array", a);
        }, asArrayBuffer: function asArrayBuffer() {
          return this.asUint8Array().buffer;
        } };var t = function t(a, b) {
        var c,
            d = "";for (c = 0; b > c; c++) {
          d += String.fromCharCode(255 & a), a >>>= 8;
        }return d;
      },
          u = function u(a) {
        return a = a || {}, a.base64 !== !0 || null !== a.binary && void 0 !== a.binary || (a.binary = !0), a = e.extend(a, h), a.date = a.date || new Date(), null !== a.compression && (a.compression = a.compression.toUpperCase()), a;
      },
          v = function v(a, b, c) {
        var d,
            f = e.getTypeOf(b);if (c = u(c), "string" == typeof c.unixPermissions && (c.unixPermissions = parseInt(c.unixPermissions, 8)), c.unixPermissions && 16384 & c.unixPermissions && (c.dir = !0), c.dosPermissions && 16 & c.dosPermissions && (c.dir = !0), c.dir && (a = x(a)), c.createFolders && (d = w(a)) && y.call(this, d, !0), c.dir || null === b || "undefined" == typeof b) c.base64 = !1, c.binary = !1, b = null, f = null;else if ("string" === f) c.binary && !c.base64 && c.optimizedBinaryString !== !0 && (b = e.string2binary(b));else {
          if (c.base64 = !1, c.binary = !0, !(f || b instanceof k)) throw new Error("The data of '" + a + "' is in an unsupported format !");"arraybuffer" === f && (b = e.transformTo("uint8array", b));
        }var g = new s(a, b, c);return this.files[a] = g, g;
      },
          w = function w(a) {
        "/" == a.slice(-1) && (a = a.substring(0, a.length - 1));var b = a.lastIndexOf("/");return b > 0 ? a.substring(0, b) : "";
      },
          x = function x(a) {
        return "/" != a.slice(-1) && (a += "/"), a;
      },
          y = function y(a, b) {
        return b = "undefined" != typeof b ? b : !1, a = x(a), this.files[a] || v.call(this, a, null, { dir: !0, createFolders: b }), this.files[a];
      },
          z = function z(a, b, c) {
        var d,
            g = new k();return a._data instanceof k ? (g.uncompressedSize = a._data.uncompressedSize, g.crc32 = a._data.crc32, 0 === g.uncompressedSize || a.dir ? (b = j.STORE, g.compressedContent = "", g.crc32 = 0) : a._data.compressionMethod === b.magic ? g.compressedContent = a._data.getCompressedContent() : (d = a._data.getContent(), g.compressedContent = b.compress(e.transformTo(b.compressInputType, d), c))) : (d = q(a), d && 0 !== d.length && !a.dir || (b = j.STORE, d = ""), g.uncompressedSize = d.length, g.crc32 = f(d), g.compressedContent = b.compress(e.transformTo(b.compressInputType, d), c)), g.compressedSize = g.compressedContent.length, g.compressionMethod = b.magic, g;
      },
          A = function A(a, b) {
        var c = a;return a || (c = b ? 16893 : 33204), (65535 & c) << 16;
      },
          B = function B(a, b) {
        return 63 & (a || 0);
      },
          C = function C(a, b, c, d, h, i) {
        var j,
            k,
            l,
            n,
            o = (c.compressedContent, i !== m.utf8encode),
            p = e.transformTo("string", i(b.name)),
            q = e.transformTo("string", m.utf8encode(b.name)),
            r = b.comment || "",
            s = e.transformTo("string", i(r)),
            u = e.transformTo("string", m.utf8encode(r)),
            v = q.length !== b.name.length,
            w = u.length !== r.length,
            x = b.options,
            y = "",
            z = "",
            C = "";l = b._initialMetadata.dir !== b.dir ? b.dir : x.dir, n = b._initialMetadata.date !== b.date ? b.date : x.date;var D = 0,
            E = 0;l && (D |= 16), "UNIX" === h ? (E = 798, D |= A(b.unixPermissions, l)) : (E = 20, D |= B(b.dosPermissions, l)), j = n.getHours(), j <<= 6, j |= n.getMinutes(), j <<= 5, j |= n.getSeconds() / 2, k = n.getFullYear() - 1980, k <<= 4, k |= n.getMonth() + 1, k <<= 5, k |= n.getDate(), v && (z = t(1, 1) + t(f(p), 4) + q, y += "up" + t(z.length, 2) + z), w && (C = t(1, 1) + t(this.crc32(s), 4) + u, y += "uc" + t(C.length, 2) + C);var F = "";F += "\n\x00", F += o || !v && !w ? "\x00\x00" : "\x00\b", F += c.compressionMethod, F += t(j, 2), F += t(k, 2), F += t(c.crc32, 4), F += t(c.compressedSize, 4), F += t(c.uncompressedSize, 4), F += t(p.length, 2), F += t(y.length, 2);var G = g.LOCAL_FILE_HEADER + F + p + y,
            H = g.CENTRAL_FILE_HEADER + t(E, 2) + F + t(s.length, 2) + "\x00\x00\x00\x00" + t(D, 4) + t(d, 4) + p + y + s;return { fileRecord: G, dirRecord: H, compressedObject: c };
      },
          D = { load: function load(a, b) {
          throw new Error("Load method is not defined. Is the file jszip-load.js included ?");
        }, filter: function filter(a) {
          var b,
              c,
              d,
              f,
              g = [];for (b in this.files) {
            this.files.hasOwnProperty(b) && (d = this.files[b], f = new s(d.name, d._data, e.extend(d.options)), c = b.slice(this.root.length, b.length), b.slice(0, this.root.length) === this.root && a(c, f) && g.push(f));
          }return g;
        }, file: function file(a, b, c) {
          if (1 === arguments.length) {
            if (e.isRegExp(a)) {
              var d = a;return this.filter(function (a, b) {
                return !b.dir && d.test(a);
              });
            }return this.filter(function (b, c) {
              return !c.dir && b === a;
            })[0] || null;
          }return a = this.root + a, v.call(this, a, b, c), this;
        }, folder: function folder(a) {
          if (!a) return this;if (e.isRegExp(a)) return this.filter(function (b, c) {
            return c.dir && a.test(b);
          });var b = this.root + a,
              c = y.call(this, b),
              d = this.clone();return d.root = c.name, d;
        }, remove: function remove(a) {
          a = this.root + a;var b = this.files[a];if (b || ("/" != a.slice(-1) && (a += "/"), b = this.files[a]), b && !b.dir) delete this.files[a];else for (var c = this.filter(function (b, c) {
            return c.name.slice(0, a.length) === a;
          }), d = 0; d < c.length; d++) {
            delete this.files[c[d].name];
          }return this;
        }, generate: function generate(a) {
          a = e.extend(a || {}, { base64: !0, compression: "STORE", compressionOptions: null, type: "base64", platform: "DOS", comment: null, mimeType: "application/zip", encodeFileName: m.utf8encode }), e.checkSupport(a.type), "darwin" !== a.platform && "freebsd" !== a.platform && "linux" !== a.platform && "sunos" !== a.platform || (a.platform = "UNIX"), "win32" === a.platform && (a.platform = "DOS");var b,
              c,
              d = [],
              f = 0,
              h = 0,
              k = e.transformTo("string", a.encodeFileName(a.comment || this.comment || ""));for (var l in this.files) {
            if (this.files.hasOwnProperty(l)) {
              var p = this.files[l],
                  q = p.options.compression || a.compression.toUpperCase(),
                  r = j[q];if (!r) throw new Error(q + " is not a valid compression method !");var s = p.options.compressionOptions || a.compressionOptions || {},
                  u = z.call(this, p, r, s),
                  v = C.call(this, l, p, u, f, a.platform, a.encodeFileName);f += v.fileRecord.length + u.compressedSize, h += v.dirRecord.length, d.push(v);
            }
          }var w = "";w = g.CENTRAL_DIRECTORY_END + "\x00\x00\x00\x00" + t(d.length, 2) + t(d.length, 2) + t(h, 4) + t(f, 4) + t(k.length, 2) + k;var x = a.type.toLowerCase();for (b = "uint8array" === x || "arraybuffer" === x || "blob" === x || "nodebuffer" === x ? new o(f + h + w.length) : new n(f + h + w.length), c = 0; c < d.length; c++) {
            b.append(d[c].fileRecord), b.append(d[c].compressedObject.compressedContent);
          }for (c = 0; c < d.length; c++) {
            b.append(d[c].dirRecord);
          }b.append(w);var y = b.finalize();switch (a.type.toLowerCase()) {case "uint8array":case "arraybuffer":case "nodebuffer":
              return e.transformTo(a.type.toLowerCase(), y);case "blob":
              return e.arrayBuffer2Blob(e.transformTo("arraybuffer", y), a.mimeType);case "base64":
              return a.base64 ? i.encode(y) : y;default:
              return y;}
        }, crc32: function crc32(a, b) {
          return f(a, b);
        }, utf8encode: function utf8encode(a) {
          return e.transformTo("string", m.utf8encode(a));
        }, utf8decode: function utf8decode(a) {
          return m.utf8decode(a);
        } };b.exports = D;
    }, { "./base64": 2, "./compressedObject": 3, "./compressions": 4, "./crc32": 5, "./defaults": 7, "./nodeBuffer": 12, "./signature": 15, "./stringWriter": 17, "./support": 18, "./uint8ArrayWriter": 20, "./utf8": 21, "./utils": 22 }], 15: [function (a, b, c) {
      "use strict";
      c.LOCAL_FILE_HEADER = "PK", c.CENTRAL_FILE_HEADER = "PK", c.CENTRAL_DIRECTORY_END = "PK", c.ZIP64_CENTRAL_DIRECTORY_LOCATOR = "PK", c.ZIP64_CENTRAL_DIRECTORY_END = "PK", c.DATA_DESCRIPTOR = "PK\b";
    }, {}], 16: [function (a, b, c) {
      "use strict";
      function d(a, b) {
        this.data = a, b || (this.data = f.string2binary(this.data)), this.length = this.data.length, this.index = 0, this.zero = 0;
      }var e = a("./dataReader"),
          f = a("./utils");d.prototype = new e(), d.prototype.byteAt = function (a) {
        return this.data.charCodeAt(this.zero + a);
      }, d.prototype.lastIndexOfSignature = function (a) {
        return this.data.lastIndexOf(a) - this.zero;
      }, d.prototype.readData = function (a) {
        this.checkOffset(a);var b = this.data.slice(this.zero + this.index, this.zero + this.index + a);return this.index += a, b;
      }, b.exports = d;
    }, { "./dataReader": 6, "./utils": 22 }], 17: [function (a, b, c) {
      "use strict";
      var d = a("./utils"),
          e = function e() {
        this.data = [];
      };e.prototype = { append: function append(a) {
          a = d.transformTo("string", a), this.data.push(a);
        }, finalize: function finalize() {
          return this.data.join("");
        } }, b.exports = e;
    }, { "./utils": 22 }], 18: [function (a, b, c) {
      (function (a) {
        "use strict";
        if (c.base64 = !0, c.array = !0, c.string = !0, c.arraybuffer = "undefined" != typeof ArrayBuffer && "undefined" != typeof Uint8Array, c.nodebuffer = "undefined" != typeof a, c.uint8array = "undefined" != typeof Uint8Array, "undefined" == typeof ArrayBuffer) c.blob = !1;else {
          var b = new ArrayBuffer(0);try {
            c.blob = 0 === new Blob([b], { type: "application/zip" }).size;
          } catch (d) {
            try {
              var e = window.BlobBuilder || window.WebKitBlobBuilder || window.MozBlobBuilder || window.MSBlobBuilder,
                  f = new e();f.append(b), c.blob = 0 === f.getBlob("application/zip").size;
            } catch (d) {
              c.blob = !1;
            }
          }
        }
      }).call(this, "undefined" != typeof Buffer ? Buffer : void 0);
    }, {}], 19: [function (a, b, c) {
      "use strict";
      function d(a) {
        a && (this.data = a, this.length = this.data.length, this.index = 0, this.zero = 0);
      }var e = a("./arrayReader");d.prototype = new e(), d.prototype.readData = function (a) {
        if (this.checkOffset(a), 0 === a) return new Uint8Array(0);var b = this.data.subarray(this.zero + this.index, this.zero + this.index + a);return this.index += a, b;
      }, b.exports = d;
    }, { "./arrayReader": 1 }], 20: [function (a, b, c) {
      "use strict";
      var d = a("./utils"),
          e = function e(a) {
        this.data = new Uint8Array(a), this.index = 0;
      };e.prototype = { append: function append(a) {
          0 !== a.length && (a = d.transformTo("uint8array", a), this.data.set(a, this.index), this.index += a.length);
        }, finalize: function finalize() {
          return this.data;
        } }, b.exports = e;
    }, { "./utils": 22 }], 21: [function (a, b, c) {
      "use strict";
      for (var d = a("./utils"), e = a("./support"), f = a("./nodeBuffer"), g = new Array(256), h = 0; 256 > h; h++) {
        g[h] = h >= 252 ? 6 : h >= 248 ? 5 : h >= 240 ? 4 : h >= 224 ? 3 : h >= 192 ? 2 : 1;
      }g[254] = g[254] = 1;var i = function i(a) {
        var b,
            c,
            d,
            f,
            g,
            h = a.length,
            i = 0;for (f = 0; h > f; f++) {
          c = a.charCodeAt(f), 55296 === (64512 & c) && h > f + 1 && (d = a.charCodeAt(f + 1), 56320 === (64512 & d) && (c = 65536 + (c - 55296 << 10) + (d - 56320), f++)), i += 128 > c ? 1 : 2048 > c ? 2 : 65536 > c ? 3 : 4;
        }for (b = e.uint8array ? new Uint8Array(i) : new Array(i), g = 0, f = 0; i > g; f++) {
          c = a.charCodeAt(f), 55296 === (64512 & c) && h > f + 1 && (d = a.charCodeAt(f + 1), 56320 === (64512 & d) && (c = 65536 + (c - 55296 << 10) + (d - 56320), f++)), 128 > c ? b[g++] = c : 2048 > c ? (b[g++] = 192 | c >>> 6, b[g++] = 128 | 63 & c) : 65536 > c ? (b[g++] = 224 | c >>> 12, b[g++] = 128 | c >>> 6 & 63, b[g++] = 128 | 63 & c) : (b[g++] = 240 | c >>> 18, b[g++] = 128 | c >>> 12 & 63, b[g++] = 128 | c >>> 6 & 63, b[g++] = 128 | 63 & c);
        }return b;
      },
          j = function j(a, b) {
        var c;for (b = b || a.length, b > a.length && (b = a.length), c = b - 1; c >= 0 && 128 === (192 & a[c]);) {
          c--;
        }return 0 > c ? b : 0 === c ? b : c + g[a[c]] > b ? c : b;
      },
          k = function k(a) {
        var b,
            c,
            e,
            f,
            h = a.length,
            i = new Array(2 * h);for (c = 0, b = 0; h > b;) {
          if (e = a[b++], 128 > e) i[c++] = e;else if (f = g[e], f > 4) i[c++] = 65533, b += f - 1;else {
            for (e &= 2 === f ? 31 : 3 === f ? 15 : 7; f > 1 && h > b;) {
              e = e << 6 | 63 & a[b++], f--;
            }f > 1 ? i[c++] = 65533 : 65536 > e ? i[c++] = e : (e -= 65536, i[c++] = 55296 | e >> 10 & 1023, i[c++] = 56320 | 1023 & e);
          }
        }return i.length !== c && (i.subarray ? i = i.subarray(0, c) : i.length = c), d.applyFromCharCode(i);
      };c.utf8encode = function (a) {
        return e.nodebuffer ? f(a, "utf-8") : i(a);
      }, c.utf8decode = function (a) {
        if (e.nodebuffer) return d.transformTo("nodebuffer", a).toString("utf-8");a = d.transformTo(e.uint8array ? "uint8array" : "array", a);for (var b = [], c = 0, f = a.length, g = 65536; f > c;) {
          var h = j(a, Math.min(c + g, f));e.uint8array ? b.push(k(a.subarray(c, h))) : b.push(k(a.slice(c, h))), c = h;
        }return b.join("");
      };
    }, { "./nodeBuffer": 12, "./support": 18, "./utils": 22 }], 22: [function (a, b, c) {
      "use strict";
      function d(a) {
        return a;
      }function e(a, b) {
        for (var c = 0; c < a.length; ++c) {
          b[c] = 255 & a.charCodeAt(c);
        }return b;
      }function f(a) {
        var b = 65536,
            d = [],
            e = a.length,
            f = c.getTypeOf(a),
            g = 0,
            h = !0;try {
          switch (f) {case "uint8array":
              String.fromCharCode.apply(null, new Uint8Array(0));break;case "nodebuffer":
              String.fromCharCode.apply(null, j(0));}
        } catch (i) {
          h = !1;
        }if (!h) {
          for (var k = "", l = 0; l < a.length; l++) {
            k += String.fromCharCode(a[l]);
          }return k;
        }for (; e > g && b > 1;) {
          try {
            "array" === f || "nodebuffer" === f ? d.push(String.fromCharCode.apply(null, a.slice(g, Math.min(g + b, e)))) : d.push(String.fromCharCode.apply(null, a.subarray(g, Math.min(g + b, e)))), g += b;
          } catch (i) {
            b = Math.floor(b / 2);
          }
        }return d.join("");
      }function g(a, b) {
        for (var c = 0; c < a.length; c++) {
          b[c] = a[c];
        }return b;
      }var h = a("./support"),
          i = a("./compressions"),
          j = a("./nodeBuffer");c.string2binary = function (a) {
        for (var b = "", c = 0; c < a.length; c++) {
          b += String.fromCharCode(255 & a.charCodeAt(c));
        }return b;
      }, c.arrayBuffer2Blob = function (a, b) {
        c.checkSupport("blob"), b = b || "application/zip";try {
          return new Blob([a], { type: b });
        } catch (d) {
          try {
            var e = window.BlobBuilder || window.WebKitBlobBuilder || window.MozBlobBuilder || window.MSBlobBuilder,
                f = new e();return f.append(a), f.getBlob(b);
          } catch (d) {
            throw new Error("Bug : can't construct the Blob.");
          }
        }
      }, c.applyFromCharCode = f;var k = {};k.string = { string: d, array: function array(a) {
          return e(a, new Array(a.length));
        }, arraybuffer: function arraybuffer(a) {
          return k.string.uint8array(a).buffer;
        }, uint8array: function uint8array(a) {
          return e(a, new Uint8Array(a.length));
        }, nodebuffer: function nodebuffer(a) {
          return e(a, j(a.length));
        } }, k.array = { string: f, array: d, arraybuffer: function arraybuffer(a) {
          return new Uint8Array(a).buffer;
        }, uint8array: function uint8array(a) {
          return new Uint8Array(a);
        }, nodebuffer: function nodebuffer(a) {
          return j(a);
        } }, k.arraybuffer = { string: function string(a) {
          return f(new Uint8Array(a));
        }, array: function array(a) {
          return g(new Uint8Array(a), new Array(a.byteLength));
        }, arraybuffer: d, uint8array: function uint8array(a) {
          return new Uint8Array(a);
        }, nodebuffer: function nodebuffer(a) {
          return j(new Uint8Array(a));
        } }, k.uint8array = { string: f, array: function array(a) {
          return g(a, new Array(a.length));
        }, arraybuffer: function arraybuffer(a) {
          return a.buffer;
        }, uint8array: d, nodebuffer: function nodebuffer(a) {
          return j(a);
        } }, k.nodebuffer = { string: f, array: function array(a) {
          return g(a, new Array(a.length));
        }, arraybuffer: function arraybuffer(a) {
          return k.nodebuffer.uint8array(a).buffer;
        }, uint8array: function uint8array(a) {
          return g(a, new Uint8Array(a.length));
        }, nodebuffer: d }, c.transformTo = function (a, b) {
        if (b || (b = ""), !a) return b;c.checkSupport(a);var d = c.getTypeOf(b),
            e = k[d][a](b);return e;
      }, c.getTypeOf = function (a) {
        return "string" == typeof a ? "string" : "[object Array]" === Object.prototype.toString.call(a) ? "array" : h.nodebuffer && j.test(a) ? "nodebuffer" : h.uint8array && a instanceof Uint8Array ? "uint8array" : h.arraybuffer && a instanceof ArrayBuffer ? "arraybuffer" : void 0;
      }, c.checkSupport = function (a) {
        var b = h[a.toLowerCase()];if (!b) throw new Error(a + " is not supported by this browser");
      }, c.MAX_VALUE_16BITS = 65535, c.MAX_VALUE_32BITS = -1, c.pretty = function (a) {
        var b,
            c,
            d = "";for (c = 0; c < (a || "").length; c++) {
          b = a.charCodeAt(c), d += "\\x" + (16 > b ? "0" : "") + b.toString(16).toUpperCase();
        }return d;
      }, c.findCompression = function (a) {
        for (var b in i) {
          if (i.hasOwnProperty(b) && i[b].magic === a) return i[b];
        }return null;
      }, c.isRegExp = function (a) {
        return "[object RegExp]" === Object.prototype.toString.call(a);
      }, c.extend = function () {
        var a,
            b,
            c = {};for (a = 0; a < arguments.length; a++) {
          for (b in arguments[a]) {
            arguments[a].hasOwnProperty(b) && "undefined" == typeof c[b] && (c[b] = arguments[a][b]);
          }
        }return c;
      };
    }, { "./compressions": 4, "./nodeBuffer": 12, "./support": 18 }], 23: [function (a, b, c) {
      "use strict";
      function d(a, b) {
        this.files = [], this.loadOptions = b, a && this.load(a);
      }var e = a("./stringReader"),
          f = a("./nodeBufferReader"),
          g = a("./uint8ArrayReader"),
          h = a("./arrayReader"),
          i = a("./utils"),
          j = a("./signature"),
          k = a("./zipEntry"),
          l = a("./support");a("./object");d.prototype = { checkSignature: function checkSignature(a) {
          var b = this.reader.readString(4);if (b !== a) throw new Error("Corrupted zip or bug : unexpected signature (" + i.pretty(b) + ", expected " + i.pretty(a) + ")");
        }, isSignature: function isSignature(a, b) {
          var c = this.reader.index;this.reader.setIndex(a);var d = this.reader.readString(4),
              e = d === b;return this.reader.setIndex(c), e;
        }, readBlockEndOfCentral: function readBlockEndOfCentral() {
          this.diskNumber = this.reader.readInt(2), this.diskWithCentralDirStart = this.reader.readInt(2), this.centralDirRecordsOnThisDisk = this.reader.readInt(2), this.centralDirRecords = this.reader.readInt(2), this.centralDirSize = this.reader.readInt(4), this.centralDirOffset = this.reader.readInt(4), this.zipCommentLength = this.reader.readInt(2);var a = this.reader.readData(this.zipCommentLength),
              b = l.uint8array ? "uint8array" : "array",
              c = i.transformTo(b, a);this.zipComment = this.loadOptions.decodeFileName(c);
        }, readBlockZip64EndOfCentral: function readBlockZip64EndOfCentral() {
          this.zip64EndOfCentralSize = this.reader.readInt(8), this.versionMadeBy = this.reader.readString(2), this.versionNeeded = this.reader.readInt(2), this.diskNumber = this.reader.readInt(4), this.diskWithCentralDirStart = this.reader.readInt(4), this.centralDirRecordsOnThisDisk = this.reader.readInt(8), this.centralDirRecords = this.reader.readInt(8), this.centralDirSize = this.reader.readInt(8), this.centralDirOffset = this.reader.readInt(8), this.zip64ExtensibleData = {};for (var a, b, c, d = this.zip64EndOfCentralSize - 44, e = 0; d > e;) {
            a = this.reader.readInt(2), b = this.reader.readInt(4), c = this.reader.readString(b), this.zip64ExtensibleData[a] = { id: a, length: b, value: c };
          }
        }, readBlockZip64EndOfCentralLocator: function readBlockZip64EndOfCentralLocator() {
          if (this.diskWithZip64CentralDirStart = this.reader.readInt(4), this.relativeOffsetEndOfZip64CentralDir = this.reader.readInt(8), this.disksCount = this.reader.readInt(4), this.disksCount > 1) throw new Error("Multi-volumes zip are not supported");
        }, readLocalFiles: function readLocalFiles() {
          var a, b;for (a = 0; a < this.files.length; a++) {
            b = this.files[a], this.reader.setIndex(b.localHeaderOffset), this.checkSignature(j.LOCAL_FILE_HEADER), b.readLocalPart(this.reader), b.handleUTF8(), b.processAttributes();
          }
        }, readCentralDir: function readCentralDir() {
          var a;for (this.reader.setIndex(this.centralDirOffset); this.reader.readString(4) === j.CENTRAL_FILE_HEADER;) {
            a = new k({ zip64: this.zip64 }, this.loadOptions), a.readCentralPart(this.reader), this.files.push(a);
          }if (this.centralDirRecords !== this.files.length && 0 !== this.centralDirRecords && 0 === this.files.length) throw new Error("Corrupted zip or bug: expected " + this.centralDirRecords + " records in central dir, got " + this.files.length);
        }, readEndOfCentral: function readEndOfCentral() {
          var a = this.reader.lastIndexOfSignature(j.CENTRAL_DIRECTORY_END);if (0 > a) {
            var b = !this.isSignature(0, j.LOCAL_FILE_HEADER);throw b ? new Error("Can't find end of central directory : is this a zip file ? If it is, see http://stuk.github.io/jszip/documentation/howto/read_zip.html") : new Error("Corrupted zip : can't find end of central directory");
          }this.reader.setIndex(a);var c = a;if (this.checkSignature(j.CENTRAL_DIRECTORY_END), this.readBlockEndOfCentral(), this.diskNumber === i.MAX_VALUE_16BITS || this.diskWithCentralDirStart === i.MAX_VALUE_16BITS || this.centralDirRecordsOnThisDisk === i.MAX_VALUE_16BITS || this.centralDirRecords === i.MAX_VALUE_16BITS || this.centralDirSize === i.MAX_VALUE_32BITS || this.centralDirOffset === i.MAX_VALUE_32BITS) {
            if (this.zip64 = !0, a = this.reader.lastIndexOfSignature(j.ZIP64_CENTRAL_DIRECTORY_LOCATOR), 0 > a) throw new Error("Corrupted zip : can't find the ZIP64 end of central directory locator");if (this.reader.setIndex(a), this.checkSignature(j.ZIP64_CENTRAL_DIRECTORY_LOCATOR), this.readBlockZip64EndOfCentralLocator(), !this.isSignature(this.relativeOffsetEndOfZip64CentralDir, j.ZIP64_CENTRAL_DIRECTORY_END) && (this.relativeOffsetEndOfZip64CentralDir = this.reader.lastIndexOfSignature(j.ZIP64_CENTRAL_DIRECTORY_END), this.relativeOffsetEndOfZip64CentralDir < 0)) throw new Error("Corrupted zip : can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir), this.checkSignature(j.ZIP64_CENTRAL_DIRECTORY_END), this.readBlockZip64EndOfCentral();
          }var d = this.centralDirOffset + this.centralDirSize;this.zip64 && (d += 20, d += 12 + this.zip64EndOfCentralSize);var e = c - d;if (e > 0) this.isSignature(c, j.CENTRAL_FILE_HEADER) || (this.reader.zero = e);else if (0 > e) throw new Error("Corrupted zip: missing " + Math.abs(e) + " bytes.");
        }, prepareReader: function prepareReader(a) {
          var b = i.getTypeOf(a);if (i.checkSupport(b), "string" !== b || l.uint8array) {
            if ("nodebuffer" === b) this.reader = new f(a);else if (l.uint8array) this.reader = new g(i.transformTo("uint8array", a));else {
              if (!l.array) throw new Error("Unexpected error: unsupported type '" + b + "'");this.reader = new h(i.transformTo("array", a));
            }
          } else this.reader = new e(a, this.loadOptions.optimizedBinaryString);
        }, load: function load(a) {
          this.prepareReader(a), this.readEndOfCentral(), this.readCentralDir(), this.readLocalFiles();
        } }, b.exports = d;
    }, { "./arrayReader": 1, "./nodeBufferReader": 13, "./object": 14, "./signature": 15, "./stringReader": 16, "./support": 18, "./uint8ArrayReader": 19, "./utils": 22, "./zipEntry": 24 }], 24: [function (a, b, c) {
      "use strict";
      function d(a, b) {
        this.options = a, this.loadOptions = b;
      }var e = a("./stringReader"),
          f = a("./utils"),
          g = a("./compressedObject"),
          h = a("./object"),
          i = a("./support"),
          j = 0,
          k = 3;d.prototype = { isEncrypted: function isEncrypted() {
          return 1 === (1 & this.bitFlag);
        }, useUTF8: function useUTF8() {
          return 2048 === (2048 & this.bitFlag);
        }, prepareCompressedContent: function prepareCompressedContent(a, b, c) {
          return function () {
            var d = a.index;a.setIndex(b);var e = a.readData(c);return a.setIndex(d), e;
          };
        }, prepareContent: function prepareContent(a, b, c, d, e) {
          return function () {
            var a = f.transformTo(d.uncompressInputType, this.getCompressedContent()),
                b = d.uncompress(a);if (b.length !== e) throw new Error("Bug : uncompressed data size mismatch");return b;
          };
        }, readLocalPart: function readLocalPart(a) {
          var b, c;if (a.skip(22), this.fileNameLength = a.readInt(2), c = a.readInt(2), this.fileName = a.readData(this.fileNameLength), a.skip(c), -1 == this.compressedSize || -1 == this.uncompressedSize) throw new Error("Bug or corrupted zip : didn't get enough informations from the central directory (compressedSize == -1 || uncompressedSize == -1)");if (b = f.findCompression(this.compressionMethod), null === b) throw new Error("Corrupted zip : compression " + f.pretty(this.compressionMethod) + " unknown (inner file : " + f.transformTo("string", this.fileName) + ")");if (this.decompressed = new g(), this.decompressed.compressedSize = this.compressedSize, this.decompressed.uncompressedSize = this.uncompressedSize, this.decompressed.crc32 = this.crc32, this.decompressed.compressionMethod = this.compressionMethod, this.decompressed.getCompressedContent = this.prepareCompressedContent(a, a.index, this.compressedSize, b), this.decompressed.getContent = this.prepareContent(a, a.index, this.compressedSize, b, this.uncompressedSize), this.loadOptions.checkCRC32 && (this.decompressed = f.transformTo("string", this.decompressed.getContent()), h.crc32(this.decompressed) !== this.crc32)) throw new Error("Corrupted zip : CRC32 mismatch");
        }, readCentralPart: function readCentralPart(a) {
          if (this.versionMadeBy = a.readInt(2), this.versionNeeded = a.readInt(2), this.bitFlag = a.readInt(2), this.compressionMethod = a.readString(2), this.date = a.readDate(), this.crc32 = a.readInt(4), this.compressedSize = a.readInt(4), this.uncompressedSize = a.readInt(4), this.fileNameLength = a.readInt(2), this.extraFieldsLength = a.readInt(2), this.fileCommentLength = a.readInt(2), this.diskNumberStart = a.readInt(2), this.internalFileAttributes = a.readInt(2), this.externalFileAttributes = a.readInt(4), this.localHeaderOffset = a.readInt(4), this.isEncrypted()) throw new Error("Encrypted zip are not supported");this.fileName = a.readData(this.fileNameLength), this.readExtraFields(a), this.parseZIP64ExtraField(a), this.fileComment = a.readData(this.fileCommentLength);
        }, processAttributes: function processAttributes() {
          this.unixPermissions = null, this.dosPermissions = null;var a = this.versionMadeBy >> 8;this.dir = !!(16 & this.externalFileAttributes), a === j && (this.dosPermissions = 63 & this.externalFileAttributes), a === k && (this.unixPermissions = this.externalFileAttributes >> 16 & 65535), this.dir || "/" !== this.fileNameStr.slice(-1) || (this.dir = !0);
        }, parseZIP64ExtraField: function parseZIP64ExtraField(a) {
          if (this.extraFields[1]) {
            var b = new e(this.extraFields[1].value);this.uncompressedSize === f.MAX_VALUE_32BITS && (this.uncompressedSize = b.readInt(8)), this.compressedSize === f.MAX_VALUE_32BITS && (this.compressedSize = b.readInt(8)), this.localHeaderOffset === f.MAX_VALUE_32BITS && (this.localHeaderOffset = b.readInt(8)), this.diskNumberStart === f.MAX_VALUE_32BITS && (this.diskNumberStart = b.readInt(4));
          }
        }, readExtraFields: function readExtraFields(a) {
          var b,
              c,
              d,
              e = a.index;for (this.extraFields = this.extraFields || {}; a.index < e + this.extraFieldsLength;) {
            b = a.readInt(2), c = a.readInt(2), d = a.readString(c), this.extraFields[b] = { id: b, length: c, value: d };
          }
        }, handleUTF8: function handleUTF8() {
          var a = i.uint8array ? "uint8array" : "array";if (this.useUTF8()) this.fileNameStr = h.utf8decode(this.fileName), this.fileCommentStr = h.utf8decode(this.fileComment);else {
            var b = this.findExtraFieldUnicodePath();if (null !== b) this.fileNameStr = b;else {
              var c = f.transformTo(a, this.fileName);this.fileNameStr = this.loadOptions.decodeFileName(c);
            }var d = this.findExtraFieldUnicodeComment();if (null !== d) this.fileCommentStr = d;else {
              var e = f.transformTo(a, this.fileComment);this.fileCommentStr = this.loadOptions.decodeFileName(e);
            }
          }
        }, findExtraFieldUnicodePath: function findExtraFieldUnicodePath() {
          var a = this.extraFields[28789];if (a) {
            var b = new e(a.value);return 1 !== b.readInt(1) ? null : h.crc32(this.fileName) !== b.readInt(4) ? null : h.utf8decode(b.readString(a.length - 5));
          }return null;
        }, findExtraFieldUnicodeComment: function findExtraFieldUnicodeComment() {
          var a = this.extraFields[25461];if (a) {
            var b = new e(a.value);return 1 !== b.readInt(1) ? null : h.crc32(this.fileComment) !== b.readInt(4) ? null : h.utf8decode(b.readString(a.length - 5));
          }return null;
        } }, b.exports = d;
    }, { "./compressedObject": 3, "./object": 14, "./stringReader": 16, "./support": 18, "./utils": 22 }], 25: [function (a, b, c) {
      "use strict";
      var d = a("./lib/utils/common").assign,
          e = a("./lib/deflate"),
          f = a("./lib/inflate"),
          g = a("./lib/zlib/constants"),
          h = {};d(h, e, f, g), b.exports = h;
    }, { "./lib/deflate": 26, "./lib/inflate": 27, "./lib/utils/common": 28, "./lib/zlib/constants": 31 }], 26: [function (a, b, c) {
      "use strict";
      function d(a) {
        if (!(this instanceof d)) return new d(a);this.options = i.assign({ level: s, method: u, chunkSize: 16384, windowBits: 15, memLevel: 8, strategy: t, to: "" }, a || {});var b = this.options;b.raw && b.windowBits > 0 ? b.windowBits = -b.windowBits : b.gzip && b.windowBits > 0 && b.windowBits < 16 && (b.windowBits += 16), this.err = 0, this.msg = "", this.ended = !1, this.chunks = [], this.strm = new l(), this.strm.avail_out = 0;var c = h.deflateInit2(this.strm, b.level, b.method, b.windowBits, b.memLevel, b.strategy);if (c !== p) throw new Error(k[c]);b.header && h.deflateSetHeader(this.strm, b.header);
      }function e(a, b) {
        var c = new d(b);if (c.push(a, !0), c.err) throw c.msg;return c.result;
      }function f(a, b) {
        return b = b || {}, b.raw = !0, e(a, b);
      }function g(a, b) {
        return b = b || {}, b.gzip = !0, e(a, b);
      }var h = a("./zlib/deflate"),
          i = a("./utils/common"),
          j = a("./utils/strings"),
          k = a("./zlib/messages"),
          l = a("./zlib/zstream"),
          m = Object.prototype.toString,
          n = 0,
          o = 4,
          p = 0,
          q = 1,
          r = 2,
          s = -1,
          t = 0,
          u = 8;d.prototype.push = function (a, b) {
        var c,
            d,
            e = this.strm,
            f = this.options.chunkSize;if (this.ended) return !1;d = b === ~~b ? b : b === !0 ? o : n, "string" == typeof a ? e.input = j.string2buf(a) : "[object ArrayBuffer]" === m.call(a) ? e.input = new Uint8Array(a) : e.input = a, e.next_in = 0, e.avail_in = e.input.length;do {
          if (0 === e.avail_out && (e.output = new i.Buf8(f), e.next_out = 0, e.avail_out = f), c = h.deflate(e, d), c !== q && c !== p) return this.onEnd(c), this.ended = !0, !1;0 !== e.avail_out && (0 !== e.avail_in || d !== o && d !== r) || ("string" === this.options.to ? this.onData(j.buf2binstring(i.shrinkBuf(e.output, e.next_out))) : this.onData(i.shrinkBuf(e.output, e.next_out)));
        } while ((e.avail_in > 0 || 0 === e.avail_out) && c !== q);return d === o ? (c = h.deflateEnd(this.strm), this.onEnd(c), this.ended = !0, c === p) : d === r ? (this.onEnd(p), e.avail_out = 0, !0) : !0;
      }, d.prototype.onData = function (a) {
        this.chunks.push(a);
      }, d.prototype.onEnd = function (a) {
        a === p && ("string" === this.options.to ? this.result = this.chunks.join("") : this.result = i.flattenChunks(this.chunks)), this.chunks = [], this.err = a, this.msg = this.strm.msg;
      }, c.Deflate = d, c.deflate = e, c.deflateRaw = f, c.gzip = g;
    }, { "./utils/common": 28, "./utils/strings": 29, "./zlib/deflate": 33, "./zlib/messages": 38, "./zlib/zstream": 40 }], 27: [function (a, b, c) {
      "use strict";
      function d(a) {
        if (!(this instanceof d)) return new d(a);this.options = h.assign({ chunkSize: 16384, windowBits: 0, to: "" }, a || {});var b = this.options;b.raw && b.windowBits >= 0 && b.windowBits < 16 && (b.windowBits = -b.windowBits, 0 === b.windowBits && (b.windowBits = -15)), !(b.windowBits >= 0 && b.windowBits < 16) || a && a.windowBits || (b.windowBits += 32), b.windowBits > 15 && b.windowBits < 48 && 0 === (15 & b.windowBits) && (b.windowBits |= 15), this.err = 0, this.msg = "", this.ended = !1, this.chunks = [], this.strm = new l(), this.strm.avail_out = 0;var c = g.inflateInit2(this.strm, b.windowBits);if (c !== j.Z_OK) throw new Error(k[c]);this.header = new m(), g.inflateGetHeader(this.strm, this.header);
      }function e(a, b) {
        var c = new d(b);if (c.push(a, !0), c.err) throw c.msg;return c.result;
      }function f(a, b) {
        return b = b || {}, b.raw = !0, e(a, b);
      }var g = a("./zlib/inflate"),
          h = a("./utils/common"),
          i = a("./utils/strings"),
          j = a("./zlib/constants"),
          k = a("./zlib/messages"),
          l = a("./zlib/zstream"),
          m = a("./zlib/gzheader"),
          n = Object.prototype.toString;d.prototype.push = function (a, b) {
        var c,
            d,
            e,
            f,
            k,
            l = this.strm,
            m = this.options.chunkSize,
            o = !1;if (this.ended) return !1;d = b === ~~b ? b : b === !0 ? j.Z_FINISH : j.Z_NO_FLUSH, "string" == typeof a ? l.input = i.binstring2buf(a) : "[object ArrayBuffer]" === n.call(a) ? l.input = new Uint8Array(a) : l.input = a, l.next_in = 0, l.avail_in = l.input.length;do {
          if (0 === l.avail_out && (l.output = new h.Buf8(m), l.next_out = 0, l.avail_out = m), c = g.inflate(l, j.Z_NO_FLUSH), c === j.Z_BUF_ERROR && o === !0 && (c = j.Z_OK, o = !1), c !== j.Z_STREAM_END && c !== j.Z_OK) return this.onEnd(c), this.ended = !0, !1;l.next_out && (0 !== l.avail_out && c !== j.Z_STREAM_END && (0 !== l.avail_in || d !== j.Z_FINISH && d !== j.Z_SYNC_FLUSH) || ("string" === this.options.to ? (e = i.utf8border(l.output, l.next_out), f = l.next_out - e, k = i.buf2string(l.output, e), l.next_out = f, l.avail_out = m - f, f && h.arraySet(l.output, l.output, e, f, 0), this.onData(k)) : this.onData(h.shrinkBuf(l.output, l.next_out)))), 0 === l.avail_in && 0 === l.avail_out && (o = !0);
        } while ((l.avail_in > 0 || 0 === l.avail_out) && c !== j.Z_STREAM_END);return c === j.Z_STREAM_END && (d = j.Z_FINISH), d === j.Z_FINISH ? (c = g.inflateEnd(this.strm), this.onEnd(c), this.ended = !0, c === j.Z_OK) : d === j.Z_SYNC_FLUSH ? (this.onEnd(j.Z_OK), l.avail_out = 0, !0) : !0;
      }, d.prototype.onData = function (a) {
        this.chunks.push(a);
      }, d.prototype.onEnd = function (a) {
        a === j.Z_OK && ("string" === this.options.to ? this.result = this.chunks.join("") : this.result = h.flattenChunks(this.chunks)), this.chunks = [], this.err = a, this.msg = this.strm.msg;
      }, c.Inflate = d, c.inflate = e, c.inflateRaw = f, c.ungzip = e;
    }, { "./utils/common": 28, "./utils/strings": 29, "./zlib/constants": 31, "./zlib/gzheader": 34, "./zlib/inflate": 36, "./zlib/messages": 38, "./zlib/zstream": 40 }], 28: [function (a, b, c) {
      "use strict";
      var d = "undefined" != typeof Uint8Array && "undefined" != typeof Uint16Array && "undefined" != typeof Int32Array;c.assign = function (a) {
        for (var b = Array.prototype.slice.call(arguments, 1); b.length;) {
          var c = b.shift();if (c) {
            if ("object" != (typeof c === "undefined" ? "undefined" : _typeof(c))) throw new TypeError(c + "must be non-object");for (var d in c) {
              c.hasOwnProperty(d) && (a[d] = c[d]);
            }
          }
        }return a;
      }, c.shrinkBuf = function (a, b) {
        return a.length === b ? a : a.subarray ? a.subarray(0, b) : (a.length = b, a);
      };var e = { arraySet: function arraySet(a, b, c, d, e) {
          if (b.subarray && a.subarray) return void a.set(b.subarray(c, c + d), e);for (var f = 0; d > f; f++) {
            a[e + f] = b[c + f];
          }
        }, flattenChunks: function flattenChunks(a) {
          var b, c, d, e, f, g;for (d = 0, b = 0, c = a.length; c > b; b++) {
            d += a[b].length;
          }for (g = new Uint8Array(d), e = 0, b = 0, c = a.length; c > b; b++) {
            f = a[b], g.set(f, e), e += f.length;
          }return g;
        } },
          f = { arraySet: function arraySet(a, b, c, d, e) {
          for (var f = 0; d > f; f++) {
            a[e + f] = b[c + f];
          }
        }, flattenChunks: function flattenChunks(a) {
          return [].concat.apply([], a);
        } };c.setTyped = function (a) {
        a ? (c.Buf8 = Uint8Array, c.Buf16 = Uint16Array, c.Buf32 = Int32Array, c.assign(c, e)) : (c.Buf8 = Array, c.Buf16 = Array, c.Buf32 = Array, c.assign(c, f));
      }, c.setTyped(d);
    }, {}], 29: [function (a, b, c) {
      "use strict";
      function d(a, b) {
        if (65537 > b && (a.subarray && g || !a.subarray && f)) return String.fromCharCode.apply(null, e.shrinkBuf(a, b));for (var c = "", d = 0; b > d; d++) {
          c += String.fromCharCode(a[d]);
        }return c;
      }var e = a("./common"),
          f = !0,
          g = !0;try {
        String.fromCharCode.apply(null, [0]);
      } catch (h) {
        f = !1;
      }try {
        String.fromCharCode.apply(null, new Uint8Array(1));
      } catch (h) {
        g = !1;
      }for (var i = new e.Buf8(256), j = 0; 256 > j; j++) {
        i[j] = j >= 252 ? 6 : j >= 248 ? 5 : j >= 240 ? 4 : j >= 224 ? 3 : j >= 192 ? 2 : 1;
      }i[254] = i[254] = 1, c.string2buf = function (a) {
        var b,
            c,
            d,
            f,
            g,
            h = a.length,
            i = 0;for (f = 0; h > f; f++) {
          c = a.charCodeAt(f), 55296 === (64512 & c) && h > f + 1 && (d = a.charCodeAt(f + 1), 56320 === (64512 & d) && (c = 65536 + (c - 55296 << 10) + (d - 56320), f++)), i += 128 > c ? 1 : 2048 > c ? 2 : 65536 > c ? 3 : 4;
        }for (b = new e.Buf8(i), g = 0, f = 0; i > g; f++) {
          c = a.charCodeAt(f), 55296 === (64512 & c) && h > f + 1 && (d = a.charCodeAt(f + 1), 56320 === (64512 & d) && (c = 65536 + (c - 55296 << 10) + (d - 56320), f++)), 128 > c ? b[g++] = c : 2048 > c ? (b[g++] = 192 | c >>> 6, b[g++] = 128 | 63 & c) : 65536 > c ? (b[g++] = 224 | c >>> 12, b[g++] = 128 | c >>> 6 & 63, b[g++] = 128 | 63 & c) : (b[g++] = 240 | c >>> 18, b[g++] = 128 | c >>> 12 & 63, b[g++] = 128 | c >>> 6 & 63, b[g++] = 128 | 63 & c);
        }return b;
      }, c.buf2binstring = function (a) {
        return d(a, a.length);
      }, c.binstring2buf = function (a) {
        for (var b = new e.Buf8(a.length), c = 0, d = b.length; d > c; c++) {
          b[c] = a.charCodeAt(c);
        }return b;
      }, c.buf2string = function (a, b) {
        var c,
            e,
            f,
            g,
            h = b || a.length,
            j = new Array(2 * h);for (e = 0, c = 0; h > c;) {
          if (f = a[c++], 128 > f) j[e++] = f;else if (g = i[f], g > 4) j[e++] = 65533, c += g - 1;else {
            for (f &= 2 === g ? 31 : 3 === g ? 15 : 7; g > 1 && h > c;) {
              f = f << 6 | 63 & a[c++], g--;
            }g > 1 ? j[e++] = 65533 : 65536 > f ? j[e++] = f : (f -= 65536, j[e++] = 55296 | f >> 10 & 1023, j[e++] = 56320 | 1023 & f);
          }
        }return d(j, e);
      }, c.utf8border = function (a, b) {
        var c;for (b = b || a.length, b > a.length && (b = a.length), c = b - 1; c >= 0 && 128 === (192 & a[c]);) {
          c--;
        }return 0 > c ? b : 0 === c ? b : c + i[a[c]] > b ? c : b;
      };
    }, { "./common": 28 }], 30: [function (a, b, c) {
      "use strict";
      function d(a, b, c, d) {
        for (var e = 65535 & a | 0, f = a >>> 16 & 65535 | 0, g = 0; 0 !== c;) {
          g = c > 2e3 ? 2e3 : c, c -= g;do {
            e = e + b[d++] | 0, f = f + e | 0;
          } while (--g);e %= 65521, f %= 65521;
        }return e | f << 16 | 0;
      }b.exports = d;
    }, {}], 31: [function (a, b, c) {
      "use strict";
      b.exports = { Z_NO_FLUSH: 0, Z_PARTIAL_FLUSH: 1, Z_SYNC_FLUSH: 2, Z_FULL_FLUSH: 3, Z_FINISH: 4, Z_BLOCK: 5, Z_TREES: 6, Z_OK: 0, Z_STREAM_END: 1, Z_NEED_DICT: 2, Z_ERRNO: -1, Z_STREAM_ERROR: -2, Z_DATA_ERROR: -3, Z_BUF_ERROR: -5, Z_NO_COMPRESSION: 0, Z_BEST_SPEED: 1, Z_BEST_COMPRESSION: 9, Z_DEFAULT_COMPRESSION: -1, Z_FILTERED: 1, Z_HUFFMAN_ONLY: 2, Z_RLE: 3, Z_FIXED: 4, Z_DEFAULT_STRATEGY: 0, Z_BINARY: 0, Z_TEXT: 1, Z_UNKNOWN: 2, Z_DEFLATED: 8 };
    }, {}], 32: [function (a, b, c) {
      "use strict";
      function d() {
        for (var a, b = [], c = 0; 256 > c; c++) {
          a = c;for (var d = 0; 8 > d; d++) {
            a = 1 & a ? 3988292384 ^ a >>> 1 : a >>> 1;
          }b[c] = a;
        }return b;
      }function e(a, b, c, d) {
        var e = f,
            g = d + c;a ^= -1;for (var h = d; g > h; h++) {
          a = a >>> 8 ^ e[255 & (a ^ b[h])];
        }return -1 ^ a;
      }var f = d();b.exports = e;
    }, {}], 33: [function (a, b, c) {
      "use strict";
      function d(a, b) {
        return a.msg = H[b], b;
      }function e(a) {
        return (a << 1) - (a > 4 ? 9 : 0);
      }function f(a) {
        for (var b = a.length; --b >= 0;) {
          a[b] = 0;
        }
      }function g(a) {
        var b = a.state,
            c = b.pending;c > a.avail_out && (c = a.avail_out), 0 !== c && (D.arraySet(a.output, b.pending_buf, b.pending_out, c, a.next_out), a.next_out += c, b.pending_out += c, a.total_out += c, a.avail_out -= c, b.pending -= c, 0 === b.pending && (b.pending_out = 0));
      }function h(a, b) {
        E._tr_flush_block(a, a.block_start >= 0 ? a.block_start : -1, a.strstart - a.block_start, b), a.block_start = a.strstart, g(a.strm);
      }function i(a, b) {
        a.pending_buf[a.pending++] = b;
      }function j(a, b) {
        a.pending_buf[a.pending++] = b >>> 8 & 255, a.pending_buf[a.pending++] = 255 & b;
      }function k(a, b, c, d) {
        var e = a.avail_in;return e > d && (e = d), 0 === e ? 0 : (a.avail_in -= e, D.arraySet(b, a.input, a.next_in, e, c), 1 === a.state.wrap ? a.adler = F(a.adler, b, e, c) : 2 === a.state.wrap && (a.adler = G(a.adler, b, e, c)), a.next_in += e, a.total_in += e, e);
      }function l(a, b) {
        var c,
            d,
            e = a.max_chain_length,
            f = a.strstart,
            g = a.prev_length,
            h = a.nice_match,
            i = a.strstart > a.w_size - ka ? a.strstart - (a.w_size - ka) : 0,
            j = a.window,
            k = a.w_mask,
            l = a.prev,
            m = a.strstart + ja,
            n = j[f + g - 1],
            o = j[f + g];a.prev_length >= a.good_match && (e >>= 2), h > a.lookahead && (h = a.lookahead);do {
          if (c = b, j[c + g] === o && j[c + g - 1] === n && j[c] === j[f] && j[++c] === j[f + 1]) {
            f += 2, c++;do {} while (j[++f] === j[++c] && j[++f] === j[++c] && j[++f] === j[++c] && j[++f] === j[++c] && j[++f] === j[++c] && j[++f] === j[++c] && j[++f] === j[++c] && j[++f] === j[++c] && m > f);if (d = ja - (m - f), f = m - ja, d > g) {
              if (a.match_start = b, g = d, d >= h) break;n = j[f + g - 1], o = j[f + g];
            }
          }
        } while ((b = l[b & k]) > i && 0 !== --e);return g <= a.lookahead ? g : a.lookahead;
      }function m(a) {
        var b,
            c,
            d,
            e,
            f,
            g = a.w_size;do {
          if (e = a.window_size - a.lookahead - a.strstart, a.strstart >= g + (g - ka)) {
            D.arraySet(a.window, a.window, g, g, 0), a.match_start -= g, a.strstart -= g, a.block_start -= g, c = a.hash_size, b = c;do {
              d = a.head[--b], a.head[b] = d >= g ? d - g : 0;
            } while (--c);c = g, b = c;do {
              d = a.prev[--b], a.prev[b] = d >= g ? d - g : 0;
            } while (--c);e += g;
          }if (0 === a.strm.avail_in) break;if (c = k(a.strm, a.window, a.strstart + a.lookahead, e), a.lookahead += c, a.lookahead + a.insert >= ia) for (f = a.strstart - a.insert, a.ins_h = a.window[f], a.ins_h = (a.ins_h << a.hash_shift ^ a.window[f + 1]) & a.hash_mask; a.insert && (a.ins_h = (a.ins_h << a.hash_shift ^ a.window[f + ia - 1]) & a.hash_mask, a.prev[f & a.w_mask] = a.head[a.ins_h], a.head[a.ins_h] = f, f++, a.insert--, !(a.lookahead + a.insert < ia));) {}
        } while (a.lookahead < ka && 0 !== a.strm.avail_in);
      }function n(a, b) {
        var c = 65535;for (c > a.pending_buf_size - 5 && (c = a.pending_buf_size - 5);;) {
          if (a.lookahead <= 1) {
            if (m(a), 0 === a.lookahead && b === I) return ta;if (0 === a.lookahead) break;
          }a.strstart += a.lookahead, a.lookahead = 0;var d = a.block_start + c;if ((0 === a.strstart || a.strstart >= d) && (a.lookahead = a.strstart - d, a.strstart = d, h(a, !1), 0 === a.strm.avail_out)) return ta;if (a.strstart - a.block_start >= a.w_size - ka && (h(a, !1), 0 === a.strm.avail_out)) return ta;
        }return a.insert = 0, b === L ? (h(a, !0), 0 === a.strm.avail_out ? va : wa) : a.strstart > a.block_start && (h(a, !1), 0 === a.strm.avail_out) ? ta : ta;
      }function o(a, b) {
        for (var c, d;;) {
          if (a.lookahead < ka) {
            if (m(a), a.lookahead < ka && b === I) return ta;if (0 === a.lookahead) break;
          }if (c = 0, a.lookahead >= ia && (a.ins_h = (a.ins_h << a.hash_shift ^ a.window[a.strstart + ia - 1]) & a.hash_mask, c = a.prev[a.strstart & a.w_mask] = a.head[a.ins_h], a.head[a.ins_h] = a.strstart), 0 !== c && a.strstart - c <= a.w_size - ka && (a.match_length = l(a, c)), a.match_length >= ia) {
            if (d = E._tr_tally(a, a.strstart - a.match_start, a.match_length - ia), a.lookahead -= a.match_length, a.match_length <= a.max_lazy_match && a.lookahead >= ia) {
              a.match_length--;do {
                a.strstart++, a.ins_h = (a.ins_h << a.hash_shift ^ a.window[a.strstart + ia - 1]) & a.hash_mask, c = a.prev[a.strstart & a.w_mask] = a.head[a.ins_h], a.head[a.ins_h] = a.strstart;
              } while (0 !== --a.match_length);a.strstart++;
            } else a.strstart += a.match_length, a.match_length = 0, a.ins_h = a.window[a.strstart], a.ins_h = (a.ins_h << a.hash_shift ^ a.window[a.strstart + 1]) & a.hash_mask;
          } else d = E._tr_tally(a, 0, a.window[a.strstart]), a.lookahead--, a.strstart++;if (d && (h(a, !1), 0 === a.strm.avail_out)) return ta;
        }return a.insert = a.strstart < ia - 1 ? a.strstart : ia - 1, b === L ? (h(a, !0), 0 === a.strm.avail_out ? va : wa) : a.last_lit && (h(a, !1), 0 === a.strm.avail_out) ? ta : ua;
      }function p(a, b) {
        for (var c, d, e;;) {
          if (a.lookahead < ka) {
            if (m(a), a.lookahead < ka && b === I) return ta;if (0 === a.lookahead) break;
          }if (c = 0, a.lookahead >= ia && (a.ins_h = (a.ins_h << a.hash_shift ^ a.window[a.strstart + ia - 1]) & a.hash_mask, c = a.prev[a.strstart & a.w_mask] = a.head[a.ins_h], a.head[a.ins_h] = a.strstart), a.prev_length = a.match_length, a.prev_match = a.match_start, a.match_length = ia - 1, 0 !== c && a.prev_length < a.max_lazy_match && a.strstart - c <= a.w_size - ka && (a.match_length = l(a, c), a.match_length <= 5 && (a.strategy === T || a.match_length === ia && a.strstart - a.match_start > 4096) && (a.match_length = ia - 1)), a.prev_length >= ia && a.match_length <= a.prev_length) {
            e = a.strstart + a.lookahead - ia, d = E._tr_tally(a, a.strstart - 1 - a.prev_match, a.prev_length - ia), a.lookahead -= a.prev_length - 1, a.prev_length -= 2;do {
              ++a.strstart <= e && (a.ins_h = (a.ins_h << a.hash_shift ^ a.window[a.strstart + ia - 1]) & a.hash_mask, c = a.prev[a.strstart & a.w_mask] = a.head[a.ins_h], a.head[a.ins_h] = a.strstart);
            } while (0 !== --a.prev_length);if (a.match_available = 0, a.match_length = ia - 1, a.strstart++, d && (h(a, !1), 0 === a.strm.avail_out)) return ta;
          } else if (a.match_available) {
            if (d = E._tr_tally(a, 0, a.window[a.strstart - 1]), d && h(a, !1), a.strstart++, a.lookahead--, 0 === a.strm.avail_out) return ta;
          } else a.match_available = 1, a.strstart++, a.lookahead--;
        }return a.match_available && (d = E._tr_tally(a, 0, a.window[a.strstart - 1]), a.match_available = 0), a.insert = a.strstart < ia - 1 ? a.strstart : ia - 1, b === L ? (h(a, !0), 0 === a.strm.avail_out ? va : wa) : a.last_lit && (h(a, !1), 0 === a.strm.avail_out) ? ta : ua;
      }function q(a, b) {
        for (var c, d, e, f, g = a.window;;) {
          if (a.lookahead <= ja) {
            if (m(a), a.lookahead <= ja && b === I) return ta;if (0 === a.lookahead) break;
          }if (a.match_length = 0, a.lookahead >= ia && a.strstart > 0 && (e = a.strstart - 1, d = g[e], d === g[++e] && d === g[++e] && d === g[++e])) {
            f = a.strstart + ja;do {} while (d === g[++e] && d === g[++e] && d === g[++e] && d === g[++e] && d === g[++e] && d === g[++e] && d === g[++e] && d === g[++e] && f > e);a.match_length = ja - (f - e), a.match_length > a.lookahead && (a.match_length = a.lookahead);
          }if (a.match_length >= ia ? (c = E._tr_tally(a, 1, a.match_length - ia), a.lookahead -= a.match_length, a.strstart += a.match_length, a.match_length = 0) : (c = E._tr_tally(a, 0, a.window[a.strstart]), a.lookahead--, a.strstart++), c && (h(a, !1), 0 === a.strm.avail_out)) return ta;
        }return a.insert = 0, b === L ? (h(a, !0), 0 === a.strm.avail_out ? va : wa) : a.last_lit && (h(a, !1), 0 === a.strm.avail_out) ? ta : ua;
      }function r(a, b) {
        for (var c;;) {
          if (0 === a.lookahead && (m(a), 0 === a.lookahead)) {
            if (b === I) return ta;break;
          }if (a.match_length = 0, c = E._tr_tally(a, 0, a.window[a.strstart]), a.lookahead--, a.strstart++, c && (h(a, !1), 0 === a.strm.avail_out)) return ta;
        }return a.insert = 0, b === L ? (h(a, !0), 0 === a.strm.avail_out ? va : wa) : a.last_lit && (h(a, !1), 0 === a.strm.avail_out) ? ta : ua;
      }function s(a, b, c, d, e) {
        this.good_length = a, this.max_lazy = b, this.nice_length = c, this.max_chain = d, this.func = e;
      }function t(a) {
        a.window_size = 2 * a.w_size, f(a.head), a.max_lazy_match = C[a.level].max_lazy, a.good_match = C[a.level].good_length, a.nice_match = C[a.level].nice_length, a.max_chain_length = C[a.level].max_chain, a.strstart = 0, a.block_start = 0, a.lookahead = 0, a.insert = 0, a.match_length = a.prev_length = ia - 1, a.match_available = 0, a.ins_h = 0;
      }function u() {
        this.strm = null, this.status = 0, this.pending_buf = null, this.pending_buf_size = 0, this.pending_out = 0, this.pending = 0, this.wrap = 0, this.gzhead = null, this.gzindex = 0, this.method = Z, this.last_flush = -1, this.w_size = 0, this.w_bits = 0, this.w_mask = 0, this.window = null, this.window_size = 0, this.prev = null, this.head = null, this.ins_h = 0, this.hash_size = 0, this.hash_bits = 0, this.hash_mask = 0, this.hash_shift = 0, this.block_start = 0, this.match_length = 0, this.prev_match = 0, this.match_available = 0, this.strstart = 0, this.match_start = 0, this.lookahead = 0, this.prev_length = 0, this.max_chain_length = 0, this.max_lazy_match = 0, this.level = 0, this.strategy = 0, this.good_match = 0, this.nice_match = 0, this.dyn_ltree = new D.Buf16(2 * ga), this.dyn_dtree = new D.Buf16(2 * (2 * ea + 1)), this.bl_tree = new D.Buf16(2 * (2 * fa + 1)), f(this.dyn_ltree), f(this.dyn_dtree), f(this.bl_tree), this.l_desc = null, this.d_desc = null, this.bl_desc = null, this.bl_count = new D.Buf16(ha + 1), this.heap = new D.Buf16(2 * da + 1), f(this.heap), this.heap_len = 0, this.heap_max = 0, this.depth = new D.Buf16(2 * da + 1), f(this.depth), this.l_buf = 0, this.lit_bufsize = 0, this.last_lit = 0, this.d_buf = 0, this.opt_len = 0, this.static_len = 0, this.matches = 0, this.insert = 0, this.bi_buf = 0, this.bi_valid = 0;
      }function v(a) {
        var b;return a && a.state ? (a.total_in = a.total_out = 0, a.data_type = Y, b = a.state, b.pending = 0, b.pending_out = 0, b.wrap < 0 && (b.wrap = -b.wrap), b.status = b.wrap ? ma : ra, a.adler = 2 === b.wrap ? 0 : 1, b.last_flush = I, E._tr_init(b), N) : d(a, P);
      }function w(a) {
        var b = v(a);return b === N && t(a.state), b;
      }function x(a, b) {
        return a && a.state ? 2 !== a.state.wrap ? P : (a.state.gzhead = b, N) : P;
      }function y(a, b, c, e, f, g) {
        if (!a) return P;var h = 1;if (b === S && (b = 6), 0 > e ? (h = 0, e = -e) : e > 15 && (h = 2, e -= 16), 1 > f || f > $ || c !== Z || 8 > e || e > 15 || 0 > b || b > 9 || 0 > g || g > W) return d(a, P);8 === e && (e = 9);var i = new u();return a.state = i, i.strm = a, i.wrap = h, i.gzhead = null, i.w_bits = e, i.w_size = 1 << i.w_bits, i.w_mask = i.w_size - 1, i.hash_bits = f + 7, i.hash_size = 1 << i.hash_bits, i.hash_mask = i.hash_size - 1, i.hash_shift = ~~((i.hash_bits + ia - 1) / ia), i.window = new D.Buf8(2 * i.w_size), i.head = new D.Buf16(i.hash_size), i.prev = new D.Buf16(i.w_size), i.lit_bufsize = 1 << f + 6, i.pending_buf_size = 4 * i.lit_bufsize, i.pending_buf = new D.Buf8(i.pending_buf_size), i.d_buf = i.lit_bufsize >> 1, i.l_buf = 3 * i.lit_bufsize, i.level = b, i.strategy = g, i.method = c, w(a);
      }function z(a, b) {
        return y(a, b, Z, _, aa, X);
      }function A(a, b) {
        var c, h, k, l;if (!a || !a.state || b > M || 0 > b) return a ? d(a, P) : P;if (h = a.state, !a.output || !a.input && 0 !== a.avail_in || h.status === sa && b !== L) return d(a, 0 === a.avail_out ? R : P);if (h.strm = a, c = h.last_flush, h.last_flush = b, h.status === ma) if (2 === h.wrap) a.adler = 0, i(h, 31), i(h, 139), i(h, 8), h.gzhead ? (i(h, (h.gzhead.text ? 1 : 0) + (h.gzhead.hcrc ? 2 : 0) + (h.gzhead.extra ? 4 : 0) + (h.gzhead.name ? 8 : 0) + (h.gzhead.comment ? 16 : 0)), i(h, 255 & h.gzhead.time), i(h, h.gzhead.time >> 8 & 255), i(h, h.gzhead.time >> 16 & 255), i(h, h.gzhead.time >> 24 & 255), i(h, 9 === h.level ? 2 : h.strategy >= U || h.level < 2 ? 4 : 0), i(h, 255 & h.gzhead.os), h.gzhead.extra && h.gzhead.extra.length && (i(h, 255 & h.gzhead.extra.length), i(h, h.gzhead.extra.length >> 8 & 255)), h.gzhead.hcrc && (a.adler = G(a.adler, h.pending_buf, h.pending, 0)), h.gzindex = 0, h.status = na) : (i(h, 0), i(h, 0), i(h, 0), i(h, 0), i(h, 0), i(h, 9 === h.level ? 2 : h.strategy >= U || h.level < 2 ? 4 : 0), i(h, xa), h.status = ra);else {
          var m = Z + (h.w_bits - 8 << 4) << 8,
              n = -1;n = h.strategy >= U || h.level < 2 ? 0 : h.level < 6 ? 1 : 6 === h.level ? 2 : 3, m |= n << 6, 0 !== h.strstart && (m |= la), m += 31 - m % 31, h.status = ra, j(h, m), 0 !== h.strstart && (j(h, a.adler >>> 16), j(h, 65535 & a.adler)), a.adler = 1;
        }if (h.status === na) if (h.gzhead.extra) {
          for (k = h.pending; h.gzindex < (65535 & h.gzhead.extra.length) && (h.pending !== h.pending_buf_size || (h.gzhead.hcrc && h.pending > k && (a.adler = G(a.adler, h.pending_buf, h.pending - k, k)), g(a), k = h.pending, h.pending !== h.pending_buf_size));) {
            i(h, 255 & h.gzhead.extra[h.gzindex]), h.gzindex++;
          }h.gzhead.hcrc && h.pending > k && (a.adler = G(a.adler, h.pending_buf, h.pending - k, k)), h.gzindex === h.gzhead.extra.length && (h.gzindex = 0, h.status = oa);
        } else h.status = oa;if (h.status === oa) if (h.gzhead.name) {
          k = h.pending;do {
            if (h.pending === h.pending_buf_size && (h.gzhead.hcrc && h.pending > k && (a.adler = G(a.adler, h.pending_buf, h.pending - k, k)), g(a), k = h.pending, h.pending === h.pending_buf_size)) {
              l = 1;break;
            }l = h.gzindex < h.gzhead.name.length ? 255 & h.gzhead.name.charCodeAt(h.gzindex++) : 0, i(h, l);
          } while (0 !== l);h.gzhead.hcrc && h.pending > k && (a.adler = G(a.adler, h.pending_buf, h.pending - k, k)), 0 === l && (h.gzindex = 0, h.status = pa);
        } else h.status = pa;if (h.status === pa) if (h.gzhead.comment) {
          k = h.pending;do {
            if (h.pending === h.pending_buf_size && (h.gzhead.hcrc && h.pending > k && (a.adler = G(a.adler, h.pending_buf, h.pending - k, k)), g(a), k = h.pending, h.pending === h.pending_buf_size)) {
              l = 1;break;
            }l = h.gzindex < h.gzhead.comment.length ? 255 & h.gzhead.comment.charCodeAt(h.gzindex++) : 0, i(h, l);
          } while (0 !== l);h.gzhead.hcrc && h.pending > k && (a.adler = G(a.adler, h.pending_buf, h.pending - k, k)), 0 === l && (h.status = qa);
        } else h.status = qa;if (h.status === qa && (h.gzhead.hcrc ? (h.pending + 2 > h.pending_buf_size && g(a), h.pending + 2 <= h.pending_buf_size && (i(h, 255 & a.adler), i(h, a.adler >> 8 & 255), a.adler = 0, h.status = ra)) : h.status = ra), 0 !== h.pending) {
          if (g(a), 0 === a.avail_out) return h.last_flush = -1, N;
        } else if (0 === a.avail_in && e(b) <= e(c) && b !== L) return d(a, R);if (h.status === sa && 0 !== a.avail_in) return d(a, R);if (0 !== a.avail_in || 0 !== h.lookahead || b !== I && h.status !== sa) {
          var o = h.strategy === U ? r(h, b) : h.strategy === V ? q(h, b) : C[h.level].func(h, b);if (o !== va && o !== wa || (h.status = sa), o === ta || o === va) return 0 === a.avail_out && (h.last_flush = -1), N;if (o === ua && (b === J ? E._tr_align(h) : b !== M && (E._tr_stored_block(h, 0, 0, !1), b === K && (f(h.head), 0 === h.lookahead && (h.strstart = 0, h.block_start = 0, h.insert = 0))), g(a), 0 === a.avail_out)) return h.last_flush = -1, N;
        }return b !== L ? N : h.wrap <= 0 ? O : (2 === h.wrap ? (i(h, 255 & a.adler), i(h, a.adler >> 8 & 255), i(h, a.adler >> 16 & 255), i(h, a.adler >> 24 & 255), i(h, 255 & a.total_in), i(h, a.total_in >> 8 & 255), i(h, a.total_in >> 16 & 255), i(h, a.total_in >> 24 & 255)) : (j(h, a.adler >>> 16), j(h, 65535 & a.adler)), g(a), h.wrap > 0 && (h.wrap = -h.wrap), 0 !== h.pending ? N : O);
      }function B(a) {
        var b;return a && a.state ? (b = a.state.status, b !== ma && b !== na && b !== oa && b !== pa && b !== qa && b !== ra && b !== sa ? d(a, P) : (a.state = null, b === ra ? d(a, Q) : N)) : P;
      }var C,
          D = a("../utils/common"),
          E = a("./trees"),
          F = a("./adler32"),
          G = a("./crc32"),
          H = a("./messages"),
          I = 0,
          J = 1,
          K = 3,
          L = 4,
          M = 5,
          N = 0,
          O = 1,
          P = -2,
          Q = -3,
          R = -5,
          S = -1,
          T = 1,
          U = 2,
          V = 3,
          W = 4,
          X = 0,
          Y = 2,
          Z = 8,
          $ = 9,
          _ = 15,
          aa = 8,
          ba = 29,
          ca = 256,
          da = ca + 1 + ba,
          ea = 30,
          fa = 19,
          ga = 2 * da + 1,
          ha = 15,
          ia = 3,
          ja = 258,
          ka = ja + ia + 1,
          la = 32,
          ma = 42,
          na = 69,
          oa = 73,
          pa = 91,
          qa = 103,
          ra = 113,
          sa = 666,
          ta = 1,
          ua = 2,
          va = 3,
          wa = 4,
          xa = 3;C = [new s(0, 0, 0, 0, n), new s(4, 4, 8, 4, o), new s(4, 5, 16, 8, o), new s(4, 6, 32, 32, o), new s(4, 4, 16, 16, p), new s(8, 16, 32, 32, p), new s(8, 16, 128, 128, p), new s(8, 32, 128, 256, p), new s(32, 128, 258, 1024, p), new s(32, 258, 258, 4096, p)], c.deflateInit = z, c.deflateInit2 = y, c.deflateReset = w, c.deflateResetKeep = v, c.deflateSetHeader = x, c.deflate = A, c.deflateEnd = B, c.deflateInfo = "pako deflate (from Nodeca project)";
    }, { "../utils/common": 28, "./adler32": 30, "./crc32": 32, "./messages": 38, "./trees": 39 }], 34: [function (a, b, c) {
      "use strict";
      function d() {
        this.text = 0, this.time = 0, this.xflags = 0, this.os = 0, this.extra = null, this.extra_len = 0, this.name = "", this.comment = "", this.hcrc = 0, this.done = !1;
      }b.exports = d;
    }, {}], 35: [function (a, b, c) {
      "use strict";
      var d = 30,
          e = 12;b.exports = function (a, b) {
        var c, f, g, h, i, j, k, l, m, n, o, p, q, r, s, t, u, v, w, x, y, z, A, B, C;c = a.state, f = a.next_in, B = a.input, g = f + (a.avail_in - 5), h = a.next_out, C = a.output, i = h - (b - a.avail_out), j = h + (a.avail_out - 257), k = c.dmax, l = c.wsize, m = c.whave, n = c.wnext, o = c.window, p = c.hold, q = c.bits, r = c.lencode, s = c.distcode, t = (1 << c.lenbits) - 1, u = (1 << c.distbits) - 1;a: do {
          15 > q && (p += B[f++] << q, q += 8, p += B[f++] << q, q += 8), v = r[p & t];b: for (;;) {
            if (w = v >>> 24, p >>>= w, q -= w, w = v >>> 16 & 255, 0 === w) C[h++] = 65535 & v;else {
              if (!(16 & w)) {
                if (0 === (64 & w)) {
                  v = r[(65535 & v) + (p & (1 << w) - 1)];continue b;
                }if (32 & w) {
                  c.mode = e;break a;
                }a.msg = "invalid literal/length code", c.mode = d;break a;
              }x = 65535 & v, w &= 15, w && (w > q && (p += B[f++] << q, q += 8), x += p & (1 << w) - 1, p >>>= w, q -= w), 15 > q && (p += B[f++] << q, q += 8, p += B[f++] << q, q += 8), v = s[p & u];c: for (;;) {
                if (w = v >>> 24, p >>>= w, q -= w, w = v >>> 16 & 255, !(16 & w)) {
                  if (0 === (64 & w)) {
                    v = s[(65535 & v) + (p & (1 << w) - 1)];continue c;
                  }a.msg = "invalid distance code", c.mode = d;break a;
                }if (y = 65535 & v, w &= 15, w > q && (p += B[f++] << q, q += 8, w > q && (p += B[f++] << q, q += 8)), y += p & (1 << w) - 1, y > k) {
                  a.msg = "invalid distance too far back", c.mode = d;break a;
                }if (p >>>= w, q -= w, w = h - i, y > w) {
                  if (w = y - w, w > m && c.sane) {
                    a.msg = "invalid distance too far back", c.mode = d;break a;
                  }if (z = 0, A = o, 0 === n) {
                    if (z += l - w, x > w) {
                      x -= w;do {
                        C[h++] = o[z++];
                      } while (--w);z = h - y, A = C;
                    }
                  } else if (w > n) {
                    if (z += l + n - w, w -= n, x > w) {
                      x -= w;do {
                        C[h++] = o[z++];
                      } while (--w);if (z = 0, x > n) {
                        w = n, x -= w;do {
                          C[h++] = o[z++];
                        } while (--w);z = h - y, A = C;
                      }
                    }
                  } else if (z += n - w, x > w) {
                    x -= w;do {
                      C[h++] = o[z++];
                    } while (--w);z = h - y, A = C;
                  }for (; x > 2;) {
                    C[h++] = A[z++], C[h++] = A[z++], C[h++] = A[z++], x -= 3;
                  }x && (C[h++] = A[z++], x > 1 && (C[h++] = A[z++]));
                } else {
                  z = h - y;do {
                    C[h++] = C[z++], C[h++] = C[z++], C[h++] = C[z++], x -= 3;
                  } while (x > 2);x && (C[h++] = C[z++], x > 1 && (C[h++] = C[z++]));
                }break;
              }
            }break;
          }
        } while (g > f && j > h);x = q >> 3, f -= x, q -= x << 3, p &= (1 << q) - 1, a.next_in = f, a.next_out = h, a.avail_in = g > f ? 5 + (g - f) : 5 - (f - g), a.avail_out = j > h ? 257 + (j - h) : 257 - (h - j), c.hold = p, c.bits = q;
      };
    }, {}], 36: [function (a, b, c) {
      "use strict";
      function d(a) {
        return (a >>> 24 & 255) + (a >>> 8 & 65280) + ((65280 & a) << 8) + ((255 & a) << 24);
      }function e() {
        this.mode = 0, this.last = !1, this.wrap = 0, this.havedict = !1, this.flags = 0, this.dmax = 0, this.check = 0, this.total = 0, this.head = null, this.wbits = 0, this.wsize = 0, this.whave = 0, this.wnext = 0, this.window = null, this.hold = 0, this.bits = 0, this.length = 0, this.offset = 0, this.extra = 0, this.lencode = null, this.distcode = null, this.lenbits = 0, this.distbits = 0, this.ncode = 0, this.nlen = 0, this.ndist = 0, this.have = 0, this.next = null, this.lens = new r.Buf16(320), this.work = new r.Buf16(288), this.lendyn = null, this.distdyn = null, this.sane = 0, this.back = 0, this.was = 0;
      }function f(a) {
        var b;return a && a.state ? (b = a.state, a.total_in = a.total_out = b.total = 0, a.msg = "", b.wrap && (a.adler = 1 & b.wrap), b.mode = K, b.last = 0, b.havedict = 0, b.dmax = 32768, b.head = null, b.hold = 0, b.bits = 0, b.lencode = b.lendyn = new r.Buf32(oa), b.distcode = b.distdyn = new r.Buf32(pa), b.sane = 1, b.back = -1, C) : F;
      }function g(a) {
        var b;return a && a.state ? (b = a.state, b.wsize = 0, b.whave = 0, b.wnext = 0, f(a)) : F;
      }function h(a, b) {
        var c, d;return a && a.state ? (d = a.state, 0 > b ? (c = 0, b = -b) : (c = (b >> 4) + 1, 48 > b && (b &= 15)), b && (8 > b || b > 15) ? F : (null !== d.window && d.wbits !== b && (d.window = null), d.wrap = c, d.wbits = b, g(a))) : F;
      }function i(a, b) {
        var c, d;return a ? (d = new e(), a.state = d, d.window = null, c = h(a, b), c !== C && (a.state = null), c) : F;
      }function j(a) {
        return i(a, ra);
      }function k(a) {
        if (sa) {
          var b;for (p = new r.Buf32(512), q = new r.Buf32(32), b = 0; 144 > b;) {
            a.lens[b++] = 8;
          }for (; 256 > b;) {
            a.lens[b++] = 9;
          }for (; 280 > b;) {
            a.lens[b++] = 7;
          }for (; 288 > b;) {
            a.lens[b++] = 8;
          }for (v(x, a.lens, 0, 288, p, 0, a.work, { bits: 9 }), b = 0; 32 > b;) {
            a.lens[b++] = 5;
          }v(y, a.lens, 0, 32, q, 0, a.work, { bits: 5 }), sa = !1;
        }a.lencode = p, a.lenbits = 9, a.distcode = q, a.distbits = 5;
      }function l(a, b, c, d) {
        var e,
            f = a.state;return null === f.window && (f.wsize = 1 << f.wbits, f.wnext = 0, f.whave = 0, f.window = new r.Buf8(f.wsize)), d >= f.wsize ? (r.arraySet(f.window, b, c - f.wsize, f.wsize, 0), f.wnext = 0, f.whave = f.wsize) : (e = f.wsize - f.wnext, e > d && (e = d), r.arraySet(f.window, b, c - d, e, f.wnext), d -= e, d ? (r.arraySet(f.window, b, c - d, d, 0), f.wnext = d, f.whave = f.wsize) : (f.wnext += e, f.wnext === f.wsize && (f.wnext = 0), f.whave < f.wsize && (f.whave += e))), 0;
      }function m(a, b) {
        var c,
            e,
            f,
            g,
            h,
            i,
            j,
            m,
            n,
            o,
            p,
            q,
            oa,
            pa,
            qa,
            ra,
            sa,
            ta,
            ua,
            va,
            wa,
            xa,
            ya,
            za,
            Aa = 0,
            Ba = new r.Buf8(4),
            Ca = [16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15];if (!a || !a.state || !a.output || !a.input && 0 !== a.avail_in) return F;c = a.state, c.mode === V && (c.mode = W), h = a.next_out, f = a.output, j = a.avail_out, g = a.next_in, e = a.input, i = a.avail_in, m = c.hold, n = c.bits, o = i, p = j, xa = C;a: for (;;) {
          switch (c.mode) {case K:
              if (0 === c.wrap) {
                c.mode = W;break;
              }for (; 16 > n;) {
                if (0 === i) break a;i--, m += e[g++] << n, n += 8;
              }if (2 & c.wrap && 35615 === m) {
                c.check = 0, Ba[0] = 255 & m, Ba[1] = m >>> 8 & 255, c.check = t(c.check, Ba, 2, 0), m = 0, n = 0, c.mode = L;break;
              }if (c.flags = 0, c.head && (c.head.done = !1), !(1 & c.wrap) || (((255 & m) << 8) + (m >> 8)) % 31) {
                a.msg = "incorrect header check", c.mode = la;break;
              }if ((15 & m) !== J) {
                a.msg = "unknown compression method", c.mode = la;break;
              }if (m >>>= 4, n -= 4, wa = (15 & m) + 8, 0 === c.wbits) c.wbits = wa;else if (wa > c.wbits) {
                a.msg = "invalid window size", c.mode = la;break;
              }c.dmax = 1 << wa, a.adler = c.check = 1, c.mode = 512 & m ? T : V, m = 0, n = 0;break;case L:
              for (; 16 > n;) {
                if (0 === i) break a;i--, m += e[g++] << n, n += 8;
              }if (c.flags = m, (255 & c.flags) !== J) {
                a.msg = "unknown compression method", c.mode = la;break;
              }if (57344 & c.flags) {
                a.msg = "unknown header flags set", c.mode = la;break;
              }c.head && (c.head.text = m >> 8 & 1), 512 & c.flags && (Ba[0] = 255 & m, Ba[1] = m >>> 8 & 255, c.check = t(c.check, Ba, 2, 0)), m = 0, n = 0, c.mode = M;case M:
              for (; 32 > n;) {
                if (0 === i) break a;i--, m += e[g++] << n, n += 8;
              }c.head && (c.head.time = m), 512 & c.flags && (Ba[0] = 255 & m, Ba[1] = m >>> 8 & 255, Ba[2] = m >>> 16 & 255, Ba[3] = m >>> 24 & 255, c.check = t(c.check, Ba, 4, 0)), m = 0, n = 0, c.mode = N;case N:
              for (; 16 > n;) {
                if (0 === i) break a;i--, m += e[g++] << n, n += 8;
              }c.head && (c.head.xflags = 255 & m, c.head.os = m >> 8), 512 & c.flags && (Ba[0] = 255 & m, Ba[1] = m >>> 8 & 255, c.check = t(c.check, Ba, 2, 0)), m = 0, n = 0, c.mode = O;case O:
              if (1024 & c.flags) {
                for (; 16 > n;) {
                  if (0 === i) break a;i--, m += e[g++] << n, n += 8;
                }c.length = m, c.head && (c.head.extra_len = m), 512 & c.flags && (Ba[0] = 255 & m, Ba[1] = m >>> 8 & 255, c.check = t(c.check, Ba, 2, 0)), m = 0, n = 0;
              } else c.head && (c.head.extra = null);c.mode = P;case P:
              if (1024 & c.flags && (q = c.length, q > i && (q = i), q && (c.head && (wa = c.head.extra_len - c.length, c.head.extra || (c.head.extra = new Array(c.head.extra_len)), r.arraySet(c.head.extra, e, g, q, wa)), 512 & c.flags && (c.check = t(c.check, e, q, g)), i -= q, g += q, c.length -= q), c.length)) break a;c.length = 0, c.mode = Q;case Q:
              if (2048 & c.flags) {
                if (0 === i) break a;q = 0;do {
                  wa = e[g + q++], c.head && wa && c.length < 65536 && (c.head.name += String.fromCharCode(wa));
                } while (wa && i > q);if (512 & c.flags && (c.check = t(c.check, e, q, g)), i -= q, g += q, wa) break a;
              } else c.head && (c.head.name = null);c.length = 0, c.mode = R;case R:
              if (4096 & c.flags) {
                if (0 === i) break a;q = 0;do {
                  wa = e[g + q++], c.head && wa && c.length < 65536 && (c.head.comment += String.fromCharCode(wa));
                } while (wa && i > q);if (512 & c.flags && (c.check = t(c.check, e, q, g)), i -= q, g += q, wa) break a;
              } else c.head && (c.head.comment = null);c.mode = S;case S:
              if (512 & c.flags) {
                for (; 16 > n;) {
                  if (0 === i) break a;i--, m += e[g++] << n, n += 8;
                }if (m !== (65535 & c.check)) {
                  a.msg = "header crc mismatch", c.mode = la;break;
                }m = 0, n = 0;
              }c.head && (c.head.hcrc = c.flags >> 9 & 1, c.head.done = !0), a.adler = c.check = 0, c.mode = V;break;case T:
              for (; 32 > n;) {
                if (0 === i) break a;i--, m += e[g++] << n, n += 8;
              }a.adler = c.check = d(m), m = 0, n = 0, c.mode = U;case U:
              if (0 === c.havedict) return a.next_out = h, a.avail_out = j, a.next_in = g, a.avail_in = i, c.hold = m, c.bits = n, E;a.adler = c.check = 1, c.mode = V;case V:
              if (b === A || b === B) break a;case W:
              if (c.last) {
                m >>>= 7 & n, n -= 7 & n, c.mode = ia;break;
              }for (; 3 > n;) {
                if (0 === i) break a;i--, m += e[g++] << n, n += 8;
              }switch (c.last = 1 & m, m >>>= 1, n -= 1, 3 & m) {case 0:
                  c.mode = X;break;case 1:
                  if (k(c), c.mode = ba, b === B) {
                    m >>>= 2, n -= 2;break a;
                  }break;case 2:
                  c.mode = $;break;case 3:
                  a.msg = "invalid block type", c.mode = la;}m >>>= 2, n -= 2;break;case X:
              for (m >>>= 7 & n, n -= 7 & n; 32 > n;) {
                if (0 === i) break a;i--, m += e[g++] << n, n += 8;
              }if ((65535 & m) !== (m >>> 16 ^ 65535)) {
                a.msg = "invalid stored block lengths", c.mode = la;break;
              }if (c.length = 65535 & m, m = 0, n = 0, c.mode = Y, b === B) break a;case Y:
              c.mode = Z;case Z:
              if (q = c.length) {
                if (q > i && (q = i), q > j && (q = j), 0 === q) break a;r.arraySet(f, e, g, q, h), i -= q, g += q, j -= q, h += q, c.length -= q;break;
              }c.mode = V;break;case $:
              for (; 14 > n;) {
                if (0 === i) break a;i--, m += e[g++] << n, n += 8;
              }if (c.nlen = (31 & m) + 257, m >>>= 5, n -= 5, c.ndist = (31 & m) + 1, m >>>= 5, n -= 5, c.ncode = (15 & m) + 4, m >>>= 4, n -= 4, c.nlen > 286 || c.ndist > 30) {
                a.msg = "too many length or distance symbols", c.mode = la;break;
              }c.have = 0, c.mode = _;case _:
              for (; c.have < c.ncode;) {
                for (; 3 > n;) {
                  if (0 === i) break a;i--, m += e[g++] << n, n += 8;
                }c.lens[Ca[c.have++]] = 7 & m, m >>>= 3, n -= 3;
              }for (; c.have < 19;) {
                c.lens[Ca[c.have++]] = 0;
              }if (c.lencode = c.lendyn, c.lenbits = 7, ya = { bits: c.lenbits }, xa = v(w, c.lens, 0, 19, c.lencode, 0, c.work, ya), c.lenbits = ya.bits, xa) {
                a.msg = "invalid code lengths set", c.mode = la;break;
              }c.have = 0, c.mode = aa;case aa:
              for (; c.have < c.nlen + c.ndist;) {
                for (; Aa = c.lencode[m & (1 << c.lenbits) - 1], qa = Aa >>> 24, ra = Aa >>> 16 & 255, sa = 65535 & Aa, !(n >= qa);) {
                  if (0 === i) break a;i--, m += e[g++] << n, n += 8;
                }if (16 > sa) m >>>= qa, n -= qa, c.lens[c.have++] = sa;else {
                  if (16 === sa) {
                    for (za = qa + 2; za > n;) {
                      if (0 === i) break a;i--, m += e[g++] << n, n += 8;
                    }if (m >>>= qa, n -= qa, 0 === c.have) {
                      a.msg = "invalid bit length repeat", c.mode = la;break;
                    }wa = c.lens[c.have - 1], q = 3 + (3 & m), m >>>= 2, n -= 2;
                  } else if (17 === sa) {
                    for (za = qa + 3; za > n;) {
                      if (0 === i) break a;i--, m += e[g++] << n, n += 8;
                    }m >>>= qa, n -= qa, wa = 0, q = 3 + (7 & m), m >>>= 3, n -= 3;
                  } else {
                    for (za = qa + 7; za > n;) {
                      if (0 === i) break a;i--, m += e[g++] << n, n += 8;
                    }m >>>= qa, n -= qa, wa = 0, q = 11 + (127 & m), m >>>= 7, n -= 7;
                  }if (c.have + q > c.nlen + c.ndist) {
                    a.msg = "invalid bit length repeat", c.mode = la;break;
                  }for (; q--;) {
                    c.lens[c.have++] = wa;
                  }
                }
              }if (c.mode === la) break;if (0 === c.lens[256]) {
                a.msg = "invalid code -- missing end-of-block", c.mode = la;break;
              }if (c.lenbits = 9, ya = { bits: c.lenbits }, xa = v(x, c.lens, 0, c.nlen, c.lencode, 0, c.work, ya), c.lenbits = ya.bits, xa) {
                a.msg = "invalid literal/lengths set", c.mode = la;break;
              }if (c.distbits = 6, c.distcode = c.distdyn, ya = { bits: c.distbits }, xa = v(y, c.lens, c.nlen, c.ndist, c.distcode, 0, c.work, ya), c.distbits = ya.bits, xa) {
                a.msg = "invalid distances set", c.mode = la;break;
              }if (c.mode = ba, b === B) break a;case ba:
              c.mode = ca;case ca:
              if (i >= 6 && j >= 258) {
                a.next_out = h, a.avail_out = j, a.next_in = g, a.avail_in = i, c.hold = m, c.bits = n, u(a, p), h = a.next_out, f = a.output, j = a.avail_out, g = a.next_in, e = a.input, i = a.avail_in, m = c.hold, n = c.bits, c.mode === V && (c.back = -1);break;
              }for (c.back = 0; Aa = c.lencode[m & (1 << c.lenbits) - 1], qa = Aa >>> 24, ra = Aa >>> 16 & 255, sa = 65535 & Aa, !(n >= qa);) {
                if (0 === i) break a;i--, m += e[g++] << n, n += 8;
              }if (ra && 0 === (240 & ra)) {
                for (ta = qa, ua = ra, va = sa; Aa = c.lencode[va + ((m & (1 << ta + ua) - 1) >> ta)], qa = Aa >>> 24, ra = Aa >>> 16 & 255, sa = 65535 & Aa, !(n >= ta + qa);) {
                  if (0 === i) break a;i--, m += e[g++] << n, n += 8;
                }m >>>= ta, n -= ta, c.back += ta;
              }if (m >>>= qa, n -= qa, c.back += qa, c.length = sa, 0 === ra) {
                c.mode = ha;break;
              }if (32 & ra) {
                c.back = -1, c.mode = V;break;
              }if (64 & ra) {
                a.msg = "invalid literal/length code", c.mode = la;break;
              }c.extra = 15 & ra, c.mode = da;case da:
              if (c.extra) {
                for (za = c.extra; za > n;) {
                  if (0 === i) break a;i--, m += e[g++] << n, n += 8;
                }c.length += m & (1 << c.extra) - 1, m >>>= c.extra, n -= c.extra, c.back += c.extra;
              }c.was = c.length, c.mode = ea;case ea:
              for (; Aa = c.distcode[m & (1 << c.distbits) - 1], qa = Aa >>> 24, ra = Aa >>> 16 & 255, sa = 65535 & Aa, !(n >= qa);) {
                if (0 === i) break a;i--, m += e[g++] << n, n += 8;
              }if (0 === (240 & ra)) {
                for (ta = qa, ua = ra, va = sa; Aa = c.distcode[va + ((m & (1 << ta + ua) - 1) >> ta)], qa = Aa >>> 24, ra = Aa >>> 16 & 255, sa = 65535 & Aa, !(n >= ta + qa);) {
                  if (0 === i) break a;i--, m += e[g++] << n, n += 8;
                }m >>>= ta, n -= ta, c.back += ta;
              }if (m >>>= qa, n -= qa, c.back += qa, 64 & ra) {
                a.msg = "invalid distance code", c.mode = la;break;
              }c.offset = sa, c.extra = 15 & ra, c.mode = fa;case fa:
              if (c.extra) {
                for (za = c.extra; za > n;) {
                  if (0 === i) break a;i--, m += e[g++] << n, n += 8;
                }c.offset += m & (1 << c.extra) - 1, m >>>= c.extra, n -= c.extra, c.back += c.extra;
              }if (c.offset > c.dmax) {
                a.msg = "invalid distance too far back", c.mode = la;break;
              }c.mode = ga;case ga:
              if (0 === j) break a;if (q = p - j, c.offset > q) {
                if (q = c.offset - q, q > c.whave && c.sane) {
                  a.msg = "invalid distance too far back", c.mode = la;break;
                }q > c.wnext ? (q -= c.wnext, oa = c.wsize - q) : oa = c.wnext - q, q > c.length && (q = c.length), pa = c.window;
              } else pa = f, oa = h - c.offset, q = c.length;q > j && (q = j), j -= q, c.length -= q;do {
                f[h++] = pa[oa++];
              } while (--q);0 === c.length && (c.mode = ca);break;case ha:
              if (0 === j) break a;f[h++] = c.length, j--, c.mode = ca;break;case ia:
              if (c.wrap) {
                for (; 32 > n;) {
                  if (0 === i) break a;i--, m |= e[g++] << n, n += 8;
                }if (p -= j, a.total_out += p, c.total += p, p && (a.adler = c.check = c.flags ? t(c.check, f, p, h - p) : s(c.check, f, p, h - p)), p = j, (c.flags ? m : d(m)) !== c.check) {
                  a.msg = "incorrect data check", c.mode = la;break;
                }m = 0, n = 0;
              }c.mode = ja;case ja:
              if (c.wrap && c.flags) {
                for (; 32 > n;) {
                  if (0 === i) break a;i--, m += e[g++] << n, n += 8;
                }if (m !== (4294967295 & c.total)) {
                  a.msg = "incorrect length check", c.mode = la;break;
                }m = 0, n = 0;
              }c.mode = ka;case ka:
              xa = D;break a;case la:
              xa = G;break a;case ma:
              return H;case na:default:
              return F;}
        }return a.next_out = h, a.avail_out = j, a.next_in = g, a.avail_in = i, c.hold = m, c.bits = n, (c.wsize || p !== a.avail_out && c.mode < la && (c.mode < ia || b !== z)) && l(a, a.output, a.next_out, p - a.avail_out) ? (c.mode = ma, H) : (o -= a.avail_in, p -= a.avail_out, a.total_in += o, a.total_out += p, c.total += p, c.wrap && p && (a.adler = c.check = c.flags ? t(c.check, f, p, a.next_out - p) : s(c.check, f, p, a.next_out - p)), a.data_type = c.bits + (c.last ? 64 : 0) + (c.mode === V ? 128 : 0) + (c.mode === ba || c.mode === Y ? 256 : 0), (0 === o && 0 === p || b === z) && xa === C && (xa = I), xa);
      }function n(a) {
        if (!a || !a.state) return F;var b = a.state;return b.window && (b.window = null), a.state = null, C;
      }function o(a, b) {
        var c;return a && a.state ? (c = a.state, 0 === (2 & c.wrap) ? F : (c.head = b, b.done = !1, C)) : F;
      }var p,
          q,
          r = a("../utils/common"),
          s = a("./adler32"),
          t = a("./crc32"),
          u = a("./inffast"),
          v = a("./inftrees"),
          w = 0,
          x = 1,
          y = 2,
          z = 4,
          A = 5,
          B = 6,
          C = 0,
          D = 1,
          E = 2,
          F = -2,
          G = -3,
          H = -4,
          I = -5,
          J = 8,
          K = 1,
          L = 2,
          M = 3,
          N = 4,
          O = 5,
          P = 6,
          Q = 7,
          R = 8,
          S = 9,
          T = 10,
          U = 11,
          V = 12,
          W = 13,
          X = 14,
          Y = 15,
          Z = 16,
          $ = 17,
          _ = 18,
          aa = 19,
          ba = 20,
          ca = 21,
          da = 22,
          ea = 23,
          fa = 24,
          ga = 25,
          ha = 26,
          ia = 27,
          ja = 28,
          ka = 29,
          la = 30,
          ma = 31,
          na = 32,
          oa = 852,
          pa = 592,
          qa = 15,
          ra = qa,
          sa = !0;c.inflateReset = g, c.inflateReset2 = h, c.inflateResetKeep = f, c.inflateInit = j, c.inflateInit2 = i, c.inflate = m, c.inflateEnd = n, c.inflateGetHeader = o, c.inflateInfo = "pako inflate (from Nodeca project)";
    }, { "../utils/common": 28, "./adler32": 30, "./crc32": 32, "./inffast": 35, "./inftrees": 37 }], 37: [function (a, b, c) {
      "use strict";
      var d = a("../utils/common"),
          e = 15,
          f = 852,
          g = 592,
          h = 0,
          i = 1,
          j = 2,
          k = [3, 4, 5, 6, 7, 8, 9, 10, 11, 13, 15, 17, 19, 23, 27, 31, 35, 43, 51, 59, 67, 83, 99, 115, 131, 163, 195, 227, 258, 0, 0],
          l = [16, 16, 16, 16, 16, 16, 16, 16, 17, 17, 17, 17, 18, 18, 18, 18, 19, 19, 19, 19, 20, 20, 20, 20, 21, 21, 21, 21, 16, 72, 78],
          m = [1, 2, 3, 4, 5, 7, 9, 13, 17, 25, 33, 49, 65, 97, 129, 193, 257, 385, 513, 769, 1025, 1537, 2049, 3073, 4097, 6145, 8193, 12289, 16385, 24577, 0, 0],
          n = [16, 16, 16, 16, 17, 17, 18, 18, 19, 19, 20, 20, 21, 21, 22, 22, 23, 23, 24, 24, 25, 25, 26, 26, 27, 27, 28, 28, 29, 29, 64, 64];b.exports = function (a, b, c, o, p, q, r, s) {
        var t,
            u,
            v,
            w,
            x,
            y,
            z,
            A,
            B,
            C = s.bits,
            D = 0,
            E = 0,
            F = 0,
            G = 0,
            H = 0,
            I = 0,
            J = 0,
            K = 0,
            L = 0,
            M = 0,
            N = null,
            O = 0,
            P = new d.Buf16(e + 1),
            Q = new d.Buf16(e + 1),
            R = null,
            S = 0;for (D = 0; e >= D; D++) {
          P[D] = 0;
        }for (E = 0; o > E; E++) {
          P[b[c + E]]++;
        }for (H = C, G = e; G >= 1 && 0 === P[G]; G--) {}if (H > G && (H = G), 0 === G) return p[q++] = 20971520, p[q++] = 20971520, s.bits = 1, 0;for (F = 1; G > F && 0 === P[F]; F++) {}for (F > H && (H = F), K = 1, D = 1; e >= D; D++) {
          if (K <<= 1, K -= P[D], 0 > K) return -1;
        }if (K > 0 && (a === h || 1 !== G)) return -1;for (Q[1] = 0, D = 1; e > D; D++) {
          Q[D + 1] = Q[D] + P[D];
        }for (E = 0; o > E; E++) {
          0 !== b[c + E] && (r[Q[b[c + E]]++] = E);
        }if (a === h ? (N = R = r, y = 19) : a === i ? (N = k, O -= 257, R = l, S -= 257, y = 256) : (N = m, R = n, y = -1), M = 0, E = 0, D = F, x = q, I = H, J = 0, v = -1, L = 1 << H, w = L - 1, a === i && L > f || a === j && L > g) return 1;for (var T = 0;;) {
          T++, z = D - J, r[E] < y ? (A = 0, B = r[E]) : r[E] > y ? (A = R[S + r[E]], B = N[O + r[E]]) : (A = 96, B = 0), t = 1 << D - J, u = 1 << I, F = u;do {
            u -= t, p[x + (M >> J) + u] = z << 24 | A << 16 | B | 0;
          } while (0 !== u);for (t = 1 << D - 1; M & t;) {
            t >>= 1;
          }if (0 !== t ? (M &= t - 1, M += t) : M = 0, E++, 0 === --P[D]) {
            if (D === G) break;D = b[c + r[E]];
          }if (D > H && (M & w) !== v) {
            for (0 === J && (J = H), x += F, I = D - J, K = 1 << I; G > I + J && (K -= P[I + J], !(0 >= K));) {
              I++, K <<= 1;
            }if (L += 1 << I, a === i && L > f || a === j && L > g) return 1;v = M & w, p[v] = H << 24 | I << 16 | x - q | 0;
          }
        }return 0 !== M && (p[x + M] = D - J << 24 | 64 << 16 | 0), s.bits = H, 0;
      };
    }, { "../utils/common": 28 }], 38: [function (a, b, c) {
      "use strict";
      b.exports = { 2: "need dictionary", 1: "stream end", 0: "", "-1": "file error", "-2": "stream error", "-3": "data error", "-4": "insufficient memory", "-5": "buffer error", "-6": "incompatible version" };
    }, {}], 39: [function (a, b, c) {
      "use strict";
      function d(a) {
        for (var b = a.length; --b >= 0;) {
          a[b] = 0;
        }
      }function e(a, b, c, d, e) {
        this.static_tree = a, this.extra_bits = b, this.extra_base = c, this.elems = d, this.max_length = e, this.has_stree = a && a.length;
      }function f(a, b) {
        this.dyn_tree = a, this.max_code = 0, this.stat_desc = b;
      }function g(a) {
        return 256 > a ? ia[a] : ia[256 + (a >>> 7)];
      }function h(a, b) {
        a.pending_buf[a.pending++] = 255 & b, a.pending_buf[a.pending++] = b >>> 8 & 255;
      }function i(a, b, c) {
        a.bi_valid > X - c ? (a.bi_buf |= b << a.bi_valid & 65535, h(a, a.bi_buf), a.bi_buf = b >> X - a.bi_valid, a.bi_valid += c - X) : (a.bi_buf |= b << a.bi_valid & 65535, a.bi_valid += c);
      }function j(a, b, c) {
        i(a, c[2 * b], c[2 * b + 1]);
      }function k(a, b) {
        var c = 0;do {
          c |= 1 & a, a >>>= 1, c <<= 1;
        } while (--b > 0);return c >>> 1;
      }function l(a) {
        16 === a.bi_valid ? (h(a, a.bi_buf), a.bi_buf = 0, a.bi_valid = 0) : a.bi_valid >= 8 && (a.pending_buf[a.pending++] = 255 & a.bi_buf, a.bi_buf >>= 8, a.bi_valid -= 8);
      }function m(a, b) {
        var c,
            d,
            e,
            f,
            g,
            h,
            i = b.dyn_tree,
            j = b.max_code,
            k = b.stat_desc.static_tree,
            l = b.stat_desc.has_stree,
            m = b.stat_desc.extra_bits,
            n = b.stat_desc.extra_base,
            o = b.stat_desc.max_length,
            p = 0;for (f = 0; W >= f; f++) {
          a.bl_count[f] = 0;
        }for (i[2 * a.heap[a.heap_max] + 1] = 0, c = a.heap_max + 1; V > c; c++) {
          d = a.heap[c], f = i[2 * i[2 * d + 1] + 1] + 1, f > o && (f = o, p++), i[2 * d + 1] = f, d > j || (a.bl_count[f]++, g = 0, d >= n && (g = m[d - n]), h = i[2 * d], a.opt_len += h * (f + g), l && (a.static_len += h * (k[2 * d + 1] + g)));
        }if (0 !== p) {
          do {
            for (f = o - 1; 0 === a.bl_count[f];) {
              f--;
            }a.bl_count[f]--, a.bl_count[f + 1] += 2, a.bl_count[o]--, p -= 2;
          } while (p > 0);for (f = o; 0 !== f; f--) {
            for (d = a.bl_count[f]; 0 !== d;) {
              e = a.heap[--c], e > j || (i[2 * e + 1] !== f && (a.opt_len += (f - i[2 * e + 1]) * i[2 * e], i[2 * e + 1] = f), d--);
            }
          }
        }
      }function n(a, b, c) {
        var d,
            e,
            f = new Array(W + 1),
            g = 0;for (d = 1; W >= d; d++) {
          f[d] = g = g + c[d - 1] << 1;
        }for (e = 0; b >= e; e++) {
          var h = a[2 * e + 1];0 !== h && (a[2 * e] = k(f[h]++, h));
        }
      }function o() {
        var a,
            b,
            c,
            d,
            f,
            g = new Array(W + 1);for (c = 0, d = 0; Q - 1 > d; d++) {
          for (ka[d] = c, a = 0; a < 1 << ba[d]; a++) {
            ja[c++] = d;
          }
        }for (ja[c - 1] = d, f = 0, d = 0; 16 > d; d++) {
          for (la[d] = f, a = 0; a < 1 << ca[d]; a++) {
            ia[f++] = d;
          }
        }for (f >>= 7; T > d; d++) {
          for (la[d] = f << 7, a = 0; a < 1 << ca[d] - 7; a++) {
            ia[256 + f++] = d;
          }
        }for (b = 0; W >= b; b++) {
          g[b] = 0;
        }for (a = 0; 143 >= a;) {
          ga[2 * a + 1] = 8, a++, g[8]++;
        }for (; 255 >= a;) {
          ga[2 * a + 1] = 9, a++, g[9]++;
        }for (; 279 >= a;) {
          ga[2 * a + 1] = 7, a++, g[7]++;
        }for (; 287 >= a;) {
          ga[2 * a + 1] = 8, a++, g[8]++;
        }for (n(ga, S + 1, g), a = 0; T > a; a++) {
          ha[2 * a + 1] = 5, ha[2 * a] = k(a, 5);
        }ma = new e(ga, ba, R + 1, S, W), na = new e(ha, ca, 0, T, W), oa = new e(new Array(0), da, 0, U, Y);
      }function p(a) {
        var b;for (b = 0; S > b; b++) {
          a.dyn_ltree[2 * b] = 0;
        }for (b = 0; T > b; b++) {
          a.dyn_dtree[2 * b] = 0;
        }for (b = 0; U > b; b++) {
          a.bl_tree[2 * b] = 0;
        }a.dyn_ltree[2 * Z] = 1, a.opt_len = a.static_len = 0, a.last_lit = a.matches = 0;
      }function q(a) {
        a.bi_valid > 8 ? h(a, a.bi_buf) : a.bi_valid > 0 && (a.pending_buf[a.pending++] = a.bi_buf), a.bi_buf = 0, a.bi_valid = 0;
      }function r(a, b, c, d) {
        q(a), d && (h(a, c), h(a, ~c)), G.arraySet(a.pending_buf, a.window, b, c, a.pending), a.pending += c;
      }function s(a, b, c, d) {
        var e = 2 * b,
            f = 2 * c;return a[e] < a[f] || a[e] === a[f] && d[b] <= d[c];
      }function t(a, b, c) {
        for (var d = a.heap[c], e = c << 1; e <= a.heap_len && (e < a.heap_len && s(b, a.heap[e + 1], a.heap[e], a.depth) && e++, !s(b, d, a.heap[e], a.depth));) {
          a.heap[c] = a.heap[e], c = e, e <<= 1;
        }a.heap[c] = d;
      }function u(a, b, c) {
        var d,
            e,
            f,
            h,
            k = 0;if (0 !== a.last_lit) do {
          d = a.pending_buf[a.d_buf + 2 * k] << 8 | a.pending_buf[a.d_buf + 2 * k + 1], e = a.pending_buf[a.l_buf + k], k++, 0 === d ? j(a, e, b) : (f = ja[e], j(a, f + R + 1, b), h = ba[f], 0 !== h && (e -= ka[f], i(a, e, h)), d--, f = g(d), j(a, f, c), h = ca[f], 0 !== h && (d -= la[f], i(a, d, h)));
        } while (k < a.last_lit);j(a, Z, b);
      }function v(a, b) {
        var c,
            d,
            e,
            f = b.dyn_tree,
            g = b.stat_desc.static_tree,
            h = b.stat_desc.has_stree,
            i = b.stat_desc.elems,
            j = -1;for (a.heap_len = 0, a.heap_max = V, c = 0; i > c; c++) {
          0 !== f[2 * c] ? (a.heap[++a.heap_len] = j = c, a.depth[c] = 0) : f[2 * c + 1] = 0;
        }for (; a.heap_len < 2;) {
          e = a.heap[++a.heap_len] = 2 > j ? ++j : 0, f[2 * e] = 1, a.depth[e] = 0, a.opt_len--, h && (a.static_len -= g[2 * e + 1]);
        }for (b.max_code = j, c = a.heap_len >> 1; c >= 1; c--) {
          t(a, f, c);
        }e = i;do {
          c = a.heap[1], a.heap[1] = a.heap[a.heap_len--], t(a, f, 1), d = a.heap[1], a.heap[--a.heap_max] = c, a.heap[--a.heap_max] = d, f[2 * e] = f[2 * c] + f[2 * d], a.depth[e] = (a.depth[c] >= a.depth[d] ? a.depth[c] : a.depth[d]) + 1, f[2 * c + 1] = f[2 * d + 1] = e, a.heap[1] = e++, t(a, f, 1);
        } while (a.heap_len >= 2);a.heap[--a.heap_max] = a.heap[1], m(a, b), n(f, j, a.bl_count);
      }function w(a, b, c) {
        var d,
            e,
            f = -1,
            g = b[1],
            h = 0,
            i = 7,
            j = 4;for (0 === g && (i = 138, j = 3), b[2 * (c + 1) + 1] = 65535, d = 0; c >= d; d++) {
          e = g, g = b[2 * (d + 1) + 1], ++h < i && e === g || (j > h ? a.bl_tree[2 * e] += h : 0 !== e ? (e !== f && a.bl_tree[2 * e]++, a.bl_tree[2 * $]++) : 10 >= h ? a.bl_tree[2 * _]++ : a.bl_tree[2 * aa]++, h = 0, f = e, 0 === g ? (i = 138, j = 3) : e === g ? (i = 6, j = 3) : (i = 7, j = 4));
        }
      }function x(a, b, c) {
        var d,
            e,
            f = -1,
            g = b[1],
            h = 0,
            k = 7,
            l = 4;for (0 === g && (k = 138, l = 3), d = 0; c >= d; d++) {
          if (e = g, g = b[2 * (d + 1) + 1], !(++h < k && e === g)) {
            if (l > h) {
              do {
                j(a, e, a.bl_tree);
              } while (0 !== --h);
            } else 0 !== e ? (e !== f && (j(a, e, a.bl_tree), h--), j(a, $, a.bl_tree), i(a, h - 3, 2)) : 10 >= h ? (j(a, _, a.bl_tree), i(a, h - 3, 3)) : (j(a, aa, a.bl_tree), i(a, h - 11, 7));h = 0, f = e, 0 === g ? (k = 138, l = 3) : e === g ? (k = 6, l = 3) : (k = 7, l = 4);
          }
        }
      }function y(a) {
        var b;for (w(a, a.dyn_ltree, a.l_desc.max_code), w(a, a.dyn_dtree, a.d_desc.max_code), v(a, a.bl_desc), b = U - 1; b >= 3 && 0 === a.bl_tree[2 * ea[b] + 1]; b--) {}return a.opt_len += 3 * (b + 1) + 5 + 5 + 4, b;
      }function z(a, b, c, d) {
        var e;for (i(a, b - 257, 5), i(a, c - 1, 5), i(a, d - 4, 4), e = 0; d > e; e++) {
          i(a, a.bl_tree[2 * ea[e] + 1], 3);
        }x(a, a.dyn_ltree, b - 1), x(a, a.dyn_dtree, c - 1);
      }function A(a) {
        var b,
            c = 4093624447;for (b = 0; 31 >= b; b++, c >>>= 1) {
          if (1 & c && 0 !== a.dyn_ltree[2 * b]) return I;
        }if (0 !== a.dyn_ltree[18] || 0 !== a.dyn_ltree[20] || 0 !== a.dyn_ltree[26]) return J;for (b = 32; R > b; b++) {
          if (0 !== a.dyn_ltree[2 * b]) return J;
        }return I;
      }function B(a) {
        pa || (o(), pa = !0), a.l_desc = new f(a.dyn_ltree, ma), a.d_desc = new f(a.dyn_dtree, na), a.bl_desc = new f(a.bl_tree, oa), a.bi_buf = 0, a.bi_valid = 0, p(a);
      }function C(a, b, c, d) {
        i(a, (L << 1) + (d ? 1 : 0), 3), r(a, b, c, !0);
      }function D(a) {
        i(a, M << 1, 3), j(a, Z, ga), l(a);
      }function E(a, b, c, d) {
        var e,
            f,
            g = 0;a.level > 0 ? (a.strm.data_type === K && (a.strm.data_type = A(a)), v(a, a.l_desc), v(a, a.d_desc), g = y(a), e = a.opt_len + 3 + 7 >>> 3, f = a.static_len + 3 + 7 >>> 3, e >= f && (e = f)) : e = f = c + 5, e >= c + 4 && -1 !== b ? C(a, b, c, d) : a.strategy === H || f === e ? (i(a, (M << 1) + (d ? 1 : 0), 3), u(a, ga, ha)) : (i(a, (N << 1) + (d ? 1 : 0), 3), z(a, a.l_desc.max_code + 1, a.d_desc.max_code + 1, g + 1), u(a, a.dyn_ltree, a.dyn_dtree)), p(a), d && q(a);
      }function F(a, b, c) {
        return a.pending_buf[a.d_buf + 2 * a.last_lit] = b >>> 8 & 255, a.pending_buf[a.d_buf + 2 * a.last_lit + 1] = 255 & b, a.pending_buf[a.l_buf + a.last_lit] = 255 & c, a.last_lit++, 0 === b ? a.dyn_ltree[2 * c]++ : (a.matches++, b--, a.dyn_ltree[2 * (ja[c] + R + 1)]++, a.dyn_dtree[2 * g(b)]++), a.last_lit === a.lit_bufsize - 1;
      }var G = a("../utils/common"),
          H = 4,
          I = 0,
          J = 1,
          K = 2,
          L = 0,
          M = 1,
          N = 2,
          O = 3,
          P = 258,
          Q = 29,
          R = 256,
          S = R + 1 + Q,
          T = 30,
          U = 19,
          V = 2 * S + 1,
          W = 15,
          X = 16,
          Y = 7,
          Z = 256,
          $ = 16,
          _ = 17,
          aa = 18,
          ba = [0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 2, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4, 4, 5, 5, 5, 5, 0],
          ca = [0, 0, 0, 0, 1, 1, 2, 2, 3, 3, 4, 4, 5, 5, 6, 6, 7, 7, 8, 8, 9, 9, 10, 10, 11, 11, 12, 12, 13, 13],
          da = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 3, 7],
          ea = [16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15],
          fa = 512,
          ga = new Array(2 * (S + 2));d(ga);var ha = new Array(2 * T);d(ha);var ia = new Array(fa);d(ia);var ja = new Array(P - O + 1);d(ja);var ka = new Array(Q);d(ka);var la = new Array(T);d(la);var ma,
          na,
          oa,
          pa = !1;c._tr_init = B, c._tr_stored_block = C, c._tr_flush_block = E, c._tr_tally = F, c._tr_align = D;
    }, { "../utils/common": 28 }], 40: [function (a, b, c) {
      "use strict";
      function d() {
        this.input = null, this.next_in = 0, this.avail_in = 0, this.total_in = 0, this.output = null, this.next_out = 0, this.avail_out = 0, this.total_out = 0, this.msg = "", this.state = null, this.data_type = 2, this.adler = 0;
      }b.exports = d;
    }, {}] }, {}, [10])(10);
});
//# sourceMappingURL=jszip.min.js.map

"use strict";var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj;}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};/** 
 * Kendo UI v2016.2.714 (http://www.telerik.com/kendo-ui)                                                                                                                                               
 * Copyright 2016 Telerik AD. All rights reserved.                                                                                                                                                      
 *                                                                                                                                                                                                      
 * Kendo UI commercial licenses may be obtained at                                                                                                                                                      
 * http://www.telerik.com/purchase/license-agreement/kendo-ui-complete                                                                                                                                  
 * If you do not own a commercial license, this file shall be governed by the trial license terms.                                                                                                      
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       

*/!function(e,define){define("kendo.core.min",["jquery"],e);}(function(){return function(e,t,n){function i(){}function o(e,t){if(t)return"'"+e.split("'").join("\\'").split('\\"').join('\\\\\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t")+"'";var n=e.charAt(0),i=e.substring(1);return"="===n?"+("+i+")+":":"===n?"+$kendoHtmlEncode("+i+")+":";"+e+";$kendoOutput+=";}function r(e,t,n){return e+="",t=t||2,n=t-e.length,n?U[t].substring(0,n)+e:e;}function a(e){var t=e.css(ve.support.transitions.css+"box-shadow")||e.css("box-shadow"),n=t?t.match(Ae)||[0,0,0,0,0]:[0,0,0,0,0],i=xe.max(+n[3],+(n[4]||0));return{left:-n[1]+i,right:+n[1]+i,bottom:+n[2]+i};}function s(t,n){var i,o,r,s,l,c,d,u,h=Se.browser,f="rtl"==t.css("direction");return t.parent().hasClass("k-animation-container")?(d=t.parent(".k-animation-container"),u=d[0].style,d.is(":hidden")&&d.show(),i=Te.test(u.width)||Te.test(u.height),i||d.css({width:t.outerWidth(),height:t.outerHeight(),boxSizing:"content-box",mozBoxSizing:"content-box",webkitBoxSizing:"content-box"})):(o=a(t),r=t[0].style.width,s=t[0].style.height,l=Te.test(r),c=Te.test(s),h.opera&&(o.left=o.right=o.bottom=5),i=l||c,!l&&(!n||n&&r)&&(r=t.outerWidth()),!c&&(!n||n&&s)&&(s=t.outerHeight()),t.wrap(e("<div/>").addClass("k-animation-container").css({width:r,height:s,marginLeft:o.left*(f?1:-1),paddingLeft:o.left,paddingRight:o.right,paddingBottom:o.bottom})),i&&t.css({width:"100%",height:"100%",boxSizing:"border-box",mozBoxSizing:"border-box",webkitBoxSizing:"border-box"})),h.msie&&xe.floor(h.version)<=7&&(t.css({zoom:1}),t.children(".k-menu").width(t.width())),t.parent();}function l(e){var t=1,n=arguments.length;for(t=1;n>t;t++){c(e,arguments[t]);}return e;}function c(e,t){var n,i,o,r,a,s=ve.data.ObservableArray,l=ve.data.LazyObservableArray,d=ve.data.DataSource,u=ve.data.HierarchicalDataSource;for(n in t){i=t[n],o=typeof i==="undefined"?"undefined":_typeof(i),r=o===Me&&null!==i?i.constructor:null,r&&r!==Array&&r!==s&&r!==l&&r!==d&&r!==u?i instanceof Date?e[n]=new Date(i.getTime()):F(i.clone)?e[n]=i.clone():(a=e[n],e[n]=(typeof a==="undefined"?"undefined":_typeof(a))===Me?a||{}:{},c(e[n],i)):o!==Be&&(e[n]=i);}return e;}function d(e,t,i){for(var o in t){if(t.hasOwnProperty(o)&&t[o].test(e))return o;}return i!==n?i:e;}function u(e){return e.replace(/([a-z][A-Z])/g,function(e){return e.charAt(0)+"-"+e.charAt(1).toLowerCase();});}function h(e){return e.replace(/\-(\w)/g,function(e,t){return t.toUpperCase();});}function f(t,n){var i,o={};return document.defaultView&&document.defaultView.getComputedStyle?(i=document.defaultView.getComputedStyle(t,""),n&&e.each(n,function(e,t){o[t]=i.getPropertyValue(t);})):(i=t.currentStyle,n&&e.each(n,function(e,t){o[t]=i[h(t)];})),ve.size(o)||(o=i),o;}function p(e){if(e&&e.className&&"string"==typeof e.className&&e.className.indexOf("k-auto-scrollable")>-1)return!0;var t=f(e,["overflow"]).overflow;return"auto"==t||"scroll"==t;}function m(t,i){var o,r=Se.browser.webkit,a=Se.browser.mozilla,s=t instanceof e?t[0]:t;if(t)return o=Se.isRtl(t),i===n?o&&r?s.scrollWidth-s.clientWidth-s.scrollLeft:Math.abs(s.scrollLeft):(s.scrollLeft=o&&r?s.scrollWidth-s.clientWidth-i:o&&a?-i:i,n);}function g(e){var t,n=0;for(t in e){e.hasOwnProperty(t)&&"toJSON"!=t&&n++;}return n;}function v(e,n,i){n||(n="offset");var o=e[n]();return Se.browser.msie&&(Se.pointers||Se.msPointers)&&!i&&(o.top-=t.pageYOffset-document.documentElement.scrollTop,o.left-=t.pageXOffset-document.documentElement.scrollLeft),o;}function _(e){var t={};return be("string"==typeof e?e.split(" "):e,function(e){t[e]=this;}),t;}function b(e){return new ve.effects.Element(e);}function w(e,t,n,i){return(typeof e==="undefined"?"undefined":_typeof(e))===Ie&&(F(t)&&(i=t,t=400,n=!1),F(n)&&(i=n,n=!1),(typeof t==="undefined"?"undefined":_typeof(t))===ze&&(n=t,t=400),e={effects:e,duration:t,reverse:n,complete:i}),_e({effects:{},duration:400,reverse:!1,init:ke,teardown:ke,hide:!1},e,{completeCallback:e.complete,complete:ke});}function y(t,n,i,o,r){for(var a,s=0,l=t.length;l>s;s++){a=e(t[s]),a.queue(function(){j.promise(a,w(n,i,o,r));});}return t;}function k(e,t,n,i){return t&&(t=t.split(" "),be(t,function(t,n){e.toggleClass(n,i);})),e;}function x(e){return(""+e).replace(q,"&amp;").replace(G,"&lt;").replace(K,"&gt;").replace($,"&quot;").replace(Y,"&#39;");}function C(e,t){var i;return 0===t.indexOf("data")&&(t=t.substring(4),t=t.charAt(0).toLowerCase()+t.substring(1)),t=t.replace(oe,"-$1"),i=e.getAttribute("data-"+ve.ns+t),null===i?i=n:"null"===i?i=null:"true"===i?i=!0:"false"===i?i=!1:Ee.test(i)?i=parseFloat(i):ne.test(i)&&!ie.test(i)&&(i=Function("return ("+i+")")()),i;}function S(t,i){var o,r,a={};for(o in i){r=C(t,o),r!==n&&(te.test(o)&&(r=ve.template(e("#"+r).html())),a[o]=r);}return a;}function T(t,n){return e.contains(t,n)?-1:1;}function D(){var t=e(this);return e.inArray(t.attr("data-"+ve.ns+"role"),["slider","rangeslider"])>-1||t.is(":visible");}function A(e,t){var n=e.nodeName.toLowerCase();return(/input|select|textarea|button|object/.test(n)?!e.disabled:"a"===n?e.href||t:t)&&E(e);}function E(t){return e.expr.filters.visible(t)&&!e(t).parents().addBack().filter(function(){return"hidden"===e.css(this,"visibility");}).length;}function R(e,t){return new R.fn.init(e,t);}var I,F,M,P,z,B,L,H,N,O,V,U,W,j,q,G,$,Y,K,Q,X,J,Z,ee,te,ne,ie,oe,re,ae,se,le,ce,de,ue,he,fe,pe,me,ge,ve=t.kendo=t.kendo||{cultures:{}},_e=e.extend,be=e.each,we=e.isArray,ye=e.proxy,ke=e.noop,xe=Math,Ce=t.JSON||{},Se={},Te=/%/,De=/\{(\d+)(:[^\}]+)?\}/g,Ae=/(\d+(?:\.?)\d*)px\s*(\d+(?:\.?)\d*)px\s*(\d+(?:\.?)\d*)px\s*(\d+)?/i,Ee=/^(\+|-?)\d+(\.?)\d*$/,Re="function",Ie="string",Fe="number",Me="object",Pe="null",ze="boolean",Be="undefined",Le={},He={},Ne=[].slice;ve.version="2016.2.714".replace(/^\s+|\s+$/g,""),i.extend=function(e){var t,n,i=function i(){},o=this,r=e&&e.init?e.init:function(){o.apply(this,arguments);};i.prototype=o.prototype,n=r.fn=r.prototype=new i();for(t in e){n[t]=null!=e[t]&&e[t].constructor===Object?_e(!0,{},i.prototype[t],e[t]):e[t];}return n.constructor=r,r.extend=o.extend,r;},i.prototype._initOptions=function(e){this.options=l({},this.options,e);},F=ve.isFunction=function(e){return"function"==typeof e;},M=function M(){this._defaultPrevented=!0;},P=function P(){return this._defaultPrevented===!0;},z=i.extend({init:function init(){this._events={};},bind:function bind(e,t,i){var o,r,a,_s,l,c=this,d=(typeof e==="undefined"?"undefined":_typeof(e))===Ie?[e]:e,u=(typeof t==="undefined"?"undefined":_typeof(t))===Re;if(t===n){for(o in e){c.bind(o,e[o]);}return c;}for(o=0,r=d.length;r>o;o++){e=d[o],_s=u?t:t[e],_s&&(i&&(a=_s,_s=function s(){c.unbind(e,_s),a.apply(c,arguments);},_s.original=a),l=c._events[e]=c._events[e]||[],l.push(_s));}return c;},one:function one(e,t){return this.bind(e,t,!0);},first:function first(e,t){var n,i,o,r,a=this,s=(typeof e==="undefined"?"undefined":_typeof(e))===Ie?[e]:e,l=(typeof t==="undefined"?"undefined":_typeof(t))===Re;for(n=0,i=s.length;i>n;n++){e=s[n],o=l?t:t[e],o&&(r=a._events[e]=a._events[e]||[],r.unshift(o));}return a;},trigger:function trigger(e,t){var n,i,o=this,r=o._events[e];if(r){for(t=t||{},t.sender=o,t._defaultPrevented=!1,t.preventDefault=M,t.isDefaultPrevented=P,r=r.slice(),n=0,i=r.length;i>n;n++){r[n].call(o,t);}return t._defaultPrevented===!0;}return!1;},unbind:function unbind(e,t){var i,o=this,r=o._events[e];if(e===n)o._events={};else if(r)if(t)for(i=r.length-1;i>=0;i--){r[i]!==t&&r[i].original!==t||r.splice(i,1);}else o._events[e]=[];return o;}}),B=/^\w+/,L=/\$\{([^}]*)\}/g,H=/\\\}/g,N=/__CURLY__/g,O=/\\#/g,V=/__SHARP__/g,U=["","0","00","000","0000"],I={paramName:"data",useWithBlock:!0,render:function render(e,t){var n,i,o="";for(n=0,i=t.length;i>n;n++){o+=e(t[n]);}return o;},compile:function compile(e,t){var n,i,r,a=_e({},this,t),s=a.paramName,l=s.match(B)[0],c=a.useWithBlock,d="var $kendoOutput, $kendoHtmlEncode = kendo.htmlEncode;";if(F(e))return e;for(d+=c?"with("+s+"){":"",d+="$kendoOutput=",i=e.replace(H,"__CURLY__").replace(L,"#=$kendoHtmlEncode($1)#").replace(N,"}").replace(O,"__SHARP__").split("#"),r=0;i.length>r;r++){d+=o(i[r],r%2===0);}d+=c?";}":";",d+="return $kendoOutput;",d=d.replace(V,"#");try{return n=Function(l,d),n._slotCount=Math.floor(i.length/2),n;}catch(u){throw Error(ve.format("Invalid template:'{0}' Generated code:'{1}'",e,d));}}},function(){function e(e){return a.lastIndex=0,a.test(e)?'"'+e.replace(a,function(e){var t=s[e];return(typeof t==="undefined"?"undefined":_typeof(t))===Ie?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4);})+'"':'"'+e+'"';}function t(r,a){var s,c,d,u,h,f,p=n,m=a[r];if(m&&(typeof m==="undefined"?"undefined":_typeof(m))===Me&&_typeof(m.toJSON)===Re&&(m=m.toJSON(r)),(typeof o==="undefined"?"undefined":_typeof(o))===Re&&(m=o.call(a,r,m)),f=typeof m==="undefined"?"undefined":_typeof(m),f===Ie)return e(m);if(f===Fe)return isFinite(m)?m+"":Pe;if(f===ze||f===Pe)return m+"";if(f===Me){if(!m)return Pe;if(n+=i,h=[],"[object Array]"===l.apply(m)){for(u=m.length,s=0;u>s;s++){h[s]=t(s,m)||Pe;}return d=0===h.length?"[]":n?"[\n"+n+h.join(",\n"+n)+"\n"+p+"]":"["+h.join(",")+"]",n=p,d;}if(o&&(typeof o==="undefined"?"undefined":_typeof(o))===Me)for(u=o.length,s=0;u>s;s++){_typeof(o[s])===Ie&&(c=o[s],d=t(c,m),d&&h.push(e(c)+(n?": ":":")+d));}else for(c in m){Object.hasOwnProperty.call(m,c)&&(d=t(c,m),d&&h.push(e(c)+(n?": ":":")+d));}return d=0===h.length?"{}":n?"{\n"+n+h.join(",\n"+n)+"\n"+p+"}":"{"+h.join(",")+"}",n=p,d;}}var n,i,o,a=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,s={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},l={}.toString;_typeof(Date.prototype.toJSON)!==Re&&(Date.prototype.toJSON=function(){var e=this;return isFinite(e.valueOf())?r(e.getUTCFullYear(),4)+"-"+r(e.getUTCMonth()+1)+"-"+r(e.getUTCDate())+"T"+r(e.getUTCHours())+":"+r(e.getUTCMinutes())+":"+r(e.getUTCSeconds())+"Z":null;},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf();}),_typeof(Ce.stringify)!==Re&&(Ce.stringify=function(e,r,a){var s;if(n="",i="",(typeof a==="undefined"?"undefined":_typeof(a))===Fe)for(s=0;a>s;s+=1){i+=" ";}else(typeof a==="undefined"?"undefined":_typeof(a))===Ie&&(i=a);if(o=r,r&&(typeof r==="undefined"?"undefined":_typeof(r))!==Re&&((typeof r==="undefined"?"undefined":_typeof(r))!==Me||_typeof(r.length)!==Fe))throw Error("JSON.stringify");return t("",{"":e});});}(),function(){function e(e){if(e){if(e.numberFormat)return e;if((typeof e==="undefined"?"undefined":_typeof(e))===Ie){var t=ve.cultures;return t[e]||t[e.split("-")[0]]||null;}return null;}return null;}function t(t){return t&&(t=e(t)),t||ve.cultures.current;}function i(e,i,o){o=t(o);var a=o.calendars.standard,s=a.days,l=a.months;return i=a.patterns[i]||i,i.replace(c,function(t){var i,o,c;return"d"===t?o=e.getDate():"dd"===t?o=r(e.getDate()):"ddd"===t?o=s.namesAbbr[e.getDay()]:"dddd"===t?o=s.names[e.getDay()]:"M"===t?o=e.getMonth()+1:"MM"===t?o=r(e.getMonth()+1):"MMM"===t?o=l.namesAbbr[e.getMonth()]:"MMMM"===t?o=l.names[e.getMonth()]:"yy"===t?o=r(e.getFullYear()%100):"yyyy"===t?o=r(e.getFullYear(),4):"h"===t?o=e.getHours()%12||12:"hh"===t?o=r(e.getHours()%12||12):"H"===t?o=e.getHours():"HH"===t?o=r(e.getHours()):"m"===t?o=e.getMinutes():"mm"===t?o=r(e.getMinutes()):"s"===t?o=e.getSeconds():"ss"===t?o=r(e.getSeconds()):"f"===t?o=xe.floor(e.getMilliseconds()/100):"ff"===t?(o=e.getMilliseconds(),o>99&&(o=xe.floor(o/10)),o=r(o)):"fff"===t?o=r(e.getMilliseconds(),3):"tt"===t?o=e.getHours()<12?a.AM[0]:a.PM[0]:"zzz"===t?(i=e.getTimezoneOffset(),c=0>i,o=(""+xe.abs(i/60)).split(".")[0],i=xe.abs(i)-60*o,o=(c?"+":"-")+r(o),o+=":"+r(i)):"zz"!==t&&"z"!==t||(o=e.getTimezoneOffset()/60,c=0>o,o=(""+xe.abs(o)).split(".")[0],o=(c?"+":"-")+("zz"===t?r(o):o)),o!==n?o:t.slice(1,t.length-1);});}function o(e,i,o){o=t(o);var r,l,c,b,w,y,k,x,C,S,T,D,A,E,R,I,F,M,P,z,B,L,H,N=o.numberFormat,O=N[p],V=N.decimals,U=N.pattern[0],W=[],j=0>e,q=f,G=f,$=-1;if(e===n)return f;if(!isFinite(e))return e;if(!i)return o.name.length?e.toLocaleString():""+e;if(w=d.exec(i)){if(i=w[1].toLowerCase(),l="c"===i,c="p"===i,(l||c)&&(N=l?N.currency:N.percent,O=N[p],V=N.decimals,r=N.symbol,U=N.pattern[j?0:1]),b=w[2],b&&(V=+b),"e"===i)return b?e.toExponential(V):e.toExponential();if(c&&(e*=100),e=s(e,V),j=0>e,e=e.split(p),y=e[0],k=e[1],j&&(y=y.substring(1)),G=a(y,0,y.length,N),k&&(G+=O+k),"n"===i&&!j)return G;for(e=f,S=0,T=U.length;T>S;S++){D=U.charAt(S),e+="n"===D?G:"$"===D||"%"===D?r:D;}return e;}if(j&&(e=-e),(i.indexOf("'")>-1||i.indexOf('"')>-1||i.indexOf("\\")>-1)&&(i=i.replace(u,function(e){var t=e.charAt(0).replace("\\",""),n=e.slice(1).replace(t,"");return W.push(n),_;})),i=i.split(";"),j&&i[1])i=i[1],E=!0;else if(0===e){if(i=i[2]||i[0],-1==i.indexOf(g)&&-1==i.indexOf(v))return i;}else i=i[0];if(z=i.indexOf("%"),B=i.indexOf("$"),c=-1!=z,l=-1!=B,c&&(e*=100),l&&"\\"===i[B-1]&&(i=i.split("\\").join(""),l=!1),(l||c)&&(N=l?N.currency:N.percent,O=N[p],V=N.decimals,r=N.symbol),A=i.indexOf(m)>-1,A&&(i=i.replace(h,f)),R=i.indexOf(p),T=i.length,-1!=R?(k=(""+e).split("e"),k=k[1]?s(e,Math.abs(k[1])):k[0],k=k.split(p)[1]||f,F=i.lastIndexOf(v)-R,I=i.lastIndexOf(g)-R,M=F>-1,P=I>-1,S=k.length,M||P||(i=i.substring(0,R)+i.substring(R+1),T=i.length,R=-1,S=0),M&&F>I?S=F:I>F&&(P&&S>I?S=I:M&&F>S&&(S=F)),S>-1&&(e=s(e,S))):e=s(e),I=i.indexOf(g),L=F=i.indexOf(v),$=-1==I&&-1!=F?F:-1!=I&&-1==F?I:I>F?F:I,I=i.lastIndexOf(g),F=i.lastIndexOf(v),H=-1==I&&-1!=F?F:-1!=I&&-1==F?I:I>F?I:F,$==T&&(H=$),-1!=$){for(G=(""+e).split(p),y=G[0],k=G[1]||f,x=y.length,C=k.length,j&&-1*e>=0&&(j=!1),e=i.substring(0,$),j&&!E&&(e+="-"),S=$;T>S;S++){if(D=i.charAt(S),-1==R){if(x>H-S){e+=y;break;}}else if(-1!=F&&S>F&&(q=f),x>=R-S&&R-S>-1&&(e+=y,S=R),R===S){e+=(k?O:f)+k,S+=H-R+1;continue;}D===v?(e+=D,q=D):D===g&&(e+=q);}if(A&&(e=a(e,$+(j?1:0),Math.max(H,x+$),N)),H>=$&&(e+=i.substring(H+1)),l||c){for(G=f,S=0,T=e.length;T>S;S++){D=e.charAt(S),G+="$"===D||"%"===D?r:D;}e=G;}if(T=W.length)for(S=0;T>S;S++){e=e.replace(_,W[S]);}}return e;}var a,s,l,c=/dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|HH|H|hh|h|mm|m|fff|ff|f|tt|ss|s|zzz|zz|z|"[^"]*"|'[^']*'/g,d=/^(n|c|p|e)(\d*)$/i,u=/(\\.)|(['][^']*[']?)|(["][^"]*["]?)/g,h=/\,/g,f="",p=".",m=",",g="#",v="0",_="??",b="en-US",w={}.toString;ve.cultures["en-US"]={name:b,numberFormat:{pattern:["-n"],decimals:2,",":",",".":".",groupSize:[3],percent:{pattern:["-n %","n %"],decimals:2,",":",",".":".",groupSize:[3],symbol:"%"},currency:{name:"US Dollar",abbr:"USD",pattern:["($n)","$n"],decimals:2,",":",",".":".",groupSize:[3],symbol:"$"}},calendars:{standard:{days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December"],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},AM:["AM","am","AM"],PM:["PM","pm","PM"],patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",F:"dddd, MMMM dd, yyyy h:mm:ss tt",g:"M/d/yyyy h:mm tt",G:"M/d/yyyy h:mm:ss tt",m:"MMMM dd",M:"MMMM dd",s:"yyyy'-'MM'-'ddTHH':'mm':'ss",t:"h:mm tt",T:"h:mm:ss tt",u:"yyyy'-'MM'-'dd HH':'mm':'ss'Z'",y:"MMMM, yyyy",Y:"MMMM, yyyy"},"/":"/",":":":",firstDay:0,twoDigitYearMax:2029}}},ve.culture=function(t){var i,o=ve.cultures;return t===n?o.current:(i=e(t)||o[b],i.calendar=i.calendars.standard,o.current=i,n);},ve.findCulture=e,ve.getCulture=t,ve.culture(b),a=function a(e,t,i,o){var r,a,s,l,c,d,u=e.indexOf(o[p]),h=o.groupSize.slice(),f=h.shift();if(i=-1!==u?u:i+1,r=e.substring(t,i),a=r.length,a>=f){for(s=a,l=[];s>-1;){if(c=r.substring(s-f,s),c&&l.push(c),s-=f,d=h.shift(),f=d!==n?d:f,0===f){l.push(r.substring(0,s));break;}}r=l.reverse().join(o[m]),e=e.substring(0,t)+r+e.substring(i);}return e;},s=function s(e,t){return t=t||0,e=(""+e).split("e"),e=Math.round(+(e[0]+"e"+(e[1]?+e[1]+t:t))),e=(""+e).split("e"),e=+(e[0]+"e"+(e[1]?+e[1]-t:-t)),e.toFixed(t);},l=function l(e,t,r){if(t){if("[object Date]"===w.call(e))return i(e,t,r);if((typeof e==="undefined"?"undefined":_typeof(e))===Fe)return o(e,t,r);}return e!==n?e:"";},ve.format=function(e){var t=arguments;return e.replace(De,function(e,n,i){var o=t[parseInt(n,10)+1];return l(o,i?i.substring(1):"");});},ve._extractFormat=function(e){return"{0:"===e.slice(0,3)&&(e=e.slice(3,e.length-1)),e;},ve._activeElement=function(){try{return document.activeElement;}catch(e){return document.documentElement.activeElement;}},ve._round=s,ve.toString=l;}(),function(){function t(e,t,n){return!(e>=t&&n>=e);}function i(e){return e.charAt(0);}function o(t){return e.map(t,i);}function r(e,t){t||23!==e.getHours()||e.setHours(e.getHours()+2);}function a(e){for(var t=0,n=e.length,i=[];n>t;t++){i[t]=(e[t]+"").toLowerCase();}return i;}function s(e){var t,n={};for(t in e){n[t]=a(e[t]);}return n;}function l(e,i,a){if(!e)return null;var l,c,d,u,h,m,g,v,_,w,y,k,x,C=function C(e){for(var t=0;i[B]===e;){t++,B++;}return t>0&&(B-=1),t;},S=function S(t){var n=b[t]||RegExp("^\\d{1,"+t+"}"),i=e.substr(L,t).match(n);return i?(i=i[0],L+=i.length,parseInt(i,10)):null;},T=function T(t,n){for(var i,o,r,a=0,s=t.length,l=0,c=0;s>a;a++){i=t[a],o=i.length,r=e.substr(L,o),n&&(r=r.toLowerCase()),r==i&&o>l&&(l=o,c=a);}return l?(L+=l,c+1):null;},D=function D(){var t=!1;return e.charAt(L)===i[B]&&(L++,t=!0),t;},A=a.calendars.standard,E=null,R=null,I=null,F=null,M=null,P=null,z=null,B=0,L=0,H=!1,N=new Date(),O=A.twoDigitYearMax||2029,V=N.getFullYear();for(i||(i="d"),u=A.patterns[i],u&&(i=u),i=i.split(""),d=i.length;d>B;B++){if(l=i[B],H)"'"===l?H=!1:D();else if("d"===l){if(c=C("d"),A._lowerDays||(A._lowerDays=s(A.days)),null!==I&&c>2)continue;if(I=3>c?S(2):T(A._lowerDays[3==c?"namesAbbr":"names"],!0),null===I||t(I,1,31))return null;}else if("M"===l){if(c=C("M"),A._lowerMonths||(A._lowerMonths=s(A.months)),R=3>c?S(2):T(A._lowerMonths[3==c?"namesAbbr":"names"],!0),null===R||t(R,1,12))return null;R-=1;}else if("y"===l){if(c=C("y"),E=S(c),null===E)return null;2==c&&("string"==typeof O&&(O=V+parseInt(O,10)),E=V-V%100+E,E>O&&(E-=100));}else if("h"===l){if(C("h"),F=S(2),12==F&&(F=0),null===F||t(F,0,11))return null;}else if("H"===l){if(C("H"),F=S(2),null===F||t(F,0,23))return null;}else if("m"===l){if(C("m"),M=S(2),null===M||t(M,0,59))return null;}else if("s"===l){if(C("s"),P=S(2),null===P||t(P,0,59))return null;}else if("f"===l){if(c=C("f"),x=e.substr(L,c).match(b[3]),z=S(c),null!==z&&(z=parseFloat("0."+x[0],10),z=ve._round(z,3),z*=1e3),null===z||t(z,0,999))return null;}else if("t"===l){if(c=C("t"),v=A.AM,_=A.PM,1===c&&(v=o(v),_=o(_)),h=T(_),!h&&!T(v))return null;}else if("z"===l){if(m=!0,c=C("z"),"Z"===e.substr(L,1)){D();continue;}if(g=e.substr(L,6).match(c>2?p:f),!g)return null;if(g=g[0].split(":"),w=g[0],y=g[1],!y&&w.length>3&&(L=w.length-2,y=w.substring(L),w=w.substring(0,L)),w=parseInt(w,10),t(w,-12,13))return null;if(c>2&&(y=parseInt(y,10),isNaN(y)||t(y,0,59)))return null;}else if("'"===l)H=!0,D();else if(!D())return null;}return k=null!==F||null!==M||P||null,null===E&&null===R&&null===I&&k?(E=V,R=N.getMonth(),I=N.getDate()):(null===E&&(E=V),null===I&&(I=1)),h&&12>F&&(F+=12),m?(w&&(F+=-w),y&&(M+=-y),e=new Date(Date.UTC(E,R,I,F,M,P,z))):(e=new Date(E,R,I,F,M,P,z),r(e,F)),100>E&&e.setFullYear(E),e.getDate()!==I&&m===n?null:e;}function c(e){var t="-"===e.substr(0,1)?-1:1;return e=e.substring(1),e=60*parseInt(e.substr(0,2),10)+parseInt(e.substring(2),10),t*e;}function d(e){var t,n,i,o=xe.max(v.length,_.length),r=e.calendar.patterns,a=[];for(i=0;o>i;i++){for(t=v[i],n=0;t.length>n;n++){a.push(r[t[n]]);}a=a.concat(_[i]);}return a;}var u=/\u00A0/g,h=/[eE][\-+]?[0-9]+/,f=/[+|\-]\d{1,2}/,p=/[+|\-]\d{1,2}:?\d{2}/,m=/^\/Date\((.*?)\)\/$/,g=/[+-]\d*/,v=[[],["G","g","F"],["D","d","y","m","T","t"]],_=[["yyyy-MM-ddTHH:mm:ss.fffffffzzz","yyyy-MM-ddTHH:mm:ss.fffffff","yyyy-MM-ddTHH:mm:ss.fffzzz","yyyy-MM-ddTHH:mm:ss.fff","ddd MMM dd yyyy HH:mm:ss","yyyy-MM-ddTHH:mm:sszzz","yyyy-MM-ddTHH:mmzzz","yyyy-MM-ddTHH:mmzz","yyyy-MM-ddTHH:mm:ss","yyyy-MM-dd HH:mm:ss","yyyy/MM/dd HH:mm:ss"],["yyyy-MM-ddTHH:mm","yyyy-MM-dd HH:mm","yyyy/MM/dd HH:mm"],["yyyy/MM/dd","yyyy-MM-dd","HH:mm:ss","HH:mm"]],b={2:/^\d{1,2}/,3:/^\d{1,3}/,4:/^\d{4}/},w={}.toString;ve.parseDate=function(e,t,n){var i,o,r,a;if("[object Date]"===w.call(e))return e;if(i=0,o=null,e&&0===e.indexOf("/D")&&(o=m.exec(e)))return o=o[1],a=g.exec(o.substring(1)),o=new Date(parseInt(o,10)),a&&(a=c(a[0]),o=ve.timezone.apply(o,0),o=ve.timezone.convert(o,0,-1*a)),o;for(n=ve.getCulture(n),t||(t=d(n)),t=we(t)?t:[t],r=t.length;r>i;i++){if(o=l(e,t[i],n))return o;}return o;},ve.parseInt=function(e,t){var n=ve.parseFloat(e,t);return n&&(n=0|n),n;},ve.parseFloat=function(e,t,n){if(!e&&0!==e)return null;if((typeof e==="undefined"?"undefined":_typeof(e))===Fe)return e;e=""+e,t=ve.getCulture(t);var i,o,r=t.numberFormat,a=r.percent,s=r.currency,l=s.symbol,c=a.symbol,d=e.indexOf("-");return h.test(e)?(e=parseFloat(e.replace(r["."],".")),isNaN(e)&&(e=null),e):d>0?null:(d=d>-1,e.indexOf(l)>-1||n&&n.toLowerCase().indexOf("c")>-1?(r=s,i=r.pattern[0].replace("$",l).split("n"),e.indexOf(i[0])>-1&&e.indexOf(i[1])>-1&&(e=e.replace(i[0],"").replace(i[1],""),d=!0)):e.indexOf(c)>-1&&(o=!0,r=a,l=c),e=e.replace("-","").replace(l,"").replace(u," ").split(r[","].replace(u," ")).join("").replace(r["."],"."),e=parseFloat(e),isNaN(e)?e=null:d&&(e*=-1),e&&o&&(e/=100),e);};}(),function(){var i,o,r,a,s,l,c;Se._scrollbar=n,Se.scrollbar=function(e){if(isNaN(Se._scrollbar)||e){var t,n=document.createElement("div");return n.style.cssText="overflow:scroll;overflow-x:hidden;zoom:1;clear:both;display:block",n.innerHTML="&nbsp;",document.body.appendChild(n),Se._scrollbar=t=n.offsetWidth-n.scrollWidth,document.body.removeChild(n),t;}return Se._scrollbar;},Se.isRtl=function(t){return e(t).closest(".k-rtl").length>0;},i=document.createElement("table");try{i.innerHTML="<tr><td></td></tr>",Se.tbodyInnerHtml=!0;}catch(u){Se.tbodyInnerHtml=!1;}Se.touch="ontouchstart"in t,Se.msPointers=t.MSPointerEvent,Se.pointers=t.PointerEvent,o=Se.transitions=!1,r=Se.transforms=!1,a="HTMLElement"in t?HTMLElement.prototype:[],Se.hasHW3D="WebKitCSSMatrix"in t&&"m11"in new t.WebKitCSSMatrix()||"MozPerspective"in document.documentElement.style||"msPerspective"in document.documentElement.style,be(["Moz","webkit","O","ms"],function(){var e,t=""+this,a=_typeof(i.style[t+"Transition"])===Ie;return a||_typeof(i.style[t+"Transform"])===Ie?(e=t.toLowerCase(),r={css:"ms"!=e?"-"+e+"-":"",prefix:t,event:"o"===e||"webkit"===e?e:""},a&&(o=r,o.event=o.event?o.event+"TransitionEnd":"transitionend"),!1):n;}),i=null,Se.transforms=r,Se.transitions=o,Se.devicePixelRatio=t.devicePixelRatio===n?1:t.devicePixelRatio;try{Se.screenWidth=t.outerWidth||t.screen?t.screen.availWidth:t.innerWidth,Se.screenHeight=t.outerHeight||t.screen?t.screen.availHeight:t.innerHeight;}catch(u){Se.screenWidth=t.screen.availWidth,Se.screenHeight=t.screen.availHeight;}Se.detectOS=function(e){var n,i,o=!1,r=[],a=!/mobile safari/i.test(e),s={wp:/(Windows Phone(?: OS)?)\s(\d+)\.(\d+(\.\d+)?)/,fire:/(Silk)\/(\d+)\.(\d+(\.\d+)?)/,android:/(Android|Android.*(?:Opera|Firefox).*?\/)\s*(\d+)\.(\d+(\.\d+)?)/,iphone:/(iPhone|iPod).*OS\s+(\d+)[\._]([\d\._]+)/,ipad:/(iPad).*OS\s+(\d+)[\._]([\d_]+)/,meego:/(MeeGo).+NokiaBrowser\/(\d+)\.([\d\._]+)/,webos:/(webOS)\/(\d+)\.(\d+(\.\d+)?)/,blackberry:/(BlackBerry|BB10).*?Version\/(\d+)\.(\d+(\.\d+)?)/,playbook:/(PlayBook).*?Tablet\s*OS\s*(\d+)\.(\d+(\.\d+)?)/,windows:/(MSIE)\s+(\d+)\.(\d+(\.\d+)?)/,tizen:/(tizen).*?Version\/(\d+)\.(\d+(\.\d+)?)/i,sailfish:/(sailfish).*rv:(\d+)\.(\d+(\.\d+)?).*firefox/i,ffos:/(Mobile).*rv:(\d+)\.(\d+(\.\d+)?).*Firefox/},l={ios:/^i(phone|pad|pod)$/i,android:/^android|fire$/i,blackberry:/^blackberry|playbook/i,windows:/windows/,wp:/wp/,flat:/sailfish|ffos|tizen/i,meego:/meego/},c={tablet:/playbook|ipad|fire/i},u={omini:/Opera\sMini/i,omobile:/Opera\sMobi/i,firefox:/Firefox|Fennec/i,mobilesafari:/version\/.*safari/i,ie:/MSIE|Windows\sPhone/i,chrome:/chrome|crios/i,webkit:/webkit/i};for(i in s){if(s.hasOwnProperty(i)&&(r=e.match(s[i]))){if("windows"==i&&"plugins"in navigator)return!1;o={},o.device=i,o.tablet=d(i,c,!1),o.browser=d(e,u,"default"),o.name=d(i,l),o[o.name]=!0,o.majorVersion=r[2],o.minorVersion=r[3].replace("_","."),n=o.minorVersion.replace(".","").substr(0,2),o.flatVersion=o.majorVersion+n+Array(3-(3>n.length?n.length:2)).join("0"),o.cordova=_typeof(t.PhoneGap)!==Be||_typeof(t.cordova)!==Be,o.appMode=t.navigator.standalone||/file|local|wmapp/.test(t.location.protocol)||o.cordova,o.android&&(1.5>Se.devicePixelRatio&&400>o.flatVersion||a)&&(Se.screenWidth>800||Se.screenHeight>800)&&(o.tablet=i);break;}}return o;},s=Se.mobileOS=Se.detectOS(navigator.userAgent),Se.wpDevicePixelRatio=s.wp?screen.width/320:0,Se.kineticScrollNeeded=s&&(Se.touch||Se.msPointers||Se.pointers),Se.hasNativeScrolling=!1,(s.ios||s.android&&s.majorVersion>2||s.wp)&&(Se.hasNativeScrolling=s),Se.delayedClick=function(){if(Se.touch){if(s.ios)return!0;if(s.android)return Se.browser.chrome?32>Se.browser.version?!1:!(e("meta[name=viewport]").attr("content")||"").match(/user-scalable=no/i):!0;}return!1;},Se.mouseAndTouchPresent=Se.touch&&!(Se.mobileOS.ios||Se.mobileOS.android),Se.detectBrowser=function(e){var t,n=!1,i=[],o={edge:/(edge)[ \/]([\w.]+)/i,webkit:/(chrome)[ \/]([\w.]+)/i,safari:/(webkit)[ \/]([\w.]+)/i,opera:/(opera)(?:.*version|)[ \/]([\w.]+)/i,msie:/(msie\s|trident.*? rv:)([\w.]+)/i,mozilla:/(mozilla)(?:.*? rv:([\w.]+)|)/i};for(t in o){if(o.hasOwnProperty(t)&&(i=e.match(o[t]))){n={},n[t]=!0,n[i[1].toLowerCase().split(" ")[0].split("/")[0]]=!0,n.version=parseInt(document.documentMode||i[2],10);break;}}return n;},Se.browser=Se.detectBrowser(navigator.userAgent),Se.detectClipboardAccess=function(){var e={copy:document.queryCommandSupported?document.queryCommandSupported("copy"):!1,cut:document.queryCommandSupported?document.queryCommandSupported("cut"):!1,paste:document.queryCommandSupported?document.queryCommandSupported("paste"):!1};return Se.browser.chrome&&(e.paste=!1,Se.browser.version>=43&&(e.copy=!0,e.cut=!0)),e;},Se.clipboard=Se.detectClipboardAccess(),Se.zoomLevel=function(){var e,n,i;try{return e=Se.browser,n=0,i=document.documentElement,e.msie&&11==e.version&&i.scrollHeight>i.clientHeight&&!Se.touch&&(n=Se.scrollbar()),Se.touch?i.clientWidth/t.innerWidth:e.msie&&e.version>=10?((top||t).document.documentElement.offsetWidth+n)/(top||t).innerWidth:1;}catch(o){return 1;}},Se.cssBorderSpacing=n!==document.documentElement.style.borderSpacing&&!(Se.browser.msie&&8>Se.browser.version),function(t){var n="",i=e(document.documentElement),o=parseInt(t.version,10);t.msie?n="ie":t.mozilla?n="ff":t.safari?n="safari":t.webkit?n="webkit":t.opera?n="opera":t.edge&&(n="edge"),n&&(n="k-"+n+" k-"+n+o),Se.mobileOS&&(n+=" k-mobile"),i.addClass(n);}(Se.browser),Se.eventCapture=document.documentElement.addEventListener,l=document.createElement("input"),Se.placeholder="placeholder"in l,Se.propertyChangeEvent="onpropertychange"in l,Se.input=function(){for(var e,t=["number","date","time","month","week","datetime","datetime-local"],n=t.length,i="test",o={},r=0;n>r;r++){e=t[r],l.setAttribute("type",e),l.value=i,o[e.replace("-","")]="text"!==l.type&&l.value!==i;}return o;}(),l.style.cssText="float:left;",Se.cssFloat=!!l.style.cssFloat,l=null,Se.stableSort=function(){var e,t=513,n=[{index:0,field:"b"}];for(e=1;t>e;e++){n.push({index:e,field:"a"});}return n.sort(function(e,t){return e.field>t.field?1:t.field>e.field?-1:0;}),1===n[0].index;}(),Se.matchesSelector=a.webkitMatchesSelector||a.mozMatchesSelector||a.msMatchesSelector||a.oMatchesSelector||a.matchesSelector||a.matches||function(t){for(var n=document.querySelectorAll?(this.parentNode||document).querySelectorAll(t)||[]:e(t),i=n.length;i--;){if(n[i]==this)return!0;}return!1;},Se.pushState=t.history&&t.history.pushState,c=document.documentMode,Se.hashChange="onhashchange"in t&&!(Se.browser.msie&&(!c||8>=c)),Se.customElements="registerElement"in t.document;}(),W={left:{reverse:"right"},right:{reverse:"left"},down:{reverse:"up"},up:{reverse:"down"},top:{reverse:"bottom"},bottom:{reverse:"top"},"in":{reverse:"out"},out:{reverse:"in"}},j={},e.extend(j,{enabled:!0,Element:function Element(t){this.element=e(t);},promise:function promise(e,t){e.is(":visible")||e.css({display:e.data("olddisplay")||"block"}).css("display"),t.hide&&e.data("olddisplay",e.css("display")).hide(),t.init&&t.init(),t.completeCallback&&t.completeCallback(e),e.dequeue();},disable:function disable(){this.enabled=!1,this.promise=this.promiseShim;},enable:function enable(){this.enabled=!0,this.promise=this.animatedPromise;}}),j.promiseShim=j.promise,"kendoAnimate"in e.fn||_e(e.fn,{kendoStop:function kendoStop(e,t){return this.stop(e,t);},kendoAnimate:function kendoAnimate(e,t,n,i){return y(this,e,t,n,i);},kendoAddClass:function kendoAddClass(e,t){return ve.toggleClass(this,e,t,!0);},kendoRemoveClass:function kendoRemoveClass(e,t){return ve.toggleClass(this,e,t,!1);},kendoToggleClass:function kendoToggleClass(e,t,n){return ve.toggleClass(this,e,t,n);}}),q=/&/g,G=/</g,$=/"/g,Y=/'/g,K=/>/g,Q=function Q(e){return e.target;},Se.touch&&(Q=function Q(e){var t="originalEvent"in e?e.originalEvent.changedTouches:"changedTouches"in e?e.changedTouches:null;return t?document.elementFromPoint(t[0].clientX,t[0].clientY):e.target;},be(["swipe","swipeLeft","swipeRight","swipeUp","swipeDown","doubleTap","tap"],function(t,n){e.fn[n]=function(e){return this.bind(n,e);};})),Se.touch?Se.mobileOS?(Se.mousedown="touchstart",Se.mouseup="touchend",Se.mousemove="touchmove",Se.mousecancel="touchcancel",Se.click="touchend",Se.resize="orientationchange"):(Se.mousedown="mousedown touchstart",Se.mouseup="mouseup touchend",Se.mousemove="mousemove touchmove",Se.mousecancel="mouseleave touchcancel",Se.click="click",Se.resize="resize"):Se.pointers?(Se.mousemove="pointermove",Se.mousedown="pointerdown",Se.mouseup="pointerup",Se.mousecancel="pointercancel",Se.click="pointerup",Se.resize="orientationchange resize"):Se.msPointers?(Se.mousemove="MSPointerMove",Se.mousedown="MSPointerDown",Se.mouseup="MSPointerUp",Se.mousecancel="MSPointerCancel",Se.click="MSPointerUp",Se.resize="orientationchange resize"):(Se.mousemove="mousemove",Se.mousedown="mousedown",Se.mouseup="mouseup",Se.mousecancel="mouseleave",Se.click="click",Se.resize="resize"),X=function X(e,t){var n,i,o,r,a=t||"d",s=1;for(i=0,o=e.length;o>i;i++){r=e[i],""!==r&&(n=r.indexOf("["),0!==n&&(-1==n?r="."+r:(s++,r="."+r.substring(0,n)+" || {})"+r.substring(n))),s++,a+=r+(o-1>i?" || {})":")"));}return Array(s).join("(")+a;},J=/^([a-z]+:)?\/\//i,_e(ve,{widgets:[],_widgetRegisteredCallbacks:[],ui:ve.ui||{},fx:ve.fx||b,effects:ve.effects||j,mobile:ve.mobile||{},data:ve.data||{},dataviz:ve.dataviz||{},drawing:ve.drawing||{},spreadsheet:{messages:{}},keys:{INSERT:45,DELETE:46,BACKSPACE:8,TAB:9,ENTER:13,ESC:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,END:35,HOME:36,SPACEBAR:32,PAGEUP:33,PAGEDOWN:34,F2:113,F10:121,F12:123,NUMPAD_PLUS:107,NUMPAD_MINUS:109,NUMPAD_DOT:110},support:ve.support||Se,animate:ve.animate||y,ns:"",attr:function attr(e){return"data-"+ve.ns+e;},getShadows:a,wrap:s,deepExtend:l,getComputedStyles:f,webComponents:ve.webComponents||[],isScrollable:p,scrollLeft:m,size:g,toCamelCase:h,toHyphens:u,getOffset:ve.getOffset||v,parseEffects:ve.parseEffects||_,toggleClass:ve.toggleClass||k,directions:ve.directions||W,Observable:z,Class:i,Template:I,template:ye(I.compile,I),render:ye(I.render,I),stringify:ye(Ce.stringify,Ce),eventTarget:Q,htmlEncode:x,isLocalUrl:function isLocalUrl(e){return e&&!J.test(e);},expr:function expr(e,t,n){return e=e||"",(typeof t==="undefined"?"undefined":_typeof(t))==Ie&&(n=t,t=!1),n=n||"d",e&&"["!==e.charAt(0)&&(e="."+e),t?(e=e.replace(/"([^.]*)\.([^"]*)"/g,'"$1_$DOT$_$2"'),e=e.replace(/'([^.]*)\.([^']*)'/g,"'$1_$DOT$_$2'"),e=X(e.split("."),n),e=e.replace(/_\$DOT\$_/g,".")):e=n+e,e;},getter:function getter(e,t){var n=e+t;return Le[n]=Le[n]||Function("d","return "+ve.expr(e,t));},setter:function setter(e){return He[e]=He[e]||Function("d,value",ve.expr(e)+"=value");},accessor:function accessor(e){return{get:ve.getter(e),set:ve.setter(e)};},guid:function guid(){var e,t,n="";for(e=0;32>e;e++){t=16*xe.random()|0,8!=e&&12!=e&&16!=e&&20!=e||(n+="-"),n+=(12==e?4:16==e?3&t|8:t).toString(16);}return n;},roleSelector:function roleSelector(e){return e.replace(/(\S+)/g,"["+ve.attr("role")+"=$1],").slice(0,-1);},directiveSelector:function directiveSelector(e){var t,n=e.split(" ");if(n)for(t=0;n.length>t;t++){"view"!=n[t]&&(n[t]=n[t].replace(/(\w*)(view|bar|strip|over)$/,"$1-$2"));}return n.join(" ").replace(/(\S+)/g,"kendo-mobile-$1,").slice(0,-1);},triggeredByInput:function triggeredByInput(e){return /^(label|input|textarea|select)$/i.test(e.target.tagName);},onWidgetRegistered:function onWidgetRegistered(e){for(var t=0,n=ve.widgets.length;n>t;t++){e(ve.widgets[t]);}ve._widgetRegisteredCallbacks.push(e);},logToConsole:function logToConsole(e,i){var o=t.console;!ve.suppressLog&&n!==o&&o.log&&o[i||"log"](e);}}),Z=z.extend({init:function init(e,t){var n,i=this;i.element=ve.jQuery(e).handler(i),i.angular("init",t),z.fn.init.call(i),n=t?t.dataSource:null,n&&(t=_e({},t,{dataSource:{}})),t=i.options=_e(!0,{},i.options,t),n&&(t.dataSource=n),i.element.attr(ve.attr("role"))||i.element.attr(ve.attr("role"),(t.name||"").toLowerCase()),i.element.data("kendo"+t.prefix+t.name,i),i.bind(i.events,t);},events:[],options:{prefix:""},_hasBindingTarget:function _hasBindingTarget(){return!!this.element[0].kendoBindingTarget;},_tabindex:function _tabindex(e){e=e||this.wrapper;var t=this.element,n="tabindex",i=e.attr(n)||t.attr(n);t.removeAttr(n),e.attr(n,isNaN(i)?0:i);},setOptions:function setOptions(t){this._setEvents(t),e.extend(this.options,t);},_setEvents:function _setEvents(e){for(var t,n=this,i=0,o=n.events.length;o>i;i++){t=n.events[i],n.options[t]&&e[t]&&n.unbind(t,n.options[t]);}n.bind(n.events,e);},resize:function resize(e){var t=this.getSize(),n=this._size;(e||(t.width>0||t.height>0)&&(!n||t.width!==n.width||t.height!==n.height))&&(this._size=t,this._resize(t,e),this.trigger("resize",t));},getSize:function getSize(){return ve.dimensions(this.element);},size:function size(e){return e?(this.setSize(e),n):this.getSize();},setSize:e.noop,_resize:e.noop,destroy:function destroy(){var e=this;e.element.removeData("kendo"+e.options.prefix+e.options.name),e.element.removeData("handler"),e.unbind();},_destroy:function _destroy(){this.destroy();},angular:function angular(){},_muteAngularRebind:function _muteAngularRebind(e){this._muteRebind=!0,e.call(this),this._muteRebind=!1;}}),ee=Z.extend({dataItems:function dataItems(){return this.dataSource.flatView();},_angularItems:function _angularItems(t){var n=this;n.angular(t,function(){return{elements:n.items(),data:e.map(n.dataItems(),function(e){return{dataItem:e};})};});}}),ve.dimensions=function(e,t){var n=e[0];return t&&e.css(t),{width:n.offsetWidth,height:n.offsetHeight};},ve.notify=ke,te=/template$/i,ne=/^\s*(?:\{(?:.|\r\n|\n)*\}|\[(?:.|\r\n|\n)*\])\s*$/,ie=/^\{(\d+)(:[^\}]+)?\}|^\[[A-Za-z_]*\]$/,oe=/([A-Z])/g,ve.initWidget=function(i,o,r){var a,s,l,c,d,u,h,f,p,m,g,v,_;if(r?r.roles&&(r=r.roles):r=ve.ui.roles,i=i.nodeType?i:i[0],u=i.getAttribute("data-"+ve.ns+"role")){p=-1===u.indexOf("."),l=p?r[u]:ve.getter(u)(t),g=e(i).data(),v=l?"kendo"+l.fn.options.prefix+l.fn.options.name:"",m=p?RegExp("^kendo.*"+u+"$","i"):RegExp("^"+v+"$","i");for(_ in g){if(_.match(m)){if(_!==v)return g[_];a=g[_];}}if(l){for(f=C(i,"dataSource"),o=e.extend({},S(i,l.fn.options),o),f&&(o.dataSource=(typeof f==="undefined"?"undefined":_typeof(f))===Ie?ve.getter(f)(t):f),c=0,d=l.fn.events.length;d>c;c++){s=l.fn.events[c],h=C(i,s),h!==n&&(o[s]=ve.getter(h)(t));}return a?e.isEmptyObject(o)||a.setOptions(o):a=new l(i,o),a;}}},ve.rolesFromNamespaces=function(e){var t,n,i=[];for(e[0]||(e=[ve.ui,ve.dataviz.ui]),t=0,n=e.length;n>t;t++){i[t]=e[t].roles;}return _e.apply(null,[{}].concat(i.reverse()));},ve.init=function(t){var n=ve.rolesFromNamespaces(Ne.call(arguments,1));e(t).find("[data-"+ve.ns+"role]").addBack().each(function(){ve.initWidget(this,{},n);});},ve.destroy=function(t){e(t).find("[data-"+ve.ns+"role]").addBack().each(function(){var t,n=e(this).data();for(t in n){0===t.indexOf("kendo")&&_typeof(n[t].destroy)===Re&&n[t].destroy();}});},ve.resize=function(t,n){var i,o=e(t).find("[data-"+ve.ns+"role]").addBack().filter(D);o.length&&(i=e.makeArray(o),i.sort(T),e.each(i,function(){var t=ve.widgetInstance(e(this));t&&t.resize(n);}));},ve.parseOptions=S,_e(ve.ui,{Widget:Z,DataBoundWidget:ee,roles:{},progress:function progress(t,n){var i,o,r,a,s=t.find(".k-loading-mask"),l=ve.support,c=l.browser;n?s.length||(i=l.isRtl(t),o=i?"right":"left",a=t.scrollLeft(),r=c.webkit&&i?t[0].scrollWidth-t.width()-2*a:0,s=e("<div class='k-loading-mask'><span class='k-loading-text'>"+ve.ui.progress.messages.loading+"</span><div class='k-loading-image'/><div class='k-loading-color'/></div>").width("100%").height("100%").css("top",t.scrollTop()).css(o,Math.abs(a)+r).prependTo(t)):s&&s.remove();},plugin:function plugin(t,i,o){var r,a,s,l,c=t.fn.options.name;for(i=i||ve.ui,o=o||"",i[c]=t,i.roles[c.toLowerCase()]=t,r="getKendo"+o+c,c="kendo"+o+c,a={name:c,widget:t,prefix:o||""},ve.widgets.push(a),s=0,l=ve._widgetRegisteredCallbacks.length;l>s;s++){ve._widgetRegisteredCallbacks[s](a);}e.fn[c]=function(i){var o,r=this;return(typeof i==="undefined"?"undefined":_typeof(i))===Ie?(o=Ne.call(arguments,1),this.each(function(){var t,a,s=e.data(this,c);if(!s)throw Error(ve.format("Cannot call method '{0}' of {1} before it is initialized",i,c));if(t=s[i],(typeof t==="undefined"?"undefined":_typeof(t))!==Re)throw Error(ve.format("Cannot find method '{0}' of {1}",i,c));return a=t.apply(s,o),a!==n?(r=a,!1):n;})):this.each(function(){return new t(this,i);}),r;},e.fn[c].widget=t,e.fn[r]=function(){return this.data(c);};}}),ve.ui.progress.messages={loading:"Loading..."},re={bind:function bind(){return this;},nullObject:!0,options:{}},ae=Z.extend({init:function init(e,t){Z.fn.init.call(this,e,t),this.element.autoApplyNS(),this.wrapper=this.element,this.element.addClass("km-widget");},destroy:function destroy(){Z.fn.destroy.call(this),this.element.kendoDestroy();},options:{prefix:"Mobile"},events:[],view:function view(){var e=this.element.closest(ve.roleSelector("view splitview modalview drawer"));return ve.widgetInstance(e,ve.mobile.ui)||re;},viewHasNativeScrolling:function viewHasNativeScrolling(){var e=this.view();return e&&e.options.useNativeScrolling;},container:function container(){var e=this.element.closest(ve.roleSelector("view layout modalview drawer splitview"));return ve.widgetInstance(e.eq(0),ve.mobile.ui)||re;}}),_e(ve.mobile,{init:function init(e){ve.init(e,ve.mobile.ui,ve.ui,ve.dataviz.ui);},appLevelNativeScrolling:function appLevelNativeScrolling(){return ve.mobile.application&&ve.mobile.application.options&&ve.mobile.application.options.useNativeScrolling;},roles:{},ui:{Widget:ae,DataBoundWidget:ee.extend(ae.prototype),roles:{},plugin:function plugin(e){ve.ui.plugin(e,ve.mobile.ui,"Mobile");}}}),l(ve.dataviz,{init:function init(e){ve.init(e,ve.dataviz.ui);},ui:{roles:{},themes:{},views:[],plugin:function plugin(e){ve.ui.plugin(e,ve.dataviz.ui);}},roles:{}}),ve.touchScroller=function(t,n){return n||(n={}),n.useNative=!0,e(t).map(function(t,i){return i=e(i),Se.kineticScrollNeeded&&ve.mobile.ui.Scroller&&!i.data("kendoMobileScroller")?(i.kendoMobileScroller(n),i.data("kendoMobileScroller")):!1;})[0];},ve.preventDefault=function(e){e.preventDefault();},ve.widgetInstance=function(e,n){var i,o,r,a,s=e.data(ve.ns+"role"),l=[];if(s){if("content"===s&&(s="scroller"),n){if(n[0])for(i=0,o=n.length;o>i;i++){l.push(n[i].roles[s]);}else l.push(n.roles[s]);}else l=[ve.ui.roles[s],ve.dataviz.ui.roles[s],ve.mobile.ui.roles[s]];for(s.indexOf(".")>=0&&(l=[ve.getter(s)(t)]),i=0,o=l.length;o>i;i++){if(r=l[i],r&&(a=e.data("kendo"+r.fn.options.prefix+r.fn.options.name)))return a;}}},ve.onResize=function(n){var i=n;return Se.mobileOS.android&&(i=function i(){setTimeout(n,600);}),e(t).on(Se.resize,i),i;},ve.unbindResize=function(n){e(t).off(Se.resize,n);},ve.attrValue=function(e,t){return e.data(ve.ns+t);},ve.days={Sunday:0,Monday:1,Tuesday:2,Wednesday:3,Thursday:4,Friday:5,Saturday:6},e.extend(e.expr[":"],{kendoFocusable:function kendoFocusable(t){var n=e.attr(t,"tabindex");return A(t,!isNaN(n)&&n>-1);}}),se=["mousedown","mousemove","mouseenter","mouseleave","mouseover","mouseout","mouseup","click"],le="label, input, [data-rel=external]",ce={setupMouseMute:function setupMouseMute(){var t,n=0,i=se.length,o=document.documentElement;if(!ce.mouseTrap&&Se.eventCapture)for(ce.mouseTrap=!0,ce.bustClick=!1,ce.captureMouse=!1,t=function t(_t2){ce.captureMouse&&("click"===_t2.type?ce.bustClick&&!e(_t2.target).is(le)&&(_t2.preventDefault(),_t2.stopPropagation()):_t2.stopPropagation());};i>n;n++){o.addEventListener(se[n],t,!0);}},muteMouse:function muteMouse(e){ce.captureMouse=!0,e.data.bustClick&&(ce.bustClick=!0),clearTimeout(ce.mouseTrapTimeoutID);},unMuteMouse:function unMuteMouse(){clearTimeout(ce.mouseTrapTimeoutID),ce.mouseTrapTimeoutID=setTimeout(function(){ce.captureMouse=!1,ce.bustClick=!1;},400);}},de={down:"touchstart mousedown",move:"mousemove touchmove",up:"mouseup touchend touchcancel",cancel:"mouseleave touchcancel"},Se.touch&&(Se.mobileOS.ios||Se.mobileOS.android)?de={down:"touchstart",move:"touchmove",up:"touchend touchcancel",cancel:"touchcancel"}:Se.pointers?de={down:"pointerdown",move:"pointermove",up:"pointerup",cancel:"pointercancel pointerleave"}:Se.msPointers&&(de={down:"MSPointerDown",move:"MSPointerMove",up:"MSPointerUp",cancel:"MSPointerCancel MSPointerLeave"}),!Se.msPointers||"onmspointerenter"in t||e.each({MSPointerEnter:"MSPointerOver",MSPointerLeave:"MSPointerOut"},function(t,n){e.event.special[t]={delegateType:n,bindType:n,handle:function handle(t){var i,o=this,r=t.relatedTarget,a=t.handleObj;return r&&(r===o||e.contains(o,r))||(t.type=a.origType,i=a.handler.apply(this,arguments),t.type=n),i;}};}),ue=function ue(e){return de[e]||e;},he=/([^ ]+)/g,ve.applyEventMap=function(e,t){return e=e.replace(he,ue),t&&(e=e.replace(he,"$1."+t)),e;},fe=e.fn.on,_e(!0,R,e),R.fn=R.prototype=new e(),R.fn.constructor=R,R.fn.init=function(t,n){return n&&n instanceof e&&!(n instanceof R)&&(n=R(n)),e.fn.init.call(this,t,n,pe);},R.fn.init.prototype=R.fn,pe=R(document),_e(R.fn,{handler:function handler(e){return this.data("handler",e),this;},autoApplyNS:function autoApplyNS(e){return this.data("kendoNS",e||ve.guid()),this;},on:function on(){var e,t,n,i,o,r,a=this,s=a.data("kendoNS");return 1===arguments.length?fe.call(a,arguments[0]):(e=a,t=Ne.call(arguments),_typeof(t[t.length-1])===Be&&t.pop(),n=t[t.length-1],i=ve.applyEventMap(t[0],s),Se.mouseAndTouchPresent&&i.search(/mouse|click/)>-1&&this[0]!==document.documentElement&&(ce.setupMouseMute(),o=2===t.length?null:t[1],r=i.indexOf("click")>-1&&i.indexOf("touchend")>-1,fe.call(this,{touchstart:ce.muteMouse,touchend:ce.unMuteMouse},o,{bustClick:r})),(typeof n==="undefined"?"undefined":_typeof(n))===Ie&&(e=a.data("handler"),n=e[n],t[t.length-1]=function(t){n.call(e,t);}),t[0]=i,fe.apply(a,t),a);},kendoDestroy:function kendoDestroy(e){return e=e||this.data("kendoNS"),e&&this.off("."+e),this;}}),ve.jQuery=R,ve.eventMap=de,ve.timezone=function(){function e(e,t){var n,i,o,r=t[3],a=t[4],s=t[5],l=t[8];return l||(t[8]=l={}),l[e]?l[e]:(isNaN(a)?0===a.indexOf("last")?(n=new Date(Date.UTC(e,d[r]+1,1,s[0]-24,s[1],s[2],0)),i=u[a.substr(4,3)],o=n.getUTCDay(),n.setUTCDate(n.getUTCDate()+i-o-(i>o?7:0))):a.indexOf(">=")>=0&&(n=new Date(Date.UTC(e,d[r],a.substr(5),s[0],s[1],s[2],0)),i=u[a.substr(0,3)],o=n.getUTCDay(),n.setUTCDate(n.getUTCDate()+i-o+(o>i?7:0))):n=new Date(Date.UTC(e,d[r],a,s[0],s[1],s[2],0)),l[e]=n);}function t(t,n,i){var o,r,a,s;return(n=n[i])?(a=new Date(t).getUTCFullYear(),n=jQuery.grep(n,function(e){var t=e[0],n=e[1];return a>=t&&(n>=a||t==a&&"only"==n||"max"==n);}),n.push(t),n.sort(function(t,n){return"number"!=typeof t&&(t=+e(a,t)),"number"!=typeof n&&(n=+e(a,n)),t-n;}),s=n[jQuery.inArray(t,n)-1]||n[n.length-1],isNaN(s)?s:null):(o=i.split(":"),r=0,o.length>1&&(r=60*o[0]+ +o[1]),[-1e6,"max","-","Jan",1,[0,0,0],r,"-"]);}function n(e,t,n){var i,o,r,a=t[n];if("string"==typeof a&&(a=t[a]),!a)throw Error('Timezone "'+n+'" is either incorrect, or kendo.timezones.min.js is not included.');for(i=a.length-1;i>=0&&(o=a[i][3],!(o&&e>o));i--){}if(r=a[i+1],!r)throw Error('Timezone "'+n+'" not found on '+e+".");return r;}function i(e,i,o,r){(typeof e==="undefined"?"undefined":_typeof(e))!=Fe&&(e=Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));var a=n(e,i,r);return{zone:a,rule:t(e,o,a[1])};}function o(e,t){var n,o,r;return"Etc/UTC"==t||"Etc/GMT"==t?0:(n=i(e,this.zones,this.rules,t),o=n.zone,r=n.rule,ve.parseFloat(r?o[0]-r[6]:o[0]));}function r(e,t){var n=i(e,this.zones,this.rules,t),o=n.zone,r=n.rule,a=o[2];return a.indexOf("/")>=0?a.split("/")[r&&+r[6]?1:0]:a.indexOf("%s")>=0?a.replace("%s",r&&"-"!=r[7]?r[7]:""):a;}function a(e,t,n){var i,o;return(typeof t==="undefined"?"undefined":_typeof(t))==Ie&&(t=this.offset(e,t)),(typeof n==="undefined"?"undefined":_typeof(n))==Ie&&(n=this.offset(e,n)),i=e.getTimezoneOffset(),e=new Date(e.getTime()+6e4*(t-n)),o=e.getTimezoneOffset(),new Date(e.getTime()+6e4*(o-i));}function s(e,t){return this.convert(e,e.getTimezoneOffset(),t);}function l(e,t){return this.convert(e,t,e.getTimezoneOffset());}function c(e){return this.apply(new Date(e),"Etc/UTC");}var d={Jan:0,Feb:1,Mar:2,Apr:3,May:4,Jun:5,Jul:6,Aug:7,Sep:8,Oct:9,Nov:10,Dec:11},u={Sun:0,Mon:1,Tue:2,Wed:3,Thu:4,Fri:5,Sat:6};return{zones:{},rules:{},offset:o,convert:a,apply:s,remove:l,abbr:r,toLocalDate:c};}(),ve.date=function(){function e(e,t){return 0===t&&23===e.getHours()?(e.setHours(e.getHours()+2),!0):!1;}function t(t,n,i){var o=t.getHours();i=i||1,n=(n-t.getDay()+7*i)%7,t.setDate(t.getDate()+n),e(t,o);}function n(e,n,i){return e=new Date(e),t(e,n,i),e;}function i(e){return new Date(e.getFullYear(),e.getMonth(),1);}function o(e){var t=new Date(e.getFullYear(),e.getMonth()+1,0),n=i(e),o=Math.abs(t.getTimezoneOffset()-n.getTimezoneOffset());return o&&t.setHours(n.getHours()+o/60),t;}function r(t){return t=new Date(t.getFullYear(),t.getMonth(),t.getDate(),0,0,0),e(t,0),t;}function a(e){return Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds());}function s(e){return e.getTime()-r(e);}function l(e,t,n){var i,o=s(t),r=s(n);return e&&o!=r?(t>=n&&(n+=v),i=s(e),o>i&&(i+=v),o>r&&(r+=v),i>=o&&r>=i):!0;}function c(e,t,n){var i,o=t.getTime(),r=n.getTime();return o>=r&&(r+=v),i=e.getTime(),i>=o&&r>=i;}function d(t,n){var i=t.getHours();return t=new Date(t),u(t,n*v),e(t,i),t;}function u(e,t,n){var i,o=e.getTimezoneOffset();e.setTime(e.getTime()+t),n||(i=e.getTimezoneOffset()-o,e.setTime(e.getTime()+i*g));}function h(t,n){return t=new Date(ve.date.getDate(t).getTime()+ve.date.getMilliseconds(n)),e(t,n.getHours()),t;}function f(){return r(new Date());}function p(e){return r(e).getTime()==f().getTime();}function m(e){var t=new Date(1980,1,1,0,0,0);return e&&t.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),t;}var g=6e4,v=864e5;return{adjustDST:e,dayOfWeek:n,setDayOfWeek:t,getDate:r,isInDateRange:c,isInTimeRange:l,isToday:p,nextDay:function nextDay(e){return d(e,1);},previousDay:function previousDay(e){return d(e,-1);},toUtcTime:a,MS_PER_DAY:v,MS_PER_HOUR:60*g,MS_PER_MINUTE:g,setTime:u,setHours:h,addDays:d,today:f,toInvariantTime:m,firstDayOfMonth:i,lastDayOfMonth:o,getMilliseconds:s};}(),ve.stripWhitespace=function(e){var t,n,i;if(document.createNodeIterator)for(t=document.createNodeIterator(e,NodeFilter.SHOW_TEXT,function(t){return t.parentNode==e?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT;},!1);t.nextNode();){t.referenceNode&&!t.referenceNode.textContent.trim()&&t.referenceNode.parentNode.removeChild(t.referenceNode);}else for(n=0;e.childNodes.length>n;n++){i=e.childNodes[n],3!=i.nodeType||/\S/.test(i.nodeValue)||(e.removeChild(i),n--),1==i.nodeType&&ve.stripWhitespace(i);}},me=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,1e3/60);},ve.animationFrame=function(e){me.call(t,e);},ge=[],ve.queueAnimation=function(e){ge[ge.length]=e,1===ge.length&&ve.runNextAnimation();},ve.runNextAnimation=function(){ve.animationFrame(function(){ge[0]&&(ge.shift()(),ge[0]&&ve.runNextAnimation());});},ve.parseQueryStringParams=function(e){for(var t=e.split("?")[1]||"",n={},i=t.split(/&|=/),o=i.length,r=0;o>r;r+=2){""!==i[r]&&(n[decodeURIComponent(i[r])]=decodeURIComponent(i[r+1]));}return n;},ve.elementUnderCursor=function(e){return n!==e.x.client?document.elementFromPoint(e.x.client,e.y.client):n;},ve.wheelDeltaY=function(e){var t,i=e.originalEvent,o=i.wheelDeltaY;return i.wheelDelta?(o===n||o)&&(t=i.wheelDelta):i.detail&&i.axis===i.VERTICAL_AXIS&&(t=10*-i.detail),t;},ve.throttle=function(e,t){var i,o,r=0;return!t||0>=t?e:(o=function o(){function o(){e.apply(a,l),r=+new Date();}var a=this,s=+new Date()-r,l=arguments;return r?(i&&clearTimeout(i),s>t?o():i=setTimeout(o,t-s),n):o();},o.cancel=function(){clearTimeout(i);},o);},ve.caret=function(t,i,o){var r,a,s,l,c=i!==n;if(o===n&&(o=i),t[0]&&(t=t[0]),!c||!t.disabled){try{t.selectionStart!==n?c?(t.focus(),t.setSelectionRange(i,o)):i=[t.selectionStart,t.selectionEnd]:document.selection&&(e(t).is(":visible")&&t.focus(),r=t.createTextRange(),c?(r.collapse(!0),r.moveStart("character",i),r.moveEnd("character",o-i),r.select()):(a=r.duplicate(),r.moveToBookmark(document.selection.createRange().getBookmark()),a.setEndPoint("EndToStart",r),s=a.text.length,l=s+r.text.length,i=[s,l]));}catch(d){i=[];}return i;}},ve.compileMobileDirective=function(e,n){var i=t.angular;return e.attr("data-"+ve.ns+"role",e[0].tagName.toLowerCase().replace("kendo-mobile-","").replace("-","")),i.element(e).injector().invoke(["$compile",function(t){t(e)(n),/^\$(digest|apply)$/.test(n.$$phase)||n.$digest();}]),ve.widgetInstance(e,ve.mobile.ui);},ve.antiForgeryTokens=function(){var t={},i=e("meta[name=csrf-token],meta[name=_csrf]").attr("content"),o=e("meta[name=csrf-param],meta[name=_csrf_header]").attr("content");return e("input[name^='__RequestVerificationToken']").each(function(){t[this.name]=this.value;}),o!==n&&i!==n&&(t[o]=i),t;},ve.cycleForm=function(e){function t(e){var t=ve.widgetInstance(e);t&&t.focus?t.focus():e.focus();}var n=e.find("input, .k-widget").first(),i=e.find("button, .k-button").last();i.on("keydown",function(e){e.keyCode!=ve.keys.TAB||e.shiftKey||(e.preventDefault(),t(n));}),n.on("keydown",function(e){e.keyCode==ve.keys.TAB&&e.shiftKey&&(e.preventDefault(),t(i));});},function(){function n(t,n,i,o){var r,a,s=e("<form>").attr({action:i,method:"POST",target:o}),l=ve.antiForgeryTokens();l.fileName=n,r=t.split(";base64,"),l.contentType=r[0].replace("data:",""),l.base64=r[1];for(a in l){l.hasOwnProperty(a)&&e("<input>").attr({value:l[a],name:a,type:"hidden"}).appendTo(s);}s.appendTo("body").submit().remove();}function i(e,t){var n,i,o,r,a,s=e;if("string"==typeof e){for(n=e.split(";base64,"),i=n[0],o=atob(n[1]),r=new Uint8Array(o.length),a=0;o.length>a;a++){r[a]=o.charCodeAt(a);}s=new Blob([r.buffer],{type:i});}navigator.msSaveBlob(s,t);}function o(e,n){t.Blob&&e instanceof Blob&&(e=URL.createObjectURL(e)),r.download=n,r.href=e;var i=document.createEvent("MouseEvents");i.initMouseEvent("click",!0,!1,t,0,0,0,0,0,!1,!1,!1,!1,0,null),r.dispatchEvent(i),setTimeout(function(){URL.revokeObjectURL(e);});}var r=document.createElement("a"),a="download"in r&&!ve.support.browser.edge;ve.saveAs=function(e){var t=n;e.forceProxy||(a?t=o:navigator.msSaveBlob&&(t=i)),t(e.dataURI,e.fileName,e.proxyURL,e.proxyTarget);};}(),ve.proxyModelSetters=function(e){var t={};return Object.keys(e||{}).forEach(function(n){Object.defineProperty(t,n,{get:function get(){return e[n];},set:function set(t){e[n]=t,e.dirty=!0;}});}),t;};}(jQuery,window),window.kendo;},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("kendo.router.min",["kendo.core.min"],e);}(function(){return function(e,t){function n(e,t){if(!t)return e;e+"/"===t&&(e=t);var n=RegExp("^"+t,"i");return n.test(e)||(e=t+"/"+e),f.protocol+"//"+(f.host+"/"+e).replace(/\/\/+/g,"/");}function i(e){return e?"#!":"#";}function o(e){var t=f.href;return"#!"===e&&t.indexOf("#")>-1&&t.indexOf("#!")<0?null:t.split(e)[1]||"";}function r(e,t){return 0===t.indexOf(e)?t.substr(e.length).replace(/\/\//g,"/"):t;}function a(e){return e.replace(/^(#)?/,"#");}function s(e){return e.replace(/^(#(!)?)?/,"#!");}var l=window.kendo,c="change",d="back",u="same",h=l.support,f=window.location,p=window.history,m=50,g=l.support.browser.msie,v=/^#*/,_=window.document,b=l.Class.extend({back:function back(){g?setTimeout(function(){p.back();}):p.back();},forward:function forward(){g?setTimeout(function(){p.forward();}):p.forward();},length:function length(){return p.length;},replaceLocation:function replaceLocation(e){f.replace(e);}}),w=b.extend({init:function init(e){this.root=e;},navigate:function navigate(e){p.pushState({},_.title,n(e,this.root));},replace:function replace(e){p.replaceState({},_.title,n(e,this.root));},normalize:function normalize(e){return r(this.root,e);},current:function current(){var e=f.pathname;return f.search&&(e+=f.search),r(this.root,e);},change:function change(t){e(window).bind("popstate.kendo",t);},stop:function stop(){e(window).unbind("popstate.kendo");},normalizeCurrent:function normalizeCurrent(e){var t,r=e.root,a=f.pathname,s=o(i(e.hashBang));r===a+"/"&&(t=r),r===a&&s&&(t=n(s.replace(v,""),r)),t&&p.pushState({},_.title,t);}}),y=b.extend({init:function init(e){this._id=l.guid(),this.prefix=i(e),this.fix=e?s:a;},navigate:function navigate(e){f.hash=this.fix(e);},replace:function replace(e){this.replaceLocation(this.fix(e));},normalize:function normalize(e){return e.indexOf(this.prefix)<0?e:e.split(this.prefix)[1];},change:function change(t){h.hashChange?e(window).on("hashchange."+this._id,t):this._interval=setInterval(t,m);},stop:function stop(){e(window).off("hashchange."+this._id),clearInterval(this._interval);},current:function current(){return o(this.prefix);},normalizeCurrent:function normalizeCurrent(e){var t=f.pathname,n=e.root;return e.pushState&&n!==t?(this.replaceLocation(n+this.prefix+r(n,t)),!0):!1;}}),k=l.Observable.extend({start:function start(t){if(t=t||{},this.bind([c,d,u],t),!this._started){this._started=!0,t.root=t.root||"/";var n,i=this.createAdapter(t);i.normalizeCurrent(t)||(n=i.current(),e.extend(this,{adapter:i,root:t.root,historyLength:i.length(),current:n,locations:[n]}),i.change(e.proxy(this,"_checkUrl")));}},createAdapter:function createAdapter(e){return h.pushState&&e.pushState?new w(e.root):new y(e.hashBang);},stop:function stop(){this._started&&(this.adapter.stop(),this.unbind(c),this._started=!1);},change:function change(e){this.bind(c,e);},replace:function replace(e,t){this._navigate(e,t,function(t){t.replace(e),this.locations[this.locations.length-1]=this.current;});},navigate:function navigate(e,n){return"#:back"===e?(this.backCalled=!0,this.adapter.back(),t):(this._navigate(e,n,function(t){t.navigate(e),this.locations.push(this.current);}),t);},_navigate:function _navigate(e,n,i){var o=this.adapter;return e=o.normalize(e),this.current===e||this.current===decodeURIComponent(e)?(this.trigger(u),t):(!n&&this.trigger(c,{url:e,decode:!1})||(this.current=e,i.call(this,o),this.historyLength=o.length()),t);},_checkUrl:function _checkUrl(){var e=this.adapter,n=e.current(),i=e.length(),o=this.historyLength===i,r=n===this.locations[this.locations.length-2]&&o,a=this.backCalled,s=this.current;return null===n||this.current===n||this.current===decodeURIComponent(n)?!0:(this.historyLength=i,this.backCalled=!1,this.current=n,r&&this.trigger("back",{url:s,to:n})?(e.forward(),this.current=s,t):this.trigger(c,{url:n,backButtonPressed:!a})?(r?e.forward():(e.back(),this.historyLength--),this.current=s,t):(r?this.locations.pop():this.locations.push(n),t));}});l.History=k,l.History.HistoryAdapter=b,l.History.HashAdapter=y,l.History.PushStateAdapter=w,l.absoluteURL=n,l.history=new k();}(window.kendo.jQuery),function(){function e(e,t){return t?e:"([^/]+)";}function t(t,n){return RegExp("^"+t.replace(p,"\\$&").replace(u,"(?:$1)?").replace(h,e).replace(f,"(.*?)")+"$",n?"i":"");}function n(e){return e.replace(/(\?.*)|(#.*)/g,"");}var i=window.kendo,o=i.history,r=i.Observable,a="init",s="routeMissing",l="change",c="back",d="same",u=/\((.*?)\)/g,h=/(\(\?)?:\w+/g,f=/\*\w+/g,p=/[\-{}\[\]+?.,\\\^$|#\s]/g,m=i.Class.extend({init:function init(e,n,i){e instanceof RegExp||(e=t(e,i)),this.route=e,this._callback=n;},callback:function callback(e,t,o){var r,a,s=0,l=i.parseQueryStringParams(e);if(l._back=t,e=n(e),r=this.route.exec(e).slice(1),a=r.length,o)for(;a>s;s++){void 0!==r[s]&&(r[s]=decodeURIComponent(r[s]));}r.push(l),this._callback.apply(null,r);},worksWith:function worksWith(e,t,i){return this.route.test(n(e))?(this.callback(e,t,i),!0):!1;}}),g=r.extend({init:function init(e){e||(e={}),r.fn.init.call(this),this.routes=[],this.pushState=e.pushState,this.hashBang=e.hashBang,this.root=e.root,this.ignoreCase=e.ignoreCase!==!1,this.bind([a,s,l,d],e);},destroy:function destroy(){o.unbind(l,this._urlChangedProxy),o.unbind(d,this._sameProxy),o.unbind(c,this._backProxy),this.unbind();},start:function start(){var e,t=this,n=function n(){t._same();},i=function i(e){t._back(e);},r=function r(e){t._urlChanged(e);};o.start({same:n,change:r,back:i,pushState:t.pushState,hashBang:t.hashBang,root:t.root}),e={url:o.current||"/",preventDefault:$.noop},t.trigger(a,e)||t._urlChanged(e),this._urlChangedProxy=r,this._backProxy=i;},route:function route(e,t){this.routes.push(new m(e,t,this.ignoreCase));},navigate:function navigate(e,t){i.history.navigate(e,t);},replace:function replace(e,t){i.history.replace(e,t);},_back:function _back(e){this.trigger(c,{url:e.url,to:e.to})&&e.preventDefault();},_same:function _same(){this.trigger(d);},_urlChanged:function _urlChanged(e){var t,n,o,r,a=e.url,c=void 0===e.decode,d=e.backButtonPressed;if(a||(a="/"),this.trigger(l,{url:e.url,params:i.parseQueryStringParams(e.url),backButtonPressed:d}))return void e.preventDefault();for(t=0,n=this.routes,r=n.length;r>t;t++){if(o=n[t],o.worksWith(a,d,c))return;}this.trigger(s,{url:a,params:i.parseQueryStringParams(a),backButtonPressed:d})&&e.preventDefault();}});i.Router=g;}(),window.kendo;},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("kendo.data.odata.min",["kendo.core.min"],e);}(function(){return function(e,t){function n(i,r){var l,c,d,u,h,f,p,m,g=[],v=i.logic||"and",_=i.filters;for(l=0,c=_.length;c>l;l++){i=_[l],d=i.field,p=i.value,f=i.operator,i.filters?i=n(i,r):(m=i.ignoreCase,d=d.replace(/\./g,"/"),i=a[f],r&&(i=s[f]),"isnull"===f||"isnotnull"===f?i=o.format("{0} {1} null",d,i):"isempty"===f||"isnotempty"===f?i=o.format("{0} {1} ''",d,i):i&&p!==t&&(u=e.type(p),"string"===u?(h="'{1}'",p=p.replace(/'/g,"''"),m===!0&&(d="tolower("+d+")")):h="date"===u?r?"{1:yyyy-MM-ddTHH:mm:ss+00:00}":"datetime'{1:yyyy-MM-ddTHH:mm:ss}'":"{1}",i.length>3?"substringof"!==i?h="{0}({2},"+h+")":(h="{0}("+h+",{2})","doesnotcontain"===f&&(r?(h="{0}({2},'{1}') eq -1",i="indexof"):h+=" eq false")):h="{2} {0} "+h,i=o.format(h,i,p,d))),g.push(i);}return i=g.join(" "+v+" "),g.length>1&&(i="("+i+")"),i;}function i(e){for(var t in e){0===t.indexOf("@odata")&&delete e[t];}}var o=window.kendo,r=e.extend,a={eq:"eq",neq:"ne",gt:"gt",gte:"ge",lt:"lt",lte:"le",contains:"substringof",doesnotcontain:"substringof",endswith:"endswith",startswith:"startswith",isnull:"eq",isnotnull:"ne",isempty:"eq",isnotempty:"ne"},s=r({},a,{contains:"contains"}),l={pageSize:e.noop,page:e.noop,filter:function filter(e,t,i){t&&(t=n(t,i),t&&(e.$filter=t));},sort:function sort(t,n){var i=e.map(n,function(e){var t=e.field.replace(/\./g,"/");return"desc"===e.dir&&(t+=" desc"),t;}).join(",");i&&(t.$orderby=i);},skip:function skip(e,t){t&&(e.$skip=t);},take:function take(e,t){t&&(e.$top=t);}},c={read:{dataType:"jsonp"}};r(!0,o.data,{schemas:{odata:{type:"json",data:function data(e){return e.d.results||[e.d];},total:"d.__count"}},transports:{odata:{read:{cache:!0,dataType:"jsonp",jsonp:"$callback"},update:{cache:!0,dataType:"json",contentType:"application/json",type:"PUT"},create:{cache:!0,dataType:"json",contentType:"application/json",type:"POST"},destroy:{cache:!0,dataType:"json",type:"DELETE"},parameterMap:function parameterMap(e,t,n){var i,r,a,s;if(e=e||{},t=t||"read",s=(this.options||c)[t],s=s?s.dataType:"json","read"===t){i={$inlinecount:"allpages"},"json"!=s&&(i.$format="json");for(a in e){l[a]?l[a](i,e[a],n):i[a]=e[a];}}else{if("json"!==s)throw Error("Only json dataType can be used for "+t+" operation.");if("destroy"!==t){for(a in e){r=e[a],"number"==typeof r&&(e[a]=r+"");}i=o.stringify(e);}}return i;}}}}),r(!0,o.data,{schemas:{"odata-v4":{type:"json",data:function data(t){return t=e.extend({},t),i(t),t.value?t.value:[t];},total:function total(e){return e["@odata.count"];}}},transports:{"odata-v4":{read:{cache:!0,dataType:"json"},update:{cache:!0,dataType:"json",contentType:"application/json;IEEE754Compatible=true",type:"PUT"},create:{cache:!0,dataType:"json",contentType:"application/json;IEEE754Compatible=true",type:"POST"},destroy:{cache:!0,dataType:"json",type:"DELETE"},parameterMap:function parameterMap(e,t){var n=o.data.transports.odata.parameterMap(e,t,!0);return"read"==t&&(n.$count=!0,delete n.$inlinecount),n;}}}});}(window.kendo.jQuery),window.kendo;},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("kendo.data.xml.min",["kendo.core.min"],e);}(function(){return function(e,t){var n=window.kendo,i=e.isArray,o=e.isPlainObject,r=e.map,a=e.each,s=e.extend,l=n.getter,c=n.Class,d=c.extend({init:function init(t){var l,c,d,u,h=this,f=t.total,p=t.model,m=t.parse,g=t.errors,v=t.serialize,_=t.data;p&&(o(p)&&(l=t.modelBase||n.data.Model,p.fields&&a(p.fields,function(t,n){o(n)&&n.field?e.isFunction(n.field)||(n=s(n,{field:h.getter(n.field)})):n={field:h.getter(n)},p.fields[t]=n;}),c=p.id,c&&(d={},d[h.xpathToMember(c,!0)]={field:h.getter(c)},p.fields=s(d,p.fields),p.id=h.xpathToMember(c)),p=l.define(p)),h.model=p),f&&("string"==typeof f?(f=h.getter(f),h.total=function(e){return parseInt(f(e),10);}):"function"==typeof f&&(h.total=f)),g&&("string"==typeof g?(g=h.getter(g),h.errors=function(e){return g(e)||null;}):"function"==typeof g&&(h.errors=g)),_&&("string"==typeof _?(_=h.xpathToMember(_),h.data=function(e){var t,n=h.evaluate(e,_);return n=i(n)?n:[n],h.model&&p.fields?(t=new h.model(),r(n,function(e){if(e){var n,i={};for(n in p.fields){i[n]=t._parse(n,p.fields[n].field(e));}return i;}})):n;}):"function"==typeof _&&(h.data=_)),"function"==typeof m&&(u=h.parse,h.parse=function(e){var t=m.call(h,e);return u.call(h,t);}),"function"==typeof v&&(h.serialize=v);},total:function total(e){return this.data(e).length;},errors:function errors(e){return e?e.errors:null;},serialize:function serialize(e){return e;},parseDOM:function parseDOM(e){var n,o,r,a,s,l,c,d={},u=e.attributes,h=u.length;for(c=0;h>c;c++){l=u[c],d["@"+l.nodeName]=l.nodeValue;}for(o=e.firstChild;o;o=o.nextSibling){r=o.nodeType,3===r||4===r?d["#text"]=o.nodeValue:1===r&&(n=this.parseDOM(o),a=o.nodeName,s=d[a],i(s)?s.push(n):s=s!==t?[s,n]:n,d[a]=s);}return d;},evaluate:function evaluate(e,t){for(var n,o,r,a,s,l=t.split(".");n=l.shift();){if(e=e[n],i(e)){for(o=[],t=l.join("."),s=0,r=e.length;r>s;s++){a=this.evaluate(e[s],t),a=i(a)?a:[a],o.push.apply(o,a);}return o;}}return e;},parse:function parse(t){var n,i,o={};return n=t.documentElement||e.parseXML(t).documentElement,i=this.parseDOM(n),o[n.nodeName]=i,o;},xpathToMember:function xpathToMember(e,t){return e?(e=e.replace(/^\//,"").replace(/\//g,"."),e.indexOf("@")>=0?e.replace(/\.?(@.*)/,t?"$1":'["$1"]'):e.indexOf("text()")>=0?e.replace(/(\.?text\(\))/,t?"#text":'["#text"]'):e):"";},getter:function getter(e){return l(this.xpathToMember(e),!0);}});e.extend(!0,n.data,{XmlDataReader:d,readers:{xml:d}});}(window.kendo.jQuery),window.kendo;},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("kendo.data.min",["kendo.core.min","kendo.data.odata.min","kendo.data.xml.min"],e);}(function(){return function(e,t){function n(e,t,n,i){return function(o){var r,a={};for(r in o){a[r]=o[r];}a.field=i?n+"."+o.field:n,t==Ae&&e._notifyChange&&e._notifyChange(a),e.trigger(t,a);};}function i(t,n){if(t===n)return!0;var o,r=e.type(t),a=e.type(n);if(r!==a)return!1;if("date"===r)return t.getTime()===n.getTime();if("object"!==r&&"array"!==r)return!1;for(o in t){if(!i(t[o],n[o]))return!1;}return!0;}function o(e,t){var n,i;for(i in e){if(n=e[i],ue(n)&&n.field&&n.field===t)return n;if(n===t)return n;}return null;}function r(e){this.data=e||[];}function a(e,n){if(e){var i=(typeof e==="undefined"?"undefined":_typeof(e))===ke?{field:e,dir:n}:e,o=fe(i)?i:i!==t?[i]:[];return pe(o,function(e){return!!e.dir;});}}function s(e){var t,n,i,o,r=e.filters;if(r)for(t=0,n=r.length;n>t;t++){i=r[t],o=i.operator,o&&(typeof o==="undefined"?"undefined":_typeof(o))===ke&&(i.operator=X[o.toLowerCase()]||o),s(i);}}function l(e){return e&&!he(e)?(!fe(e)&&e.filters||(e={logic:"and",filters:fe(e)?e:[e]}),s(e),e):t;}function c(e,t){return e.logic||t.logic?!1:e.field===t.field&&e.value===t.value&&e.operator===t.operator;}function d(e){return e=e||{},he(e)?{logic:"and",filters:[]}:l(e);}function u(e,t){return t.logic||e.field>t.field?1:t.field>e.field?-1:0;}function h(e,t){var n,i,o,r,a;if(e=d(e),t=d(t),e.logic!==t.logic)return!1;if(o=(e.filters||[]).slice(),r=(t.filters||[]).slice(),o.length!==r.length)return!1;for(o=o.sort(u),r=r.sort(u),a=0;o.length>a;a++){if(n=o[a],i=r[a],n.logic&&i.logic){if(!h(n,i))return!1;}else if(!c(n,i))return!1;}return!0;}function f(e){return fe(e)?e:[e];}function p(e,n){var i=(typeof e==="undefined"?"undefined":_typeof(e))===ke?{field:e,dir:n}:e,o=fe(i)?i:i!==t?[i]:[];return U(o,function(e){return{field:e.field,dir:e.dir||"asc",aggregates:e.aggregates};});}function m(e,t){return e&&e.getTime&&t&&t.getTime?e.getTime()===t.getTime():e===t;}function g(e,t,n,i,o,r){var a,s,l,c,d;for(t=t||[],c=t.length,a=0;c>a;a++){s=t[a],l=s.aggregate,d=s.field,e[d]=e[d]||{},r[d]=r[d]||{},r[d][l]=r[d][l]||{},e[d][l]=J[l.toLowerCase()](e[d][l],n,_e.accessor(d),i,o,r[d][l]);}}function v(e){return"number"==typeof e&&!isNaN(e);}function _(e){return e&&e.getTime;}function b(e){var t,n=e.length,i=Array(n);for(t=0;n>t;t++){i[t]=e[t].toJSON();}return i;}function w(e,t,n,i,o){var r,a,s,l,c,d={};for(l=0,c=e.length;c>l;l++){r=e[l];for(a in t){s=o[a],s&&s!==a&&(d[s]||(d[s]=_e.setter(s)),d[s](r,t[a](r)),delete r[a]);}}}function y(e,t,n,i,o){var r,a,s,l,c;for(l=0,c=e.length;c>l;l++){r=e[l];for(a in t){r[a]=n._parse(a,t[a](r)),s=o[a],s&&s!==a&&delete r[s];}}}function k(e,t,n,i,o){var r,a,s,l;for(a=0,l=e.length;l>a;a++){r=e[a],s=i[r.field],s&&s!=r.field&&(r.field=s),r.value=n._parse(r.field,r.value),r.hasSubgroups?k(r.items,t,n,i,o):y(r.items,t,n,i,o);}}function x(e,t,n,i,o,r){return function(a){return a=e(a),a&&!he(i)&&("[object Array]"===$e.call(a)||a instanceof Je||(a=[a]),n(a,i,new t(),o,r)),a||[];};}function C(e,t,n,i){for(var o,r,a,s=0;t.length&&i&&(o=t[s],r=o.items,a=r.length,e&&e.field===o.field&&e.value===o.value?(e.hasSubgroups&&e.items.length?C(e.items[e.items.length-1],o.items,n,i):(r=r.slice(n,n+i),e.items=e.items.concat(r)),t.splice(s--,1)):o.hasSubgroups&&r.length?(C(o,r,n,i),o.items.length||t.splice(s--,1)):(r=r.slice(n,n+i),o.items=r,o.items.length||t.splice(s--,1)),0===r.length?n-=a:(n=0,i-=r.length),!(++s>=t.length));){}t.length>s&&t.splice(s,t.length-s);}function S(e){var t,n,i,o,r,a=[];for(t=0,n=e.length;n>t;t++){if(r=e.at(t),r.hasSubgroups)a=a.concat(S(r.items));else for(i=r.items,o=0;i.length>o;o++){a.push(i.at(o));}}return a;}function T(e,t){var n,i,o;if(t)for(n=0,i=e.length;i>n;n++){o=e.at(n),o.hasSubgroups?T(o.items,t):o.items=new W(o.items,t);}}function D(e,t){for(var n=0,i=e.length;i>n;n++){if(e[n].hasSubgroups){if(D(e[n].items,t))return!0;}else if(t(e[n].items,e[n]))return!0;}}function A(e,t,n,i){for(var o=0;e.length>o&&e[o].data!==t&&!E(e[o].data,n,i);o++){}}function E(e,t,n){for(var i=0,o=e.length;o>i;i++){if(e[i]&&e[i].hasSubgroups)return E(e[i].items,t,n);if(e[i]===t||e[i]===n)return e[i]=n,!0;}}function R(e,n,i,o,r){var a,s,l,c;for(a=0,s=e.length;s>a;a++){if(l=e[a],l&&!(l instanceof o))if(l.hasSubgroups===t||r){for(c=0;n.length>c;c++){if(n[c]===l){e[a]=n.at(c),A(i,n,l,e[a]);break;}}}else R(l.items,n,i,o,r);}}function I(e,t){var n,i,o;for(n=0,i=e.length;i>n;n++){if(o=e.at(n),o.uid==t.uid)return e.splice(n,1),o;}}function F(e,t){return t?P(e,function(e){return e.uid&&e.uid==t.uid||e[t.idField]===t.id&&t.id!==t._defaultId;}):-1;}function M(e,t){return t?P(e,function(e){return e.uid==t.uid;}):-1;}function P(e,t){var n,i;for(n=0,i=e.length;i>n;n++){if(t(e[n]))return n;}return-1;}function z(e,t){var n,i;return e&&!he(e)?(n=e[t],i=ue(n)?n.from||n.field||t:e[t]||t,be(i)?t:i):t;}function B(e,t){var n,i,o,r={};for(o in e){"filters"!==o&&(r[o]=e[o]);}if(e.filters)for(r.filters=[],n=0,i=e.filters.length;i>n;n++){r.filters[n]=B(e.filters[n],t);}else r.field=z(t.fields,r.field);return r;}function L(e,t){var n,i,o,r,a,s=[];for(n=0,i=e.length;i>n;n++){o={},r=e[n];for(a in r){o[a]=r[a];}o.field=z(t.fields,o.field),o.aggregates&&fe(o.aggregates)&&(o.aggregates=L(o.aggregates,t)),s.push(o);}return s;}function H(t,n){var i,o,r,a,s,l,c,d,u,h;for(t=e(t)[0],i=t.options,o=n[0],r=n[1],a=[],s=0,l=i.length;l>s;s++){u={},d=i[s],c=d.parentNode,c===t&&(c=null),d.disabled||c&&c.disabled||(c&&(u.optgroup=c.label),u[o.field]=d.text,h=d.attributes.value,h=h&&h.specified?d.value:d.text,u[r.field]=h,a.push(u));}return a;}function N(t,n){var i,o,r,a,s,l,c,d=e(t)[0].tBodies[0],u=d?d.rows:[],h=n.length,f=[];for(i=0,o=u.length;o>i;i++){for(s={},c=!0,a=u[i].cells,r=0;h>r;r++){l=a[r],"th"!==l.nodeName.toLowerCase()&&(c=!1,s[n[r].field]=l.innerHTML);}c||f.push(s);}return f;}function O(e){return function(){var t=this._data,n=ie.fn[e].apply(this,qe.call(arguments));return this._data!=t&&this._attachBubbleHandlers(),n;};}function V(t,n){function i(e,t){return e.filter(t).add(e.find(t));}var o,r,a,s,l,c,d,u,h=e(t).children(),f=[],p=n[0].field,m=n[1]&&n[1].field,g=n[2]&&n[2].field,v=n[3]&&n[3].field;for(o=0,r=h.length;r>o;o++){a={_loaded:!0},s=h.eq(o),c=s[0].firstChild,u=s.children(),t=u.filter("ul"),u=u.filter(":not(ul)"),l=s.attr("data-id"),l&&(a.id=l),c&&(a[p]=3==c.nodeType?c.nodeValue:u.text()),m&&(a[m]=i(u,"a").attr("href")),v&&(a[v]=i(u,"img").attr("src")),g&&(d=i(u,".k-sprite").prop("className"),a[g]=d&&e.trim(d.replace("k-sprite",""))),t.length&&(a.items=V(t.eq(0),n)),"true"==s.attr("data-hasChildren")&&(a.hasChildren=!0),f.push(a);}return f;}var U,W,j,q,G,$,Y,K,Q,X,J,Z,ee,te,ne,ie,oe,re,ae,se,le,ce=e.extend,de=e.proxy,ue=e.isPlainObject,he=e.isEmptyObject,fe=e.isArray,pe=e.grep,me=e.ajax,ge=e.each,ve=e.noop,_e=window.kendo,be=_e.isFunction,we=_e.Observable,ye=_e.Class,ke="string",xe="function",Ce="create",Se="read",Te="update",De="destroy",Ae="change",Ee="sync",Re="get",Ie="error",Fe="requestStart",Me="progress",Pe="requestEnd",ze=[Ce,Se,Te,De],Be=function Be(e){return e;},Le=_e.getter,He=_e.stringify,Ne=Math,Oe=[].push,Ve=[].join,Ue=[].pop,We=[].splice,je=[].shift,qe=[].slice,Ge=[].unshift,$e={}.toString,Ye=_e.support.stableSort,Ke=/^\/Date\((.*?)\)\/$/,Qe=/(\r+|\n+)/g,Xe=/(?=['\\])/g,Je=we.extend({init:function init(e,t){var n=this;n.type=t||j,we.fn.init.call(n),n.length=e.length,n.wrapAll(e,n);},at:function at(e){return this[e];},toJSON:function toJSON(){var e,t,n=this.length,i=Array(n);for(e=0;n>e;e++){t=this[e],t instanceof j&&(t=t.toJSON()),i[e]=t;}return i;},parent:ve,wrapAll:function wrapAll(e,t){var n,i,o=this,r=function r(){return o;};for(t=t||[],n=0,i=e.length;i>n;n++){t[n]=o.wrap(e[n],r);}return t;},wrap:function wrap(e,t){var n,i=this;return null!==e&&"[object Object]"===$e.call(e)&&(n=e instanceof i.type||e instanceof $,n||(e=e instanceof j?e.toJSON():e,e=new i.type(e)),e.parent=t,e.bind(Ae,function(e){i.trigger(Ae,{field:e.field,node:e.node,index:e.index,items:e.items||[this],action:e.node?e.action||"itemloaded":"itemchange"});})),e;},push:function push(){var e,t=this.length,n=this.wrapAll(arguments);return e=Oe.apply(this,n),this.trigger(Ae,{action:"add",index:t,items:n}),e;},slice:qe,sort:[].sort,join:Ve,pop:function pop(){var e=this.length,t=Ue.apply(this);return e&&this.trigger(Ae,{action:"remove",index:e-1,items:[t]}),t;},splice:function splice(e,t,n){var i,o,r,a=this.wrapAll(qe.call(arguments,2));if(i=We.apply(this,[e,t].concat(a)),i.length)for(this.trigger(Ae,{action:"remove",index:e,items:i}),o=0,r=i.length;r>o;o++){i[o]&&i[o].children&&i[o].unbind(Ae);}return n&&this.trigger(Ae,{action:"add",index:e,items:a}),i;},shift:function shift(){var e=this.length,t=je.apply(this);return e&&this.trigger(Ae,{action:"remove",index:0,items:[t]}),t;},unshift:function unshift(){var e,t=this.wrapAll(arguments);return e=Ge.apply(this,t),this.trigger(Ae,{action:"add",index:0,items:t}),e;},indexOf:function indexOf(e){var t,n,i=this;for(t=0,n=i.length;n>t;t++){if(i[t]===e)return t;}return-1;},forEach:function forEach(e){for(var t=0,n=this.length;n>t;t++){e(this[t],t,this);}},map:function map(e){for(var t=0,n=[],i=this.length;i>t;t++){n[t]=e(this[t],t,this);}return n;},reduce:function reduce(e){var t,n=0,i=this.length;for(2==arguments.length?t=arguments[1]:i>n&&(t=this[n++]);i>n;n++){t=e(t,this[n],n,this);}return t;},reduceRight:function reduceRight(e){var t,n=this.length-1;for(2==arguments.length?t=arguments[1]:n>0&&(t=this[n--]);n>=0;n--){t=e(t,this[n],n,this);}return t;},filter:function filter(e){for(var t,n=0,i=[],o=this.length;o>n;n++){t=this[n],e(t,n,this)&&(i[i.length]=t);}return i;},find:function find(e){for(var t,n=0,i=this.length;i>n;n++){if(t=this[n],e(t,n,this))return t;}},every:function every(e){for(var t,n=0,i=this.length;i>n;n++){if(t=this[n],!e(t,n,this))return!1;}return!0;},some:function some(e){for(var t,n=0,i=this.length;i>n;n++){if(t=this[n],e(t,n,this))return!0;}return!1;},remove:function remove(e){var t=this.indexOf(e);-1!==t&&this.splice(t,1);},empty:function empty(){this.splice(0,this.length);}});"undefined"!=typeof Symbol&&Symbol.iterator&&!Je.prototype[Symbol.iterator]&&(Je.prototype[Symbol.iterator]=[][Symbol.iterator]),W=Je.extend({init:function init(e,t){we.fn.init.call(this),this.type=t||j;for(var n=0;e.length>n;n++){this[n]=e[n];}this.length=n,this._parent=de(function(){return this;},this);},at:function at(e){var t=this[e];return t instanceof this.type?t.parent=this._parent:t=this[e]=this.wrap(t,this._parent),t;}}),j=we.extend({init:function init(e){var t,n,i=this,o=function o(){return i;};we.fn.init.call(this),this._handlers={};for(n in e){t=e[n],"object"==(typeof t==="undefined"?"undefined":_typeof(t))&&t&&!t.getTime&&"_"!=n.charAt(0)&&(t=i.wrap(t,n,o)),i[n]=t;}i.uid=_e.guid();},shouldSerialize:function shouldSerialize(e){return this.hasOwnProperty(e)&&"_handlers"!==e&&"_events"!==e&&_typeof(this[e])!==xe&&"uid"!==e;},forEach:function forEach(e){for(var t in this){this.shouldSerialize(t)&&e(this[t],t);}},toJSON:function toJSON(){var e,t,n={};for(t in this){this.shouldSerialize(t)&&(e=this[t],(e instanceof j||e instanceof Je)&&(e=e.toJSON()),n[t]=e);}return n;},get:function get(e){var t,n=this;return n.trigger(Re,{field:e}),t="this"===e?n:_e.getter(e,!0)(n);},_set:function _set(e,t){var n,i,o,r=this,a=e.indexOf(".")>=0;if(a)for(n=e.split("."),i="";n.length>1;){if(i+=n.shift(),o=_e.getter(i,!0)(r),o instanceof j)return o.set(n.join("."),t),a;i+=".";}return _e.setter(e)(r,t),a;},set:function set(e,t){var n=this,i=!1,o=e.indexOf(".")>=0,r=_e.getter(e,!0)(n);return r!==t&&(r instanceof we&&this._handlers[e]&&(this._handlers[e].get&&r.unbind(Re,this._handlers[e].get),r.unbind(Ae,this._handlers[e].change)),i=n.trigger("set",{field:e,value:t}),i||(o||(t=n.wrap(t,e,function(){return n;})),(!n._set(e,t)||e.indexOf("(")>=0||e.indexOf("[")>=0)&&n.trigger(Ae,{field:e}))),i;},parent:ve,wrap:function wrap(e,t,i){var o,r,a,s,l=this,c=$e.call(e);return null==e||"[object Object]"!==c&&"[object Array]"!==c||(a=e instanceof Je,s=e instanceof ie,"[object Object]"!==c||s||a?("[object Array]"===c||a||s)&&(a||s||(e=new Je(e)),r=n(l,Ae,t,!1),e.bind(Ae,r),l._handlers[t]={change:r}):(e instanceof j||(e=new j(e)),o=n(l,Re,t,!0),e.bind(Re,o),r=n(l,Ae,t,!0),e.bind(Ae,r),l._handlers[t]={get:o,change:r}),e.parent=i),e;}}),q={number:function number(e){return _e.parseFloat(e);},date:function date(e){return _e.parseDate(e);},"boolean":function boolean(e){return(typeof e==="undefined"?"undefined":_typeof(e))===ke?"true"===e.toLowerCase():null!=e?!!e:e;},string:function string(e){return null!=e?e+"":e;},"default":function _default(e){return e;}},G={string:"",number:0,date:new Date(),"boolean":!1,"default":""},$=j.extend({init:function init(n){var i,o,r=this;if((!n||e.isEmptyObject(n))&&(n=e.extend({},r.defaults,n),r._initializers))for(i=0;r._initializers.length>i;i++){o=r._initializers[i],n[o]=r.defaults[o]();}j.fn.init.call(r,n),r.dirty=!1,r.idField&&(r.id=r.get(r.idField),r.id===t&&(r.id=r._defaultId));},shouldSerialize:function shouldSerialize(e){return j.fn.shouldSerialize.call(this,e)&&"uid"!==e&&!("id"!==this.idField&&"id"===e)&&"dirty"!==e&&"_accessors"!==e;},_parse:function _parse(e,t){var n,i=this,r=e,a=i.fields||{};return e=a[e],e||(e=o(a,r)),e&&(n=e.parse,!n&&e.type&&(n=q[e.type.toLowerCase()])),n?n(t):t;},_notifyChange:function _notifyChange(e){var t=e.action;"add"!=t&&"remove"!=t||(this.dirty=!0);},editable:function editable(e){return e=(this.fields||{})[e],e?e.editable!==!1:!0;},set:function set(e,t,n){var o=this,r=o.dirty;o.editable(e)&&(t=o._parse(e,t),i(t,o.get(e))||(o.dirty=!0,j.fn.set.call(o,e,t,n)&&!r&&(o.dirty=r)));},accept:function accept(e){var t,n,i=this,o=function o(){return i;};for(t in e){n=e[t],"_"!=t.charAt(0)&&(n=i.wrap(e[t],t,o)),i._set(t,n);}i.idField&&(i.id=i.get(i.idField)),i.dirty=!1;},isNew:function isNew(){return this.id===this._defaultId;}}),$.define=function(e,n){n===t&&(n=e,e=$);var i,o,r,a,s,l,c,d,u=ce({defaults:{}},n),h={},f=u.id,p=[];if(f&&(u.idField=f),u.id&&delete u.id,f&&(u.defaults[f]=u._defaultId=""),"[object Array]"===$e.call(u.fields)){for(l=0,c=u.fields.length;c>l;l++){r=u.fields[l],(typeof r==="undefined"?"undefined":_typeof(r))===ke?h[r]={}:r.field&&(h[r.field]=r);}u.fields=h;}for(o in u.fields){r=u.fields[o],a=r.type||"default",s=null,d=o,o=_typeof(r.field)===ke?r.field:o,r.nullable||(s=u.defaults[d!==o?d:o]=r.defaultValue!==t?r.defaultValue:G[a.toLowerCase()],"function"==typeof s&&p.push(o)),n.id===o&&(u._defaultId=s),u.defaults[d!==o?d:o]=s,r.parse=r.parse||q[a];}return p.length>0&&(u._initializers=p),i=e.extend(u),i.define=function(e){return $.define(i,e);},u.fields&&(i.fields=u.fields,i.idField=u.idField),i;},Y={selector:function selector(e){return be(e)?e:Le(e);},compare:function compare(e){var t=this.selector(e);return function(e,n){return e=t(e),n=t(n),null==e&&null==n?0:null==e?-1:null==n?1:e.localeCompare?e.localeCompare(n):e>n?1:n>e?-1:0;};},create:function create(e){var t=e.compare||this.compare(e.field);return"desc"==e.dir?function(e,n){return t(n,e,!0);}:t;},combine:function combine(e){return function(t,n){var i,o,r=e[0](t,n);for(i=1,o=e.length;o>i;i++){r=r||e[i](t,n);}return r;};}},K=ce({},Y,{asc:function asc(e){var t=this.selector(e);return function(e,n){var i=t(e),o=t(n);return i&&i.getTime&&o&&o.getTime&&(i=i.getTime(),o=o.getTime()),i===o?e.__position-n.__position:null==i?-1:null==o?1:i.localeCompare?i.localeCompare(o):i>o?1:-1;};},desc:function desc(e){var t=this.selector(e);return function(e,n){var i=t(e),o=t(n);return i&&i.getTime&&o&&o.getTime&&(i=i.getTime(),o=o.getTime()),i===o?e.__position-n.__position:null==i?1:null==o?-1:o.localeCompare?o.localeCompare(i):o>i?1:-1;};},create:function create(e){return this[e.dir](e.field);}}),U=function U(e,t){var n,i=e.length,o=Array(i);for(n=0;i>n;n++){o[n]=t(e[n],n,e);}return o;},Q=function(){function e(e){return e.replace(Xe,"\\").replace(Qe,"");}function t(t,n,i,o){var r;return null!=i&&((typeof i==="undefined"?"undefined":_typeof(i))===ke&&(i=e(i),r=Ke.exec(i),r?i=new Date(+r[1]):o?(i="'"+i.toLowerCase()+"'",n="(("+n+" || '')+'').toLowerCase()"):i="'"+i+"'"),i.getTime&&(n="("+n+"&&"+n+".getTime?"+n+".getTime():"+n+")",i=i.getTime())),n+" "+t+" "+i;}return{quote:function quote(t){return t&&t.getTime?"new Date("+t.getTime()+")":"string"==typeof t?"'"+e(t)+"'":""+t;},eq:function eq(e,n,i){return t("==",e,n,i);},neq:function neq(e,n,i){return t("!=",e,n,i);},gt:function gt(e,n,i){return t(">",e,n,i);},gte:function gte(e,n,i){return t(">=",e,n,i);},lt:function lt(e,n,i){return t("<",e,n,i);},lte:function lte(e,n,i){return t("<=",e,n,i);},startswith:function startswith(t,n,i){return i&&(t="("+t+" || '').toLowerCase()",n&&(n=n.toLowerCase())),n&&(n=e(n)),t+".lastIndexOf('"+n+"', 0) == 0";},doesnotstartwith:function doesnotstartwith(t,n,i){return i&&(t="("+t+" || '').toLowerCase()",n&&(n=n.toLowerCase())),n&&(n=e(n)),t+".lastIndexOf('"+n+"', 0) == -1";},endswith:function endswith(t,n,i){return i&&(t="("+t+" || '').toLowerCase()",n&&(n=n.toLowerCase())),n&&(n=e(n)),t+".indexOf('"+n+"', "+t+".length - "+(n||"").length+") >= 0";},doesnotendwith:function doesnotendwith(t,n,i){return i&&(t="("+t+" || '').toLowerCase()",n&&(n=n.toLowerCase())),n&&(n=e(n)),t+".indexOf('"+n+"', "+t+".length - "+(n||"").length+") < 0";},contains:function contains(t,n,i){return i&&(t="("+t+" || '').toLowerCase()",n&&(n=n.toLowerCase())),n&&(n=e(n)),t+".indexOf('"+n+"') >= 0";},doesnotcontain:function doesnotcontain(t,n,i){return i&&(t="("+t+" || '').toLowerCase()",n&&(n=n.toLowerCase())),n&&(n=e(n)),t+".indexOf('"+n+"') == -1";},isempty:function isempty(e){return e+" === ''";},isnotempty:function isnotempty(e){return e+" !== ''";},isnull:function isnull(e){return"("+e+" === null || "+e+" === undefined)";},isnotnull:function isnotnull(e){return"("+e+" !== null && "+e+" !== undefined)";}};}(),r.filterExpr=function(e){var n,i,o,a,s,l,c=[],d={and:" && ",or:" || "},u=[],h=[],f=e.filters;for(n=0,i=f.length;i>n;n++){o=f[n],s=o.field,l=o.operator,o.filters?(a=r.filterExpr(o),o=a.expression.replace(/__o\[(\d+)\]/g,function(e,t){return t=+t,"__o["+(h.length+t)+"]";}).replace(/__f\[(\d+)\]/g,function(e,t){return t=+t,"__f["+(u.length+t)+"]";}),h.push.apply(h,a.operators),u.push.apply(u,a.fields)):((typeof s==="undefined"?"undefined":_typeof(s))===xe?(a="__f["+u.length+"](d)",u.push(s)):a=_e.expr(s),(typeof l==="undefined"?"undefined":_typeof(l))===xe?(o="__o["+h.length+"]("+a+", "+Q.quote(o.value)+")",h.push(l)):o=Q[(l||"eq").toLowerCase()](a,o.value,o.ignoreCase!==t?o.ignoreCase:!0)),c.push(o);}return{expression:"("+c.join(d[e.logic])+")",fields:u,operators:h};},X={"==":"eq",equals:"eq",isequalto:"eq",equalto:"eq",equal:"eq","!=":"neq",ne:"neq",notequals:"neq",isnotequalto:"neq",notequalto:"neq",notequal:"neq","<":"lt",islessthan:"lt",lessthan:"lt",less:"lt","<=":"lte",le:"lte",islessthanorequalto:"lte",lessthanequal:"lte",">":"gt",isgreaterthan:"gt",greaterthan:"gt",greater:"gt",">=":"gte",isgreaterthanorequalto:"gte",greaterthanequal:"gte",ge:"gte",notsubstringof:"doesnotcontain",isnull:"isnull",isempty:"isempty",isnotempty:"isnotempty"},r.normalizeFilter=l,r.compareFilters=h,r.prototype={toArray:function toArray(){return this.data;},range:function range(e,t){return new r(this.data.slice(e,e+t));},skip:function skip(e){return new r(this.data.slice(e));},take:function take(e){return new r(this.data.slice(0,e));},select:function select(e){return new r(U(this.data,e));},order:function order(e,t){var n={dir:t};return e&&(e.compare?n.compare=e.compare:n.field=e),new r(this.data.slice(0).sort(Y.create(n)));},orderBy:function orderBy(e){return this.order(e,"asc");},orderByDescending:function orderByDescending(e){return this.order(e,"desc");},sort:function sort(e,t,n){var i,o,r=a(e,t),s=[];if(n=n||Y,r.length){for(i=0,o=r.length;o>i;i++){s.push(n.create(r[i]));}return this.orderBy({compare:n.combine(s)});}return this;},filter:function filter(e){var t,n,i,o,a,s,c,d,u=this.data,h=[];if(e=l(e),!e||0===e.filters.length)return this;for(o=r.filterExpr(e),s=o.fields,c=o.operators,a=d=Function("d, __f, __o","return "+o.expression),(s.length||c.length)&&(d=function d(e){return a(e,s,c);}),t=0,i=u.length;i>t;t++){n=u[t],d(n)&&h.push(n);}return new r(h);},group:function group(e,t){e=p(e||[]),t=t||this.data;var n,i=this,o=new r(i.data);return e.length>0&&(n=e[0],o=o.groupBy(n).select(function(i){var o=new r(t).filter([{field:i.field,operator:"eq",value:i.value,ignoreCase:!1}]);return{field:i.field,value:i.value,items:e.length>1?new r(i.items).group(e.slice(1),o.toArray()).toArray():i.items,hasSubgroups:e.length>1,aggregates:o.aggregate(n.aggregates)};})),o;},groupBy:function groupBy(e){if(he(e)||!this.data.length)return new r([]);var t,n,i,o,a=e.field,s=this._sortForGrouping(a,e.dir||"asc"),l=_e.accessor(a),c=l.get(s[0],a),d={field:a,value:c,items:[]},u=[d];for(i=0,o=s.length;o>i;i++){t=s[i],n=l.get(t,a),m(c,n)||(c=n,d={field:a,value:c,items:[]},u.push(d)),d.items.push(t);}return new r(u);},_sortForGrouping:function _sortForGrouping(e,t){var n,i,o=this.data;if(!Ye){for(n=0,i=o.length;i>n;n++){o[n].__position=n;}for(o=new r(o).sort(e,t,K).toArray(),n=0,i=o.length;i>n;n++){delete o[n].__position;}return o;}return this.sort(e,t).toArray();},aggregate:function aggregate(e){var t,n,i={},o={};if(e&&e.length)for(t=0,n=this.data.length;n>t;t++){g(i,e,this.data[t],t,n,o);}return i;}},J={sum:function sum(e,t,n){var i=n.get(t);return v(e)?v(i)&&(e+=i):e=i,e;},count:function count(e){return(e||0)+1;},average:function average(e,n,i,o,r,a){var s=i.get(n);return a.count===t&&(a.count=0),v(e)?v(s)&&(e+=s):e=s,v(s)&&a.count++,o==r-1&&v(e)&&(e/=a.count),e;},max:function max(e,t,n){var i=n.get(t);return v(e)||_(e)||(e=i),i>e&&(v(i)||_(i))&&(e=i),e;},min:function min(e,t,n){var i=n.get(t);return v(e)||_(e)||(e=i),e>i&&(v(i)||_(i))&&(e=i),e;}},r.process=function(e,n){n=n||{};var i,o=new r(e),s=n.group,l=p(s||[]).concat(a(n.sort||[])),c=n.filterCallback,d=n.filter,u=n.skip,h=n.take;return d&&(o=o.filter(d),c&&(o=c(o)),i=o.toArray().length),l&&(o=o.sort(l),s&&(e=o.toArray())),u!==t&&h!==t&&(o=o.range(u,h)),s&&(o=o.group(s,e)),{total:i,data:o.toArray()};},Z=ye.extend({init:function init(e){this.data=e.data;},read:function read(e){e.success(this.data);},update:function update(e){e.success(e.data);},create:function create(e){e.success(e.data);},destroy:function destroy(e){e.success(e.data);}}),ee=ye.extend({init:function init(e){var t,n=this;e=n.options=ce({},n.options,e),ge(ze,function(t,n){_typeof(e[n])===ke&&(e[n]={url:e[n]});}),n.cache=e.cache?te.create(e.cache):{find:ve,add:ve},t=e.parameterMap,be(e.push)&&(n.push=e.push),n.push||(n.push=Be),n.parameterMap=be(t)?t:function(e){var n={};return ge(e,function(e,i){e in t&&(e=t[e],ue(e)&&(i=e.value(i),e=e.key)),n[e]=i;}),n;};},options:{parameterMap:Be},create:function create(e){return me(this.setup(e,Ce));},read:function read(n){var i,o,r,a=this,s=a.cache;n=a.setup(n,Se),i=n.success||ve,o=n.error||ve,r=s.find(n.data),r!==t?i(r):(n.success=function(e){s.add(n.data,e),i(e);},e.ajax(n));},update:function update(e){return me(this.setup(e,Te));},destroy:function destroy(e){return me(this.setup(e,De));},setup:function setup(e,t){e=e||{};var n,i=this,o=i.options[t],r=be(o.data)?o.data(e.data):o.data;return e=ce(!0,{},o,e),n=ce(!0,{},r,e.data),e.data=i.parameterMap(n,t),be(e.url)&&(e.url=e.url(n)),e;}}),te=ye.extend({init:function init(){this._store={};},add:function add(e,n){e!==t&&(this._store[He(e)]=n);},find:function find(e){return this._store[He(e)];},clear:function clear(){this._store={};},remove:function remove(e){delete this._store[He(e)];}}),te.create=function(e){var t={inmemory:function inmemory(){return new te();}};return ue(e)&&be(e.find)?e:e===!0?new te():t[e]();},ne=ye.extend({init:function init(e){var t,n,i,o,r,a,s,l,c,d,u,h,f,p=this;e=e||{};for(t in e){n=e[t],p[t]=(typeof n==="undefined"?"undefined":_typeof(n))===ke?Le(n):n;}o=e.modelBase||$,ue(p.model)&&(p.model=i=o.define(p.model)),r=de(p.data,p),p._dataAccessFunction=r,p.model&&(a=de(p.groups,p),s=de(p.serialize,p),l={},c={},d={},u={},h=!1,i=p.model,i.fields&&(ge(i.fields,function(e,t){var n;f=e,ue(t)&&t.field?f=t.field:(typeof t==="undefined"?"undefined":_typeof(t))===ke&&(f=t),ue(t)&&t.from&&(n=t.from),h=h||n&&n!==e||f!==e,c[e]=Le(n||f),d[e]=Le(e),l[n||f]=e,u[e]=n||f;}),!e.serialize&&h&&(p.serialize=x(s,i,w,d,l,u))),p._dataAccessFunction=r,p.data=x(r,i,y,c,l,u),p.groups=x(a,i,k,c,l,u));},errors:function errors(e){return e?e.errors:null;},parse:Be,data:Be,total:function total(e){return e.length;},groups:Be,aggregates:function aggregates(){return{};},serialize:function serialize(e){return e;}}),ie=we.extend({init:function init(e){var n,i,o,r=this;e&&(i=e.data),e=r.options=ce({},r.options,e),r._map={},r._prefetch={},r._data=[],r._pristineData=[],r._ranges=[],r._view=[],r._pristineTotal=0,r._destroyed=[],r._pageSize=e.pageSize,r._page=e.page||(e.pageSize?1:t),r._sort=a(e.sort),r._filter=l(e.filter),r._group=p(e.group),r._aggregate=e.aggregate,r._total=e.total,r._shouldDetachObservableParents=!0,we.fn.init.call(r),r.transport=oe.create(e,i,r),be(r.transport.push)&&r.transport.push({pushCreate:de(r._pushCreate,r),pushUpdate:de(r._pushUpdate,r),pushDestroy:de(r._pushDestroy,r)}),null!=e.offlineStorage&&("string"==typeof e.offlineStorage?(o=e.offlineStorage,r._storage={getItem:function getItem(){return JSON.parse(localStorage.getItem(o));},setItem:function setItem(e){localStorage.setItem(o,He(r.reader.serialize(e)));}}):r._storage=e.offlineStorage),r.reader=new _e.data.readers[e.schema.type||"json"](e.schema),n=r.reader.model||{},r._detachObservableParents(),r._data=r._observe(r._data),r._online=!0,r.bind(["push",Ie,Ae,Fe,Ee,Pe,Me],e);},options:{data:null,schema:{modelBase:$},offlineStorage:null,serverSorting:!1,serverPaging:!1,serverFiltering:!1,serverGrouping:!1,serverAggregates:!1,batch:!1},clone:function clone(){return this;},online:function online(n){return n!==t?this._online!=n&&(this._online=n,n)?this.sync():e.Deferred().resolve().promise():this._online;},offlineData:function offlineData(e){return null==this.options.offlineStorage?null:e!==t?this._storage.setItem(e):this._storage.getItem()||[];},_isServerGrouped:function _isServerGrouped(){var e=this.group()||[];return this.options.serverGrouping&&e.length;},_pushCreate:function _pushCreate(e){this._push(e,"pushCreate");},_pushUpdate:function _pushUpdate(e){this._push(e,"pushUpdate");},_pushDestroy:function _pushDestroy(e){this._push(e,"pushDestroy");},_push:function _push(e,t){var n=this._readData(e);n||(n=e),this[t](n);},_flatData:function _flatData(e,t){if(e){if(this._isServerGrouped())return S(e);if(!t)for(var n=0;e.length>n;n++){e.at(n);}}return e;},parent:ve,get:function get(e){var t,n,i=this._flatData(this._data);for(t=0,n=i.length;n>t;t++){if(i[t].id==e)return i[t];}},getByUid:function getByUid(e){var t,n,i=this._flatData(this._data);if(i)for(t=0,n=i.length;n>t;t++){if(i[t].uid==e)return i[t];}},indexOf:function indexOf(e){return M(this._data,e);},at:function at(e){return this._data.at(e);},data:function data(e){var n,i=this;if(e===t){if(i._data)for(n=0;i._data.length>n;n++){i._data.at(n);}return i._data;}i._detachObservableParents(),i._data=this._observe(e),i._pristineData=e.slice(0),i._storeData(),i._ranges=[],i.trigger("reset"),i._addRange(i._data),i._total=i._data.length,i._pristineTotal=i._total,i._process(i._data);},view:function view(e){return e===t?this._view:(this._view=this._observeView(e),t);},_observeView:function _observeView(e){var t,n=this;return R(e,n._data,n._ranges,n.reader.model||j,n._isServerGrouped()),t=new W(e,n.reader.model),t.parent=function(){return n.parent();},t;},flatView:function flatView(){var e=this.group()||[];return e.length?S(this._view):this._view;},add:function add(e){return this.insert(this._data.length,e);},_createNewModel:function _createNewModel(e){return this.reader.model?new this.reader.model(e):e instanceof j?e:new j(e);},insert:function insert(e,t){return t||(t=e,e=0),t instanceof $||(t=this._createNewModel(t)),this._isServerGrouped()?this._data.splice(e,0,this._wrapInEmptyGroup(t)):this._data.splice(e,0,t),t;},pushCreate:function pushCreate(e){var t,n,i,o,r,a;fe(e)||(e=[e]),t=[],n=this.options.autoSync,this.options.autoSync=!1;try{for(i=0;e.length>i;i++){o=e[i],r=this.add(o),t.push(r),a=r.toJSON(),this._isServerGrouped()&&(a=this._wrapInEmptyGroup(a)),this._pristineData.push(a);}}finally{this.options.autoSync=n;}t.length&&this.trigger("push",{type:"create",items:t});},pushUpdate:function pushUpdate(e){var t,n,i,o,r;for(fe(e)||(e=[e]),t=[],n=0;e.length>n;n++){i=e[n],o=this._createNewModel(i),r=this.get(o.id),r?(t.push(r),r.accept(i),r.trigger(Ae),this._updatePristineForModel(r,i)):this.pushCreate(i);}t.length&&this.trigger("push",{type:"update",items:t});},pushDestroy:function pushDestroy(e){var t=this._removeItems(e);t.length&&this.trigger("push",{type:"destroy",items:t});},_removeItems:function _removeItems(e){var t,n,i,o,r,a;fe(e)||(e=[e]),t=[],n=this.options.autoSync,this.options.autoSync=!1;try{for(i=0;e.length>i;i++){o=e[i],r=this._createNewModel(o),a=!1,this._eachItem(this._data,function(e){var n,i;for(n=0;e.length>n;n++){if(i=e.at(n),i.id===r.id){t.push(i),e.splice(n,1),a=!0;break;}}}),a&&(this._removePristineForModel(r),this._destroyed.pop());}}finally{this.options.autoSync=n;}return t;},remove:function remove(e){var n,i=this,o=i._isServerGrouped();return this._eachItem(i._data,function(r){return n=I(r,e),n&&o?(n.isNew&&n.isNew()||i._destroyed.push(n),!0):t;}),this._removeModelFromRanges(e),this._updateRangesLength(),e;},destroyed:function destroyed(){return this._destroyed;},created:function created(){var e,t,n=[],i=this._flatData(this._data);for(e=0,t=i.length;t>e;e++){i[e].isNew&&i[e].isNew()&&n.push(i[e]);}return n;},updated:function updated(){var e,t,n=[],i=this._flatData(this._data);for(e=0,t=i.length;t>e;e++){i[e].isNew&&!i[e].isNew()&&i[e].dirty&&n.push(i[e]);}return n;},sync:function sync(){var t,n=this,i=[],o=[],r=n._destroyed,a=e.Deferred().resolve().promise();if(n.online()){if(!n.reader.model)return a;i=n.created(),o=n.updated(),t=[],n.options.batch&&n.transport.submit?t=n._sendSubmit(i,o,r):(t.push.apply(t,n._send("create",i)),t.push.apply(t,n._send("update",o)),t.push.apply(t,n._send("destroy",r))),a=e.when.apply(null,t).then(function(){var e,t;for(e=0,t=arguments.length;t>e;e++){n._accept(arguments[e]);}n._storeData(!0),n._change({action:"sync"}),n.trigger(Ee);});}else n._storeData(!0),n._change({action:"sync"});return a;},cancelChanges:function cancelChanges(e){var t=this;e instanceof _e.data.Model?t._cancelModel(e):(t._destroyed=[],t._detachObservableParents(),t._data=t._observe(t._pristineData),t.options.serverPaging&&(t._total=t._pristineTotal),t._ranges=[],t._addRange(t._data),t._change(),t._markOfflineUpdatesAsDirty());},_markOfflineUpdatesAsDirty:function _markOfflineUpdatesAsDirty(){var e=this;null!=e.options.offlineStorage&&e._eachItem(e._data,function(e){var t,n;for(t=0;e.length>t;t++){n=e.at(t),"update"!=n.__state__&&"create"!=n.__state__||(n.dirty=!0);}});},hasChanges:function hasChanges(){var e,t,n=this._flatData(this._data);if(this._destroyed.length)return!0;for(e=0,t=n.length;t>e;e++){if(n[e].isNew&&n[e].isNew()||n[e].dirty)return!0;}return!1;},_accept:function _accept(t){var n,i=this,o=t.models,r=t.response,a=0,s=i._isServerGrouped(),l=i._pristineData,c=t.type;if(i.trigger(Pe,{response:r,type:c}),r&&!he(r)){if(r=i.reader.parse(r),i._handleCustomErrors(r))return;r=i.reader.data(r),fe(r)||(r=[r]);}else r=e.map(o,function(e){return e.toJSON();});for("destroy"===c&&(i._destroyed=[]),a=0,n=o.length;n>a;a++){"destroy"!==c?(o[a].accept(r[a]),"create"===c?l.push(s?i._wrapInEmptyGroup(o[a]):r[a]):"update"===c&&i._updatePristineForModel(o[a],r[a])):i._removePristineForModel(o[a]);}},_updatePristineForModel:function _updatePristineForModel(e,t){this._executeOnPristineForModel(e,function(e,n){_e.deepExtend(n[e],t);});},_executeOnPristineForModel:function _executeOnPristineForModel(e,n){this._eachPristineItem(function(i){var o=F(i,e);return o>-1?(n(o,i),!0):t;});},_removePristineForModel:function _removePristineForModel(e){this._executeOnPristineForModel(e,function(e,t){t.splice(e,1);});},_readData:function _readData(e){var t=this._isServerGrouped()?this.reader.groups:this.reader.data;return t.call(this.reader,e);},_eachPristineItem:function _eachPristineItem(e){this._eachItem(this._pristineData,e);},_eachItem:function _eachItem(e,t){e&&e.length&&(this._isServerGrouped()?D(e,t):t(e));},_pristineForModel:function _pristineForModel(e){var n,i,o=function o(_o2){return i=F(_o2,e),i>-1?(n=_o2[i],!0):t;};return this._eachPristineItem(o),n;},_cancelModel:function _cancelModel(e){var t=this._pristineForModel(e);this._eachItem(this._data,function(n){var i=M(n,e);i>=0&&(!t||e.isNew()&&!t.__state__?n.splice(i,1):(n[i].accept(t),"update"==t.__state__&&(n[i].dirty=!0)));});},_submit:function _submit(t,n){var i=this;i.trigger(Fe,{type:"submit"}),i.transport.submit(ce({success:function success(n,i){var o=e.grep(t,function(e){return e.type==i;})[0];o&&o.resolve({response:n,models:o.models,type:i});},error:function error(e,n,o){for(var r=0;t.length>r;r++){t[r].reject(e);}i.error(e,n,o);}},n));},_sendSubmit:function _sendSubmit(t,n,i){var o=this,r=[];return o.options.batch&&(t.length&&r.push(e.Deferred(function(e){e.type="create",e.models=t;})),n.length&&r.push(e.Deferred(function(e){e.type="update",e.models=n;})),i.length&&r.push(e.Deferred(function(e){e.type="destroy",e.models=i;})),o._submit(r,{data:{created:o.reader.serialize(b(t)),updated:o.reader.serialize(b(n)),destroyed:o.reader.serialize(b(i))}})),r;},_promise:function _promise(t,n,i){var o=this;return e.Deferred(function(e){o.trigger(Fe,{type:i}),o.transport[i].call(o.transport,ce({success:function success(t){e.resolve({response:t,models:n,type:i});},error:function error(t,n,i){e.reject(t),o.error(t,n,i);}},t));}).promise();},_send:function _send(e,t){var n,i,o=this,r=[],a=o.reader.serialize(b(t));if(o.options.batch)t.length&&r.push(o._promise({data:{models:a}},t,e));else for(n=0,i=t.length;i>n;n++){r.push(o._promise({data:a[n]},[t[n]],e));}return r;},read:function read(t){var n=this,i=n._params(t),o=e.Deferred();return n._queueRequest(i,function(){var e=n.trigger(Fe,{type:"read"});e?(n._dequeueRequest(),o.resolve(e)):(n.trigger(Me),n._ranges=[],n.trigger("reset"),n.online()?n.transport.read({data:i,success:function success(e){n._ranges=[],n.success(e,i),o.resolve();},error:function error(){var e=qe.call(arguments);n.error.apply(n,e),o.reject.apply(o,e);}}):null!=n.options.offlineStorage&&(n.success(n.offlineData(),i),o.resolve()));}),o.promise();},_readAggregates:function _readAggregates(e){return this.reader.aggregates(e);},success:function success(e){var n,i,o,r,a,s,l,c,d=this,u=d.options;if(d.trigger(Pe,{response:e,type:"read"}),d.online()){if(e=d.reader.parse(e),d._handleCustomErrors(e))return d._dequeueRequest(),t;d._total=d.reader.total(e),d._aggregate&&u.serverAggregates&&(d._aggregateResult=d._readAggregates(e)),e=d._readData(e),d._destroyed=[];}else{for(e=d._readData(e),n=[],i={},o=d.reader.model,r=o?o.idField:"id",a=0;this._destroyed.length>a;a++){s=this._destroyed[a][r],i[s]=s;}for(a=0;e.length>a;a++){l=e[a],c=l.__state__,"destroy"==c?i[l[r]]||this._destroyed.push(this._createNewModel(l)):n.push(l);}e=n,d._total=e.length;}d._pristineTotal=d._total,d._pristineData=e.slice(0),d._detachObservableParents(),d._data=d._observe(e),d._markOfflineUpdatesAsDirty(),d._storeData(),d._addRange(d._data),d._process(d._data),d._dequeueRequest();},_detachObservableParents:function _detachObservableParents(){if(this._data&&this._shouldDetachObservableParents)for(var e=0;this._data.length>e;e++){this._data[e].parent&&(this._data[e].parent=ve);}},_storeData:function _storeData(e){function t(e){var n,i,o,r=[];for(n=0;e.length>n;n++){i=e.at(n),o=i.toJSON(),a&&i.items?o.items=t(i.items):(o.uid=i.uid,s&&(i.isNew()?o.__state__="create":i.dirty&&(o.__state__="update"))),r.push(o);}return r;}var n,i,o,r,a=this._isServerGrouped(),s=this.reader.model;if(null!=this.options.offlineStorage){for(n=t(this._data),i=[],o=0;this._destroyed.length>o;o++){r=this._destroyed[o].toJSON(),r.__state__="destroy",i.push(r);}this.offlineData(n.concat(i)),e&&(this._pristineData=this._readData(n));}},_addRange:function _addRange(e){var t=this,n=t._skip||0,i=n+t._flatData(e,!0).length;t._ranges.push({start:n,end:i,data:e,timestamp:new Date().getTime()}),t._ranges.sort(function(e,t){return e.start-t.start;});},error:function error(e,t,n){this._dequeueRequest(),this.trigger(Pe,{}),this.trigger(Ie,{xhr:e,status:t,errorThrown:n});},_params:function _params(e){var t=this,n=ce({take:t.take(),skip:t.skip(),page:t.page(),pageSize:t.pageSize(),sort:t._sort,filter:t._filter,group:t._group,aggregate:t._aggregate},e);return t.options.serverPaging||(delete n.take,delete n.skip,delete n.page,delete n.pageSize),t.options.serverGrouping?t.reader.model&&n.group&&(n.group=L(n.group,t.reader.model)):delete n.group,t.options.serverFiltering?t.reader.model&&n.filter&&(n.filter=B(n.filter,t.reader.model)):delete n.filter,t.options.serverSorting?t.reader.model&&n.sort&&(n.sort=L(n.sort,t.reader.model)):delete n.sort,t.options.serverAggregates?t.reader.model&&n.aggregate&&(n.aggregate=L(n.aggregate,t.reader.model)):delete n.aggregate,n;},_queueRequest:function _queueRequest(e,n){var i=this;i._requestInProgress?i._pending={callback:de(n,i),options:e}:(i._requestInProgress=!0,i._pending=t,n());},_dequeueRequest:function _dequeueRequest(){var e=this;e._requestInProgress=!1,e._pending&&e._queueRequest(e._pending.options,e._pending.callback);},_handleCustomErrors:function _handleCustomErrors(e){if(this.reader.errors){var t=this.reader.errors(e);if(t)return this.trigger(Ie,{xhr:null,status:"customerror",errorThrown:"custom error",errors:t}),!0;}return!1;},_shouldWrap:function _shouldWrap(e){var t=this.reader.model;return t&&e.length?!(e[0]instanceof t):!1;},_observe:function _observe(e){var t,n=this,i=n.reader.model;return n._shouldDetachObservableParents=!0,e instanceof Je?(n._shouldDetachObservableParents=!1,n._shouldWrap(e)&&(e.type=n.reader.model,e.wrapAll(e,e))):(t=n.pageSize()&&!n.options.serverPaging?W:Je,e=new t(e,n.reader.model),e.parent=function(){return n.parent();}),n._isServerGrouped()&&T(e,i),n._changeHandler&&n._data&&n._data instanceof Je?n._data.unbind(Ae,n._changeHandler):n._changeHandler=de(n._change,n),e.bind(Ae,n._changeHandler);},_updateTotalForAction:function _updateTotalForAction(e,t){var n=this,i=parseInt(n._total,10);v(n._total)||(i=parseInt(n._pristineTotal,10)),"add"===e?i+=t.length:"remove"===e?i-=t.length:"itemchange"===e||"sync"===e||n.options.serverPaging?"sync"===e&&(i=n._pristineTotal=parseInt(n._total,10)):i=n._pristineTotal,n._total=i;},_change:function _change(e){var t,n,_i2,o=this,r=e?e.action:"";if("remove"===r)for(t=0,n=e.items.length;n>t;t++){e.items[t].isNew&&e.items[t].isNew()||o._destroyed.push(e.items[t]);}!o.options.autoSync||"add"!==r&&"remove"!==r&&"itemchange"!==r?(o._updateTotalForAction(r,e?e.items:[]),o._process(o._data,e)):(_i2=function i(t){"sync"===t.action&&(o.unbind("change",_i2),o._updateTotalForAction(r,e.items));},o.first("change",_i2),o.sync());},_calculateAggregates:function _calculateAggregates(e,t){t=t||{};var n=new r(e),i=t.aggregate,o=t.filter;return o&&(n=n.filter(o)),n.aggregate(i);},_process:function _process(e,n){var i,o=this,r={};o.options.serverPaging!==!0&&(r.skip=o._skip,r.take=o._take||o._pageSize,r.skip===t&&o._page!==t&&o._pageSize!==t&&(r.skip=(o._page-1)*o._pageSize)),o.options.serverSorting!==!0&&(r.sort=o._sort),o.options.serverFiltering!==!0&&(r.filter=o._filter),o.options.serverGrouping!==!0&&(r.group=o._group),o.options.serverAggregates!==!0&&(r.aggregate=o._aggregate,o._aggregateResult=o._calculateAggregates(e,r)),i=o._queryProcess(e,r),o.view(i.data),i.total===t||o.options.serverFiltering||(o._total=i.total),n=n||{},n.items=n.items||o._view,o.trigger(Ae,n);},_queryProcess:function _queryProcess(e,t){return r.process(e,t);},_mergeState:function _mergeState(e){var n=this;return e!==t&&(n._pageSize=e.pageSize,n._page=e.page,n._sort=e.sort,n._filter=e.filter,n._group=e.group,n._aggregate=e.aggregate,n._skip=n._currentRangeStart=e.skip,n._take=e.take,n._skip===t&&(n._skip=n._currentRangeStart=n.skip(),e.skip=n.skip()),n._take===t&&n._pageSize!==t&&(n._take=n._pageSize,e.take=n._take),e.sort&&(n._sort=e.sort=a(e.sort)),e.filter&&(n._filter=e.filter=l(e.filter)),e.group&&(n._group=e.group=p(e.group)),e.aggregate&&(n._aggregate=e.aggregate=f(e.aggregate))),e;},query:function query(n){var i,o,r=this.options.serverSorting||this.options.serverPaging||this.options.serverFiltering||this.options.serverGrouping||this.options.serverAggregates;return r||(this._data===t||0===this._data.length)&&!this._destroyed.length?this.read(this._mergeState(n)):(o=this.trigger(Fe,{type:"read"}),o||(this.trigger(Me),i=this._queryProcess(this._data,this._mergeState(n)),this.options.serverFiltering||(this._total=i.total!==t?i.total:this._data.length),this._aggregateResult=this._calculateAggregates(this._data,n),this.view(i.data),this.trigger(Pe,{type:"read"}),this.trigger(Ae,{items:i.data})),e.Deferred().resolve(o).promise());},fetch:function fetch(e){var t=this,n=function n(_n2){_n2!==!0&&be(e)&&e.call(t);};return this._query().then(n);},_query:function _query(e){var t=this;return t.query(ce({},{page:t.page(),pageSize:t.pageSize(),sort:t.sort(),filter:t.filter(),group:t.group(),aggregate:t.aggregate()},e));},next:function next(e){var n=this,i=n.page(),o=n.total();return e=e||{},!i||o&&i+1>n.totalPages()?t:(n._skip=n._currentRangeStart=i*n.take(),i+=1,e.page=i,n._query(e),i);},prev:function prev(e){var n=this,i=n.page();return e=e||{},i&&1!==i?(n._skip=n._currentRangeStart=n._skip-n.take(),i-=1,e.page=i,n._query(e),i):t;},page:function page(e){var n,i=this;return e!==t?(e=Ne.max(Ne.min(Ne.max(e,1),i.totalPages()),1),i._query({page:e}),t):(n=i.skip(),n!==t?Ne.round((n||0)/(i.take()||1))+1:t);},pageSize:function pageSize(e){var n=this;return e!==t?(n._query({pageSize:e,page:1}),t):n.take();},sort:function sort(e){var n=this;return e!==t?(n._query({sort:e}),t):n._sort;},filter:function filter(e){var n=this;return e===t?n._filter:(n.trigger("reset"),n._query({filter:e,page:1}),t);},group:function group(e){var n=this;return e!==t?(n._query({group:e}),t):n._group;},total:function total(){return parseInt(this._total||0,10);},aggregate:function aggregate(e){var n=this;return e!==t?(n._query({aggregate:e}),t):n._aggregate;},aggregates:function aggregates(){var e=this._aggregateResult;return he(e)&&(e=this._emptyAggregates(this.aggregate())),e;},_emptyAggregates:function _emptyAggregates(e){var t,n,i={};if(!he(e))for(t={},fe(e)||(e=[e]),n=0;e.length>n;n++){t[e[n].aggregate]=0,i[e[n].field]=t;}return i;},_wrapInEmptyGroup:function _wrapInEmptyGroup(e){var t,n,i,o,r=this.group();for(i=r.length-1,o=0;i>=o;i--){n=r[i],t={value:e.get(n.field),field:n.field,items:t?[t]:[e],hasSubgroups:!!t,aggregates:this._emptyAggregates(n.aggregates)};}return t;},totalPages:function totalPages(){var e=this,t=e.pageSize()||e.total();return Ne.ceil((e.total()||0)/t);},inRange:function inRange(e,t){var n=this,i=Ne.min(e+t,n.total());return!n.options.serverPaging&&n._data.length>0?!0:n._findRange(e,i).length>0;},lastRange:function lastRange(){var e=this._ranges;return e[e.length-1]||{start:0,end:0,data:[]};},firstItemUid:function firstItemUid(){var e=this._ranges;return e.length&&e[0].data.length&&e[0].data[0].uid;},enableRequestsInProgress:function enableRequestsInProgress(){this._skipRequestsInProgress=!1;},_timeStamp:function _timeStamp(){return new Date().getTime();},range:function range(e,n){var i,o,r,a,s,l,c,d;if(this._currentRequestTimeStamp=this._timeStamp(),this._skipRequestsInProgress=!0,e=Ne.min(e||0,this.total()),i=this,o=Ne.max(Ne.floor(e/n),0)*n,r=Ne.min(o+n,i.total()),a=i._findRange(e,Ne.min(e+n,i.total())),a.length){i._pending=t,i._skip=e>i.skip()?Ne.min(r,(i.totalPages()-1)*i.take()):o,i._currentRangeStart=e,i._take=n,s=i.options.serverPaging,l=i.options.serverSorting,c=i.options.serverFiltering,d=i.options.serverAggregates;try{i.options.serverPaging=!0,i._isServerGrouped()||i.group()&&i.group().length||(i.options.serverSorting=!0),i.options.serverFiltering=!0,i.options.serverPaging=!0,i.options.serverAggregates=!0,s&&(i._detachObservableParents(),i._data=a=i._observe(a)),i._process(a);}finally{i.options.serverPaging=s,i.options.serverSorting=l,i.options.serverFiltering=c,i.options.serverAggregates=d;}}else n!==t&&(i._rangeExists(o,r)?e>o&&i.prefetch(r,n,function(){i.range(e,n);}):i.prefetch(o,n,function(){e>o&&r<i.total()&&!i._rangeExists(r,Ne.min(r+n,i.total()))?i.prefetch(r,n,function(){i.range(e,n);}):i.range(e,n);}));},_findRange:function _findRange(e,n){var i,o,r,s,l,c,d,u,h,f,m,g,v=this,_=v._ranges,b=[],w=v.options,y=w.serverSorting||w.serverPaging||w.serverFiltering||w.serverGrouping||w.serverAggregates;for(o=0,m=_.length;m>o;o++){if(i=_[o],e>=i.start&&i.end>=e){for(f=0,r=o;m>r;r++){if(i=_[r],h=v._flatData(i.data,!0),h.length&&e+f>=i.start&&(c=i.data,d=i.end,y||(g=p(v.group()||[]).concat(a(v.sort()||[])),u=v._queryProcess(i.data,{sort:g,filter:v.filter()}),h=c=u.data,u.total!==t&&(d=u.total)),s=0,e+f>i.start&&(s=e+f-i.start),l=h.length,d>n&&(l-=d-n),f+=l-s,b=v._mergeGroups(b,c,s,l),i.end>=n&&f==n-e))return b;}break;}}return[];},_mergeGroups:function _mergeGroups(e,t,n,i){if(this._isServerGrouped()){var o,r=t.toJSON();return e.length&&(o=e[e.length-1]),C(o,r,n,i),e.concat(r);}return e.concat(t.slice(n,i));},skip:function skip(){var e=this;return e._skip===t?e._page!==t?(e._page-1)*(e.take()||1):t:e._skip;},currentRangeStart:function currentRangeStart(){return this._currentRangeStart||0;},take:function take(){return this._take||this._pageSize;},_prefetchSuccessHandler:function _prefetchSuccessHandler(e,t,n,i){var o=this,r=o._timeStamp();return function(a){var s,l,c,d=!1,u={start:e,end:t,data:[],timestamp:o._timeStamp()};if(o._dequeueRequest(),o.trigger(Pe,{response:a,type:"read"}),a=o.reader.parse(a),c=o._readData(a),c.length){for(s=0,l=o._ranges.length;l>s;s++){if(o._ranges[s].start===e){d=!0,u=o._ranges[s];break;}}d||o._ranges.push(u);}u.data=o._observe(c),u.end=u.start+o._flatData(u.data,!0).length,o._ranges.sort(function(e,t){return e.start-t.start;}),o._total=o.reader.total(a),(i||r>=o._currentRequestTimeStamp||!o._skipRequestsInProgress)&&(n&&c.length?n():o.trigger(Ae,{}));};},prefetch:function prefetch(e,t,n){var i=this,o=Ne.min(e+t,i.total()),r={take:t,skip:e,page:e/t+1,pageSize:t,sort:i._sort,filter:i._filter,group:i._group,aggregate:i._aggregate};i._rangeExists(e,o)?n&&n():(clearTimeout(i._timeout),i._timeout=setTimeout(function(){i._queueRequest(r,function(){i.trigger(Fe,{type:"read"})?i._dequeueRequest():i.transport.read({data:i._params(r),success:i._prefetchSuccessHandler(e,o,n),error:function error(){var e=qe.call(arguments);i.error.apply(i,e);}});});},100));},_multiplePrefetch:function _multiplePrefetch(e,t,n){var i=this,o=Ne.min(e+t,i.total()),r={take:t,skip:e,page:e/t+1,pageSize:t,sort:i._sort,filter:i._filter,group:i._group,aggregate:i._aggregate};i._rangeExists(e,o)?n&&n():i.trigger(Fe,{type:"read"})||i.transport.read({data:i._params(r),success:i._prefetchSuccessHandler(e,o,n,!0)});},_rangeExists:function _rangeExists(e,t){var n,i,o=this,r=o._ranges;for(n=0,i=r.length;i>n;n++){if(e>=r[n].start&&r[n].end>=t)return!0;}return!1;},_removeModelFromRanges:function _removeModelFromRanges(e){var t,n,i,o,r;for(o=0,r=this._ranges.length;r>o&&(i=this._ranges[o],this._eachItem(i.data,function(i){t=I(i,e),t&&(n=!0);}),!n);o++){}},_updateRangesLength:function _updateRangesLength(){var e,t,n,i,o=0;for(n=0,i=this._ranges.length;i>n;n++){e=this._ranges[n],e.start=e.start-o,t=this._flatData(e.data,!0).length,o=e.end-t,e.end=e.start+t;}}}),oe={},oe.create=function(t,n,i){var o,r=t.transport?e.extend({},t.transport):null;return r?(r.read=_typeof(r.read)===ke?{url:r.read}:r.read,"jsdo"===t.type&&(r.dataSource=i),t.type&&(_e.data.transports=_e.data.transports||{},_e.data.schemas=_e.data.schemas||{},_e.data.transports[t.type]?ue(_e.data.transports[t.type])?r=ce(!0,{},_e.data.transports[t.type],r):o=new _e.data.transports[t.type](ce(r,{data:n})):_e.logToConsole("Unknown DataSource transport type '"+t.type+"'.\nVerify that registration scripts for this type are included after Kendo UI on the page.","warn"),t.schema=ce(!0,{},_e.data.schemas[t.type],t.schema)),o||(o=be(r.read)?r:new ee(r))):o=new Z({data:t.data||[]}),o;},ie.create=function(e){(fe(e)||e instanceof Je)&&(e={data:e});var n,i,o,r=e||{},a=r.data,s=r.fields,l=r.table,c=r.select,d={};if(a||!s||r.transport||(l?a=N(l,s):c&&(a=H(c,s),r.group===t&&a[0]&&a[0].optgroup!==t&&(r.group="optgroup"))),_e.data.Model&&s&&(!r.schema||!r.schema.model)){for(n=0,i=s.length;i>n;n++){o=s[n],o.type&&(d[o.field]=o);}he(d)||(r.schema=ce(!0,r.schema,{model:{fields:d}}));}return r.data=a,c=null,r.select=null,l=null,r.table=null,r instanceof ie?r:new ie(r);},re=$.define({idField:"id",init:function init(e){var t=this,n=t.hasChildren||e&&e.hasChildren,i="items",o={};_e.data.Model.fn.init.call(t,e),_typeof(t.children)===ke&&(i=t.children),o={schema:{data:i,model:{hasChildren:n,id:t.idField,fields:t.fields}}},_typeof(t.children)!==ke&&ce(o,t.children),o.data=e,n||(n=o.schema.data),(typeof n==="undefined"?"undefined":_typeof(n))===ke&&(n=_e.getter(n)),be(n)&&(t.hasChildren=!!n.call(t,t)),t._childrenOptions=o,t.hasChildren&&t._initChildren(),t._loaded=!(!e||!e._loaded);},_initChildren:function _initChildren(){var e,t,n,i=this;i.children instanceof ae||(e=i.children=new ae(i._childrenOptions),t=e.transport,n=t.parameterMap,t.parameterMap=function(e,t){return e[i.idField||"id"]=i.id,n&&(e=n(e,t)),e;},e.parent=function(){return i;},e.bind(Ae,function(e){e.node=e.node||i,i.trigger(Ae,e);}),e.bind(Ie,function(e){var t=i.parent();t&&(e.node=e.node||i,t.trigger(Ie,e));}),i._updateChildrenField());},append:function append(e){this._initChildren(),this.loaded(!0),this.children.add(e);},hasChildren:!1,level:function level(){for(var e=this.parentNode(),t=0;e&&e.parentNode;){t++,e=e.parentNode?e.parentNode():null;}return t;},_updateChildrenField:function _updateChildrenField(){var e=this._childrenOptions.schema.data;this[e||"items"]=this.children.data();},_childrenLoaded:function _childrenLoaded(){this._loaded=!0,this._updateChildrenField();},load:function load(){var n,i,o={},r="_query";return this.hasChildren?(this._initChildren(),n=this.children,o[this.idField||"id"]=this.id,this._loaded||(n._data=t,r="read"),n.one(Ae,de(this._childrenLoaded,this)),i=n[r](o)):this.loaded(!0),i||e.Deferred().resolve().promise();},parentNode:function parentNode(){var e=this.parent();return e.parent();},loaded:function loaded(e){return e===t?this._loaded:(this._loaded=e,t);},shouldSerialize:function shouldSerialize(e){return $.fn.shouldSerialize.call(this,e)&&"children"!==e&&"_loaded"!==e&&"hasChildren"!==e&&"_childrenOptions"!==e;}}),ae=ie.extend({init:function init(e){var t=re.define({children:e});ie.fn.init.call(this,ce(!0,{},{schema:{modelBase:t,model:t}},e)),this._attachBubbleHandlers();},_attachBubbleHandlers:function _attachBubbleHandlers(){var e=this;e._data.bind(Ie,function(t){e.trigger(Ie,t);});},remove:function remove(e){var t,n=e.parentNode(),i=this;return n&&n._initChildren&&(i=n.children),t=ie.fn.remove.call(i,e),n&&!i.data().length&&(n.hasChildren=!1),t;},success:O("success"),data:O("data"),insert:function insert(e,t){var n=this.parent();return n&&n._initChildren&&(n.hasChildren=!0,n._initChildren()),ie.fn.insert.call(this,e,t);},_find:function _find(e,t){var n,i,o,r,a=this._data;if(a){if(o=ie.fn[e].call(this,t))return o;for(a=this._flatData(this._data),n=0,i=a.length;i>n;n++){if(r=a[n].children,r instanceof ae&&(o=r[e](t)))return o;}}},get:function get(e){return this._find("get",e);},getByUid:function getByUid(e){return this._find("getByUid",e);}}),ae.create=function(e){e=e&&e.push?{data:e}:e;var t=e||{},n=t.data,i=t.fields,o=t.list;return n&&n._dataSource?n._dataSource:(n||!i||t.transport||o&&(n=V(o,i)),t.data=n,t instanceof ae?t:new ae(t));},se=_e.Observable.extend({init:function init(e,t,n){_e.Observable.fn.init.call(this),this._prefetching=!1,this.dataSource=e,this.prefetch=!n;var i=this;e.bind("change",function(){i._change();}),e.bind("reset",function(){i._reset();}),this._syncWithDataSource(),this.setViewSize(t);},setViewSize:function setViewSize(e){this.viewSize=e,this._recalculate();},at:function at(e){var n=this.pageSize,i=!0;return e>=this.total()?(this.trigger("endreached",{index:e}),null):this.useRanges?this.useRanges?((this.dataOffset>e||e>=this.skip+n)&&(i=this.range(Math.floor(e/n)*n)),e===this.prefetchThreshold&&this._prefetch(),e===this.midPageThreshold?this.range(this.nextMidRange,!0):e===this.nextPageThreshold?this.range(this.nextFullRange):e===this.pullBackThreshold&&this.range(this.offset===this.skip?this.previousMidRange:this.previousFullRange),i?this.dataSource.at(e-this.dataOffset):(this.trigger("endreached",{index:e}),null)):t:this.dataSource.view()[e];},indexOf:function indexOf(e){return this.dataSource.data().indexOf(e)+this.dataOffset;},total:function total(){return parseInt(this.dataSource.total(),10);},next:function next(){var e=this,t=e.pageSize,n=e.skip-e.viewSize+t,i=Ne.max(Ne.floor(n/t),0)*t;this.offset=n,this.dataSource.prefetch(i,t,function(){e._goToRange(n,!0);});},range:function range(e,t){if(this.offset===e)return!0;var n=this,i=this.pageSize,o=Ne.max(Ne.floor(e/i),0)*i,r=this.dataSource;return t&&(o+=i),r.inRange(e,i)?(this.offset=e,this._recalculate(),this._goToRange(e),!0):this.prefetch?(r.prefetch(o,i,function(){n.offset=e,n._recalculate(),n._goToRange(e,!0);}),!1):!0;},syncDataSource:function syncDataSource(){var e=this.offset;this.offset=null,this.range(e);},destroy:function destroy(){this.unbind();},_prefetch:function _prefetch(){var e=this,t=this.pageSize,n=this.skip+t,i=this.dataSource;i.inRange(n,t)||this._prefetching||!this.prefetch||(this._prefetching=!0,this.trigger("prefetching",{skip:n,take:t}),i.prefetch(n,t,function(){e._prefetching=!1,e.trigger("prefetched",{skip:n,take:t});}));},_goToRange:function _goToRange(e,t){this.offset===e&&(this.dataOffset=e,this._expanding=t,this.dataSource.range(e,this.pageSize),this.dataSource.enableRequestsInProgress());},_reset:function _reset(){this._syncPending=!0;},_change:function _change(){var e=this.dataSource;this.length=this.useRanges?e.lastRange().end:e.view().length,this._syncPending&&(this._syncWithDataSource(),this._recalculate(),this._syncPending=!1,this.trigger("reset",{offset:this.offset})),this.trigger("resize"),this._expanding&&this.trigger("expand"),delete this._expanding;},_syncWithDataSource:function _syncWithDataSource(){var e=this.dataSource;this._firstItemUid=e.firstItemUid(),this.dataOffset=this.offset=e.skip()||0,this.pageSize=e.pageSize(),this.useRanges=e.options.serverPaging;},_recalculate:function _recalculate(){var e=this.pageSize,t=this.offset,n=this.viewSize,i=Math.ceil(t/e)*e;this.skip=i,this.midPageThreshold=i+e-1,this.nextPageThreshold=i+n-1,this.prefetchThreshold=i+Math.floor(e/3*2),this.pullBackThreshold=this.offset-1,this.nextMidRange=i+e-n,this.nextFullRange=i,this.previousMidRange=t-n,this.previousFullRange=i-e;}}),le=_e.Observable.extend({init:function init(e,t){var n=this;_e.Observable.fn.init.call(n),this.dataSource=e,this.batchSize=t,this._total=0,this.buffer=new se(e,3*t),this.buffer.bind({endreached:function endreached(e){n.trigger("endreached",{index:e.index});},prefetching:function prefetching(e){n.trigger("prefetching",{skip:e.skip,take:e.take});},prefetched:function prefetched(e){n.trigger("prefetched",{skip:e.skip,take:e.take});},reset:function reset(){n._total=0,n.trigger("reset");},resize:function resize(){n._total=Math.ceil(this.length/n.batchSize),n.trigger("resize",{total:n.total(),offset:this.offset});}});},syncDataSource:function syncDataSource(){this.buffer.syncDataSource();},at:function at(e){var t,n,i=this.buffer,o=e*this.batchSize,r=this.batchSize,a=[];for(i.offset>o&&i.at(i.offset-1),n=0;r>n&&(t=i.at(o+n),null!==t);n++){a.push(t);}return a;},total:function total(){return this._total;},destroy:function destroy(){this.buffer.destroy(),this.unbind();}}),ce(!0,_e.data,{readers:{json:ne},Query:r,DataSource:ie,HierarchicalDataSource:ae,Node:re,ObservableObject:j,ObservableArray:Je,LazyObservableArray:W,LocalTransport:Z,RemoteTransport:ee,Cache:te,DataReader:ne,Model:$,Buffer:se,BatchBuffer:le});}(window.kendo.jQuery),window.kendo;},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("kendo.binder.min",["kendo.core.min","kendo.data.min"],e);}(function(){return function(e,t){function n(t,n,i){return v.extend({init:function init(e,t,n){var i=this;v.fn.init.call(i,e.element[0],t,n),i.widget=e,i._dataBinding=I(i.dataBinding,i),i._dataBound=I(i.dataBound,i),i._itemChange=I(i.itemChange,i);},itemChange:function itemChange(e){a(e.item[0],e.data,this._ns(e.ns),[e.data].concat(this.bindings[t]._parents()));},dataBinding:function dataBinding(e){var t,n,i=this.widget,o=e.removedItems||i.items();for(t=0,n=o.length;n>t;t++){c(o[t],!1);}},_ns:function _ns(t){t=t||C.ui;var n=[C.ui,C.dataviz.ui,C.mobile.ui];return n.splice(e.inArray(t,n),1),n.unshift(t),C.rolesFromNamespaces(n);},dataBound:function dataBound(e){var i,o,r,s,l=this.widget,c=e.addedItems||l.items(),d=l[n],u=C.data.HierarchicalDataSource;if(!(u&&d instanceof u)&&c.length)for(r=e.addedDataItems||d.flatView(),s=this.bindings[t]._parents(),i=0,o=r.length;o>i;i++){a(c[i],r[i],this._ns(e.ns),[r[i]].concat(s));}},refresh:function refresh(e){var o,r,a,s=this,l=s.widget;e=e||{},e.action||(s.destroy(),l.bind("dataBinding",s._dataBinding),l.bind("dataBound",s._dataBound),l.bind("itemChange",s._itemChange),o=s.bindings[t].get(),l[n]instanceof C.data.DataSource&&l[n]!=o&&(o instanceof C.data.DataSource?l[i](o):o&&o._dataSource?l[i](o._dataSource):(l[n].data(o),r=C.ui.Select&&l instanceof C.ui.Select,a=C.ui.MultiSelect&&l instanceof C.ui.MultiSelect,s.bindings.value&&(r||a)&&l.value(f(s.bindings.value.get(),l.options.dataValueField)))));},destroy:function destroy(){var e=this.widget;e.unbind("dataBinding",this._dataBinding),e.unbind("dataBound",this._dataBound),e.unbind("itemChange",this._itemChange);}});}function i(e,n){var i=C.initWidget(e,{},n);return i?new y(i):t;}function o(e){var t,n,i,r,a,s,l,c={};for(l=e.match(k),t=0,n=l.length;n>t;t++){i=l[t],r=i.indexOf(":"),a=i.substring(0,r),s=i.substring(r+1),"{"==s.charAt(0)&&(s=o(s)),c[a]=s;}return c;}function r(e,t,n){var i,o={};for(i in e){o[i]=new n(t,e[i]);}return o;}function a(e,t,n,s){var c,d,u,h,f=e.getAttribute("data-"+C.ns+"role"),v=e.getAttribute("data-"+C.ns+"bind"),_=[],b=!0,y={};if(s=s||[t],(f||v)&&l(e,!1),f&&(u=i(e,n)),v&&(v=o(v.replace(x,"")),u||(y=C.parseOptions(e,{textField:"",valueField:"",template:"",valueUpdate:N,valuePrimitive:!1,autoBind:!0}),y.roles=n,u=new w(e,y)),u.source=t,d=r(v,s,p),y.template&&(d.template=new g(s,"",y.template)),d.click&&(v.events=v.events||{},v.events.click=v.click,d.click.destroy(),delete d.click),d.source&&(b=!1),v.attr&&(d.attr=r(v.attr,s,p)),v.style&&(d.style=r(v.style,s,p)),v.events&&(d.events=r(v.events,s,m)),v.css&&(d.css=r(v.css,s,p)),u.bind(d)),u&&(e.kendoBindingTarget=u),h=e.children,b&&h){for(c=0;h.length>c;c++){_[c]=h[c];}for(c=0;_.length>c;c++){a(_[c],t,n,s);}}}function s(t,n){var i,o,r,s=C.rolesFromNamespaces([].slice.call(arguments,2));for(n=C.observable(n),t=e(t),i=0,o=t.length;o>i;i++){r=t[i],1===r.nodeType&&a(r,n,s);}}function l(t,n){var i,o=t.kendoBindingTarget;o&&(o.destroy(),L?delete t.kendoBindingTarget:t.removeAttribute?t.removeAttribute("kendoBindingTarget"):t.kendoBindingTarget=null),n&&(i=C.widgetInstance(e(t)),i&&_typeof(i.destroy)===H&&i.destroy());}function c(e,t){l(e,t),d(e,t);}function d(e,t){var n,i,o=e.children;if(o)for(n=0,i=o.length;i>n;n++){c(o[n],t);}}function u(t){var n,i;for(t=e(t),n=0,i=t.length;i>n;n++){c(t[n],!1);}}function h(e,t){var n=e.element,i=n[0].kendoBindingTarget;i&&s(n,i.source,t);}function f(e,t){var n,i,o=[],r=0;if(!t)return e;if(e instanceof D){for(n=e.length;n>r;r++){i=e[r],o[r]=i.get?i.get(t):i[t];}e=o;}else e instanceof T&&(e=e.get(t));return e;}var p,m,g,v,_,b,w,y,k,x,C=window.kendo,S=C.Observable,T=C.data.ObservableObject,D=C.data.ObservableArray,A={}.toString,E={},R=C.Class,I=e.proxy,F="value",M="source",P="events",z="checked",B="css",L=!0,H="function",N="change";!function(){var e=document.createElement("a");try{delete e.test;}catch(t){L=!1;}}(),p=S.extend({init:function init(e,t){var n=this;S.fn.init.call(n),n.source=e[0],n.parents=e,n.path=t,n.dependencies={},n.dependencies[t]=!0,n.observable=n.source instanceof S,n._access=function(e){n.dependencies[e.field]=!0;},n.observable&&(n._change=function(e){n.change(e);},n.source.bind(N,n._change));},_parents:function _parents(){var t,n=this.parents,i=this.get();return i&&"function"==typeof i.parent&&(t=i.parent(),e.inArray(t,n)<0&&(n=[t].concat(n))),n;},change:function change(e){var t,n,i=e.field,o=this;if("this"===o.path)o.trigger(N,e);else for(t in o.dependencies){if(0===t.indexOf(i)&&(n=t.charAt(i.length),!n||"."===n||"["===n)){o.trigger(N,e);break;}}},start:function start(e){e.bind("get",this._access);},stop:function stop(e){e.unbind("get",this._access);},get:function get(){var e=this,n=e.source,i=0,o=e.path,r=n;if(!e.observable)return r;for(e.start(e.source),r=n.get(o);r===t&&n;){n=e.parents[++i],n instanceof T&&(r=n.get(o));}if(r===t)for(n=e.source;r===t&&n;){n=n.parent(),n instanceof T&&(r=n.get(o));}return"function"==typeof r&&(i=o.lastIndexOf("."),i>0&&(n=n.get(o.substring(0,i))),e.start(n),r=n!==e.source?r.call(n,e.source):r.call(n),e.stop(n)),n&&n!==e.source&&(e.currentSource=n,n.unbind(N,e._change).bind(N,e._change)),e.stop(e.source),r;},set:function set(e){var t=this.currentSource||this.source,n=C.getter(this.path)(t);"function"==typeof n?t!==this.source?n.call(t,this.source,e):n.call(t,e):t.set(this.path,e);},destroy:function destroy(){this.observable&&(this.source.unbind(N,this._change),this.currentSource&&this.currentSource.unbind(N,this._change)),this.unbind();}}),m=p.extend({get:function get(){var e,t=this.source,n=this.path,i=0;for(e=t.get(n);!e&&t;){t=this.parents[++i],t instanceof T&&(e=t.get(n));}return I(e,t);}}),g=p.extend({init:function init(e,t,n){var i=this;p.fn.init.call(i,e,t),i.template=n;},render:function render(e){var t;return this.start(this.source),t=C.render(this.template,e),this.stop(this.source),t;}}),v=R.extend({init:function init(e,t,n){this.element=e,this.bindings=t,this.options=n;},bind:function bind(e,t){var n=this;e=t?e[t]:e,e.bind(N,function(e){n.refresh(t||e);}),n.refresh(t);},destroy:function destroy(){}}),_=v.extend({dataType:function dataType(){var e=this.element.getAttribute("data-type")||this.element.type||"text";return e.toLowerCase();},parsedValue:function parsedValue(){return this._parseValue(this.element.value,this.dataType());},_parseValue:function _parseValue(e,t){return"date"==t?e=C.parseDate(e,"yyyy-MM-dd"):"datetime-local"==t?e=C.parseDate(e,["yyyy-MM-ddTHH:mm:ss","yyyy-MM-ddTHH:mm"]):"number"==t?e=C.parseFloat(e):"boolean"==t&&(e=e.toLowerCase(),e=null!==C.parseFloat(e)?!!C.parseFloat(e):"true"===e.toLowerCase()),e;}}),E.attr=v.extend({refresh:function refresh(e){this.element.setAttribute(e,this.bindings.attr[e].get());}}),E.css=v.extend({init:function init(e,t,n){v.fn.init.call(this,e,t,n),this.classes={};},refresh:function refresh(t){var n=e(this.element),i=this.bindings.css[t],o=this.classes[t]=i.get();o?n.addClass(t):n.removeClass(t);}}),E.style=v.extend({refresh:function refresh(e){this.element.style[e]=this.bindings.style[e].get()||"";}}),E.enabled=v.extend({refresh:function refresh(){this.bindings.enabled.get()?this.element.removeAttribute("disabled"):this.element.setAttribute("disabled","disabled");}}),E.readonly=v.extend({refresh:function refresh(){this.bindings.readonly.get()?this.element.setAttribute("readonly","readonly"):this.element.removeAttribute("readonly");}}),E.disabled=v.extend({refresh:function refresh(){this.bindings.disabled.get()?this.element.setAttribute("disabled","disabled"):this.element.removeAttribute("disabled");}}),E.events=v.extend({init:function init(e,t,n){v.fn.init.call(this,e,t,n),this.handlers={};},refresh:function refresh(t){var n=e(this.element),i=this.bindings.events[t],o=this.handlers[t];o&&n.off(t,o),o=this.handlers[t]=i.get(),n.on(t,i.source,o);},destroy:function destroy(){var t,n=e(this.element);for(t in this.handlers){n.off(t,this.handlers[t]);}}}),E.text=v.extend({refresh:function refresh(){var t=this.bindings.text.get(),n=this.element.getAttribute("data-format")||"";null==t&&(t=""),e(this.element).text(C.toString(t,n));}}),E.visible=v.extend({refresh:function refresh(){this.element.style.display=this.bindings.visible.get()?"":"none";}}),E.invisible=v.extend({refresh:function refresh(){this.element.style.display=this.bindings.invisible.get()?"none":"";}}),E.html=v.extend({refresh:function refresh(){this.element.innerHTML=this.bindings.html.get();}}),E.value=_.extend({init:function init(t,n,i){_.fn.init.call(this,t,n,i),this._change=I(this.change,this),this.eventName=i.valueUpdate||N,e(this.element).on(this.eventName,this._change),this._initChange=!1;},change:function change(){this._initChange=this.eventName!=N,this.bindings[F].set(this.parsedValue()),this._initChange=!1;},refresh:function refresh(){var e,t;this._initChange||(e=this.bindings[F].get(),null==e&&(e=""),t=this.dataType(),"date"==t?e=C.toString(e,"yyyy-MM-dd"):"datetime-local"==t&&(e=C.toString(e,"yyyy-MM-ddTHH:mm:ss")),this.element.value=e),this._initChange=!1;},destroy:function destroy(){e(this.element).off(this.eventName,this._change);}}),E.source=v.extend({init:function init(e,t,n){v.fn.init.call(this,e,t,n);var i=this.bindings.source.get();i instanceof C.data.DataSource&&n.autoBind!==!1&&i.fetch();},refresh:function refresh(e){var t=this,n=t.bindings.source.get();n instanceof D||n instanceof C.data.DataSource?(e=e||{},"add"==e.action?t.add(e.index,e.items):"remove"==e.action?t.remove(e.index,e.items):"itemchange"!=e.action&&t.render()):t.render();},container:function container(){var e=this.element;return"table"==e.nodeName.toLowerCase()&&(e.tBodies[0]||e.appendChild(document.createElement("tbody")),e=e.tBodies[0]),e;},template:function template(){var e=this.options,t=e.template,n=this.container().nodeName.toLowerCase();return t||(t="select"==n?e.valueField||e.textField?C.format('<option value="#:{0}#">#:{1}#</option>',e.valueField||e.textField,e.textField||e.valueField):"<option>#:data#</option>":"tbody"==n?"<tr><td>#:data#</td></tr>":"ul"==n||"ol"==n?"<li>#:data#</li>":"#:data#",t=C.template(t)),t;},add:function add(t,n){var i,o,r,s,l=this.container(),c=l.cloneNode(!1),d=l.children[t];if(e(c).html(C.render(this.template(),n)),c.children.length)for(i=this.bindings.source._parents(),o=0,r=n.length;r>o;o++){s=c.children[0],l.insertBefore(s,d||null),a(s,n[o],this.options.roles,[n[o]].concat(i));}},remove:function remove(e,t){var n,i,o=this.container();for(n=0;t.length>n;n++){i=o.children[e],c(i,!0),i.parentNode==o&&o.removeChild(i);}},render:function render(){var t,n,i,o=this.bindings.source.get(),r=this.container(),s=this.template();if(null!=o)if(o instanceof C.data.DataSource&&(o=o.view()),o instanceof D||"[object Array]"===A.call(o)||(o=[o]),this.bindings.template){if(d(r,!0),e(r).html(this.bindings.template.render(o)),r.children.length)for(t=this.bindings.source._parents(),n=0,i=o.length;i>n;n++){a(r.children[n],o[n],this.options.roles,[o[n]].concat(t));}}else e(r).html(C.render(s,o));}}),E.input={checked:_.extend({init:function init(t,n,i){_.fn.init.call(this,t,n,i),this._change=I(this.change,this),e(this.element).change(this._change);},change:function change(){var e,t,n,i=this.element,o=this.value();if("radio"==i.type)o=this.parsedValue(),this.bindings[z].set(o);else if("checkbox"==i.type)if(e=this.bindings[z].get(),e instanceof D){if(o=this.parsedValue(),o instanceof Date){for(n=0;e.length>n;n++){if(e[n]instanceof Date&&+e[n]===+o){t=n;break;}}}else t=e.indexOf(o);t>-1?e.splice(t,1):e.push(o);}else this.bindings[z].set(o);},refresh:function refresh(){var e,t,n=this.bindings[z].get(),i=n,o=this.dataType(),r=this.element;if("checkbox"==r.type){if(i instanceof D){if(e=-1,n=this.parsedValue(),n instanceof Date){for(t=0;i.length>t;t++){if(i[t]instanceof Date&&+i[t]===+n){e=t;break;}}}else e=i.indexOf(n);r.checked=e>=0;}else r.checked=i;}else"radio"==r.type&&null!=n&&("date"==o?n=C.toString(n,"yyyy-MM-dd"):"datetime-local"==o&&(n=C.toString(n,"yyyy-MM-ddTHH:mm:ss")),r.checked=r.value===""+n);},value:function value(){var e=this.element,t=e.value;return"checkbox"==e.type&&(t=e.checked),t;},destroy:function destroy(){e(this.element).off(N,this._change);}})},E.select={source:E.source.extend({refresh:function refresh(n){var i,o=this,r=o.bindings.source.get();r instanceof D||r instanceof C.data.DataSource?(n=n||{},"add"==n.action?o.add(n.index,n.items):"remove"==n.action?o.remove(n.index,n.items):"itemchange"!=n.action&&n.action!==t||(o.render(),o.bindings.value&&o.bindings.value&&(i=f(o.bindings.value.get(),e(o.element).data("valueField")),null===i?o.element.selectedIndex=-1:o.element.value=i))):o.render();}}),value:_.extend({init:function init(t,n,i){_.fn.init.call(this,t,n,i),this._change=I(this.change,this),e(this.element).change(this._change);},parsedValue:function parsedValue(){var e,t,n,i,o=this.dataType(),r=[];for(n=0,i=this.element.options.length;i>n;n++){t=this.element.options[n],t.selected&&(e=t.attributes.value,e=e&&e.specified?t.value:t.text,r.push(this._parseValue(e,o)));}return r;},change:function change(){var e,n,i,o,r,a,s,l,c=[],d=this.element,u=this.options.valueField||this.options.textField,h=this.options.valuePrimitive;for(r=0,a=d.options.length;a>r;r++){n=d.options[r],n.selected&&(o=n.attributes.value,o=o&&o.specified?n.value:n.text,c.push(this._parseValue(o,this.dataType())));}if(u)for(e=this.bindings.source.get(),e instanceof C.data.DataSource&&(e=e.view()),i=0;c.length>i;i++){for(r=0,a=e.length;a>r;r++){if(s=this._parseValue(e[r].get(u),this.dataType()),l=s+""===c[i]){c[i]=e[r];break;}}}o=this.bindings[F].get(),o instanceof D?o.splice.apply(o,[0,o.length].concat(c)):this.bindings[F].set(h||!(o instanceof T||null===o||o===t)&&u?c[0].get(u):c[0]);},refresh:function refresh(){var e,t,n,i=this.element,o=i.options,r=this.bindings[F].get(),a=r,s=this.options.valueField||this.options.textField,l=!1,c=this.dataType();for(a instanceof D||(a=new D([r])),i.selectedIndex=-1,n=0;a.length>n;n++){for(r=a[n],s&&r instanceof T&&(r=r.get(s)),"date"==c?r=C.toString(a[n],"yyyy-MM-dd"):"datetime-local"==c&&(r=C.toString(a[n],"yyyy-MM-ddTHH:mm:ss")),e=0;o.length>e;e++){t=o[e].value,""===t&&""!==r&&(t=o[e].text),null!=r&&t==""+r&&(o[e].selected=!0,l=!0);}}},destroy:function destroy(){e(this.element).off(N,this._change);}})},E.widget={events:v.extend({init:function init(e,t,n){v.fn.init.call(this,e.element[0],t,n),this.widget=e,this.handlers={};},refresh:function refresh(e){var t=this.bindings.events[e],n=this.handlers[e];n&&this.widget.unbind(e,n),n=t.get(),this.handlers[e]=function(e){e.data=t.source,n(e),e.data===t.source&&delete e.data;},this.widget.bind(e,this.handlers[e]);},destroy:function destroy(){var e;for(e in this.handlers){this.widget.unbind(e,this.handlers[e]);}}}),checked:v.extend({init:function init(e,t,n){v.fn.init.call(this,e.element[0],t,n),this.widget=e,this._change=I(this.change,this),this.widget.bind(N,this._change);},change:function change(){this.bindings[z].set(this.value());},refresh:function refresh(){this.widget.check(this.bindings[z].get()===!0);},value:function value(){var e=this.element,t=e.value;return"on"!=t&&"off"!=t||(t=e.checked),t;},destroy:function destroy(){this.widget.unbind(N,this._change);}}),visible:v.extend({init:function init(e,t,n){v.fn.init.call(this,e.element[0],t,n),this.widget=e;},refresh:function refresh(){var e=this.bindings.visible.get();this.widget.wrapper[0].style.display=e?"":"none";}}),invisible:v.extend({init:function init(e,t,n){v.fn.init.call(this,e.element[0],t,n),this.widget=e;},refresh:function refresh(){var e=this.bindings.invisible.get();this.widget.wrapper[0].style.display=e?"none":"";}}),enabled:v.extend({init:function init(e,t,n){v.fn.init.call(this,e.element[0],t,n),this.widget=e;},refresh:function refresh(){this.widget.enable&&this.widget.enable(this.bindings.enabled.get());}}),disabled:v.extend({init:function init(e,t,n){v.fn.init.call(this,e.element[0],t,n),this.widget=e;},refresh:function refresh(){this.widget.enable&&this.widget.enable(!this.bindings.disabled.get());}}),source:n("source","dataSource","setDataSource"),value:v.extend({init:function init(t,n,i){v.fn.init.call(this,t.element[0],n,i),this.widget=t,this._change=e.proxy(this.change,this),this.widget.first(N,this._change);var o=this.bindings.value.get();this._valueIsObservableObject=!i.valuePrimitive&&(null==o||o instanceof T),this._valueIsObservableArray=o instanceof D,this._initChange=!1;},_source:function _source(){var e;return this.widget.dataItem&&(e=this.widget.dataItem(),e&&e instanceof T)?[e]:(this.bindings.source&&(e=this.bindings.source.get()),(!e||e instanceof C.data.DataSource)&&(e=this.widget.dataSource.flatView()),e);},change:function change(){var e,t,n,i,o,r,a,s=this.widget.value(),l=this.options.dataValueField||this.options.dataTextField,c="[object Array]"===A.call(s),d=this._valueIsObservableObject,u=[];if(this._initChange=!0,l)if(""===s&&(d||this.options.valuePrimitive))s=null;else{for(a=this._source(),c&&(t=s.length,u=s.slice(0)),o=0,r=a.length;r>o;o++){if(n=a[o],i=n.get(l),c){for(e=0;t>e;e++){if(i==u[e]){u[e]=n;break;}}}else if(i==s){s=d?n:i;break;}}u[0]&&(s=this._valueIsObservableArray?u:d||!l?u[0]:u[0].get(l));}this.bindings.value.set(s),this._initChange=!1;},refresh:function refresh(){var e,n,i,o,r,a,s,l,c;if(!this._initChange){if(e=this.widget,n=e.options,i=n.dataTextField,o=n.dataValueField||i,r=this.bindings.value.get(),a=n.text||"",s=0,c=[],r===t&&(r=null),o)if(r instanceof D){for(l=r.length;l>s;s++){c[s]=r[s].get(o);}r=c;}else r instanceof T&&(a=r.get(i),r=r.get(o));n.autoBind!==!1||n.cascadeFrom||!e.listView||e.listView.bound()?e.value(r):(i!==o||a||(a=r),a||!r&&0!==r||!n.valuePrimitive?e._preselect(r,a):e.value(r));}this._initChange=!1;},destroy:function destroy(){this.widget.unbind(N,this._change);}}),gantt:{dependencies:n("dependencies","dependencies","setDependenciesDataSource")},multiselect:{value:v.extend({init:function init(t,n,i){v.fn.init.call(this,t.element[0],n,i),this.widget=t,this._change=e.proxy(this.change,this),this.widget.first(N,this._change),this._initChange=!1;},change:function change(){var e,n,i,o,r,a,s,l,c,d=this,u=d.bindings[F].get(),h=d.options.valuePrimitive,f=h?d.widget.value():d.widget.dataItems(),p=this.options.dataValueField||this.options.dataTextField;if(f=f.slice(0),d._initChange=!0,u instanceof D){for(e=[],n=f.length,i=0,o=0,r=u[i],a=!1;r!==t;){for(c=!1,o=0;n>o;o++){if(h?a=f[o]==r:(l=f[o],l=l.get?l.get(p):l,a=l==(r.get?r.get(p):r)),a){f.splice(o,1),n-=1,c=!0;break;}}c?i+=1:(e.push(r),b(u,i,1),s=i),r=u[i];}b(u,u.length,0,f),e.length&&u.trigger("change",{action:"remove",items:e,index:s}),f.length&&u.trigger("change",{action:"add",items:f,index:u.length-1});}else d.bindings[F].set(f);d._initChange=!1;},refresh:function refresh(){if(!this._initChange){var e,n,i=this.options,o=this.widget,r=i.dataValueField||i.dataTextField,a=this.bindings.value.get(),s=a,l=0,c=[];if(a===t&&(a=null),r)if(a instanceof D){for(e=a.length;e>l;l++){n=a[l],c[l]=n.get?n.get(r):n;}a=c;}else a instanceof T&&(a=a.get(r));i.autoBind!==!1||i.valuePrimitive===!0||o._isBound()?o.value(a):o._preselect(s,a);}},destroy:function destroy(){this.widget.unbind(N,this._change);}})},scheduler:{source:n("source","dataSource","setDataSource").extend({dataBound:function dataBound(e){var t,n,i,o,r=this.widget,s=e.addedItems||r.items();if(s.length)for(i=e.addedDataItems||r.dataItems(),o=this.bindings.source._parents(),t=0,n=i.length;n>t;t++){a(s[t],i[t],this._ns(e.ns),[i[t]].concat(o));}}})}},b=function b(e,t,n,i){var o,r,a,s,l;if(i=i||[],n=n||0,o=i.length,r=e.length,a=[].slice.call(e,t+n),s=a.length,o){for(o=t+o,l=0;o>t;t++){e[t]=i[l],l++;}e.length=o;}else if(n)for(e.length=t,n+=t;n>t;){delete e[--n];}if(s){for(s=t+s,l=0;s>t;t++){e[t]=a[l],l++;}e.length=s;}for(t=e.length;r>t;){delete e[t],t++;}},w=R.extend({init:function init(e,t){this.target=e,this.options=t,this.toDestroy=[];},bind:function bind(e){var t,n,i,o,r,a,s=this instanceof y,l=this.binders();for(t in e){t==F?n=!0:t==M?i=!0:t!=P||s?t==z?r=!0:t==B?a=!0:this.applyBinding(t,e,l):o=!0;}i&&this.applyBinding(M,e,l),n&&this.applyBinding(F,e,l),r&&this.applyBinding(z,e,l),o&&!s&&this.applyBinding(P,e,l),a&&!s&&this.applyBinding(B,e,l);},binders:function binders(){return E[this.target.nodeName.toLowerCase()]||{};},applyBinding:function applyBinding(e,t,n){var i,o=n[e]||E[e],r=this.toDestroy,a=t[e];if(o){if(o=new o(this.target,t,this.options),r.push(o),a instanceof p)o.bind(a),r.push(a);else for(i in a){o.bind(a,i),r.push(a[i]);}}else if("template"!==e)throw Error("The "+e+" binding is not supported by the "+this.target.nodeName.toLowerCase()+" element");},destroy:function destroy(){var e,t,n=this.toDestroy;for(e=0,t=n.length;t>e;e++){n[e].destroy();}}}),y=w.extend({binders:function binders(){return E.widget[this.target.options.name.toLowerCase()]||{};},applyBinding:function applyBinding(e,t,n){var i,o=n[e]||E.widget[e],r=this.toDestroy,a=t[e];if(!o)throw Error("The "+e+" binding is not supported by the "+this.target.options.name+" widget");if(o=new o(this.target,t,this.target.options),r.push(o),a instanceof p)o.bind(a),r.push(a);else for(i in a){o.bind(a,i),r.push(a[i]);}}}),k=/[A-Za-z0-9_\-]+:(\{([^}]*)\}|[^,}]+)/g,x=/\s/g,C.unbind=u,C.bind=s,C.data.binders=E,C.data.Binder=v,C.notify=h,C.observable=function(e){return e instanceof T||(e=new T(e)),e;},C.observableHierarchy=function(e){function t(e){var n,i;for(n=0;e.length>n;n++){e[n]._initChildren(),i=e[n].children,i.fetch(),e[n].items=i.data(),t(e[n].items);}}var n=C.data.HierarchicalDataSource.create(e);return n.fetch(),t(n.data()),n._data._dataSource=n,n._data;};}(window.kendo.jQuery),window.kendo;},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("kendo.fx.min",["kendo.core.min"],e);}(function(){return function(e,t){function n(e){return parseInt(e,10);}function i(e,t){return n(e.css(t));}function o(e){var t,n=[];for(t in e){n.push(t);}return n;}function r(e){for(var t in e){-1!=U.indexOf(t)&&-1==W.indexOf(t)&&delete e[t];}return e;}function a(e,t){var n,i,o,r,a=[],s={};for(i in t){n=i.toLowerCase(),r=I&&-1!=U.indexOf(n),!E.hasHW3D&&r&&-1==W.indexOf(n)?delete t[i]:(o=t[i],r?a.push(i+"("+o+")"):s[i]=o);}return a.length&&(s[se]=a.join(" ")),s;}function s(e,t){var i,o,r;return I?(i=e.css(se),i==K?"scale"==t?1:0:(o=i.match(RegExp(t+"\\s*\\(([\\d\\w\\.]+)")),r=0,o?r=n(o[1]):(o=i.match(B)||[0,0,0,0,0],t=t.toLowerCase(),H.test(t)?r=parseFloat(o[3]/o[2]):"translatey"==t?r=parseFloat(o[4]/o[2]):"scale"==t?r=parseFloat(o[2]):"rotate"==t&&(r=parseFloat(Math.atan2(o[2],o[1])))),r)):parseFloat(e.css(t));}function l(e){return e.charAt(0).toUpperCase()+e.substring(1);}function c(e,t){var n=p.extend(t),i=n.prototype.directions;S[l(e)]=n,S.Element.prototype[e]=function(e,t,i,o){return new n(this.element,e,t,i,o);},T(i,function(t,i){S.Element.prototype[e+l(i)]=function(e,t,o){return new n(this.element,i,e,t,o);};});}function d(e,n,i,o){c(e,{directions:g,startValue:function startValue(e){return this._startValue=e,this;},endValue:function endValue(e){return this._endValue=e,this;},shouldHide:function shouldHide(){return this._shouldHide;},prepare:function prepare(e,r){var a,s,l=this,c="out"===this._direction,d=l.element.data(n),u=!(isNaN(d)||d==i);a=u?d:t!==this._startValue?this._startValue:c?i:o,s=t!==this._endValue?this._endValue:c?o:i,this._reverse?(e[n]=s,r[n]=a):(e[n]=a,r[n]=s),l._shouldHide=r[n]===o;}});}function u(e,t){var n=C.directions[t].vertical,i=e[n?J:X]()/2+"px";return _[t].replace("$size",i);}var h,f,p,m,g,v,_,b,w,y,k,x,C=window.kendo,S=C.effects,T=e.each,D=e.extend,A=e.proxy,E=C.support,R=E.browser,I=E.transforms,F=E.transitions,M={scale:0,scalex:0,scaley:0,scale3d:0},P={translate:0,translatex:0,translatey:0,translate3d:0},z=t!==document.documentElement.style.zoom&&!I,B=/matrix3?d?\s*\(.*,\s*([\d\.\-]+)\w*?,\s*([\d\.\-]+)\w*?,\s*([\d\.\-]+)\w*?,\s*([\d\.\-]+)\w*?/i,L=/^(-?[\d\.\-]+)?[\w\s]*,?\s*(-?[\d\.\-]+)?[\w\s]*/i,H=/translatex?$/i,N=/(zoom|fade|expand)(\w+)/,O=/(zoom|fade|expand)/,V=/[xy]$/i,U=["perspective","rotate","rotatex","rotatey","rotatez","rotate3d","scale","scalex","scaley","scalez","scale3d","skew","skewx","skewy","translate","translatex","translatey","translatez","translate3d","matrix","matrix3d"],W=["rotate","scale","scalex","scaley","skew","skewx","skewy","translate","translatex","translatey","matrix"],j={rotate:"deg",scale:"",skew:"px",translate:"px"},q=I.css,G=Math.round,$="",Y="px",K="none",Q="auto",X="width",J="height",Z="hidden",ee="origin",te="abortId",ne="overflow",ie="translate",oe="position",re="completeCallback",ae=q+"transition",se=q+"transform",le=q+"backface-visibility",ce=q+"perspective",de="1500px",ue="perspective("+de+")",he={left:{reverse:"right",property:"left",transition:"translatex",vertical:!1,modifier:-1},right:{reverse:"left",property:"left",transition:"translatex",vertical:!1,modifier:1},down:{reverse:"up",property:"top",transition:"translatey",vertical:!0,modifier:1},up:{reverse:"down",property:"top",transition:"translatey",vertical:!0,modifier:-1},top:{reverse:"bottom"},bottom:{reverse:"top"},"in":{reverse:"out",modifier:-1},out:{reverse:"in",modifier:1},vertical:{reverse:"vertical"},horizontal:{reverse:"horizontal"}};C.directions=he,D(e.fn,{kendoStop:function kendoStop(e,t){return F?S.stopQueue(this,e||!1,t||!1):this.stop(e,t);}}),I&&!F&&(T(W,function(n,i){e.fn[i]=function(n){if(t===n)return s(this,i);var o=e(this)[0],r=i+"("+n+j[i.replace(V,"")]+")";return-1==o.style.cssText.indexOf(se)?e(this).css(se,r):o.style.cssText=o.style.cssText.replace(RegExp(i+"\\(.*?\\)","i"),r),this;},e.fx.step[i]=function(t){e(t.elem)[i](t.now);};}),h=e.fx.prototype.cur,e.fx.prototype.cur=function(){return-1!=W.indexOf(this.prop)?parseFloat(e(this.elem)[this.prop]()):h.apply(this,arguments);}),C.toggleClass=function(e,t,n,i){return t&&(t=t.split(" "),F&&(n=D({exclusive:"all",duration:400,ease:"ease-out"},n),e.css(ae,n.exclusive+" "+n.duration+"ms "+n.ease),setTimeout(function(){e.css(ae,"").css(J);},n.duration)),T(t,function(t,n){e.toggleClass(n,i);})),e;},C.parseEffects=function(e,t){var n={};return"string"==typeof e?T(e.split(" "),function(e,i){var o=!O.test(i),r=i.replace(N,function(e,t,n){return t+":"+n.toLowerCase();}),a=r.split(":"),s=a[1],l={};a.length>1&&(l.direction=t&&o?he[s].reverse:s),n[a[0]]=l;}):T(e,function(e){var i=this.direction;i&&t&&!O.test(e)&&(this.direction=he[i].reverse),n[e]=this;}),n;},F&&D(S,{transition:function transition(t,n,i){var r,s,l,c,d=0,u=t.data("keys")||[];i=D({duration:200,ease:"ease-out",complete:null,exclusive:"all"},i),l=!1,c=function c(){l||(l=!0,s&&(clearTimeout(s),s=null),t.removeData(te).dequeue().css(ae,"").css(ae),i.complete.call(t));},i.duration=e.fx?e.fx.speeds[i.duration]||i.duration:i.duration,r=a(t,n),e.merge(u,o(r)),t.data("keys",e.unique(u)).height(),t.css(ae,i.exclusive+" "+i.duration+"ms "+i.ease).css(ae),t.css(r).css(se),F.event&&(t.one(F.event,c),0!==i.duration&&(d=500)),s=setTimeout(c,i.duration+d),t.data(te,s),t.data(re,c);},stopQueue:function stopQueue(e,t,n){var i,o=e.data("keys"),r=!n&&o,a=e.data(re);return r&&(i=C.getComputedStyles(e[0],o)),a&&a(),r&&e.css(i),e.removeData("keys").stop(t);}}),f=C.Class.extend({init:function init(e,t){var n=this;n.element=e,n.effects=[],n.options=t,n.restore=[];},run:function run(t){var n,i,o,s,l,c,d,u=this,h=t.length,f=u.element,p=u.options,m=e.Deferred(),g={},v={};for(u.effects=t,m.then(e.proxy(u,"complete")),f.data("animating",!0),i=0;h>i;i++){for(n=t[i],n.setReverse(p.reverse),n.setOptions(p),u.addRestoreProperties(n.restore),n.prepare(g,v),l=n.children(),o=0,c=l.length;c>o;o++){l[o].duration(p.duration).run();}}for(d in p.effects){D(v,p.effects[d].properties);}for(f.is(":visible")||D(g,{display:f.data("olddisplay")||"block"}),I&&!p.reset&&(s=f.data("targetTransform"),s&&(g=D(s,g))),g=a(f,g),I&&!F&&(g=r(g)),f.css(g).css(se),i=0;h>i;i++){t[i].setup();}return p.init&&p.init(),f.data("targetTransform",v),S.animate(f,v,D({},p,{complete:m.resolve})),m.promise();},stop:function stop(){e(this.element).kendoStop(!0,!0);},addRestoreProperties:function addRestoreProperties(e){for(var t,n=this.element,i=0,o=e.length;o>i;i++){t=e[i],this.restore.push(t),n.data(t)||n.data(t,n.css(t));}},restoreCallback:function restoreCallback(){var e,t,n,i=this.element;for(e=0,t=this.restore.length;t>e;e++){n=this.restore[e],i.css(n,i.data(n));}},complete:function complete(){var t=this,n=0,i=t.element,o=t.options,r=t.effects,a=r.length;for(i.removeData("animating").dequeue(),o.hide&&i.data("olddisplay",i.css("display")).hide(),this.restoreCallback(),z&&!I&&setTimeout(e.proxy(this,"restoreCallback"),0);a>n;n++){r[n].teardown();}o.completeCallback&&o.completeCallback(i);}}),S.promise=function(e,t){var n,i,o,r=[],a=new f(e,t),s=C.parseEffects(t.effects);t.effects=s;for(o in s){n=S[l(o)],n&&(i=new n(e,s[o].direction),r.push(i));}r[0]?a.run(r):(e.is(":visible")||e.css({display:e.data("olddisplay")||"block"}).css("display"),t.init&&t.init(),e.dequeue(),a.complete());},D(S,{animate:function animate(n,o,a){var s=a.transition!==!1;delete a.transition,F&&"transition"in S&&s?S.transition(n,o,a):I?n.animate(r(o),{queue:!1,show:!1,hide:!1,duration:a.duration,complete:a.complete}):n.each(function(){var n=e(this),r={};T(U,function(e,a){var s,l,c,d,u,h,f,p=o?o[a]+" ":null;p&&(l=o,a in M&&o[a]!==t?(s=p.match(L),I&&D(l,{scale:+s[0]})):a in P&&o[a]!==t&&(c=n.css(oe),d="absolute"==c||"fixed"==c,n.data(ie)||(d?n.data(ie,{top:i(n,"top")||0,left:i(n,"left")||0,bottom:i(n,"bottom"),right:i(n,"right")}):n.data(ie,{top:i(n,"marginTop")||0,left:i(n,"marginLeft")||0})),u=n.data(ie),s=p.match(L),s&&(h=a==ie+"y"?0:+s[1],f=a==ie+"y"?+s[1]:+s[2],d?(isNaN(u.right)?isNaN(h)||D(l,{left:u.left+h}):isNaN(h)||D(l,{right:u.right-h}),isNaN(u.bottom)?isNaN(f)||D(l,{top:u.top+f}):isNaN(f)||D(l,{bottom:u.bottom-f})):(isNaN(h)||D(l,{marginLeft:u.left+h}),isNaN(f)||D(l,{marginTop:u.top+f})))),!I&&"scale"!=a&&a in l&&delete l[a],l&&D(r,l));}),R.msie&&delete r.scale,n.animate(r,{queue:!1,show:!1,hide:!1,duration:a.duration,complete:a.complete});});}}),S.animatedPromise=S.promise,p=C.Class.extend({init:function init(e,t){var n=this;n.element=e,n._direction=t,n.options={},n._additionalEffects=[],n.restore||(n.restore=[]);},reverse:function reverse(){return this._reverse=!0,this.run();},play:function play(){return this._reverse=!1,this.run();},add:function add(e){return this._additionalEffects.push(e),this;},direction:function direction(e){return this._direction=e,this;},duration:function duration(e){return this._duration=e,this;},compositeRun:function compositeRun(){var e=this,t=new f(e.element,{reverse:e._reverse,duration:e._duration}),n=e._additionalEffects.concat([e]);return t.run(n);},run:function run(){if(this._additionalEffects&&this._additionalEffects[0])return this.compositeRun();var t,n,i=this,o=i.element,s=0,l=i.restore,c=l.length,d=e.Deferred(),u={},h={},f=i.children(),p=f.length;for(d.then(e.proxy(i,"_complete")),o.data("animating",!0),s=0;c>s;s++){t=l[s],o.data(t)||o.data(t,o.css(t));}for(s=0;p>s;s++){f[s].duration(i._duration).run();}return i.prepare(u,h),o.is(":visible")||D(u,{display:o.data("olddisplay")||"block"}),I&&(n=o.data("targetTransform"),n&&(u=D(n,u))),u=a(o,u),I&&!F&&(u=r(u)),o.css(u).css(se),i.setup(),o.data("targetTransform",h),S.animate(o,h,{duration:i._duration,complete:d.resolve}),d.promise();},stop:function stop(){var t=0,n=this.children(),i=n.length;for(t=0;i>t;t++){n[t].stop();}return e(this.element).kendoStop(!0,!0),this;},restoreCallback:function restoreCallback(){var e,t,n,i=this.element;for(e=0,t=this.restore.length;t>e;e++){n=this.restore[e],i.css(n,i.data(n));}},_complete:function _complete(){var t=this,n=t.element;n.removeData("animating").dequeue(),t.restoreCallback(),t.shouldHide()&&n.data("olddisplay",n.css("display")).hide(),z&&!I&&setTimeout(e.proxy(t,"restoreCallback"),0),t.teardown();},setOptions:function setOptions(e){D(!0,this.options,e);},children:function children(){return[];},shouldHide:e.noop,setup:e.noop,prepare:e.noop,teardown:e.noop,directions:[],setReverse:function setReverse(e){return this._reverse=e,this;}}),m=["left","right","up","down"],g=["in","out"],c("slideIn",{directions:m,divisor:function divisor(e){return this.options.divisor=e,this;},prepare:function prepare(e,t){var n,i=this,o=i.element,r=he[i._direction],a=-r.modifier*(r.vertical?o.outerHeight():o.outerWidth()),s=a/(i.options&&i.options.divisor||1)+Y,l="0px";i._reverse&&(n=e,e=t,t=n),I?(e[r.transition]=s,t[r.transition]=l):(e[r.property]=s,t[r.property]=l);}}),c("tile",{directions:m,init:function init(e,t,n){p.prototype.init.call(this,e,t),this.options={previous:n};},previousDivisor:function previousDivisor(e){return this.options.previousDivisor=e,this;},children:function children(){var e=this,t=e._reverse,n=e.options.previous,i=e.options.previousDivisor||1,o=e._direction,r=[C.fx(e.element).slideIn(o).setReverse(t)];return n&&r.push(C.fx(n).slideIn(he[o].reverse).divisor(i).setReverse(!t)),r;}}),d("fade","opacity",1,0),d("zoom","scale",1,.01),c("slideMargin",{prepare:function prepare(e,t){var n,i=this,o=i.element,r=i.options,a=o.data(ee),s=r.offset,l=i._reverse;l||null!==a||o.data(ee,parseFloat(o.css("margin-"+r.axis))),n=o.data(ee)||0,t["margin-"+r.axis]=l?n:n+s;}}),c("slideTo",{prepare:function prepare(e,t){var n=this,i=n.element,o=n.options,r=o.offset.split(","),a=n._reverse;I?(t.translatex=a?0:r[0],t.translatey=a?0:r[1]):(t.left=a?0:r[0],t.top=a?0:r[1]),i.css("left");}}),c("expand",{directions:["horizontal","vertical"],restore:[ne],prepare:function prepare(e,n){var i=this,o=i.element,r=i.options,a=i._reverse,s="vertical"===i._direction?J:X,l=o[0].style[s],c=o.data(s),d=parseFloat(c||l),u=G(o.css(s,Q)[s]());e.overflow=Z,d=r&&r.reset?u||d:d||u,n[s]=(a?0:d)+Y,e[s]=(a?d:0)+Y,c===t&&o.data(s,l);},shouldHide:function shouldHide(){return this._reverse;},teardown:function teardown(){var e=this,t=e.element,n="vertical"===e._direction?J:X,i=t.data(n);i!=Q&&i!==$||setTimeout(function(){t.css(n,Q).css(n);},0);}}),v={position:"absolute",marginLeft:0,marginTop:0,scale:1},c("transfer",{init:function init(e,t){this.element=e,this.options={target:t},this.restore=[];},setup:function setup(){this.element.appendTo(document.body);},prepare:function prepare(e,t){var n=this,i=n.element,o=S.box(i),r=S.box(n.options.target),a=s(i,"scale"),l=S.fillScale(r,o),c=S.transformOrigin(r,o);D(e,v),t.scale=1,i.css(se,"scale(1)").css(se),i.css(se,"scale("+a+")"),e.top=o.top,e.left=o.left,e.transformOrigin=c.x+Y+" "+c.y+Y,n._reverse?e.scale=l:t.scale=l;}}),_={top:"rect(auto auto $size auto)",bottom:"rect($size auto auto auto)",left:"rect(auto $size auto auto)",right:"rect(auto auto auto $size)"},b={top:{start:"rotatex(0deg)",end:"rotatex(180deg)"},bottom:{start:"rotatex(-180deg)",end:"rotatex(0deg)"},left:{start:"rotatey(0deg)",end:"rotatey(-180deg)"},right:{start:"rotatey(180deg)",end:"rotatey(0deg)"}},c("turningPage",{directions:m,init:function init(e,t,n){p.prototype.init.call(this,e,t),this._container=n;},prepare:function prepare(e,t){var n=this,i=n._reverse,o=i?he[n._direction].reverse:n._direction,r=b[o];e.zIndex=1,n._clipInHalf&&(e.clip=u(n._container,C.directions[o].reverse)),e[le]=Z,t[se]=ue+(i?r.start:r.end),e[se]=ue+(i?r.end:r.start);},setup:function setup(){this._container.append(this.element);},face:function face(e){return this._face=e,this;},shouldHide:function shouldHide(){var e=this,t=e._reverse,n=e._face;return t&&!n||!t&&n;},clipInHalf:function clipInHalf(e){return this._clipInHalf=e,this;},temporary:function temporary(){return this.element.addClass("temp-page"),this;}}),c("staticPage",{directions:m,init:function init(e,t,n){p.prototype.init.call(this,e,t),this._container=n;},restore:["clip"],prepare:function prepare(e,t){var n=this,i=n._reverse?he[n._direction].reverse:n._direction;e.clip=u(n._container,i),e.opacity=.999,t.opacity=1;},shouldHide:function shouldHide(){var e=this,t=e._reverse,n=e._face;return t&&!n||!t&&n;},face:function face(e){return this._face=e,this;}}),c("pageturn",{directions:["horizontal","vertical"],init:function init(e,t,n,i){p.prototype.init.call(this,e,t),this.options={},this.options.face=n,this.options.back=i;},children:function children(){var e,t=this,n=t.options,i="horizontal"===t._direction?"left":"top",o=C.directions[i].reverse,r=t._reverse,a=n.face.clone(!0).removeAttr("id"),s=n.back.clone(!0).removeAttr("id"),l=t.element;return r&&(e=i,i=o,o=e),[C.fx(n.face).staticPage(i,l).face(!0).setReverse(r),C.fx(n.back).staticPage(o,l).setReverse(r),C.fx(a).turningPage(i,l).face(!0).clipInHalf(!0).temporary().setReverse(r),C.fx(s).turningPage(o,l).clipInHalf(!0).temporary().setReverse(r)];},prepare:function prepare(e,t){e[ce]=de,e.transformStyle="preserve-3d",e.opacity=.999,t.opacity=1;},teardown:function teardown(){this.element.find(".temp-page").remove();}}),c("flip",{directions:["horizontal","vertical"],init:function init(e,t,n,i){p.prototype.init.call(this,e,t),this.options={},this.options.face=n,this.options.back=i;},children:function children(){var e,t=this,n=t.options,i="horizontal"===t._direction?"left":"top",o=C.directions[i].reverse,r=t._reverse,a=t.element;return r&&(e=i,i=o,o=e),[C.fx(n.face).turningPage(i,a).face(!0).setReverse(r),C.fx(n.back).turningPage(o,a).setReverse(r)];},prepare:function prepare(e){e[ce]=de,e.transformStyle="preserve-3d";}}),w=!E.mobileOS.android,y=".km-touch-scrollbar, .km-actionsheet-wrapper",c("replace",{_before:e.noop,_after:e.noop,init:function init(t,n,i){p.prototype.init.call(this,t),this._previous=e(n),this._transitionClass=i;},duration:function duration(){throw Error("The replace effect does not support duration setting; the effect duration may be customized through the transition class rule");},beforeTransition:function beforeTransition(e){return this._before=e,this;},afterTransition:function afterTransition(e){return this._after=e,this;},_both:function _both(){return e().add(this._element).add(this._previous);},_containerClass:function _containerClass(){var e=this._direction,t="k-fx k-fx-start k-fx-"+this._transitionClass;return e&&(t+=" k-fx-"+e),this._reverse&&(t+=" k-fx-reverse"),t;},complete:function complete(t){if(!(!this.deferred||t&&e(t.target).is(y))){var n=this.container;n.removeClass("k-fx-end").removeClass(this._containerClass()).off(F.event,this.completeProxy),this._previous.hide().removeClass("k-fx-current"),this.element.removeClass("k-fx-next"),w&&n.css(ne,""),this.isAbsolute||this._both().css(oe,""),this.deferred.resolve(),delete this.deferred;}},run:function run(){if(this._additionalEffects&&this._additionalEffects[0])return this.compositeRun();var t,n=this,i=n.element,o=n._previous,r=i.parents().filter(o.parents()).first(),a=n._both(),s=e.Deferred(),l=i.css(oe);return r.length||(r=i.parent()),this.container=r,this.deferred=s,this.isAbsolute="absolute"==l,this.isAbsolute||a.css(oe,"absolute"),w&&(t=r.css(ne),r.css(ne,"hidden")),F?(i.addClass("k-fx-hidden"),r.addClass(this._containerClass()),this.completeProxy=e.proxy(this,"complete"),r.on(F.event,this.completeProxy),C.animationFrame(function(){i.removeClass("k-fx-hidden").addClass("k-fx-next"),o.css("display","").addClass("k-fx-current"),n._before(o,i),C.animationFrame(function(){r.removeClass("k-fx-start").addClass("k-fx-end"),n._after(o,i);});})):this.complete(),s.promise();},stop:function stop(){this.complete();}}),k=C.Class.extend({init:function init(){var e=this;e._tickProxy=A(e._tick,e),e._started=!1;},tick:e.noop,done:e.noop,onEnd:e.noop,onCancel:e.noop,start:function start(){this.enabled()&&(this.done()?this.onEnd():(this._started=!0,C.animationFrame(this._tickProxy)));},enabled:function enabled(){return!0;},cancel:function cancel(){this._started=!1,this.onCancel();},_tick:function _tick(){var e=this;e._started&&(e.tick(),e.done()?(e._started=!1,e.onEnd()):C.animationFrame(e._tickProxy));}}),x=k.extend({init:function init(e){var t=this;D(t,e),k.fn.init.call(t);},done:function done(){return this.timePassed()>=this.duration;},timePassed:function timePassed(){return Math.min(this.duration,new Date()-this.startDate);},moveTo:function moveTo(e){var t=this,n=t.movable;t.initial=n[t.axis],t.delta=e.location-t.initial,t.duration="number"==typeof e.duration?e.duration:300,t.tick=t._easeProxy(e.ease),t.startDate=new Date(),t.start();},_easeProxy:function _easeProxy(e){var t=this;return function(){t.movable.moveAxis(t.axis,e(t.timePassed(),t.initial,t.delta,t.duration));};}}),D(x,{easeOutExpo:function easeOutExpo(e,t,n,i){return e==i?t+n:n*(-Math.pow(2,-10*e/i)+1)+t;},easeOutBack:function easeOutBack(e,t,n,i,o){return o=1.70158,n*((e=e/i-1)*e*((o+1)*e+o)+1)+t;}}),S.Animation=k,S.Transition=x,S.createEffect=c,S.box=function(t){t=e(t);var n=t.offset();return n.width=t.outerWidth(),n.height=t.outerHeight(),n;},S.transformOrigin=function(e,t){var n=(e.left-t.left)*t.width/(t.width-e.width),i=(e.top-t.top)*t.height/(t.height-e.height);return{x:isNaN(n)?0:n,y:isNaN(i)?0:i};},S.fillScale=function(e,t){return Math.min(e.width/t.width,e.height/t.height);},S.fitScale=function(e,t){return Math.max(e.width/t.width,e.height/t.height);};}(window.kendo.jQuery),window.kendo;},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("kendo.view.min",["kendo.core.min","kendo.binder.min","kendo.fx.min"],e);}(function(){return function(e,t){function n(e){if(!e)return{};var t=e.match(_)||[];return{type:t[1],direction:t[3],reverse:"reverse"===t[5]};}var i=window.kendo,o=i.Observable,r="SCRIPT",a="init",s="show",l="hide",c="transitionStart",d="transitionEnd",u="attach",h="detach",f=/unrecognized expression/,p=o.extend({init:function init(e,t){var n=this;t=t||{},o.fn.init.call(n),n.content=e,n.id=i.guid(),n.tagName=t.tagName||"div",n.model=t.model,n._wrap=t.wrap!==!1,this._evalTemplate=t.evalTemplate||!1,n._fragments={},n.bind([a,s,l,c,d],t);},render:function render(t){var n=this,o=!n.element;return o&&(n.element=n._createElement()),t&&e(t).append(n.element),o&&(i.bind(n.element,n.model),n.trigger(a)),t&&(n._eachFragment(u),n.trigger(s)),n.element;},clone:function clone(){return new m(this);},triggerBeforeShow:function triggerBeforeShow(){return!0;},triggerBeforeHide:function triggerBeforeHide(){return!0;},showStart:function showStart(){this.element.css("display","");},showEnd:function showEnd(){},hideEnd:function hideEnd(){this.hide();},beforeTransition:function beforeTransition(e){this.trigger(c,{type:e});},afterTransition:function afterTransition(e){this.trigger(d,{type:e});},hide:function hide(){this._eachFragment(h),this.element.detach(),this.trigger(l);},destroy:function destroy(){var e=this.element;e&&(i.unbind(e),i.destroy(e),e.remove());},fragments:function fragments(t){e.extend(this._fragments,t);},_eachFragment:function _eachFragment(e){for(var t in this._fragments){this._fragments[t][e](this,t);}},_createElement:function _createElement(){var t,n,o,a=this,s="<"+a.tagName+" />";try{n=e(document.getElementById(a.content)||a.content),n[0].tagName===r&&(n=n.html());}catch(l){f.test(l.message)&&(n=a.content);}return"string"==typeof n?(n=n.replace(/^\s+|\s+$/g,""),a._evalTemplate&&(n=i.template(n)(a.model||{})),t=e(s).append(n),a._wrap||(t=t.contents())):(t=n,a._evalTemplate&&(o=e(i.template(e("<div />").append(t.clone(!0)).html())(a.model||{})),e.contains(document,t[0])&&t.replaceWith(o),t=o),a._wrap&&(t=t.wrapAll(s).parent())),t;}}),m=i.Class.extend({init:function init(t){e.extend(this,{element:t.element.clone(!0),transition:t.transition,id:t.id}),t.element.parent().append(this.element);},hideEnd:function hideEnd(){this.element.remove();},beforeTransition:e.noop,afterTransition:e.noop}),g=p.extend({init:function init(e,t){p.fn.init.call(this,e,t),this.containers={};},container:function container(e){var t=this.containers[e];return t||(t=this._createContainer(e),this.containers[e]=t),t;},showIn:function showIn(e,t,n){this.container(e).show(t,n);},_createContainer:function _createContainer(e){var t,n=this.render(),i=n.find(e);if(!i.length&&n.is(e)){if(!n.is(e))throw Error("can't find a container with the specified "+e+" selector");i=n;}return t=new b(i),t.bind("accepted",function(e){e.view.render(i);}),t;}}),v=p.extend({attach:function attach(e,t){e.element.find(t).replaceWith(this.render());},detach:function detach(){}}),_=/^(\w+)(:(\w+))?( (\w+))?$/,b=o.extend({init:function init(e){o.fn.init.call(this),this.container=e,this.history=[],this.view=null,this.running=!1;},after:function after(){this.running=!1,this.trigger("complete",{view:this.view}),this.trigger("after");},end:function end(){this.view.showEnd(),this.previous.hideEnd(),this.after();},show:function show(e,t,o){if(!e.triggerBeforeShow()||this.view&&!this.view.triggerBeforeHide())return this.trigger("after"),!1;o=o||e.id;var r=this,a=e===r.view?e.clone():r.view,s=r.history,l=s[s.length-2]||{},c=l.id===o,d=t||(c?s[s.length-1].transition:e.transition),u=n(d);return r.running&&r.effect.stop(),"none"===d&&(d=null),r.trigger("accepted",{view:e}),r.view=e,r.previous=a,r.running=!0,c?s.pop():s.push({id:o,transition:d}),a?(d&&i.effects.enabled?(e.element.addClass("k-fx-hidden"),e.showStart(),c&&!t&&(u.reverse=!u.reverse),r.effect=i.fx(e.element).replace(a.element,u.type).beforeTransition(function(){e.beforeTransition("show"),a.beforeTransition("hide");}).afterTransition(function(){e.afterTransition("show"),a.afterTransition("hide");}).direction(u.direction).setReverse(u.reverse),r.effect.run().then(function(){r.end();})):(e.showStart(),r.end()),!0):(e.showStart(),e.showEnd(),r.after(),!0);}});i.ViewContainer=b,i.Fragment=v,i.Layout=g,i.View=p,i.ViewClone=m;}(window.kendo.jQuery),window.kendo;},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("kendo.dom.min",["kendo.core.min"],e);}(function(){return function(e){function t(){this.node=null;}function n(){}function i(e,t,n){this.nodeName=e,this.attr=t||{},this.children=n||[];}function o(e){this.nodeValue=e;}function r(e){this.html=e;}function a(e,t){for(h.innerHTML=t;h.firstChild;){e.appendChild(h.firstChild);}}function s(e){return new r(e);}function l(e,t,n){return new i(e,t,n);}function c(e){return new o(e);}function d(e){this.root=e,this.children=[];}var u,h;t.prototype={remove:function remove(){this.node.parentNode.removeChild(this.node),this.attr={};},attr:{},text:function text(){return"";}},n.prototype={nodeName:"#null",attr:{style:{}},children:[],remove:function remove(){}},u=new n(),i.prototype=new t(),i.prototype.appendTo=function(e){var t,n=document.createElement(this.nodeName),i=this.children;for(t=0;i.length>t;t++){i[t].render(n,u);}return e.appendChild(n),n;},i.prototype.render=function(e,t){var n,i,o,r,a,s;if(t.nodeName!==this.nodeName)t.remove(),n=this.appendTo(e);else{if(n=t.node,o=this.children,r=o.length,a=t.children,s=a.length,Math.abs(s-r)>2)return void this.render({appendChild:function appendChild(n){e.replaceChild(n,t.node);}},u);for(i=0;r>i;i++){o[i].render(n,a[i]||u);}for(i=r;s>i;i++){a[i].remove();}}this.node=n,this.syncAttributes(t.attr),this.removeAttributes(t.attr);},i.prototype.syncAttributes=function(e){var t,n,i,o=this.attr;for(t in o){n=o[t],i=e[t],"style"===t?this.setStyle(n,i):n!==i&&this.setAttribute(t,n,i);}},i.prototype.setStyle=function(e,t){var n,i=this.node;if(t)for(n in e){e[n]!==t[n]&&(i.style[n]=e[n]);}else for(n in e){i.style[n]=e[n];}},i.prototype.removeStyle=function(e){var t,n=this.attr.style||{},i=this.node;for(t in e){void 0===n[t]&&(i.style[t]="");}},i.prototype.removeAttributes=function(e){var t,n=this.attr;for(t in e){"style"===t?this.removeStyle(e.style):void 0===n[t]&&this.removeAttribute(t);}},i.prototype.removeAttribute=function(e){var t=this.node;"style"===e?t.style.cssText="":"className"===e?t.className="":t.removeAttribute(e);},i.prototype.setAttribute=function(e,t){var n=this.node;void 0!==n[e]?n[e]=t:n.setAttribute(e,t);},i.prototype.text=function(){var e,t="";for(e=0;this.children.length>e;++e){t+=this.children[e].text();}return t;},o.prototype=new t(),o.prototype.nodeName="#text",o.prototype.render=function(e,t){var n;t.nodeName!==this.nodeName?(t.remove(),n=document.createTextNode(this.nodeValue),e.appendChild(n)):(n=t.node,this.nodeValue!==t.nodeValue&&(n.nodeValue=this.nodeValue)),this.node=n;},o.prototype.text=function(){return this.nodeValue;},r.prototype={nodeName:"#html",attr:{},remove:function remove(){for(var e=0;this.nodes.length>e;e++){this.nodes[e].parentNode.removeChild(this.nodes[e]);}},render:function render(e,t){var n,i;if(t.nodeName!==this.nodeName||t.html!==this.html)for(t.remove(),n=e.lastChild,a(e,this.html),this.nodes=[],i=n?n.nextSibling:e.firstChild;i;i=i.nextSibling){this.nodes.push(i);}else this.nodes=t.nodes.slice(0);}},h=document.createElement("div"),d.prototype={html:s,element:l,text:c,render:function render(e){var t,n,i=this.children;for(t=0,n=e.length;n>t;t++){e[t].render(this.root,i[t]||u);}for(t=n;i.length>t;t++){i[t].remove();}this.children=e;}},e.dom={html:s,text:c,element:l,Tree:d,Node:t};}(window.kendo),window.kendo;},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("kendo.ooxml.min",["kendo.core.min"],e);}(function(){return function(e,t){function n(e){var t=Math.floor(e/26)-1;return(t>=0?n(t):"")+String.fromCharCode(65+e%26);}function i(e,t){return n(t)+(e+1);}function o(e,t){return n(t)+"$"+(e+1);}function r(e){var t=e.frozenRows||(e.freezePane||{}).rowSplit||1;return t-1;}function a(e){return(e/7*100+.5)/100;}function s(e){return .75*e;}function l(e){return 6>e.length&&(e=e.replace(/(\w)/g,function(e,t){return t+t;})),e=e.substring(1).toUpperCase(),8>e.length&&(e="FF"+e),e;}function c(e){var t="thin";return 2===e?t="medium":3===e&&(t="thick"),t;}function d(e,t){var n="";return t&&t.size&&(n+="<"+e+' style="'+c(t.size)+'">',t.color&&(n+='<color rgb="'+l(t.color)+'"/>'),n+="</"+e+">"),n;}function u(e){return"<border>"+d("left",e.left)+d("right",e.right)+d("top",e.top)+d("bottom",e.bottom)+"</border>";}function h(e,t){var n,i,o,r=[],a=[];for(f(e,function(e,t){var n={_source:e,index:t,height:e.height,cells:[]};r.push(n),a[t]=n;}),n=p(r).slice(0),i={rowData:r,rowsByIndex:a,mergedCells:t},o=0;n.length>o;o++){m(n[o],i),delete n[o]._source;}return p(r);}function f(e,t){var n,i,o;for(n=0;e.length>n;n++){i=e[n],i&&(o=i.index,"number"!=typeof o&&(o=n),t(i,o));}}function p(e){return e.sort(function(e,t){return e.index-t.index;});}function m(e,t){var n,o,r,a,s,l,c,d=e._source,u=e.index,h=d.cells,f=e.cells;for(n=0;h.length>n;n++){if(o=h[n]||z,r=o.rowSpan||1,a=o.colSpan||1,s=g(f,o),b(f,s,a),(r>1||a>1)&&t.mergedCells.push(i(u,s)+":"+i(u+r-1,s+a-1)),r>1)for(l=u+1;u+r>l;l++){c=t.rowsByIndex[l],c||(c=t.rowsByIndex[l]={index:l,cells:[]},t.rowData.push(c)),b(c.cells,s-1,a+1);}}}function g(e,t){var n;return"number"==typeof t.index?(n=t.index,v(e,t,t.index)):n=_(e,t),n;}function v(e,t,n){e[n]=t;}function _(e,t){var n,i=e.length;for(n=0;e.length+1>n;n++){if(!e[n]){e[n]=t,i=n;break;}}return i;}function b(e,t,n){for(var i=1;n>i;i++){v(e,P,t+i);}}var w='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r\n<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships"><Relationship Id="rId3" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties" Target="docProps/app.xml"/><Relationship Id="rId2" Type="http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties" Target="docProps/core.xml"/><Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument" Target="xl/workbook.xml"/></Relationships>',y=t.template('<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r\n<cp:coreProperties xmlns:cp="http://schemas.openxmlformats.org/package/2006/metadata/core-properties" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:dcterms="http://purl.org/dc/terms/" xmlns:dcmitype="http://purl.org/dc/dcmitype/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><dc:creator>${creator}</dc:creator><cp:lastModifiedBy>${lastModifiedBy}</cp:lastModifiedBy><dcterms:created xsi:type="dcterms:W3CDTF">${created}</dcterms:created><dcterms:modified xsi:type="dcterms:W3CDTF">${modified}</dcterms:modified></cp:coreProperties>'),k=t.template('<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r\n<Properties xmlns="http://schemas.openxmlformats.org/officeDocument/2006/extended-properties" xmlns:vt="http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"><Application>Microsoft Excel</Application><DocSecurity>0</DocSecurity><ScaleCrop>false</ScaleCrop><HeadingPairs><vt:vector size="2" baseType="variant"><vt:variant><vt:lpstr>Worksheets</vt:lpstr></vt:variant><vt:variant><vt:i4>${sheets.length}</vt:i4></vt:variant></vt:vector></HeadingPairs><TitlesOfParts><vt:vector size="${sheets.length}" baseType="lpstr"># for (var idx = 0; idx < sheets.length; idx++) { ## if (sheets[idx].options.title) { #<vt:lpstr>${sheets[idx].options.title}</vt:lpstr># } else { #<vt:lpstr>Sheet${idx+1}</vt:lpstr># } ## } #</vt:vector></TitlesOfParts><LinksUpToDate>false</LinksUpToDate><SharedDoc>false</SharedDoc><HyperlinksChanged>false</HyperlinksChanged><AppVersion>14.0300</AppVersion></Properties>'),x=t.template('<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r\n<Types xmlns="http://schemas.openxmlformats.org/package/2006/content-types"><Default Extension="rels" ContentType="application/vnd.openxmlformats-package.relationships+xml" /><Default Extension="xml" ContentType="application/xml" /><Override PartName="/xl/workbook.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml" /><Override PartName="/xl/styles.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml"/><Override PartName="/xl/sharedStrings.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml"/># for (var idx = 1; idx <= count; idx++) { #<Override PartName="/xl/worksheets/sheet${idx}.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml" /># } #<Override PartName="/docProps/core.xml" ContentType="application/vnd.openxmlformats-package.core-properties+xml" /><Override PartName="/docProps/app.xml" ContentType="application/vnd.openxmlformats-officedocument.extended-properties+xml" /></Types>'),C=t.template('<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r\n<workbook xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships"><fileVersion appName="xl" lastEdited="5" lowestEdited="5" rupBuild="9303" /><workbookPr defaultThemeVersion="124226" /><bookViews><workbookView xWindow="240" yWindow="45" windowWidth="18195" windowHeight="7995" /></bookViews><sheets># for (var idx = 0; idx < sheets.length; idx++) { ## var options = sheets[idx].options; ## var name = options.name || options.title ## if (name) { #<sheet name="${name}" sheetId="${idx+1}" r:id="rId${idx+1}" /># } else { #<sheet name="Sheet${idx+1}" sheetId="${idx+1}" r:id="rId${idx+1}" /># } ## } #</sheets># if (definedNames.length) { #<definedNames> # for (var di = 0; di < definedNames.length; di++) { #<definedName name="_xlnm._FilterDatabase" hidden="1" localSheetId="${definedNames[di].localSheetId}">${definedNames[di].name}!$${definedNames[di].from}:$${definedNames[di].to}</definedName> # } #</definedNames># } #<calcPr calcId="145621" /></workbook>'),S=t.template('<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r\n<worksheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac" mc:Ignorable="x14ac"><dimension ref="A1" /><sheetViews><sheetView #if(index==0) {# tabSelected="1" #}# workbookViewId="0" #if (showGridLines === false) {# showGridLines="0" #}#># if (frozenRows || frozenColumns) { #<pane state="frozen"# if (frozenColumns) { # xSplit="${frozenColumns}"# } ## if (frozenRows) { # ySplit="${frozenRows}"# } # topLeftCell="${String.fromCharCode(65 + (frozenColumns || 0))}${(frozenRows || 0)+1}"/># } #</sheetView></sheetViews><sheetFormatPr x14ac:dyDescent="0.25" defaultRowHeight="#= defaults.rowHeight ? defaults.rowHeight * 0.75 : 15 #" # if (defaults.columnWidth) { # defaultColWidth="#= kendo.ooxml.toWidth(defaults.columnWidth) #" # } # /># if (columns && columns.length > 0) { #<cols># for (var ci = 0; ci < columns.length; ci++) { ## var column = columns[ci]; ## var columnIndex = typeof column.index === "number" ? column.index + 1 : (ci + 1); ## if (column.width === 0) { #<col min="${columnIndex}" max="${columnIndex}" hidden="1" customWidth="1" /># } else if (column.width) { #<col min="${columnIndex}" max="${columnIndex}" customWidth="1"# if (column.autoWidth) { # width="${((column.width*7+5)/7*256)/256}" bestFit="1"# } else { # width="#= kendo.ooxml.toWidth(column.width) #" # } #/># } ## } #</cols># } #<sheetData># for (var ri = 0; ri < data.length; ri++) { ## var row = data[ri]; ## var rowIndex = typeof row.index === "number" ? row.index + 1 : (ri + 1); #<row r="${rowIndex}" x14ac:dyDescent="0.25" # if (row.height) { # ht="#= kendo.ooxml.toHeight(row.height) #" customHeight="1" # } # ># for (var ci = 0; ci < row.data.length; ci++) { ## var cell = row.data[ci];#<c r="#=cell.ref#"# if (cell.style) { # s="#=cell.style#" # } ## if (cell.type) { # t="#=cell.type#"# } #># if (cell.formula != null) { #<f>${cell.formula}</f># } ## if (cell.value != null) { #<v>${cell.value}</v># } #</c># } #</row># } #</sheetData># if (hyperlinks.length) { #<hyperlinks># for (var hi = 0; hi < hyperlinks.length; hi++) { #<hyperlink ref="${hyperlinks[hi].ref}" r:id="rId${hi}"/># } #</hyperlinks># } ## if (filter) { #<autoFilter ref="${filter.from}:${filter.to}"/># } ## if (mergeCells.length) { #<mergeCells count="${mergeCells.length}"># for (var ci = 0; ci < mergeCells.length; ci++) { #<mergeCell ref="${mergeCells[ci]}"/># } #</mergeCells># } #<pageMargins left="0.7" right="0.7" top="0.75" bottom="0.75" header="0.3" footer="0.3" /></worksheet>'),T=t.template('<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r\n<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships"># for (var idx = 1; idx <= count; idx++) { #<Relationship Id="rId${idx}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet" Target="worksheets/sheet${idx}.xml" /># } #<Relationship Id="rId${count+1}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles" Target="styles.xml" /><Relationship Id="rId${count+2}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings" Target="sharedStrings.xml" /></Relationships>'),D=t.template('<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r\n<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships"># for (var i = 0; i < hyperlinks.length; i++) { #<Relationship Id="rId${i}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink" Target="${hyperlinks[i].target}" TargetMode="External" /># } #</Relationships>'),A=t.template('<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r\n<sst xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" count="${count}" uniqueCount="${uniqueCount}"># for (var index in indexes) { #<si><t>${index.substring(1)}</t></si># } #</sst>'),E=t.template('<?xml version="1.0" encoding="UTF-8"?><styleSheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="x14ac" xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac"><numFmts count="${formats.length}"># for (var fi = 0; fi < formats.length; fi++) { ## var format = formats[fi]; #<numFmt formatCode="${format.format}" numFmtId="${165+fi}" /># } #</numFmts><fonts count="${fonts.length+1}" x14ac:knownFonts="1"><font><sz val="11" /><color theme="1" /><name val="Calibri" /><family val="2" /><scheme val="minor" /></font># for (var fi = 0; fi < fonts.length; fi++) { ## var font = fonts[fi]; #<font># if (font.fontSize) { #<sz val="${font.fontSize}" /># } else { #<sz val="11" /># } ## if (font.bold) { #<b/># } ## if (font.italic) { #<i/># } ## if (font.underline) { #<u/># } ## if (font.color) { #<color rgb="${font.color}" /># } else { #<color theme="1" /># } ## if (font.fontFamily) { #<name val="${font.fontFamily}" /><family val="2" /># } else { #<name val="Calibri" /><family val="2" /><scheme val="minor" /># } #</font># } #</fonts><fills count="${fills.length+2}"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill># for (var fi = 0; fi < fills.length; fi++) { ## var fill = fills[fi]; ## if (fill.background) { #<fill><patternFill patternType="solid"><fgColor rgb="${fill.background}"/></patternFill></fill># } ## } #</fills><borders count="${borders.length+1}"><border><left/><right/><top/><bottom/><diagonal/></border># for (var bi = 0; bi < borders.length; bi++) { ##= kendo.ooxml.borderTemplate(borders[bi]) ## } #</borders><cellStyleXfs count="1"><xf borderId="0" fillId="0" fontId="0" /></cellStyleXfs><cellXfs count="${styles.length+1}"><xf numFmtId="0" fontId="0" fillId="0" borderId="0" xfId="0"/># for (var si = 0; si < styles.length; si++) { ## var style = styles[si]; #<xf xfId="0"# if (style.fontId) { # fontId="${style.fontId}" applyFont="1"# } ## if (style.fillId) { # fillId="${style.fillId}" applyFill="1"# } ## if (style.numFmtId) { # numFmtId="${style.numFmtId}" applyNumberFormat="1"# } ## if (style.textAlign || style.verticalAlign || style.wrap) { # applyAlignment="1"# } ## if (style.borderId) { # borderId="${style.borderId}" applyBorder="1"# } #># if (style.textAlign || style.verticalAlign || style.wrap) { #<alignment# if (style.textAlign) { # horizontal="${style.textAlign}"# } ## if (style.verticalAlign) { # vertical="${style.verticalAlign}"# } ## if (style.wrap) { # wrapText="1"# } #/># } #</xf># } #</cellXfs><cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles><dxfs count="0" /><tableStyles count="0" defaultTableStyle="TableStyleMedium2" defaultPivotStyle="PivotStyleMedium9" /></styleSheet>'),R=new Date(1900,0,0),I=t.Class.extend({init:function init(e,t,n,i){this.options=e,this._strings=t,this._styles=n,this._borders=i;},relsToXML:function relsToXML(){var e=this.options.hyperlinks||[];return e.length?D({hyperlinks:e}):"";},toXML:function toXML(e){var t,n,o=this.options.mergedCells||[],a=this.options.rows||[],s=h(a,o);return this._readCells(s),t=this.options.filter,t&&"number"==typeof t.from&&"number"==typeof t.to&&(t={from:i(r(this.options),t.from),to:i(r(this.options),t.to)}),n=this.options.freezePane||{},S({frozenColumns:this.options.frozenColumns||n.colSplit,frozenRows:this.options.frozenRows||n.rowSplit,columns:this.options.columns,defaults:this.options.defaults||{},data:s,index:e,mergeCells:o,filter:t,showGridLines:this.options.showGridLines,hyperlinks:this.options.hyperlinks||[]});},_lookupString:function _lookupString(e){var t="$"+e,n=this._strings.indexes[t];return void 0!==n?e=n:(e=this._strings.indexes[t]=this._strings.uniqueCount,this._strings.uniqueCount++),this._strings.count++,e;},_lookupStyle:function _lookupStyle(n){var i,o=t.stringify(n);return"{}"==o?0:(i=e.inArray(o,this._styles),0>i&&(i=this._styles.push(o)-1),i+1);},_lookupBorder:function _lookupBorder(n){var i,o=t.stringify(n);if("{}"!=o)return i=e.inArray(o,this._borders),0>i&&(i=this._borders.push(o)-1),i+1;},_readCells:function _readCells(e){var t,n,i,o,r;for(t=0;e.length>t;t++){for(n=e[t],i=n.cells,n.data=[],o=0;i.length>o;o++){r=this._cell(i[o],n.index,o),r&&n.data.push(r);}}},_cell:function _cell(e,n,o){var r,a,s,l,c,d,u,h;return e&&e!==z?(r=e.value,a={},e.borderLeft&&(a.left=e.borderLeft),e.borderRight&&(a.right=e.borderRight),e.borderTop&&(a.top=e.borderTop),e.borderBottom&&(a.bottom=e.borderBottom),a=this._lookupBorder(a),s={bold:e.bold,color:e.color,background:e.background,italic:e.italic,underline:e.underline,fontFamily:e.fontFamily||e.fontName,fontSize:e.fontSize,format:e.format,textAlign:e.textAlign||e.hAlign,verticalAlign:e.verticalAlign||e.vAlign,wrap:e.wrap,borderId:a},l=this.options.columns||[],c=l[o],d=typeof r==="undefined"?"undefined":_typeof(r),c&&c.autoWidth&&(u=r,"number"===d&&(u=t.toString(r,e.format)),c.width=Math.max(c.width||0,(u+"").length)),"string"===d?(r=this._lookupString(r),d="s"):"number"===d?d="n":"boolean"===d?(d="b",r=+r):r&&r.getTime?(d=null,h=(r.getTimezoneOffset()-R.getTimezoneOffset())*t.date.MS_PER_MINUTE,r=(r-R-h)/t.date.MS_PER_DAY+1,s.format||(s.format="mm-dd-yy")):(d=null,r=null),s=this._lookupStyle(s),{value:r,formula:e.formula,type:d,style:s,ref:i(n,o)}):null;}}),F={General:0,0:1,"0.00":2,"#,##0":3,"#,##0.00":4,"0%":9,"0.00%":10,"0.00E+00":11,"# ?/?":12,"# ??/??":13,"mm-dd-yy":14,"d-mmm-yy":15,"d-mmm":16,"mmm-yy":17,"h:mm AM/PM":18,"h:mm:ss AM/PM":19,"h:mm":20,"h:mm:ss":21,"m/d/yy h:mm":22,"#,##0 ;(#,##0)":37,"#,##0 ;[Red](#,##0)":38,"#,##0.00;(#,##0.00)":39,"#,##0.00;[Red](#,##0.00)":40,"mm:ss":45,"[h]:mm:ss":46,"mmss.0":47,"##0.0E+0":48,"@":49,"[$-404]e/m/d":27,"m/d/yy":30,t0:59,"t0.00":60,"t#,##0":61,"t#,##0.00":62,"t0%":67,"t0.00%":68,"t# ?/?":69,"t# ??/??":70},M=t.Class.extend({init:function init(t){this.options=t||{},this._strings={indexes:{},count:0,uniqueCount:0},this._styles=[],this._borders=[],this._sheets=e.map(this.options.sheets||[],e.proxy(function(e){return e.defaults=this.options,new I(e,this._strings,this._styles,this._borders);},this));},toDataURL:function toDataURL(){var n,i,a,s,c,d,u,h,f,p,m,g,v,_,b,S,D,R;if("undefined"==typeof JSZip)throw Error("JSZip not found. Check http://docs.telerik.com/kendo-ui/framework/excel/introduction#requirements for more details.");for(n=new JSZip(),i=n.folder("docProps"),i.file("core.xml",y({creator:this.options.creator||"Kendo UI",lastModifiedBy:this.options.creator||"Kendo UI",created:this.options.date||new Date().toJSON(),modified:this.options.date||new Date().toJSON()})),a=this._sheets.length,i.file("app.xml",k({sheets:this._sheets})),s=n.folder("_rels"),s.file(".rels",w),c=n.folder("xl"),d=c.folder("_rels"),d.file("workbook.xml.rels",T({count:a})),c.file("workbook.xml",C({sheets:this._sheets,definedNames:e.map(this._sheets,function(e,t){var n=e.options,i=n.filter;return i&&void 0!==i.from&&void 0!==i.to?{localSheetId:t,name:n.name||n.title||"Sheet"+(t+1),from:o(r(n),i.from),to:o(r(n),i.to)}:void 0;})})),u=c.folder("worksheets"),h=u.folder("_rels"),f=0;a>f;f++){p=this._sheets[f],m=t.format("sheet{0}.xml",f+1),g=p.relsToXML(),g&&h.file(m+".rels",g),u.file(m,p.toXML(f));}return v=e.map(this._borders,e.parseJSON),_=e.map(this._styles,e.parseJSON),b=function b(e){return e.underline||e.bold||e.italic||e.color||e.fontFamily||e.fontSize;},S=e.map(_,function(e){return e.color&&(e.color=l(e.color)),b(e)?e:void 0;}),D=e.map(_,function(e){return e.format&&void 0===F[e.format]?e:void 0;}),R=e.map(_,function(e){return e.background?(e.background=l(e.background),e):void 0;}),c.file("styles.xml",E({fonts:S,fills:R,formats:D,borders:v,styles:e.map(_,function(t){var n={};return b(t)&&(n.fontId=e.inArray(t,S)+1),t.background&&(n.fillId=e.inArray(t,R)+2),n.textAlign=t.textAlign,n.verticalAlign=t.verticalAlign,n.wrap=t.wrap,n.borderId=t.borderId,t.format&&(n.numFmtId=void 0!==F[t.format]?F[t.format]:165+e.inArray(t,D)),n;})})),c.file("sharedStrings.xml",A(this._strings)),n.file("[Content_Types].xml",x({count:a})),"data:application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;base64,"+n.generate({compression:"DEFLATE"});}}),P={},z={};t.ooxml={Workbook:M,Worksheet:I,toWidth:a,toHeight:s,borderTemplate:u};}(kendo.jQuery,kendo),kendo;},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("kendo.excel.min",["kendo.core.min","kendo.data.min","kendo.ooxml.min"],e);}(function(){return function(e,t){t.ExcelExporter=t.Class.extend({init:function init(n){var i,o,r;n.columns=this._trimColumns(n.columns||[]),this.allColumns=e.map(this._leafColumns(n.columns||[]),this._prepareColumn),this.columns=e.grep(this.allColumns,function(e){return!e.hidden;}),this.options=n,i=n.dataSource,i instanceof t.data.DataSource?(this.dataSource=new i.constructor(e.extend({},i.options,{page:n.allPages?0:i.page(),filter:i.filter(),pageSize:n.allPages?i.total():i.pageSize(),sort:i.sort(),group:i.group(),aggregate:i.aggregate()})),o=i.data(),o.length>0&&(this.dataSource._data=o,r=this.dataSource.transport,i._isServerGrouped()&&r.options&&r.options.data&&(r.options.data=null))):this.dataSource=t.data.DataSource.create(i);},_trimColumns:function _trimColumns(t){var n=this;return e.grep(t,function(e){var t=!!e.field;return!t&&e.columns&&(t=n._trimColumns(e.columns).length>0),t;});},_leafColumns:function _leafColumns(e){var t,n=[];for(t=0;e.length>t;t++){e[t].columns?n=n.concat(this._leafColumns(e[t].columns)):n.push(e[t]);}return n;},workbook:function workbook(){return e.Deferred(e.proxy(function(t){this.dataSource.fetch().then(e.proxy(function(){var e={sheets:[{columns:this._columns(),rows:this._rows(),freezePane:this._freezePane(),filter:this._filter()}]};t.resolve(e,this.dataSource.view());},this));},this)).promise();},_prepareColumn:function _prepareColumn(n){var i,o;if(n.field)return i=function i(e){return e.get(n.field);},o=null,n.values&&(o={},e.each(n.values,function(){o[this.value]=this.text;}),i=function i(e){return o[e.get(n.field)];}),e.extend({},n,{value:i,values:o,groupHeaderTemplate:t.template(n.groupHeaderTemplate||"#= title #: #= value #"),groupFooterTemplate:n.groupFooterTemplate?t.template(n.groupFooterTemplate):null,footerTemplate:n.footerTemplate?t.template(n.footerTemplate):null});},_filter:function _filter(){if(!this.options.filterable)return null;var e=this._depth();return{from:e,to:e+this.columns.length-1};},_dataRow:function _dataRow(t,n,i){var o,r,a,s,l,c,d,u,h,f;for(this._hierarchical()&&(n=this.dataSource.level(t)+1),o=[],r=0;n>r;r++){o[r]={background:"#dfdfdf",color:"#333"};}if(i&&t.items)return a=e.grep(this.allColumns,function(e){return e.field==t.field;})[0],s=a&&a.title?a.title:t.field,l=a?a.groupHeaderTemplate:null,c=s+": "+t.value,d=e.extend({title:s,field:t.field,value:a&&a.values?a.values[t.value]:t.value,aggregates:t.aggregates},t.aggregates[t.field]),l&&(c=l(d)),o.push({value:c,background:"#dfdfdf",color:"#333",colSpan:this.columns.length+i-n}),u=this._dataRows(t.items,n+1),u.unshift({type:"group-header",cells:o}),u.concat(this._footer(t));for(h=[],f=0;this.columns.length>f;f++){h[f]=this._cell(t,this.columns[f]);}return this._hierarchical()&&(h[0].colSpan=i-n+1),[{type:"data",cells:o.concat(h)}];},_dataRows:function _dataRows(e,t){var n,i=this._depth(),o=[];for(n=0;e.length>n;n++){o.push.apply(o,this._dataRow(e[n],t,i));}return o;},_footer:function _footer(t){var n=[],i=!1,o=e.map(this.columns,e.proxy(function(n){return n.groupFooterTemplate?(i=!0,{background:"#dfdfdf",color:"#333",value:n.groupFooterTemplate(e.extend({},this.dataSource.aggregates(),t.aggregates,t.aggregates[n.field]))}):{background:"#dfdfdf",color:"#333"};},this));return i&&n.push({type:"group-footer",cells:e.map(Array(this.dataSource.group().length),function(){return{background:"#dfdfdf",color:"#333"};}).concat(o)}),n;},_isColumnVisible:function _isColumnVisible(e){return this._visibleColumns([e]).length>0&&(e.field||e.columns);},_visibleColumns:function _visibleColumns(t){var n=this;return e.grep(t,function(e){var t=!e.hidden;return t&&e.columns&&(t=n._visibleColumns(e.columns).length>0),t;});},_headerRow:function _headerRow(t,n){var i=e.map(t.cells,function(e){return{background:"#7a7a7a",color:"#fff",value:e.title,colSpan:e.colSpan>1?e.colSpan:1,rowSpan:t.rowSpan>1&&!e.colSpan?t.rowSpan:1};});return this._hierarchical()&&(i[0].colSpan=this._depth()+1),{type:"header",cells:e.map(Array(n.length),function(){return{background:"#7a7a7a",color:"#fff"};}).concat(i)};},_prependHeaderRows:function _prependHeaderRows(e){var t,n=this.dataSource.group(),i=[{rowSpan:1,cells:[],index:0}];for(this._prepareHeaderRows(i,this.options.columns),t=i.length-1;t>=0;t--){e.unshift(this._headerRow(i[t],n));}},_prepareHeaderRows:function _prepareHeaderRows(e,t,n,i){var o,r,a,s=i||e[e.length-1],l=e[s.index+1],c=0;for(a=0;t.length>a;a++){o=t[a],this._isColumnVisible(o)&&(r={title:o.title||o.field,colSpan:0},s.cells.push(r),o.columns&&o.columns.length&&(l||(l={rowSpan:0,cells:[],index:e.length},e.push(l)),r.colSpan=this._trimColumns(this._visibleColumns(o.columns)).length,this._prepareHeaderRows(e,o.columns,r,l),c+=r.colSpan-1,s.rowSpan=e.length-s.index));}n&&(n.colSpan+=c);},_rows:function _rows(){var t,n,i=this.dataSource.group(),o=this._dataRows(this.dataSource.view(),0);return this.columns.length&&(this._prependHeaderRows(o),t=!1,n=e.map(this.columns,e.proxy(function(n){if(n.footerTemplate){t=!0;var i=this.dataSource.aggregates();return{background:"#dfdfdf",color:"#333",value:n.footerTemplate(e.extend({},i,i[n.field]))};}return{background:"#dfdfdf",color:"#333"};},this)),t&&o.push({type:"footer",cells:e.map(Array(i.length),function(){return{background:"#dfdfdf",color:"#333"};}).concat(n)})),o;},_headerDepth:function _headerDepth(e){var t,n,i=1,o=0;for(t=0;e.length>t;t++){e[t].columns&&(n=this._headerDepth(e[t].columns),n>o&&(o=n));}return i+o;},_freezePane:function _freezePane(){var t=this._visibleColumns(this.options.columns||[]),n=this._visibleColumns(this._trimColumns(this._leafColumns(e.grep(t,function(e){return e.locked;})))).length;return{rowSplit:this._headerDepth(t),colSplit:n?n+this.dataSource.group().length:0};},_cell:function _cell(e,t){return{value:t.value(e)};},_hierarchical:function _hierarchical(){return this.options.hierarchy&&this.dataSource.level;},_depth:function _depth(){var e,t,n,i=this.dataSource,o=0;if(this._hierarchical()){for(e=i.view(),t=0;e.length>t;t++){n=i.level(e[t]),n>o&&(o=n);}o++;}else o=i.group().length;return o;},_columns:function _columns(){var t=this._depth(),n=e.map(Array(t),function(){return{width:20};});return n.concat(e.map(this.columns,function(e){return{width:parseInt(e.width,10),autoWidth:!e.width};}));}}),t.ExcelMixin={extend:function extend(t){t.events.push("excelExport"),t.options.excel=e.extend(t.options.excel,this.options),t.saveAsExcel=this.saveAsExcel;},options:{proxyURL:"",allPages:!1,filterable:!1,fileName:"Export.xlsx"},saveAsExcel:function saveAsExcel(){var n=this.options.excel||{},i=new t.ExcelExporter({columns:this.columns,dataSource:this.dataSource,allPages:n.allPages,filterable:n.filterable,hierarchy:n.hierarchy});i.workbook().then(e.proxy(function(e,i){if(!this.trigger("excelExport",{workbook:e,data:i})){var o=new t.ooxml.Workbook(e);t.saveAs({dataURI:o.toDataURL(),fileName:e.fileName||n.fileName,proxyURL:n.proxyURL,forceProxy:n.forceProxy});}},this));}};}(kendo.jQuery,kendo),kendo;},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("kendo.data.signalr.min",["kendo.data.min"],e);}(function(){return function(e){var t=kendo.data.RemoteTransport.extend({init:function init(e){var t,n=e&&e.signalr?e.signalr:{},i=n.promise;if(!i)throw Error('The "promise" option must be set.');if("function"!=typeof i.done||"function"!=typeof i.fail)throw Error('The "promise" option must be a Promise.');if(this.promise=i,t=n.hub,!t)throw Error('The "hub" option must be set.');if("function"!=typeof t.on||"function"!=typeof t.invoke)throw Error('The "hub" option is not a valid SignalR hub proxy.');this.hub=t,kendo.data.RemoteTransport.fn.init.call(this,e);},push:function push(e){var t=this.options.signalr.client||{};t.create&&this.hub.on(t.create,e.pushCreate),t.update&&this.hub.on(t.update,e.pushUpdate),t.destroy&&this.hub.on(t.destroy,e.pushDestroy);},_crud:function _crud(t,n){var i,o,r=this.hub,a=this.options.signalr.server;if(!a||!a[n])throw Error(kendo.format('The "server.{0}" option must be set.',n));i=[a[n]],o=this.parameterMap(t.data,n),e.isEmptyObject(o)||i.push(o),this.promise.done(function(){r.invoke.apply(r,i).done(t.success).fail(t.error);});},read:function read(e){this._crud(e,"read");},create:function create(e){this._crud(e,"create");},update:function update(e){this._crud(e,"update");},destroy:function destroy(e){this._crud(e,"destroy");}});e.extend(!0,kendo.data,{transports:{signalr:t}});}(window.kendo.jQuery),window.kendo;},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("kendo.color.min",["kendo.core.min"],e);}(function(){!function(e,t,n){function i(e,o){var r,s;if(null==e||"none"==e)return null;if(e instanceof l)return e;if(e=e.toLowerCase(),r=a.exec(e))return e="transparent"==r[1]?new c(1,1,1,0):i(f.namedColors[r[1]],o),e.match=[r[1]],e;if((r=/^#?([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})\b/i.exec(e))?s=new d(n(r[1],16),n(r[2],16),n(r[3],16),1):(r=/^#?([0-9a-f])([0-9a-f])([0-9a-f])\b/i.exec(e))?s=new d(n(r[1]+r[1],16),n(r[2]+r[2],16),n(r[3]+r[3],16),1):(r=/^rgb\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/.exec(e))?s=new d(n(r[1],10),n(r[2],10),n(r[3],10),1):(r=/^rgba\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9.]+)\s*\)/.exec(e))?s=new d(n(r[1],10),n(r[2],10),n(r[3],10),t(r[4])):(r=/^rgb\(\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*\)/.exec(e))?s=new c(t(r[1])/100,t(r[2])/100,t(r[3])/100,1):(r=/^rgba\(\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9.]+)\s*\)/.exec(e))&&(s=new c(t(r[1])/100,t(r[2])/100,t(r[3])/100,t(r[4]))),s)s.match=r;else if(!o)throw Error("Cannot parse color: "+e);return s;}function o(e,t,n){for(n||(n="0"),e=e.toString(16);t>e.length;){e="0"+e;}return e;}function r(e,t,n){return 0>n&&(n+=1),n>1&&(n-=1),1/6>n?e+6*(t-e)*n:.5>n?t:2/3>n?e+(t-e)*(2/3-n)*6:e;}var a,s,l,c,d,u,h,f=function f(e){var t,n,i,o,r,a=this,s=f.formats;if(1===arguments.length)for(e=a.resolveColor(e),o=0;s.length>o;o++){t=s[o].re,n=s[o].process,i=t.exec(e),i&&(r=n(i),a.r=r[0],a.g=r[1],a.b=r[2]);}else a.r=arguments[0],a.g=arguments[1],a.b=arguments[2];a.r=a.normalizeByte(a.r),a.g=a.normalizeByte(a.g),a.b=a.normalizeByte(a.b);};f.prototype={toHex:function toHex(){var e=this,t=e.padDigit,n=e.r.toString(16),i=e.g.toString(16),o=e.b.toString(16);return"#"+t(n)+t(i)+t(o);},resolveColor:function resolveColor(e){return e=e||"black","#"==e.charAt(0)&&(e=e.substr(1,6)),e=e.replace(/ /g,""),e=e.toLowerCase(),e=f.namedColors[e]||e;},normalizeByte:function normalizeByte(e){return 0>e||isNaN(e)?0:e>255?255:e;},padDigit:function padDigit(e){return 1===e.length?"0"+e:e;},brightness:function brightness(e){var t=this,n=Math.round;return t.r=n(t.normalizeByte(t.r*e)),t.g=n(t.normalizeByte(t.g*e)),t.b=n(t.normalizeByte(t.b*e)),t;},percBrightness:function percBrightness(){var e=this;return Math.sqrt(.241*e.r*e.r+.691*e.g*e.g+.068*e.b*e.b);}},f.formats=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,process:function process(e){return[n(e[1],10),n(e[2],10),n(e[3],10)];}},{re:/^(\w{2})(\w{2})(\w{2})$/,process:function process(e){return[n(e[1],16),n(e[2],16),n(e[3],16)];}},{re:/^(\w{1})(\w{1})(\w{1})$/,process:function process(e){return[n(e[1]+e[1],16),n(e[2]+e[2],16),n(e[3]+e[3],16)];}}],f.namedColors={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgrey:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",grey:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"778899",lightslategrey:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"},a=["transparent"];for(s in f.namedColors){f.namedColors.hasOwnProperty(s)&&a.push(s);}a=RegExp("^("+a.join("|")+")(\\W|$)","i"),l=kendo.Class.extend({toHSV:function toHSV(){return this;},toRGB:function toRGB(){return this;},toHex:function toHex(){return this.toBytes().toHex();},toBytes:function toBytes(){return this;},toCss:function toCss(){return"#"+this.toHex();},toCssRgba:function toCssRgba(){var e=this.toBytes();return"rgba("+e.r+", "+e.g+", "+e.b+", "+t((+this.a).toFixed(3))+")";},toDisplay:function toDisplay(){return kendo.support.browser.msie&&kendo.support.browser.version<9?this.toCss():this.toCssRgba();},equals:function equals(e){return e===this||null!==e&&this.toCssRgba()==i(e).toCssRgba();},diff:function diff(e){if(null==e)return NaN;var t=this.toBytes();return e=e.toBytes(),Math.sqrt(Math.pow(.3*(t.r-e.r),2)+Math.pow(.59*(t.g-e.g),2)+Math.pow(.11*(t.b-e.b),2));},clone:function clone(){var e=this.toBytes();return e===this&&(e=new d(e.r,e.g,e.b,e.a)),e;}}),c=l.extend({init:function init(e,t,n,i){this.r=e,this.g=t,this.b=n,this.a=i;},toHSV:function toHSV(){var e,t,n=this.r,i=this.g,o=this.b,r=Math.min(n,i,o),a=Math.max(n,i,o),s=a,l=a-r;return 0===l?new u(0,0,s,this.a):(0!==a?(t=l/a,e=n==a?(i-o)/l:i==a?2+(o-n)/l:4+(n-i)/l,e*=60,0>e&&(e+=360)):(t=0,e=-1),new u(e,t,s,this.a));},toHSL:function toHSL(){var e,t,n,i=this.r,o=this.g,r=this.b,a=Math.max(i,o,r),s=Math.min(i,o,r),l=(a+s)/2;if(a==s)e=t=0;else{switch(n=a-s,t=l>.5?n/(2-a-s):n/(a+s),a){case i:e=(o-r)/n+(r>o?6:0);break;case o:e=(r-i)/n+2;break;case r:e=(i-o)/n+4;}e*=60,t*=100,l*=100;}return new h(e,t,l,this.a);},toBytes:function toBytes(){return new d(255*this.r,255*this.g,255*this.b,this.a);}}),d=c.extend({init:function init(e,t,n,i){this.r=Math.round(e),this.g=Math.round(t),this.b=Math.round(n),this.a=i;},toRGB:function toRGB(){return new c(this.r/255,this.g/255,this.b/255,this.a);},toHSV:function toHSV(){return this.toRGB().toHSV();},toHSL:function toHSL(){return this.toRGB().toHSL();},toHex:function toHex(){return o(this.r,2)+o(this.g,2)+o(this.b,2);},toBytes:function toBytes(){return this;}}),u=l.extend({init:function init(e,t,n,i){this.h=e,this.s=t,this.v=n,this.a=i;},toRGB:function toRGB(){var e,t,n,i,o,r,a,s,l=this.h,d=this.s,u=this.v;if(0===d)t=n=i=u;else switch(l/=60,e=Math.floor(l),o=l-e,r=u*(1-d),a=u*(1-d*o),s=u*(1-d*(1-o)),e){case 0:t=u,n=s,i=r;break;case 1:t=a,n=u,i=r;break;case 2:t=r,n=u,i=s;break;case 3:t=r,n=a,i=u;break;case 4:t=s,n=r,i=u;break;default:t=u,n=r,i=a;}return new c(t,n,i,this.a);},toHSL:function toHSL(){return this.toRGB().toHSL();},toBytes:function toBytes(){return this.toRGB().toBytes();}}),h=l.extend({init:function init(e,t,n,i){this.h=e,this.s=t,this.l=n,this.a=i;},toRGB:function toRGB(){var e,t,n,i,o,a=this.h,s=this.s,l=this.l;return 0===s?e=t=n=l:(a/=360,s/=100,l/=100,i=.5>l?l*(1+s):l+s-l*s,o=2*l-i,e=r(o,i,a+1/3),t=r(o,i,a),n=r(o,i,a-1/3)),new c(e,t,n,this.a);},toHSV:function toHSV(){return this.toRGB().toHSV();},toBytes:function toBytes(){return this.toRGB().toBytes();}}),f.fromBytes=function(e,t,n,i){return new d(e,t,n,null!=i?i:1);},f.fromRGB=function(e,t,n,i){return new c(e,t,n,null!=i?i:1);},f.fromHSV=function(e,t,n,i){return new u(e,t,n,null!=i?i:1);},f.fromHSL=function(e,t,n,i){return new h(e,t,n,null!=i?i:1);},kendo.Color=f,kendo.parseColor=i;}(window.kendo.jQuery,parseFloat,parseInt);},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("util/main.min",["kendo.core.min"],e);}(function(){return function(){function e(e){return(typeof e==="undefined"?"undefined":_typeof(e))!==H;}function t(e,t){var i=n(t);return F.round(e*i)/i;}function n(e){return e?F.pow(10,e):1;}function i(e,t,n){return F.max(F.min(e,n),t);}function o(e){return e*z;}function r(e){return e/z;}function a(e){return"number"==typeof e&&!isNaN(e);}function s(t,n){return e(t)?t:n;}function l(e){return e*e;}function c(e){var t,n=[];for(t in e){n.push(t+e[t]);}return n.sort().join("");}function d(e){var t,n=2166136261;for(t=0;e.length>t;++t){n+=(n<<1)+(n<<4)+(n<<7)+(n<<8)+(n<<24),n^=e.charCodeAt(t);}return n>>>0;}function u(e){return d(c(e));}function h(e){var t,n=e.length,i=B,o=L;for(t=0;n>t;t++){o=F.max(o,e[t]),i=F.min(i,e[t]);}return{min:i,max:o};}function f(e){return h(e).min;}function p(e){return h(e).max;}function m(e){return v(e).min;}function g(e){return v(e).max;}function v(e){var t,n,i,o=B,r=L;for(t=0,n=e.length;n>t;t++){i=e[t],null!==i&&isFinite(i)&&(o=F.min(o,i),r=F.max(r,i));}return{min:o===B?void 0:o,max:r===L?void 0:r};}function _(e){return e?e[e.length-1]:void 0;}function b(e,t){return e.push.apply(e,t),e;}function w(e){return M.template(e,{useWithBlock:!1,paramName:"d"});}function y(t,n){return e(n)&&null!==n?" "+t+"='"+n+"' ":"";}function k(e){var t,n="";for(t=0;e.length>t;t++){n+=y(e[t][0],e[t][1]);}return n;}function x(t){var n,i,o="";for(n=0;t.length>n;n++){i=t[n][1],e(i)&&(o+=t[n][0]+":"+i+";");}return""!==o?o:void 0;}function C(e){return"string"!=typeof e&&(e+="px"),e;}function S(e){var t,n,i=[];if(e)for(t=M.toHyphens(e).split("-"),n=0;t.length>n;n++){i.push("k-pos-"+t[n]);}return i.join(" ");}function T(t){return""===t||null===t||"none"===t||"transparent"===t||!e(t);}function D(e){for(var t={1:"i",10:"x",100:"c",2:"ii",20:"xx",200:"cc",3:"iii",30:"xxx",300:"ccc",4:"iv",40:"xl",400:"cd",5:"v",50:"l",500:"d",6:"vi",60:"lx",600:"dc",7:"vii",70:"lxx",700:"dcc",8:"viii",80:"lxxx",800:"dccc",9:"ix",90:"xc",900:"cm",1e3:"m"},n=[1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],i="";e>0;){n[0]>e?n.shift():(i+=t[n[0]],e-=n[0]);}return i;}function A(e){var t,n,i,o,r;for(e=e.toLowerCase(),t={i:1,v:5,x:10,l:50,c:100,d:500,m:1e3},n=0,i=0,o=0;e.length>o;++o){if(r=t[e.charAt(o)],!r)return null;n+=r,r>i&&(n-=2*i),i=r;}return n;}function E(e){var t=Object.create(null);return function(){var n,i="";for(n=arguments.length;--n>=0;){i+=":"+arguments[n];}return i in t?t[i]:e.apply(this,arguments);};}function R(e){for(var t,n,i=[],o=0,r=e.length;r>o;){t=e.charCodeAt(o++),t>=55296&&56319>=t&&r>o?(n=e.charCodeAt(o++),56320==(64512&n)?i.push(((1023&t)<<10)+(1023&n)+65536):(i.push(t),o--)):i.push(t);}return i;}function I(e){return e.map(function(e){var t="";return e>65535&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|1023&e),t+=String.fromCharCode(e);}).join("");}var F=Math,M=window.kendo,P=M.deepExtend,z=F.PI/180,B=Number.MAX_VALUE,L=-Number.MAX_VALUE,H="undefined",N=Date.now;N||(N=function N(){return new Date().getTime();}),P(M,{util:{MAX_NUM:B,MIN_NUM:L,append:b,arrayLimits:h,arrayMin:f,arrayMax:p,defined:e,deg:r,hashKey:d,hashObject:u,isNumber:a,isTransparent:T,last:_,limitValue:i,now:N,objectKey:c,round:t,rad:o,renderAttr:y,renderAllAttr:k,renderPos:S,renderSize:C,renderStyle:x,renderTemplate:w,sparseArrayLimits:v,sparseArrayMin:m,sparseArrayMax:g,sqr:l,valueOrDefault:s,romanToArabic:A,arabicToRoman:D,memoize:E,ucs2encode:I,ucs2decode:R}}),M.drawing.util=M.util,M.dataviz.util=M.util;}(),window.kendo;},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("util/text-metrics.min",["kendo.core.min","util/main.min"],e);}(function(){!function(e){function t(){return{width:0,height:0,baseline:0};}function n(e,t,n){return u.current.measure(e,t,n);}function i(e,t){var n=[];if(e.length>0&&document.fonts){try{n=e.map(function(e){return document.fonts.load(e);});}catch(i){r.logToConsole(i);}Promise.all(n).then(t,t);}else t();}var o=document,r=window.kendo,a=r.Class,s=r.util,l=s.defined,c=a.extend({init:function init(e){this._size=e,this._length=0,this._map={};},put:function put(e,t){var n=this,i=n._map,o={key:e,value:t};i[e]=o,n._head?(n._tail.newer=o,o.older=n._tail,n._tail=o):n._head=n._tail=o,n._length>=n._size?(i[n._head.key]=null,n._head=n._head.newer,n._head.older=null):n._length++;},get:function get(e){var t=this,n=t._map[e];return n?(n===t._head&&n!==t._tail&&(t._head=n.newer,t._head.older=null),n!==t._tail&&(n.older&&(n.older.newer=n.newer,n.newer.older=n.older),n.older=t._tail,n.newer=null,t._tail.newer=n,t._tail=n),n.value):void 0;}}),d=e("<div style='position: absolute !important; top: -4000px !important; width: auto !important; height: auto !important;padding: 0 !important; margin: 0 !important; border: 0 !important;line-height: normal !important; visibility: hidden !important; white-space: nowrap!important;' />")[0],u=a.extend({init:function init(e){this._cache=new c(1e3),this._initOptions(e);},options:{baselineMarkerSize:1},measure:function measure(n,i,r){var a,c,u,h,f,p,m,g;if(!n)return t();if(a=s.objectKey(i),c=s.hashKey(n+a),u=this._cache.get(c),u)return u;h=t(),f=r?r:d,p=this._baselineMarker().cloneNode(!1);for(m in i){g=i[m],l(g)&&(f.style[m]=g);}return e(f).text(n),f.appendChild(p),o.body.appendChild(f),(n+"").length&&(h.width=f.offsetWidth-this.options.baselineMarkerSize,h.height=f.offsetHeight,h.baseline=p.offsetTop+this.options.baselineMarkerSize),h.width>0&&h.height>0&&this._cache.put(c,h),f.parentNode.removeChild(f),h;},_baselineMarker:function _baselineMarker(){return e("<div class='k-baseline-marker' style='display: inline-block; vertical-align: baseline;width: "+this.options.baselineMarkerSize+"px; height: "+this.options.baselineMarkerSize+"px;overflow: hidden;' />")[0];}});u.current=new u(),r.util.TextMetrics=u,r.util.LRUCache=c,r.util.loadFonts=i,r.util.measureText=n;}(window.kendo.jQuery);},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("util/base64.min",["util/main.min"],e);}(function(){return function(){function e(e){var n,i,o,a,s,l,c,d="",u=0;for(e=t(e);e.length>u;){n=e.charCodeAt(u++),i=e.charCodeAt(u++),o=e.charCodeAt(u++),a=n>>2,s=(3&n)<<4|i>>4,l=(15&i)<<2|o>>6,c=63&o,isNaN(i)?l=c=64:isNaN(o)&&(c=64),d=d+r.charAt(a)+r.charAt(s)+r.charAt(l)+r.charAt(c);}return d;}function t(e){var t,n,i="";for(t=0;e.length>t;t++){n=e.charCodeAt(t),128>n?i+=o(n):2048>n?(i+=o(192|n>>>6),i+=o(128|63&n)):65536>n&&(i+=o(224|n>>>12),i+=o(128|n>>>6&63),i+=o(128|63&n));}return i;}var n=window.kendo,i=n.deepExtend,o=String.fromCharCode,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i(n.util,{encodeBase64:e,encodeUTF8:t});}(),window.kendo;},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("mixins/observers.min",["kendo.core.min"],e);}(function(){return function(e){var t=Math,n=window.kendo,i=n.deepExtend,o=e.inArray,r={observers:function observers(){return this._observers=this._observers||[];},addObserver:function addObserver(e){return this._observers?this._observers.push(e):this._observers=[e],this;},removeObserver:function removeObserver(e){var t=this.observers(),n=o(e,t);return-1!=n&&t.splice(n,1),this;},trigger:function trigger(e,t){var n,i,o=this._observers;if(o&&!this._suspended)for(i=0;o.length>i;i++){n=o[i],n[e]&&n[e](t);}return this;},optionsChange:function optionsChange(e){e=e||{},e.element=this,this.trigger("optionsChange",e);},geometryChange:function geometryChange(){this.trigger("geometryChange",{element:this});},suspend:function suspend(){return this._suspended=(this._suspended||0)+1,this;},resume:function resume(){return this._suspended=t.max((this._suspended||0)-1,0),this;},_observerField:function _observerField(e,t){this[e]&&this[e].removeObserver(this),this[e]=t,t.addObserver(this);}};i(n,{mixins:{ObserversMixin:r}});}(window.kendo.jQuery),window.kendo;},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("drawing/geometry.min",["util/main.min","mixins/observers.min"],e);}(function(){return function(){function e(e){return null===e?null:e instanceof D?e:new D(e);}function t(e){return e&&I.isFunction(e.matrix)?e.matrix():e;}function n(e,t,n,i){var o=0,r=0;return i&&(o=E.atan2(i.c*n,i.a*t),0!==i.b&&(r=E.atan2(i.d*n,i.b*t))),{x:o,y:r};}function i(e,t){for(;t>e;){e+=90;}return e;}function o(e,t){var n,i,o;for(n=0;t.length>n;n++){i=t[n],o=i.charAt(0).toUpperCase()+i.substring(1,i.length),e["set"+o]=r(i),e["get"+o]=a(i);}}function r(e){return function(t){return this[e]!==t&&(this[e]=t,this.geometryChange()),this;};}function a(e){return function(){return this[e];};}function s(e,t,n){e>t&&(t+=360);var i=E.abs(t-e);return n||(i=360-i),i;}function l(e,t,n,i,o,r){var a=N((o-e)/n,3),s=N((r-t)/i,3);return N(H(E.atan2(s,a)));}function c(e,t,n,i,o,r,a,c){var d,u,h,f,p,m,g,v,_,b,w,y,k,x,C,S,T,D;if(t!==i)_=n-e,b=i-t,w=R(o,2),y=R(r,2),k=(y*_*(e+n)+w*b*(t+i))/(2*w*b),x=k-i,C=-(_*y)/(w*b),p=1/w+R(C,2)/y,m=2*(C*x/y-n/w),g=R(n,2)/w+R(x,2)/y-1,v=E.sqrt(R(m,2)-4*p*g),d=(-m-v)/(2*p),u=k+C*d,h=(-m+v)/(2*p),f=k+C*h;else{if(e===n)return!1;m=-2*i,g=R((n-e)*r/(2*o),2)+R(i,2)-R(r,2),v=E.sqrt(R(m,2)-4*g),d=h=(e+n)/2,u=(-m-v)/2,f=(-m+v)/2;}return S=l(d,u,o,r,e,t),T=l(d,u,o,r,n,i),D=s(S,T,c),(a&&180>=D||!a&&D>180)&&(d=h,u=f,S=l(d,u,o,r,e,t),T=l(d,u,o,r,n,i)),{center:new j(d,u),startAngle:S,endAngle:T};}function d(e,t,n,i){if(0===e)return y(t,n,i);var o,r,a,s,l,c,d,u=(3*e*n-E.pow(t,2))/(3*E.pow(e,2)),h=(2*E.pow(t,3)-9*e*t*n+27*E.pow(e,2)*i)/(27*E.pow(e,3)),f=E.pow(u/3,3)+E.pow(h/2,2),p=new A(0,1),m=-t/(3*e),g=[];return 0>f?(o=new A(-h/2,E.sqrt(-f)).nthRoot(3),r=new A(-h/2,-E.sqrt(-f)).nthRoot(3)):(o=-h/2+E.sqrt(f),o=new A(_(o)*E.pow(E.abs(o),1/3)),r=-h/2-E.sqrt(f),r=new A(_(r)*E.pow(E.abs(r),1/3))),a=o.add(r),c=o.add(r).multiplyConstant(-0.5),d=o.add(r.negate()).multiplyConstant(E.sqrt(3)/2),s=c.add(p.multiply(d)),l=c.add(p.negate().multiply(d)),a.isReal()&&g.push(N(a.real+m,W)),s.isReal()&&g.push(N(s.real+m,W)),l.isReal()&&g.push(N(l.real+m,W)),g;}function u(e,t){return[-e[0][t]+3*e[1][t]-3*e[2][t]+e[3][t],3*(e[0][t]-2*e[1][t]+e[2][t]),3*(-e[0][t]+e[1][t]),e[0][t]];}function h(e,t,n){var i=1-e;return E.pow(i,3)*n[0][t]+3*E.pow(i,2)*e*n[1][t]+3*E.pow(e,2)*i*n[2][t]+E.pow(e,3)*n[3][t];}function f(e,t,n){var i,o,r,a=u(e,"x"),s=d(a[0],a[1],a[2],a[3]-t.x),l=0;for(r=0;s.length>r;r++){i=h(s[r],"y",e),o=g(i,t.y)||i>t.y,o&&((0===s[r]||1===s[r])&&n.bottomRight().x>t.x||s[r]>0&&1>s[r])&&l++;}return l;}function p(e,t,n){var i,o,r,a,s,l;return e.x!=t.x&&(o=E.min(e.x,t.x),r=E.max(e.x,t.x),a=E.min(e.y,t.y),s=E.max(e.y,t.y),l=n.x>=o&&r>n.x,i=a==s?a>=n.y&&l:l&&(s-a)*((e.x-t.x)*(e.y-t.y)>0?n.x-o:r-n.x)/(r-o)+a-n.y>=0),i?1:0;}function m(e,t,n,i){var o=t.x-e.x,r=i.x-n.x,a=t.y-e.y,s=i.y-n.y,l=e.x-n.x,c=e.y-n.y,d=o*s-r*a,u=(o*c-a*l)/d,h=(r*c-s*l)/d;return u>=0&&1>=u&&h>=0&&1>=h?new j(e.x+h*o,e.y+h*a):void 0;}function g(e,t,n){return 0===N(E.abs(e-t),n||W);}function v(e,t,n){return t>e||g(e,t,n);}function _(e){return 0>e?-1:1;}function b(t,n,i){var o=z.deg(E.atan2(n.y-t.y,n.x-t.x)),r=i.transformCopy(e().rotate(-o,t));return t.x>r.x;}function w(e,t,n,i,o){var r,a,s=u(e,i),l=d(s[0],s[1],s[2],s[3]-t[i]);for(a=0;l.length>a;a++){if(l[a]>=0&&1>=l[a]&&(r=h(l[a],n,e),E.abs(r-t[n])<=o))return!0;}}function y(e,t,n){var i=E.sqrt(E.pow(t,2)-4*e*n);return[(-t+i)/(2*e),(-t-i)/(2*e)];}var k,x,C,S,T,D,A,E=Math,R=E.pow,I=window.kendo,F=I.Class,M=I.deepExtend,P=I.mixins.ObserversMixin,z=I.util,B=z.defined,L=z.rad,H=z.deg,N=z.round,O=E.PI/2,V=z.MIN_NUM,U=z.MAX_NUM,W=10,j=F.extend({init:function init(e,t){this.x=e||0,this.y=t||0;},equals:function equals(e){return e&&e.x===this.x&&e.y===this.y;},clone:function clone(){return new j(this.x,this.y);},rotate:function rotate(t,n){return this.transform(e().rotate(t,n));},translate:function translate(e,t){return this.x+=e,this.y+=t,this.geometryChange(),this;},translateWith:function translateWith(e){return this.translate(e.x,e.y);},move:function move(e,t){return this.x=this.y=0,this.translate(e,t);},scale:function scale(e,t){return B(t)||(t=e),this.x*=e,this.y*=t,this.geometryChange(),this;},scaleCopy:function scaleCopy(e,t){return this.clone().scale(e,t);},transform:function transform(e){var n=t(e),i=this.x,o=this.y;return this.x=n.a*i+n.c*o+n.e,this.y=n.b*i+n.d*o+n.f,this.geometryChange(),this;},transformCopy:function transformCopy(e){var t=this.clone();return e&&t.transform(e),t;},distanceTo:function distanceTo(e){var t=this.x-e.x,n=this.y-e.y;return E.sqrt(t*t+n*n);},round:function round(e){return this.x=N(this.x,e),this.y=N(this.y,e),this.geometryChange(),this;},toArray:function toArray(e){var t=B(e),n=t?N(this.x,e):this.x,i=t?N(this.y,e):this.y;return[n,i];}});o(j.fn,["x","y"]),M(j.fn,P),j.fn.toString=function(e,t){var n=this.x,i=this.y;return B(e)&&(n=N(n,e),i=N(i,e)),t=t||" ",n+t+i;},j.create=function(e,t){return B(e)?e instanceof j?e:1===arguments.length&&2===e.length?new j(e[0],e[1]):new j(e,t):void 0;},j.min=function(){var e,t,n=z.MAX_NUM,i=z.MAX_NUM;for(e=0;arguments.length>e;e++){t=arguments[e],n=E.min(t.x,n),i=E.min(t.y,i);}return new j(n,i);},j.max=function(){var e,t,n=z.MIN_NUM,i=z.MIN_NUM;for(e=0;arguments.length>e;e++){t=arguments[e],n=E.max(t.x,n),i=E.max(t.y,i);}return new j(n,i);},j.minPoint=function(){return new j(V,V);},j.maxPoint=function(){return new j(U,U);},j.ZERO=new j(0,0),k=F.extend({init:function init(e,t){this.width=e||0,this.height=t||0;},equals:function equals(e){return e&&e.width===this.width&&e.height===this.height;},clone:function clone(){return new k(this.width,this.height);},toArray:function toArray(e){var t=B(e),n=t?N(this.width,e):this.width,i=t?N(this.height,e):this.height;return[n,i];}}),o(k.fn,["width","height"]),M(k.fn,P),k.create=function(e,t){return B(e)?e instanceof k?e:1===arguments.length&&2===e.length?new k(e[0],e[1]):new k(e,t):void 0;},k.ZERO=new k(0,0),x=F.extend({init:function init(e,t){this.setOrigin(e||new j()),this.setSize(t||new k());},clone:function clone(){return new x(this.origin.clone(),this.size.clone());},equals:function equals(e){return e&&e.origin.equals(this.origin)&&e.size.equals(this.size);},setOrigin:function setOrigin(e){return this._observerField("origin",j.create(e)),this.geometryChange(),this;},getOrigin:function getOrigin(){return this.origin;},setSize:function setSize(e){return this._observerField("size",k.create(e)),this.geometryChange(),this;},getSize:function getSize(){return this.size;},width:function width(){return this.size.width;},height:function height(){return this.size.height;},topLeft:function topLeft(){return this.origin.clone();},bottomRight:function bottomRight(){return this.origin.clone().translate(this.width(),this.height());},topRight:function topRight(){return this.origin.clone().translate(this.width(),0);},bottomLeft:function bottomLeft(){return this.origin.clone().translate(0,this.height());},center:function center(){return this.origin.clone().translate(this.width()/2,this.height()/2);},bbox:function bbox(e){var t=this.topLeft().transformCopy(e),n=this.topRight().transformCopy(e),i=this.bottomRight().transformCopy(e),o=this.bottomLeft().transformCopy(e);return x.fromPoints(t,n,i,o);},transformCopy:function transformCopy(e){return x.fromPoints(this.topLeft().transform(e),this.bottomRight().transform(e));},expand:function expand(e,t){return B(t)||(t=e),this.size.width+=2*e,this.size.height+=2*t,this.origin.translate(-e,-t),this;},expandCopy:function expandCopy(e,t){return this.clone().expand(e,t);},containsPoint:function containsPoint(e){var t=this.origin,n=this.bottomRight();return!(t.x>e.x||t.y>e.y||e.x>n.x||e.y>n.y);},_isOnPath:function _isOnPath(e,t){var n=this.expandCopy(t,t),i=this.expandCopy(-t,-t);return n.containsPoint(e)&&!i.containsPoint(e);}}),M(x.fn,P),x.fromPoints=function(){var e=j.min.apply(this,arguments),t=j.max.apply(this,arguments),n=new k(t.x-e.x,t.y-e.y);return new x(e,n);},x.union=function(e,t){return x.fromPoints(j.min(e.topLeft(),t.topLeft()),j.max(e.bottomRight(),t.bottomRight()));},x.intersect=function(e,t){return e={left:e.topLeft().x,top:e.topLeft().y,right:e.bottomRight().x,bottom:e.bottomRight().y},t={left:t.topLeft().x,top:t.topLeft().y,right:t.bottomRight().x,bottom:t.bottomRight().y},t.right>=e.left&&e.right>=t.left&&t.bottom>=e.top&&e.bottom>=t.top?x.fromPoints(new j(E.max(e.left,t.left),E.max(e.top,t.top)),new j(E.min(e.right,t.right),E.min(e.bottom,t.bottom))):void 0;},C=F.extend({init:function init(e,t){this.setCenter(e||new j()),this.setRadius(t||0);},setCenter:function setCenter(e){return this._observerField("center",j.create(e)),this.geometryChange(),this;},getCenter:function getCenter(){return this.center;},equals:function equals(e){return e&&e.center.equals(this.center)&&e.radius===this.radius;},clone:function clone(){return new C(this.center.clone(),this.radius);},pointAt:function pointAt(e){return this._pointAt(L(e));},bbox:function bbox(e){var t,i,o,r,a=j.maxPoint(),s=j.minPoint(),l=n(this.center,this.radius,this.radius,e);for(t=0;4>t;t++){i=this._pointAt(l.x+t*O).transformCopy(e),o=this._pointAt(l.y+t*O).transformCopy(e),r=new j(i.x,o.y),a=j.min(a,r),s=j.max(s,r);}return x.fromPoints(a,s);},_pointAt:function _pointAt(e){var t=this.center,n=this.radius;return new j(t.x-n*E.cos(e),t.y-n*E.sin(e));},containsPoint:function containsPoint(e){var t=this.center,n=E.pow(e.x-t.x,2)+E.pow(e.y-t.y,2)<=E.pow(this.radius,2);return n;},_isOnPath:function _isOnPath(e,t){var n=this.center,i=this.radius,o=n.distanceTo(e);return o>=i-t&&i+t>=o;}}),o(C.fn,["radius"]),M(C.fn,P),S=F.extend({init:function init(e,t){this.setCenter(e||new j()),t=t||{},this.radiusX=t.radiusX,this.radiusY=t.radiusY||t.radiusX,this.startAngle=t.startAngle,this.endAngle=t.endAngle,this.anticlockwise=t.anticlockwise||!1;},clone:function clone(){return new S(this.center,{radiusX:this.radiusX,radiusY:this.radiusY,startAngle:this.startAngle,endAngle:this.endAngle,anticlockwise:this.anticlockwise});},setCenter:function setCenter(e){return this._observerField("center",j.create(e)),this.geometryChange(),this;},getCenter:function getCenter(){return this.center;},MAX_INTERVAL:45,pointAt:function pointAt(e){var t=this.center,n=L(e);return new j(t.x+this.radiusX*E.cos(n),t.y+this.radiusY*E.sin(n));},curvePoints:function curvePoints(){var e,t,n,i=this.startAngle,o=this.anticlockwise?-1:1,r=[this.pointAt(i)],a=i,s=this._arcInterval(),l=s.endAngle-s.startAngle,c=E.ceil(l/this.MAX_INTERVAL),d=l/c;for(e=1;c>=e;e++){t=a+o*d,n=this._intervalCurvePoints(a,t),r.push(n.cp1,n.cp2,n.p2),a=t;}return r;},bbox:function bbox(e){for(var t,o,r=this,a=r._arcInterval(),s=a.startAngle,l=a.endAngle,c=n(this.center,this.radiusX,this.radiusY,e),d=H(c.x),u=H(c.y),h=r.pointAt(s).transformCopy(e),f=r.pointAt(l).transformCopy(e),p=j.min(h,f),m=j.max(h,f),g=i(d,s),v=i(u,s);l>g||l>v;){l>g&&(t=r.pointAt(g).transformCopy(e),g+=90),l>v&&(o=r.pointAt(v).transformCopy(e),v+=90),h=new j(t.x,o.y),p=j.min(p,h),m=j.max(m,h);}return x.fromPoints(p,m);},_arcInterval:function _arcInterval(){var e,t=this.startAngle,n=this.endAngle,i=this.anticlockwise;return i&&(e=t,t=n,n=e),(t>n||i&&t===n)&&(n+=360),{startAngle:t,endAngle:n};},_intervalCurvePoints:function _intervalCurvePoints(e,t){var n=this,i=n.pointAt(e),o=n.pointAt(t),r=n._derivativeAt(e),a=n._derivativeAt(t),s=(L(t)-L(e))/3,l=new j(i.x+s*r.x,i.y+s*r.y),c=new j(o.x-s*a.x,o.y-s*a.y);return{p1:i,cp1:l,cp2:c,p2:o};},_derivativeAt:function _derivativeAt(e){var t=this,n=L(e);return new j(-t.radiusX*E.sin(n),t.radiusY*E.cos(n));},containsPoint:function containsPoint(e){var t,n,i,o=this._arcInterval(),r=o.endAngle-o.startAngle,a=this.center,s=a.distanceTo(e),c=E.atan2(e.y-a.y,e.x-a.x),d=this.radiusX*this.radiusY/E.sqrt(E.pow(this.radiusX,2)*E.pow(E.sin(c),2)+E.pow(this.radiusY,2)*E.pow(E.cos(c),2)),u=this.pointAt(this.startAngle).round(W),h=this.pointAt(this.endAngle).round(W),f=m(a,e.round(W),u,h);return 180>r?t=f&&v(a.distanceTo(f),s)&&v(s,d):(n=l(a.x,a.y,this.radiusX,this.radiusY,e.x,e.y),360!=n&&(n=(360+n)%360),i=n>=o.startAngle&&o.endAngle>=n,t=i&&v(s,d)||!i&&(!f||f.equals(e))),t;},_isOnPath:function _isOnPath(e,t){var n,i=this._arcInterval(),o=this.center,r=l(o.x,o.y,this.radiusX,this.radiusY,e.x,e.y);return 360!=r&&(r=(360+r)%360),n=r>=i.startAngle&&i.endAngle>=r,n&&this.pointAt(r).distanceTo(e)<=t;}}),o(S.fn,["radiusX","radiusY","startAngle","endAngle","anticlockwise"]),M(S.fn,P),S.fromPoints=function(e,t,n,i,o,r){var a=c(e.x,e.y,t.x,t.y,n,i,o,r);return new S(a.center,{startAngle:a.startAngle,endAngle:a.endAngle,radiusX:n,radiusY:i,anticlockwise:0===r});},T=F.extend({init:function init(e,t,n,i,o,r){this.a=e||0,this.b=t||0,this.c=n||0,this.d=i||0,this.e=o||0,this.f=r||0;},multiplyCopy:function multiplyCopy(e){return new T(this.a*e.a+this.c*e.b,this.b*e.a+this.d*e.b,this.a*e.c+this.c*e.d,this.b*e.c+this.d*e.d,this.a*e.e+this.c*e.f+this.e,this.b*e.e+this.d*e.f+this.f);},invert:function invert(){var e=this.a,t=this.b,n=this.c,i=this.d,o=this.e,r=this.f,a=e*i-t*n;return 0===a?null:new T(i/a,-t/a,-n/a,e/a,(n*r-i*o)/a,(t*o-e*r)/a);},clone:function clone(){return new T(this.a,this.b,this.c,this.d,this.e,this.f);},equals:function equals(e){return e?this.a===e.a&&this.b===e.b&&this.c===e.c&&this.d===e.d&&this.e===e.e&&this.f===e.f:!1;},round:function round(e){return this.a=N(this.a,e),this.b=N(this.b,e),this.c=N(this.c,e),this.d=N(this.d,e),this.e=N(this.e,e),this.f=N(this.f,e),this;},toArray:function toArray(e){var t,n=[this.a,this.b,this.c,this.d,this.e,this.f];if(B(e))for(t=0;n.length>t;t++){n[t]=N(n[t],e);}return n;}}),T.fn.toString=function(e,t){return this.toArray(e).join(t||",");},T.translate=function(e,t){return new T(1,0,0,1,e,t);},T.unit=function(){return new T(1,0,0,1,0,0);},T.rotate=function(e,t,n){var i=new T();return i.a=E.cos(L(e)),i.b=E.sin(L(e)),i.c=-i.b,i.d=i.a,i.e=t-t*i.a+n*i.b||0,i.f=n-n*i.a-t*i.b||0,i;},T.scale=function(e,t){return new T(e,0,0,t,0,0);},T.IDENTITY=T.unit(),D=F.extend({init:function init(e){this._matrix=e||T.unit();},clone:function clone(){return new D(this._matrix.clone());},equals:function equals(e){return e&&e._matrix.equals(this._matrix);},_optionsChange:function _optionsChange(){this.optionsChange({field:"transform",value:this});},translate:function translate(e,t){return this._matrix=this._matrix.multiplyCopy(T.translate(e,t)),this._optionsChange(),this;},scale:function scale(e,t,n){return B(t)||(t=e),n&&(n=j.create(n),this._matrix=this._matrix.multiplyCopy(T.translate(n.x,n.y))),this._matrix=this._matrix.multiplyCopy(T.scale(e,t)),n&&(this._matrix=this._matrix.multiplyCopy(T.translate(-n.x,-n.y))),this._optionsChange(),this;},rotate:function rotate(e,t){return t=j.create(t)||j.ZERO,this._matrix=this._matrix.multiplyCopy(T.rotate(e,t.x,t.y)),this._optionsChange(),this;},multiply:function multiply(e){var n=t(e);return this._matrix=this._matrix.multiplyCopy(n),this._optionsChange(),this;},matrix:function matrix(e){return e?(this._matrix=e,this._optionsChange(),this):this._matrix;}}),M(D.fn,P),A=function A(e,t){this.real=e||0,this.img=t||0;},A.fn=A.prototype={add:function add(e){return new A(N(this.real+e.real,W),N(this.img+e.img,W));},addConstant:function addConstant(e){return new A(this.real+e,this.img);},negate:function negate(){return new A(-this.real,-this.img);},multiply:function multiply(e){return new A(this.real*e.real-this.img*e.img,this.real*e.img+this.img*e.real);},multiplyConstant:function multiplyConstant(e){return new A(this.real*e,this.img*e);},nthRoot:function nthRoot(e){var t=E.atan2(this.img,this.real),n=E.sqrt(E.pow(this.img,2)+E.pow(this.real,2)),i=E.pow(n,1/e);return new A(i*E.cos(t/e),i*E.sin(t/e));},equals:function equals(e){return this.real===e.real&&this.img===e.img;},isReal:function isReal(){return 0===this.img;}},M(I,{geometry:{Arc:S,Circle:C,curveIntersectionsCount:f,lineIntersectionsCount:p,Matrix:T,Point:j,Rect:x,Size:k,Transformation:D,transform:e,toMatrix:t,isOutOfEndPoint:b,hasRootsInRange:w}}),I.dataviz.geometry=I.geometry;}(),window.kendo;},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("kendo.popup.min",["kendo.core.min"],e);}(function(){return function(e,t){function n(t,n){return t===n||e.contains(t,n);}var i=window.kendo,o=i.ui,r=o.Widget,a=i.support,s=i.getOffset,l="open",c="close",d="deactivate",u="activate",h="center",f="left",p="right",m="top",g="bottom",v="absolute",_="hidden",b="body",w="location",y="position",k="visible",x="effects",C="k-state-active",S="k-state-border",T=/k-state-border-(\w+)/,D=".k-picker-wrap, .k-dropdown-wrap, .k-link",A="down",E=e(document.documentElement),R=e(window),I="scroll",F=a.transitions.css,M=F+"transform",P=e.extend,z=".kendoPopup",B=["font-size","font-family","font-stretch","font-style","font-weight","line-height"],L=r.extend({init:function init(t,n){var o,s=this;n=n||{},n.isRtl&&(n.origin=n.origin||g+" "+p,n.position=n.position||m+" "+p),r.fn.init.call(s,t,n),t=s.element,n=s.options,s.collisions=n.collision?n.collision.split(" "):[],s.downEvent=i.applyEventMap(A,i.guid()),1===s.collisions.length&&s.collisions.push(s.collisions[0]),o=e(s.options.anchor).closest(".k-popup,.k-group").filter(":not([class^=km-])"),n.appendTo=e(e(n.appendTo)[0]||o[0]||b),s.element.hide().addClass("k-popup k-group k-reset").toggleClass("k-rtl",!!n.isRtl).css({position:v}).appendTo(n.appendTo).on("mouseenter"+z,function(){s._hovered=!0;}).on("mouseleave"+z,function(){s._hovered=!1;}),s.wrapper=e(),n.animation===!1&&(n.animation={open:{effects:{}},close:{hide:!0,effects:{}}}),P(n.animation.open,{complete:function complete(){s.wrapper.css({overflow:k}),s._activated=!0,s._trigger(u);}}),P(n.animation.close,{complete:function complete(){s._animationClose();}}),s._mousedownProxy=function(e){s._mousedown(e);},s._resizeProxy=a.mobileOS.android?function(e){setTimeout(function(){s._resize(e);},600);}:function(e){s._resize(e);},n.toggleTarget&&e(n.toggleTarget).on(n.toggleEvent+z,e.proxy(s.toggle,s));},events:[l,u,c,d],options:{name:"Popup",toggleEvent:"click",origin:g+" "+f,position:m+" "+f,anchor:b,appendTo:null,collision:"flip fit",viewport:window,copyAnchorStyles:!0,autosize:!1,modal:!1,adjustSize:{width:0,height:0},animation:{open:{effects:"slideIn:down",transition:!0,duration:200},close:{duration:100,hide:!0}}},_animationClose:function _animationClose(){var e=this,t=e.wrapper.data(w);e.wrapper.hide(),t&&e.wrapper.css(t),e.options.anchor!=b&&e._hideDirClass(),e._closing=!1,e._trigger(d);},destroy:function destroy(){var t,n=this,o=n.options,a=n.element.off(z);r.fn.destroy.call(n),o.toggleTarget&&e(o.toggleTarget).off(z),o.modal||(E.unbind(n.downEvent,n._mousedownProxy),n._toggleResize(!1)),i.destroy(n.element.children()),a.removeData(),o.appendTo[0]===document.body&&(t=a.parent(".k-animation-container"),t[0]?t.remove():a.remove());},open:function open(t,n){var o,r,s=this,c={isFixed:!isNaN(parseInt(n,10)),x:t,y:n},d=s.element,u=s.options,h=e(u.anchor),f=d[0]&&d.hasClass("km-widget");if(!s.visible()){if(u.copyAnchorStyles&&(f&&"font-size"==B[0]&&B.shift(),d.css(i.getComputedStyles(h[0],B))),d.data("animating")||s._trigger(l))return;s._activated=!1,u.modal||(E.unbind(s.downEvent,s._mousedownProxy).bind(s.downEvent,s._mousedownProxy),s._toggleResize(!1),s._toggleResize(!0)),s.wrapper=r=i.wrap(d,u.autosize).css({overflow:_,display:"block",position:v}),a.mobileOS.android&&r.css(M,"translatez(0)"),r.css(y),e(u.appendTo)[0]==document.body&&r.css(m,"-10000px"),s.flipped=s._position(c),o=s._openAnimation(),u.anchor!=b&&s._showDirClass(o),d.data(x,o.effects).kendoStop(!0).kendoAnimate(o);}},_openAnimation:function _openAnimation(){var e=P(!0,{},this.options.animation.open);return e.effects=i.parseEffects(e.effects,this.flipped),e;},_hideDirClass:function _hideDirClass(){var t=e(this.options.anchor),n=((t.attr("class")||"").match(T)||["","down"])[1],o=S+"-"+n;t.removeClass(o).children(D).removeClass(C).removeClass(o),this.element.removeClass(S+"-"+i.directions[n].reverse);},_showDirClass:function _showDirClass(t){var n=t.effects.slideIn?t.effects.slideIn.direction:"down",o=S+"-"+n;e(this.options.anchor).addClass(o).children(D).addClass(C).addClass(o),this.element.addClass(S+"-"+i.directions[n].reverse);},position:function position(){this.visible()&&(this.flipped=this._position());},toggle:function toggle(){var e=this;e[e.visible()?c:l]();},visible:function visible(){return this.element.is(":"+k);},close:function close(n){var o,r,a,s,l=this,d=l.options;if(l.visible()){if(o=l.wrapper[0]?l.wrapper:i.wrap(l.element).hide(),l._toggleResize(!1),l._closing||l._trigger(c))return l._toggleResize(!0),t;l.element.find(".k-popup").each(function(){var t=e(this),i=t.data("kendoPopup");i&&i.close(n);}),E.unbind(l.downEvent,l._mousedownProxy),n?r={hide:!0,effects:{}}:(r=P(!0,{},d.animation.close),a=l.element.data(x),s=r.effects,!s&&!i.size(s)&&a&&i.size(a)&&(r.effects=a,r.reverse=!0),l._closing=!0),l.element.kendoStop(!0),o.css({overflow:_}),l.element.kendoAnimate(r);}},_trigger:function _trigger(e){return this.trigger(e,{type:e});},_resize:function _resize(e){var t=this;-1!==a.resize.indexOf(e.type)?(clearTimeout(t._resizeTimeout),t._resizeTimeout=setTimeout(function(){t._position(),t._resizeTimeout=null;},50)):(!t._hovered||t._activated&&t.element.hasClass("k-list-container"))&&t.close();},_toggleResize:function _toggleResize(e){var t=e?"on":"off",n=a.resize;a.mobileOS.ios||a.mobileOS.android||(n+=" "+I),this._scrollableParents()[t](I,this._resizeProxy),R[t](n,this._resizeProxy);},_mousedown:function _mousedown(t){var o=this,r=o.element[0],a=o.options,s=e(a.anchor)[0],l=a.toggleTarget,c=i.eventTarget(t),d=e(c).closest(".k-popup"),u=d.parent().parent(".km-shim").length;d=d[0],!u&&d&&d!==o.element[0]||"popover"!==e(t.target).closest("a").data("rel")&&(n(r,c)||n(s,c)||l&&n(e(l)[0],c)||o.close());},_fit:function _fit(e,t,n){var i=0;return e+t>n&&(i=n-(e+t)),0>e&&(i=-e),i;},_flip:function _flip(e,t,n,i,o,r,a){var s=0;return a=a||t,r!==o&&r!==h&&o!==h&&(e+a>i&&(s+=-(n+t)),0>e+s&&(s+=n+t)),s;},_scrollableParents:function _scrollableParents(){return e(this.options.anchor).parentsUntil("body").filter(function(e,t){return i.isScrollable(t);});},_position:function _position(t){var n,o,r,l,c,d,u,h,f,p,m,g,_,b=this,k=b.element,x=b.wrapper,C=b.options,S=e(C.viewport),T=S.offset(),D=e(C.anchor),A=C.origin.toLowerCase().split(" "),E=C.position.toLowerCase().split(" "),R=b.collisions,I=a.zoomLevel(),F=10002,M=!!(S[0]==window&&window.innerWidth&&1.02>=I),z=0,B=document.documentElement,L=M?window.innerWidth:S.width(),H=M?window.innerHeight:S.height();if(M&&B.scrollHeight-B.clientHeight>0&&(L-=i.support.scrollbar()),n=D.parents().filter(x.siblings()),n[0])if(r=Math.max(+n.css("zIndex"),0))F=r+10;else for(o=D.parentsUntil(n),l=o.length;l>z;z++){r=+e(o[z]).css("zIndex"),r&&r>F&&(F=r+10);}return x.css("zIndex",F),x.css(t&&t.isFixed?{left:t.x,top:t.y}:b._align(A,E)),c=s(x,y,D[0]===x.offsetParent()[0]),d=s(x),u=D.offsetParent().parent(".k-animation-container,.k-popup,.k-group"),u.length&&(c=s(x,y,!0),d=s(x)),S[0]===window?(d.top-=window.pageYOffset||document.documentElement.scrollTop||0,d.left-=window.pageXOffset||document.documentElement.scrollLeft||0):(d.top-=T.top,d.left-=T.left),b.wrapper.data(w)||x.data(w,P({},c)),h=P({},d),f=P({},c),p=C.adjustSize,"fit"===R[0]&&(f.top+=b._fit(h.top,x.outerHeight()+p.height,H/I)),"fit"===R[1]&&(f.left+=b._fit(h.left,x.outerWidth()+p.width,L/I)),m=P({},f),g=k.outerHeight(),_=x.outerHeight(),!x.height()&&g&&(_+=g),"flip"===R[0]&&(f.top+=b._flip(h.top,g,D.outerHeight(),H/I,A[0],E[0],_)),"flip"===R[1]&&(f.left+=b._flip(h.left,k.outerWidth(),D.outerWidth(),L/I,A[1],E[1],x.outerWidth())),k.css(y,v),x.css(f),f.left!=m.left||f.top!=m.top;},_align:function _align(t,n){var i,o=this,r=o.wrapper,a=e(o.options.anchor),l=t[0],c=t[1],d=n[0],u=n[1],f=s(a),m=e(o.options.appendTo),v=r.outerWidth(),_=r.outerHeight(),b=a.outerWidth(),w=a.outerHeight(),y=f.top,k=f.left,x=Math.round;return m[0]!=document.body&&(i=s(m),y-=i.top,k-=i.left),l===g&&(y+=w),l===h&&(y+=x(w/2)),d===g&&(y-=_),d===h&&(y-=x(_/2)),c===p&&(k+=b),c===h&&(k+=x(b/2)),u===p&&(k-=v),u===h&&(k-=x(v/2)),{top:y,left:k};}});o.plugin(L);}(window.kendo.jQuery),window.kendo;},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("drawing/core.min",["drawing/geometry.min","kendo.popup.min"],e);}(function(){!function(e){function t(e){var t,n;return e.touch?(t=e.x.location,n=e.y.location):(t=e.pageX||e.clientX||0,n=e.pageY||e.clientY||0),{x:t,y:n};}var n,i,o,r,a=e.noop,s=Object.prototype.toString,l=window.kendo,c=l.Class,d=l.ui.Widget,u=l.deepExtend,h=l.util,f=h.defined,p=h.limitValue,m=l.geometry,g=e.proxy,v=".kendo",_='<div class="k-tooltip"><div class="k-tooltip-content"></div></div>',b='<div class="k-tooltip-button"><a href="\\#" class="k-icon k-i-close">close</a></div>',w=d.extend({init:function init(e,t){this.options=u({},this.options,t),d.fn.init.call(this,e,this.options),this._click=this._handler("click"),this._mouseenter=this._handler("mouseenter"),this._mouseleave=this._handler("mouseleave"),this._mousemove=this._handler("mousemove"),this._visual=new l.drawing.Group(),this.options.width&&this.element.css("width",this.options.width),this.options.height&&this.element.css("height",this.options.height),this._enableTracking();},options:{name:"Surface",tooltip:{}},events:["click","mouseenter","mouseleave","mousemove","resize","tooltipOpen","tooltipClose"],draw:function draw(e){this._visual.children.push(e);},clear:function clear(){this._visual.children=[],this.hideTooltip();},destroy:function destroy(){this._visual=null,this._tooltip&&(this._tooltip.destroy(),delete this._tooltip),d.fn.destroy.call(this);},exportVisual:function exportVisual(){return this._visual;},getSize:function getSize(){return{width:this.element.width(),height:this.element.height()};},setSize:function setSize(e){this.element.css({width:e.width,height:e.height}),this._size=e,this._resize();},eventTarget:function eventTarget(t){for(var n,i=e(t.touch?t.touch.initialTouch:t.target);!n&&i.length>0&&(n=i[0]._kendoNode,!i.is(this.element)&&0!==i.length);){i=i.parent();}return n?n.srcElement:void 0;},showTooltip:function showTooltip(e,t){this._tooltip&&this._tooltip.show(e,t);},hideTooltip:function hideTooltip(){this._tooltip&&this._tooltip.hide();},suspendTracking:function suspendTracking(){this._suspendedTracking=!0,this.hideTooltip();},resumeTracking:function resumeTracking(){this._suspendedTracking=!1;},_resize:a,_handler:function _handler(e){var t=this;return function(n){var i=t.eventTarget(n);i&&!t._suspendedTracking&&t.trigger(e,{element:i,originalEvent:n,type:e});};},_enableTracking:function _enableTracking(){this._tooltip=new r(this,this.options.tooltip||{});},_elementOffset:function _elementOffset(){var e=this.element,t=e.offset(),n=parseInt(e.css("paddingLeft"),10),i=parseInt(e.css("paddingTop"),10);return{left:t.left+n,top:t.top+i};},_surfacePoint:function _surfacePoint(e){var n=this._elementOffset(),i=t(e),o=i.x-n.left,r=i.y-n.top;return new m.Point(o,r);}});l.ui.plugin(w),w.create=function(e,t){return o.current.create(e,t);},n=c.extend({init:function init(e){this.childNodes=[],this.parent=null,e&&(this.srcElement=e,this.observe());},destroy:function destroy(){var e,t;for(this.srcElement&&this.srcElement.removeObserver(this),e=this.childNodes,t=0;e.length>t;t++){this.childNodes[t].destroy();}this.parent=null;},load:a,observe:function observe(){this.srcElement&&this.srcElement.addObserver(this);},append:function append(e){this.childNodes.push(e),e.parent=this;},insertAt:function insertAt(e,t){this.childNodes.splice(t,0,e),e.parent=this;},remove:function remove(e,t){var n,i=e+t;for(n=e;i>n;n++){this.childNodes[n].removeSelf();}this.childNodes.splice(e,t);},removeSelf:function removeSelf(){this.clear(),this.destroy();},clear:function clear(){this.remove(0,this.childNodes.length);},invalidate:function invalidate(){this.parent&&this.parent.invalidate();},geometryChange:function geometryChange(){this.invalidate();},optionsChange:function optionsChange(){this.invalidate();},childrenChange:function childrenChange(e){"add"===e.action?this.load(e.items,e.index):"remove"===e.action&&this.remove(e.index,e.items.length),this.invalidate();}}),i=c.extend({init:function init(e,t){var n,i;this.prefix=t||"";for(n in e){i=e[n],i=this._wrap(i,n),this[n]=i;}},get:function get(e){return l.getter(e,!0)(this);},set:function set(e,t){var n,i=l.getter(e,!0)(this);i!==t&&(n=this._set(e,this._wrap(t,e)),n||this.optionsChange({field:this.prefix+e,value:t}));},_set:function _set(e,t){var n,o,r,a=e.indexOf(".")>=0;if(a)for(n=e.split("."),o="";n.length>1;){if(o+=n.shift(),r=l.getter(o,!0)(this),r||(r=new i({},o+"."),r.addObserver(this),this[o]=r),r instanceof i)return r.set(n.join("."),t),a;o+=".";}return this._clear(e),l.setter(e)(this,t),a;},_clear:function _clear(e){var t=l.getter(e,!0)(this);t&&t.removeObserver&&t.removeObserver(this);},_wrap:function _wrap(e,t){var n=s.call(e);return null!==e&&f(e)&&"[object Object]"===n&&(e instanceof i||e instanceof c||(e=new i(e,this.prefix+t+".")),e.addObserver(this)),e;}}),u(i.fn,l.mixins.ObserversMixin),o=function o(){this._items=[];},o.prototype={register:function register(e,t,n){var i=this._items,o=i[0],r={name:e,type:t,order:n};!o||o.order>n?i.unshift(r):i.push(r);},create:function create(e,t){var n,i,o=this._items,r=o[0];if(t&&t.type)for(n=t.type.toLowerCase(),i=0;o.length>i;i++){if(o[i].name===n){r=o[i];break;}}return r?new r.type(e,t):void l.logToConsole("Warning: Unable to create Kendo UI Drawing Surface. Possible causes:\n- The browser does not support SVG, VML and Canvas. User agent: "+navigator.userAgent+"\n- The Kendo UI scripts are not fully loaded");}},o.current=new o(),r=c.extend({init:function init(t,n){this.element=e(_),this.content=this.element.children(".k-tooltip-content"),n=n||{},this.options=u({},this.options,this._tooltipOptions(n)),this.popup=new l.ui.Popup(this.element,{appendTo:n.appendTo,animation:n.animation,copyAnchorStyles:!1,collision:"fit fit"}),this._openPopupHandler=e.proxy(this._openPopup,this),this.surface=t,this._bindEvents();},options:{position:"top",showOn:"mouseenter",offset:7,autoHide:!0,hideDelay:0,showAfter:100},_bindEvents:function _bindEvents(){this._showHandler=g(this._showEvent,this),this._surfaceLeaveHandler=g(this._surfaceLeave,this),this._mouseleaveHandler=g(this._mouseleave,this),this._mousemoveHandler=g(this._mousemove,this),this.surface.bind("click",this._showHandler),this.surface.bind("mouseenter",this._showHandler),this.surface.bind("mouseleave",this._mouseleaveHandler),this.surface.bind("mousemove",this._mousemoveHandler),this.surface.element.on("mouseleave"+v,this._surfaceLeaveHandler),this.element.on("click"+v,".k-tooltip-button",g(this._hideClick,this));},destroy:function destroy(){var e=this.popup;this.surface.unbind("click",this._showHandler),this.surface.unbind("mouseenter",this._showHandler),this.surface.unbind("mouseleave",this._mouseleaveHandler),this.surface.unbind("mousemove",this._mousemoveHandler),this.surface.element.off("mouseleave"+v,this._surfaceLeaveHandler),this.element.off("click"+v),e&&(e.destroy(),delete this.popup),clearTimeout(this._timeout),delete this.popup,delete this.element,delete this.content,delete this.surface;},_tooltipOptions:function _tooltipOptions(e){return e=e||{},{position:e.position,showOn:e.showOn,offset:e.offset,autoHide:e.autoHide,width:e.width,height:e.height,content:e.content,shared:e.shared,hideDelay:e.hideDelay,showAfter:e.showAfter};},_tooltipShape:function _tooltipShape(e){for(;e&&!e.options.tooltip;){e=e.parent;}return e;},_updateContent:function _updateContent(e,t,n){var i=n.content;return l.isFunction(i)&&(i=i({element:t,target:e})),i?(this.content.html(i),!0):void 0;},_position:function _position(e,n,i,o){var r,a=n.position,s=n.offset||0,l=this.surface,c=l._elementOffset(),d=l.getSize(),u=l._offset,h=e.bbox(),f=i.width,m=i.height,g=0,v=0;return h.origin.translate(c.left,c.top),u&&h.origin.translate(-u.x,-u.y),"cursor"==a&&o?(r=t(o),g=r.x-f/2,v=r.y-m-s):"left"==a?(g=h.origin.x-f-s,v=h.center().y-m/2):"right"==a?(g=h.bottomRight().x+s,v=h.center().y-m/2):"bottom"==a?(g=h.center().x-f/2,v=h.bottomRight().y+s):(g=h.center().x-f/2,v=h.origin.y-m-s),{left:p(g,c.left,c.left+d.width),top:p(v,c.top,c.top+d.height)};},show:function show(e,t){this._show(e,e,u({},this.options,this._tooltipOptions(e.options.tooltip),t));},hide:function hide(){var e=this._current;delete this._current,clearTimeout(this._showTimeout),this.popup.visible()&&e&&!this.surface.trigger("tooltipClose",{element:e.shape,target:e.target,popup:this.popup})&&this.popup.close();},_hideClick:function _hideClick(e){e.preventDefault(),this.hide();},_show:function _show(e,t,n,i,o){var r,a,s=this._current;clearTimeout(this._timeout),s&&(s.shape===t&&n.shared||s.target===e)||(clearTimeout(this._showTimeout),!this.surface.trigger("tooltipOpen",{element:t,target:e,popup:this.popup})&&this._updateContent(e,t,n)&&(this._autoHide(n),r=this._measure(n),a=this.popup,a.visible()&&a.close(!0),this._current={options:n,elementSize:r,shape:t,target:e,position:this._position(n.shared?t:e,n,r,i)},o?this._showTimeout=setTimeout(this._openPopupHandler,n.showAfter||0):this._openPopup()));},_openPopup:function _openPopup(){var e=this._current,t=e.position;this.popup.open(t.left,t.top);},_autoHide:function _autoHide(t){t.autoHide&&this._closeButton&&(this.element.removeClass("k-tooltip-closable"),this._closeButton.remove(),delete this._closeButton),t.autoHide||this._closeButton||(this.element.addClass("k-tooltip-closable"),this._closeButton=e(b).prependTo(this.element));},_showEvent:function _showEvent(e){var t,n=this._tooltipShape(e.element);n&&(t=u({},this.options,this._tooltipOptions(n.options.tooltip)),t&&t.showOn==e.type&&this._show(e.element,n,t,e.originalEvent,!0));},_measure:function _measure(e){var t,n,i;return this.element.css({width:"auto",height:"auto"}),i=this.popup.visible(),i||this.popup.wrapper.show(),this.element.css({width:f(e.width)?e.width:"auto",height:f(e.height)?e.height:"auto"}),t=this.element.outerWidth(),n=this.element.outerHeight(),i||this.popup.wrapper.hide(),{width:t,height:n};},_mouseleave:function _mouseleave(e){var t,n;this._popupRelatedTarget(e.originalEvent)||(t=this,n=t._current,n&&n.options.autoHide&&(t._timeout=setTimeout(function(){clearTimeout(t._showTimeout),t.hide();},n.options.hideDelay||0)));},_mousemove:function _mousemove(e){var t,n,i=this._current;i&&e.element&&(t=i.options,"cursor"==t.position&&(n=this._position(e.element,t,i.elementSize,e.originalEvent),i.position=n,this.popup.wrapper.css({left:n.left,top:n.top})));},_surfaceLeave:function _surfaceLeave(e){this._popupRelatedTarget(e)||(clearTimeout(this._showTimeout),this.hide());},_popupRelatedTarget:function _popupRelatedTarget(t){return t.relatedTarget&&e(t.relatedTarget).closest(this.popup.wrapper).length;}}),u(l,{drawing:{DASH_ARRAYS:{dot:[1.5,3.5],dash:[4,3.5],longdash:[8,3.5],dashdot:[3.5,3.5,1.5,3.5],longdashdot:[8,3.5,1.5,3.5],longdashdotdot:[8,3.5,1.5,3.5,1.5,3.5]},Color:l.Color,BaseNode:n,OptionsStore:i,Surface:w,SurfaceFactory:o,SurfaceTooltip:r}}),l.dataviz.drawing=l.drawing;}(window.kendo.jQuery);},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("drawing/mixins.min",["drawing/core.min"],e);}(function(){!function(){var e=window.kendo,t=e.deepExtend,n=e.util.defined,i=e.geometry,o="gradient",r=""+i.Matrix.IDENTITY,a={extend:function extend(e){e.fill=this.fill,e.stroke=this.stroke;},fill:function fill(e,t){var i,r=this.options;return n(e)?(e&&e.nodeType!=o?(i={color:e},n(t)&&(i.opacity=t),r.set("fill",i)):r.set("fill",e),this):r.get("fill");},stroke:function stroke(e,t,i){return n(e)?(this.options.set("stroke.color",e),n(t)&&this.options.set("stroke.width",t),n(i)&&this.options.set("stroke.opacity",i),this):this.options.get("stroke");}},s={extend:function extend(e,t){e.traverse=function(e){var n,i,o=this[t];for(n=0;o.length>n;n++){i=o[n],i.traverse?i.traverse(e):e(i);}return this;};}},l={extend:function extend(e){e.bbox=this.bbox,e.geometryChange=this.geometryChange;},bbox:function bbox(e){var t,n,o=i.toMatrix(this.currentTransform(e)),a=o?""+o:r;return this._bboxCache&&this._matrixHash==a?t=this._bboxCache.clone():(t=this._bbox(o),this._bboxCache=t?t.clone():null,this._matrixHash=a),n=this.options.get("stroke.width"),n&&t&&t.expand(n/2),t;},geometryChange:function geometryChange(){delete this._bboxCache,this.trigger("geometryChange",{element:this});}};t(e.drawing,{mixins:{Paintable:a,Traversable:s,Measurable:l}});}();},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("drawing/shapes.min",["drawing/core.min","drawing/mixins.min","util/text-metrics.min","mixins/observers.min"],e);}(function(){!function(e){function t(e,t,n){var i,o,r,a;for(o=0;e.length>o;o++){r=e[o],r.visible()&&(a=t?r.bbox(n):r.rawBBox(),a&&(i=i?q.Rect.union(i,a):a));}return i;}function n(e,t){var n,i,o,r;for(i=0;e.length>i;i++){o=e[i],o.visible()&&(r=o.clippedBBox(t),r&&(n=n?q.Rect.union(n,r):r));}return n;}function i(e,t){for(var n=0;t.length>n;n++){e[t[n]]=o(t[n]);}}function o(e){var t="_"+e;return function(e){return ie(e)?(this._observerField(t,e),this.geometryChange(),this):this[t];};}function r(e,t){for(var n=0;t.length>n;n++){e[t[n]]=a(t[n]);}}function a(e){var t="_"+e;return function(e){return ie(e)?(this._observerField(t,G.create(e)),this.geometryChange(),this):this[t];};}function s(e,t){for(var n=0;t.length>n;n++){e[t[n]]=l(t[n]);}}function l(e){return function(t){return ie(t)?(this.options.set(e,t),this):this.options.get(e);};}function c(){return"kdef"+pe++;}function d(e,t,n){y(e,t,n,"x","width");}function u(e,t,n){y(e,t,n,"y","height");}function h(e){w(b(e),"x","y","width");}function f(e){w(b(e),"y","x","height");}function p(e,t){return g(e,t,"x","y","width");}function m(e,t){return g(e,t,"y","x","height");}function g(e,t,n,i,o){var r,a,s,l,c=[],d=_(e,t,o),u=t.origin.clone();for(l=0;d.length>l;l++){for(s=d[l],r=s[0],u[i]=r.bbox.origin[i],C(u,r.bbox,r.element),r.bbox.origin[n]=u[n],w(s,n,i,o),c.push([]),a=0;s.length>a;a++){c[l].push(s[a].element);}}return c;}function v(e,t){var n,i,o=e.clippedBBox(),r=o.size,a=t.size;(r.width>a.width||r.height>a.height)&&(n=J.min(a.width/r.width,a.height/r.height),i=e.transform()||q.transform(),i.scale(n,n),e.transform(i));}function _(e,t,n){var i,o,r,a,s=t.size[n],l=0,c=[],d=[],u=function u(){d.push({element:i,bbox:r});};for(a=0;e.length>a;a++){i=e[a],r=i.clippedBBox(),r&&(o=r.size[n],l+o>s?d.length?(c.push(d),d=[],u(),l=o):(u(),c.push(d),d=[],l=0):(u(),l+=o));}return d.length&&c.push(d),c;}function b(e){var t,n,i,o=[];for(i=0;e.length>i;i++){t=e[i],n=t.clippedBBox(),n&&o.push({element:t,bbox:n});}return o;}function w(e,t,n,i){var o,r,a,s,l;if(e.length>1)for(o=e[0].bbox,r=new G(),l=1;e.length>l;l++){a=e[l].element,s=e[l].bbox,r[t]=o.origin[t]+o.size[i],r[n]=s.origin[n],C(r,s,a),s.origin[t]=r[t],o=s;}}function y(e,t,n,i,o){var r,a,s;for(n=n||"start",s=0;e.length>s;s++){r=e[s].clippedBBox(),r&&(a=r.origin.clone(),a[i]=k(r.size[o],t,n,i,o),C(a,r,e[s]));}}function k(e,t,n,i,o){var r;return r=n==me?t.origin[i]:n==ge?t.origin[i]+t.size[o]-e:t.origin[i]+(t.size[o]-e)/2;}function x(e,t,n){var i=n.transform()||q.transform(),o=i.matrix();o.e+=e,o.f+=t,i.matrix(o),n.transform(i);}function C(e,t,n){x(e.x-t.origin.x,e.y-t.origin.y,n);}var S,T,D,A,E,R,I,F,M,P,z,B,L,H,N,O,V,U=window.kendo,W=U.Class,j=U.deepExtend,q=U.geometry,G=q.Point,$=q.Size,Y=q.Matrix,K=q.toMatrix,Q=U.drawing,X=Q.OptionsStore,J=Math,Z=J.pow,ee=U.util,te=ee.append,ne=ee.arrayLimits,ie=ee.defined,oe=ee.last,re=ee.valueOrDefault,ae=U.mixins.ObserversMixin,se=e.inArray,le=[].push,ce=[].pop,de=[].splice,ue=[].shift,he=[].slice,fe=[].unshift,pe=1,me="start",ge="end",ve="horizontal",_e=W.extend({nodeType:"Element",init:function init(e){this._initOptions(e);},_initOptions:function _initOptions(e){var t,n;e=e||{},t=e.transform,n=e.clip,t&&(e.transform=q.transform(t)),n&&!n.id&&(n.id=c()),this.options=new X(e),this.options.addObserver(this);},transform:function transform(e){return ie(e)?void this.options.set("transform",q.transform(e)):this.options.get("transform");},parentTransform:function parentTransform(){for(var e,t,n=this;n.parent;){n=n.parent,e=n.transform(),e&&(t=e.matrix().multiplyCopy(t||Y.unit()));}return t?q.transform(t):void 0;},currentTransform:function currentTransform(e){var t,n,i=this.transform(),o=K(i);return ie(e)||(e=this.parentTransform()),t=K(e),n=o&&t?t.multiplyCopy(o):o||t,n?q.transform(n):void 0;},visible:function visible(e){return ie(e)?(this.options.set("visible",e),this):this.options.get("visible")!==!1;},clip:function clip(e){var t=this.options;return ie(e)?(e&&!e.id&&(e.id=c()),t.set("clip",e),this):t.get("clip");},opacity:function opacity(e){return ie(e)?(this.options.set("opacity",e),this):re(this.options.get("opacity"),1);},clippedBBox:function clippedBBox(e){var t,n=this._clippedBBox(e);return n?(t=this.clip(),t?q.Rect.intersect(n,t.bbox(e)):n):void 0;},containsPoint:function containsPoint(e,t){if(this.visible()){var n=this.currentTransform(t);return n&&(e=e.transformCopy(n.matrix().invert())),this._hasFill()&&this._containsPoint(e)||this._isOnPath&&this._hasStroke()&&this._isOnPath(e);}return!1;},_hasFill:function _hasFill(){var e=this.options.fill;return e&&!ee.isTransparent(e.color);},_hasStroke:function _hasStroke(){var e=this.options.stroke;return e&&e.width>0&&!ee.isTransparent(e.color);},_clippedBBox:function _clippedBBox(e){return this.bbox(e);}});j(_e.fn,ae),S=W.extend({init:function init(e){e=e||[],this.length=0,this._splice(0,e.length,e);},elements:function elements(e){return e?(this._splice(0,this.length,e),this._change(),this):this.slice(0);},push:function push(){var e=arguments,t=le.apply(this,e);return this._add(e),t;},slice:he,pop:function pop(){var e=this.length,t=ce.apply(this);return e&&this._remove([t]),t;},splice:function splice(e,t){var n=he.call(arguments,2),i=this._splice(e,t,n);return this._change(),i;},shift:function shift(){var e=this.length,t=ue.apply(this);return e&&this._remove([t]),t;},unshift:function unshift(){var e=arguments,t=fe.apply(this,e);return this._add(e),t;},indexOf:function indexOf(e){var t,n,i=this;for(t=0,n=i.length;n>t;t++){if(i[t]===e)return t;}return-1;},_splice:function _splice(e,t,n){var i=de.apply(this,[e,t].concat(n));return this._clearObserver(i),this._setObserver(n),i;},_add:function _add(e){this._setObserver(e),this._change();},_remove:function _remove(e){this._clearObserver(e),this._change();},_setObserver:function _setObserver(e){for(var t=0;e.length>t;t++){e[t].addObserver(this);}},_clearObserver:function _clearObserver(e){for(var t=0;e.length>t;t++){e[t].removeObserver(this);}},_change:function _change(){}}),j(S.fn,ae),T=_e.extend({nodeType:"Group",init:function init(e){_e.fn.init.call(this,e),this.children=[];},childrenChange:function childrenChange(e,t,n){this.trigger("childrenChange",{action:e,items:t,index:n});},append:function append(){return te(this.children,arguments),this._reparent(arguments,this),this.childrenChange("add",arguments),this;},insert:function insert(e,t){return this.children.splice(e,0,t),t.parent=this,this.childrenChange("add",[t],e),this;},insertAt:function insertAt(e,t){return this.insert(t,e);},remove:function remove(e){var t=se(e,this.children);return t>=0&&(this.children.splice(t,1),e.parent=null,this.childrenChange("remove",[e],t)),this;},removeAt:function removeAt(e){if(e>=0&&this.children.length>e){var t=this.children[e];this.children.splice(e,1),t.parent=null,this.childrenChange("remove",[t],e);}return this;},clear:function clear(){var e=this.children;return this.children=[],this._reparent(e,null),this.childrenChange("remove",e,0),this;},bbox:function bbox(e){return t(this.children,!0,this.currentTransform(e));},rawBBox:function rawBBox(){return t(this.children,!1);},_clippedBBox:function _clippedBBox(e){return n(this.children,this.currentTransform(e));},currentTransform:function currentTransform(e){return _e.fn.currentTransform.call(this,e)||null;},containsPoint:function containsPoint(e,t){var n,i,o;if(this.visible())for(n=this.children,i=this.currentTransform(t),o=0;n.length>o;o++){if(n[o].containsPoint(e,i))return!0;}return!1;},_reparent:function _reparent(e,t){var n,i,o;for(n=0;e.length>n;n++){i=e[n],o=i.parent,o&&o!=this&&o.remove&&o.remove(i),i.parent=t;}}}),Q.mixins.Traversable.extend(T.fn,"children"),D=_e.extend({nodeType:"Text",init:function init(e,t,n){_e.fn.init.call(this,n),this.content(e),this.position(t||new q.Point()),this.options.font||(this.options.font="12px sans-serif"),ie(this.options.fill)||this.fill("#000");},content:function content(e){return ie(e)?(this.options.set("content",e),this):this.options.get("content");},measure:function measure(){var e=ee.measureText(this.content(),{font:this.options.get("font")});return e;},rect:function rect(){var e=this.measure(),t=this.position().clone();return new q.Rect(t,[e.width,e.height]);},bbox:function bbox(e){var t=K(this.currentTransform(e));return this.rect().bbox(t);},rawBBox:function rawBBox(){return this.rect().bbox();},_containsPoint:function _containsPoint(e){return this.rect().containsPoint(e);}}),Q.mixins.Paintable.extend(D.fn),r(D.fn,["position"]),A=_e.extend({nodeType:"Circle",init:function init(e,t){_e.fn.init.call(this,t),this.geometry(e||new q.Circle()),ie(this.options.stroke)||this.stroke("#000");},_bbox:function _bbox(e){return this._geometry.bbox(e);},rawBBox:function rawBBox(){return this._geometry.bbox();},_containsPoint:function _containsPoint(e){return this.geometry().containsPoint(e);},_isOnPath:function _isOnPath(e){return this.geometry()._isOnPath(e,this.options.stroke.width/2);}}),Q.mixins.Paintable.extend(A.fn),Q.mixins.Measurable.extend(A.fn),i(A.fn,["geometry"]),E=_e.extend({nodeType:"Arc",init:function init(e,t){_e.fn.init.call(this,t),this.geometry(e||new q.Arc()),ie(this.options.stroke)||this.stroke("#000");},_bbox:function _bbox(e){return this._geometry.bbox(e);},rawBBox:function rawBBox(){return this.geometry().bbox();},toPath:function toPath(){var e,t=new F(),n=this.geometry().curvePoints();if(n.length>0)for(t.moveTo(n[0].x,n[0].y),e=1;n.length>e;e+=3){t.curveTo(n[e],n[e+1],n[e+2]);}return t;},_containsPoint:function _containsPoint(e){return this.geometry().containsPoint(e);},_isOnPath:function _isOnPath(e){return this.geometry()._isOnPath(e,this.options.stroke.width/2);}}),Q.mixins.Paintable.extend(E.fn),Q.mixins.Measurable.extend(E.fn),i(E.fn,["geometry"]),R=S.extend({_change:function _change(){this.geometryChange();}}),I=W.extend({init:function init(e,t,n){this.anchor(e||new G()),this.controlIn(t),this.controlOut(n);},bboxTo:function bboxTo(e,t){var n,i=this.anchor().transformCopy(t),o=e.anchor().transformCopy(t);return n=this.controlOut()&&e.controlIn()?this._curveBoundingBox(i,this.controlOut().transformCopy(t),e.controlIn().transformCopy(t),o):this._lineBoundingBox(i,o);},_lineBoundingBox:function _lineBoundingBox(e,t){return q.Rect.fromPoints(e,t);},_curveBoundingBox:function _curveBoundingBox(e,t,n,i){var o=[e,t,n,i],r=this._curveExtremesFor(o,"x"),a=this._curveExtremesFor(o,"y"),s=ne([r.min,r.max,e.x,i.x]),l=ne([a.min,a.max,e.y,i.y]);return q.Rect.fromPoints(new G(s.min,l.min),new G(s.max,l.max));},_curveExtremesFor:function _curveExtremesFor(e,t){var n=this._curveExtremes(e[0][t],e[1][t],e[2][t],e[3][t]);return{min:this._calculateCurveAt(n.min,t,e),max:this._calculateCurveAt(n.max,t,e)};},_calculateCurveAt:function _calculateCurveAt(e,t,n){var i=1-e;return Z(i,3)*n[0][t]+3*Z(i,2)*e*n[1][t]+3*Z(e,2)*i*n[2][t]+Z(e,3)*n[3][t];},_curveExtremes:function _curveExtremes(e,t,n,i){var o,r,a=e-3*t+3*n-i,s=-2*(e-2*t+n),l=e-t,c=J.sqrt(s*s-4*a*l),d=0,u=1;return 0===a?0!==s&&(d=u=-l/s):isNaN(c)||(d=(-s+c)/(2*a),u=(-s-c)/(2*a)),o=J.max(J.min(d,u),0),(0>o||o>1)&&(o=0),r=J.min(J.max(d,u),1),(r>1||0>r)&&(r=1),{min:o,max:r};},_intersectionsTo:function _intersectionsTo(e,t){var n;return n=this.controlOut()&&e.controlIn()?q.curveIntersectionsCount([this.anchor(),this.controlOut(),e.controlIn(),e.anchor()],t,this.bboxTo(e)):q.lineIntersectionsCount(this.anchor(),e.anchor(),t);},_isOnCurveTo:function _isOnCurveTo(e,t,n,i){var o,r,a,s,l,c,d,u,h=this.bboxTo(e).expand(n,n);return h.containsPoint(t)?(o=this.anchor(),r=this.controlOut(),a=e.controlIn(),s=e.anchor(),"start"==i&&o.distanceTo(t)<=n?!q.isOutOfEndPoint(o,r,t):"end"==i&&s.distanceTo(t)<=n?!q.isOutOfEndPoint(s,a,t):(l=q.hasRootsInRange,c=[o,r,a,s],l(c,t,"x","y",n)||l(c,t,"y","x",n)?!0:(d=q.transform().rotate(45,t),u=[o.transformCopy(d),r.transformCopy(d),a.transformCopy(d),s.transformCopy(d)],l(u,t,"x","y",n)||l(u,t,"y","x",n)))):void 0;},_isOnLineTo:function _isOnLineTo(e,t,n){var i=this.anchor(),o=e.anchor(),r=ee.deg(J.atan2(o.y-i.y,o.x-i.x)),a=new q.Rect([i.x,i.y-n/2],[i.distanceTo(o),n]);return a.containsPoint(t.transformCopy(q.transform().rotate(-r,i)));},_isOnPathTo:function _isOnPathTo(e,t,n,i){var o;return o=this.controlOut()&&e.controlIn()?this._isOnCurveTo(e,t,n/2,i):this._isOnLineTo(e,t,n);}}),r(I.fn,["anchor","controlIn","controlOut"]),j(I.fn,ae),F=_e.extend({nodeType:"Path",init:function init(e){_e.fn.init.call(this,e),this.segments=new R(),this.segments.addObserver(this),ie(this.options.stroke)||(this.stroke("#000"),ie(this.options.stroke.lineJoin)||this.options.set("stroke.lineJoin","miter"));},moveTo:function moveTo(e,t){return this.suspend(),this.segments.elements([]),this.resume(),this.lineTo(e,t),this;},lineTo:function lineTo(e,t){var n=ie(t)?new G(e,t):e,i=new I(n);return this.segments.push(i),this;},curveTo:function curveTo(e,t,n){var i,o;return this.segments.length>0&&(i=oe(this.segments),o=new I(n,t),this.suspend(),i.controlOut(e),this.resume(),this.segments.push(o)),this;},arc:function arc(e,t,n,i,o){var r,a,s,l,c;return this.segments.length>0&&(r=oe(this.segments),a=r.anchor(),s=ee.rad(e),l=new G(a.x-n*J.cos(s),a.y-i*J.sin(s)),c=new q.Arc(l,{startAngle:e,endAngle:t,radiusX:n,radiusY:i,anticlockwise:o}),this._addArcSegments(c)),this;},arcTo:function arcTo(e,t,n,i,o){var r,a,s;return this.segments.length>0&&(r=oe(this.segments),a=r.anchor(),s=q.Arc.fromPoints(a,e,t,n,i,o),this._addArcSegments(s)),this;},_addArcSegments:function _addArcSegments(e){var t,n;for(this.suspend(),t=e.curvePoints(),n=1;t.length>n;n+=3){this.curveTo(t[n],t[n+1],t[n+2]);}this.resume(),this.geometryChange();},close:function close(){return this.options.closed=!0,this.geometryChange(),this;},rawBBox:function rawBBox(){return this._bbox();},_containsPoint:function _containsPoint(e){var t,n,i,o=this.segments,r=o.length,a=0;for(i=1;r>i;i++){t=o[i-1],n=o[i],a+=t._intersectionsTo(n,e);}return!this.options.closed&&o[0].anchor().equals(o[r-1].anchor())||(a+=q.lineIntersectionsCount(o[0].anchor(),o[r-1].anchor(),e)),a%2!==0;},_isOnPath:function _isOnPath(e,t){var n,i=this.segments,o=i.length;if(t=t||this.options.stroke.width,o>1){if(i[0]._isOnPathTo(i[1],e,t,"start"))return!0;for(n=2;o-2>=n;n++){if(i[n-1]._isOnPathTo(i[n],e,t))return!0;}if(i[o-2]._isOnPathTo(i[o-1],e,t,"end"))return!0;}return!1;},_bbox:function _bbox(e){var t,n,i,o,r=this.segments,a=r.length;if(1===a)n=r[0].anchor().transformCopy(e),t=new q.Rect(n,$.ZERO);else if(a>0)for(i=1;a>i;i++){o=r[i-1].bboxTo(r[i],e),t=t?q.Rect.union(t,o):o;}return t;}}),Q.mixins.Paintable.extend(F.fn),Q.mixins.Measurable.extend(F.fn),F.fromRect=function(e,t){return new F(t).moveTo(e.topLeft()).lineTo(e.topRight()).lineTo(e.bottomRight()).lineTo(e.bottomLeft()).close();},F.fromPoints=function(e,t){var n,i,o;if(e){for(n=new F(t),i=0;e.length>i;i++){o=G.create(e[i]),o&&(0===i?n.moveTo(o):n.lineTo(o));}return n;}},F.fromArc=function(e,t){var n=new F(t),i=e.startAngle,o=e.pointAt(i);return n.moveTo(o.x,o.y),n.arc(i,e.endAngle,e.radiusX,e.radiusY,e.anticlockwise),n;},M=_e.extend({nodeType:"MultiPath",init:function init(e){_e.fn.init.call(this,e),this.paths=new R(),this.paths.addObserver(this),ie(this.options.stroke)||this.stroke("#000");},moveTo:function moveTo(e,t){var n=new F();return n.moveTo(e,t),this.paths.push(n),this;},lineTo:function lineTo(e,t){return this.paths.length>0&&oe(this.paths).lineTo(e,t),this;},curveTo:function curveTo(e,t,n){return this.paths.length>0&&oe(this.paths).curveTo(e,t,n),this;},arc:function arc(e,t,n,i,o){return this.paths.length>0&&oe(this.paths).arc(e,t,n,i,o),this;},arcTo:function arcTo(e,t,n,i,o){return this.paths.length>0&&oe(this.paths).arcTo(e,t,n,i,o),this;},close:function close(){return this.paths.length>0&&oe(this.paths).close(),this;},_bbox:function _bbox(e){return t(this.paths,!0,e);},rawBBox:function rawBBox(){return t(this.paths,!1);},_containsPoint:function _containsPoint(e){var t,n=this.paths;for(t=0;n.length>t;t++){if(n[t]._containsPoint(e))return!0;}return!1;},_isOnPath:function _isOnPath(e){var t,n=this.paths,i=this.options.stroke.width;for(t=0;n.length>t;t++){if(n[t]._isOnPath(e,i))return!0;}return!1;},_clippedBBox:function _clippedBBox(e){return n(this.paths,this.currentTransform(e));}}),Q.mixins.Paintable.extend(M.fn),Q.mixins.Measurable.extend(M.fn),P=_e.extend({nodeType:"Image",init:function init(e,t,n){_e.fn.init.call(this,n),this.src(e),this.rect(t||new q.Rect());},src:function src(e){return ie(e)?(this.options.set("src",e),this):this.options.get("src");},bbox:function bbox(e){var t=K(this.currentTransform(e));return this._rect.bbox(t);},rawBBox:function rawBBox(){return this._rect.bbox();},_containsPoint:function _containsPoint(e){return this._rect.containsPoint(e);},_hasFill:function _hasFill(){return this.src();}}),i(P.fn,["rect"]),z=W.extend({init:function init(e,t,n){this.options=new X({offset:e,color:t,opacity:ie(n)?n:1}),this.options.addObserver(this);}}),s(z.fn,["offset","color","opacity"]),j(z.fn,ae),z.create=function(e){if(ie(e)){var t;return t=e instanceof z?e:e.length>1?new z(e[0],e[1],e[2]):new z(e.offset,e.color,e.opacity);}},B=S.extend({_change:function _change(){this.optionsChange({field:"stops"});}}),L=W.extend({nodeType:"gradient",init:function init(e){this.stops=new B(this._createStops(e.stops)),this.stops.addObserver(this),this._userSpace=e.userSpace,this.id=c();},userSpace:function userSpace(e){return ie(e)?(this._userSpace=e,this.optionsChange(),this):this._userSpace;},_createStops:function _createStops(e){var t,n=[];for(e=e||[],t=0;e.length>t;t++){n.push(z.create(e[t]));}return n;},addStop:function addStop(e,t,n){this.stops.push(new z(e,t,n));},removeStop:function removeStop(e){var t=this.stops.indexOf(e);t>=0&&this.stops.splice(t,1);}}),j(L.fn,ae,{optionsChange:function optionsChange(e){this.trigger("optionsChange",{field:"gradient"+(e?"."+e.field:""),value:this});},geometryChange:function geometryChange(){this.optionsChange();}}),H=L.extend({init:function init(e){e=e||{},L.fn.init.call(this,e),this.start(e.start||new G()),this.end(e.end||new G(1,0));}}),r(H.fn,["start","end"]),N=L.extend({init:function init(e){e=e||{},L.fn.init.call(this,e),this.center(e.center||new G()),this._radius=ie(e.radius)?e.radius:1,this._fallbackFill=e.fallbackFill;},radius:function radius(e){return ie(e)?(this._radius=e,this.geometryChange(),this):this._radius;},fallbackFill:function fallbackFill(e){return ie(e)?(this._fallbackFill=e,this.optionsChange(),this):this._fallbackFill;}}),r(N.fn,["center"]),O=_e.extend({nodeType:"Rect",init:function init(e,t){_e.fn.init.call(this,t),this.geometry(e||new q.Rect()),ie(this.options.stroke)||this.stroke("#000");},_bbox:function _bbox(e){return this._geometry.bbox(e);},rawBBox:function rawBBox(){return this._geometry.bbox();},_containsPoint:function _containsPoint(e){return this._geometry.containsPoint(e);},_isOnPath:function _isOnPath(e){return this.geometry()._isOnPath(e,this.options.stroke.width/2);}}),Q.mixins.Paintable.extend(O.fn),Q.mixins.Measurable.extend(O.fn),i(O.fn,["geometry"]),V=T.extend({init:function init(e,t){T.fn.init.call(this,U.deepExtend({},this._defaults,t)),this._rect=e,this._fieldMap={};},_defaults:{alignContent:me,justifyContent:me,alignItems:me,spacing:0,orientation:ve,lineSpacing:0,wrap:!0},rect:function rect(e){return e?(this._rect=e,this):this._rect;},_initMap:function _initMap(){var e=this.options,t=this._fieldMap;e.orientation==ve?(t.sizeField="width",t.groupsSizeField="height",t.groupAxis="x",t.groupsAxis="y"):(t.sizeField="height",t.groupsSizeField="width",t.groupAxis="y",t.groupsAxis="x");},reflow:function reflow(){var e,t,n,i,o,r,a,s,l,c,d,u,h,f,p,m,g,v,_,b,w,y,x,S,T,D;if(this._rect&&0!==this.children.length){for(this._initMap(),this.options.transform&&this.transform(null),e=this.options,t=this._fieldMap,n=this._rect,i=this._initGroups(),o=i.groups,r=i.groupsSize,a=t.sizeField,s=t.groupsSizeField,l=t.groupAxis,c=t.groupsAxis,d=k(r,n,e.alignContent,c,s),u=new G(),h=new G(),f=new q.Size(),b=0;o.length>b;b++){for(v=o[b],u[l]=p=k(v.size,n,e.justifyContent,l,a),u[c]=d,f[a]=v.size,f[s]=v.lineSize,_=new q.Rect(u,f),w=0;v.bboxes.length>w;w++){g=v.elements[w],m=v.bboxes[w],h[l]=p,h[c]=k(m.size[s],_,e.alignItems,c,s),C(h,m,g),p+=m.size[a]+e.spacing;}d+=v.lineSize+e.lineSpacing;}!e.wrap&&v.size>n.size[a]&&(y=n.size[a]/_.size[a],x=_.topLeft().scale(y,y),S=_.size[s]*y,T=k(S,n,e.alignContent,c,s),D=q.transform(),"x"===l?D.translate(n.origin.x-x.x,T-x.y):D.translate(T-x.x,n.origin.y-x.y),D.scale(y,y),this.transform(D));}},_initGroups:function _initGroups(){var e,t,n,i=this.options,o=this.children,r=i.lineSpacing,a=this._fieldMap.sizeField,s=-r,l=[],c=this._newGroup(),d=function d(){l.push(c),s+=c.lineSize+r;};for(n=0;o.length>n;n++){t=o[n],e=o[n].clippedBBox(),t.visible()&&e&&(i.wrap&&c.size+e.size[a]+i.spacing>this._rect.size[a]?0===c.bboxes.length?(this._addToGroup(c,e,t),d(),c=this._newGroup()):(d(),c=this._newGroup(),this._addToGroup(c,e,t)):this._addToGroup(c,e,t));}return c.bboxes.length&&d(),{groups:l,groupsSize:s};},_addToGroup:function _addToGroup(e,t,n){e.size+=t.size[this._fieldMap.sizeField]+this.options.spacing,e.lineSize=Math.max(t.size[this._fieldMap.groupsSizeField],e.lineSize),e.bboxes.push(t),e.elements.push(n);},_newGroup:function _newGroup(){return{lineSize:0,size:-this.options.spacing,bboxes:[],elements:[]};}}),j(Q,{align:d,Arc:E,Circle:A,Element:_e,ElementsArray:S,fit:v,Gradient:L,GradientStop:z,Group:T,Image:P,Layout:V,LinearGradient:H,MultiPath:M,Path:F,RadialGradient:N,Rect:O,Segment:I,stack:h,Text:D,vAlign:u,vStack:f,vWrap:m,wrap:p});}(window.kendo.jQuery);},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("drawing/parser.min",["drawing/shapes.min"],e);}(function(){!function(e){function t(e){var t=[];return e.replace(m,function(e,n){t.push(parseFloat(n));}),t;}function n(e,t,n){var i,o=t?0:1;for(i=0;e.length>i;i+=2){e.splice(i+o,0,n);}}function i(e,t){return e&&t?t.scaleCopy(2).translate(-e.x,-e.y):void 0;}function o(e,t,n){var i=1/3;return t=t.clone().scale(2/3),{controlOut:t.clone().translateWith(e.scaleCopy(i)),controlIn:t.translateWith(n.scaleCopy(i))};}var r=window.kendo,a=r.drawing,s=r.geometry,l=r.Class,_c=s.Point,d=r.deepExtend,u=e.trim,h=r.util,f=h.last,p=/([a-df-z]{1})([^a-df-z]*)(z)?/gi,m=/[,\s]?([+\-]?(?:\d*\.\d+|\d+)(?:[eE][+\-]?\d+)?)/g,g="m",v="z",_=l.extend({parse:function parse(e,n){var i,o=new a.MultiPath(n),r=new _c();return e.replace(p,function(e,n,a,s){var l=n.toLowerCase(),c=l===n,d=t(u(a));if(l===g&&(c?(r.x+=d[0],r.y+=d[1]):(r.x=d[0],r.y=d[1]),o.moveTo(r.x,r.y),d.length>2&&(l="l",d.splice(0,2))),b[l])b[l](o,{parameters:d,position:r,isRelative:c,previousCommand:i}),s&&s.toLowerCase()===v&&o.close();else if(l!==g)throw Error("Error while parsing SVG path. Unsupported command: "+l);i=l;}),o;}}),b={l:function l(e,t){var n,i,o=t.parameters,r=t.position;for(n=0;o.length>n;n+=2){i=new _c(o[n],o[n+1]),t.isRelative&&i.translateWith(r),e.lineTo(i.x,i.y),r.x=i.x,r.y=i.y;}},c:function c(e,t){var n,i,o,r,a=t.parameters,s=t.position;for(r=0;a.length>r;r+=6){n=new _c(a[r],a[r+1]),i=new _c(a[r+2],a[r+3]),o=new _c(a[r+4],a[r+5]),t.isRelative&&(i.translateWith(s),n.translateWith(s),o.translateWith(s)),e.curveTo(n,i,o),s.x=o.x,s.y=o.y;}},v:function v(e,t){var i=t.isRelative?0:t.position.x;n(t.parameters,!0,i),this.l(e,t);},h:function h(e,t){var i=t.isRelative?0:t.position.y;n(t.parameters,!1,i),this.l(e,t);},a:function a(e,t){var n,i,o,r,a,s,l=t.parameters,d=t.position;for(n=0;l.length>n;n+=7){i=l[n],o=l[n+1],r=l[n+3],a=l[n+4],s=new _c(l[n+5],l[n+6]),t.isRelative&&s.translateWith(d),e.arcTo(s,i,o,r,a),d.x=s.x,d.y=s.y;}},s:function s(e,t){var n,o,r,a,s,l=t.parameters,d=t.position,u=t.previousCommand;for("s"!=u&&"c"!=u||(a=f(f(e.paths).segments).controlIn()),s=0;l.length>s;s+=4){r=new _c(l[s],l[s+1]),o=new _c(l[s+2],l[s+3]),t.isRelative&&(r.translateWith(d),o.translateWith(d)),n=a?i(a,d):d.clone(),a=r,e.curveTo(n,r,o),d.x=o.x,d.y=o.y;}},q:function q(e,t){var n,i,r,a,s=t.parameters,l=t.position;for(a=0;s.length>a;a+=4){r=new _c(s[a],s[a+1]),i=new _c(s[a+2],s[a+3]),t.isRelative&&(r.translateWith(l),i.translateWith(l)),n=o(l,r,i),e.curveTo(n.controlOut,n.controlIn,i),l.x=i.x,l.y=i.y;}},t:function t(e,_t3){var n,r,a,s,l,d=_t3.parameters,u=_t3.position,h=_t3.previousCommand;for("q"!=h&&"t"!=h||(s=f(f(e.paths).segments),r=s.controlIn().clone().translateWith(u.scaleCopy(-1/3)).scale(1.5)),l=0;d.length>l;l+=2){a=new _c(d[l],d[l+1]),_t3.isRelative&&a.translateWith(u),r=r?i(r,u):u.clone(),n=o(u,r,a),e.curveTo(n.controlOut,n.controlIn,a),u.x=a.x,u.y=a.y;}}};_.current=new _(),a.Path.parse=function(e,t){return _.current.parse(e,t);},d(a,{PathParser:_});}(window.kendo.jQuery);},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("drawing/search.min",["drawing/shapes.min"],e);}(function(){!function(e){function t(e,t){return t._zIndex>e._zIndex?1:e._zIndex>t._zIndex?-1:0;}var n=window.kendo,i=n.drawing,o=n.geometry,r=n.Class,a=o.Rect,s=n.deepExtend,l=e.isArray,c=e.inArray,d=Math,u=1e4,h=75,f=r.extend({init:function init(){this.shapes=[];},_add:function _add(e,t){this.shapes.push({bbox:t,shape:e}),e._quadNode=this;},pointShapes:function pointShapes(e){var t,n=this.shapes,i=n.length,o=[];for(t=0;i>t;t++){n[t].bbox.containsPoint(e)&&o.push(n[t].shape);}return o;},insert:function insert(e,t){this._add(e,t);},remove:function remove(e){var t,n=this.shapes,i=n.length;for(t=0;i>t;t++){if(n[t].shape===e){n.splice(t,1);break;}}}}),p=f.extend({init:function init(e){f.fn.init.call(this),this.children=[],this.rect=e;},inBounds:function inBounds(e){var t=this.rect,n=t.bottomRight(),i=e.bottomRight(),o=e.origin.x>=t.origin.x&&e.origin.y>=t.origin.y&&n.x>=i.x&&n.y>=i.y;return o;},pointShapes:function pointShapes(e){var t,n=this.children,i=n.length,o=f.fn.pointShapes.call(this,e);for(t=0;i>t;t++){o=o.concat(n[t].pointShapes(e));}return o;},insert:function insert(e,t){var n,i=!1,o=this.children,r=o.length;if(this.inBounds(t)){if(!r&&4>this.shapes.length)this._add(e,t);else{for(r||this._initChildren(),n=0;o.length>n;n++){if(o[n].insert(e,t)){i=!0;break;}}i||this._add(e,t);}i=!0;}return i;},_initChildren:function _initChildren(){var e,t,n=this.rect,i=this.children,o=this.shapes,r=n.center(),s=n.width()/2,l=n.height()/2;for(i.push(new p(new a(n.origin.x,n.origin.y,s,l)),new p(new a(r.x,n.origin.y,s,l)),new p(new a(n.origin.x,r.y,s,l)),new p(new a(r.x,r.y,s,l))),t=o.length-1;t>=0;t--){for(e=0;i.length>e;e++){if(i[e].insert(o[t].shape,o[t].bbox)){o.splice(t,1);break;}}}}}),m=r.extend({ROOT_SIZE:1e3,init:function init(){this.initRoots();},initRoots:function initRoots(){this.rootMap={},this.root=new f(),this.rootElements=[];},clear:function clear(){var e,t=this,n=t.rootElements;for(e=0;n.length>e;e++){this.remove(n[e]);}this.initRoots();},pointShape:function pointShape(e){var n,i=this.ROOT_SIZE,o=this.root.pointShapes(e),r=(this.rootMap[d.floor(e.x/i)]||{})[d.floor(e.y/i)];for(r&&(o=o.concat(r.pointShapes(e))),this.assignZindex(o),o.sort(t),n=0;o.length>n;n++){if(o[n].containsPoint(e))return o[n];}},assignZindex:function assignZindex(e){var t,n,i,o,r;for(r=0;e.length>r;r++){for(t=e[r],i=0,n=d.pow(u,h),o=[];t;){o.push(t),t=t.parent;}for(;o.length;){t=o.pop(),i+=(c(t,t.parent?t.parent.children:this.rootElements)+1)*n,n/=u;}e[r]._zIndex=i;}},optionsChange:function optionsChange(e){"transform"!=e.field&&"stroke.width"!=e.field||this.bboxChange(e.element);},geometryChange:function geometryChange(e){this.bboxChange(e.element);},bboxChange:function bboxChange(e){if("Group"===e.nodeType)for(var t=0;e.children.length>t;t++){this.bboxChange(e.children[t]);}else e._quadNode&&e._quadNode.remove(e),this._insertShape(e);},add:function add(e){var t=l(e)?e.slice(0):[e];this.rootElements.push.apply(this.rootElements,t),this._insert(t);},childrenChange:function childrenChange(e){if("remove"==e.action)for(var t=0;e.items.length>t;t++){this.remove(e.items[t]);}else this._insert(Array.prototype.slice.call(e.items,0));},_insert:function _insert(e){for(var t;e.length>0;){t=e.pop(),t.addObserver(this),"Group"==t.nodeType?e.push.apply(e,t.children):this._insertShape(t);}},_insertShape:function _insertShape(e){var t,n,i,o,r=e.bbox();r&&(t=this.ROOT_SIZE,n=this.getSectors(r),i=n[0][0],o=n[1][0],this.inRoot(n)?this.root.insert(e,r):(this.rootMap[i]||(this.rootMap[i]={}),this.rootMap[i][o]||(this.rootMap[i][o]=new p(new a([i*t,o*t],[t,t]))),this.rootMap[i][o].insert(e,r)));},remove:function remove(e){var t,n;if(e.removeObserver(this),"Group"==e.nodeType)for(t=e.children,n=0;t.length>n;n++){this.remove(t[n]);}else e._quadNode&&(e._quadNode.remove(e),delete e._quadNode);},inRoot:function inRoot(e){return e[0].length>1||e[1].length>1;},getSectors:function getSectors(e){var t,n,i=this.ROOT_SIZE,o=e.bottomRight(),r=d.floor(o.x/i),a=d.floor(o.y/i),s=[[],[]];for(t=d.floor(e.origin.x/i);r>=t;t++){s[0].push(t);}for(n=d.floor(e.origin.y/i);a>=n;n++){s[1].push(n);}return s;}});s(i,{ShapesQuadTree:m});}(window.kendo.jQuery);},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("drawing/svg.min",["drawing/shapes.min","util/main.min"],e);}(function(){!function(e){function t(e){var t,n,i,o;try{t=e.getScreenCTM?e.getScreenCTM():null;}catch(r){}t&&(n=-t.e%1,i=-t.f%1,o=e.style,0===n&&0===i||(o.left=n+"px",o.top=i+"px"));}function n(){var e=document.getElementsByTagName("base")[0],t="",n=document.location.href,i=n.indexOf("#");return e&&!d.support.browser.msie&&(-1!==i&&(n=n.substring(0,i)),t=n),t;}function i(e){return"url("+n()+"#"+e+")";}function o(e){var t,n,i,o=new P(),r=e.clippedBBox();return r&&(t=r.getOrigin(),n=new f.Group(),n.transform(h.transform().translate(-t.x,-t.y)),n.children.push(e),e=n),o.load([e]),i="<?xml version='1.0' ?><svg xmlns='"+E+"' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1'>"+o.render()+"</svg>",o.destroy(),i;}function r(t,n){var i=o(t);return n&&n.raw||(i="data:image/svg+xml;base64,"+m.encodeBase64(i)),e.Deferred().resolve(i).promise();}function a(e,t){return"clip"==e||"fill"==e&&(!t||t.nodeType==C);}function s(e){if(!e||!e.indexOf||e.indexOf("&")<0)return e;var t=s._element;return t.innerHTML=e,t.textContent||t.innerText;}var l,c=document,d=window.kendo,u=d.deepExtend,h=d.geometry,f=d.drawing,p=f.BaseNode,m=d.util,g=m.defined,v=m.isTransparent,_=m.renderAttr,b=m.renderAllAttr,w=m.renderTemplate,y=e.inArray,k="butt",x=f.DASH_ARRAYS,C="gradient",S="none",T=".kendo",D="solid",A=" ",E="http://www.w3.org/2000/svg",R="transform",I="undefined",F=f.Surface.extend({init:function init(e,n){f.Surface.fn.init.call(this,e,n),this._root=new P(this.options),Q(this.element[0],this._template(this)),this._rootElement=this.element[0].firstElementChild,t(this._rootElement),this._root.attachTo(this._rootElement),this.element.on("click"+T,this._click),this.element.on("mouseover"+T,this._mouseenter),this.element.on("mouseout"+T,this._mouseleave),this.element.on("mousemove"+T,this._mousemove),this.resize();},type:"svg",destroy:function destroy(){this._root&&(this._root.destroy(),this._root=null,this._rootElement=null,this.element.off(T)),f.Surface.fn.destroy.call(this);},translate:function translate(e){var t=d.format("{0} {1} {2} {3}",Math.round(e.x),Math.round(e.y),this._size.width,this._size.height);this._offset=e,this._rootElement.setAttribute("viewBox",t);},draw:function draw(e){f.Surface.fn.draw.call(this,e),this._root.load([e]);},clear:function clear(){f.Surface.fn.clear.call(this),this._root.clear();},svg:function svg(){return"<?xml version='1.0' ?>"+this._template(this);},exportVisual:function exportVisual(){var e,t=this._visual,n=this._offset;return n&&(e=new f.Group(),e.children.push(t),e.transform(h.transform().translate(-n.x,-n.y)),t=e),t;},_resize:function _resize(){this._offset&&this.translate(this._offset);},_template:w("<svg style='width: 100%; height: 100%; overflow: hidden;' xmlns='"+E+"' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1'>#= d._root.render() #</svg>")}),M=p.extend({init:function init(e){p.fn.init.call(this,e),this.definitions={};},destroy:function destroy(){this.element&&(this.element._kendoNode=null,this.element=null),this.clearDefinitions(),p.fn.destroy.call(this);},load:function load(e,t){var n,i,o,r,a=this,s=a.element;for(r=0;e.length>r;r++){i=e[r],o=i.children,n=new K[i.nodeType](i),g(t)?a.insertAt(n,t):a.append(n),n.createDefinitions(),o&&o.length>0&&n.load(o),s&&n.attachTo(s,t);}},root:function root(){for(var e=this;e.parent;){e=e.parent;}return e;},attachTo:function attachTo(e,t){var n,i=c.createElement("div");Q(i,"<svg xmlns='"+E+"' version='1.1'>"+this.render()+"</svg>"),n=i.firstChild.firstChild,n&&(g(t)?e.insertBefore(n,e.childNodes[t]||null):e.appendChild(n),this.setElement(n));},setElement:function setElement(e){var t,n,i=this.childNodes;for(this.element&&(this.element._kendoNode=null),this.element=e,this.element._kendoNode=this,n=0;i.length>n;n++){t=e.childNodes[n],i[n].setElement(t);}},clear:function clear(){var e,t;for(this.clearDefinitions(),this.element&&(this.element.innerHTML=""),e=this.childNodes,t=0;e.length>t;t++){e[t].destroy();}this.childNodes=[];},removeSelf:function removeSelf(){if(this.element){var e=this.element.parentNode;e&&e.removeChild(this.element),this.element=null;}p.fn.removeSelf.call(this);},template:w("#= d.renderChildren() #"),render:function render(){return this.template(this);},renderChildren:function renderChildren(){var e,t=this.childNodes,n="";for(e=0;t.length>e;e++){n+=t[e].render();}return n;},optionsChange:function optionsChange(e){var t=e.field,n=e.value;"visible"===t?this.css("display",n?"":S):l[t]&&a(t,n)?this.updateDefinition(t,n):"opacity"===t&&this.attr("opacity",n),p.fn.optionsChange.call(this,e);},attr:function attr(e,t){this.element&&this.element.setAttribute(e,t);},allAttr:function allAttr(e){for(var t=0;e.length>t;t++){this.attr(e[t][0],e[t][1]);}},css:function css(e,t){this.element&&(this.element.style[e]=t);},allCss:function allCss(e){for(var t=0;e.length>t;t++){this.css(e[t][0],e[t][1]);}},removeAttr:function removeAttr(e){this.element&&this.element.removeAttribute(e);},mapTransform:function mapTransform(e){var t=[];return e&&t.push([R,"matrix("+e.matrix().toString(6)+")"]),t;},renderTransform:function renderTransform(){return b(this.mapTransform(this.srcElement.transform()));},transformChange:function transformChange(e){e?this.allAttr(this.mapTransform(e)):this.removeAttr(R);},mapStyle:function mapStyle(){var e=this.srcElement.options,t=[["cursor",e.cursor]];return e.visible===!1&&t.push(["display",S]),t;},renderStyle:function renderStyle(){return _("style",m.renderStyle(this.mapStyle(!0)));},renderOpacity:function renderOpacity(){return _("opacity",this.srcElement.options.opacity);},createDefinitions:function createDefinitions(){var e,t,n,i,o=this.srcElement,r=this.definitions;if(o){n=o.options;for(t in l){e=n.get(t),e&&a(t,e)&&(r[t]=e,i=!0);}i&&this.definitionChange({action:"add",definitions:r});}},definitionChange:function definitionChange(e){this.parent&&this.parent.definitionChange(e);},updateDefinition:function updateDefinition(e,t){var n=this.definitions,o=n[e],r=l[e],a={};o&&(a[e]=o,this.definitionChange({action:"remove",definitions:a}),delete n[e]),t?(a[e]=t,this.definitionChange({action:"add",definitions:a}),n[e]=t,this.attr(r,i(t.id))):o&&this.removeAttr(r);},clearDefinitions:function clearDefinitions(){var e,t=this.definitions;for(e in t){this.definitionChange({action:"remove",definitions:t}),this.definitions={};break;}},renderDefinitions:function renderDefinitions(){return b(this.mapDefinitions());},mapDefinitions:function mapDefinitions(){var e,t=this.definitions,n=[];for(e in t){n.push([l[e],i(t[e].id)]);}return n;}}),P=M.extend({init:function init(e){M.fn.init.call(this),this.options=e,this.defs=new z();},attachTo:function attachTo(e){this.element=e,this.defs.attachTo(e.firstElementChild);},clear:function clear(){p.fn.clear.call(this);},template:w("#=d.defs.render()##= d.renderChildren() #"),definitionChange:function definitionChange(e){this.defs.definitionChange(e);}}),z=M.extend({init:function init(){M.fn.init.call(this),this.definitionMap={};},attachTo:function attachTo(e){this.element=e;},template:w("<defs>#= d.renderChildren()#</defs>"),definitionChange:function definitionChange(e){var t=e.definitions,n=e.action;"add"==n?this.addDefinitions(t):"remove"==n&&this.removeDefinitions(t);},createDefinition:function createDefinition(e,t){var n;return"clip"==e?n=B:"fill"==e&&(t instanceof f.LinearGradient?n=G:t instanceof f.RadialGradient&&(n=$)),new n(t);},addDefinitions:function addDefinitions(e){for(var t in e){this.addDefinition(t,e[t]);}},addDefinition:function addDefinition(e,t){var n,i=this.definitionMap,o=t.id,r=this.element,a=i[o];a?a.count++:(n=this.createDefinition(e,t),i[o]={element:n,count:1},this.append(n),r&&n.attachTo(this.element));},removeDefinitions:function removeDefinitions(e){for(var t in e){this.removeDefinition(e[t]);}},removeDefinition:function removeDefinition(e){var t=this.definitionMap,n=e.id,i=t[n];i&&(i.count--,0===i.count&&(this.remove(y(i.element,this.childNodes),1),delete t[n]));}}),B=M.extend({init:function init(e){M.fn.init.call(this),this.srcElement=e,this.id=e.id,this.load([e]);},template:w("<clipPath id='#=d.id#'>#= d.renderChildren()#</clipPath>")}),L=M.extend({template:w("<g#= d.renderTransform() + d.renderStyle() + d.renderOpacity() + d.renderDefinitions()#>#= d.renderChildren() #</g>"),optionsChange:function optionsChange(e){e.field==R&&this.transformChange(e.value),M.fn.optionsChange.call(this,e);}}),H=M.extend({geometryChange:function geometryChange(){this.attr("d",this.renderData()),this.invalidate();},optionsChange:function optionsChange(e){switch(e.field){case"fill":e.value?this.allAttr(this.mapFill(e.value)):this.removeAttr("fill");break;case"fill.color":this.allAttr(this.mapFill({color:e.value}));break;case"stroke":e.value?this.allAttr(this.mapStroke(e.value)):this.removeAttr("stroke");break;case R:this.transformChange(e.value);break;default:var t=this.attributeMap[e.field];t&&this.attr(t,e.value);}M.fn.optionsChange.call(this,e);},attributeMap:{"fill.opacity":"fill-opacity","stroke.color":"stroke","stroke.width":"stroke-width","stroke.opacity":"stroke-opacity"},content:function content(){this.element&&(this.element.textContent=this.srcElement.content());},renderData:function renderData(){return this.printPath(this.srcElement);},printPath:function printPath(e){var t,n,i,o,r,a=e.segments,s=a.length;if(s>0){for(t=[],r=1;s>r;r++){i=this.segmentType(a[r-1],a[r]),i!==o&&(o=i,t.push(i)),t.push("L"===i?this.printPoints(a[r].anchor()):this.printPoints(a[r-1].controlOut(),a[r].controlIn(),a[r].anchor()));}return n="M"+this.printPoints(a[0].anchor())+A+t.join(A),e.options.closed&&(n+="Z"),n;}},printPoints:function printPoints(){var e,t=arguments,n=t.length,i=[];for(e=0;n>e;e++){i.push(t[e].toString(3));}return i.join(A);},segmentType:function segmentType(e,t){return e.controlOut()&&t.controlIn()?"C":"L";},mapStroke:function mapStroke(e){var t=[];return e&&!v(e.color)?(t.push(["stroke",e.color]),t.push(["stroke-width",e.width]),t.push(["stroke-linecap",this.renderLinecap(e)]),t.push(["stroke-linejoin",e.lineJoin]),g(e.opacity)&&t.push(["stroke-opacity",e.opacity]),g(e.dashType)&&t.push(["stroke-dasharray",this.renderDashType(e)])):t.push(["stroke",S]),t;},renderStroke:function renderStroke(){return b(this.mapStroke(this.srcElement.options.stroke));},renderDashType:function renderDashType(e){var t,n,i,o=e.width||1,r=e.dashType;if(r&&r!=D){for(t=x[r.toLowerCase()],n=[],i=0;t.length>i;i++){n.push(t[i]*o);}return n.join(" ");}},renderLinecap:function renderLinecap(e){var t=e.dashType,n=e.lineCap;return t&&t!=D?k:n;},mapFill:function mapFill(e){var t=[];return e&&e.nodeType==C||(e&&!v(e.color)?(t.push(["fill",e.color]),g(e.opacity)&&t.push(["fill-opacity",e.opacity])):t.push(["fill",S])),t;},renderFill:function renderFill(){return b(this.mapFill(this.srcElement.options.fill));},template:w("<path #= d.renderStyle() # #= d.renderOpacity() # #= kendo.util.renderAttr('d', d.renderData()) # #= d.renderStroke() # #= d.renderFill() # #= d.renderDefinitions() # #= d.renderTransform() #></path>")}),N=H.extend({renderData:function renderData(){return this.printPath(this.srcElement.toPath());}}),O=H.extend({renderData:function renderData(){var e,t,n=this.srcElement.paths;if(n.length>0){for(e=[],t=0;n.length>t;t++){e.push(this.printPath(n[t]));}return e.join(" ");}}}),V=H.extend({geometryChange:function geometryChange(){var e=this.center();this.attr("cx",e.x),this.attr("cy",e.y),this.attr("r",this.radius()),this.invalidate();},center:function center(){return this.srcElement.geometry().center;},radius:function radius(){return this.srcElement.geometry().radius;},template:w("<circle #= d.renderStyle() # #= d.renderOpacity() # cx='#= d.center().x #' cy='#= d.center().y #' r='#= d.radius() #' #= d.renderStroke() # #= d.renderFill() # #= d.renderDefinitions() # #= d.renderTransform() # ></circle>")}),U=H.extend({geometryChange:function geometryChange(){var e=this.pos();this.attr("x",e.x),this.attr("y",e.y),this.invalidate();},optionsChange:function optionsChange(e){"font"===e.field?(this.attr("style",m.renderStyle(this.mapStyle())),this.geometryChange()):"content"===e.field&&H.fn.content.call(this,this.srcElement.content()),H.fn.optionsChange.call(this,e);},mapStyle:function mapStyle(e){var t=H.fn.mapStyle.call(this,e),n=this.srcElement.options.font;return e&&(n=d.htmlEncode(n)),t.push(["font",n]),t;},pos:function pos(){var e=this.srcElement.position(),t=this.srcElement.measure();return e.clone().setY(e.y+t.baseline);},renderContent:function renderContent(){var e=this.srcElement.content();return e=s(e),e=d.htmlEncode(e);},template:w("<text #= d.renderStyle() # #= d.renderOpacity() # x='#= this.pos().x #' y='#= this.pos().y #' #= d.renderStroke() # #= d.renderTransform() # #= d.renderDefinitions() # #= d.renderFill() #>#= d.renderContent() #</text>")}),W=H.extend({geometryChange:function geometryChange(){this.allAttr(this.mapPosition()),this.invalidate();},optionsChange:function optionsChange(e){"src"===e.field&&this.allAttr(this.mapSource()),H.fn.optionsChange.call(this,e);},mapPosition:function mapPosition(){var e=this.srcElement.rect(),t=e.topLeft();return[["x",t.x],["y",t.y],["width",e.width()+"px"],["height",e.height()+"px"]];},renderPosition:function renderPosition(){return b(this.mapPosition());},mapSource:function mapSource(e){var t=this.srcElement.src();return e&&(t=d.htmlEncode(t)),[["xlink:href",t]];},renderSource:function renderSource(){return b(this.mapSource(!0));},template:w("<image preserveAspectRatio='none' #= d.renderStyle() # #= d.renderTransform()# #= d.renderOpacity() # #= d.renderPosition() # #= d.renderSource() # #= d.renderDefinitions()#></image>")}),j=M.extend({template:w("<stop #=d.renderOffset()# #=d.renderStyle()# />"),renderOffset:function renderOffset(){return _("offset",this.srcElement.offset());},mapStyle:function mapStyle(){var e=this.srcElement;return[["stop-color",e.color()],["stop-opacity",e.opacity()]];},optionsChange:function optionsChange(e){"offset"==e.field?this.attr(e.field,e.value):"color"!=e.field&&"opacity"!=e.field||this.css("stop-"+e.field,e.value);}}),q=M.extend({init:function init(e){M.fn.init.call(this,e),this.id=e.id,this.loadStops();},loadStops:function loadStops(){var e,t,n=this.srcElement,i=n.stops,o=this.element;for(t=0;i.length>t;t++){e=new j(i[t]),this.append(e),o&&e.attachTo(o);}},optionsChange:function optionsChange(e){"gradient.stops"==e.field?(p.fn.clear.call(this),this.loadStops()):e.field==C&&this.allAttr(this.mapCoordinates());},renderCoordinates:function renderCoordinates(){return b(this.mapCoordinates());},mapSpace:function mapSpace(){return["gradientUnits",this.srcElement.userSpace()?"userSpaceOnUse":"objectBoundingBox"];}}),G=q.extend({template:w("<linearGradient id='#=d.id#' #=d.renderCoordinates()#>#= d.renderChildren()#</linearGradient>"),mapCoordinates:function mapCoordinates(){var e=this.srcElement,t=e.start(),n=e.end(),i=[["x1",t.x],["y1",t.y],["x2",n.x],["y2",n.y],this.mapSpace()];return i;}}),$=q.extend({template:w("<radialGradient id='#=d.id#' #=d.renderCoordinates()#>#= d.renderChildren()#</radialGradient>"),mapCoordinates:function mapCoordinates(){var e=this.srcElement,t=e.center(),n=e.radius(),i=[["cx",t.x],["cy",t.y],["r",n],this.mapSpace()];return i;}}),Y=H.extend({geometryChange:function geometryChange(){var e=this.srcElement.geometry();this.attr("x",e.origin.x),this.attr("y",e.origin.y),this.attr("width",e.size.width),this.attr("height",e.size.height),this.invalidate();},size:function size(){return this.srcElement.geometry().size;},origin:function origin(){return this.srcElement.geometry().origin;},template:w("<rect #= d.renderStyle() # #= d.renderOpacity() # x='#= d.origin().x #' y='#= d.origin().y #' width='#= d.size().width #' height='#= d.size().height #'#= d.renderStroke() # #= d.renderFill() # #= d.renderDefinitions() # #= d.renderTransform() # />")}),K={Group:L,Text:U,Path:H,MultiPath:O,Circle:V,Arc:N,Image:W,Rect:Y},Q=function Q(e,t){e.innerHTML=t;};!function(){var e="<svg xmlns='"+E+"'></svg>",t=c.createElement("div"),n=(typeof DOMParser==="undefined"?"undefined":_typeof(DOMParser))!=I;t.innerHTML=e,n&&t.firstChild.namespaceURI!=E&&(Q=function Q(e,t){var n=new DOMParser(),i=n.parseFromString(t,"text/xml"),o=c.adoptNode(i.documentElement);e.innerHTML="",e.appendChild(o);});}(),s._element=document.createElement("span"),l={clip:"clip-path",fill:"fill"},d.support.svg=function(){return c.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1");}(),d.support.svg&&f.SurfaceFactory.current.register("svg",F,10),u(f,{exportSVG:r,svg:{ArcNode:N,CircleNode:V,ClipNode:B,DefinitionNode:z,GradientStopNode:j,GroupNode:L,ImageNode:W,LinearGradientNode:G,MultiPathNode:O,Node:M,PathNode:H,RadialGradientNode:$,RectNode:Y,RootNode:P,Surface:F,TextNode:U,_exportGroup:o}});}(window.kendo.jQuery);},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("drawing/canvas.min",["drawing/search.min","kendo.color.min"],e);}(function(){!function(e){function t(t,n){var i,o,r,a,s,l,c={width:"800px",height:"600px",cors:"Anonymous"},d=t.clippedBBox();return d&&(i=d.getOrigin(),o=new y.Group(),o.transform(w.transform().translate(-i.x,-i.y)),o.children.push(t),t=o,r=d.getSize(),c.width=r.width+"px",c.height=r.height+"px"),n=p(c,n),a=e("<div />").css({display:"none",width:n.width,height:n.height}).appendTo(document.body),s=new E(a,n),s.draw(t),l=s.image(),l.always(function(){s.destroy(),a.remove();}),l;}function n(e,t){var n,i,o;for(o=0;t.length>o;o++){i=t[o],n=f.parseColor(i.color()),n.a*=i.opacity(),e.addColorStop(i.offset(),n.toCssRgba());}}var i,o,r,a,s,l,c,d,u,h=document,f=window.kendo,p=f.deepExtend,m=f.util,g=m.defined,v=m.isTransparent,_=m.renderTemplate,b=m.valueOrDefault,w=f.geometry,y=f.drawing,k=y.BaseNode,x=e.proxy,C="butt",S=y.DASH_ARRAYS,T=1e3/60,D="solid",A=".kendo",E=y.Surface.extend({init:function init(t,n){y.Surface.fn.init.call(this,t,n),this.element[0].innerHTML=this._template(this);var o=this.element[0].firstElementChild;o.width=e(t).width(),o.height=e(t).height(),this._rootElement=o,this._root=new i(o);},destroy:function destroy(){y.Surface.fn.destroy.call(this),this._root&&(this._root.destroy(),this._root=null),this._searchTree&&(this._searchTree.clear(),delete this._searchTree),this.element.off(A);},type:"canvas",draw:function draw(e){y.Surface.fn.draw.call(this,e),this._root.load([e],void 0,this.options.cors),this._searchTree&&this._searchTree.add([e]);},clear:function clear(){y.Surface.fn.clear.call(this),this._root.clear(),this._searchTree&&this._searchTree.clear();},eventTarget:function eventTarget(e){var t,n;return this._searchTree?(t=this._surfacePoint(e),n=this._searchTree.pointShape(t)):void 0;},image:function image(){var t,n=this._root,i=this._rootElement,o=[];return n.traverse(function(e){e.loading&&o.push(e.loading);}),t=e.Deferred(),e.when.apply(e,o).done(function(){n._invalidate();try{var e=i.toDataURL();t.resolve(e);}catch(o){t.reject(o);}}).fail(function(e){t.reject(e);}),t.promise();},suspendTracking:function suspendTracking(){y.Surface.fn.suspendTracking.call(this),this._searchTree&&(this._searchTree.clear(),delete this._searchTree);},resumeTracking:function resumeTracking(){var e,t,n;if(y.Surface.fn.resumeTracking.call(this),!this._searchTree){for(this._searchTree=new y.ShapesQuadTree(),e=this._root.childNodes,t=[],n=0;e.length>n;n++){t.push(e[n].srcElement);}this._searchTree.add(t);}},_resize:function _resize(){this._rootElement.width=this._size.width,this._rootElement.height=this._size.height,this._root.invalidate();},_template:_("<canvas style='width: 100%; height: 100%;'></canvas>"),_enableTracking:function _enableTracking(){this._searchTree=new y.ShapesQuadTree(),this._mouseTrackHandler=x(this._trackMouse,this),this.element.on("click"+A,this._mouseTrackHandler),this.element.on("mousemove"+A,this._mouseTrackHandler),y.Surface.fn._enableTracking.call(this);},_trackMouse:function _trackMouse(e){var t,n;this._suspendedTracking||(t=this.eventTarget(e),"click"!=e.type?(n=this._currentShape,n&&n!==t&&this.trigger("mouseleave",{element:n,originalEvent:e,type:"mouseleave"}),t&&n!==t&&this.trigger("mouseenter",{element:t,originalEvent:e,type:"mouseenter"}),this.trigger("mousemove",{element:t,originalEvent:e,type:"mousemove"}),this._currentShape=t):t&&this.trigger("click",{element:t,originalEvent:e,type:"click"}));}}),R=k.extend({init:function init(e){k.fn.init.call(this,e),e&&this.initClip();},initClip:function initClip(){var e=this.srcElement.clip();e&&(this.clip=e,e.addObserver(this));},clear:function clear(){this.srcElement&&this.srcElement.removeObserver(this),this.clearClip(),k.fn.clear.call(this);},clearClip:function clearClip(){this.clip&&(this.clip.removeObserver(this),delete this.clip);},setClip:function setClip(e){this.clip&&(e.beginPath(),o.fn.renderPoints(e,this.clip),e.clip());},optionsChange:function optionsChange(e){"clip"==e.field&&(this.clearClip(),this.initClip()),k.fn.optionsChange.call(this,e);},setTransform:function setTransform(e){if(this.srcElement){var t=this.srcElement.transform();t&&e.transform.apply(e,t.matrix().toArray(6));}},loadElements:function loadElements(e,t,n){var i,o,r,a,s=this;for(a=0;e.length>a;a++){o=e[a],r=o.children,i=new u[o.nodeType](o,n),r&&r.length>0&&i.load(r,t,n),g(t)?s.insertAt(i,t):s.append(i);}},load:function load(e,t,n){this.loadElements(e,t,n),this.invalidate();},setOpacity:function setOpacity(e){if(this.srcElement){var t=this.srcElement.opacity();g(t)&&this.globalAlpha(e,t);}},globalAlpha:function globalAlpha(e,t){t&&e.globalAlpha&&(t*=e.globalAlpha),e.globalAlpha=t;},visible:function visible(){var e=this.srcElement;return!e||e&&e.options.visible!==!1;}}),I=R.extend({renderTo:function renderTo(e){var t,n,i;if(this.visible()){for(e.save(),this.setTransform(e),this.setClip(e),this.setOpacity(e),t=this.childNodes,n=0;t.length>n;n++){i=t[n],i.visible()&&i.renderTo(e);}e.restore();}}});y.mixins.Traversable.extend(I.fn,"childNodes"),i=I.extend({init:function init(e){I.fn.init.call(this),this.canvas=e,this.ctx=e.getContext("2d");var t=x(this._invalidate,this);this.invalidate=f.throttle(function(){f.animationFrame(t);},T);},destroy:function destroy(){I.fn.destroy.call(this),this.canvas=null,this.ctx=null;},load:function load(e,t,n){this.loadElements(e,t,n),this._invalidate();},_invalidate:function _invalidate(){this.ctx&&(this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.renderTo(this.ctx));}}),y.mixins.Traversable.extend(i.fn,"childNodes"),o=R.extend({renderTo:function renderTo(e){e.save(),this.setTransform(e),this.setClip(e),this.setOpacity(e),e.beginPath(),this.renderPoints(e,this.srcElement),this.setLineDash(e),this.setLineCap(e),this.setLineJoin(e),this.setFill(e),this.setStroke(e),e.restore();},setFill:function setFill(e){var t=this.srcElement.options.fill,n=!1;return t&&("gradient"==t.nodeType?(this.setGradientFill(e,t),n=!0):v(t.color)||(e.fillStyle=t.color,e.save(),this.globalAlpha(e,t.opacity),e.fill(),e.restore(),n=!0)),n;},setGradientFill:function setGradientFill(e,t){var i,o,r,a,s=this.srcElement.rawBBox();t instanceof y.LinearGradient?(o=t.start(),r=t.end(),i=e.createLinearGradient(o.x,o.y,r.x,r.y)):t instanceof y.RadialGradient&&(a=t.center(),i=e.createRadialGradient(a.x,a.y,0,a.x,a.y,t.radius())),n(i,t.stops),e.save(),t.userSpace()||e.transform(s.width(),0,0,s.height(),s.origin.x,s.origin.y),e.fillStyle=i,e.fill(),e.restore();},setStroke:function setStroke(e){var t=this.srcElement.options.stroke;return t&&!v(t.color)&&t.width>0?(e.strokeStyle=t.color,e.lineWidth=b(t.width,1),e.save(),this.globalAlpha(e,t.opacity),e.stroke(),e.restore(),!0):void 0;},dashType:function dashType(){var e=this.srcElement.options.stroke;return e&&e.dashType?e.dashType.toLowerCase():void 0;},setLineDash:function setLineDash(e){var t,n=this.dashType();n&&n!=D&&(t=S[n],e.setLineDash?e.setLineDash(t):(e.mozDash=t,e.webkitLineDash=t));},setLineCap:function setLineCap(e){var t=this.dashType(),n=this.srcElement.options.stroke;t&&t!==D?e.lineCap=C:n&&n.lineCap&&(e.lineCap=n.lineCap);},setLineJoin:function setLineJoin(e){var t=this.srcElement.options.stroke;t&&t.lineJoin&&(e.lineJoin=t.lineJoin);},renderPoints:function renderPoints(e,t){var n,i,o,r,a,s,l=t.segments;if(0!==l.length){for(n=l[0],i=n.anchor(),e.moveTo(i.x,i.y),o=1;l.length>o;o++){n=l[o],i=n.anchor(),r=l[o-1],a=r.controlOut(),s=n.controlIn(),a&&s?e.bezierCurveTo(a.x,a.y,s.x,s.y,i.x,i.y):e.lineTo(i.x,i.y);}t.options.closed&&e.closePath();}}}),r=o.extend({renderPoints:function renderPoints(e){var t,n=this.srcElement.paths;for(t=0;n.length>t;t++){o.fn.renderPoints(e,n[t]);}}}),a=o.extend({renderPoints:function renderPoints(e){var t=this.srcElement.geometry(),n=t.center,i=t.radius;e.arc(n.x,n.y,i,0,2*Math.PI);}}),s=o.extend({renderPoints:function renderPoints(e){var t=this.srcElement.toPath();o.fn.renderPoints.call(this,e,t);}}),l=o.extend({renderTo:function renderTo(e){var t=this.srcElement,n=t.position(),i=t.measure();e.save(),this.setTransform(e),this.setClip(e),this.setOpacity(e),e.beginPath(),e.font=t.options.font,this.setFill(e)&&e.fillText(t.content(),n.x,n.y+i.baseline),this.setStroke(e)&&(this.setLineDash(e),e.strokeText(t.content(),n.x,n.y+i.baseline)),e.restore();}}),c=o.extend({init:function init(t,n){o.fn.init.call(this,t),this.onLoad=x(this.onLoad,this),this.onError=x(this.onError,this),this.loading=e.Deferred();var i=this.img=new Image();n&&!/^data:/i.test(t.src())&&(i.crossOrigin=n),i.src=t.src(),i.complete?this.onLoad():(i.onload=this.onLoad,i.onerror=this.onError);},renderTo:function renderTo(e){"resolved"===this.loading.state()&&(e.save(),this.setTransform(e),this.setClip(e),this.drawImage(e),e.restore());},optionsChange:function optionsChange(t){"src"===t.field?(this.loading=e.Deferred(),this.img.src=this.srcElement.src()):o.fn.optionsChange.call(this,t);},onLoad:function onLoad(){this.loading.resolve(),this.invalidate();},onError:function onError(){this.loading.reject(Error("Unable to load image '"+this.img.src+"'. Check for connectivity and verify CORS headers."));},drawImage:function drawImage(e){var t=this.srcElement.rect(),n=t.topLeft();e.drawImage(this.img,n.x,n.y,t.width(),t.height());}}),d=o.extend({renderPoints:function renderPoints(e){var t=this.srcElement.geometry(),n=t.origin,i=t.size;e.rect(n.x,n.y,i.width,i.height);}}),u={Group:I,Text:l,Path:o,MultiPath:r,Circle:a,Arc:s,Image:c,Rect:d},f.support.canvas=function(){return!!h.createElement("canvas").getContext;}(),f.support.canvas&&y.SurfaceFactory.current.register("canvas",E,20),p(f.drawing,{exportImage:t,canvas:{ArcNode:s,CircleNode:a,GroupNode:I,ImageNode:c,MultiPathNode:r,Node:R,PathNode:o,RectNode:d,RootNode:i,Surface:E,TextNode:l}});}(window.kendo.jQuery);},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("drawing/vml.min",["drawing/shapes.min","kendo.color.min"],e);}(function(){!function(e){function t(){if(u.namespaces&&!u.namespaces.kvml){u.namespaces.add("kvml","urn:schemas-microsoft-com:vml");var e=u.styleSheets.length>30?u.styleSheets[0]:u.createStyleSheet();e.addRule(".kvml","behavior:url(#default#VML)");}}function n(e){var t=u.createElement("kvml:"+e);return t.className="kvml",t;}function i(e){var t,n=e.length,i=[];for(t=0;n>t;t++){i.push(e[t].scaleCopy(F).toString(0,","));}return i.join(" ");}function o(e,t){var n,o,a,s,l,c=e.segments,d=c.length;if(d>0){for(n=[],l=1;d>l;l++){a=r(c[l-1],c[l]),a!==s&&(s=a,n.push(a)),n.push("l"===a?i([c[l].anchor()]):i([c[l-1].controlOut(),c[l].controlIn(),c[l].anchor()]));}return o="m "+i([c[0].anchor()])+" "+n.join(" "),e.options.closed&&(o+=" x"),t!==!0&&(o+=" e"),o;}}function r(e,t){return e.controlOut()&&t.controlIn()?"c":"l";}function a(e){return 0===e.indexOf("fill")||0===e.indexOf(P);}function s(e,t,n){var i,o=n*E(t.opacity(),1);return i=e?l(e,t.color(),o):l(t.color(),"#fff",1-o);}function l(e,t,n){var i=new x(e),o=new x(t),r=c(i.r,o.r,n),a=c(i.g,o.g,n),s=c(i.b,o.b,n);return new x(r,a,s).toHex();}function c(e,t,n){return h.round(n*t+(1-n)*e);}var d,u=document,h=Math,f=h.atan2,p=h.ceil,m=h.sqrt,g=window.kendo,v=g.deepExtend,_=e.noop,b=g.drawing,w=b.BaseNode,y=g.geometry,k=y.toMatrix,x=g.Color,C=g.util,S=C.isTransparent,T=C.defined,D=C.deg,A=C.round,E=C.valueOrDefault,R="none",I=".kendo",F=100,M=F*F,P="gradient",z=4,B=b.Surface.extend({init:function init(e,n){b.Surface.fn.init.call(this,e,n),t(),this.element.empty(),this._root=new H(),this._root.attachTo(this.element[0]),this.element.on("click"+I,this._click),this.element.on("mouseover"+I,this._mouseenter),this.element.on("mouseout"+I,this._mouseleave),this.element.on("mousemove"+I,this._mousemove);},type:"vml",destroy:function destroy(){this._root&&(this._root.destroy(),this._root=null,this.element.off(I)),b.Surface.fn.destroy.call(this);},draw:function draw(e){b.Surface.fn.draw.call(this,e),this._root.load([e],void 0,null);},clear:function clear(){b.Surface.fn.clear.call(this),this._root.clear();}}),L=w.extend({init:function init(e){w.fn.init.call(this,e),this.createElement(),this.attachReference();},observe:_,destroy:function destroy(){this.element&&(this.element._kendoNode=null,this.element=null),w.fn.destroy.call(this);},clear:function clear(){var e,t;for(this.element&&(this.element.innerHTML=""),e=this.childNodes,t=0;e.length>t;t++){e[t].destroy();}this.childNodes=[];},removeSelf:function removeSelf(){this.element&&(this.element.parentNode.removeChild(this.element),this.element=null),w.fn.removeSelf.call(this);},createElement:function createElement(){this.element=u.createElement("div");},attachReference:function attachReference(){this.element._kendoNode=this;},load:function load(e,t,n,i){var o,r,a,s,l,c;for(i=E(i,1),this.srcElement&&(i*=E(this.srcElement.options.opacity,1)),o=0;e.length>o;o++){r=e[o],a=r.children,s=r.currentTransform(n),l=i*E(r.options.opacity,1),c=new le[r.nodeType](r,s,l),a&&a.length>0&&c.load(a,t,s,i),T(t)?this.insertAt(c,t):this.append(c),c.attachTo(this.element,t);}},attachTo:function attachTo(e,t){T(t)?e.insertBefore(this.element,e.children[t]||null):e.appendChild(this.element);},optionsChange:function optionsChange(e){"visible"==e.field&&this.css("display",e.value!==!1?"":R);},setStyle:function setStyle(){this.allCss(this.mapStyle());},mapStyle:function mapStyle(){var e=[];return this.srcElement&&this.srcElement.options.visible===!1&&e.push(["display",R]),e;},mapOpacityTo:function mapOpacityTo(e,t){var n=E(this.opacity,1);n*=E(t,1),e.push(["opacity",n]);},attr:function attr(e,t){this.element&&(this.element[e]=t);},allAttr:function allAttr(e){for(var t=0;e.length>t;t++){this.attr(e[t][0],e[t][1]);}},css:function css(e,t){this.element&&(this.element.style[e]=t);},allCss:function allCss(e){for(var t=0;e.length>t;t++){this.css(e[t][0],e[t][1]);}}}),H=L.extend({createElement:function createElement(){L.fn.createElement.call(this),this.allCss([["width","100%"],["height","100%"],["position","relative"],["visibility","visible"]]);},attachReference:_}),N=g.Class.extend({init:function init(e,t){this.srcElement=e,this.observer=t,e.addObserver(this);},geometryChange:function geometryChange(){this.observer.optionsChange({field:"clip",value:this.srcElement});},clear:function clear(){this.srcElement.removeObserver(this);}}),O=L.extend({init:function init(e){L.fn.init.call(this,e),e&&this.initClip();},observe:function observe(){w.fn.observe.call(this);},mapStyle:function mapStyle(){var e=L.fn.mapStyle.call(this);return this.srcElement&&this.srcElement.clip()&&e.push(["clip",this.clipRect()]),e;},optionsChange:function optionsChange(e){"clip"==e.field&&(this.clearClip(),this.initClip(),this.setClip()),L.fn.optionsChange.call(this,e);},clear:function clear(){this.clearClip(),L.fn.clear.call(this);},initClip:function initClip(){this.srcElement.clip()&&(this.clip=new N(this.srcElement.clip(),this),this.clip.observer=this);},clearClip:function clearClip(){this.clip&&(this.clip.clear(),this.clip=null,this.css("clip",this.clipRect()));},setClip:function setClip(){this.clip&&this.css("clip",this.clipRect());},clipRect:function clipRect(){var e,t,n,i=d,o=this.srcElement.clip();return o&&(e=this.clipBBox(o),t=e.topLeft(),n=e.bottomRight(),i=g.format("rect({0}px {1}px {2}px {3}px)",t.y,n.x,n.y,t.x)),i;},clipBBox:function clipBBox(e){var t=this.srcElement.rawBBox().topLeft(),n=e.rawBBox();return n.origin.translate(-t.x,-t.y),n;}}),V=O.extend({createElement:function createElement(){L.fn.createElement.call(this),this.setStyle();},attachTo:function attachTo(e,t){this.css("display",R),L.fn.attachTo.call(this,e,t),this.srcElement.options.visible!==!1&&this.css("display","");},_attachTo:function _attachTo(e){var t=document.createDocumentFragment();t.appendChild(this.element),e.appendChild(t);},mapStyle:function mapStyle(){var e=O.fn.mapStyle.call(this);return e.push(["position","absolute"]),e.push(["white-space","nowrap"]),e;},optionsChange:function optionsChange(e){"transform"===e.field&&this.refreshTransform(),"opacity"===e.field&&this.refreshOpacity(),O.fn.optionsChange.call(this,e);},refreshTransform:function refreshTransform(e){var t,n=this.srcElement.currentTransform(e),i=this.childNodes,o=i.length;for(this.setClip(),t=0;o>t;t++){i[t].refreshTransform(n);}},currentOpacity:function currentOpacity(){var e=E(this.srcElement.options.opacity,1);return this.parent&&this.parent.currentOpacity&&(e*=this.parent.currentOpacity()),e;},refreshOpacity:function refreshOpacity(){var e,t=this.childNodes,n=t.length,i=this.currentOpacity();for(e=0;n>e;e++){t[e].refreshOpacity(i);}},initClip:function initClip(){if(O.fn.initClip.call(this),this.clip){var e=this.clip.srcElement.bbox(this.srcElement.currentTransform());e&&(this.css("width",e.width()+e.origin.x),this.css("height",e.height()+e.origin.y));}},clipBBox:function clipBBox(e){return e.bbox(this.srcElement.currentTransform());},clearClip:function clearClip(){O.fn.clearClip.call(this);}}),U=L.extend({init:function init(e,t){this.opacity=t,L.fn.init.call(this,e);},createElement:function createElement(){this.element=n("stroke"),this.setOpacity();},optionsChange:function optionsChange(e){0===e.field.indexOf("stroke")&&this.setStroke();},refreshOpacity:function refreshOpacity(e){this.opacity=e,this.setStroke();},setStroke:function setStroke(){this.allAttr(this.mapStroke());},setOpacity:function setOpacity(){this.setStroke();},mapStroke:function mapStroke(){var e,t=this.srcElement.options.stroke,n=[];return t&&!S(t.color)&&0!==t.width?(n.push(["on","true"]),n.push(["color",t.color]),n.push(["weight",(t.width||1)+"px"]),this.mapOpacityTo(n,t.opacity),T(t.dashType)&&n.push(["dashstyle",t.dashType]),T(t.lineJoin)&&n.push(["joinstyle",t.lineJoin]),T(t.lineCap)&&(e=t.lineCap.toLowerCase(),"butt"===e&&(e="butt"===e?"flat":e),n.push(["endcap",e]))):n.push(["on","false"]),n;}}),W=L.extend({init:function init(e,t,n){this.opacity=n,L.fn.init.call(this,e);},createElement:function createElement(){this.element=n("fill"),this.setFill();},optionsChange:function optionsChange(e){a(e.field)&&this.setFill();},refreshOpacity:function refreshOpacity(e){this.opacity=e,this.setOpacity();},setFill:function setFill(){this.allAttr(this.mapFill());},setOpacity:function setOpacity(){this.setFill();},attr:function attr(e,t){var n,i=this.element;if(i){for(n=e.split(".");n.length>1;){i=i[n.shift()];}i[n[0]]=t;}},mapFill:function mapFill(){var e=this.srcElement.fill(),t=[["on","false"]];return e&&(e.nodeType==P?t=this.mapGradient(e):S(e.color)||(t=this.mapFillColor(e))),t;},mapFillColor:function mapFillColor(e){var t=[["on","true"],["color",e.color]];return this.mapOpacityTo(t,e.opacity),t;},mapGradient:function mapGradient(e){var t,n=this.srcElement.options,i=n.fallbackFill||e.fallbackFill&&e.fallbackFill();return t=e instanceof b.LinearGradient?this.mapLinearGradient(e):e instanceof b.RadialGradient&&e.supportVML?this.mapRadialGradient(e):i?this.mapFillColor(i):[["on","false"]];},mapLinearGradient:function mapLinearGradient(e){var t=e.start(),n=e.end(),i=C.deg(f(n.y-t.y,n.x-t.x)),o=[["on","true"],["type",P],["focus",0],["method","none"],["angle",270-i]];return this.addColors(o),o;},mapRadialGradient:function mapRadialGradient(e){var t=this.srcElement.rawBBox(),n=e.center(),i=(n.x-t.origin.x)/t.width(),o=(n.y-t.origin.y)/t.height(),r=[["on","true"],["type","gradienttitle"],["focus","100%"],["focusposition",i+" "+o],["method","none"]];return this.addColors(r),r;},addColors:function addColors(e){var t,n,i=this.srcElement.options,o=E(this.opacity,1),r=[],a=i.fill.stops,l=i.baseColor,c=this.element.colors?"colors.value":"colors",d=s(l,a[0],o),u=s(l,a[a.length-1],o);for(n=0;a.length>n;n++){t=a[n],r.push(h.round(100*t.offset())+"% "+s(l,t,o));}e.push([c,r.join(",")],["color",d],["color2",u]);}}),j=L.extend({init:function init(e,t){this.transform=t,L.fn.init.call(this,e);},createElement:function createElement(){this.element=n("skew"),this.setTransform();},optionsChange:function optionsChange(e){"transform"===e.field&&this.refresh(this.srcElement.currentTransform());},refresh:function refresh(e){this.transform=e,this.setTransform();},transformOrigin:function transformOrigin(){return"-0.5,-0.5";},setTransform:function setTransform(){this.allAttr(this.mapTransform());},mapTransform:function mapTransform(){var e=this.transform,t=[],n=k(e);return n?(n.round(z),t.push(["on","true"],["matrix",[n.a,n.c,n.b,n.d,0,0].join(",")],["offset",n.e+"px,"+n.f+"px"],["origin",this.transformOrigin()])):t.push(["on","false"]),t;}}),q=O.extend({init:function init(e,t,n){this.fill=this.createFillNode(e,t,n),this.stroke=new U(e,n),this.transform=this.createTransformNode(e,t),O.fn.init.call(this,e);},attachTo:function attachTo(e,t){this.fill.attachTo(this.element),this.stroke.attachTo(this.element),this.transform.attachTo(this.element),L.fn.attachTo.call(this,e,t);},createFillNode:function createFillNode(e,t,n){return new W(e,t,n);},createTransformNode:function createTransformNode(e,t){return new j(e,t);},createElement:function createElement(){this.element=n("shape"),this.setCoordsize(),this.setStyle();},optionsChange:function optionsChange(e){a(e.field)?this.fill.optionsChange(e):0===e.field.indexOf("stroke")?this.stroke.optionsChange(e):"transform"===e.field?this.transform.optionsChange(e):"opacity"===e.field&&(this.fill.setOpacity(),this.stroke.setOpacity()),O.fn.optionsChange.call(this,e);},refreshTransform:function refreshTransform(e){this.transform.refresh(this.srcElement.currentTransform(e));},refreshOpacity:function refreshOpacity(e){e*=E(this.srcElement.options.opacity,1),this.fill.refreshOpacity(e),this.stroke.refreshOpacity(e);},mapStyle:function mapStyle(e,t){var n,i=O.fn.mapStyle.call(this);return e&&t||(e=t=F),i.push(["position","absolute"],["width",e+"px"],["height",t+"px"]),n=this.srcElement.options.cursor,n&&i.push(["cursor",n]),i;},setCoordsize:function setCoordsize(){this.allAttr([["coordorigin","0 0"],["coordsize",M+" "+M]]);}}),G=L.extend({createElement:function createElement(){this.element=n("path"),this.setPathData();},geometryChange:function geometryChange(){this.setPathData();},setPathData:function setPathData(){this.attr("v",this.renderData());},renderData:function renderData(){return o(this.srcElement);}}),$=q.extend({init:function init(e,t,n){this.pathData=this.createDataNode(e),q.fn.init.call(this,e,t,n);},attachTo:function attachTo(e,t){this.pathData.attachTo(this.element),q.fn.attachTo.call(this,e,t);},createDataNode:function createDataNode(e){return new G(e);},geometryChange:function geometryChange(){this.pathData.geometryChange(),q.fn.geometryChange.call(this);}}),Y=G.extend({renderData:function renderData(){var e,t,n,i=this.srcElement.paths;if(i.length>0){for(e=[],t=0;i.length>t;t++){n=i.length-1>t,e.push(o(i[t],n));}return e.join(" ");}}}),K=$.extend({createDataNode:function createDataNode(e){return new Y(e);}}),Q=j.extend({transformOrigin:function transformOrigin(){var e=this.srcElement.geometry().bbox(),t=e.center(),n=-p(t.x)/p(e.width()),i=-p(t.y)/p(e.height());return n+","+i;}}),X=q.extend({createElement:function createElement(){this.element=n("oval"),this.setStyle();},createTransformNode:function createTransformNode(e,t){return new Q(e,t);},geometryChange:function geometryChange(){q.fn.geometryChange.call(this),this.setStyle(),this.refreshTransform();},mapStyle:function mapStyle(){var e=this.srcElement.geometry(),t=e.radius,n=e.center,i=p(2*t),o=q.fn.mapStyle.call(this,i,i);return o.push(["left",p(n.x-t)+"px"],["top",p(n.y-t)+"px"]),o;}}),J=G.extend({renderData:function renderData(){return o(this.srcElement.toPath());}}),Z=$.extend({createDataNode:function createDataNode(e){return new J(e);}}),ee=G.extend({createElement:function createElement(){G.fn.createElement.call(this),this.attr("textpathok",!0);},renderData:function renderData(){var e=this.srcElement.rect(),t=e.center();return"m "+i([new y.Point(e.topLeft().x,t.y)])+" l "+i([new y.Point(e.bottomRight().x,t.y)]);}}),te=L.extend({createElement:function createElement(){this.element=n("textpath"),this.attr("on",!0),this.attr("fitpath",!1),this.setStyle(),this.setString();},optionsChange:function optionsChange(e){"content"===e.field?this.setString():this.setStyle(),L.fn.optionsChange.call(this,e);},mapStyle:function mapStyle(){return[["font",this.srcElement.options.font]];},setString:function setString(){this.attr("string",this.srcElement.content());}}),ne=$.extend({init:function init(e,t,n){this.path=new te(e),$.fn.init.call(this,e,t,n);},createDataNode:function createDataNode(e){return new ee(e);},attachTo:function attachTo(e,t){this.path.attachTo(this.element),$.fn.attachTo.call(this,e,t);},optionsChange:function optionsChange(e){"font"!==e.field&&"content"!==e.field||(this.path.optionsChange(e),this.pathData.geometryChange(e)),$.fn.optionsChange.call(this,e);}}),ie=G.extend({renderData:function renderData(){var e=this.srcElement.rect(),t=new b.Path().moveTo(e.topLeft()).lineTo(e.topRight()).lineTo(e.bottomRight()).lineTo(e.bottomLeft()).close();return o(t);}}),oe=j.extend({init:function init(e,t,n){this.opacity=n,j.fn.init.call(this,e,t);},createElement:function createElement(){this.element=n("fill"),this.attr("type","frame"),this.attr("rotate",!0),this.setOpacity(),this.setSrc(),this.setTransform();},optionsChange:function optionsChange(e){"src"===e.field&&this.setSrc(),j.fn.optionsChange.call(this,e);},geometryChange:function geometryChange(){this.refresh();},refreshOpacity:function refreshOpacity(e){this.opacity=e,this.setOpacity();},setOpacity:function setOpacity(){var e=[];this.mapOpacityTo(e,this.srcElement.options.opacity),this.allAttr(e);},setSrc:function setSrc(){this.attr("src",this.srcElement.src());},mapTransform:function mapTransform(){var e,t,n,i,o,r,a,s,l=this.srcElement,c=l.rawBBox(),d=c.center(),u=F/2,h=F,p=c.width()/h,g=c.height()/h,v=0,_=this.transform;return _?(n=k(_),i=m(n.a*n.a+n.b*n.b),o=m(n.c*n.c+n.d*n.d),p*=i,g*=o,r=D(f(n.b,n.d)),a=D(f(-n.c,n.a)),v=(r+a)/2,0!==v?(s=l.bbox().center(),e=(s.x-u)/h,t=(s.y-u)/h):(e=(d.x*i+n.e-u)/h,t=(d.y*o+n.f-u)/h)):(e=(d.x-u)/h,t=(d.y-u)/h),p=A(p,z),g=A(g,z),e=A(e,z),t=A(t,z),v=A(v,z),[["size",p+","+g],["position",e+","+t],["angle",v]];}}),re=$.extend({createFillNode:function createFillNode(e,t,n){return new oe(e,t,n);},createDataNode:function createDataNode(e){return new ie(e);},optionsChange:function optionsChange(e){"src"!==e.field&&"transform"!==e.field||this.fill.optionsChange(e),$.fn.optionsChange.call(this,e);},geometryChange:function geometryChange(){this.fill.geometryChange(),$.fn.geometryChange.call(this);},refreshTransform:function refreshTransform(e){$.fn.refreshTransform.call(this,e),this.fill.refresh(this.srcElement.currentTransform(e));}}),ae=G.extend({renderData:function renderData(){var e=this.srcElement.geometry(),t=["m",i([e.topLeft()]),"l",i([e.topRight(),e.bottomRight(),e.bottomLeft()]),"x e"];return t.join(" ");}}),se=$.extend({createDataNode:function createDataNode(e){return new ae(e);}}),le={Group:V,Text:ne,Path:$,MultiPath:K,Circle:X,Arc:Z,Image:re,Rect:se};g.support.vml=function(){var e=g.support.browser;return e.msie&&9>e.version;}(),d="inherit",g.support.browser.msie&&8>g.support.browser.version&&(d="rect(auto auto auto auto)"),g.support.vml&&b.SurfaceFactory.current.register("vml",B,30),v(b,{vml:{ArcDataNode:J,ArcNode:Z,CircleTransformNode:Q,CircleNode:X,FillNode:W,GroupNode:V,ImageNode:re,ImageFillNode:oe,ImagePathDataNode:ie,MultiPathDataNode:Y,MultiPathNode:K,Node:L,PathDataNode:G,PathNode:$,RectDataNode:ae,RectNode:se,RootNode:H,StrokeNode:U,Surface:B,TextNode:ne,TextPathNode:te,TextPathDataNode:ee,TransformNode:j}});}(window.kendo.jQuery);},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("drawing/html.min",["kendo.color.min","drawing/shapes.min","util/main.min","util/text-metrics.min"],e);}(function(){!function(e,t,n){"use strict";function i(e){return"number"==typeof e?{x:e,y:e}:Array.isArray(e)?{x:e[0],y:e[1]}:{x:e.x,y:e.y};}function o(n,o){function a(t){var n=new se.Group(),i=t.getBoundingClientRect();return F(n,[u.x,0,0,u.y,-i.left*u.x,-i.top*u.y]),pe._clipbox=!1,pe._matrix=le.Matrix.unit(),pe._stackingContext={element:t,group:n},pe._avoidLinks=o.avoidLinks===!0?"a":o.avoidLinks,e(t).addClass("k-pdf-export"),te(t,n),e(t).removeClass("k-pdf-export"),n;}function s(t){return null!=t?("string"==typeof t&&(t=kendo.template(t.replace(/^\s+|\s+$/g,""))),"function"==typeof t?function(n){var i=t(n);return i?("string"==typeof i&&(i=i.replace(/^\s+|\s+$/g,"")),e(i)[0]):void 0;}:function(){return e(t).clone()[0];}):void 0;}function l(t){var n,i,o,r,a=t.cloneNode(!1);if(1==t.nodeType){n=e(t),i=e(a),r=n.data();for(o in r){i.data(o,r[o]);}if(/^canvas$/i.test(t.tagName))a.getContext("2d").drawImage(t,0,0);else if(/^input$/i.test(t.tagName))t.removeAttribute("name");else for(o=t.firstChild;o;o=o.nextSibling){a.appendChild(l(o));}}return a;}function c(n,i,o,r,a,c,d){function u(){function e(){f(S,function(){n({pages:S,container:D});});}var t,i;("-"!=o||a)&&m(T),t=_(),T.parentNode.insertBefore(t,T),t.appendChild(T),x?(i=S.length,S.forEach(function(t,n){var o=x({element:t,pageNum:n+1,totalPages:S.length});o&&(t.appendChild(o),p(o,function(){0===--i&&e();}));})):e();}function h(e){return d.keepTogether&&e.is(d.keepTogether)&&e.height()<=a-A?!0:e.data("kendoChart")||/^(?:img|tr|thead|th|tfoot|iframe|svg|object|canvas|input|textarea|select|video|h[1-6])/i.test(e[0].tagName);}function m(n){var i,r,s,l,c=y(n),d=t(k(c,"padding-bottom")),u=t(k(c,"border-bottom-width")),f=A;for(A+=d+u,i=!0,r=n.firstChild;r;r=r.nextSibling){if(1==r.nodeType){if(i=!1,s=e(r),s.is(o)){v(r);continue;}if(!a){m(r);continue;}if(!/^(?:static|relative)$/.test(k(y(r),"position")))continue;l=b(r),1==l?v(r):l&&h(s)?v(r):m(r);}else 3==r.nodeType&&a&&(w(r,i),i=!1);}A=f;}function g(e){var t=e.parentNode,n=t.firstChild;if(e===n)return!0;if(e===t.children[0]){if(7==n.nodeType||8==n.nodeType)return!0;if(3==n.nodeType)return!/\S/.test(n.data);}return!1;}function v(t){var n,i,o,r,a,s,l;return 1==t.nodeType&&t!==T&&g(t)?v(t.parentNode):(n=e(t).closest("table"),i=n.find("colgroup:first"),d.repeatHeaders&&(o=n.find("thead:first"),r=e(t).closest('.k-grid[data-role="grid"]'),r[0]&&r[0].querySelector(".k-auto-scrollable")&&(a=r.find(".k-grid-header:first"))),s=_(),l=C.createRange(),l.setStartBefore(T),l.setEndBefore(t),s.appendChild(l.extractContents()),T.parentNode.insertBefore(s,T),n[0]&&(n=e(t).closest("table"),d.repeatHeaders&&o[0]&&o.clone().prependTo(n),i[0]&&i.clone().prependTo(n)),void(d.repeatHeaders&&a&&a[0]&&(r=e(t).closest('.k-grid[data-role="grid"]'),a[0]&&a.clone().prependTo(r))));}function _(){var t=C.createElement("KENDO-PDF-PAGE");return e(t).css({display:"block",boxSizing:"content-box",width:r||"auto",padding:c.top+"px "+c.right+"px "+c.bottom+"px "+c.left+"px",position:"relative",height:a||"auto",overflow:a||r?"hidden":"visible",clear:"both"}),d&&d.pageClassName&&(t.className=d.pageClassName),S.push(t),t;}function b(e){var t,n,i=e.getBoundingClientRect();return 0===i.width||0===i.height?0:(t=T.getBoundingClientRect().top,n=a-A,i.height>n?3:i.top-t>n?1:i.bottom-t>n?2:0);}function w(e,t){var n,i,o,r,a;/\S/.test(e.data)&&(n=e.data.length,i=C.createRange(),i.selectNodeContents(e),o=b(i),o&&(r=e,1==o?v(t?e.parentNode:e):(!function s(t,n,o){return i.setEnd(e,n),t==n||n==o?n:b(i)?s(t,t+n>>1,n):s(n,n+o>>1,o);}(0,n>>1,n),!/\S/.test(""+i)&&t?v(e.parentNode):(r=e.splitText(i.endOffset),a=_(),i.setStartBefore(T),a.appendChild(i.extractContents()),T.parentNode.insertBefore(a,T))),w(r)));}var x=s(d.template),C=i.ownerDocument,S=[],T=d._destructive?i:l(i),D=C.createElement("KENDO-PDF-DOCUMENT"),A=0;e(T).find("tfoot").each(function(){this.parentNode.appendChild(this);}),e(T).find("ol").each(function(){e(this).children().each(function(e){this.setAttribute("kendo-split-index",e);});}),e(D).css({display:"block",position:"absolute",boxSizing:"content-box",left:"-10000px",top:"-10000px"}),r&&(e(D).css({width:r,paddingLeft:c.left,paddingRight:c.right}),e(T).css({overflow:"hidden"})),i.parentNode.insertBefore(D,i),D.appendChild(T),d.beforePageBreak?setTimeout(function(){d.beforePageBreak(D,u);},15):setTimeout(u,15);}var d,u;if(o||(o={}),d=e.Deferred(),n=e(n)[0],!n)return d.reject("No element to export");if("function"!=typeof window.getComputedStyle)throw Error("window.getComputedStyle is missing.  You are using an unsupported browser, or running in IE8 compatibility mode.  Drawing HTML is supported in Chrome, Firefox, Safari and IE9+.");return kendo.pdf&&kendo.pdf.defineFont(r(n.ownerDocument)),u=i(o.scale||1),p(n,function(){var e,t=o&&o.forcePageBreak,i=o&&o.paperSize&&"auto"!=o.paperSize,r=kendo.pdf.getPaperOptions(function(e,t){return"paperSize"==e?i?o[e]:"A4":e in o?o[e]:t;}),s=i&&r.paperSize[0],l=i&&r.paperSize[1],h=o.margin&&r.margin,f=!!h;t||l?(h||(h={left:0,top:0,right:0,bottom:0}),s&&(s/=u.x),l&&(l/=u.y),h.left/=u.x,h.right/=u.x,h.top/=u.y,h.bottom/=u.y,e=new se.Group({pdf:{multiPage:!0,paperSize:i?r.paperSize:"auto",_ignoreMargin:f}}),c(function(t){if(o.progress){var n=!1,i=0;!function r(){t.pages.length>i?(e.append(a(t.pages[i])),o.progress({pageNum:++i,totalPages:t.pages.length,cancel:function cancel(){n=!0;}}),n?t.container.parentNode.removeChild(t.container):setTimeout(r)):(t.container.parentNode.removeChild(t.container),d.resolve(e));}();}else t.pages.forEach(function(t){e.append(a(t));}),t.container.parentNode.removeChild(t.container),d.resolve(e);},n,t,s?s-h.left-h.right:null,l?l-h.top-h.bottom:null,h,o)):d.resolve(a(n));}),d.promise();}function r(e){function t(e){if(e){var t=null;try{t=e.cssRules;}catch(n){}t&&i(e,t);}}function n(e){var t,n=k(e.style,"src");return n?re(n).reduce(function(e,t){var n=ae(t);return n&&e.push(n),e;},[]):(t=ae(e.cssText),t?[t]:[]);}function i(e,i){var r,a,s,l,c,d,u;for(r=0;i.length>r;++r){switch(a=i[r],a.type){case 3:t(a.styleSheet);break;case 5:s=a.style,l=re(k(s,"font-family")),c=/^([56789]00|bold)$/i.test(k(s,"font-weight")),d="italic"==k(s,"font-style"),u=n(a),u.length>0&&o(e,l,c,d,u[0]);}}}function o(e,t,n,i,o){/^data:/i.test(o)||/^[^\/:]+:\/\//.test(o)||/^\//.test(o)||(o=(e.href+"").replace(/[^\/]*$/,"")+o),t.forEach(function(e){e=e.replace(/^(['"]?)(.*?)\1$/,"$2"),n&&(e+="|bold"),i&&(e+="|italic"),r[e]=o;});}var r,a;for(null==e&&(e=document),r={},a=0;e.styleSheets.length>a;++a){t(e.styleSheets[a]);}return r;}function a(e,t){return Object.prototype.hasOwnProperty.call(e,t);}function s(e){return e="_counter_"+e,pe[e];}function l(e){var t=[],n=pe;for(e="_counter_"+e;n;){a(n,e)&&t.push(n[e]),n=Object.getPrototypeOf(n);}return t.reverse();}function c(e,t){var n=pe;for(e="_counter_"+e;n&&!a(n,e);){n=Object.getPrototypeOf(n);}n||(n=pe._root),n[e]=(n[e]||0)+(null==t?1:t);}function d(e,t){e="_counter_"+e,pe[e]=null==t?0:t;}function u(e,n,i){var o,r,a;for(o=0;e.length>o;){r=e[o++],a=t(e[o]),isNaN(a)?n(r,i):(n(r,a),++o);}}function h(e,t){var n=kendo.parseColor(e);return n&&(n=n.toRGB(),t?n=n.toCssRgba():0===n.a&&(n=null)),n;}function f(e,t){function n(){--i<=0&&t();}var i=0;e.forEach(function(e){var t,o,r=e.querySelectorAll("img");for(t=0;r.length>t;++t){o=r[t],o.complete||(i++,o.onload=o.onerror=n);}}),i||n();}function p(e,t){function n(e){fe[e]||(fe[e]=!0,r.push(e));}function i(){--o<=0&&t();}var o,r=[];!function a(e){/^img$/i.test(e.tagName)&&n(e.src),oe(k(y(e),"background-image")).forEach(function(e){"url"==e.type&&n(e.url);}),e.children&&ce.call(e.children).forEach(a);}(e),o=r.length,0===o&&i(),r.forEach(function(e){var t=fe[e]=new Image();/^data:/i.test(e)||(t.crossOrigin="Anonymous"),t.src=e,t.complete?i():(t.onload=i,t.onerror=function(){fe[e]=null,i();});});}function m(e){var t,i="";do{t=e%26,i=String.fromCharCode(97+t)+i,e=n.floor(e/26);}while(e>0);return i;}function g(e,t,n){var i,o;pe=Object.create(pe),pe[e.tagName.toLowerCase()]={element:e,style:t},i=k(t,"text-decoration"),i&&"none"!=i&&(o=k(t,"color"),i.split(/\s+/g).forEach(function(e){pe[e]||(pe[e]=o);})),w(t)&&(pe._stackingContext={element:e,group:n});}function v(){pe=Object.getPrototypeOf(pe);}function _(e){if(null!=pe._clipbox){var t=e.bbox(pe._matrix);pe._clipbox=pe._clipbox?le.Rect.intersect(pe._clipbox,t):t;}}function b(){var e=pe._clipbox;return null==e?!0:e?0===e.width()||0===e.height():void 0;}function w(e){function t(t){return k(e,t);}return"none"!=t("transform")||"static"!=t("position")&&"auto"!=t("z-index")||t("opacity")<1?!0:void 0;}function y(e,t){return window.getComputedStyle(e,t||null);}function k(e,t){return e.getPropertyValue(t)||de.webkit&&e.getPropertyValue("-webkit-"+t)||de.mozilla&&e.getPropertyValue("-moz-"+t)||de.opera&&e.getPropertyValue("-o-"+t)||de.msie&&e.getPropertyValue("-ms-"+t);}function x(e,t,n,i){e.setProperty(t,n,i),de.webkit?e.setProperty("-webkit-"+t,n,i):de.mozilla?e.setProperty("-moz-"+t,n,i):de.opera?e.setProperty("-o-"+t,n,i):de.msie&&(e.setProperty("-ms-"+t,n,i),t="ms"+t.replace(/(^|-)([a-z])/g,function(e,t,n){return t+n.toUpperCase();}),e[t]=n);}function C(e,n){return n="border-"+n,{width:t(k(e,n+"-width")),style:k(e,n+"-style"),color:h(k(e,n+"-color"),!0)};}function S(e,t){var n=e.style.cssText,i=t();return e.style.cssText=n,i;}function T(e,n){var i=k(e,"border-"+n+"-radius").split(/\s+/g).map(t);return 1==i.length&&i.push(i[0]),z({x:i[0],y:i[1]});}function D(e){var t=e.getBoundingClientRect();return t=A(t,"border-*-width",e),t=A(t,"padding-*",e);}function A(e,n,i){var o,r,a,s,l;return"string"==typeof n?(o=y(i),r=t(k(o,n.replace("*","top"))),a=t(k(o,n.replace("*","right"))),s=t(k(o,n.replace("*","bottom"))),l=t(k(o,n.replace("*","left")))):"number"==typeof n&&(r=a=s=l=n),{top:e.top+r,right:e.right-a,bottom:e.bottom-s,left:e.left+l,width:e.right-e.left-a-l,height:e.bottom-e.top-s-r};}function E(e){var n,i,o=k(e,"transform");return"none"==o?null:(n=/^\s*matrix\(\s*(.*?)\s*\)\s*$/.exec(o),n?(i=k(e,"transform-origin"),n=n[1].split(/\s*,\s*/g).map(t),i=i.split(/\s+/g).map(t),{matrix:n,origin:i}):void 0);}function R(e){return 180*e/n.PI%360;}function I(e){var i=t(e);return /grad$/.test(e)?n.PI*i/200:/rad$/.test(e)?i:/turn$/.test(e)?n.PI*i*2:/deg$/.test(e)?n.PI*i/180:void 0;}function F(e,t){return t=new le.Matrix(t[0],t[1],t[2],t[3],t[4],t[5]),e.transform(t),t;}function M(e,t){e.clip(t);}function P(e,t,n,i){for(var o=new le.Arc([t,n],i).curvePoints(),r=1;o.length>r;){e.curveTo(o[r++],o[r++],o[r++]);}}function z(e){return(0>=e.x||0>=e.y)&&(e.x=e.y=0),e;}function B(e,t,i,o,r){var a=n.max(0,t.x),s=n.max(0,t.y),l=n.max(0,i.x),c=n.max(0,i.y),d=n.max(0,o.x),u=n.max(0,o.y),h=n.max(0,r.x),f=n.max(0,r.y),p=n.min(e.width/(a+l),e.height/(c+u),e.width/(d+h),e.height/(f+s));return 1>p&&(a*=p,s*=p,l*=p,c*=p,d*=p,u*=p,h*=p,f*=p),{tl:{x:a,y:s},tr:{x:l,y:c},br:{x:d,y:u},bl:{x:h,y:f}};}function L(e,n,i){var o,r,a,s,l,c,d,u,h=y(e),f=T(h,"top-left"),p=T(h,"top-right"),m=T(h,"bottom-left"),g=T(h,"bottom-right");return"padding"!=i&&"content"!=i||(o=C(h,"top"),r=C(h,"right"),a=C(h,"bottom"),s=C(h,"left"),f.x-=s.width,f.y-=o.width,p.x-=r.width,p.y-=o.width,g.x-=r.width,g.y-=a.width,m.x-=s.width,m.y-=a.width,"content"==i&&(l=t(k(h,"padding-top")),c=t(k(h,"padding-right")),d=t(k(h,"padding-bottom")),u=t(k(h,"padding-left")),f.x-=u,f.y-=l,p.x-=c,p.y-=l,g.x-=c,g.y-=d,m.x-=u,m.y-=d)),"number"==typeof i&&(f.x-=i,f.y-=i,p.x-=i,p.y-=i,g.x-=i,g.y-=i,m.x-=i,m.y-=i),H(n,f,p,g,m);}function H(e,t,n,i,o){var r=B(e,t,n,i,o),a=r.tl,s=r.tr,l=r.br,c=r.bl,d=new se.Path({fill:null,stroke:null});return d.moveTo(e.left,e.top+a.y),a.x&&P(d,e.left+a.x,e.top+a.y,{startAngle:-180,endAngle:-90,radiusX:a.x,radiusY:a.y}),d.lineTo(e.right-s.x,e.top),s.x&&P(d,e.right-s.x,e.top+s.y,{startAngle:-90,endAngle:0,radiusX:s.x,radiusY:s.y}),d.lineTo(e.right,e.bottom-l.y),l.x&&P(d,e.right-l.x,e.bottom-l.y,{startAngle:0,endAngle:90,radiusX:l.x,radiusY:l.y}),d.lineTo(e.left+c.x,e.bottom),c.x&&P(d,e.left+c.x,e.bottom-c.y,{startAngle:90,endAngle:180,radiusX:c.x,radiusY:c.y}),d.close();}function N(e,n){var i=t(e)+"";switch(n){case"decimal-leading-zero":return 2>i.length&&(i="0"+i),i;case"lower-roman":return ue(e).toLowerCase();case"upper-roman":return ue(e).toUpperCase();case"lower-latin":case"lower-alpha":return m(e-1);case"upper-latin":case"upper-alpha":return m(e-1).toUpperCase();default:return i;}}function O(e,t){function n(e,t,n){return n?(n=n.replace(/^\s*(["'])(.*)\1\s*$/,"$2"),l(e).map(function(e){return N(e,t);}).join(n)):N(s(e)||0,t);}var i,o=re(t,/^\s+/),r=[];return o.forEach(function(t){var o;(i=/^\s*(["'])(.*)\1\s*$/.exec(t))?r.push(i[2].replace(/\\([0-9a-f]{4})/gi,function(e,t){return String.fromCharCode(parseInt(t,16));})):(i=/^\s*counter\((.*?)\)\s*$/.exec(t))?(o=re(i[1]),r.push(n(o[0],o[1]))):(i=/^\s*counters\((.*?)\)\s*$/.exec(t))?(o=re(i[1]),r.push(n(o[0],o[2],o[1]))):r.push((i=/^\s*attr\((.*?)\)\s*$/.exec(t))?e.getAttribute(i[1])||"":t);}),r.join("");}function V(e){var t,n;if(e.cssText)return e.cssText;for(t=[],n=0;e.length>n;++n){t.push(e[n]+": "+k(e,e[n]));}return t.join(";\n");}function U(e,t){function n(t,n){var o,r=y(e,t);r.content&&"normal"!=r.content&&"none"!=r.content&&"0px"!=r.width&&(o=e.ownerDocument.createElement(he),o.style.cssText=V(r),o.textContent=O(e,r.content),e.insertBefore(o,n),i.push(o));}var i,o;return e.tagName==he?void W(e,t):(i=[],n(":before",e.firstChild),n(":after",null),o=e.className,e.className+=" kendo-pdf-hide-pseudo-elements",W(e,t),e.className=o,void i.forEach(function(t){e.removeChild(t);}));}function W(i,o){function r(e){var t,n,o,r,a,s;if(/^td$/i.test(i.tagName)&&(t=pe.table,t&&"collapse"==k(t.style,"border-collapse"))){if(n=C(t.style,"left").width,o=C(t.style,"top").width,0===n&&0===o)return e;if(r=t.element.getBoundingClientRect(),a=t.element.rows[0].cells[0],s=a.getBoundingClientRect(),s.top==r.top||s.left==r.left)return ce.call(e).map(function(e){return{left:e.left+n,top:e.top+o,right:e.right+n,bottom:e.bottom+o,height:e.height,width:e.width};});}return e;}function a(e,t,i,r,a,s,l,c){function d(t,o,r){var a=n.PI/2*t/(t+i),s={x:o.x-t,y:o.y-i},l=new se.Path({fill:{color:e},stroke:null}).moveTo(0,0);F(l,r),P(l,0,o.y,{startAngle:-90,endAngle:-R(a),radiusX:o.x,radiusY:o.y}),s.x>0&&s.y>0?(l.lineTo(s.x*n.cos(a),o.y-s.y*n.sin(a)),P(l,0,o.y,{startAngle:-R(a),endAngle:-90,radiusX:s.x,radiusY:s.y,anticlockwise:!0})):s.x>0?l.lineTo(s.x,i).lineTo(0,i):l.lineTo(s.x,i).lineTo(s.x,0),h.append(l.close());}if(!(0>=i)){var u,h=new se.Group();F(h,c),o.append(h),z(s),z(l),u=new se.Path({fill:{color:e},stroke:null}),h.append(u),u.moveTo(s.x?n.max(s.x,r):0,0).lineTo(t-(l.x?n.max(l.x,a):0),0).lineTo(t-n.max(l.x,a),i).lineTo(n.max(s.x,r),i).close(),s.x&&d(r,s,[-1,0,0,1,s.x,0]),l.x&&d(a,l,[1,0,0,1,t-l.x,0]);}}function s(t){var n,r,a=new se.Group();for(M(a,H(t,W,G,K,$)),o.append(a),"A"==i.tagName&&i.href&&!/^#?$/.test(e(i).attr("href"))&&(pe._avoidLinks&&e(i).is(pe._avoidLinks)||(a._pdfLink={url:i.href,top:t.top,right:t.right,bottom:t.bottom,left:t.left})),X&&(n=new se.Path({fill:{color:X.toCssRgba()},stroke:null}),n.moveTo(t.left,t.top).lineTo(t.right,t.top).lineTo(t.right,t.bottom).lineTo(t.left,t.bottom).close(),a.append(n)),r=u.length;--r>=0;){l(a,t,u[r],f[r%f.length],p[r%p.length],g[r%g.length],v[r%v.length]);}}function l(e,o,r,a,s,l,c){function d(e,o,r,d,u){function h(){for(;_.origin.x>o.left;){_.origin.x-=r;}}function f(){for(;_.origin.y>o.top;){_.origin.y-=d;}}function p(){for(;o.right>_.origin.x;){u(e,_.clone()),_.origin.x+=r;}}var m,g,v,_,b,w=r/d,y=o;if("content-box"==l?(y=A(y,"border-*-width",i),y=A(y,"padding-*",i)):"padding-box"==l&&(y=A(y,"border-*-width",i)),/^\s*auto(\s+auto)?\s*$/.test(c)||("contain"==c?(m=n.min(y.width/r,y.height/d),r*=m,d*=m):"cover"==c?(m=n.max(y.width/r,y.height/d),r*=m,d*=m):(g=c.split(/\s+/g),r=/%$/.test(g[0])?y.width*t(g[0])/100:t(g[0]),d=1==g.length||"auto"==g[1]?r/w:/%$/.test(g[1])?y.height*t(g[1])/100:t(g[1]))),v=(s+"").split(/\s+/),1==v.length&&(v[1]="50%"),v[0]=/%$/.test(v[0])?t(v[0])/100*(y.width-r):t(v[0]),v[1]=/%$/.test(v[1])?t(v[1])/100*(y.height-d):t(v[1]),_=new le.Rect([y.left+v[0],y.top+v[1]],[r,d]),"no-repeat"==a)u(e,_);else if("repeat-x"==a)h(),p();else if("repeat-y"==a)for(f();o.bottom>_.origin.y;){u(e,_.clone()),_.origin.y+=d;}else if("repeat"==a)for(h(),f(),b=_.origin.clone();o.bottom>_.origin.y;){_.origin.x=b.x,p(),_.origin.y+=d;}}if(r&&"none"!=r)if("url"==r.type){if(/^url\(\"data:image\/svg/i.test(r.url))return;var u=fe[r.url];u&&u.width>0&&u.height>0&&d(e,o,u.width,u.height,function(e,t){e.append(new se.Image(r.url,t));});}else{if("linear"!=r.type)return;d(e,o,o.width,o.height,j(r));}}function c(){function e(e){S(i,function(){i.style.position="relative";var t=i.ownerDocument.createElement(he);t.style.position="absolute",t.style.boxSizing="border-box","outside"==n?(t.style.width="6em",t.style.left="-6.8em",t.style.textAlign="right"):t.style.left="0px",e(t),i.insertBefore(t,i.firstChild),te(t,o),i.removeChild(t);});}function t(e){var t,n=i.parentNode.children,o=i.getAttribute("kendo-split-index");if(null!=o)return e(0|o,n.length);for(t=0;n.length>t;++t){if(n[t]===i)return e(t,n.length);}}var n,r=k(I,"list-style-type");if("none"!=r)switch(n=k(I,"list-style-position"),r){case"circle":case"disc":case"square":e(function(e){e.style.fontSize="60%",e.style.lineHeight="200%",e.style.paddingRight="0.5em",e.style.fontFamily="DejaVu Serif",e.innerHTML={disc:"",circle:"",square:""}[r];});break;case"decimal":case"decimal-leading-zero":e(function(e){t(function(t){++t,"decimal-leading-zero"==r&&2>(t+"").length&&(t="0"+t),e.innerHTML=t+".";});});break;case"lower-roman":case"upper-roman":e(function(e){t(function(t){t=ue(t+1),"upper-roman"==r&&(t=t.toUpperCase()),e.innerHTML=t+".";});});break;case"lower-latin":case"lower-alpha":case"upper-latin":case"upper-alpha":e(function(e){t(function(t){t=m(t),/^upper/i.test(r)&&(t=t.toUpperCase()),e.innerHTML=t+".";});});}}function d(e,t,n){function r(e){return{x:e.y,y:e.x};}var l,c,d,u,h,f,p,m;if(0!==e.width&&0!==e.height&&(s(e),l=U.width>0&&(t&&"ltr"==Q||n&&"rtl"==Q),c=O.width>0&&(n&&"ltr"==Q||t&&"rtl"==Q),0!==N.width||0!==U.width||0!==O.width||0!==V.width)){if(N.color==O.color&&N.color==V.color&&N.color==U.color&&N.width==O.width&&N.width==V.width&&N.width==U.width&&l&&c)return e=A(e,N.width/2),d=L(i,e,N.width/2),d.options.stroke={color:N.color,width:N.width},void o.append(d);if(0===W.x&&0===G.x&&0===K.x&&0===$.x&&2>N.width&&2>U.width&&2>O.width&&2>V.width)return N.width>0&&o.append(new se.Path({stroke:{width:N.width,color:N.color}}).moveTo(e.left,e.top+N.width/2).lineTo(e.right,e.top+N.width/2)),V.width>0&&o.append(new se.Path({stroke:{width:V.width,color:V.color}}).moveTo(e.left,e.bottom-V.width/2).lineTo(e.right,e.bottom-V.width/2)),l&&o.append(new se.Path({stroke:{width:U.width,color:U.color}}).moveTo(e.left+U.width/2,e.top).lineTo(e.left+U.width/2,e.bottom)),void(c&&o.append(new se.Path({stroke:{width:O.width,color:O.color}}).moveTo(e.right-O.width/2,e.top).lineTo(e.right-O.width/2,e.bottom)));u=B(e,W,G,K,$),h=u.tl,f=u.tr,p=u.br,m=u.bl,a(N.color,e.width,N.width,U.width,O.width,h,f,[1,0,0,1,e.left,e.top]),a(V.color,e.width,V.width,O.width,U.width,p,m,[-1,0,0,-1,e.right,e.bottom]),a(U.color,e.height,U.width,V.width,N.width,r(m),r(h),[0,-1,1,0,e.left,e.bottom]),a(O.color,e.height,O.width,N.width,V.width,r(f),r(p),[0,1,-1,0,e.right,e.top]);}}var u,f,p,g,v,b,w,x,D,E,I=y(i),N=C(I,"top"),O=C(I,"right"),V=C(I,"bottom"),U=C(I,"left"),W=T(I,"top-left"),G=T(I,"top-right"),$=T(I,"bottom-left"),K=T(I,"bottom-right"),Q=k(I,"direction"),X=k(I,"background-color");if(X=h(X),u=oe(k(I,"background-image")),f=re(k(I,"background-repeat")),p=re(k(I,"background-position")),g=re(k(I,"background-origin")),v=re(k(I,"background-size")),de.msie&&10>de.version&&(p=re(i.currentStyle.backgroundPosition)),b=A(i.getBoundingClientRect(),"border-*-width",i),function(){var e,n,i,r,a,s,l,c=k(I,"clip"),d=/^\s*rect\((.*)\)\s*$/.exec(c);d&&(e=d[1].split(/[ ,]+/g),n="auto"==e[0]?b.top:t(e[0])+b.top,i="auto"==e[1]?b.right:t(e[1])+b.left,r="auto"==e[2]?b.bottom:t(e[2])+b.top,a="auto"==e[3]?b.left:t(e[3])+b.left,s=new se.Group(),l=new se.Path().moveTo(a,n).lineTo(i,n).lineTo(i,r).lineTo(a,r).close(),M(s,l),o.append(s),o=s,_(l));}(),E=k(I,"display"),"table-row"==E)for(w=[],x=0,D=i.children;D.length>x;++x){w.push(D[x].getBoundingClientRect());}else w=i.getClientRects(),1==w.length&&(w=[i.getBoundingClientRect()]);for(w=r(w),x=0;w.length>x;++x){d(w[x],0===x,x==w.length-1);}return w.length>0&&"list-item"==E&&c(w[0]),function(){function e(){var e=L(i,b,"padding"),t=new se.Group();M(t,e),o.append(t),o=t,_(e);}Y(i)?e():/^(hidden|auto|scroll)/.test(k(I,"overflow"))?e():/^(hidden|auto|scroll)/.test(k(I,"overflow-x"))?e():/^(hidden|auto|scroll)/.test(k(I,"overflow-y"))&&e();}(),q(i,o)||J(i,o),o;}function j(e){return function(i,o){var r,a,s,l,c,d,u,h,f,p,m,g,v,_=o.width(),b=o.height();switch(e.type){case"linear":switch(r=null!=e.angle?e.angle:n.PI,e.to){case"top":r=0;break;case"left":r=-n.PI/2;break;case"bottom":r=n.PI;break;case"right":r=n.PI/2;break;case"top left":case"left top":r=-n.atan2(b,_);break;case"top right":case"right top":r=n.atan2(b,_);break;case"bottom left":case"left bottom":r=n.PI+n.atan2(b,_);break;case"bottom right":case"right bottom":r=n.PI-n.atan2(b,_);}e.reverse&&(r-=n.PI),r%=2*n.PI,0>r&&(r+=2*n.PI),a=n.abs(_*n.sin(r))+n.abs(b*n.cos(r)),s=n.atan(_*n.tan(r)/b),l=n.sin(s),c=n.cos(s),d=n.abs(l)+n.abs(c),u=d/2*l,h=d/2*c,r>n.PI/2&&3*n.PI/2>=r&&(u=-u,h=-h),f=[],p=0,m=e.stops.map(function(n,i){var o,r=n.percent;return r?r=t(r)/100:n.length?r=t(n.length)/a:0===i?r=0:i==e.stops.length-1&&(r=1),o={color:n.color.toCssRgba(),offset:r},null!=r?(p=r,f.forEach(function(e,t){var n=e.stop;n.offset=e.left+(p-e.left)*(t+1)/(f.length+1);}),f=[]):f.push({left:p,stop:o}),o;}),g=[.5-u,.5+h],v=[.5+u,.5-h],i.append(se.Path.fromRect(o).stroke(null).fill(new se.LinearGradient({start:g,end:v,stops:m,userSpace:!1})));break;case"radial":window.console&&window.console.log&&window.console.log("Radial gradients are not yet supported in HTML renderer");}};}function q(t,n){var i,o,r,a;return t.getAttribute(kendo.attr("role"))&&(i=kendo.widgetInstance(e(t)),i&&(i.exportDOMVisual||i.exportVisual))?(o=i.exportDOMVisual?i.exportDOMVisual():i.exportVisual())?(r=new se.Group(),r.children.push(o),a=t.getBoundingClientRect(),r.transform(le.transform().translate(a.left,a.top)),n.append(r),!0):!1:void 0;}function G(e,t,n){var i=D(e),o=new le.Rect([i.left,i.top],[i.width,i.height]),r=new se.Image(t,o);M(r,L(e,i,"content")),n.append(r);}function $(e,n){var i=y(e),o=y(n),r=t(k(i,"z-index")),a=t(k(o,"z-index")),s=k(i,"position"),l=k(o,"position");return isNaN(r)&&isNaN(a)?/static|absolute/.test(s)&&/static|absolute/.test(l)?0:"static"==s?-1:"static"==l?1:0:isNaN(r)?0===a?0:a>0?-1:1:isNaN(a)?0===r?0:r>0?1:-1:t(r)-t(a);}function Y(e){return /^(?:textarea|select|input)$/i.test(e.tagName);}function K(e){return e.selectedOptions&&e.selectedOptions.length>0?e.selectedOptions[0]:e.options[e.selectedIndex];}function Q(e,t){var i=y(e),o=k(i,"color"),r=e.getBoundingClientRect();"checkbox"==e.type?(t.append(se.Path.fromRect(new le.Rect([r.left+1,r.top+1],[r.width-2,r.height-2])).stroke(o,1)),e.checked&&t.append(new se.Path().stroke(o,1.2).moveTo(r.left+.22*r.width,r.top+.55*r.height).lineTo(r.left+.45*r.width,r.top+.75*r.height).lineTo(r.left+.78*r.width,r.top+.22*r.width))):(t.append(new se.Circle(new le.Circle([(r.left+r.right)/2,(r.top+r.bottom)/2],n.min(r.width-2,r.height-2)/2)).stroke(o,1)),e.checked&&t.append(new se.Circle(new le.Circle([(r.left+r.right)/2,(r.top+r.bottom)/2],n.min(r.width-8,r.height-8)/2)).fill(o).stroke(null)));}function X(e,t){var n,i,o,r,a,s=e.tagName.toLowerCase();if("input"==s&&("checkbox"==e.type||"radio"==e.type))return Q(e,t);if(n=e.parentNode,i=e.ownerDocument,o=i.createElement(he),o.style.cssText=V(y(e)),"input"==s&&(o.style.whiteSpace="pre"),"select"!=s&&"textarea"!=s||(o.style.overflow="auto"),"select"==s){if(e.multiple)for(a=0;e.options.length>a;++a){r=i.createElement(he),r.style.cssText=V(y(e.options[a])),r.style.display="block",r.textContent=e.options[a].textContent,o.appendChild(r);}else r=K(e),r&&(o.textContent=r.textContent);}else o.textContent=e.value;n.insertBefore(o,e),o.scrollLeft=e.scrollLeft,o.scrollTop=e.scrollTop,e.style.display="none",J(o,t),e.style.display="",n.removeChild(o);}function J(e,t){var n,i,o,r,a,s,l,c,d;switch(pe._stackingContext.element===e&&(pe._stackingContext.group=t),e.tagName.toLowerCase()){case"img":G(e,e.src,t);break;case"canvas":try{G(e,e.toDataURL("image/png"),t);}catch(u){}break;case"textarea":case"input":case"select":X(e,t);break;default:for(n=[],i=[],o=[],r=[],a=e.firstChild;a;a=a.nextSibling){switch(a.nodeType){case 3:/\S/.test(a.data)&&Z(e,a,t);break;case 1:s=y(a),l=k(s,"display"),c=k(s,"float"),d=k(s,"position"),"static"!=d?r.push(a):"inline"!=l?"none"!=c?i.push(a):n.push(a):o.push(a);}}n.sort($).forEach(function(e){te(e,t);}),i.sort($).forEach(function(e){te(e,t);}),o.sort($).forEach(function(e){te(e,t);}),r.sort($).forEach(function(e){te(e,t);});}}function Z(e,i,o){function r(e){var t,i,o,r;if(de.msie||de.chrome){for(t=e.getClientRects(),i={top:+(1/0),right:-(1/0),bottom:-(1/0),left:+(1/0)},o=0;t.length>o;++o){r=t[o],1>=r.width||r.bottom===D||(i.left=n.min(r.left,i.left),i.top=n.min(r.top,i.top),i.right=n.max(r.right,i.right),i.bottom=n.max(r.bottom,i.bottom));}return i.width=i.right-i.left,i.height=i.bottom-i.top,i;}return e.getBoundingClientRect();}function a(){var e,t,o,a,l,c,f,p=u,m=d.substr(u).search(/\S/);if(u+=m,0>m||u>=h)return!0;if(v.setStart(i,u),v.setEnd(i,u+1),e=r(v),t=!1,w&&(m=d.substr(u).search(/\s/),m>=0&&(v.setEnd(i,u+m),o=r(v),o.bottom==e.bottom&&(e=o,t=!0,u+=m))),!t){if(m=function g(t,n,o){v.setEnd(i,n);var a=r(v);return a.bottom!=e.bottom&&n>t?g(t,t+n>>1,n):a.right!=e.right?(e=a,o>n?g(n,n+o>>1,o):n):n;}(u,n.min(h,u+T),h),m==u)return!0;if(u=m,m=(""+v).search(/\s+$/),0===m)return;m>0&&(v.setEnd(i,v.startOffset+m),e=r(v));}if(de.msie&&(e=v.getClientRects()[0]),a=""+v,/^(?:pre|pre-wrap)$/i.test(x)){if(/\t/.test(a)){for(l=0,m=p;v.startOffset>m;++m){c=d.charCodeAt(m),9==c?l+=8-l%8:10==c||13==c?l=0:l++;}for(;(m=a.search("	"))>=0;){f="        ".substr(0,8-(l+m)%8),a=a.substr(0,m)+f+a.substr(m+1);}}}else a=a.replace(/\s+/g," ");t||(D=e.bottom),s(a,e);}function s(e,t){var n,i,r;de.msie&&!isNaN(p)&&(n=kendo.util.measureText(e,{font:m}),i=(t.top+t.bottom-n.height)/2,t={top:i,right:t.right,bottom:i+n.height,left:t.left,height:n.height,width:t.right-t.left}),r=new ie(e,new le.Rect([t.left,t.top],[t.width,t.height]),{font:m,fill:{color:g}}),o.append(r),l(t);}function l(e){function t(t,n){var i,r;t&&(i=f/12,r=new se.Path({stroke:{width:i,color:t}}),n-=i,r.moveTo(e.left,n).lineTo(e.right,n),o.append(r));}t(pe.underline,e.bottom),t(pe["line-through"],e.bottom-e.height/2.7),t(pe.overline,e.top);}var c,d,u,h,f,p,m,g,v,_,w,x,C,S,T,D;if(!b()&&(c=y(e),!(t(k(c,"text-indent"))<-500)&&(d=i.data,u=0,h=d.search(/\S\s*$/)+1,h&&(f=k(c,"font-size"),p=k(c,"line-height"),m=[k(c,"font-style"),k(c,"font-variant"),k(c,"font-weight"),f,k(c,"font-family")].join(" "),f=t(f),p=t(p),0!==f)))){for(g=k(c,"color"),v=e.ownerDocument.createRange(),_=k(c,"text-align"),w="justify"==_,x=k(c,"white-space"),de.msie&&(C=c.textOverflow,"ellipsis"==C&&(S=e.style.textOverflow,e.style.textOverflow="clip")),T=e.getBoundingClientRect().width/f*5,0===T&&(T=500),D=null;!a();){}de.msie&&"ellipsis"==C&&(e.style.textOverflow=S);}}function ee(e,n,i){var o,r,a,s,l,c;for("auto"!=i?(o=pe._stackingContext.group,i=t(i)):(o=n,i=0),r=o.children,a=0;r.length>a&&!(null!=r[a]._dom_zIndex&&r[a]._dom_zIndex>i);++a){}return s=new se.Group(),o.insertAt(s,a),s._dom_zIndex=i,o!==n&&pe._clipbox&&(l=pe._matrix.invert(),c=pe._clipbox.transformCopy(l),M(s,se.Path.fromRect(c))),s;}function te(e,n){var i,o,r,a,s,l,h,f=y(e),p=k(f,"counter-reset");p&&u(re(p,/^\s+/),d,0),i=k(f,"counter-increment"),i&&u(re(i,/^\s+/),c,1),/^(style|script|link|meta|iframe|svg|col|colgroup)$/i.test(e.tagName)||null!=pe._clipbox&&(o=t(k(f,"opacity")),r=k(f,"visibility"),a=k(f,"display"),0!==o&&"hidden"!=r&&"none"!=a&&(s=E(f),h=k(f,"z-index"),(s||1>o)&&"auto"==h&&(h=0),l=ee(e,n,h),1>o&&l.opacity(o*l.opacity()),g(e,f,l),s?S(e,function(){var t,n,i,o;x(e.style,"transform","none","important"),x(e.style,"transition","none","important"),"static"==k(f,"position")&&x(e.style,"position","relative","important"),t=e.getBoundingClientRect(),n=t.left+s.origin[0],i=t.top+s.origin[1],o=[1,0,0,1,-n,-i],o=ne(o,s.matrix),o=ne(o,[1,0,0,1,n,i]),o=F(l,o),pe._matrix=pe._matrix.multiplyCopy(o),U(e,l);}):U(e,l),v()));}function ne(e,t){var n=e[0],i=e[1],o=e[2],r=e[3],a=e[4],s=e[5],l=t[0],c=t[1],d=t[2],u=t[3],h=t[4],f=t[5];return[n*l+i*d,n*c+i*u,o*l+r*d,o*c+r*u,a*l+s*d+h,a*c+s*u+f];}var ie,oe,re,ae,se=kendo.drawing,le=kendo.geometry,ce=Array.prototype.slice,de=kendo.support.browser,ue=kendo.util.arabicToRoman,he="KENDO-PSEUDO-ELEMENT",fe={},pe={};pe._root=pe,ie=se.Text.extend({nodeType:"Text",init:function init(e,t,n){se.Text.fn.init.call(this,e,t.getOrigin(),n),this._pdfRect=t;},rect:function rect(){return this._pdfRect;},rawBBox:function rawBBox(){return this._pdfRect;}}),se.drawDOM=o,o.getFontFaces=r,oe=function(){function e(e){function p(){var t=s.exec(e);t&&(e=e.substr(t[1].length));}function m(t){p();var n=t.exec(e);return n?(e=e.substr(n[1].length),n[1]):void 0;}function g(){var t,o,r=kendo.parseColor(e,!0);return r?(e=e.substr(r.match[0].length),r=r.toRGB(),(t=m(i))||(o=m(n)),{color:r,length:t,percent:o}):void 0;}function v(t){var i,a,s,u,h,f,p=[],v=!1;if(m(l)){for(i=m(r),i?(i=I(i),m(d)):(a=m(o),"to"==a?a=m(o):a&&/^-/.test(t)&&(v=!0),s=m(o),m(d)),/-moz-/.test(t)&&null==i&&null==a&&(u=m(n),h=m(n),v=!0,"0%"==u?a="left":"100%"==u&&(a="right"),"0%"==h?s="top":"100%"==h&&(s="bottom"),m(d));e&&!m(c)&&(f=g());){p.push(f),m(d);}return{type:"linear",angle:i,to:a&&s?a+" "+s:a?a:s?s:null,stops:p,reverse:v};}}function _(){if(m(l)){var e=m(h);return e=e.replace(/^['"]+|["']+$/g,""),m(c),{type:"url",url:e};}}var b,w=e;return a(f,w)?f[w]:((b=m(t))?b=v(b):(b=m(u))&&(b=_()),f[w]=b||{type:"none"});}var t=/^((-webkit-|-moz-|-o-|-ms-)?linear-gradient\s*)\(/,n=/^([-0-9.]+%)/,i=/^([-0-9.]+px)/,o=/^(left|right|top|bottom|to|center)\W/,r=/^([-0-9.]+(deg|grad|rad|turn))/,s=/^(\s+)/,l=/^(\()/,c=/^(\))/,d=/^(,)/,u=/^(url)\(/,h=/^(.*?)\)/,f={},p={};return function(t){return a(p,t)?p[t]:p[t]=re(t).map(e);};}(),re=function(){var e={};return function(t,n){function i(e){return h=e.exec(t.substr(c));}function o(e){return e.replace(/^\s+|\s+$/g,"");}var r,s,l,c,d,u,h;if(n||(n=/^\s*,\s*/),r=t+n,a(e,r))return e[r];for(s=[],l=0,c=0,d=0,u=!1;t.length>c;){!u&&i(/^[\(\[\{]/)?(d++,c++):!u&&i(/^[\)\]\}]/)?(d--,c++):!u&&i(/^[\"\']/)?(u=h[0],c++):"'"==u&&i(/^\\\'/)?c+=2:'"'==u&&i(/^\\\"/)?c+=2:"'"==u&&i(/^\'/)?(u=!1,c++):'"'==u&&i(/^\"/)?(u=!1,c++):i(n)?(!u&&!d&&c>l&&(s.push(o(t.substring(l,c))),l=c+h[0].length),c+=h[0].length):c++;}return c>l&&s.push(o(t.substring(l,c))),e[r]=s;};}(),ae=function(){var e={};return function(t){var n,i=e[t];return i||((n=/url\((['"]?)([^'")]*?)\1\)\s+format\((['"]?)truetype\3\)/.exec(t))?i=e[t]=n[2]:(n=/url\((['"]?)([^'")]*?\.ttf)\1\)/.exec(t))&&(i=e[t]=n[2])),i;};}();}(window.kendo.jQuery,parseFloat,Math);},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("drawing/animation.min",["drawing/geometry.min","drawing/core.min"],e);}(function(){!function(e){var t=e.noop,n=window.kendo,i=n.Class,o=n.util,r=n.animationFrame,a=n.deepExtend,s=i.extend({init:function init(e,t){var n=this;n.options=a({},n.options,t),n.element=e;},options:{duration:500,easing:"swing"},setup:t,step:t,play:function play(){var t=this,n=t.options,i=e.easing[n.easing],a=n.duration,s=n.delay||0,l=o.now()+s,c=l+a;0===a?(t.step(1),t.abort()):setTimeout(function(){var e=function e(){var n,s,d,u;t._stopped||(n=o.now(),s=o.limitValue(n-l,0,a),d=s/a,u=i(d,s,0,1,a),t.step(u),c>n?r(e):t.abort());};e();},s);},abort:function abort(){this._stopped=!0;},destroy:function destroy(){this.abort();}}),l=function l(){this._items=[];};l.prototype={register:function register(e,t){this._items.push({name:e,type:t});},create:function create(e,t){var n,i,o,r=this._items;if(t&&t.type)for(i=t.type.toLowerCase(),o=0;r.length>o;o++){if(r[o].name.toLowerCase()===i){n=r[o];break;}}return n?new n.type(e,t):void 0;}},l.current=new l(),s.create=function(e,t,n){return l.current.create(e,t,n);},a(n.drawing,{Animation:s,AnimationFactory:l});}(window.kendo.jQuery);},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("kendo.drawing.min",["kendo.color.min","util/main.min","util/text-metrics.min","util/base64.min","mixins/observers.min","drawing/geometry.min","drawing/core.min","drawing/mixins.min","drawing/shapes.min","drawing/parser.min","drawing/search.min","drawing/svg.min","drawing/canvas.min","drawing/vml.min","drawing/html.min","drawing/animation.min"],e);}(function(){},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("kendo.validator.min",["kendo.core.min"],e);}(function(){return function(e,t){function n(t){var n,i=l.ui.validator.ruleResolvers||{},o={};for(n in i){e.extend(!0,o,i[n].resolve(t));}return o;}function i(e){return e.replace(/&amp/g,"&amp;").replace(/&quot;/g,'"').replace(/&#39;/g,"'").replace(/&lt;/g,"<").replace(/&gt;/g,">");}function o(e){return e=(e+"").split("."),e.length>1?e[1].length:0;}function r(t){return e(e.parseHTML?e.parseHTML(t):t);}function a(t,n){var i,o,r,a,s=e();for(r=0,a=t.length;a>r;r++){i=t[r],h.test(i.className)&&(o=i.getAttribute(l.attr("for")),o===n&&(s=s.add(i)));}return s;}var s,l=window.kendo,c=l.ui.Widget,d=".kendoValidator",u="k-invalid-msg",h=RegExp(u,"i"),f="k-invalid",p="k-valid",m=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i,g=/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,v=":input:not(:button,[type=submit],[type=reset],[disabled],[readonly])",_=":checkbox:not([disabled],[readonly])",b="[type=number],[type=range]",w="blur",y="name",k="form",x="novalidate",C=e.proxy,S=function S(e,t){return"string"==typeof t&&(t=RegExp("^(?:"+t+")$")),t.test(e);},T=function T(e,t,n){var i=e.val();return e.filter(t).length&&""!==i?S(i,n):!0;},D=function D(e,t){return e.length?null!=e[0].attributes[t]:!1;};l.ui.validator||(l.ui.validator={rules:{},messages:{}}),s=c.extend({init:function init(t,i){var o=this,r=n(t),a="["+l.attr("validate")+"!=false]";i=i||{},i.rules=e.extend({},l.ui.validator.rules,r.rules,i.rules),i.messages=e.extend({},l.ui.validator.messages,r.messages,i.messages),c.fn.init.call(o,t,i),o._errorTemplate=l.template(o.options.errorTemplate),o.element.is(k)&&o.element.attr(x,x),o._inputSelector=v+a,o._checkboxSelector=_+a,o._errors={},o._attachEvents(),o._isValidated=!1;},events:["validate","change"],options:{name:"Validator",errorTemplate:'<span class="k-widget k-tooltip k-tooltip-validation"><span class="k-icon k-warning"> </span> #=message#</span>',messages:{required:"{0} is required",pattern:"{0} is not valid",min:"{0} should be greater than or equal to {1}",max:"{0} should be smaller than or equal to {1}",step:"{0} is not valid",email:"{0} is not valid email",url:"{0} is not valid URL",date:"{0} is not valid date",dateCompare:"End date should be greater than or equal to the start date"},rules:{required:function required(e){var t=e.filter("[type=checkbox]").length&&!e.is(":checked"),n=e.val();return!(D(e,"required")&&(""===n||!n||t));},pattern:function pattern(e){return e.filter("[type=text],[type=email],[type=url],[type=tel],[type=search],[type=password]").filter("[pattern]").length&&""!==e.val()?S(e.val(),e.attr("pattern")):!0;},min:function min(e){if(e.filter(b+",["+l.attr("type")+"=number]").filter("[min]").length&&""!==e.val()){var t=parseFloat(e.attr("min"))||0,n=l.parseFloat(e.val());return n>=t;}return!0;},max:function max(e){if(e.filter(b+",["+l.attr("type")+"=number]").filter("[max]").length&&""!==e.val()){var t=parseFloat(e.attr("max"))||0,n=l.parseFloat(e.val());return t>=n;}return!0;},step:function step(e){if(e.filter(b+",["+l.attr("type")+"=number]").filter("[step]").length&&""!==e.val()){var t,n=parseFloat(e.attr("min"))||0,i=parseFloat(e.attr("step"))||1,r=parseFloat(e.val()),a=o(i);return a?(t=Math.pow(10,a),Math.floor((r-n)*t)%(i*t)/Math.pow(100,a)===0):(r-n)%i===0;}return!0;},email:function email(e){return T(e,"[type=email],["+l.attr("type")+"=email]",m);},url:function url(e){return T(e,"[type=url],["+l.attr("type")+"=url]",g);},date:function date(e){return e.filter("[type^=date],["+l.attr("type")+"=date]").length&&""!==e.val()?null!==l.parseDate(e.val(),e.attr(l.attr("format"))):!0;}},validateOnBlur:!0},destroy:function destroy(){c.fn.destroy.call(this),this.element.off(d);},value:function value(){return this._isValidated?0===this.errors().length:!1;},_submit:function _submit(e){return this.validate()?!0:(e.stopPropagation(),e.stopImmediatePropagation(),e.preventDefault(),!1);},_checkElement:function _checkElement(e){var t=this.value();this.validateInput(e),this.value()!==t&&this.trigger("change");},_attachEvents:function _attachEvents(){var t=this;t.element.is(k)&&t.element.on("submit"+d,C(t._submit,t)),t.options.validateOnBlur&&(t.element.is(v)?(t.element.on(w+d,function(){t._checkElement(t.element);}),t.element.is(_)&&t.element.on("click"+d,function(){t._checkElement(t.element);})):(t.element.on(w+d,t._inputSelector,function(){t._checkElement(e(this));}),t.element.on("click"+d,t._checkboxSelector,function(){t._checkElement(e(this));})));},validate:function validate(){var e,t,n,i,o=!1,r=this.value();if(this._errors={},this.element.is(v))o=this.validateInput(this.element);else{for(i=!1,e=this.element.find(this._inputSelector),t=0,n=e.length;n>t;t++){this.validateInput(e.eq(t))||(i=!0);}o=!i;}return this.trigger("validate",{valid:o}),r!==o&&this.trigger("change"),o;},validateInput:function validateInput(t){var n,o,a,s,c,d,h,m,g,v;return t=e(t),this._isValidated=!0,n=this,o=n._errorTemplate,a=n._checkValidity(t),s=a.valid,c="."+u,d=t.attr(y)||"",h=n._findMessageContainer(d).add(t.next(c).filter(function(){var t=e(this);return t.filter("["+l.attr("for")+"]").length?t.attr(l.attr("for"))===d:!0;})).hide(),t.removeAttr("aria-invalid"),s?delete n._errors[d]:(m=n._extractMessage(t,a.key),n._errors[d]=m,g=r(o({message:i(m)})),v=h.attr("id"),n._decorateMessageContainer(g,d),v&&g.attr("id",v),h.replaceWith(g).length||g.insertAfter(t),g.show(),t.attr("aria-invalid",!0)),t.toggleClass(f,!s),t.toggleClass(p,s),s;},hideMessages:function hideMessages(){var e=this,t="."+u,n=e.element;n.is(v)?n.next(t).hide():n.find(t).hide();},_findMessageContainer:function _findMessageContainer(t){var n,i,o,r=l.ui.validator.messageLocators,s=e();for(i=0,o=this.element.length;o>i;i++){s=s.add(a(this.element[i].getElementsByTagName("*"),t));}for(n in r){s=s.add(r[n].locate(this.element,t));}return s;},_decorateMessageContainer:function _decorateMessageContainer(e,t){var n,i=l.ui.validator.messageLocators;e.addClass(u).attr(l.attr("for"),t||"");for(n in i){i[n].decorate(e,t);}e.attr("role","alert");},_extractMessage:function _extractMessage(e,t){var n=this,i=n.options.messages[t],o=e.attr(y);return i=l.isFunction(i)?i(e):i,l.format(e.attr(l.attr(t+"-msg"))||e.attr("validationMessage")||e.attr("title")||i||"",o,e.attr(t)||e.attr(l.attr(t)));},_checkValidity:function _checkValidity(e){var t,n=this.options.rules;for(t in n){if(!n[t].call(this,e))return{valid:!1,key:t};}return{valid:!0};},errors:function errors(){var e,t=[],n=this._errors;for(e in n){t.push(n[e]);}return t;}}),l.ui.plugin(s);}(window.kendo.jQuery),window.kendo;},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("kendo.userevents.min",["kendo.core.min"],e);}(function(){return function(e,t){function n(e,t){var n=e.x.location,i=e.y.location,o=t.x.location,r=t.y.location,a=n-o,s=i-r;return{center:{x:(n+o)/2,y:(i+r)/2},distance:Math.sqrt(a*a+s*s)};}function i(e){var t,n,i,o=[],r=e.originalEvent,s=e.currentTarget,l=0;if(e.api)o.push({id:2,event:e,target:e.target,currentTarget:e.target,location:e,type:"api"});else if(e.type.match(/touch/))for(n=r?r.changedTouches:[],t=n.length;t>l;l++){i=n[l],o.push({location:i,event:e,target:i.target,currentTarget:s,id:i.identifier,type:"touch"});}else o.push(a.pointers||a.msPointers?{location:r,event:e,target:e.target,currentTarget:s,id:r.pointerId,type:"pointer"}:{id:1,event:e,target:e.target,currentTarget:s,location:e,type:"mouse"});return o;}function o(e){for(var t=r.eventMap.up.split(" "),n=0,i=t.length;i>n;n++){e(t[n]);}}var r=window.kendo,a=r.support,s=window.document,l=r.Class,c=r.Observable,d=e.now,u=e.extend,h=a.mobileOS,f=h&&h.android,p=800,m=a.browser.msie?5:0,g="press",v="hold",_="select",b="start",w="move",y="end",k="cancel",x="tap",C="release",S="gesturestart",T="gesturechange",D="gestureend",A="gesturetap",E={api:0,touch:0,mouse:9,pointer:9},R=!a.touch||a.mouseAndTouchPresent,I=l.extend({init:function init(e,t){var n=this;n.axis=e,n._updateLocationData(t),n.startLocation=n.location,n.velocity=n.delta=0,n.timeStamp=d();},move:function move(e){var t=this,n=e["page"+t.axis],i=d(),o=i-t.timeStamp||1;!n&&f||(t.delta=n-t.location,t._updateLocationData(e),t.initialDelta=n-t.startLocation,t.velocity=t.delta/o,t.timeStamp=i);},_updateLocationData:function _updateLocationData(e){var t=this,n=t.axis;t.location=e["page"+n],t.client=e["client"+n],t.screen=e["screen"+n];}}),F=l.extend({init:function init(e,t,n){u(this,{x:new I("X",n.location),y:new I("Y",n.location),type:n.type,useClickAsTap:e.useClickAsTap,threshold:e.threshold||E[n.type],userEvents:e,target:t,currentTarget:n.currentTarget,initialTouch:n.target,id:n.id,pressEvent:n,_moved:!1,_finished:!1});},press:function press(){this._holdTimeout=setTimeout(e.proxy(this,"_hold"),this.userEvents.minHold),this._trigger(g,this.pressEvent);},_hold:function _hold(){this._trigger(v,this.pressEvent);},move:function move(e){var t=this;if(!t._finished){if(t.x.move(e.location),t.y.move(e.location),!t._moved){if(t._withinIgnoreThreshold())return;if(M.current&&M.current!==t.userEvents)return t.dispose();t._start(e);}t._finished||t._trigger(w,e);}},end:function end(e){this.endTime=d(),this._finished||(this._finished=!0,this._trigger(C,e),this._moved?this._trigger(y,e):this.useClickAsTap||this._trigger(x,e),clearTimeout(this._holdTimeout),this.dispose());},dispose:function dispose(){var t=this.userEvents,n=t.touches;this._finished=!0,this.pressEvent=null,clearTimeout(this._holdTimeout),n.splice(e.inArray(this,n),1);},skip:function skip(){this.dispose();},cancel:function cancel(){this.dispose();},isMoved:function isMoved(){return this._moved;},_start:function _start(e){clearTimeout(this._holdTimeout),this.startTime=d(),this._moved=!0,this._trigger(b,e);},_trigger:function _trigger(e,t){var n=this,i=t.event,o={touch:n,x:n.x,y:n.y,target:n.target,event:i};n.userEvents.notify(e,o)&&i.preventDefault();},_withinIgnoreThreshold:function _withinIgnoreThreshold(){var e=this.x.initialDelta,t=this.y.initialDelta;return Math.sqrt(e*e+t*t)<=this.threshold;}}),M=c.extend({init:function init(t,n){var i,l,d,h=this,f=r.guid();n=n||{},i=h.filter=n.filter,h.threshold=n.threshold||m,h.minHold=n.minHold||p,h.touches=[],h._maxTouches=n.multiTouch?2:1,h.allowSelection=n.allowSelection,h.captureUpIfMoved=n.captureUpIfMoved,h.useClickAsTap=!n.fastTap&&!a.delayedClick(),h.eventNS=f,t=e(t).handler(h),c.fn.init.call(h),u(h,{element:t,surface:e(n.global&&R?s.documentElement:n.surface||t),stopPropagation:n.stopPropagation,pressed:!1}),h.surface.handler(h).on(r.applyEventMap("move",f),"_move").on(r.applyEventMap("up cancel",f),"_end"),t.on(r.applyEventMap("down",f),i,"_start"),h.useClickAsTap&&t.on(r.applyEventMap("click",f),i,"_click"),(a.pointers||a.msPointers)&&(11>a.browser.version?t.css("-ms-touch-action","pinch-zoom double-tap-zoom"):t.css("touch-action",n.touchAction||"none")),n.preventDragEvent&&t.on(r.applyEventMap("dragstart",f),r.preventDefault),t.on(r.applyEventMap("mousedown",f),i,{root:t},"_select"),h.captureUpIfMoved&&a.eventCapture&&(l=h.surface[0],d=e.proxy(h.preventIfMoving,h),o(function(e){l.addEventListener(e,d,!0);})),h.bind([g,v,x,b,w,y,C,k,S,T,D,A,_],n);},preventIfMoving:function preventIfMoving(e){this._isMoved()&&e.preventDefault();},destroy:function destroy(){var e,t=this;t._destroyed||(t._destroyed=!0,t.captureUpIfMoved&&a.eventCapture&&(e=t.surface[0],o(function(n){e.removeEventListener(n,t.preventIfMoving);})),t.element.kendoDestroy(t.eventNS),t.surface.kendoDestroy(t.eventNS),t.element.removeData("handler"),t.surface.removeData("handler"),t._disposeAll(),t.unbind(),delete t.surface,delete t.element,delete t.currentTarget);},capture:function capture(){M.current=this;},cancel:function cancel(){this._disposeAll(),this.trigger(k);},notify:function notify(e,t){var i=this,o=i.touches;if(this._isMultiTouch()){switch(e){case w:e=T;break;case y:e=D;break;case x:e=A;}u(t,{touches:o},n(o[0],o[1]));}return this.trigger(e,u(t,{type:e}));},press:function press(e,t,n){this._apiCall("_start",e,t,n);},move:function move(e,t){this._apiCall("_move",e,t);},end:function end(e,t){this._apiCall("_end",e,t);},_isMultiTouch:function _isMultiTouch(){return this.touches.length>1;},_maxTouchesReached:function _maxTouchesReached(){return this.touches.length>=this._maxTouches;},_disposeAll:function _disposeAll(){for(var e=this.touches;e.length>0;){e.pop().dispose();}},_isMoved:function _isMoved(){return e.grep(this.touches,function(e){return e.isMoved();}).length;},_select:function _select(e){this.allowSelection&&!this.trigger(_,{event:e})||e.preventDefault();},_start:function _start(t){var n,o,r=this,a=0,s=r.filter,l=i(t),c=l.length,d=t.which;if(!(d&&d>1||r._maxTouchesReached()))for(M.current=null,r.currentTarget=t.currentTarget,r.stopPropagation&&t.stopPropagation();c>a&&!r._maxTouchesReached();a++){o=l[a],n=s?e(o.currentTarget):r.element,n.length&&(o=new F(r,n,o),r.touches.push(o),o.press(),r._isMultiTouch()&&r.notify("gesturestart",{}));}},_move:function _move(e){this._eachTouch("move",e);},_end:function _end(e){this._eachTouch("end",e);},_click:function _click(t){var n={touch:{initialTouch:t.target,target:e(t.currentTarget),endTime:d(),x:{location:t.pageX,client:t.clientX},y:{location:t.pageY,client:t.clientY}},x:t.pageX,y:t.pageY,target:e(t.currentTarget),event:t,type:"tap"};this.trigger("tap",n)&&t.preventDefault();},_eachTouch:function _eachTouch(e,t){var n,o,r,a,s=this,l={},c=i(t),d=s.touches;for(n=0;d.length>n;n++){o=d[n],l[o.id]=o;}for(n=0;c.length>n;n++){r=c[n],a=l[r.id],a&&a[e](r);}},_apiCall:function _apiCall(t,n,i,o){this[t]({api:!0,pageX:n,pageY:i,clientX:n,clientY:i,target:e(o||this.element)[0],stopPropagation:e.noop,preventDefault:e.noop});}});M.defaultThreshold=function(e){m=e;},M.minHold=function(e){p=e;},r.getTouches=i,r.touchDelta=n,r.UserEvents=M;}(window.kendo.jQuery),window.kendo;},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("kendo.draganddrop.min",["kendo.core.min","kendo.userevents.min"],e);}(function(){return function(e,t){function n(t,n){try{return e.contains(t,n)||t==n;}catch(i){return!1;}}function i(e,t){return parseInt(e.css(t),10)||0;}function o(e,t){return Math.min(Math.max(e,t.min),t.max);}function r(e,t){var n=A(e),o=n.left+i(e,"borderLeftWidth")+i(e,"paddingLeft"),r=n.top+i(e,"borderTopWidth")+i(e,"paddingTop"),a=o+e.width()-t.outerWidth(!0),s=r+e.height()-t.outerHeight(!0);return{x:{min:o,max:a},y:{min:r,max:s}};}function a(n,i,o){for(var r,a,s=0,l=i&&i.length,c=o&&o.length;n&&n.parentNode;){for(s=0;l>s;s++){if(r=i[s],r.element[0]===n)return{target:r,targetElement:n};}for(s=0;c>s;s++){if(a=o[s],e.contains(a.element[0],n)&&b.matchesSelector.call(n,a.options.filter))return{target:a,targetElement:n};}n=n.parentNode;}return t;}function s(e,t){var n,i=t.options.group,o=e[i];if(x.fn.destroy.call(t),o.length>1){for(n=0;o.length>n;n++){if(o[n]==t){o.splice(n,1);break;}}}else o.length=0,delete e[i];}function l(e){var t,n,i,o=c()[0];return e[0]===o?(n=o.scrollTop,i=o.scrollLeft,{top:n,left:i,bottom:n+y.height(),right:i+y.width()}):(t=e.offset(),t.bottom=t.top+e.height(),t.right=t.left+e.width(),t);}function c(){return e(_.support.browser.chrome?w.body:w.documentElement);}function d(t){var n,i=c();if(!t||t===w.body||t===w.documentElement)return i;for(n=e(t)[0];n&&!_.isScrollable(n)&&n!==w.body;){n=n.parentNode;}return n===w.body?i:e(n);}function u(e,t,n){var i={x:0,y:0},o=50;return o>e-n.left?i.x=-(o-(e-n.left)):o>n.right-e&&(i.x=o-(n.right-e)),o>t-n.top?i.y=-(o-(t-n.top)):o>n.bottom-t&&(i.y=o-(n.bottom-t)),i;}var h,f,p,m,g,v,_=window.kendo,b=_.support,w=window.document,y=e(window),k=_.Class,x=_.ui.Widget,C=_.Observable,S=_.UserEvents,T=e.proxy,D=e.extend,A=_.getOffset,E={},R={},I={},F=_.elementUnderCursor,M="keyup",P="change",z="dragstart",B="hold",L="drag",H="dragend",N="dragcancel",O="hintDestroyed",V="dragenter",U="dragleave",W="drop",j=C.extend({init:function init(t,n){var i=this,o=t[0];i.capture=!1,o.addEventListener?(e.each(_.eventMap.down.split(" "),function(){o.addEventListener(this,T(i._press,i),!0);}),e.each(_.eventMap.up.split(" "),function(){o.addEventListener(this,T(i._release,i),!0);})):(e.each(_.eventMap.down.split(" "),function(){o.attachEvent(this,T(i._press,i));}),e.each(_.eventMap.up.split(" "),function(){o.attachEvent(this,T(i._release,i));})),C.fn.init.call(i),i.bind(["press","release"],n||{});},captureNext:function captureNext(){this.capture=!0;},cancelCapture:function cancelCapture(){this.capture=!1;},_press:function _press(e){var t=this;t.trigger("press"),t.capture&&e.preventDefault();},_release:function _release(e){var t=this;t.trigger("release"),t.capture&&(e.preventDefault(),t.cancelCapture());}}),q=C.extend({init:function init(t){var n=this;C.fn.init.call(n),n.forcedEnabled=!1,e.extend(n,t),n.scale=1,n.horizontal?(n.measure="offsetWidth",n.scrollSize="scrollWidth",n.axis="x"):(n.measure="offsetHeight",n.scrollSize="scrollHeight",n.axis="y");},makeVirtual:function makeVirtual(){e.extend(this,{virtual:!0,forcedEnabled:!0,_virtualMin:0,_virtualMax:0});},virtualSize:function virtualSize(e,t){this._virtualMin===e&&this._virtualMax===t||(this._virtualMin=e,this._virtualMax=t,this.update());},outOfBounds:function outOfBounds(e){return e>this.max||this.min>e;},forceEnabled:function forceEnabled(){this.forcedEnabled=!0;},getSize:function getSize(){return this.container[0][this.measure];},getTotal:function getTotal(){return this.element[0][this.scrollSize];},rescale:function rescale(e){this.scale=e;},update:function update(e){var t=this,n=t.virtual?t._virtualMax:t.getTotal(),i=n*t.scale,o=t.getSize();(0!==n||t.forcedEnabled)&&(t.max=t.virtual?-t._virtualMin:0,t.size=o,t.total=i,t.min=Math.min(t.max,o-i),t.minScale=o/n,t.centerOffset=(i-o)/2,t.enabled=t.forcedEnabled||i>o,e||t.trigger(P,t));}}),G=C.extend({init:function init(e){var t=this;C.fn.init.call(t),t.x=new q(D({horizontal:!0},e)),t.y=new q(D({horizontal:!1},e)),t.container=e.container,t.forcedMinScale=e.minScale,t.maxScale=e.maxScale||100,t.bind(P,e);},rescale:function rescale(e){this.x.rescale(e),this.y.rescale(e),this.refresh();},centerCoordinates:function centerCoordinates(){return{x:Math.min(0,-this.x.centerOffset),y:Math.min(0,-this.y.centerOffset)};},refresh:function refresh(){var e=this;e.x.update(),e.y.update(),e.enabled=e.x.enabled||e.y.enabled,e.minScale=e.forcedMinScale||Math.min(e.x.minScale,e.y.minScale),e.fitScale=Math.max(e.x.minScale,e.y.minScale),e.trigger(P);}}),$=C.extend({init:function init(e){var t=this;D(t,e),C.fn.init.call(t);},outOfBounds:function outOfBounds(){return this.dimension.outOfBounds(this.movable[this.axis]);},dragMove:function dragMove(e){var t=this,n=t.dimension,i=t.axis,o=t.movable,r=o[i]+e;n.enabled&&((n.min>r&&0>e||r>n.max&&e>0)&&(e*=t.resistance),o.translateAxis(i,e),t.trigger(P,t));}}),Y=k.extend({init:function init(t){var n,i,o,r,a=this;D(a,{elastic:!0},t),o=a.elastic?.5:0,r=a.movable,a.x=n=new $({axis:"x",dimension:a.dimensions.x,resistance:o,movable:r}),a.y=i=new $({axis:"y",dimension:a.dimensions.y,resistance:o,movable:r}),a.userEvents.bind(["press","move","end","gesturestart","gesturechange"],{gesturestart:function gesturestart(e){a.gesture=e,a.offset=a.dimensions.container.offset();},press:function press(t){e(t.event.target).closest("a").is("[data-navigate-on-press=true]")&&t.sender.cancel();},gesturechange:function gesturechange(e){var t,o,s,l=a.gesture,c=l.center,d=e.center,u=e.distance/l.distance,h=a.dimensions.minScale,f=a.dimensions.maxScale;h>=r.scale&&1>u&&(u+=.8*(1-u)),r.scale*u>=f&&(u=f/r.scale),o=r.x+a.offset.left,s=r.y+a.offset.top,t={x:(o-c.x)*u+d.x-o,y:(s-c.y)*u+d.y-s},r.scaleWith(u),n.dragMove(t.x),i.dragMove(t.y),a.dimensions.rescale(r.scale),a.gesture=e,e.preventDefault();},move:function move(e){e.event.target.tagName.match(/textarea|input/i)||(n.dimension.enabled||i.dimension.enabled?(n.dragMove(e.x.delta),i.dragMove(e.y.delta),e.preventDefault()):e.touch.skip());},end:function end(e){e.preventDefault();}});}}),K=b.transitions.prefix+"Transform";f=b.hasHW3D?function(e,t,n){return"translate3d("+e+"px,"+t+"px,0) scale("+n+")";}:function(e,t,n){return"translate("+e+"px,"+t+"px) scale("+n+")";},p=C.extend({init:function init(t){var n=this;C.fn.init.call(n),n.element=e(t),n.element[0].style.webkitTransformOrigin="left top",n.x=0,n.y=0,n.scale=1,n._saveCoordinates(f(n.x,n.y,n.scale));},translateAxis:function translateAxis(e,t){this[e]+=t,this.refresh();},scaleTo:function scaleTo(e){this.scale=e,this.refresh();},scaleWith:function scaleWith(e){this.scale*=e,this.refresh();},translate:function translate(e){this.x+=e.x,this.y+=e.y,this.refresh();},moveAxis:function moveAxis(e,t){this[e]=t,this.refresh();},moveTo:function moveTo(e){D(this,e),this.refresh();},refresh:function refresh(){var e,t=this,n=t.x,i=t.y;t.round&&(n=Math.round(n),i=Math.round(i)),e=f(n,i,t.scale),e!=t.coordinates&&(_.support.browser.msie&&10>_.support.browser.version?(t.element[0].style.position="absolute",t.element[0].style.left=t.x+"px",t.element[0].style.top=t.y+"px"):t.element[0].style[K]=e,t._saveCoordinates(e),t.trigger(P));},_saveCoordinates:function _saveCoordinates(e){this.coordinates=e;}}),m=x.extend({init:function init(e,t){var n,i=this;x.fn.init.call(i,e,t),n=i.options.group,n in R?R[n].push(i):R[n]=[i];},events:[V,U,W],options:{name:"DropTarget",group:"default"},destroy:function destroy(){s(R,this);},_trigger:function _trigger(e,n){var i=this,o=E[i.options.group];return o?i.trigger(e,D({},n.event,{draggable:o,dropTarget:n.dropTarget})):t;},_over:function _over(e){this._trigger(V,e);},_out:function _out(e){this._trigger(U,e);},_drop:function _drop(e){var t=this,n=E[t.options.group];n&&(n.dropped=!t._trigger(W,e));}}),m.destroyGroup=function(e){var t,n=R[e]||I[e];if(n){for(t=0;n.length>t;t++){x.fn.destroy.call(n[t]);}n.length=0,delete R[e],delete I[e];}},m._cache=R,g=m.extend({init:function init(e,t){var n,i=this;x.fn.init.call(i,e,t),n=i.options.group,n in I?I[n].push(i):I[n]=[i];},destroy:function destroy(){s(I,this);},options:{name:"DropTargetArea",group:"default",filter:null}}),v=x.extend({init:function init(e,t){var n=this;x.fn.init.call(n,e,t),n._activated=!1,n.userEvents=new S(n.element,{global:!0,allowSelection:!0,filter:n.options.filter,threshold:n.options.distance,start:T(n._start,n),hold:T(n._hold,n),move:T(n._drag,n),end:T(n._end,n),cancel:T(n._cancel,n),select:T(n._select,n)}),n._afterEndHandler=T(n._afterEnd,n),n._captureEscape=T(n._captureEscape,n);},events:[B,z,L,H,N,O],options:{name:"Draggable",distance:_.support.touch?0:5,group:"default",cursorOffset:null,axis:null,container:null,filter:null,ignore:null,holdToDrag:!1,autoScroll:!1,dropped:!1},cancelHold:function cancelHold(){this._activated=!1;},_captureEscape:function _captureEscape(e){var t=this;e.keyCode===_.keys.ESC&&(t._trigger(N,{event:e}),t.userEvents.cancel());},_updateHint:function _updateHint(t){var n,i=this,r=i.options,a=i.boundaries,s=r.axis,l=i.options.cursorOffset;l?n={left:t.x.location+l.left,top:t.y.location+l.top}:(i.hintOffset.left+=t.x.delta,i.hintOffset.top+=t.y.delta,n=e.extend({},i.hintOffset)),a&&(n.top=o(n.top,a.y),n.left=o(n.left,a.x)),"x"===s?delete n.top:"y"===s&&delete n.left,i.hint.css(n);},_shouldIgnoreTarget:function _shouldIgnoreTarget(t){var n=this.options.ignore;return n&&e(t).is(n);},_select:function _select(e){this._shouldIgnoreTarget(e.event.target)||e.preventDefault();},_start:function _start(n){var i,o=this,a=o.options,s=a.container,l=a.hint;return this._shouldIgnoreTarget(n.touch.initialTouch)||a.holdToDrag&&!o._activated?(o.userEvents.cancel(),t):(o.currentTarget=n.target,o.currentTargetOffset=A(o.currentTarget),l&&(o.hint&&o.hint.stop(!0,!0).remove(),o.hint=_.isFunction(l)?e(l.call(o,o.currentTarget)):l,i=A(o.currentTarget),o.hintOffset=i,o.hint.css({position:"absolute",zIndex:2e4,left:i.left,top:i.top}).appendTo(w.body),o.angular("compile",function(){o.hint.removeAttr("ng-repeat");for(var t=e(n.target);!t.data("$$kendoScope")&&t.length;){t=t.parent();}return{elements:o.hint.get(),scopeFrom:t.data("$$kendoScope")};})),E[a.group]=o,o.dropped=!1,s&&(o.boundaries=r(s,o.hint)),e(w).on(M,o._captureEscape),o._trigger(z,n)&&(o.userEvents.cancel(),o._afterEnd()),o.userEvents.capture(),t);},_hold:function _hold(e){this.currentTarget=e.target,this._trigger(B,e)?this.userEvents.cancel():this._activated=!0;},_drag:function _drag(t){var n,i;t.preventDefault(),n=this._elementUnderCursor(t),this.options.autoScroll&&this._cursorElement!==n&&(this._scrollableParent=d(n),this._cursorElement=n),this._lastEvent=t,this._processMovement(t,n),this.options.autoScroll&&this._scrollableParent[0]&&(i=u(t.x.location,t.y.location,l(this._scrollableParent)),this._scrollCompenstation=e.extend({},this.hintOffset),this._scrollVelocity=i,0===i.y&&0===i.x?(clearInterval(this._scrollInterval),this._scrollInterval=null):this._scrollInterval||(this._scrollInterval=setInterval(e.proxy(this,"_autoScroll"),50))),this.hint&&this._updateHint(t);},_processMovement:function _processMovement(n,i){this._withDropTarget(i,function(i,o){if(!i)return h&&(h._trigger(U,D(n,{dropTarget:e(h.targetElement)})),h=null),t;if(h){if(o===h.targetElement)return;h._trigger(U,D(n,{dropTarget:e(h.targetElement)}));}i._trigger(V,D(n,{dropTarget:e(o)})),h=D(i,{targetElement:o});}),this._trigger(L,D(n,{dropTarget:h,elementUnderCursor:i}));},_autoScroll:function _autoScroll(){var e,t,n,i,o,r,a,s,l=this._scrollableParent[0],d=this._scrollVelocity,u=this._scrollCompenstation;l&&(e=this._elementUnderCursor(this._lastEvent),this._processMovement(this._lastEvent,e),i=l===c()[0],i?(t=w.body.scrollHeight>y.height(),n=w.body.scrollWidth>y.width()):(t=l.scrollHeight>=l.offsetHeight,n=l.scrollWidth>=l.offsetWidth),o=l.scrollTop+d.y,r=t&&o>0&&l.scrollHeight>o,a=l.scrollLeft+d.x,s=n&&a>0&&l.scrollWidth>a,r&&(l.scrollTop+=d.y),s&&(l.scrollLeft+=d.x),i&&(s||r)&&(r&&(u.top+=d.y),s&&(u.left+=d.x),this.hint.css(u)));},_end:function _end(t){this._withDropTarget(this._elementUnderCursor(t),function(n,i){n&&(n._drop(D({},t,{dropTarget:e(i)})),h=null);}),this._cancel(this._trigger(H,t));},_cancel:function _cancel(e){var t=this;t._scrollableParent=null,this._cursorElement=null,clearInterval(this._scrollInterval),t._activated=!1,t.hint&&!t.dropped?setTimeout(function(){t.hint.stop(!0,!0),e?t._afterEndHandler():t.hint.animate(t.currentTargetOffset,"fast",t._afterEndHandler);},0):t._afterEnd();},_trigger:function _trigger(e,t){var n=this;return n.trigger(e,D({},t.event,{x:t.x,y:t.y,currentTarget:n.currentTarget,initialTarget:t.touch?t.touch.initialTouch:null,dropTarget:t.dropTarget,elementUnderCursor:t.elementUnderCursor}));},_elementUnderCursor:function _elementUnderCursor(e){var t=F(e),i=this.hint;return i&&n(i[0],t)&&(i.hide(),t=F(e),t||(t=F(e)),i.show()),t;},_withDropTarget:function _withDropTarget(e,t){var n,i=this.options.group,o=R[i],r=I[i];(o&&o.length||r&&r.length)&&(n=a(e,o,r),n?t(n.target,n.targetElement):t());},destroy:function destroy(){var e=this;x.fn.destroy.call(e),e._afterEnd(),e.userEvents.destroy(),this._scrollableParent=null,this._cursorElement=null,clearInterval(this._scrollInterval),e.currentTarget=null;},_afterEnd:function _afterEnd(){var t=this;t.hint&&t.hint.remove(),delete E[t.options.group],t.trigger("destroy"),t.trigger(O),e(w).off(M,t._captureEscape);}}),_.ui.plugin(m),_.ui.plugin(g),_.ui.plugin(v),_.TapCapture=j,_.containerBoundaries=r,D(_.ui,{Pane:Y,PaneDimensions:G,Movable:p}),_.ui.Draggable.utils={autoScrollVelocity:u,scrollableViewPort:l,findScrollableParent:d};}(window.kendo.jQuery),window.kendo;},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("kendo.mobile.scroller.min",["kendo.fx.min","kendo.draganddrop.min"],e);}(function(){return function(e,t){var n=window.kendo,i=n.mobile,o=n.effects,r=i.ui,a=e.proxy,s=e.extend,l=r.Widget,c=n.Class,d=n.ui.Movable,u=n.ui.Pane,h=n.ui.PaneDimensions,f=o.Transition,p=o.Animation,m=Math.abs,g=500,v=.7,_=.96,b=10,w=55,y=.5,k=5,x="km-scroller-release",C="km-scroller-refresh",S="pull",T="change",D="resize",A="scroll",E=2,R=p.extend({init:function init(e){var t=this;p.fn.init.call(t),s(t,e),t.userEvents.bind("gestureend",a(t.start,t)),t.tapCapture.bind("press",a(t.cancel,t));},enabled:function enabled(){return this.dimensions.minScale>this.movable.scale;},done:function done(){return .01>this.dimensions.minScale-this.movable.scale;},tick:function tick(){var e=this.movable;e.scaleWith(1.1),this.dimensions.rescale(e.scale);},onEnd:function onEnd(){var e=this.movable;e.scaleTo(this.dimensions.minScale),this.dimensions.rescale(e.scale);}}),I=p.extend({init:function init(e){var t=this;p.fn.init.call(t),s(t,e,{transition:new f({axis:e.axis,movable:e.movable,onEnd:function onEnd(){t._end();}})}),t.tapCapture.bind("press",function(){t.cancel();}),t.userEvents.bind("end",a(t.start,t)),t.userEvents.bind("gestureend",a(t.start,t)),t.userEvents.bind("tap",a(t.onEnd,t));},onCancel:function onCancel(){this.transition.cancel();},freeze:function freeze(e){var t=this;t.cancel(),t._moveTo(e);},onEnd:function onEnd(){var e=this;e.paneAxis.outOfBounds()?e._snapBack():e._end();},done:function done(){return m(this.velocity)<1;},start:function start(e){var t,n=this;n.dimension.enabled&&(n.paneAxis.outOfBounds()?n._snapBack():(t=e.touch.id===E?0:e.touch[n.axis].velocity,n.velocity=Math.max(Math.min(t*n.velocityMultiplier,w),-w),n.tapCapture.captureNext(),p.fn.start.call(n)));},tick:function tick(){var e=this,t=e.dimension,n=e.paneAxis.outOfBounds()?y:e.friction,i=e.velocity*=n,o=e.movable[e.axis]+i;!e.elastic&&t.outOfBounds(o)&&(o=Math.max(Math.min(o,t.max),t.min),e.velocity=0),e.movable.moveAxis(e.axis,o);},_end:function _end(){this.tapCapture.cancelCapture(),this.end();},_snapBack:function _snapBack(){var e=this,t=e.dimension,n=e.movable[e.axis]>t.max?t.max:t.min;e._moveTo(n);},_moveTo:function _moveTo(e){this.transition.moveTo({location:e,duration:g,ease:f.easeOutExpo});}}),F=p.extend({init:function init(e){var t=this;n.effects.Animation.fn.init.call(this),s(t,e,{origin:{},destination:{},offset:{}});},tick:function tick(){this._updateCoordinates(),this.moveTo(this.origin);},done:function done(){return m(this.offset.y)<k&&m(this.offset.x)<k;},onEnd:function onEnd(){this.moveTo(this.destination),this.callback&&this.callback.call();},setCoordinates:function setCoordinates(e,t){this.offset={},this.origin=e,this.destination=t;},setCallback:function setCallback(e){e&&n.isFunction(e)?this.callback=e:e=t;},_updateCoordinates:function _updateCoordinates(){this.offset={x:(this.destination.x-this.origin.x)/4,y:(this.destination.y-this.origin.y)/4},this.origin={y:this.origin.y+this.offset.y,x:this.origin.x+this.offset.x};}}),M=c.extend({init:function init(t){var n=this,i="x"===t.axis,o=e('<div class="km-touch-scrollbar km-'+(i?"horizontal":"vertical")+'-scrollbar" />');s(n,t,{element:o,elementSize:0,movable:new d(o),scrollMovable:t.movable,alwaysVisible:t.alwaysVisible,size:i?"width":"height"}),n.scrollMovable.bind(T,a(n.refresh,n)),n.container.append(o),t.alwaysVisible&&n.show();},refresh:function refresh(){var e=this,t=e.axis,n=e.dimension,i=n.size,o=e.scrollMovable,r=i/n.total,a=Math.round(-o[t]*r),s=Math.round(i*r);r>=1?this.element.css("display","none"):this.element.css("display",""),a+s>i?s=i-a:0>a&&(s+=a,a=0),e.elementSize!=s&&(e.element.css(e.size,s+"px"),e.elementSize=s),e.movable.moveAxis(t,a);},show:function show(){this.element.css({opacity:v,visibility:"visible"});},hide:function hide(){this.alwaysVisible||this.element.css({opacity:0});}}),P=l.extend({init:function init(i,o){var r,c,f,p,g,v,_,b,w,y=this;return l.fn.init.call(y,i,o),i=y.element,(y._native=y.options.useNative&&n.support.hasNativeScrolling)?(i.addClass("km-native-scroller").prepend('<div class="km-scroll-header"/>'),s(y,{scrollElement:i,fixedContainer:i.children().first()}),t):(i.css("overflow","hidden").addClass("km-scroll-wrapper").wrapInner('<div class="km-scroll-container"/>').prepend('<div class="km-scroll-header"/>'),r=i.children().eq(1),c=new n.TapCapture(i),f=new d(r),p=new h({element:r,container:i,forcedEnabled:y.options.zoom}),g=this.options.avoidScrolling,v=new n.UserEvents(i,{touchAction:"pan-y",fastTap:!0,allowSelection:!0,preventDragEvent:!0,captureUpIfMoved:!0,multiTouch:y.options.zoom,start:function start(t){p.refresh();var n=m(t.x.velocity),i=m(t.y.velocity),o=2*n>=i,r=e.contains(y.fixedContainer[0],t.event.target),a=2*i>=n;!r&&!g(t)&&y.enabled&&(p.x.enabled&&o||p.y.enabled&&a)?v.capture():v.cancel();}}),_=new u({movable:f,dimensions:p,userEvents:v,elastic:y.options.elastic}),b=new R({movable:f,dimensions:p,userEvents:v,tapCapture:c}),w=new F({moveTo:function moveTo(e){y.scrollTo(e.x,e.y);}}),f.bind(T,function(){y.scrollTop=-f.y,y.scrollLeft=-f.x,y.trigger(A,{scrollTop:y.scrollTop,scrollLeft:y.scrollLeft});}),y.options.mousewheelScrolling&&i.on("DOMMouseScroll mousewheel",a(this,"_wheelScroll")),s(y,{movable:f,dimensions:p,zoomSnapBack:b,animatedScroller:w,userEvents:v,pane:_,tapCapture:c,pulled:!1,enabled:!0,scrollElement:r,scrollTop:0,scrollLeft:0,fixedContainer:i.children().first()}),y._initAxis("x"),y._initAxis("y"),y._wheelEnd=function(){y._wheel=!1,y.userEvents.end(0,y._wheelY);},p.refresh(),y.options.pullToRefresh&&y._initPullToRefresh(),t);},_wheelScroll:function _wheelScroll(e){this._wheel||(this._wheel=!0,this._wheelY=0,this.userEvents.press(0,this._wheelY)),clearTimeout(this._wheelTimeout),this._wheelTimeout=setTimeout(this._wheelEnd,50);var t=n.wheelDeltaY(e);t&&(this._wheelY+=t,this.userEvents.move(0,this._wheelY)),e.preventDefault();},makeVirtual:function makeVirtual(){this.dimensions.y.makeVirtual();},virtualSize:function virtualSize(e,t){this.dimensions.y.virtualSize(e,t);},height:function height(){return this.dimensions.y.size;},scrollHeight:function scrollHeight(){return this.scrollElement[0].scrollHeight;},scrollWidth:function scrollWidth(){return this.scrollElement[0].scrollWidth;},options:{name:"Scroller",zoom:!1,pullOffset:140,visibleScrollHints:!1,elastic:!0,useNative:!1,mousewheelScrolling:!0,avoidScrolling:function avoidScrolling(){return!1;},pullToRefresh:!1,messages:{pullTemplate:"Pull to refresh",releaseTemplate:"Release to refresh",refreshTemplate:"Refreshing"}},events:[S,A,D],_resize:function _resize(){this._native||this.contentResized();},setOptions:function setOptions(e){var t=this;l.fn.setOptions.call(t,e),e.pullToRefresh&&t._initPullToRefresh();},reset:function reset(){this._native?this.scrollElement.scrollTop(0):(this.movable.moveTo({x:0,y:0}),this._scale(1));},contentResized:function contentResized(){this.dimensions.refresh(),this.pane.x.outOfBounds()&&this.movable.moveAxis("x",this.dimensions.x.min),this.pane.y.outOfBounds()&&this.movable.moveAxis("y",this.dimensions.y.min);},zoomOut:function zoomOut(){var e=this.dimensions;e.refresh(),this._scale(e.fitScale),this.movable.moveTo(e.centerCoordinates());},enable:function enable(){this.enabled=!0;},disable:function disable(){this.enabled=!1;},scrollTo:function scrollTo(e,t){this._native?(this.scrollElement.scrollLeft(m(e)),this.scrollElement.scrollTop(m(t))):(this.dimensions.refresh(),this.movable.moveTo({x:e,y:t}));},animatedScrollTo:function animatedScrollTo(e,t,n){var i,o;this._native?this.scrollTo(e,t):(i={x:this.movable.x,y:this.movable.y},o={x:e,y:t},this.animatedScroller.setCoordinates(i,o),this.animatedScroller.setCallback(n),this.animatedScroller.start());},pullHandled:function pullHandled(){var e=this;e.refreshHint.removeClass(C),e.hintContainer.html(e.pullTemplate({})),e.yinertia.onEnd(),e.xinertia.onEnd(),e.userEvents.cancel();},destroy:function destroy(){l.fn.destroy.call(this),this.userEvents&&this.userEvents.destroy();},_scale:function _scale(e){this.dimensions.rescale(e),this.movable.scaleTo(e);},_initPullToRefresh:function _initPullToRefresh(){var e=this;e.dimensions.y.forceEnabled(),e.pullTemplate=n.template(e.options.messages.pullTemplate),e.releaseTemplate=n.template(e.options.messages.releaseTemplate),e.refreshTemplate=n.template(e.options.messages.refreshTemplate),e.scrollElement.prepend('<span class="km-scroller-pull"><span class="km-icon"></span><span class="km-loading-left"></span><span class="km-loading-right"></span><span class="km-template">'+e.pullTemplate({})+"</span></span>"),e.refreshHint=e.scrollElement.children().first(),e.hintContainer=e.refreshHint.children(".km-template"),e.pane.y.bind("change",a(e._paneChange,e)),e.userEvents.bind("end",a(e._dragEnd,e));},_dragEnd:function _dragEnd(){var e=this;e.pulled&&(e.pulled=!1,e.refreshHint.removeClass(x).addClass(C),e.hintContainer.html(e.refreshTemplate({})),e.yinertia.freeze(e.options.pullOffset/2),e.trigger("pull"));},_paneChange:function _paneChange(){var e=this;e.movable.y/y>e.options.pullOffset?e.pulled||(e.pulled=!0,e.refreshHint.removeClass(C).addClass(x),e.hintContainer.html(e.releaseTemplate({}))):e.pulled&&(e.pulled=!1,e.refreshHint.removeClass(x),e.hintContainer.html(e.pullTemplate({})));},_initAxis:function _initAxis(e){var t=this,n=t.movable,i=t.dimensions[e],o=t.tapCapture,r=t.pane[e],a=new M({axis:e,movable:n,dimension:i,container:t.element,alwaysVisible:t.options.visibleScrollHints});i.bind(T,function(){a.refresh();}),r.bind(T,function(){a.show();}),t[e+"inertia"]=new I({axis:e,paneAxis:r,movable:n,tapCapture:o,userEvents:t.userEvents,dimension:i,elastic:t.options.elastic,friction:t.options.friction||_,velocityMultiplier:t.options.velocityMultiplier||b,end:function end(){a.hide(),t.trigger("scrollEnd",{axis:e,scrollTop:t.scrollTop,scrollLeft:t.scrollLeft});}});}});r.plugin(P);}(window.kendo.jQuery),window.kendo;},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("kendo.groupable.min",["kendo.core.min","kendo.draganddrop.min"],e);}(function(){return function(e,t){function n(e){return e.position().top+3;}var i=window.kendo,o=i.ui.Widget,r=e.proxy,a=!1,s=".kendoGroupable",l="change",c=i.template('<div class="k-group-indicator" data-#=data.ns#field="${data.field}" data-#=data.ns#title="${data.title || ""}" data-#=data.ns#dir="${data.dir || "asc"}"><a href="\\#" class="k-link"><span class="k-icon k-si-arrow-${(data.dir || "asc") == "asc" ? "n" : "s"}">(sorted ${(data.dir || "asc") == "asc" ? "ascending": "descending"})</span>${data.title ? data.title: data.field}</a><a class="k-button k-button-icon k-button-bare"><span class="k-icon k-group-delete"></span></a></div>',{useWithBlock:!1}),d=function d(t){var n=t.attr(i.attr("title"));return n&&(n=i.htmlEncode(n)),e('<div class="k-header k-drag-clue" />').css({width:t.width(),paddingLeft:t.css("paddingLeft"),paddingRight:t.css("paddingRight"),lineHeight:t.height()+"px",paddingTop:t.css("paddingTop"),paddingBottom:t.css("paddingBottom")}).html(n||t.attr(i.attr("field"))).prepend('<span class="k-icon k-drag-status k-denied" />');},u=e('<div class="k-grouping-dropclue"/>'),h=o.extend({init:function init(c,h){var f,p,m=this,g=i.guid(),v=r(m._intializePositions,m),_=m._dropCuePositions=[];o.fn.init.call(m,c,h),a=i.support.isRtl(c),p=a?"right":"left",m.draggable=f=m.options.draggable||new i.ui.Draggable(m.element,{filter:m.options.draggableElements,hint:d,group:g}),m.groupContainer=e(m.options.groupContainer,m.element).kendoDropTarget({group:f.options.group,dragenter:function dragenter(e){m._canDrag(e.draggable.currentTarget)&&(e.draggable.hint.find(".k-drag-status").removeClass("k-denied").addClass("k-add"),u.css("top",n(m.groupContainer)).css(p,0).appendTo(m.groupContainer));},dragleave:function dragleave(e){e.draggable.hint.find(".k-drag-status").removeClass("k-add").addClass("k-denied"),u.remove();},drop:function drop(t){var n,o=t.draggable.currentTarget,r=o.attr(i.attr("field")),s=o.attr(i.attr("title")),l=m.indicator(r),c=m._dropCuePositions,d=c[c.length-1];(o.hasClass("k-group-indicator")||m._canDrag(o))&&(d?(n=m._dropCuePosition(i.getOffset(u).left+parseInt(d.element.css("marginLeft"),10)*(a?-1:1)+parseInt(d.element.css("marginRight"),10)),n&&m._canDrop(e(l),n.element,n.left)&&(n.before?n.element.before(l||m.buildIndicator(r,s)):n.element.after(l||m.buildIndicator(r,s)),m._change())):(m.groupContainer.append(m.buildIndicator(r,s)),m._change()));}}).kendoDraggable({filter:"div.k-group-indicator",hint:d,group:f.options.group,dragcancel:r(m._dragCancel,m),dragstart:function dragstart(e){var t=e.currentTarget,i=parseInt(t.css("marginLeft"),10),o=t.position(),r=a?o.left-i:o.left+t.outerWidth();v(),u.css({top:n(m.groupContainer),left:r}).appendTo(m.groupContainer),this.hint.find(".k-drag-status").removeClass("k-denied").addClass("k-add");},dragend:function dragend(){m._dragEnd(this);},drag:r(m._drag,m)}).on("click"+s,".k-button",function(t){t.preventDefault(),m._removeIndicator(e(this).parent());}).on("click"+s,".k-link",function(t){var n=e(this).parent(),o=m.buildIndicator(n.attr(i.attr("field")),n.attr(i.attr("title")),"asc"==n.attr(i.attr("dir"))?"desc":"asc");n.before(o).remove(),m._change(),t.preventDefault();}),f.bind(["dragend","dragcancel","dragstart","drag"],{dragend:function dragend(){m._dragEnd(this);},dragcancel:r(m._dragCancel,m),dragstart:function dragstart(e){var n,i,o;return m.options.allowDrag||m._canDrag(e.currentTarget)?(v(),_.length?(n=_[_.length-1].element,i=parseInt(n.css("marginRight"),10),o=n.position().left+n.outerWidth()+i):o=0,t):(e.preventDefault(),t);},drag:r(m._drag,m)}),m.dataSource=m.options.dataSource,m.dataSource&&m._refreshHandler?m.dataSource.unbind(l,m._refreshHandler):m._refreshHandler=r(m.refresh,m),m.dataSource&&(m.dataSource.bind("change",m._refreshHandler),m.refresh());},refresh:function refresh(){var t=this,n=t.dataSource;t.groupContainer&&t.groupContainer.empty().append(e.map(n.group()||[],function(n){var o=n.field,r=i.attr("field"),a=t.element.find(t.options.filter).filter(function(){return e(this).attr(r)===o;});return t.buildIndicator(n.field,a.attr(i.attr("title")),n.dir);}).join("")),t._invalidateGroupContainer();},destroy:function destroy(){var e=this;o.fn.destroy.call(e),e.groupContainer.off(s),e.groupContainer.data("kendoDropTarget")&&e.groupContainer.data("kendoDropTarget").destroy(),e.groupContainer.data("kendoDraggable")&&e.groupContainer.data("kendoDraggable").destroy(),e.options.draggable||e.draggable.destroy(),e.dataSource&&e._refreshHandler&&(e.dataSource.unbind("change",e._refreshHandler),e._refreshHandler=null),e.groupContainer=e.element=e.draggable=null;},options:{name:"Groupable",filter:"th",draggableElements:"th",messages:{empty:"Drag a column header and drop it here to group by that column"}},indicator:function indicator(t){var n=e(".k-group-indicator",this.groupContainer);return e.grep(n,function(n){return e(n).attr(i.attr("field"))===t;})[0];},buildIndicator:function buildIndicator(e,t,n){return c({field:e.replace(/"/g,"'"),dir:n,title:t,ns:i.ns});},descriptors:function descriptors(){var t,n,o,r,a,s=this,l=e(".k-group-indicator",s.groupContainer);return t=s.element.find(s.options.filter).map(function(){var t=e(this),o=t.attr(i.attr("aggregates")),s=t.attr(i.attr("field"));if(o&&""!==o)for(n=o.split(","),o=[],r=0,a=n.length;a>r;r++){o.push({field:s,aggregate:n[r]});}return o;}).toArray(),e.map(l,function(n){return n=e(n),o=n.attr(i.attr("field")),{field:o,dir:n.attr(i.attr("dir")),aggregates:t||[]};});},_removeIndicator:function _removeIndicator(e){var t=this;e.remove(),t._invalidateGroupContainer(),t._change();},_change:function _change(){var e=this;e.dataSource&&e.dataSource.group(e.descriptors());},_dropCuePosition:function _dropCuePosition(t){var n,i,o,r,s,l=this._dropCuePositions;if(u.is(":visible")&&0!==l.length)return t=Math.ceil(t),n=l[l.length-1],i=n.left,o=n.right,r=parseInt(n.element.css("marginLeft"),10),s=parseInt(n.element.css("marginRight"),10),t>=o&&!a||i>t&&a?t={left:n.element.position().left+(a?-r:n.element.outerWidth()+s),element:n.element,before:!1}:(t=e.grep(l,function(e){return t>=e.left&&e.right>=t||a&&t>e.right;})[0],t&&(t={left:a?t.element.position().left+t.element.outerWidth()+s:t.element.position().left-r,element:t.element,before:!0})),t;},_drag:function _drag(e){var t=this._dropCuePosition(e.x.location);t&&u.css({left:t.left,right:"auto"});},_canDrag:function _canDrag(e){var t=e.attr(i.attr("field"));return"false"!=e.attr(i.attr("groupable"))&&t&&(e.hasClass("k-group-indicator")||!this.indicator(t));},_canDrop:function _canDrop(e,t,n){var i=e.next(),o=e[0]!==t[0]&&(!i[0]||t[0]!==i[0]||!a&&n>i.position().left||a&&n<i.position().left);return o;},_dragEnd:function _dragEnd(t){var n=this,o=t.currentTarget.attr(i.attr("field")),r=n.indicator(o);t!==n.options.draggable&&!t.dropped&&r&&n._removeIndicator(e(r)),n._dragCancel();},_dragCancel:function _dragCancel(){u.remove(),this._dropCuePositions=[];},_intializePositions:function _intializePositions(){var t,n=this,o=e(".k-group-indicator",n.groupContainer);n._dropCuePositions=e.map(o,function(n){return n=e(n),t=i.getOffset(n).left,{left:parseInt(t,10),right:parseInt(t+n.outerWidth(),10),element:n};});},_invalidateGroupContainer:function _invalidateGroupContainer(){var e=this.groupContainer;e&&e.is(":empty")&&e.html(this.options.messages.empty);}});i.ui.plugin(h);}(window.kendo.jQuery),window.kendo;},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("kendo.reorderable.min",["kendo.core.min","kendo.draganddrop.min"],e);}(function(){return function(e,t){function n(t,n){t=e(t),n?t.find(".k-drag-status").removeClass("k-add").addClass("k-denied"):t.find(".k-drag-status").removeClass("k-denied").addClass("k-add");}var i=window.kendo,o=i.getOffset,r=i.ui.Widget,a="change",s="k-reorderable",l=r.extend({init:function init(t,l){var c,d=this,u=i.guid()+"-reorderable";r.fn.init.call(d,t,l),t=d.element.addClass(s),l=d.options,d.draggable=c=l.draggable||new i.ui.Draggable(t,{group:u,autoScroll:!0,filter:l.filter,hint:l.hint}),d.reorderDropCue=e('<div class="k-reorder-cue"><div class="k-icon k-i-arrow-s"></div><div class="k-icon k-i-arrow-n"></div></div>'),t.find(c.options.filter).kendoDropTarget({group:c.options.group,dragenter:function dragenter(e){var t,i,r,a;d._draggable&&(t=this.element,r=!d._dropTargetAllowed(t)||d._isLastDraggable(),n(e.draggable.hint,r),r||(i=o(t),a=i.left,l.inSameContainer&&!l.inSameContainer({source:t,target:d._draggable,sourceIndex:d._index(t),targetIndex:d._index(d._draggable)})?d._dropTarget=t:d._index(t)>d._index(d._draggable)&&(a+=t.outerWidth()),d.reorderDropCue.css({height:t.outerHeight(),top:i.top,left:a}).appendTo(document.body)));},dragleave:function dragleave(e){n(e.draggable.hint,!0),d.reorderDropCue.remove(),d._dropTarget=null;},drop:function drop(){var e,t;d._dropTarget=null,d._draggable&&(e=this.element,t=d._draggable,d._dropTargetAllowed(e)&&!d._isLastDraggable()&&d.trigger(a,{element:d._draggable,target:e,oldIndex:d._index(t),newIndex:d._index(e),position:o(d.reorderDropCue).left>o(e).left?"after":"before"}));}}),c.bind(["dragcancel","dragend","dragstart","drag"],{dragcancel:function dragcancel(){d.reorderDropCue.remove(),d._draggable=null,d._elements=null;},dragend:function dragend(){d.reorderDropCue.remove(),d._draggable=null,d._elements=null;},dragstart:function dragstart(e){d._draggable=e.currentTarget,d._elements=d.element.find(d.draggable.options.filter);},drag:function drag(e){var t,n;d._dropTarget&&!this.hint.find(".k-drag-status").hasClass("k-denied")&&(t=o(d._dropTarget).left,n=d._dropTarget.outerWidth(),d.reorderDropCue.css(e.pageX>t+n/2?{left:t+n}:{left:t}));}});},options:{name:"Reorderable",filter:"*"},events:[a],_isLastDraggable:function _isLastDraggable(){var e,t=this.options.inSameContainer,n=this._draggable[0],i=this._elements.get(),o=!1;if(!t)return!1;for(;!o&&i.length>0;){e=i.pop(),o=n!==e&&t({source:n,target:e,sourceIndex:this._index(n),targetIndex:this._index(e)});}return!o;},_dropTargetAllowed:function _dropTargetAllowed(e){var t=this.options.inSameContainer,n=this.options.dragOverContainers,i=this._draggable;return i[0]===e[0]?!1:t&&n?t({source:i,target:e,sourceIndex:this._index(i),targetIndex:this._index(e)})?!0:n(this._index(i),this._index(e)):!0;},_index:function _index(e){return this._elements.index(e);},destroy:function destroy(){var t=this;r.fn.destroy.call(t),t.element.find(t.draggable.options.filter).each(function(){var t=e(this);t.data("kendoDropTarget")&&t.data("kendoDropTarget").destroy();}),t.draggable&&(t.draggable.destroy(),t.draggable.element=t.draggable=null),t.elements=t.reorderDropCue=t._elements=t._draggable=null;}});i.ui.plugin(l);}(window.kendo.jQuery),window.kendo;},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("kendo.resizable.min",["kendo.core.min","kendo.draganddrop.min"],e);}(function(){return function(e,t){var n=window.kendo,i=n.ui,o=i.Widget,r=e.proxy,a=n.isFunction,s=e.extend,l="horizontal",c="vertical",d="start",u="resize",h="resizeend",f=o.extend({init:function init(e,t){var n=this;o.fn.init.call(n,e,t),n.orientation=n.options.orientation.toLowerCase()!=c?l:c,n._positionMouse=n.orientation==l?"x":"y",n._position=n.orientation==l?"left":"top",n._sizingDom=n.orientation==l?"outerWidth":"outerHeight",n.draggable=new i.Draggable(e,{distance:1,filter:t.handle,drag:r(n._resize,n),dragcancel:r(n._cancel,n),dragstart:r(n._start,n),dragend:r(n._stop,n)}),n.userEvents=n.draggable.userEvents;},events:[u,h,d],options:{name:"Resizable",orientation:l},resize:function resize(){},_max:function _max(e){var n=this,i=n.hint?n.hint[n._sizingDom]():0,o=n.options.max;return a(o)?o(e):o!==t?n._initialElementPosition+o-i:o;},_min:function _min(e){var n=this,i=n.options.min;return a(i)?i(e):i!==t?n._initialElementPosition+i:i;},_start:function _start(t){var n=this,i=n.options.hint,o=e(t.currentTarget);n._initialElementPosition=o.position()[n._position],n._initialMousePosition=t[n._positionMouse].startLocation,i&&(n.hint=a(i)?e(i(o)):i,n.hint.css({position:"absolute"}).css(n._position,n._initialElementPosition).appendTo(n.element)),n.trigger(d,t),n._maxPosition=n._max(t),n._minPosition=n._min(t),e(document.body).css("cursor",o.css("cursor"));},_resize:function _resize(e){var n,i=this,o=i._maxPosition,r=i._minPosition,a=i._initialElementPosition+(e[i._positionMouse].location-i._initialMousePosition);n=r!==t?Math.max(r,a):a,i.position=n=o!==t?Math.min(o,n):n,i.hint&&i.hint.toggleClass(i.options.invalidClass||"",n==o||n==r).css(i._position,n),i.resizing=!0,i.trigger(u,s(e,{position:n}));},_stop:function _stop(t){var n=this;n.hint&&n.hint.remove(),n.resizing=!1,n.trigger(h,s(t,{position:n.position})),e(document.body).css("cursor","");},_cancel:function _cancel(e){var n=this;n.hint&&(n.position=t,n.hint.css(n._position,n._initialElementPosition),n._stop(e));},destroy:function destroy(){var e=this;o.fn.destroy.call(e),e.draggable&&e.draggable.destroy();},press:function press(e){if(e){var t=e.position(),n=this;n.userEvents.press(t.left,t.top,e[0]),n.targetPosition=t,n.target=e;}},move:function move(e){var n=this,i=n._position,o=n.targetPosition,r=n.position;r===t&&(r=o[i]),o[i]=r+e,n.userEvents.move(o.left,o.top);},end:function end(){this.userEvents.end(),this.target=this.position=t;}});n.ui.plugin(f);}(window.kendo.jQuery),window.kendo;},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("kendo.sortable.min",["kendo.draganddrop.min"],e);}(function(){return function(e,t){function n(t,n){try{return e.contains(t,n)||t==n;}catch(i){return!1;}}function i(e){return e.clone();}function o(e){return e.clone().removeAttr("id").css("visibility","hidden");}var r=window.kendo,a=r.ui.Widget,s="start",l="beforeMove",c="move",d="end",u="change",h="cancel",f="sort",p="remove",m="receive",g=">*",v=-1,_=a.extend({init:function init(e,t){var n=this;a.fn.init.call(n,e,t),n.options.placeholder||(n.options.placeholder=o),n.options.hint||(n.options.hint=i),n.draggable=n._createDraggable();},events:[s,l,c,d,u,h],options:{name:"Sortable",hint:null,placeholder:null,filter:g,holdToDrag:!1,disabled:null,container:null,connectWith:null,handler:null,cursorOffset:null,axis:null,ignore:null,autoScroll:!1,cursor:"auto",moveOnDragEnter:!1},destroy:function destroy(){this.draggable.destroy(),a.fn.destroy.call(this);},_createDraggable:function _createDraggable(){var t=this,n=t.element,i=t.options;return new r.ui.Draggable(n,{filter:i.filter,hint:r.isFunction(i.hint)?i.hint:e(i.hint),holdToDrag:i.holdToDrag,container:i.container?e(i.container):null,cursorOffset:i.cursorOffset,axis:i.axis,ignore:i.ignore,autoScroll:i.autoScroll,dragstart:e.proxy(t._dragstart,t),dragcancel:e.proxy(t._dragcancel,t),drag:e.proxy(t._drag,t),dragend:e.proxy(t._dragend,t)});},_dragstart:function _dragstart(t){var n=this.draggedElement=t.currentTarget,i=this.options.disabled,o=this.options.handler,a=this.options.placeholder,l=this.placeholder=e(r.isFunction(a)?a.call(this,n):a);i&&n.is(i)?t.preventDefault():o&&!e(t.initialTarget).is(o)?t.preventDefault():this.trigger(s,{item:n,draggableEvent:t})?t.preventDefault():(n.css("display","none"),n.before(l),this._setCursor());},_dragcancel:function _dragcancel(){this._cancel(),this.trigger(h,{item:this.draggedElement}),this._resetCursor();},_drag:function _drag(n){var i,o,r,a,s,l=this.draggedElement,c=this._findTarget(n),d={left:n.x.location,top:n.y.location},u={x:n.x.delta,y:n.y.delta},h=this.options.axis,f=this.options.moveOnDragEnter,p={item:l,list:this,draggableEvent:n};if("x"===h||"y"===h)return this._movementByAxis(h,d,u[h],p),t;if(c){if(i=this._getElementCenter(c.element),o={left:Math.round(d.left-i.left),top:Math.round(d.top-i.top)},e.extend(p,{target:c.element}),c.appendToBottom)return this._movePlaceholder(c,null,p),t;if(c.appendAfterHidden&&this._movePlaceholder(c,"next",p),this._isFloating(c.element)?0>u.x&&(f||0>o.left)?r="prev":u.x>0&&(f||o.left>0)&&(r="next"):0>u.y&&(f||0>o.top)?r="prev":u.y>0&&(f||o.top>0)&&(r="next"),r){for(s="prev"===r?jQuery.fn.prev:jQuery.fn.next,a=s.call(c.element);a.length&&!a.is(":visible");){a=s.call(a);}a[0]!=this.placeholder[0]&&this._movePlaceholder(c,r,p);}}},_dragend:function _dragend(n){var i,o,r,a,s=this.placeholder,l=this.draggedElement,c=this.indexOf(l),h=this.indexOf(s),g=this.options.connectWith;return this._resetCursor(),r={action:f,item:l,oldIndex:c,newIndex:h,draggableEvent:n},h>=0?o=this.trigger(d,r):(i=s.parents(g).getKendoSortable(),r.action=p,a=e.extend({},r,{action:m,oldIndex:v,newIndex:i.indexOf(s)}),o=!(!this.trigger(d,r)&&!i.trigger(d,a))),o||h===c?(this._cancel(),t):(s.replaceWith(l),l.show(),this.draggable.dropped=!0,r={action:this.indexOf(l)!=v?f:p,item:l,oldIndex:c,newIndex:this.indexOf(l),draggableEvent:n},this.trigger(u,r),i&&(a=e.extend({},r,{action:m,oldIndex:v,newIndex:i.indexOf(l)}),i.trigger(u,a)),t);},_findTarget:function _findTarget(n){var i,o,r=this._findElementUnderCursor(n),a=this.options.connectWith;return e.contains(this.element[0],r)?(i=this.items(),o=i.filter(r)[0]||i.has(r)[0],o?{element:e(o),sortable:this}:null):this.element[0]==r&&this._isEmpty()?{element:this.element,sortable:this,appendToBottom:!0}:this.element[0]==r&&this._isLastHidden()?(o=this.items().eq(0),{element:o,sortable:this,appendAfterHidden:!0}):a?this._searchConnectedTargets(r,n):t;},_findElementUnderCursor:function _findElementUnderCursor(e){var t=r.elementUnderCursor(e),i=e.sender;return n(i.hint[0],t)&&(i.hint.hide(),t=r.elementUnderCursor(e),t||(t=r.elementUnderCursor(e)),i.hint.show()),t;},_searchConnectedTargets:function _searchConnectedTargets(t,n){var i,o,r,a,s=e(this.options.connectWith);for(a=0;s.length>a;a++){if(i=s.eq(a).getKendoSortable(),e.contains(s[a],t)){if(i)return o=i.items(),r=o.filter(t)[0]||o.has(t)[0],r?(i.placeholder=this.placeholder,{element:e(r),sortable:i}):null;}else if(s[a]==t){if(i&&i._isEmpty())return{element:s.eq(a),sortable:i,appendToBottom:!0};if(this._isCursorAfterLast(i,n))return r=i.items().last(),{element:r,sortable:i};}}},_isCursorAfterLast:function _isCursorAfterLast(e,t){var n,i,o=e.items().last(),a={left:t.x.location,top:t.y.location};return n=r.getOffset(o),n.top+=o.outerHeight(),n.left+=o.outerWidth(),i=this._isFloating(o)?n.left-a.left:n.top-a.top,0>i;},_movementByAxis:function _movementByAxis(t,n,i,o){var r,a="x"===t?n.left:n.top,s=0>i?this.placeholder.prev():this.placeholder.next();s.length&&!s.is(":visible")&&(s=0>i?s.prev():s.next()),e.extend(o,{target:s}),r=this._getElementCenter(s),r&&(r="x"===t?r.left:r.top),s.length&&0>i&&0>a-r?this._movePlaceholder({element:s,sortable:this},"prev",o):s.length&&i>0&&a-r>0&&this._movePlaceholder({element:s,sortable:this},"next",o);},_movePlaceholder:function _movePlaceholder(e,t,n){var i=this.placeholder;e.sortable.trigger(l,n)||(t?"prev"===t?e.element.before(i):"next"===t&&e.element.after(i):e.element.append(i),e.sortable.trigger(c,n));},_setCursor:function _setCursor(){var t,n=this.options.cursor;n&&"auto"!==n&&(t=e(document.body),this._originalCursorType=t.css("cursor"),t.css({cursor:n}),this._cursorStylesheet||(this._cursorStylesheet=e("<style>* { cursor: "+n+" !important; }</style>")),this._cursorStylesheet.appendTo(t));},_resetCursor:function _resetCursor(){this._originalCursorType&&(e(document.body).css("cursor",this._originalCursorType),this._originalCursorType=null,this._cursorStylesheet.remove());},_getElementCenter:function _getElementCenter(e){var t=e.length?r.getOffset(e):null;return t&&(t.top+=e.outerHeight()/2,t.left+=e.outerWidth()/2),t;},_isFloating:function _isFloating(e){return /left|right/.test(e.css("float"))||/inline|table-cell/.test(e.css("display"));},_cancel:function _cancel(){this.draggedElement.show(),this.placeholder.remove();},_items:function _items(){var e,t=this.options.filter;return e=t?this.element.find(t):this.element.children();},indexOf:function indexOf(e){var t=this._items(),n=this.placeholder,i=this.draggedElement;return n&&e[0]==n[0]?t.not(i).index(e):t.not(n).index(e);},items:function items(){var e=this.placeholder,t=this._items();return e&&(t=t.not(e)),t;},_isEmpty:function _isEmpty(){return!this.items().length;},_isLastHidden:function _isLastHidden(){return 1===this.items().length&&this.items().is(":hidden");}});r.ui.plugin(_);}(window.kendo.jQuery),window.kendo;},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("kendo.selectable.min",["kendo.core.min","kendo.userevents.min"],e);}(function(){return function(e,t){function n(e,t){if(!e.is(":visible"))return!1;var n=o.getOffset(e),i=t.left+t.width,r=t.top+t.height;return n.right=n.left+e.outerWidth(),n.bottom=n.top+e.outerHeight(),!(n.left>i||t.left>n.right||n.top>r||t.top>n.bottom);}var i,o=window.kendo,r=o.ui.Widget,a=e.proxy,s=Math.abs,l="aria-selected",c="k-state-selected",d="k-state-selecting",u="k-selectable",h="change",f=".kendoSelectable",p="k-state-unselecting",m="input,a,textarea,.k-multiselect-wrap,select,button,.k-button>span,.k-button>img,span.k-icon.k-i-expand,span.k-icon.k-i-collapse",g=o.support.browser.msie,v=!1;!function(e){!function(){e('<div class="parent"><span /></div>').on("click",">*",function(){v=!0;}).find("span").click().end().off();}();}(e),i=r.extend({init:function init(t,n){var i,s=this;r.fn.init.call(s,t,n),s._marquee=e("<div class='k-marquee'><div class='k-marquee-color'></div></div>"),s._lastActive=null,s.element.addClass(u),s.relatedTarget=s.options.relatedTarget,i=s.options.multiple,this.options.aria&&i&&s.element.attr("aria-multiselectable",!0),s.userEvents=new o.UserEvents(s.element,{global:!0,allowSelection:!0,filter:(v?"":"."+u+" ")+s.options.filter,tap:a(s._tap,s)}),i&&s.userEvents.bind("start",a(s._start,s)).bind("move",a(s._move,s)).bind("end",a(s._end,s)).bind("select",a(s._select,s));},events:[h],options:{name:"Selectable",filter:">*",multiple:!1,relatedTarget:e.noop},_isElement:function _isElement(e){var t,n=this.element,i=n.length,o=!1;for(e=e[0],t=0;i>t;t++){if(n[t]===e){o=!0;break;}}return o;},_tap:function _tap(t){var n,i=e(t.target),o=this,r=t.event.ctrlKey||t.event.metaKey,a=o.options.multiple,s=a&&t.event.shiftKey,l=t.event.which,d=t.event.button;!o._isElement(i.closest("."+u))||l&&3==l||d&&2==d||this._allowSelection(t.event.target)&&(n=i.hasClass(c),a&&r||o.clear(),i=i.add(o.relatedTarget(i)),s?o.selectRange(o._firstSelectee(),i):(n&&r?(o._unselect(i),o._notify(h)):o.value(i),o._lastActive=o._downTarget=i));},_start:function _start(n){var i,o=this,r=e(n.target),a=r.hasClass(c),s=n.event.ctrlKey||n.event.metaKey;if(this._allowSelection(n.event.target)){if(o._downTarget=r,!o._isElement(r.closest("."+u)))return o.userEvents.cancel(),t;o.options.useAllItems?o._items=o.element.find(o.options.filter):(i=r.closest(o.element),o._items=i.find(o.options.filter)),n.sender.capture(),o._marquee.appendTo(document.body).css({left:n.x.client+1,top:n.y.client+1,width:0,height:0}),s||o.clear(),r=r.add(o.relatedTarget(r)),a&&(o._selectElement(r,!0),s&&r.addClass(p));}},_move:function _move(e){var t=this,n={left:e.x.startLocation>e.x.location?e.x.location:e.x.startLocation,top:e.y.startLocation>e.y.location?e.y.location:e.y.startLocation,width:s(e.x.initialDelta),height:s(e.y.initialDelta)};t._marquee.css(n),t._invalidateSelectables(n,e.event.ctrlKey||e.event.metaKey),e.preventDefault();},_end:function _end(){var e,t=this;t._marquee.remove(),t._unselect(t.element.find(t.options.filter+"."+p)).removeClass(p),e=t.element.find(t.options.filter+"."+d),e=e.add(t.relatedTarget(e)),t.value(e),t._lastActive=t._downTarget,t._items=null;},_invalidateSelectables:function _invalidateSelectables(e,t){var i,o,r,a,s=this._downTarget[0],l=this._items;for(i=0,o=l.length;o>i;i++){a=l.eq(i),r=a.add(this.relatedTarget(a)),n(a,e)?a.hasClass(c)?t&&s!==a[0]&&r.removeClass(c).addClass(p):a.hasClass(d)||a.hasClass(p)||r.addClass(d):a.hasClass(d)?r.removeClass(d):t&&a.hasClass(p)&&r.removeClass(p).addClass(c);}},value:function value(e){var n=this,i=a(n._selectElement,n);return e?(e.each(function(){i(this);}),n._notify(h),t):n.element.find(n.options.filter+"."+c);},_firstSelectee:function _firstSelectee(){var e,t=this;return null!==t._lastActive?t._lastActive:(e=t.value(),e.length>0?e[0]:t.element.find(t.options.filter)[0]);},_selectElement:function _selectElement(t,n){var i=e(t),o=!n&&this._notify("select",{element:t});i.removeClass(d),o||(i.addClass(c),this.options.aria&&i.attr(l,!0));},_notify:function _notify(e,t){return t=t||{},this.trigger(e,t);},_unselect:function _unselect(e){return e.removeClass(c),this.options.aria&&e.attr(l,!1),e;},_select:function _select(t){this._allowSelection(t.event.target)&&(!g||g&&!e(o._activeElement()).is(m))&&t.preventDefault();},_allowSelection:function _allowSelection(t){return e(t).is(m)?(this.userEvents.cancel(),this._downTarget=null,!1):!0;},resetTouchEvents:function resetTouchEvents(){this.userEvents.cancel();},clear:function clear(){var e=this.element.find(this.options.filter+"."+c);this._unselect(e);},selectRange:function selectRange(t,n){var i,o,r,a=this;for(a.clear(),a.element.length>1&&(r=a.options.continuousItems()),r&&r.length||(r=a.element.find(a.options.filter)),t=e.inArray(e(t)[0],r),n=e.inArray(e(n)[0],r),t>n&&(o=t,t=n,n=o),a.options.useAllItems||(n+=a.element.length-1),i=t;n>=i;i++){a._selectElement(r[i]);}a._notify(h);},destroy:function destroy(){var e=this;r.fn.destroy.call(e),e.element.off(f),e.userEvents.destroy(),e._marquee=e._lastActive=e.element=e.userEvents=null;}}),i.parseOptions=function(e){var t="string"==typeof e&&e.toLowerCase();return{multiple:t&&t.indexOf("multiple")>-1,cell:t&&t.indexOf("cell")>-1};},o.ui.plugin(i);}(window.kendo.jQuery),window.kendo;},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("kendo.button.min",["kendo.core.min"],e);}(function(){return function(e,t){var n=window.kendo,i=n.ui.Widget,o=e.proxy,r=n.keys,a="click",s="k-button",l="k-button-icon",c="k-button-icontext",d=".kendoButton",u="disabled",h="k-state-disabled",f="k-state-focused",p="k-state-selected",m=i.extend({init:function init(e,t){var r=this;i.fn.init.call(r,e,t),e=r.wrapper=r.element,t=r.options,e.addClass(s).attr("role","button"),t.enable=t.enable&&!e.attr(u),r.enable(t.enable),r._tabindex(),r._graphics(),e.on(a+d,o(r._click,r)).on("focus"+d,o(r._focus,r)).on("blur"+d,o(r._blur,r)).on("keydown"+d,o(r._keydown,r)).on("keyup"+d,o(r._keyup,r)),n.notify(r);},destroy:function destroy(){var e=this;e.wrapper.off(d),i.fn.destroy.call(e);},events:[a],options:{name:"Button",icon:"",spriteCssClass:"",imageUrl:"",enable:!0},_isNativeButton:function _isNativeButton(){return"button"==this.element.prop("tagName").toLowerCase();},_click:function _click(e){this.options.enable&&this.trigger(a,{event:e})&&e.preventDefault();},_focus:function _focus(){this.options.enable&&this.element.addClass(f);},_blur:function _blur(){this.element.removeClass(f);},_keydown:function _keydown(e){var t=this;t._isNativeButton()||e.keyCode!=r.ENTER&&e.keyCode!=r.SPACEBAR||(e.keyCode==r.SPACEBAR&&(e.preventDefault(),t.options.enable&&t.element.addClass(p)),t._click(e));},_keyup:function _keyup(){this.element.removeClass(p);},_graphics:function _graphics(){var t,n,i,o=this,r=o.element,a=o.options,s=a.icon,d=a.spriteCssClass,u=a.imageUrl;(d||u||s)&&(i=!0,r.contents().not("span.k-sprite").not("span.k-icon").not("img.k-image").each(function(t,n){(1==n.nodeType||3==n.nodeType&&e.trim(n.nodeValue).length>0)&&(i=!1);}),r.addClass(i?l:c)),s?(t=r.children("span.k-icon").first(),t[0]||(t=e('<span class="k-icon"></span>').prependTo(r)),t.addClass("k-i-"+s)):d?(t=r.children("span.k-sprite").first(),t[0]||(t=e('<span class="k-sprite"></span>').prependTo(r)),t.addClass(d)):u&&(n=r.children("img.k-image").first(),n[0]||(n=e('<img alt="icon" class="k-image" />').prependTo(r)),n.attr("src",u));},enable:function enable(e){var n=this,i=n.element;e===t&&(e=!0),e=!!e,n.options.enable=e,i.toggleClass(h,!e).attr("aria-disabled",!e).attr(u,!e);try{i.blur();}catch(o){}}});n.ui.plugin(m);}(window.kendo.jQuery),window.kendo;},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("kendo.pager.min",["kendo.data.min"],e);}(function(){return function(e,t){function n(e,t,n,i,o){return e({idx:t,text:n,ns:c.ns,numeric:i,title:o||""});}function i(e,t,n){return k({className:e.substring(1),text:t,wrapClassName:n||""});}function o(e,t,n,i){e.find(t).parent().attr(c.attr("page"),n).attr("tabindex",-1).toggleClass("k-state-disabled",i);}function r(e,t){o(e,f,1,1>=t);}function a(e,t){o(e,m,Math.max(1,t-1),1>=t);}function s(e,t,n){o(e,g,Math.min(n,t+1),t>=n);}function l(e,t,n){o(e,p,n,t>=n);}var c=window.kendo,d=c.ui,u=d.Widget,h=e.proxy,f=".k-i-seek-w",p=".k-i-seek-e",m=".k-i-arrow-w",g=".k-i-arrow-e",v="change",_=".kendoPager",b="click",w="keydown",y="disabled",k=c.template('<a href="\\#" title="#=text#" class="k-link k-pager-nav #= wrapClassName #"><span class="k-icon #= className #">#=text#</span></a>'),x=u.extend({init:function init(t,n){var o,d,y,k,x=this;u.fn.init.call(x,t,n),n=x.options,x.dataSource=c.data.DataSource.create(n.dataSource),x.linkTemplate=c.template(x.options.linkTemplate),x.selectTemplate=c.template(x.options.selectTemplate),x.currentPageTemplate=c.template(x.options.currentPageTemplate),o=x.page(),d=x.totalPages(),x._refreshHandler=h(x.refresh,x),x.dataSource.bind(v,x._refreshHandler),n.previousNext&&(x.element.find(f).length||(x.element.append(i(f,n.messages.first,"k-pager-first")),r(x.element,o,d)),x.element.find(m).length||(x.element.append(i(m,n.messages.previous)),a(x.element,o,d))),n.numeric&&(x.list=x.element.find(".k-pager-numbers"),x.list.length||(x.list=e('<ul class="k-pager-numbers k-reset" />').appendTo(x.element))),n.input&&(x.element.find(".k-pager-input").length||x.element.append('<span class="k-pager-input k-label">'+n.messages.page+'<input class="k-textbox">'+c.format(n.messages.of,d)+"</span>"),x.element.on(w+_,".k-pager-input input",h(x._keydown,x))),n.previousNext&&(x.element.find(g).length||(x.element.append(i(g,n.messages.next)),s(x.element,o,d)),x.element.find(p).length||(x.element.append(i(p,n.messages.last,"k-pager-last")),l(x.element,o,d))),n.pageSizes&&(x.element.find(".k-pager-sizes").length||(y=n.pageSizes.length?n.pageSizes:["all",5,10,20],k=e.map(y,function(e){return e.toLowerCase&&"all"===e.toLowerCase()?"<option value='all'>"+n.messages.allPages+"</option>":"<option>"+e+"</option>";}),e('<span class="k-pager-sizes k-label"><select/>'+n.messages.itemsPerPage+"</span>").appendTo(x.element).find("select").html(k.join("")).end().appendTo(x.element)),x.element.find(".k-pager-sizes select").val(x.pageSize()),c.ui.DropDownList&&x.element.find(".k-pager-sizes select").show().kendoDropDownList(),x.element.on(v+_,".k-pager-sizes select",h(x._change,x))),n.refresh&&(x.element.find(".k-pager-refresh").length||x.element.append('<a href="#" class="k-pager-refresh k-link" title="'+n.messages.refresh+'"><span class="k-icon k-i-refresh">'+n.messages.refresh+"</span></a>"),x.element.on(b+_,".k-pager-refresh",h(x._refreshClick,x))),n.info&&(x.element.find(".k-pager-info").length||x.element.append('<span class="k-pager-info k-label" />')),x.element.on(b+_,"a",h(x._click,x)).addClass("k-pager-wrap k-widget k-floatwrap"),x.element.on(b+_,".k-current-page",h(x._toggleActive,x)),n.autoBind&&x.refresh(),c.notify(x);},destroy:function destroy(){var e=this;u.fn.destroy.call(e),e.element.off(_),e.dataSource.unbind(v,e._refreshHandler),e._refreshHandler=null,c.destroy(e.element),e.element=e.list=null;},events:[v],options:{name:"Pager",selectTemplate:'<li><span class="k-state-selected">#=text#</span></li>',currentPageTemplate:'<li class="k-current-page"><span class="k-link k-pager-nav">#=text#</span></li>',linkTemplate:'<li><a tabindex="-1" href="\\#" class="k-link" data-#=ns#page="#=idx#" #if (title !== "") {# title="#=title#" #}#>#=text#</a></li>',buttonCount:10,autoBind:!0,numeric:!0,info:!0,input:!1,previousNext:!0,pageSizes:!1,refresh:!1,messages:{allPages:"All",display:"{0} - {1} of {2} items",empty:"No items to display",page:"Page",of:"of {0}",itemsPerPage:"items per page",first:"Go to the first page",previous:"Go to the previous page",next:"Go to the next page",last:"Go to the last page",refresh:"Refresh",morePages:"More pages"}},setDataSource:function setDataSource(e){var t=this;t.dataSource.unbind(v,t._refreshHandler),t.dataSource=t.options.dataSource=e,e.bind(v,t._refreshHandler),t.options.autoBind&&e.fetch();},refresh:function refresh(e){var t,i,o,d,u,h,f=this,p=1,m=f.page(),g="",v=f.options,_=f.pageSize(),b=f.dataSource.total(),w=f.totalPages(),k=f.linkTemplate,x=v.buttonCount;if(!e||"itemchange"!=e.action){if(v.numeric){for(m>x&&(o=m%x,p=0===o?m-x+1:m-o+1),i=Math.min(p+x-1,w),p>1&&(g+=n(k,p-1,"...",!1,v.messages.morePages)),t=p;i>=t;t++){g+=n(t==m?f.selectTemplate:k,t,t,!0);}w>i&&(g+=n(k,t,"...",!1,v.messages.morePages)),""===g&&(g=f.selectTemplate({text:0})),g=this.currentPageTemplate({text:m})+g,f.list.removeClass("k-state-expanded").html(g);}v.info&&(g=b>0?c.format(v.messages.display,(m-1)*_+1,Math.min(m*_,b),b):v.messages.empty,f.element.find(".k-pager-info").html(g)),v.input&&f.element.find(".k-pager-input").html(f.options.messages.page+'<input class="k-textbox">'+c.format(v.messages.of,w)).find("input").val(m).attr(y,1>b).toggleClass("k-state-disabled",1>b),v.previousNext&&(r(f.element,m,w),a(f.element,m,w),s(f.element,m,w),l(f.element,m,w)),v.pageSizes&&(d=f.element.find(".k-pager-sizes option[value='all']").length>0,u=d&&_===this.dataSource.total(),h=_,u&&(_="all",h=v.messages.allPages),f.element.find(".k-pager-sizes select").val(_).filter("["+c.attr("role")+"=dropdownlist]").kendoDropDownList("value",_).kendoDropDownList("text",h));}},_keydown:function _keydown(e){if(e.keyCode===c.keys.ENTER){var t=this.element.find(".k-pager-input").find("input"),n=parseInt(t.val(),10);(isNaN(n)||1>n||n>this.totalPages())&&(n=this.page()),t.val(n),this.page(n);}},_refreshClick:function _refreshClick(e){e.preventDefault(),this.dataSource.read();},_change:function _change(e){var t=e.currentTarget.value,n=parseInt(t,10),i=this.dataSource;isNaN(n)?"all"==(t+"").toLowerCase()&&i.pageSize(i.total()):i.pageSize(n);},_toggleActive:function _toggleActive(){this.list.toggleClass("k-state-expanded");},_click:function _click(t){var n=e(t.currentTarget);t.preventDefault(),n.is(".k-state-disabled")||this.page(n.attr(c.attr("page")));},totalPages:function totalPages(){return Math.ceil((this.dataSource.total()||0)/(this.pageSize()||1));},pageSize:function pageSize(){return this.dataSource.pageSize()||this.dataSource.total();},page:function page(e){return e===t?this.dataSource.total()>0?this.dataSource.page():0:(this.dataSource.page(e),this.trigger(v,{index:e}),t);}});d.plugin(x);}(window.kendo.jQuery),window.kendo;},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("kendo.notification.min",["kendo.core.min","kendo.popup.min"],e);}(function(){return function(e,t){var n=window.kendo,i=n.ui.Widget,o=e.proxy,r=e.extend,a=window.setTimeout,s="click",l="show",c="hide",d="k-notification",u=".k-notification-wrap .k-i-close",h="k-hiding",f="info",p="success",m="warning",g="error",v="top",_="left",b="bottom",w="right",y="up",k=".kendoNotification",x='<div class="k-widget k-notification"></div>',C='<div class="k-notification-wrap"><span class="k-icon k-i-note">#=typeIcon#</span>#=content#<span class="k-icon k-i-close">Hide</span></div>',S=C.replace("#=content#","#:content#"),T=i.extend({init:function init(t,o){var r=this;i.fn.init.call(r,t,o),o=r.options,o.appendTo&&e(o.appendTo).is(t)||r.element.hide(),r._compileTemplates(o.templates),r._guid="_"+n.guid(),r._isRtl=n.support.isRtl(t),r._compileStacking(o.stacking,o.position.top,o.position.left),n.notify(r);},events:[l,c],options:{name:"Notification",position:{pinned:!0,top:null,left:null,bottom:20,right:20},stacking:"default",hideOnClick:!0,button:!1,allowHideAfter:0,autoHideAfter:5e3,appendTo:null,width:null,height:null,templates:[],animation:{open:{effects:"fade:in",duration:300},close:{effects:"fade:out",duration:600,hide:!0}}},_compileTemplates:function _compileTemplates(t){var i=this,o=n.template;i._compiled={},e.each(t,function(t,n){i._compiled[n.type]=o(n.template||e("#"+n.templateId).html());}),i._defaultCompiled=o(C),i._safeCompiled=o(S);},_getCompiled:function _getCompiled(e,t){var n=t?this._safeCompiled:this._defaultCompiled;return e?this._compiled[e]||n:n;},_compileStacking:function _compileStacking(e,t,n){var i,o,r=this,a={paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0},s=null!==n?_:w;switch(e){case"down":i=b+" "+s,o=v+" "+s,delete a.paddingBottom;break;case w:i=v+" "+w,o=v+" "+_,delete a.paddingRight;break;case _:i=v+" "+_,o=v+" "+w,delete a.paddingLeft;break;case y:i=v+" "+s,o=b+" "+s,delete a.paddingTop;break;default:null!==t?(i=b+" "+s,o=v+" "+s,delete a.paddingBottom):(i=v+" "+s,o=b+" "+s,delete a.paddingTop);}r._popupOrigin=i,r._popupPosition=o,r._popupPaddings=a;},_attachPopupEvents:function _attachPopupEvents(e,t){function i(e){e.on(s+k,function(){r._hidePopup(t);});}var o,r=this,l=e.allowHideAfter,c=!isNaN(l)&&l>0;t.options.anchor!==document.body&&t.options.origin.indexOf(w)>0&&t.bind("open",function(){var e=n.getShadows(t.element);a(function(){t.wrapper.css("left",parseFloat(t.wrapper.css("left"))+e.left+e.right);});}),e.hideOnClick?t.bind("activate",function(){c?a(function(){i(t.element);},l):i(t.element);}):e.button&&(o=t.element.find(u),c?a(function(){i(o);},l):i(o));},_showPopup:function _showPopup(t,i){var o,s,l=this,c=i.autoHideAfter,d=i.position.left,f=i.position.top;s=e("."+l._guid+":not(."+h+")").last(),o=new n.ui.Popup(t,{anchor:s[0]?s:document.body,origin:l._popupOrigin,position:l._popupPosition,animation:i.animation,modal:!0,collision:"",isRtl:l._isRtl,close:function close(){l._triggerHide(this.element);},deactivate:function deactivate(e){e.sender.element.off(k),e.sender.element.find(u).off(k),e.sender.destroy();}}),l._attachPopupEvents(i,o),s[0]?o.open():(null===d&&(d=e(window).width()-t.width()-i.position.right),null===f&&(f=e(window).height()-t.height()-i.position.bottom),o.open(d,f)),o.wrapper.addClass(l._guid).css(r({margin:0},l._popupPaddings)),i.position.pinned?(o.wrapper.css("position","fixed"),s[0]&&l._togglePin(o.wrapper,!0)):s[0]||l._togglePin(o.wrapper,!1),c>0&&a(function(){l._hidePopup(o);},c);},_hidePopup:function _hidePopup(e){e.wrapper.addClass(h),e.close();},_togglePin:function _togglePin(t,n){var i=e(window),o=n?-1:1;t.css({top:parseInt(t.css(v),10)+o*i.scrollTop(),left:parseInt(t.css(_),10)+o*i.scrollLeft()});},_attachStaticEvents:function _attachStaticEvents(e,t){function n(e){e.on(s+k,o(i._hideStatic,i,t));}var i=this,r=e.allowHideAfter,l=!isNaN(r)&&r>0;e.hideOnClick?l?a(function(){n(t);},r):n(t):e.button&&(l?a(function(){n(t.find(u));},r):n(t.find(u)));},_showStatic:function _showStatic(e,t){var n=this,i=t.autoHideAfter,o=t.animation,r=t.stacking==y||t.stacking==_?"prependTo":"appendTo";e.addClass(n._guid)[r](t.appendTo).hide().kendoAnimate(o.open||!1),n._attachStaticEvents(t,e),i>0&&a(function(){n._hideStatic(e);},i);},_hideStatic:function _hideStatic(e){e.kendoAnimate(r(this.options.animation.close||!1,{complete:function complete(){e.off(k).find(u).off(k),e.remove();}})),this._triggerHide(e);},_triggerHide:function _triggerHide(e){this.trigger(c,{element:e}),this.angular("cleanup",function(){return{elements:e};});},show:function show(i,o,a){var s,c,u=this,h=u.options,p=e(x);return o||(o=f),null!==i&&i!==t&&""!==i&&(n.isFunction(i)&&(i=i()),c={typeIcon:o,content:""},s=e.isPlainObject(i)?r(c,i):r(c,{content:i}),p.addClass(d+"-"+o).toggleClass(d+"-button",h.button).attr("data-role","alert").css({width:h.width,height:h.height}).append(u._getCompiled(o,a)(s)),u.angular("compile",function(){return{elements:p,data:[{dataItem:s}]};}),e(h.appendTo)[0]?u._showStatic(p,h):u._showPopup(p,h),u.trigger(l,{element:p})),u;},showText:function showText(e,t){this.show(e,t,!0);},info:function info(e){return this.show(e,f);},success:function success(e){return this.show(e,p);},warning:function warning(e){return this.show(e,m);},error:function error(e){return this.show(e,g);},hide:function hide(){var t=this,n=t.getNotifications();return n.each(t.options.appendTo?function(n,i){t._hideStatic(e(i));}:function(n,i){var o=e(i).data("kendoPopup");o&&t._hidePopup(o);}),t;},getNotifications:function getNotifications(){var t=this,n=e("."+t._guid+":not(."+h+")");return t.options.appendTo?n:n.children("."+d);},setOptions:function setOptions(e){var n,o=this;i.fn.setOptions.call(o,e),n=o.options,e.templates!==t&&o._compileTemplates(n.templates),e.stacking===t&&e.position===t||o._compileStacking(n.stacking,n.position.top,n.position.left);},destroy:function destroy(){i.fn.destroy.call(this),this.getNotifications().off(k).find(u).off(k);}});n.ui.plugin(T);}(window.kendo.jQuery),window.kendo;},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("kendo.tooltip.min",["kendo.core.min","kendo.popup.min"],e);}(function(){return function(e,t){function n(e){for(;e.length;){i(e),e=e.parent();}}function i(e){var t=e.data(a.ns+"title");t&&(e.attr("title",t),e.removeData(a.ns+"title"));}function o(e){var t=e.attr("title");t&&(e.data(a.ns+"title",t),e.attr("title",""));}function r(e){for(;e.length&&!e.is("body");){o(e),e=e.parent();}}var a=window.kendo,s=a.ui.Widget,l=a.ui.Popup,c=a.isFunction,d=e.isPlainObject,u=e.extend,h=e.proxy,f=e(document),p=a.isLocalUrl,m="_tt_active",g="aria-describedby",v="show",_="hide",b="error",w="contentLoad",y="requestStart",k="k-content-frame",x='<div role="tooltip" class="k-widget k-tooltip#if (!autoHide) {# k-tooltip-closable#}#">#if (!autoHide) {# <div class="k-tooltip-button"><a href="\\#" class="k-icon k-i-close">close</a></div> #}#<div class="k-tooltip-content"></div>#if (callout){ #<div class="k-callout k-callout-#=dir#"></div>#}#</div>',C=a.template("<iframe frameborder='0' class='"+k+"' src='#= content.url #'>This page requires frames in order to show content</iframe>"),S=".kendoTooltip",T={bottom:{origin:"bottom center",position:"top center"},top:{origin:"top center",position:"bottom center"},left:{origin:"center left",position:"center right",collision:"fit flip"},right:{origin:"center right",position:"center left",collision:"fit flip"},center:{position:"center center",origin:"center center"}},D={top:"bottom",bottom:"top",left:"right",right:"left",center:"center"},A={bottom:"n",top:"s",left:"e",right:"w",center:"n"},E={horizontal:{offset:"top",size:"outerHeight"},vertical:{offset:"left",size:"outerWidth"}},R=function R(e){return e.target.data(a.ns+"title");},I=s.extend({init:function init(e,t){var n,i=this;s.fn.init.call(i,e,t),n=i.options.position.match(/left|right/)?"horizontal":"vertical",i.dimensions=E[n],i._documentKeyDownHandler=h(i._documentKeyDown,i),i.element.on(i.options.showOn+S,i.options.filter,h(i._showOn,i)).on("mouseenter"+S,i.options.filter,h(i._mouseenter,i)),this.options.autoHide&&i.element.on("mouseleave"+S,i.options.filter,h(i._mouseleave,i));},options:{name:"Tooltip",filter:"",content:R,showAfter:100,callout:!0,position:"bottom",showOn:"mouseenter",autoHide:!0,width:null,height:null,animation:{open:{effects:"fade:in",duration:0},close:{effects:"fade:out",duration:40,hide:!0}}},events:[v,_,w,b,y],_mouseenter:function _mouseenter(t){r(e(t.currentTarget));},_showOn:function _showOn(t){var n=this,i=e(t.currentTarget);n.options.showOn&&n.options.showOn.match(/click|focus/)?n._show(i):(clearTimeout(n.timeout),n.timeout=setTimeout(function(){n._show(i);},n.options.showAfter));},_appendContent:function _appendContent(e){var t,n=this,i=n.options.content,o=n.content,r=n.options.iframe;d(i)&&i.url?("iframe"in n.options||(r=!p(i.url)),n.trigger(y,{options:i,target:e}),r?(o.hide(),t=o.find("."+k)[0],t?t.src=i.url||t.src:o.html(C({content:i})),o.find("."+k).off("load"+S).on("load"+S,function(){n.trigger(w),o.show();})):(o.empty(),a.ui.progress(o,!0),n._ajaxRequest(i))):i&&c(i)?(i=i({sender:this,target:e}),o.html(i||"")):o.html(i),n.angular("compile",function(){return{elements:o};});},_ajaxRequest:function _ajaxRequest(e){var t=this;jQuery.ajax(u({type:"GET",dataType:"html",cache:!1,error:function error(e,n){a.ui.progress(t.content,!1),t.trigger(b,{status:n,xhr:e});},success:h(function(e){a.ui.progress(t.content,!1),t.content.html(e),t.trigger(w);},t)},e));},_documentKeyDown:function _documentKeyDown(e){e.keyCode===a.keys.ESC&&this.hide();},refresh:function refresh(){var e=this,t=e.popup;t&&t.options.anchor&&e._appendContent(t.options.anchor);},hide:function hide(){this.popup&&this.popup.close();},show:function show(e){e=e||this.element,r(e),this._show(e);},_show:function _show(e){var t=this,i=t.target();t.popup||t._initPopup(),i&&i[0]!=e[0]&&(t.popup.close(),t.popup.element.kendoStop(!0,!0)),i&&i[0]==e[0]||(t._appendContent(e),t.popup.options.anchor=e),t.popup.one("deactivate",function(){n(e),e.removeAttr(g),this.element.removeAttr("id").attr("aria-hidden",!0),f.off("keydown"+S,t._documentKeyDownHandler);}),t.popup.open();},_initPopup:function _initPopup(){var t=this,n=t.options,i=e(a.template(x)({callout:n.callout&&"center"!==n.position,dir:A[n.position],autoHide:n.autoHide}));t.popup=new l(i,u({activate:function activate(){var e=this.options.anchor,i=e[0].id||t.element[0].id;i&&(e.attr(g,i+m),this.element.attr("id",i+m)),n.callout&&t._positionCallout(),this.element.removeAttr("aria-hidden"),f.on("keydown"+S,t._documentKeyDownHandler),t.trigger(v);},close:function close(){t.trigger(_);},copyAnchorStyles:!1,animation:n.animation},T[n.position])),i.css({width:n.width,height:n.height}),t.content=i.find(".k-tooltip-content"),t.arrow=i.find(".k-callout"),n.autoHide?i.on("mouseleave"+S,h(t._mouseleave,t)):i.on("click"+S,".k-tooltip-button",h(t._closeButtonClick,t));},_closeButtonClick:function _closeButtonClick(e){e.preventDefault(),this.hide();},_mouseleave:function _mouseleave(t){if(this.popup){var i=e(t.currentTarget),o=i.offset(),r=t.pageX,a=t.pageY;if(o.right=o.left+i.outerWidth(),o.bottom=o.top+i.outerHeight(),r>o.left&&o.right>r&&a>o.top&&o.bottom>a)return;this.popup.close();}else n(e(t.currentTarget));clearTimeout(this.timeout);},_positionCallout:function _positionCallout(){var t=this,n=t.options.position,i=t.dimensions,o=i.offset,r=t.popup,a=r.options.anchor,s=e(a).offset(),l=parseInt(t.arrow.css("border-top-width"),10),c=e(r.element).offset(),d=A[r.flipped?D[n]:n],u=s[o]-c[o]+e(a)[i.size]()/2-l;t.arrow.removeClass("k-callout-n k-callout-s k-callout-w k-callout-e").addClass("k-callout-"+d).css(o,u);},target:function target(){return this.popup?this.popup.options.anchor:null;},destroy:function destroy(){var e=this.popup;e&&(e.element.off(S),e.destroy()),clearTimeout(this.timeout),this.element.off(S),f.off("keydown"+S,this._documentKeyDownHandler),s.fn.destroy.call(this);}});a.ui.plugin(I);}(window.kendo.jQuery),window.kendo;},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("kendo.list.min",["kendo.data.min","kendo.popup.min"],e);}(function(){return function(e,t){function n(e,n){return e!==t&&""!==e&&null!==e&&("boolean"===n?e=!!e:"number"===n?e=+e:"string"===n&&(e=""+e)),e;}function i(e,t){var n,i,o,r,a=t.length,s=e.length,l=[],c=[];if(s)for(o=0;s>o;o++){for(n=e[o],i=!1,r=0;a>r;r++){if(n===t[r]){i=!0,l.push({index:o,item:n});break;}}i||c.push(n);}return{changed:l,unchanged:c};}function o(t,n){var i,r=!1;return t.filters&&(i=e.grep(t.filters,function(e){return r=o(e,n),e.filters?e.filters.length:e.field!=n;}),r||t.filters.length===i.length||(r=!0),t.filters=i),r;}var r,a,s=window.kendo,l=s.ui,c=l.Widget,d=s.keys,u=s.support,h=s.htmlEncode,f=s._activeElement,p=s.data.ObservableArray,m="id",g="change",v="k-state-focused",_="k-state-hover",b="k-loading",w="open",y="close",k="cascade",x="select",C="selected",S="requestStart",T="requestEnd",D="width",A=e.extend,E=e.proxy,R=e.isArray,I=u.browser,F=I.msie&&9>I.version,M=/"/g,P={ComboBox:"DropDownList",DropDownList:"ComboBox"},z=s.ui.DataBoundWidget.extend({init:function init(t,n){var i,o=this,r=o.ns;c.fn.init.call(o,t,n),t=o.element,n=o.options,o._isSelect=t.is(x),o._isSelect&&o.element[0].length&&(n.dataSource||(n.dataTextField=n.dataTextField||"text",n.dataValueField=n.dataValueField||"value")),o.ul=e('<ul unselectable="on" class="k-list k-reset"/>').attr({tabIndex:-1,"aria-hidden":!0}),o.list=e("<div class='k-list-container'/>").append(o.ul).on("mousedown"+r,E(o._listMousedown,o)),i=t.attr(m),i&&(o.list.attr(m,i+"-list"),o.ul.attr(m,i+"_listbox")),o._header(),o._accessors(),o._initValue();},options:{valuePrimitive:!1,headerTemplate:""},setOptions:function setOptions(e){c.fn.setOptions.call(this,e),e&&e.enable!==t&&(e.enabled=e.enable);},focus:function focus(){this._focused.focus();},readonly:function readonly(e){this._editable({readonly:e===t?!0:e,disable:!1});},enable:function enable(e){this._editable({readonly:!1,disable:!(e=e===t?!0:e)});},_listOptions:function _listOptions(t){var n=this,i=n.options,o=i.virtual,r=E(n._listBound,n);return o="object"==(typeof o==="undefined"?"undefined":_typeof(o))?o:{},t=e.extend({autoBind:!1,selectable:!0,dataSource:n.dataSource,click:E(n._click,n),change:E(n._listChange,n),activate:E(n._activateItem,n),deactivate:E(n._deactivateItem,n),dataBinding:function dataBinding(){n.trigger("dataBinding");},dataBound:r,height:i.height,dataValueField:i.dataValueField,dataTextField:i.dataTextField,groupTemplate:i.groupTemplate,fixedGroupTemplate:i.fixedGroupTemplate,template:i.template},t,o),t.template||(t.template="#:"+s.expr(t.dataTextField,"data")+"#"),i.$angular&&(t.$angular=i.$angular),t;},_initList:function _initList(){var e=this,t=e._listOptions({selectedItemChange:E(e._listChange,e)});e.listView=e.options.virtual?new s.ui.VirtualList(e.ul,t):new s.ui.StaticList(e.ul,t),e.listView.bind("listBound",E(e._listBound,e)),e._setListValue();},_setListValue:function _setListValue(e){e=e||this.options.value,e!==t&&this.listView.value(e).done(E(this._updateSelectionState,this));},_updateSelectionState:e.noop,_listMousedown:function _listMousedown(e){this.filterInput&&this.filterInput[0]===e.target||e.preventDefault();},_isFilterEnabled:function _isFilterEnabled(){var e=this.options.filter;return e&&"none"!==e;},_clearFilter:function _clearFilter(){this.options.virtual||this.listView.bound(!1),this._filterSource();},_filterSource:function _filterSource(e,t){var n=this,i=n.options,r=n.dataSource,a=A({},r.filter()||{}),s=o(a,i.dataTextField);(e||s)&&n.trigger("filtering",{filter:e})||(a={filters:a.filters||[],logic:"and"},e&&a.filters.push(e),n._cascading&&this.listView.setDSFilter(a),t?r.read(r._mergeState({filter:a})):r.filter(a));},_header:function _header(){var t,n=this,i=n.options.headerTemplate;e.isFunction(i)&&(i=i({})),i&&(n.list.prepend(i),t=n.ul.prev(),n.header=t[0]?t:null,n.header&&n.angular("compile",function(){return{elements:n.header};}));},_initValue:function _initValue(){var e=this,t=e.options.value;null!==t?e.element.val(t):(t=e._accessor(),e.options.value=t),e._old=t;},_ignoreCase:function _ignoreCase(){var e,t=this,n=t.dataSource.reader.model;n&&n.fields&&(e=n.fields[t.options.dataTextField],e&&e.type&&"string"!==e.type&&(t.options.ignoreCase=!1));},_focus:function _focus(e){return this.listView.focus(e);},current:function current(e){return this._focus(e);},items:function items(){return this.ul[0].children;},destroy:function destroy(){var e=this,t=e.ns;c.fn.destroy.call(e),e._unbindDataSource(),e.listView.destroy(),e.list.off(t),e.popup.destroy(),e._form&&e._form.off("reset",e._resetHandler);},dataItem:function dataItem(n){var i=this;if(n===t)return i.listView.selectedDataItems()[0];if("number"!=typeof n){if(i.options.virtual)return i.dataSource.getByUid(e(n).data("uid"));n=e(i.items()).index(n);}return i.dataSource.flatView()[n];},_activateItem:function _activateItem(){var e=this.listView.focus();e&&this._focused.add(this.filterInput).attr("aria-activedescendant",e.attr("id"));},_deactivateItem:function _deactivateItem(){this._focused.add(this.filterInput).removeAttr("aria-activedescendant");},_accessors:function _accessors(){var e=this,t=e.element,n=e.options,i=s.getter,o=t.attr(s.attr("text-field")),r=t.attr(s.attr("value-field"));!n.dataTextField&&o&&(n.dataTextField=o),!n.dataValueField&&r&&(n.dataValueField=r),e._text=i(n.dataTextField),e._value=i(n.dataValueField);},_aria:function _aria(e){var n=this,i=n.options,o=n._focused.add(n.filterInput);i.suggest!==t&&o.attr("aria-autocomplete",i.suggest?"both":"list"),e=e?e+" "+n.ul[0].id:n.ul[0].id,o.attr("aria-owns",e),n.ul.attr("aria-live",n._isFilterEnabled()?"polite":"off");},_blur:function _blur(){var e=this;e._change(),e.close();},_change:function _change(){var e,i=this,o=i.selectedIndex,r=i.options.value,a=i.value();i._isSelect&&!i.listView.bound()&&r&&(a=r),a!==n(i._old,typeof a==="undefined"?"undefined":_typeof(a))?e=!0:o!==t&&o!==i._oldIndex&&(e=!0),e&&(i._old=a,i._oldIndex=o,i._typing||i.element.trigger(g),i.trigger(g)),i.typing=!1;},_data:function _data(){return this.dataSource.view();},_enable:function _enable(){var e=this,n=e.options,i=e.element.is("[disabled]");n.enable!==t&&(n.enabled=n.enable),!n.enabled||i?e.enable(!1):e.readonly(e.element.is("[readonly]"));},_dataValue:function _dataValue(e){var n=this._value(e);return n===t&&(n=this._text(e)),n;},_offsetHeight:function _offsetHeight(){var t=0,n=this.listView.content.prevAll(":visible");return n.each(function(){var n=e(this);t+=n.hasClass("k-list-filter")?n.children().outerHeight():n.outerHeight();}),t;},_height:function _height(e){var n,i,o=this,r=o.list,a=o.options.height,s=o.popup.visible();if(e){if(i=r.add(r.parent(".k-animation-container")).show(),!r.is(":visible"))return i.hide(),t;a=o.listView.content[0].scrollHeight>a?a:"auto",i.height(a),"auto"!==a&&(n=o._offsetHeight(),n&&(a-=n)),o.listView.content.height(a),s||i.hide();}return a;},_adjustListWidth:function _adjustListWidth(){var e,t,n=this.list,i=n[0].style.width,o=this.wrapper;if(n.data(D)||!i)return e=window.getComputedStyle?window.getComputedStyle(o[0],null):0,t=parseFloat(e&&e.width)||o.outerWidth(),e&&I.msie&&(t+=parseFloat(e.paddingLeft)+parseFloat(e.paddingRight)+parseFloat(e.borderLeftWidth)+parseFloat(e.borderRightWidth)),i="border-box"!==n.css("box-sizing")?t-(n.outerWidth()-n.width()):t,n.css({fontFamily:o.css("font-family"),width:i}).data(D,i),!0;},_openHandler:function _openHandler(e){this._adjustListWidth(),this.trigger(w)?e.preventDefault():(this._focused.attr("aria-expanded",!0),this.ul.attr("aria-hidden",!1));},_closeHandler:function _closeHandler(e){this.trigger(y)?e.preventDefault():(this._focused.attr("aria-expanded",!1),this.ul.attr("aria-hidden",!0));},_focusItem:function _focusItem(){var e=this.listView,n=e.focus(),i=e.select();i=i[i.length-1],i===t&&this.options.highlightFirst&&!n&&(i=0),i!==t?e.focus(i):e.scrollToIndex(0);},_calculateGroupPadding:function _calculateGroupPadding(e){var t=this.ul.children(".k-first:first"),n=this.listView.content.prev(".k-group-header"),i=0;n[0]&&"none"!==n[0].style.display&&("auto"!==e&&(i=s.support.scrollbar()),i+=parseFloat(t.css("border-right-width"),10)+parseFloat(t.children(".k-group").css("padding-right"),10),n.css("padding-right",i));},_calculatePopupHeight:function _calculatePopupHeight(e){var t=this._height(this.dataSource.flatView().length||e);this._calculateGroupPadding(t);},_resizePopup:function _resizePopup(e){this.options.virtual||(this.popup.element.is(":visible")?this._calculatePopupHeight(e):this.popup.one("open",function(e){return E(function(){this._calculatePopupHeight(e);},this);}.call(this,e)));},_popup:function _popup(){var e=this;e.popup=new l.Popup(e.list,A({},e.options.popup,{anchor:e.wrapper,open:E(e._openHandler,e),close:E(e._closeHandler,e),animation:e.options.animation,isRtl:u.isRtl(e.wrapper)}));},_makeUnselectable:function _makeUnselectable(){F&&this.list.find("*").not(".k-textbox").attr("unselectable","on");},_toggleHover:function _toggleHover(t){e(t.currentTarget).toggleClass(_,"mouseenter"===t.type);},_toggle:function _toggle(e,n){var i=this,o=u.mobileOS&&(u.touch||u.MSPointers||u.pointers);e=e!==t?e:!i.popup.visible(),n||o||i._focused[0]===f()||(i._prevent=!0,i._focused.focus(),i._prevent=!1),i[e?w:y]();},_triggerCascade:function _triggerCascade(){var e=this;e._cascadeTriggered&&e._old===e.value()&&e._oldIndex===e.selectedIndex||(e._cascadeTriggered=!0,e.trigger(k,{userTriggered:e._userTriggered}));},_triggerChange:function _triggerChange(){this._valueBeforeCascade!==this.value()&&this.trigger(g);},_unbindDataSource:function _unbindDataSource(){var e=this;e.dataSource.unbind(S,e._requestStartHandler).unbind(T,e._requestEndHandler).unbind("error",e._errorHandler);}});A(z,{inArray:function inArray(e,t){var n,i,o=t.children;if(!e||e.parentNode!==t)return-1;for(n=0,i=o.length;i>n;n++){if(e===o[n])return n;}return-1;},unifyType:n}),s.ui.List=z,l.Select=z.extend({init:function init(e,t){z.fn.init.call(this,e,t),this._initial=this.element.val();},setDataSource:function setDataSource(e){var t,n=this;n.options.dataSource=e,n._dataSource(),n.listView.bound()&&(n._initialIndex=null),n.listView.setDataSource(n.dataSource),n.options.autoBind&&n.dataSource.fetch(),t=n._parentWidget(),t&&n._cascadeSelect(t);},close:function close(){this.popup.close();},select:function select(e){var n=this;return e===t?n.selectedIndex:(n._select(e),n._old=n._accessor(),n._oldIndex=n.selectedIndex,t);},search:function search(e){var t,n,i,o,r;e="string"==typeof e?e:this.text(),t=this,n=e.length,i=t.options,o=i.ignoreCase,r=i.dataTextField,clearTimeout(t._typingTimeout),(!n||n>=i.minLength)&&(t._state="filter",t._isFilterEnabled()?(t._open=!0,t._filterSource({value:o?e.toLowerCase():e,field:r,operator:i.filter,ignoreCase:o})):t._filter(e));},_accessor:function _accessor(e,t){return this[this._isSelect?"_accessorSelect":"_accessorInput"](e,t);},_accessorInput:function _accessorInput(e){var n=this.element[0];return e===t?n.value:(null===e&&(e=""),n.value=e,t);},_accessorSelect:function _accessorSelect(e,n){var i,o=this.element[0],r=o.selectedIndex;return e===t?(r>-1&&(i=o.options[r]),i&&(e=i.value),e||""):(r>-1&&(o.options[r].removeAttribute(C),o.options[r].selected=!1),n===t&&(n=-1),null!==e&&""!==e&&-1==n?this._custom(e):(e?o.value=e:o.selectedIndex=n,o.selectedIndex>-1&&(i=o.options[o.selectedIndex]),i&&i.setAttribute(C,C)),t);},_custom:function _custom(t){var n=this,i=n.element,o=n._customOption;o||(o=e("<option/>"),n._customOption=o,i.append(o)),o.text(t),o[0].setAttribute(C,C),o[0].selected=!0;},_hideBusy:function _hideBusy(){var e=this;clearTimeout(e._busy),e._arrow.removeClass(b),e._focused.attr("aria-busy",!1),e._busy=null;},_showBusy:function _showBusy(){var e=this;e._request=!0,e._busy||(e._busy=setTimeout(function(){e._arrow&&(e._focused.attr("aria-busy",!0),e._arrow.addClass(b));},100));},_requestEnd:function _requestEnd(){this._request=!1,this._hideBusy();},_dataSource:function _dataSource(){var t,n=this,i=n.element,o=n.options,r=o.dataSource||{};r=e.isArray(r)?{data:r}:r,n._isSelect&&(t=i[0].selectedIndex,t>-1&&(o.index=t),r.select=i,r.fields=[{field:o.dataTextField},{field:o.dataValueField}]),n.dataSource?n._unbindDataSource():(n._requestStartHandler=E(n._showBusy,n),n._requestEndHandler=E(n._requestEnd,n),n._errorHandler=E(n._hideBusy,n)),n.dataSource=s.data.DataSource.create(r).bind(S,n._requestStartHandler).bind(T,n._requestEndHandler).bind("error",n._errorHandler);},_firstItem:function _firstItem(){this.listView.focusFirst();},_lastItem:function _lastItem(){this.listView.focusLast();},_nextItem:function _nextItem(){this.listView.focusNext();},_prevItem:function _prevItem(){this.listView.focusPrev();},_move:function _move(e){var n,i,o,r,a=this,s=e.keyCode,l=s===d.DOWN;if(s===d.UP||l){if(e.altKey)a.toggle(l);else{if(!a.listView.bound())return a._fetch||(a.dataSource.one(g,function(){a._fetch=!1,a._move(e);}),a._fetch=!0,a._filterSource()),e.preventDefault(),!0;if(o=a._focus(),a._fetch||o&&!o.hasClass("k-state-selected")||(l?(a._nextItem(),a._focus()||a._lastItem()):(a._prevItem(),a._focus()||a._firstItem())),a.trigger(x,{item:a._focus()}))return a._focus(o),t;a._select(a._focus(),!0),a.popup.visible()||a._blur();}e.preventDefault(),i=!0;}else if(s===d.ENTER||s===d.TAB){if(a.popup.visible()&&e.preventDefault(),o=a._focus(),n=a.dataItem(),a.popup.visible()||n&&a.text()===a._text(n)||(o=null),r=a.filterInput&&a.filterInput[0]===f(),o){if(a.trigger(x,{item:o}))return;a._select(o);}else a.input&&(a._accessor(a.input.val()),a.listView.value(a.input.val()));a._focusElement&&a._focusElement(a.wrapper),r&&s===d.TAB?a.wrapper.focusout():a._blur(),a.close(),i=!0;}else s===d.ESC&&(a.popup.visible()&&e.preventDefault(),a.close(),i=!0);return i;},_fetchData:function _fetchData(){var e=this,t=!!e.dataSource.view().length;e._request||e.options.cascadeFrom||e.listView.bound()||e._fetch||t||(e._fetch=!0,e.dataSource.fetch().done(function(){e._fetch=!1;}));},_options:function _options(e,n,i){var o,r,a,s,l=this,c=l.element,d=e.length,u="",f=0;for(n&&(u=n);d>f;f++){o="<option",r=e[f],a=l._text(r),s=l._value(r),s!==t&&(s+="",-1!==s.indexOf('"')&&(s=s.replace(M,"&quot;")),o+=' value="'+s+'"'),o+=">",a!==t&&(o+=h(a)),o+="</option>",u+=o;}c.html(u),i!==t&&(c[0].value=i,c[0].value&&!i&&(c[0].selectedIndex=-1));},_reset:function _reset(){var t=this,n=t.element,i=n.attr("form"),o=i?e("#"+i):n.closest("form");o[0]&&(t._resetHandler=function(){setTimeout(function(){t.value(t._initial);});},t._form=o.on("reset",t._resetHandler));},_parentWidget:function _parentWidget(){var t=this.options.name,n=e("#"+this.options.cascadeFrom),i=n.data("kendo"+t);return i||(i=n.data("kendo"+P[t])),i;},_cascade:function _cascade(){var e,t=this,n=t.options,i=n.cascadeFrom;if(i){if(e=t._parentWidget(),t._cascadeHandlerProxy=E(t._cascadeHandler,t),!e)return;n.autoBind=!1,e.bind("set",function(){t.one("set",function(e){t._selectedValue=e.value;});}),e.first(k,t._cascadeHandlerProxy),e.listView.bound()?(t._toggleCascadeOnFocus(),t._cascadeSelect(e)):(e.one("dataBound",function(){t._toggleCascadeOnFocus();}),e.value()||t.enable(!1));}},_toggleCascadeOnFocus:function _toggleCascadeOnFocus(){var e=this,t=e._parentWidget();t._focused.add(t.filterInput).bind("focus",function(){t.unbind(k,e._cascadeHandlerProxy),t.first(g,e._cascadeHandlerProxy);}),t._focused.add(t.filterInput).bind("focusout",function(){t.unbind(g,e._cascadeHandlerProxy),t.first(k,e._cascadeHandlerProxy);});},_cascadeHandler:function _cascadeHandler(e){var t=this._parentWidget(),n=this.value();this._userTriggered=e.userTriggered,this.listView.bound()&&this._clearSelection(t,!0),this._cascadeSelect(t,n);},_cascadeChange:function _cascadeChange(e){var t=this,n=t._accessor()||t._selectedValue;t._selectedValue=null,t._userTriggered?t._clearSelection(e,!0):n?(n!==t.listView.value()[0]&&t.value(n),t.dataSource.view()[0]&&-1!==t.selectedIndex||t._clearSelection(e,!0)):t.dataSource.flatView().length&&t.select(t.options.index),t.enable(),t._triggerCascade(),t._triggerChange(),t._userTriggered=!1;},_cascadeSelect:function _cascadeSelect(e,n){var i,_r2,a=this,s=e.dataItem(),l=s?e._value(s):null,c=a.options.cascadeFromField||e.options.dataValueField;a._valueBeforeCascade=n!==t?n:a.value(),l||0===l?(i=a.dataSource.filter()||{},o(i,c),_r2=function r(){a.unbind("dataBound",_r2),a._cascadeChange(e);},a.first("dataBound",_r2),a._cascading=!0,a._filterSource({field:c,operator:"eq",value:l}),a._cascading=!1):(a.enable(!1),a._clearSelection(e),a._triggerCascade(),a._triggerChange(),a._userTriggered=!1);}}),r=".StaticList",a=s.ui.DataBoundWidget.extend({init:function init(t,n){c.fn.init.call(this,t,n),this.element.attr("role","listbox").on("click"+r,"li",E(this._click,this)).on("mouseenter"+r,"li",function(){e(this).addClass(_);}).on("mouseleave"+r,"li",function(){e(this).removeClass(_);}),this.content=this.element.wrap("<div class='k-list-scroller' unselectable='on'></div>").parent(),this.header=this.content.before('<div class="k-group-header" style="display:none"></div>').prev(),this.bound(!1),this._optionID=s.guid(),this._selectedIndices=[],this._view=[],this._dataItems=[],this._values=[];var i=this.options.value;i&&(this._values=e.isArray(i)?i.slice(0):[i]),this._getter(),this._templates(),this.setDataSource(this.options.dataSource),this._onScroll=E(function(){var e=this;clearTimeout(e._scrollId),e._scrollId=setTimeout(function(){e._renderHeader();},50);},this);},options:{name:"StaticList",dataValueField:null,valuePrimitive:!1,selectable:!0,template:null,groupTemplate:null,fixedGroupTemplate:null},events:["click",g,"activate","deactivate","dataBinding","dataBound","selectedItemChange"],setDataSource:function setDataSource(t){var n,i=this,o=t||{};o=e.isArray(o)?{data:o}:o,o=s.data.DataSource.create(o),i.dataSource?(i.dataSource.unbind(g,i._refreshHandler),n=i.value(),i.value([]),i.bound(!1),i.value(n)):i._refreshHandler=E(i.refresh,i),i.setDSFilter(o.filter()),i.dataSource=o.bind(g,i._refreshHandler),i._fixedHeader();},skip:function skip(){return this.dataSource.skip();},setOptions:function setOptions(e){c.fn.setOptions.call(this,e),this._getter(),this._templates(),this._render();},destroy:function destroy(){this.element.off(r),this._refreshHandler&&this.dataSource.unbind(g,this._refreshHandler),clearTimeout(this._scrollId),c.fn.destroy.call(this);},scrollToIndex:function scrollToIndex(e){var t=this.element[0].children[e];t&&this.scroll(t);},scroll:function scroll(e){if(e){e[0]&&(e=e[0]);var t=this.content[0],n=e.offsetTop,i=e.offsetHeight,o=t.scrollTop,r=t.clientHeight,a=n+i;o>n?o=n:a>o+r&&(o=a-r),t.scrollTop=o;}},selectedDataItems:function selectedDataItems(e){return e===t?this._dataItems.slice():(this._dataItems=e,this._values=this._getValues(e),t);},_getValues:function _getValues(t){var n=this._valueGetter;return e.map(t,function(e){return n(e);});},focusNext:function focusNext(){var e=this.focus();e=e?e.next():0,this.focus(e);},focusPrev:function focusPrev(){var e=this.focus();e=e?e.prev():this.element[0].children.length-1,this.focus(e);},focusFirst:function focusFirst(){this.focus(this.element[0].children[0]);},focusLast:function focusLast(){this.focus(this.element[0].children[this.element[0].children.length-1]);},focus:function focus(n){var i,o=this,r=o._optionID;return n===t?o._current:(n=o._get(n),n=n[n.length-1],n=e(this.element[0].children[n]),o._current&&(o._current.removeClass(v).removeAttr("aria-selected").removeAttr(m),o.trigger("deactivate")),i=!!n[0],i&&(n.addClass(v),o.scroll(n),n.attr("id",r)),o._current=i?n:null,o.trigger("activate"),t);},focusIndex:function focusIndex(){return this.focus()?this.focus().index():t;},skipUpdate:function skipUpdate(e){this._skipUpdate=e;},select:function select(n){var i,o,r=this,a=r.options.selectable,s="multiple"!==a&&a!==!1,l=r._selectedIndices,c=[],d=[];if(n===t)return l.slice();if(n=r._get(n),1===n.length&&-1===n[0]&&(n=[]),o=r.isFiltered(),!o||s||!r._deselectFiltered(n)){if(s&&!o&&-1!==e.inArray(n[n.length-1],l))return r._dataItems.length&&r._view.length&&(r._dataItems=[r._view[l[0]].item]),t;i=r._deselect(n),d=i.removed,n=i.indices,n.length&&(s&&(n=[n[n.length-1]]),c=r._select(n)),(c.length||d.length)&&(r._valueComparer=null,r.trigger(g,{added:c,removed:d}));}},removeAt:function removeAt(e){return this._selectedIndices.splice(e,1),this._values.splice(e,1),this._valueComparer=null,{position:e,dataItem:this._dataItems.splice(e,1)[0]};},setValue:function setValue(t){t=e.isArray(t)||t instanceof p?t.slice(0):[t],this._values=t,this._valueComparer=null;},value:function value(n){var i,o=this,r=o._valueDeferred;return n===t?o._values.slice():(o.setValue(n),r&&"resolved"!==r.state()||(o._valueDeferred=r=e.Deferred()),o.bound()&&(i=o._valueIndices(o._values),"multiple"===o.options.selectable&&o.select(-1),o.select(i),r.resolve()),o._skipUpdate=!1,r);},items:function items(){return this.element.children(".k-item");},_click:function _click(t){t.isDefaultPrevented()||this.trigger("click",{item:e(t.currentTarget)})||this.select(t.currentTarget);},_valueExpr:function _valueExpr(e,t){var i,o,r=this,a=0,s=[];if(!r._valueComparer||r._valueType!==e){for(r._valueType=e;t.length>a;a++){s.push(n(t[a],e));}i="for (var idx = 0; idx < "+s.length+"; idx++) { if (current === values[idx]) {   return idx; }} return -1;",o=Function("current","values",i),r._valueComparer=function(e){return o(e,s);};}return r._valueComparer;},_dataItemPosition:function _dataItemPosition(e,t){var n=this._valueGetter(e),i=this._valueExpr(typeof n==="undefined"?"undefined":_typeof(n),t);return i(n);},_getter:function _getter(){this._valueGetter=s.getter(this.options.dataValueField);},_deselect:function _deselect(t){var n,i,o,r=this,a=r.element[0].children,s=r.options.selectable,l=r._selectedIndices,c=r._dataItems,d=r._values,u=[],h=0,f=0;if(t=t.slice(),s!==!0&&t.length){if("multiple"===s)for(;t.length>h;h++){if(i=t[h],e(a[i]).hasClass("k-state-selected"))for(n=0;l.length>n;n++){if(o=l[n],o===i){e(a[o]).removeClass("k-state-selected"),u.push({position:n+f,dataItem:c.splice(n,1)[0]}),l.splice(n,1),t.splice(h,1),d.splice(n,1),f+=1,h-=1,n-=1;break;}}}}else{for(;l.length>h;h++){e(a[l[h]]).removeClass("k-state-selected"),u.push({position:h,dataItem:c[h]});}r._values=[],r._dataItems=[],r._selectedIndices=[];}return{indices:t,removed:u};},_deselectFiltered:function _deselectFiltered(t){for(var n,i,o,r=this.element[0].children,a=[],s=0;t.length>s;s++){i=t[s],n=this._view[i].item,o=this._dataItemPosition(n,this._values),o>-1&&(a.push(this.removeAt(o)),e(r[i]).removeClass("k-state-selected"));}return a.length?(this.trigger(g,{added:[],removed:a}),!0):!1;},_select:function _select(t){var n,i,o=this,r=o.element[0].children,a=o._view,s=[],l=0;for(-1!==t[t.length-1]&&o.focus(t);t.length>l;l++){i=t[l],n=a[i],-1!==i&&n&&(n=n.item,o._selectedIndices.push(i),o._dataItems.push(n),o._values.push(o._valueGetter(n)),e(r[i]).addClass("k-state-selected").attr("aria-selected",!0),s.push({dataItem:n}));}return s;},_get:function _get(n){return"number"==typeof n?n=[n]:R(n)||(n=e(n).data("offset-index"),n===t&&(n=-1),n=[n]),n;},_template:function _template(){var e=this,t=e.options,_n3=t.template;return _n3?(_n3=s.template(_n3),_n3=function n(e){return'<li tabindex="-1" role="option" unselectable="on" class="k-item">'+_n3(e)+"</li>";}):_n3=s.template('<li tabindex="-1" role="option" unselectable="on" class="k-item">${'+s.expr(t.dataTextField,"data")+"}</li>",{useWithBlock:!1}),_n3;},_templates:function _templates(){var e,t,n={template:this.options.template,groupTemplate:this.options.groupTemplate,fixedGroupTemplate:this.options.fixedGroupTemplate};for(t in n){e=n[t],e&&"function"!=typeof e&&(n[t]=s.template(e));}this.templates=n;},_normalizeIndices:function _normalizeIndices(e){for(var n=[],i=0;e.length>i;i++){e[i]!==t&&n.push(e[i]);}return n;},_valueIndices:function _valueIndices(e,t){var n,i=this._view,o=0;if(t=t?t.slice():[],!e.length)return[];for(;i.length>o;o++){n=this._dataItemPosition(i[o].item,e),-1!==n&&(t[n]=o);}return this._normalizeIndices(t);},_firstVisibleItem:function _firstVisibleItem(){for(var t=this.element[0],n=this.content[0],i=n.scrollTop,o=e(t.children[0]).height(),r=Math.floor(i/o)||0,a=t.children[r]||t.lastChild,s=i>a.offsetTop;a;){if(s){if(a.offsetTop+o>i||!a.nextSibling)break;a=a.nextSibling;}else{if(i>=a.offsetTop||!a.previousSibling)break;a=a.previousSibling;}}return this._view[e(a).data("offset-index")];},_fixedHeader:function _fixedHeader(){this.isGrouped()&&this.templates.fixedGroupTemplate?(this.header.show(),this.content.scroll(this._onScroll)):(this.header.hide(),this.content.off("scroll",this._onScroll));},_renderHeader:function _renderHeader(){var e,t=this.templates.fixedGroupTemplate;t&&(e=this._firstVisibleItem(),e&&this.header.html(t(e.group)));},_renderItem:function _renderItem(e){var t='<li tabindex="-1" role="option" unselectable="on" class="k-item',n=e.item,i=0!==e.index,o=e.selected;return i&&e.newGroup&&(t+=" k-first"),o&&(t+=" k-state-selected"),t+='"'+(o?' aria-selected="true"':"")+' data-offset-index="'+e.index+'">',t+=this.templates.template(n),i&&e.newGroup&&(t+='<div class="k-group">'+this.templates.groupTemplate(e.group)+"</div>"),t+"</li>";},_render:function _render(){var e,t,n,i,o="",r=0,a=0,s=[],l=this.dataSource.view(),c=this.value(),d=this.isGrouped();if(d)for(r=0;l.length>r;r++){for(t=l[r],n=!0,i=0;t.items.length>i;i++){e={selected:this._selected(t.items[i],c),item:t.items[i],group:t.value,newGroup:n,index:a},s[a]=e,a+=1,o+=this._renderItem(e),n=!1;}}else for(r=0;l.length>r;r++){e={selected:this._selected(l[r],c),item:l[r],index:r},s[r]=e,o+=this._renderItem(e);}this._view=s,this.element[0].innerHTML=o,d&&s.length&&this._renderHeader();},_selected:function _selected(e,t){var n=!this.isFiltered()||"multiple"===this.options.selectable;return n&&-1!==this._dataItemPosition(e,t);},setDSFilter:function setDSFilter(e){this._lastDSFilter=A({},e);},isFiltered:function isFiltered(){return this._lastDSFilter||this.setDSFilter(this.dataSource.filter()),!s.data.Query.compareFilters(this.dataSource.filter(),this._lastDSFilter);},refresh:function refresh(e){var t,n=this,o=e&&e.action,r=n.options.skipUpdateOnBind,a="itemchange"===o;n.trigger("dataBinding"),this._angularItems("cleanup"),n._fixedHeader(),n._render(),n.bound(!0),a||"remove"===o?(t=i(n._dataItems,e.items),t.changed.length&&(a?n.trigger("selectedItemChange",{items:t.changed}):n.value(n._getValues(t.unchanged)))):n.isFiltered()||n._skipUpdate?(n.focus(0),n._skipUpdate&&(n._skipUpdate=!1,n._selectedIndices=n._valueIndices(n._values,n._selectedIndices))):r||o&&"add"!==o||n.value(n._values),n._valueDeferred&&n._valueDeferred.resolve(),n._angularItems("compile"),n.trigger("dataBound");},bound:function bound(e){return e===t?this._bound:(this._bound=e,t);},isGrouped:function isGrouped(){return(this.dataSource.group()||[]).length;}}),l.plugin(a);}(window.kendo.jQuery),window.kendo;},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("kendo.calendar.min",["kendo.core.min"],e);}(function(){return function(e,t){function n(e,t,n,i){var o,r=e.getFullYear(),a=t.getFullYear(),s=n.getFullYear();return r-=r%i,o=r+(i-1),a>r&&(r=a),o>s&&(o=s),r+"-"+o;}function i(e){for(var t,n=0,i=e.min,o=e.max,r=e.start,a=e.setter,l=e.build,c=e.cells||12,d=e.perRow||4,u=e.content||z,h=e.empty||B,f=e.html||'<table tabindex="0" role="grid" class="k-content k-meta-view" cellspacing="0"><tbody><tr role="row">';c>n;n++){n>0&&n%d===0&&(f+='</tr><tr role="row">'),r=new _e(r.getFullYear(),r.getMonth(),r.getDate(),0,0,0),E(r,0),t=l(r,n,e.disableDates),f+=s(r,i,o)?u(t):h(t),a(r,1);}return f+"</tr></tbody></table>";}function o(e,t,n){var i=e.getFullYear(),o=t.getFullYear(),r=o,a=0;return n&&(o-=o%n,r=o-o%n+n-1),i>r?a=1:o>i&&(a=-1),a;}function r(){var e=new _e();return new _e(e.getFullYear(),e.getMonth(),e.getDate());}function a(e,t,n){var i=r();return e&&(i=new _e(+e)),t>i?i=new _e(+t):i>n&&(i=new _e(+n)),i;}function s(e,t,n){return+e>=+t&&+n>=+e;}function l(e,t){return e.slice(t).concat(e.slice(0,t));}function c(e,t,n){t=t instanceof _e?t.getFullYear():e.getFullYear()+n*t,e.setFullYear(t);}function d(t){var n=e(this).hasClass("k-state-disabled");n||e(this).toggleClass(X,se.indexOf(t.type)>-1||t.type==re);}function u(e){e.preventDefault();}function h(e){return F(e).calendars.standard;}function f(e){var n=be[e.start],i=be[e.depth],o=F(e.culture);e.format=R(e.format||o.calendars.standard.patterns.d),isNaN(n)&&(n=0,e.start=G),(i===t||i>n)&&(e.depth=G),null===e.dates&&(e.dates=[]);}function p(e){H&&e.find("*").attr("unselectable","on");}function m(e,t){for(var n=0,i=t.length;i>n;n++){if(e===+t[n])return!0;}return!1;}function g(e,t){return e?e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate():!1;}function v(e,t){return e?e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth():!1;}function _(t){return x.isFunction(t)?t:e.isArray(t)?w(t):e.noop;}function b(e){var t,n=[];for(t=0;e.length>t;t++){n.push(e[t].setHours(0,0,0,0));}return n;}function w(t){var n,i,o,r,a,s=[],l=["su","mo","tu","we","th","fr","sa"],c="if (found) { return true } else {return false}";if(t[0]instanceof _e)s=b(t),n="var found = date && $.inArray(date.setHours(0, 0, 0, 0),["+s+"]) > -1;"+c;else{for(o=0;t.length>o;o++){r=t[o].slice(0,2).toLowerCase(),a=e.inArray(r,l),a>-1&&s.push(a);}n="var found = date && $.inArray(date.getDay(),["+s+"]) > -1;"+c;}return i=Function("date",n);}function y(e,t){return e instanceof Date&&t instanceof Date&&(e=e.getTime(),t=t.getTime()),e===t;}var k,x=window.kendo,C=x.support,S=x.ui,T=S.Widget,D=x.keys,A=x.parseDate,E=x.date.adjustDST,R=x._extractFormat,I=x.template,F=x.getCulture,M=x.support.transitions,P=M?M.css+"transform-origin":"",z=I('<td#=data.cssClass# role="gridcell"><a tabindex="-1" class="k-link" href="\\#" data-#=data.ns#value="#=data.dateString#">#=data.value#</a></td>',{useWithBlock:!1}),B=I('<td role="gridcell">&nbsp;</td>',{useWithBlock:!1}),L=x.support.browser,H=L.msie&&9>L.version,N=".kendoCalendar",O="click"+N,V="keydown"+N,U="id",W="min",j="left",q="slideIn",G="month",$="century",Y="change",K="navigate",Q="value",X="k-state-hover",J="k-state-disabled",Z="k-state-focused",ee="k-other-month",te=' class="'+ee+'"',ne="k-nav-today",ie="td:has(.k-link)",oe="blur"+N,re="focus",ae=re+N,se=C.touch?"touchstart":"mouseenter",le=C.touch?"touchstart"+N:"mouseenter"+N,ce=C.touch?"touchend"+N+" touchmove"+N:"mouseleave"+N,de=6e4,ue=864e5,he="_prevArrow",fe="_nextArrow",pe="aria-disabled",me="aria-selected",ge=e.proxy,ve=e.extend,_e=Date,be={month:0,year:1,decade:2,century:3},we=T.extend({init:function init(t,n){var i,o,s=this;T.fn.init.call(s,t,n),t=s.wrapper=s.element,n=s.options,n.url=window.unescape(n.url),s.options.disableDates=_(s.options.disableDates),s._templates(),s._header(),s._footer(s.footer),o=t.addClass("k-widget k-calendar").on(le+" "+ce,ie,d).on(V,"table.k-content",ge(s._move,s)).on(O,ie,function(t){var n=t.currentTarget.firstChild,i=s._toDateObject(n);-1!=n.href.indexOf("#")&&t.preventDefault(),s.options.disableDates(i)&&"month"==s._view.name||s._click(e(n));}).on("mouseup"+N,"table.k-content, .k-footer",function(){s._focusView(s.options.focusOnNav!==!1);}).attr(U),o&&(s._cellID=o+"_cell_selected"),f(n),i=A(n.value,n.format,n.culture),s._index=be[n.start],s._current=new _e(+a(i,n.min,n.max)),s._addClassProxy=function(){if(s._active=!0,s._cell.hasClass(J)){var e=s._view.toDateString(r());s._cell=s._cellByDate(e);}s._cell.addClass(Z);},s._removeClassProxy=function(){s._active=!1,s._cell.removeClass(Z);},s.value(i),x.notify(s);},options:{name:"Calendar",value:null,min:new _e(1900,0,1),max:new _e(2099,11,31),dates:[],url:"",culture:"",footer:"",format:"",month:{},start:G,depth:G,animation:{horizontal:{effects:q,reverse:!0,duration:500,divisor:2},vertical:{effects:"zoomIn",duration:400}}},events:[Y,K],setOptions:function setOptions(e){var t=this;f(e),e.disableDates=_(e.disableDates),T.fn.setOptions.call(t,e),t._templates(),t._footer(t.footer),t._index=be[t.options.start],t.navigate();},destroy:function destroy(){var e=this,t=e._today;e.element.off(N),e._title.off(N),e[he].off(N),e[fe].off(N),x.destroy(e._table),t&&x.destroy(t.off(N)),T.fn.destroy.call(e);},current:function current(){return this._current;},view:function view(){return this._view;},focus:function focus(e){e=e||this._table,this._bindTable(e),e.focus();},min:function min(e){return this._option(W,e);},max:function max(e){return this._option("max",e);},navigateToPast:function navigateToPast(){this._navigate(he,-1);},navigateToFuture:function navigateToFuture(){this._navigate(fe,1);},navigateUp:function navigateUp(){var e=this,t=e._index;e._title.hasClass(J)||e.navigate(e._current,++t);},navigateDown:function navigateDown(e){var n=this,i=n._index,o=n.options.depth;if(e)return i===be[o]?(y(n._value,n._current)&&y(n._value,e)||(n.value(e),n.trigger(Y)),t):(n.navigate(e,--i),t);},navigate:function navigate(n,i){var o,r,s,l,c,d,u,h,f,m,g,v,_,b,w,y,x;i=isNaN(i)?be[i]:i,o=this,r=o.options,s=r.culture,l=r.min,c=r.max,d=o._title,u=o._table,h=o._oldTable,f=o._value,m=o._current,g=n&&+n>+m,v=i!==t&&i!==o._index,n||(n=m),o._current=n=new _e(+a(n,l,c)),i===t?i=o._index:o._index=i,o._view=b=k.views[i],w=b.compare,y=i===be[$],d.toggleClass(J,y).attr(pe,y),y=w(n,l)<1,o[he].toggleClass(J,y).attr(pe,y),y=w(n,c)>-1,o[fe].toggleClass(J,y).attr(pe,y),u&&h&&h.data("animating")&&(h.kendoStop(!0,!0),u.kendoStop(!0,!0)),o._oldTable=u,u&&!o._changeView||(d.html(b.title(n,l,c,s)),o._table=_=e(b.content(ve({min:l,max:c,date:n,url:r.url,dates:r.dates,format:r.format,culture:s,disableDates:r.disableDates},o[b.name]))),p(_),x=u&&u.data("start")===_.data("start"),o._animate({from:u,to:_,vertical:v,future:g,replace:x}),o.trigger(K),o._focus(n)),i===be[r.depth]&&f&&!o.options.disableDates(f)&&o._class("k-state-selected",f),o._class(Z,n),!u&&o._cell&&o._cell.removeClass(Z),o._changeView=!0;},value:function value(e){var n=this,i=n._view,o=n.options,r=n._view,a=o.min,l=o.max;return e===t?n._value:(null===e&&(n._current=new Date(n._current.getFullYear(),n._current.getMonth(),n._current.getDate())),e=A(e,o.format,o.culture),null!==e&&(e=new _e(+e),s(e,a,l)||(e=null)),null!==e&&n.options.disableDates(e)?n._value===t&&(n._value=null):n._value=e,r&&null===e&&n._cell?n._cell.removeClass("k-state-selected"):(n._changeView=!e||i&&0!==i.compare(e,n._current),n.navigate(e)),t);},_move:function _move(t){var n,i,o,r,l=this,c=l.options,d=t.keyCode,u=l._view,h=l._index,f=l.options.min,p=l.options.max,m=new _e(+l._current),g=x.support.isRtl(l.wrapper),v=l.options.disableDates;return t.target===l._table[0]&&(l._active=!0),t.ctrlKey?d==D.RIGHT&&!g||d==D.LEFT&&g?(l.navigateToFuture(),i=!0):d==D.LEFT&&!g||d==D.RIGHT&&g?(l.navigateToPast(),i=!0):d==D.UP?(l.navigateUp(),i=!0):d==D.DOWN&&(l._click(e(l._cell[0].firstChild)),i=!0):(d==D.RIGHT&&!g||d==D.LEFT&&g?(n=1,i=!0):d==D.LEFT&&!g||d==D.RIGHT&&g?(n=-1,i=!0):d==D.UP?(n=0===h?-7:-4,i=!0):d==D.DOWN?(n=0===h?7:4,i=!0):d==D.ENTER?(l._click(e(l._cell[0].firstChild)),i=!0):d==D.HOME||d==D.END?(o=d==D.HOME?"first":"last",r=u[o](m),m=new _e(r.getFullYear(),r.getMonth(),r.getDate(),m.getHours(),m.getMinutes(),m.getSeconds(),m.getMilliseconds()),i=!0):d==D.PAGEUP?(i=!0,l.navigateToPast()):d==D.PAGEDOWN&&(i=!0,l.navigateToFuture()),(n||o)&&(o||u.setDate(m,n),v(m)&&(m=l._nextNavigatable(m,n)),s(m,f,p)&&l._focus(a(m,c.min,c.max)))),i&&t.preventDefault(),l._current;},_nextNavigatable:function _nextNavigatable(e,t){var n=this,i=!0,o=n._view,r=n.options.min,a=n.options.max,l=n.options.disableDates,c=new Date(e.getTime());for(o.setDate(c,-t);i;){if(o.setDate(e,t),!s(e,r,a)){e=c;break;}i=l(e);}return e;},_animate:function _animate(e){var t=this,n=e.from,i=e.to,o=t._active;n?n.parent().data("animating")?(n.off(N),n.parent().kendoStop(!0,!0).remove(),n.remove(),i.insertAfter(t.element[0].firstChild),t._focusView(o)):!n.is(":visible")||t.options.animation===!1||e.replace?(i.insertAfter(n),n.off(N).remove(),t._focusView(o)):t[e.vertical?"_vertical":"_horizontal"](n,i,e.future):(i.insertAfter(t.element[0].firstChild),t._bindTable(i));},_horizontal:function _horizontal(e,t,n){var i=this,o=i._active,r=i.options.animation.horizontal,a=r.effects,s=e.outerWidth();a&&-1!=a.indexOf(q)&&(e.add(t).css({width:s}),e.wrap("<div/>"),i._focusView(o,e),e.parent().css({position:"relative",width:2*s,"float":j,"margin-left":n?0:-s}),t[n?"insertAfter":"insertBefore"](e),ve(r,{effects:q+":"+(n?"right":j),complete:function complete(){e.off(N).remove(),i._oldTable=null,t.unwrap(),i._focusView(o);}}),e.parent().kendoStop(!0,!0).kendoAnimate(r));},_vertical:function _vertical(e,t){var n,i,o=this,r=o.options.animation.vertical,a=r.effects,s=o._active;a&&-1!=a.indexOf("zoom")&&(t.css({position:"absolute",top:e.prev().outerHeight(),left:0}).insertBefore(e),P&&(n=o._cellByDate(o._view.toDateString(o._current)),i=n.position(),i=i.left+parseInt(n.width()/2,10)+"px "+(i.top+parseInt(n.height()/2,10)+"px"),t.css(P,i)),e.kendoStop(!0,!0).kendoAnimate({effects:"fadeOut",duration:600,complete:function complete(){e.off(N).remove(),o._oldTable=null,t.css({position:"static",top:0,left:0}),o._focusView(s);}}),t.kendoStop(!0,!0).kendoAnimate(r));},_cellByDate:function _cellByDate(t){return this._table.find("td:not(."+ee+")").filter(function(){return e(this.firstChild).attr(x.attr(Q))===t;});},_class:function _class(t,n){var i,o=this,r=o._cellID,a=o._cell,s=o._view.toDateString(n);a&&a.removeAttr(me).removeAttr("aria-label").removeAttr(U),n&&(i=o.options.disableDates(n)),a=o._table.find("td:not(."+ee+")").removeClass(t).filter(function(){return e(this.firstChild).attr(x.attr(Q))===s;}).attr(me,!0),(t===Z&&!o._active&&o.options.focusOnNav!==!1||i)&&(t=""),a.addClass(t),a[0]&&(o._cell=a),r&&(a.attr(U,r),o._table.removeAttr("aria-activedescendant").attr("aria-activedescendant",r));},_bindTable:function _bindTable(e){e.on(ae,this._addClassProxy).on(oe,this._removeClassProxy);},_click:function _click(e){var t=this,n=t.options,i=new Date(+t._current),o=t._toDateObject(e);E(o,0),t.options.disableDates(o)&&"month"==t._view.name&&(o=t._value),t._view.setDate(i,o),t.navigateDown(a(i,n.min,n.max));},_focus:function _focus(e){var t=this,n=t._view;0!==n.compare(e,t._current)?t.navigate(e):(t._current=e,t._class(Z,e));},_focusView:function _focusView(e,t){e&&this.focus(t);},_footer:function _footer(n){var i=this,o=r(),a=i.element,s=a.find(".k-footer");return n?(s[0]||(s=e('<div class="k-footer"><a href="#" class="k-link k-nav-today"></a></div>').appendTo(a)),i._today=s.show().find(".k-link").html(n(o)).attr("title",x.toString(o,"D",i.options.culture)),i._toggle(),t):(i._toggle(!1),s.hide(),t);},_header:function _header(){var e,t=this,n=t.element;n.find(".k-header")[0]||n.html('<div class="k-header"><a href="#" role="button" class="k-link k-nav-prev"><span class="k-icon k-i-arrow-w"></span></a><a href="#" role="button" aria-live="assertive" aria-atomic="true" class="k-link k-nav-fast"></a><a href="#" role="button" class="k-link k-nav-next"><span class="k-icon k-i-arrow-e"></span></a></div>'),e=n.find(".k-link").on(le+" "+ce+" "+ae+" "+oe,d).click(!1),t._title=e.eq(1).on(O,function(){t._active=t.options.focusOnNav!==!1,t.navigateUp();}),t[he]=e.eq(0).on(O,function(){t._active=t.options.focusOnNav!==!1,t.navigateToPast();}),t[fe]=e.eq(2).on(O,function(){t._active=t.options.focusOnNav!==!1,t.navigateToFuture();});},_navigate:function _navigate(e,t){var n=this,i=n._index+1,o=new _e(+n._current);e=n[e],e.hasClass(J)||(i>3?o.setFullYear(o.getFullYear()+100*t):k.views[i].setDate(o,t),n.navigate(o));},_option:function _option(e,n){var i,o=this,r=o.options,a=o._value||o._current;return n===t?r[e]:(n=A(n,r.format,r.culture),n&&(r[e]=new _e(+n),i=e===W?n>a:a>n,(i||v(a,n))&&(i&&(o._value=null),o._changeView=!0),o._changeView||(o._changeView=!(!r.month.content&&!r.month.empty)),o.navigate(o._value),o._toggle()),t);},_toggle:function _toggle(e){var n=this,i=n.options,o=n.options.disableDates(r()),a=n._today;e===t&&(e=s(r(),i.min,i.max)),a&&(a.off(O),e&&!o?a.addClass(ne).removeClass(J).on(O,ge(n._todayClick,n)):a.removeClass(ne).addClass(J).on(O,u));},_todayClick:function _todayClick(e){var t=this,n=be[t.options.depth],i=t.options.disableDates,o=r();e.preventDefault(),i(o)||(0===t._view.compare(t._current,o)&&t._index==n&&(t._changeView=!1),t._value=o,t.navigate(o,n),t.trigger(Y));},_toDateObject:function _toDateObject(t){var n=e(t).attr(x.attr(Q)).split("/");return n=new _e(n[0],n[1],n[2]);},_templates:function _templates(){var e=this,t=e.options,n=t.footer,i=t.month,o=i.content,r=i.empty;e.month={content:I('<td#=data.cssClass# role="gridcell"><a tabindex="-1" class="k-link#=data.linkClass#" href="#=data.url#" '+x.attr("value")+'="#=data.dateString#" title="#=data.title#">'+(o||"#=data.value#")+"</a></td>",{useWithBlock:!!o}),empty:I('<td role="gridcell">'+(r||"&nbsp;")+"</td>",{useWithBlock:!!r})},e.footer=n!==!1?I(n||'#= kendo.toString(data,"D","'+t.culture+'") #',{useWithBlock:!1}):null;}});S.plugin(we),k={firstDayOfMonth:function firstDayOfMonth(e){return new _e(e.getFullYear(),e.getMonth(),1);},firstVisibleDay:function firstVisibleDay(e,t){t=t||x.culture().calendar;for(var n=t.firstDay,i=new _e(e.getFullYear(),e.getMonth(),0,e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds());i.getDay()!=n;){k.setTime(i,-1*ue);}return i;},setTime:function setTime(e,t){var n=e.getTimezoneOffset(),i=new _e(e.getTime()+t),o=i.getTimezoneOffset()-n;e.setTime(i.getTime()+o*de);},views:[{name:G,title:function title(e,t,n,i){return h(i).months.names[e.getMonth()]+" "+e.getFullYear();},content:function content(e){for(var t=this,n=0,o=e.min,r=e.max,a=e.date,s=e.dates,c=e.format,d=e.culture,u=e.url,f=u&&s[0],p=h(d),g=p.firstDay,v=p.days,_=l(v.names,g),b=l(v.namesShort,g),w=k.firstVisibleDay(a,p),y=t.first(a),C=t.last(a),S=t.toDateString,T=new _e(),D='<table tabindex="0" role="grid" class="k-content" cellspacing="0" data-start="'+S(w)+'"><thead><tr role="row">';7>n;n++){D+='<th scope="col" title="'+_[n]+'">'+b[n]+"</th>";}return T=new _e(T.getFullYear(),T.getMonth(),T.getDate()),E(T,0),T=+T,i({cells:42,perRow:7,html:D+='</tr></thead><tbody><tr role="row">',start:w,min:new _e(o.getFullYear(),o.getMonth(),o.getDate()),max:new _e(r.getFullYear(),r.getMonth(),r.getDate()),content:e.content,empty:e.empty,setter:t.setDate,disableDates:e.disableDates,build:function build(e,t,n){var i=[],o=e.getDay(),r="",a="#";return(y>e||e>C)&&i.push(ee),n(e)&&i.push(J),+e===T&&i.push("k-today"),0!==o&&6!==o||i.push("k-weekend"),f&&m(+e,s)&&(a=u.replace("{0}",x.toString(e,c,d)),r=" k-action-link"),{date:e,dates:s,ns:x.ns,title:x.toString(e,"D",d),value:e.getDate(),dateString:S(e),cssClass:i[0]?' class="'+i.join(" ")+'"':"",linkClass:r,url:a};}});},first:function first(e){return k.firstDayOfMonth(e);},last:function last(e){var t=new _e(e.getFullYear(),e.getMonth()+1,0),n=k.firstDayOfMonth(e),i=Math.abs(t.getTimezoneOffset()-n.getTimezoneOffset());return i&&t.setHours(n.getHours()+i/60),t;},compare:function compare(e,t){var n,i=e.getMonth(),o=e.getFullYear(),r=t.getMonth(),a=t.getFullYear();return n=o>a?1:a>o?-1:i==r?0:i>r?1:-1;},setDate:function setDate(e,t){var n=e.getHours();t instanceof _e?e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()):k.setTime(e,t*ue),E(e,n);},toDateString:function toDateString(e){return e.getFullYear()+"/"+e.getMonth()+"/"+e.getDate();}},{name:"year",title:function title(e){return e.getFullYear();},content:function content(e){var t=h(e.culture).months.namesAbbr,n=this.toDateString,o=e.min,r=e.max;return i({min:new _e(o.getFullYear(),o.getMonth(),1),max:new _e(r.getFullYear(),r.getMonth(),1),start:new _e(e.date.getFullYear(),0,1),setter:this.setDate,build:function build(e){return{value:t[e.getMonth()],ns:x.ns,dateString:n(e),cssClass:""};}});},first:function first(e){return new _e(e.getFullYear(),0,e.getDate());},last:function last(e){return new _e(e.getFullYear(),11,e.getDate());},compare:function compare(e,t){return o(e,t);},setDate:function setDate(e,t){var n,i=e.getHours();t instanceof _e?(n=t.getMonth(),e.setFullYear(t.getFullYear(),n,e.getDate()),n!==e.getMonth()&&e.setDate(0)):(n=e.getMonth()+t,e.setMonth(n),n>11&&(n-=12),n>0&&e.getMonth()!=n&&e.setDate(0)),E(e,i);},toDateString:function toDateString(e){return e.getFullYear()+"/"+e.getMonth()+"/1";}},{name:"decade",title:function title(e,t,i){return n(e,t,i,10);},content:function content(e){var t=e.date.getFullYear(),n=this.toDateString;return i({start:new _e(t-t%10-1,0,1),min:new _e(e.min.getFullYear(),0,1),max:new _e(e.max.getFullYear(),0,1),setter:this.setDate,build:function build(e,t){return{value:e.getFullYear(),ns:x.ns,dateString:n(e),cssClass:0===t||11==t?te:""};}});},first:function first(e){var t=e.getFullYear();return new _e(t-t%10,e.getMonth(),e.getDate());},last:function last(e){var t=e.getFullYear();return new _e(t-t%10+9,e.getMonth(),e.getDate());},compare:function compare(e,t){return o(e,t,10);},setDate:function setDate(e,t){c(e,t,1);},toDateString:function toDateString(e){return e.getFullYear()+"/0/1";}},{name:$,title:function title(e,t,i){return n(e,t,i,100);},content:function content(e){var t=e.date.getFullYear(),n=e.min.getFullYear(),o=e.max.getFullYear(),r=this.toDateString,a=n,s=o;return a-=a%10,s-=s%10,10>s-a&&(s=a+9),i({start:new _e(t-t%100-10,0,1),min:new _e(a,0,1),max:new _e(s,0,1),setter:this.setDate,build:function build(e,t){var i=e.getFullYear(),a=i+9;return n>i&&(i=n),a>o&&(a=o),{ns:x.ns,value:i+" - "+a,dateString:r(e),cssClass:0===t||11==t?te:""};}});},first:function first(e){var t=e.getFullYear();return new _e(t-t%100,e.getMonth(),e.getDate());},last:function last(e){var t=e.getFullYear();return new _e(t-t%100+99,e.getMonth(),e.getDate());},compare:function compare(e,t){return o(e,t,100);},setDate:function setDate(e,t){c(e,t,10);},toDateString:function toDateString(e){var t=e.getFullYear();return t-t%10+"/0/1";}}]},k.isEqualDatePart=g,k.makeUnselectable=p,k.restrictValue=a,k.isInRange=s,k.normalize=f,k.viewsEnum=be,k.disabled=_,x.calendar=k;}(window.kendo.jQuery),window.kendo;},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("kendo.datepicker.min",["kendo.calendar.min","kendo.popup.min"],e);}(function(){return function(e,t){function n(t){var n=t.parseFormats,i=t.format;z.normalize(t),n=e.isArray(n)?n:[n],n.length||n.push("yyyy-MM-dd"),-1===e.inArray(i,n)&&n.splice(0,0,t.format),t.parseFormats=n;}function i(e){e.preventDefault();}var o,r=window.kendo,a=r.ui,s=a.Widget,l=r.parseDate,c=r.keys,d=r.template,u=r._activeElement,h="<div />",f="<span />",p=".kendoDatePicker",m="click"+p,g="open",v="close",_="change",b="disabled",w="readonly",y="k-state-default",k="k-state-focused",x="k-state-selected",C="k-state-disabled",S="k-state-hover",T="mouseenter"+p+" mouseleave"+p,D="mousedown"+p,A="id",E="min",R="max",I="month",F="aria-disabled",M="aria-expanded",P="aria-hidden",z=r.calendar,B=z.isInRange,L=z.restrictValue,H=z.isEqualDatePart,N=e.extend,O=e.proxy,V=Date,U=function U(t){var n,i=this,o=document.body,s=e(h).attr(P,"true").addClass("k-calendar-container").appendTo(o);i.options=t=t||{},n=t.id,n&&(n+="_dateview",s.attr(A,n),i._dateViewID=n),i.popup=new a.Popup(s,N(t.popup,t,{name:"Popup",isRtl:r.support.isRtl(t.anchor)})),i.div=s,i.value(t.value);};U.prototype={_calendar:function _calendar(){var t,n=this,o=n.calendar,s=n.options;o||(t=e(h).attr(A,r.guid()).appendTo(n.popup.element).on(D,i).on(m,"td:has(.k-link)",O(n._click,n)),n.calendar=o=new a.Calendar(t),n._setOptions(s),r.calendar.makeUnselectable(o.element),o.navigate(n._value||n._current,s.start),n.value(n._value));},_setOptions:function _setOptions(e){this.calendar.setOptions({focusOnNav:!1,change:e.change,culture:e.culture,dates:e.dates,depth:e.depth,footer:e.footer,format:e.format,max:e.max,min:e.min,month:e.month,start:e.start,disableDates:e.disableDates});},setOptions:function setOptions(e){var t=this.options,n=e.disableDates;n&&(e.disableDates=z.disabled(n)),this.options=N(t,e,{change:t.change,close:t.close,open:t.open}),this.calendar&&this._setOptions(this.options);},destroy:function destroy(){this.popup.destroy();},open:function open(){var e=this;e._calendar(),e.popup.open();},close:function close(){this.popup.close();},min:function min(e){this._option(E,e);},max:function max(e){this._option(R,e);},toggle:function toggle(){var e=this;e[e.popup.visible()?v:g]();},move:function move(e){var t=this,n=e.keyCode,i=t.calendar,o=e.ctrlKey&&n==c.DOWN||n==c.ENTER,r=!1;if(e.altKey)n==c.DOWN?(t.open(),e.preventDefault(),r=!0):n==c.UP&&(t.close(),e.preventDefault(),r=!0);else if(t.popup.visible()){if(n==c.ESC||o&&i._cell.hasClass(x))return t.close(),e.preventDefault(),!0;t._current=i._move(e),r=!0;}return r;},current:function current(e){this._current=e,this.calendar._focus(e);},value:function value(e){var t=this,n=t.calendar,i=t.options,o=i.disableDates;o&&o(e)&&(e=null),t._value=e,t._current=new V(+L(e,i.min,i.max)),n&&n.value(e);},_click:function _click(e){-1!==e.currentTarget.className.indexOf(x)&&this.close();},_option:function _option(e,t){var n=this,i=n.calendar;n.options[e]=t,i&&i[e](t);}},U.normalize=n,r.DateView=U,o=s.extend({init:function init(t,i){var o,a,c=this;s.fn.init.call(c,t,i),t=c.element,i=c.options,i.disableDates=r.calendar.disabled(i.disableDates),i.min=l(t.attr("min"))||l(i.min),i.max=l(t.attr("max"))||l(i.max),n(i),c._initialOptions=N({},i),c._wrapper(),c.dateView=new U(N({},i,{id:t.attr(A),anchor:c.wrapper,change:function change(){c._change(this.value()),c.close();},close:function close(e){c.trigger(v)?e.preventDefault():(t.attr(M,!1),a.attr(P,!0));},open:function open(e){var n,i=c.options;c.trigger(g)?e.preventDefault():(c.element.val()!==c._oldText&&(n=l(t.val(),i.parseFormats,i.culture),c.dateView[n?"current":"value"](n)),t.attr(M,!0),a.attr(P,!1),c._updateARIA(n));}})),a=c.dateView.div,c._icon();try{t[0].setAttribute("type","text");}catch(d){t[0].type="text";}t.addClass("k-input").attr({role:"combobox","aria-expanded":!1,"aria-owns":c.dateView._dateViewID}),c._reset(),c._template(),o=t.is("[disabled]")||e(c.element).parents("fieldset").is(":disabled"),o?c.enable(!1):c.readonly(t.is("[readonly]")),c._old=c._update(i.value||c.element.val()),c._oldText=t.val(),r.notify(c);},events:[g,v,_],options:{name:"DatePicker",value:null,footer:"",format:"",culture:"",parseFormats:[],min:new Date(1900,0,1),max:new Date(2099,11,31),start:I,depth:I,animation:{},month:{},dates:[],ARIATemplate:'Current focused date is #=kendo.toString(data.current, "D")#'},setOptions:function setOptions(e){var t=this,i=t._value;s.fn.setOptions.call(t,e),e=t.options,e.min=l(e.min),e.max=l(e.max),n(e),t.dateView.setOptions(e),i&&(t.element.val(r.toString(i,e.format,e.culture)),t._updateARIA(i));},_editable:function _editable(e){var t=this,n=t._dateIcon.off(p),o=t.element.off(p),r=t._inputWrapper.off(p),a=e.readonly,s=e.disable;a||s?(r.addClass(s?C:y).removeClass(s?y:C),o.attr(b,s).attr(w,a).attr(F,s)):(r.addClass(y).removeClass(C).on(T,t._toggleHover),o.removeAttr(b).removeAttr(w).attr(F,!1).on("keydown"+p,O(t._keydown,t)).on("focusout"+p,O(t._blur,t)).on("focus"+p,function(){t._inputWrapper.addClass(k);}),n.on(m,O(t._click,t)).on(D,i));},readonly:function readonly(e){this._editable({readonly:e===t?!0:e,disable:!1});},enable:function enable(e){this._editable({readonly:!1,disable:!(e=e===t?!0:e)});},destroy:function destroy(){var e=this;s.fn.destroy.call(e),e.dateView.destroy(),e.element.off(p),e._dateIcon.off(p),e._inputWrapper.off(p),e._form&&e._form.off("reset",e._resetHandler);},open:function open(){this.dateView.open();},close:function close(){this.dateView.close();},min:function min(e){return this._option(E,e);},max:function max(e){return this._option(R,e);},value:function value(e){var n=this;return e===t?n._value:(n._old=n._update(e),null===n._old&&n.element.val(""),n._oldText=n.element.val(),t);},_toggleHover:function _toggleHover(t){e(t.currentTarget).toggleClass(S,"mouseenter"===t.type);},_blur:function _blur(){var e=this,t=e.element.val();e.close(),t!==e._oldText&&e._change(t),e._inputWrapper.removeClass(k);},_click:function _click(){var e=this,t=e.element;e.dateView.toggle(),r.support.touch||t[0]===u()||t.focus();},_change:function _change(e){var t,n,i,o=this,r=o.element.val();e=o._update(e),t=+o._old!=+e,n=t&&!o._typing,i=r!==o.element.val(),(n||i)&&o.element.trigger(_),t&&(o._old=e,o._oldText=o.element.val(),o.trigger(_)),o._typing=!1;},_keydown:function _keydown(e){var t=this,n=t.dateView,i=t.element.val(),o=!1;n.popup.visible()||e.keyCode!=c.ENTER||i===t._oldText?(o=n.move(e),t._updateARIA(n._current),o||(t._typing=!0)):t._change(i);},_icon:function _icon(){var t,n=this,i=n.element;t=i.next("span.k-select"),t[0]||(t=e('<span unselectable="on" class="k-select"><span unselectable="on" class="k-icon k-i-calendar">select</span></span>').insertAfter(i)),n._dateIcon=t.attr({role:"button","aria-controls":n.dateView._dateViewID});},_option:function _option(e,n){var i=this,o=i.options;return n===t?o[e]:(n=l(n,o.parseFormats,o.culture),n&&(o[e]=new V(+n),i.dateView[e](n)),t);},_update:function _update(e){var t,n=this,i=n.options,o=i.min,a=i.max,s=n._value,c=l(e,i.parseFormats,i.culture),d=null===c&&null===s||c instanceof Date&&s instanceof Date;return i.disableDates(c)&&(c=null,n._old||n.element.val()||(e=null)),+c===+s&&d?(t=r.toString(c,i.format,i.culture),t!==e&&n.element.val(null===c?e:t),c):(null!==c&&H(c,o)?c=L(c,o,a):B(c,o,a)||(c=null),n._value=c,n.dateView.value(c),n.element.val(c?r.toString(c,i.format,i.culture):e),n._updateARIA(c),c);},_wrapper:function _wrapper(){var t,n=this,i=n.element;t=i.parents(".k-datepicker"),t[0]||(t=i.wrap(f).parent().addClass("k-picker-wrap k-state-default"),t=t.wrap(f).parent()),t[0].style.cssText=i[0].style.cssText,i.css({width:"100%",height:i[0].style.height}),n.wrapper=t.addClass("k-widget k-datepicker k-header").addClass(i[0].className),n._inputWrapper=e(t[0].firstChild);},_reset:function _reset(){var t=this,n=t.element,i=n.attr("form"),o=i?e("#"+i):n.closest("form");o[0]&&(t._resetHandler=function(){t.value(n[0].defaultValue),t.max(t._initialOptions.max),t.min(t._initialOptions.min);},t._form=o.on("reset",t._resetHandler));},_template:function _template(){this._ariaTemplate=d(this.options.ARIATemplate);},_updateARIA:function _updateARIA(e){var t,n=this,i=n.dateView.calendar;n.element.removeAttr("aria-activedescendant"),i&&(t=i._cell,t.attr("aria-label",n._ariaTemplate({current:e||i.current()})),n.element.attr("aria-activedescendant",t.attr("id")));}}),a.plugin(o);}(window.kendo.jQuery),window.kendo;},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("kendo.autocomplete.min",["kendo.list.min","kendo.mobile.scroller.min"],e);}(function(){return function(e,t){function n(e,t,n){return n?t.substring(0,e).split(n).length-1:0;}function i(e,t,i){return t.split(i)[n(e,t,i)];}function o(e,t,i,o){var r=t.split(o);return r.splice(n(e,t,o),1,i),o&&""!==r[r.length-1]&&r.push(""),r.join(o);}var r=window.kendo,a=r.support,s=r.caret,l=r._activeElement,c=a.placeholder,d=r.ui,u=d.List,h=r.keys,f=r.data.DataSource,p="aria-disabled",m="aria-readonly",g="change",v="k-state-default",_="disabled",b="readonly",w="k-state-focused",y="k-state-selected",k="k-state-disabled",x="k-state-hover",C=".kendoAutoComplete",S="mouseenter"+C+" mouseleave"+C,T=e.proxy,D=u.extend({init:function init(t,n){var i,o,a=this;a.ns=C,n=e.isArray(n)?{dataSource:n}:n,u.fn.init.call(a,t,n),t=a.element,n=a.options,n.placeholder=n.placeholder||t.attr("placeholder"),c&&t.attr("placeholder",n.placeholder),a._wrapper(),a._loader(),a._dataSource(),a._ignoreCase(),t[0].type="text",i=a.wrapper,a._popup(),t.addClass("k-input").on("keydown"+C,T(a._keydown,a)).on("keypress"+C,T(a._keypress,a)).on("paste"+C,T(a._search,a)).on("focus"+C,function(){a._prev=a._accessor(),a._oldText=a._prev,a._placeholder(!1),i.addClass(w);}).on("focusout"+C,function(){a._change(),a._placeholder(),i.removeClass(w);}).attr({autocomplete:"off",role:"textbox","aria-haspopup":!0}),a._enable(),a._old=a._accessor(),t[0].id&&t.attr("aria-owns",a.ul[0].id),a._aria(),a._placeholder(),a._initList(),o=e(a.element).parents("fieldset").is(":disabled"),o&&a.enable(!1),a.listView.bind("click",function(e){e.preventDefault();}),a._resetFocusItemHandler=e.proxy(a._resetFocusItem,a),r.notify(a);},options:{name:"AutoComplete",enabled:!0,suggest:!1,template:"",groupTemplate:"#:data#",fixedGroupTemplate:"#:data#",dataTextField:"",minLength:1,delay:200,height:200,filter:"startswith",ignoreCase:!0,highlightFirst:!1,separator:null,placeholder:"",animation:{},virtual:!1,value:null},_dataSource:function _dataSource(){var e=this;e.dataSource&&e._refreshHandler?e._unbindDataSource():(e._progressHandler=T(e._showBusy,e),e._errorHandler=T(e._hideBusy,e)),e.dataSource=f.create(e.options.dataSource).bind("progress",e._progressHandler).bind("error",e._errorHandler);},setDataSource:function setDataSource(e){this.options.dataSource=e,this._dataSource(),this.listView.setDataSource(this.dataSource);},events:["open","close",g,"select","filtering","dataBinding","dataBound"],setOptions:function setOptions(e){var t=this._listOptions(e);u.fn.setOptions.call(this,e),this.listView.setOptions(t),this._accessors(),this._aria();},_listOptions:function _listOptions(t){var n=u.fn._listOptions.call(this,e.extend(t,{skipUpdateOnBind:!0}));return n.dataValueField=n.dataTextField,n.selectedItemChange=null,n;},_editable:function _editable(e){var t=this,n=t.element,i=t.wrapper.off(C),o=e.readonly,r=e.disable;o||r?(i.addClass(r?k:v).removeClass(r?v:k),n.attr(_,r).attr(b,o).attr(p,r).attr(m,o)):(i.addClass(v).removeClass(k).on(S,t._toggleHover),n.removeAttr(_).removeAttr(b).attr(p,!1).attr(m,!1));},close:function close(){var e=this,t=e.listView.focus();t&&t.removeClass(y),e.popup.close();},destroy:function destroy(){var e=this;e.element.off(C),e.wrapper.off(C),u.fn.destroy.call(e);},refresh:function refresh(){this.listView.refresh();},select:function select(e){this._select(e);},search:function search(e){var t,n=this,o=n.options,r=o.ignoreCase,a=o.separator;e=e||n._accessor(),clearTimeout(n._typingTimeout),a&&(e=i(s(n.element)[0],e,a)),t=e.length,(!t||t>=o.minLength)&&(n._open=!0,n._mute(function(){this.listView.value([]);}),n._filterSource({value:r?e.toLowerCase():e,operator:o.filter,field:o.dataTextField,ignoreCase:r}));},suggest:function suggest(e){var i,o=this,r=o._last,a=o._accessor(),c=o.element[0],d=s(c)[0],f=o.options.separator,p=a.split(f),m=n(d,a,f),g=d;return r==h.BACKSPACE||r==h.DELETE?(o._last=t,t):(e=e||"","string"!=typeof e&&(e[0]&&(e=o.dataSource.view()[u.inArray(e[0],o.ul[0])]),e=e?o._text(e):""),0>=d&&(d=a.toLowerCase().indexOf(e.toLowerCase())+1),i=a.substring(0,d).lastIndexOf(f),i=i>-1?d-(i+f.length):d,a=p[m].substring(0,i),e&&(e=""+e,i=e.toLowerCase().indexOf(a.toLowerCase()),i>-1&&(e=e.substring(i+a.length),g=d+e.length,a+=e),f&&""!==p[p.length-1]&&p.push("")),p[m]=a,o._accessor(p.join(f||"")),c===l()&&s(c,d,g),t);},value:function value(e){return e===t?this._accessor():(this.listView.value(e),this._accessor(e),this._old=this._accessor(),this._oldText=this._accessor(),t);},_click:function _click(e){var n=e.item,i=this.element;return e.preventDefault(),this._active=!0,this.trigger("select",{item:n})?(this.close(),t):(this._oldText=i.val(),this._select(n),this._blur(),s(i,i.val().length),t);},_resetFocusItem:function _resetFocusItem(){var e=this.options.highlightFirst?0:-1;this.options.virtual&&this.listView.scrollTo(0),this.listView.focus(e);},_listBound:function _listBound(){var e,n=this,i=n.popup,o=n.options,r=n.dataSource.flatView(),a=r.length,s=n.element[0]===l();n._resizePopup(),i.position(),a&&o.suggest&&s&&n.suggest(r[0]),n._open&&(n._open=!1,e=a?"open":"close",n._typingTimeout&&!s&&(e="close"),a&&(n._resetFocusItem(),o.virtual&&n.popup.unbind("activate",n._resetFocusItemHandler).one("activate",n._resetFocusItemHandler)),i[e](),n._typingTimeout=t),n._touchScroller&&n._touchScroller.reset(),n._hideBusy(),n._makeUnselectable(),n.trigger("dataBound");},_mute:function _mute(e){this._muted=!0,e.call(this),this._muted=!1;},_listChange:function _listChange(){var e=this._active||this.element[0]===l();e&&!this._muted&&this._selectValue(this.listView.selectedDataItems()[0]);},_selectValue:function _selectValue(e){var t=this.options.separator,n="";e&&(n=this._text(e)),null===n&&(n=""),t&&(n=o(s(this.element)[0],this._accessor(),n,t)),this._prev=n,this._accessor(n),this._placeholder();},_change:function _change(){var e=this,t=e.value(),n=t!==u.unifyType(e._old,typeof t==="undefined"?"undefined":_typeof(t)),i=n&&!e._typing,o=e._oldText!==t;(i||o)&&e.element.trigger(g),n&&(e._old=t,e.trigger(g)),e.typing=!1;},_accessor:function _accessor(e){var n=this,i=n.element[0];return e===t?(e=i.value,i.className.indexOf("k-readonly")>-1&&e===n.options.placeholder?"":e):(i.value=null===e?"":e,n._placeholder(),t);},_keydown:function _keydown(e){var t=this,n=e.keyCode,i=t.popup.visible(),o=this.listView.focus();if(t._last=n,n===h.DOWN)i&&this._move(o?"focusNext":"focusFirst"),e.preventDefault();else if(n===h.UP)i&&this._move(o?"focusPrev":"focusLast"),e.preventDefault();else if(n===h.ENTER||n===h.TAB){if(n===h.ENTER&&i&&e.preventDefault(),i&&o){if(t.trigger("select",{item:o}))return;this._select(o);}this._blur();}else n===h.ESC?(i&&e.preventDefault(),t.close()):t._search();},_keypress:function _keypress(){this._oldText=this.element.val(),this._typing=!0;},_move:function _move(e){this.listView[e](),this.options.suggest&&this.suggest(this.listView.focus());},_hideBusy:function _hideBusy(){var e=this;clearTimeout(e._busy),e._loading.hide(),e.element.attr("aria-busy",!1),e._busy=null;},_showBusy:function _showBusy(){var e=this;e._busy||(e._busy=setTimeout(function(){e.element.attr("aria-busy",!0),e._loading.show();},100));},_placeholder:function _placeholder(e){if(!c){var n,i=this,o=i.element,r=i.options.placeholder;if(r){if(n=o.val(),e===t&&(e=!n),e||(r=n!==r?n:""),n===i._old&&!e)return;o.toggleClass("k-readonly",e).val(r),r||o[0]!==document.activeElement||s(o[0],0,0);}}},_search:function _search(){var e=this;clearTimeout(e._typingTimeout),e._typingTimeout=setTimeout(function(){e._prev!==e._accessor()&&(e._prev=e._accessor(),e.search());},e.options.delay);},_select:function _select(e){this._active=!0,this.listView.select(e),this._active=!1;},_loader:function _loader(){this._loading=e('<span class="k-icon k-loading" style="display:none"></span>').insertAfter(this.element);},_toggleHover:function _toggleHover(t){e(t.currentTarget).toggleClass(x,"mouseenter"===t.type);},_wrapper:function _wrapper(){var e,t=this,n=t.element,i=n[0];e=n.parent(),e.is("span.k-widget")||(e=n.wrap("<span />").parent()),e.attr("tabindex",-1),e.attr("role","presentation"),e[0].style.cssText=i.style.cssText,n.css({width:"100%",height:i.style.height}),t._focused=t.element,t.wrapper=e.addClass("k-widget k-autocomplete k-header").addClass(i.className);}});d.plugin(D);}(window.kendo.jQuery),window.kendo;},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("kendo.dropdownlist.min",["kendo.list.min","kendo.mobile.scroller.min"],e);}(function(){return function(e,t){function n(e,t,n){for(var i,o=0,r=t.length-1;r>o;++o){i=t[o],i in e||(e[i]={}),e=e[i];}e[t[r]]=n;}function i(e,t){return e>=t&&(e-=t),e;}function o(e,t){for(var n=0;e.length>n;n++){if(e.charAt(n)!==t)return!1;}return!0;}var r=window.kendo,a=r.ui,s=a.List,l=a.Select,c=r.support,d=r._activeElement,u=r.data.ObservableObject,h=r.keys,f=".kendoDropDownList",p="disabled",m="readonly",g="change",v="k-state-focused",_="k-state-default",b="k-state-disabled",w="aria-disabled",y="mouseenter"+f+" mouseleave"+f,k="tabindex",x="filter",C="accept",S="The `optionLabel` option is not valid due to missing fields. Define a custom optionLabel as shown here http://docs.telerik.com/kendo-ui/api/javascript/ui/dropdownlist#configuration-optionLabel",T=e.proxy,D=l.extend({init:function init(n,i){var o,a,s,c=this,d=i&&i.index;c.ns=f,i=e.isArray(i)?{dataSource:i}:i,l.fn.init.call(c,n,i),i=c.options,n=c.element.on("focus"+f,T(c._focusHandler,c)),c._focusInputHandler=e.proxy(c._focusInput,c),c.optionLabel=e(),c._optionLabel(),c._inputTemplate(),c._reset(),c._prev="",c._word="",c._wrapper(),c._tabindex(),c.wrapper.data(k,c.wrapper.attr(k)),c._span(),c._popup(),c._mobile(),c._dataSource(),c._ignoreCase(),c._filterHeader(),c._aria(),c._enable(),c._oldIndex=c.selectedIndex=-1,d!==t&&(i.index=d),c._initialIndex=i.index,c._initList(),c._cascade(),i.autoBind?c.dataSource.fetch():-1===c.selectedIndex&&(a=i.text||"",a||(o=i.optionLabel,o&&0===i.index?a=o:c._isSelect&&(a=n.children(":selected").text())),c._textAccessor(a)),s=e(c.element).parents("fieldset").is(":disabled"),s&&c.enable(!1),c.listView.bind("click",function(e){e.preventDefault();}),r.notify(c);},options:{name:"DropDownList",enabled:!0,autoBind:!0,index:0,text:null,value:null,delay:500,height:200,dataTextField:"",dataValueField:"",optionLabel:"",cascadeFrom:"",cascadeFromField:"",ignoreCase:!0,animation:{},filter:"none",minLength:1,virtual:!1,template:null,valueTemplate:null,optionLabelTemplate:null,groupTemplate:"#:data#",fixedGroupTemplate:"#:data#"},events:["open","close",g,"select","filtering","dataBinding","dataBound","cascade","set"],setOptions:function setOptions(e){l.fn.setOptions.call(this,e),this.listView.setOptions(this._listOptions(e)),this._optionLabel(),this._inputTemplate(),this._accessors(),this._filterHeader(),this._enable(),this._aria(),!this.value()&&this.hasOptionLabel()&&this.select(0);},destroy:function destroy(){var e=this;l.fn.destroy.call(e),e.wrapper.off(f),e.element.off(f),e._inputWrapper.off(f),e._arrow.off(),e._arrow=null,e.optionLabel.off();},open:function open(){var e=this;e.popup.visible()||(e.listView.bound()&&e._state!==C?e._allowOpening()&&(e.popup.one("activate",e._focusInputHandler),e.popup.open(),e._focusItem()):(e._open=!0,e._state="rebind",e.filterInput&&(e.filterInput.val(""),e._prev=""),e._filterSource()));},_focusInput:function _focusInput(){this._focusElement(this.filterInput);},_allowOpening:function _allowOpening(){return this.hasOptionLabel()||this.filterInput||this.dataSource.view().length;},toggle:function toggle(e){this._toggle(e,!0);},current:function current(e){var n;return e===t?(n=this.listView.focus(),!n&&0===this.selectedIndex&&this.hasOptionLabel()?this.optionLabel:n):(this._focus(e),t);},dataItem:function dataItem(n){var i=this,o=null;if(null===n)return n;if(n===t)o=i.listView.selectedDataItems()[0];else{if("number"!=typeof n){if(i.options.virtual)return i.dataSource.getByUid(e(n).data("uid"));n=n.hasClass("k-list-optionlabel")?-1:e(i.items()).index(n);}else i.hasOptionLabel()&&(n-=1);o=i.dataSource.flatView()[n];}return o||(o=i._optionLabelDataItem()),o;},refresh:function refresh(){this.listView.refresh();},text:function text(e){var n,i,o=this,r=o.options.ignoreCase;return e=null===e?"":e,e===t?o._textAccessor():("string"==typeof e&&(i=r?e.toLowerCase():e,o._select(function(e){return e=o._text(e),r&&(e=(e+"").toLowerCase()),e===i;}),n=o.dataItem(),n&&(e=n)),o._textAccessor(e),t);},value:function value(e){var n=this,i=n.listView,o=n.dataSource;return e===t?(e=n._accessor()||n.listView.value()[0],e===t||null===e?"":e):(!e&&n.hasOptionLabel()||(n._initialIndex=null),this.trigger("set",{value:e}),n._request&&n.options.cascadeFrom&&n.listView.bound()?(n._valueSetter&&o.unbind(g,n._valueSetter),n._valueSetter=T(function(){n.value(e);},n),o.one(g,n._valueSetter),t):(n._isFilterEnabled()&&i.bound()&&i.isFiltered()?n._clearFilter():n._fetchData(),i.value(e).done(function(){-1===n.selectedIndex&&n.text()&&(n.text(""),n._accessor("",-1)),n._old=n._accessor(),n._oldIndex=n.selectedIndex;}),t));},hasOptionLabel:function hasOptionLabel(){return this.optionLabel&&!!this.optionLabel[0];},_optionLabel:function _optionLabel(){var n=this,i=n.options,o=i.optionLabel,a=i.optionLabelTemplate;return o?(a||(a="#:",a+="string"==typeof o?"data":r.expr(i.dataTextField,"data"),a+="#"),"function"!=typeof a&&(a=r.template(a)),n.optionLabelTemplate=a,n.hasOptionLabel()||(n.optionLabel=e('<div class="k-list-optionlabel"></div>').prependTo(n.list)),n.optionLabel.html(a(o)).off().click(T(n._click,n)).on(y,n._toggleHover),n.angular("compile",function(){return{elements:n.optionLabel,data:[{dataItem:n._optionLabelDataItem()}]};}),t):(n.optionLabel.off().remove(),n.optionLabel=e(),t);},_optionLabelText:function _optionLabelText(){var e=this.options.optionLabel;return"string"==typeof e?e:this._text(e);},_optionLabelDataItem:function _optionLabelDataItem(){var t=this,n=t.options.optionLabel;return t.hasOptionLabel()?e.isPlainObject(n)?new u(n):t._assignInstance(t._optionLabelText(),""):null;},_buildOptions:function _buildOptions(e){var n,i,o,r=this;r._isSelect&&(n=r.listView.value()[0],i=r._optionLabelDataItem(),o=i&&r._value(i),n!==t&&null!==n||(n=""),i&&(o!==t&&null!==o||(o=""),i='<option value="'+o+'">'+r._text(i)+"</option>"),r._options(e,i,n),n!==s.unifyType(r._accessor(),typeof n==="undefined"?"undefined":_typeof(n))&&(r._customOption=null,r._custom(n)));},_listBound:function _listBound(){var e,t=this,n=t._initialIndex,i=t._state===x,o=t.dataSource.flatView();t._presetValue=!1,t._resizePopup(!0),t.popup.position(),t._buildOptions(o),t._makeUnselectable(),i||(t._open&&t.toggle(t._allowOpening()),t._open=!1,t._fetch||(o.length?(!t.listView.value().length&&n>-1&&null!==n&&t.select(n),t._initialIndex=null,e=t.listView.selectedDataItems()[0],e&&t.text()!==t._text(e)&&t._selectValue(e)):t._textAccessor()!==t._optionLabelText()&&(t.listView.value(""),t._selectValue(null),t._oldIndex=t.selectedIndex))),t._hideBusy(),t.trigger("dataBound");},_listChange:function _listChange(){this._selectValue(this.listView.selectedDataItems()[0]),(this._presetValue||this._old&&-1===this._oldIndex)&&(this._oldIndex=this.selectedIndex);},_filterPaste:function _filterPaste(){this._search();},_focusHandler:function _focusHandler(){this.wrapper.focus();},_focusinHandler:function _focusinHandler(){this._inputWrapper.addClass(v),this._prevent=!1;},_focusoutHandler:function _focusoutHandler(){var e=this,t=e._state===x,n=window.self!==window.top,i=e._focus();e._prevent||(clearTimeout(e._typingTimeout),t&&i&&!e.trigger("select",{item:i})&&e._select(i,!e.dataSource.view().length),c.mobileOS.ios&&n?e._change():e._blur(),e._inputWrapper.removeClass(v),e._prevent=!0,e._open=!1,e.element.blur());},_wrapperMousedown:function _wrapperMousedown(){this._prevent=!!this.filterInput;},_wrapperClick:function _wrapperClick(e){e.preventDefault(),this.popup.unbind("activate",this._focusInputHandler),this._focused=this.wrapper,this._toggle();},_editable:function _editable(e){var t=this,n=t.element,i=e.disable,o=e.readonly,r=t.wrapper.add(t.filterInput).off(f),a=t._inputWrapper.off(y);o||i?i?(r.removeAttr(k),a.addClass(b).removeClass(_)):(a.addClass(_).removeClass(b),r.on("focusin"+f,T(t._focusinHandler,t)).on("focusout"+f,T(t._focusoutHandler,t))):(n.removeAttr(p).removeAttr(m),a.addClass(_).removeClass(b).on(y,t._toggleHover),r.attr(k,r.data(k)).attr(w,!1).on("keydown"+f,T(t._keydown,t)).on("focusin"+f,T(t._focusinHandler,t)).on("focusout"+f,T(t._focusoutHandler,t)).on("mousedown"+f,T(t._wrapperMousedown,t)).on("paste"+f,T(t._filterPaste,t)),t.wrapper.on("click"+f,T(t._wrapperClick,t)),t.filterInput||r.on("keypress"+f,T(t._keypress,t))),n.attr(p,i).attr(m,o),r.attr(w,i);},_keydown:function _keydown(e){var n,i,o,r=this,a=e.keyCode,s=e.altKey,l=r.popup.visible();if(r.filterInput&&(n=r.filterInput[0]===d()),a===h.LEFT?(a=h.UP,i=!0):a===h.RIGHT&&(a=h.DOWN,i=!0),!i||!n){if(e.keyCode=a,(s&&a===h.UP||a===h.ESC)&&r._focusElement(r.wrapper),a===h.ENTER&&r._typingTimeout&&r.filterInput&&l)return e.preventDefault(),t;if(i=r._move(e),!i){if((!l||!r.filterInput)&&(o=r._focus(),a===h.HOME?(i=!0,r._firstItem()):a===h.END&&(i=!0,r._lastItem()),i)){if(r.trigger("select",{item:r._focus()}))return r._focus(o),t;r._select(r._focus(),!0),l||r._blur();}s||i||!r.filterInput||r._search();}}},_matchText:function _matchText(e,n){var i=this.options.ignoreCase;return e===t||null===e?!1:(e+="",i&&(e=e.toLowerCase()),0===e.indexOf(n));},_shuffleData:function _shuffleData(e,t){var n=this._optionLabelDataItem();return n&&(e=[n].concat(e)),e.slice(t).concat(e.slice(0,t));},_selectNext:function _selectNext(){var e,t,n,r=this,a=r.dataSource.flatView(),s=a.length+(r.hasOptionLabel()?1:0),l=o(r._word,r._last),c=r.selectedIndex;for(-1===c?c=0:(c+=l?1:0,c=i(c,s)),a=a.toJSON?a.toJSON():a.slice(),a=r._shuffleData(a,c),n=0;s>n&&(t=r._text(a[n]),!l||!r._matchText(t,r._last))&&!r._matchText(t,r._word);n++){}n!==s&&(e=r._focus(),r._select(i(c+n,s)),r.trigger("select",{item:r._focus()})&&r._select(e),r.popup.visible()||r._change());},_keypress:function _keypress(e){var t,n=this;0!==e.which&&e.keyCode!==r.keys.ENTER&&(t=String.fromCharCode(e.charCode||e.keyCode),n.options.ignoreCase&&(t=t.toLowerCase())," "===t&&e.preventDefault(),n._word+=t,n._last=t,n._search());},_popupOpen:function _popupOpen(){var e=this.popup;e.wrapper=r.wrap(e.element),e.element.closest(".km-root")[0]&&(e.wrapper.addClass("km-popup km-widget"),this.wrapper.addClass("km-widget"));},_popup:function _popup(){l.fn._popup.call(this),this.popup.one("open",T(this._popupOpen,this));},_click:function _click(n){var i=n.item||e(n.currentTarget);return n.preventDefault(),this.trigger("select",{item:i})?(this.close(),t):(this._userTriggered=!0,this._select(i),this._focusElement(this.wrapper),this._blur(),t);},_focusElement:function _focusElement(e){var t=d(),n=this.wrapper,i=this.filterInput,o=e===i?n:i,r=c.mobileOS&&(c.touch||c.MSPointers||c.pointers);i&&i[0]===e[0]&&r||i&&o[0]===t&&(this._prevent=!0,this._focused=e.focus());},_filter:function _filter(e){var t,n;e&&(t=this,n=t.options.ignoreCase,n&&(e=e.toLowerCase()),t._select(function(n){return t._matchText(t._text(n),e);}));},_search:function _search(){var e=this,n=e.dataSource;if(clearTimeout(e._typingTimeout),e._isFilterEnabled())e._typingTimeout=setTimeout(function(){var t=e.filterInput.val();e._prev!==t&&(e._prev=t,e.search(t)),e._typingTimeout=null;},e.options.delay);else{if(e._typingTimeout=setTimeout(function(){e._word="";},e.options.delay),!e.listView.bound())return n.fetch().done(function(){e._selectNext();}),t;e._selectNext();}},_get:function _get(t){var n,i,o,r="function"==typeof t,a=r?e():e(t);if(this.hasOptionLabel()&&("number"==typeof t?t>-1&&(t-=1):a.hasClass("k-list-optionlabel")&&(t=-1)),r){for(n=this.dataSource.flatView(),o=0;n.length>o;o++){if(t(n[o])){t=o,i=!0;break;}}i||(t=-1);}return t;},_firstItem:function _firstItem(){this.hasOptionLabel()?this._focus(this.optionLabel):this.listView.focusFirst();},_lastItem:function _lastItem(){this._resetOptionLabel(),this.listView.focusLast();},_nextItem:function _nextItem(){this.optionLabel.hasClass("k-state-focused")?(this._resetOptionLabel(),this.listView.focusFirst()):this.listView.focusNext();},_prevItem:function _prevItem(){this.optionLabel.hasClass("k-state-focused")||(this.listView.focusPrev(),this.listView.focus()||this._focus(this.optionLabel));},_focusItem:function _focusItem(){var e=this.listView,n=e.focus(),i=e.select();i=i[i.length-1],i===t&&this.options.highlightFirst&&!n&&(i=0),i!==t?e.focus(i):this.options.optionLabel?(this._focus(this.optionLabel),this._select(this.optionLabel)):e.scrollToIndex(0);},_resetOptionLabel:function _resetOptionLabel(e){this.optionLabel.removeClass("k-state-focused"+(e||"")).removeAttr("id");},_focus:function _focus(e){var n=this.listView,i=this.optionLabel;return e===t?(e=n.focus(),!e&&i.hasClass("k-state-focused")&&(e=i),e):(this._resetOptionLabel(),e=this._get(e),n.focus(e),-1===e&&(i.addClass("k-state-focused").attr("id",n._optionID),this._focused.add(this.filterInput).removeAttr("aria-activedescendant").attr("aria-activedescendant",n._optionID)),t);},_select:function _select(e,t){var n=this;e=n._get(e),n.listView.select(e),t||n._state!==x||(n._state=C),-1===e&&n._selectValue(null);},_selectValue:function _selectValue(e){var n=this,i=n.options.optionLabel,o=n.listView.select(),r="",a="";o=o[o.length-1],o===t&&(o=-1),this._resetOptionLabel(" k-state-selected"),e?(a=e,r=n._dataValue(e),i&&(o+=1)):i&&(n._focus(n.optionLabel.addClass("k-state-selected")),a=n._optionLabelText(),r="string"==typeof i?"":n._value(i),o=0),n.selectedIndex=o,null===r&&(r=""),n._textAccessor(a),n._accessor(r,o),n._triggerCascade();},_mobile:function _mobile(){var e=this,t=e.popup,n=c.mobileOS,i=t.element.parents(".km-root").eq(0);i.length&&n&&(t.options.animation.open.effects=n.android||n.meego?"fadeIn":n.ios||n.wp?"slideIn:up":t.options.animation.open.effects);},_filterHeader:function _filterHeader(){var t;this.filterInput&&(this.filterInput.off(f).parent().remove(),this.filterInput=null),this._isFilterEnabled()&&(t='<span unselectable="on" class="k-icon k-i-search">select</span>',this.filterInput=e('<input class="k-textbox"/>').attr({placeholder:this.element.attr("placeholder"),role:"listbox","aria-haspopup":!0,"aria-expanded":!1}),this.list.prepend(e('<span class="k-list-filter" />').append(this.filterInput.add(t))));},_span:function _span(){var t,n=this,i=n.wrapper,o="span.k-input";t=i.find(o),t[0]||(i.append('<span unselectable="on" class="k-dropdown-wrap k-state-default"><span unselectable="on" class="k-input">&nbsp;</span><span unselectable="on" class="k-select"><span unselectable="on" class="k-icon k-i-arrow-s">select</span></span></span>').append(n.element),t=i.find(o)),n.span=t,n._inputWrapper=e(i[0].firstChild),n._arrow=i.find(".k-icon");},_wrapper:function _wrapper(){var e,t=this,n=t.element,i=n[0];e=n.parent(),e.is("span.k-widget")||(e=n.wrap("<span />").parent(),e[0].style.cssText=i.style.cssText,e[0].title=i.title),n.hide(),t._focused=t.wrapper=e.addClass("k-widget k-dropdown k-header").addClass(i.className).css("display","").attr({accesskey:n.attr("accesskey"),unselectable:"on",role:"listbox","aria-haspopup":!0,"aria-expanded":!1});},_clearSelection:function _clearSelection(e){this.select(e.value()?0:-1);},_inputTemplate:function _inputTemplate(){var t=this,n=t.options.valueTemplate;if(n=n?r.template(n):e.proxy(r.template("#:this._text(data)#",{useWithBlock:!1}),t),t.valueTemplate=n,t.hasOptionLabel()&&!t.options.optionLabelTemplate)try{t.valueTemplate(t._optionLabelDataItem());}catch(i){throw Error(S);}},_textAccessor:function _textAccessor(n){var i,o=null,r=this.valueTemplate,a=this._optionLabelText(),s=this.span;if(n===t)return s.text();e.isPlainObject(n)||n instanceof u?o=n:a&&a===n&&(o=this.options.optionLabel),o||(o=this._assignInstance(n,this._accessor())),o!==a&&this._text(o)!==a||(r=this.optionLabelTemplate),i=function i(){return{elements:s.get(),data:[{dataItem:o}]};},this.angular("cleanup",i);try{s.html(r(o));}catch(l){s.html("");}this.angular("compile",i);},_preselect:function _preselect(e,t){e||t||(t=this._optionLabelText()),this._accessor(e),this._textAccessor(t),this._old=this._accessor(),this._oldIndex=this.selectedIndex,this.listView.setValue(e),this._initialIndex=null,this._presetValue=!0;},_assignInstance:function _assignInstance(e,t){var i=this.options.dataTextField,o={};return i?(n(o,i.split("."),e),n(o,this.options.dataValueField.split("."),t),o=new u(o)):o=e,o;}});a.plugin(D);}(window.kendo.jQuery),window.kendo;},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("kendo.combobox.min",["kendo.list.min","kendo.mobile.scroller.min"],e);}(function(){return function(e,t){var n=window.kendo,i=n.ui,o=i.List,r=i.Select,a=n.caret,s=n.support,l=s.placeholder,c=n._activeElement,d=n.keys,u=".kendoComboBox",h="click"+u,f="mousedown"+u,p="disabled",m="readonly",g="change",v="k-state-default",_="k-state-focused",b="k-state-disabled",w="aria-disabled",y="filter",k="accept",x="rebind",C="mouseenter"+u+" mouseleave"+u,S=e.proxy,T=r.extend({init:function init(t,i){var o,a,s=this;s.ns=u,i=e.isArray(i)?{dataSource:i}:i,r.fn.init.call(s,t,i),i=s.options,t=s.element.on("focus"+u,S(s._focusHandler,s)),i.placeholder=i.placeholder||t.attr("placeholder"),s._reset(),s._wrapper(),s._input(),s._tabindex(s.input),s._popup(),s._dataSource(),s._ignoreCase(),s._enable(),s._oldIndex=s.selectedIndex=-1,s._aria(),s._initialIndex=i.index,s._initList(),s._cascade(),i.autoBind?s._filterSource():(o=i.text,!o&&s._isSelect&&(o=t.children(":selected").text()),o&&s._setText(o)),o||s._placeholder(),a=e(s.element).parents("fieldset").is(":disabled"),a&&s.enable(!1),n.notify(s);},options:{name:"ComboBox",enabled:!0,index:-1,text:null,value:null,autoBind:!0,delay:200,dataTextField:"",dataValueField:"",minLength:0,height:200,highlightFirst:!0,filter:"none",placeholder:"",suggest:!1,cascadeFrom:"",cascadeFromField:"",ignoreCase:!0,animation:{},virtual:!1,template:null,groupTemplate:"#:data#",fixedGroupTemplate:"#:data#"},events:["open","close",g,"select","filtering","dataBinding","dataBound","cascade","set"],setOptions:function setOptions(e){r.fn.setOptions.call(this,e),this.listView.setOptions(e),this._accessors(),this._aria();},destroy:function destroy(){var e=this;e.input.off(u),e.element.off(u),e._inputWrapper.off(u),clearTimeout(e._pasteTimeout),e._arrow.parent().off(h+" "+f),r.fn.destroy.call(e);},_focusHandler:function _focusHandler(){this.input.focus();},_arrowClick:function _arrowClick(){this._toggle();},_inputFocus:function _inputFocus(){this._inputWrapper.addClass(_),this._placeholder(!1);},_inputFocusout:function _inputFocusout(){var e=this,n=e.value();return e._inputWrapper.removeClass(_),clearTimeout(e._typingTimeout),e._typingTimeout=null,e.text(e.text()),n!==e.value()&&e.trigger("select",{item:e._focus()})?(e.value(n),t):(e._placeholder(),e._blur(),e.element.blur(),t);},_inputPaste:function _inputPaste(){var e=this;clearTimeout(e._pasteTimeout),e._pasteTimeout=null,e._pasteTimeout=setTimeout(function(){e.search();});},_editable:function _editable(e){var t=this,n=e.disable,i=e.readonly,o=t._inputWrapper.off(u),r=t.element.add(t.input.off(u)),a=t._arrow.parent().off(h+" "+f);i||n?(o.addClass(n?b:v).removeClass(n?v:b),r.attr(p,n).attr(m,i).attr(w,n)):(o.addClass(v).removeClass(b).on(C,t._toggleHover),r.removeAttr(p).removeAttr(m).attr(w,!1),a.on(h,S(t._arrowClick,t)).on(f,function(e){e.preventDefault();}),t.input.on("keydown"+u,S(t._keydown,t)).on("focus"+u,S(t._inputFocus,t)).on("focusout"+u,S(t._inputFocusout,t)).on("paste"+u,S(t._inputPaste,t)));},open:function open(){var e=this,t=e._state;e.popup.visible()||(!e.listView.bound()&&t!==y||t===k?(e._open=!0,e._state=x,e._filterSource()):(e.popup.open(),e._focusItem()));},_updateSelectionState:function _updateSelectionState(){var e=this,n=e.options.text,i=e.options.value;e.listView.isFiltered()||(-1===e.selectedIndex?(n!==t&&null!==n||(n=i),e._accessor(i),e.input.val(n||e.input.val()),e._placeholder()):-1===e._oldIndex&&(e._oldIndex=e.selectedIndex));},_buildOptions:function _buildOptions(e){var n,i=this;i._isSelect&&(n=i._customOption,i._state===x&&(i._state=""),i._customOption=t,i._options(e,"",i.value()),n&&n[0].selected&&i._custom(n.val()));},_updateSelection:function _updateSelection(){var n,i=this,o=i.listView,r=i._initialIndex,a=null!==r&&r>-1,s=i._state===y;return s?(e(o.focus()).removeClass("k-state-selected"),t):(i._fetch||(o.value().length||(a?i.select(r):i._accessor()&&o.value(i._accessor())),i._initialIndex=null,n=o.selectedDataItems()[0],n&&(i._value(n)!==i.value()&&i._custom(i._value(n)),i.text()&&i.text()!==i._text(n)&&i._selectValue(n))),t);},_updateItemFocus:function _updateItemFocus(){var e=this.listView;this.options.highlightFirst?e.focus()||e.focusIndex()||e.focus(0):e.focus(-1);},_listBound:function _listBound(){var e=this,n=e.input[0]===c(),i=e.dataSource.flatView(),o=e.listView.skip(),r=o===t||0===o;e._presetValue=!1,e._resizePopup(),e.popup.position(),e._buildOptions(i),e._makeUnselectable(),e._updateSelection(),i.length&&r&&(e._updateItemFocus(),e.options.suggest&&n&&e.input.val()&&e.suggest(i[0])),e._open&&(e._open=!1,e._typingTimeout&&!n?e.popup.close():e.toggle(!!i.length),e._typingTimeout=null),e._hideBusy(),e.trigger("dataBound");},_listChange:function _listChange(){this._selectValue(this.listView.selectedDataItems()[0]),this._presetValue&&(this._oldIndex=this.selectedIndex);},_get:function _get(e){var t,n,i;if("function"==typeof e){for(t=this.dataSource.flatView(),i=0;t.length>i;i++){if(e(t[i])){e=i,n=!0;break;}}n||(e=-1);}return e;},_select:function _select(e,t){e=this._get(e),-1===e&&(this.input[0].value="",this._accessor("")),this.listView.select(e),t||this._state!==y||(this._state=k);},_selectValue:function _selectValue(e){var n=this.listView.select(),i="",o="";n=n[n.length-1],n===t&&(n=-1),this.selectedIndex=n,-1===n?(i=o=this.input[0].value,this.listView.focus(-1)):(e&&(i=this._dataValue(e),o=this._text(e)),null===i&&(i="")),this._prev=this.input[0].value=o,this._accessor(i!==t?i:o,n),this._placeholder(),this._triggerCascade();},refresh:function refresh(){this.listView.refresh();},suggest:function suggest(e){var n,i=this,r=i.input[0],s=i.text(),l=a(r)[0],u=i._last;return u==d.BACKSPACE||u==d.DELETE?(i._last=t,t):(e=e||"","string"!=typeof e&&(e[0]&&(e=i.dataSource.view()[o.inArray(e[0],i.ul[0])]),e=e?i._text(e):""),0>=l&&(l=s.toLowerCase().indexOf(e.toLowerCase())+1),e?(e=""+e,n=e.toLowerCase().indexOf(s.toLowerCase()),n>-1&&(s+=e.substring(n+s.length))):s=s.substring(0,l),s.length===l&&e||(r.value=s,r===c()&&a(r,l,s.length)),t);},text:function text(e){var n,i,r,a,s,l;return e=null===e?"":e,n=this,i=n.input[0],r=n.options.ignoreCase,a=e,e===t?i.value:n.options.autoBind!==!1||n.listView.bound()?(s=n.dataItem(),s&&n._text(s)===e&&(l=n._value(s),l===o.unifyType(n._old,typeof l==="undefined"?"undefined":_typeof(l)))?(n._triggerCascade(),t):(r&&(a=a.toLowerCase()),n._select(function(e){return e=n._text(e),r&&(e=(e+"").toLowerCase()),e===a;}),0>n.selectedIndex&&(n._accessor(e),i.value=e,n._triggerCascade()),n._prev=i.value,t)):(n._setText(e),t);},toggle:function toggle(e){this._toggle(e,!0);},value:function value(e){var n=this,i=n.options,o=n.listView;return e===t?(e=n._accessor()||n.listView.value()[0],e===t||null===e?"":e):(n.trigger("set",{value:e}),e===i.value&&n.input.val()===i.text||(n._accessor(e),n._isFilterEnabled()&&o.bound()&&o.isFiltered()?n._clearFilter():n._fetchData(),o.value(e).done(function(){-1===n.selectedIndex&&(n._accessor(e),n.input.val(e),n._placeholder(!0)),n._old=n._accessor(),n._oldIndex=n.selectedIndex,n._prev=n.input.val(),n._state===y&&(n._state=k);})),t);},_click:function _click(e){var n=e.item;return e.preventDefault(),this.trigger("select",{item:n})?(this.close(),t):(this._userTriggered=!0,this._select(n),this._blur(),t);},_filter:function _filter(e){var n,i=this,o=i.options,r=i.dataSource,a=o.ignoreCase,s=function s(n){var o=i._text(n);return o!==t?(o+="",""!==o&&""===e?!1:(a&&(o=o.toLowerCase()),0===o.indexOf(e))):t;};return a&&(e=e.toLowerCase()),i.ul[0].firstChild?(this.listView.focus(this._get(s)),n=this.listView.focus(),n&&(o.suggest&&i.suggest(n),this.open()),this.options.highlightFirst&&!e&&this.listView.focusFirst(),t):(r.one(g,function(){r.view()[0]&&i.search(e);}).fetch(),t);},_input:function _input(){var t,n,i=this,o=i.element.removeClass("k-input")[0],r=o.accessKey,a=i.wrapper,s="input.k-input",c=o.name||"";c&&(c='name="'+c+'_input" '),t=a.find(s),t[0]||(a.append('<span tabindex="-1" unselectable="on" class="k-dropdown-wrap k-state-default"><input '+c+'class="k-input" type="text" autocomplete="off"/><span tabindex="-1" unselectable="on" class="k-select"><span unselectable="on" class="k-icon k-i-arrow-s">select</span></span></span>').append(i.element),t=a.find(s)),t[0].style.cssText=o.style.cssText,t[0].title=o.title,n=parseInt(this.element.prop("maxlength")||this.element.attr("maxlength"),10),n>-1&&(t[0].maxLength=n),t.addClass(o.className).val(this.options.text||o.value).css({width:"100%",height:o.style.height}).attr({role:"combobox","aria-expanded":!1}).show(),l&&t.attr("placeholder",i.options.placeholder),r&&(o.accessKey="",t[0].accessKey=r),i._focused=i.input=t,i._inputWrapper=e(a[0].firstChild),i._arrow=a.find(".k-icon").attr({role:"button",tabIndex:-1}),o.id&&i._arrow.attr("aria-controls",i.ul[0].id);},_keydown:function _keydown(e){var t=this,n=e.keyCode;t._last=n,clearTimeout(t._typingTimeout),t._typingTimeout=null,n==d.TAB||t._move(e)||t._search();},_placeholder:function _placeholder(e){if(!l){var n,i=this,o=i.input,r=i.options.placeholder;if(r){if(n=i.value(),e===t&&(e=!n),o.toggleClass("k-readonly",e),!e){if(n)return;r="";}o.val(r),r||o[0]!==c()||a(o[0],0,0);}}},_search:function _search(){var e=this;e._typingTimeout=setTimeout(function(){var t=e.text();e._prev!==t&&(e._prev=t,"none"===e.options.filter&&e.listView.select(-1),e.search(t)),e._typingTimeout=null;},e.options.delay);},_setText:function _setText(e){this.input.val(e),this._prev=e;},_wrapper:function _wrapper(){var e=this,t=e.element,n=t.parent();n.is("span.k-widget")||(n=t.hide().wrap("<span />").parent(),n[0].style.cssText=t[0].style.cssText),e.wrapper=n.addClass("k-widget k-combobox k-header").addClass(t[0].className).css("display","");},_clearSelection:function _clearSelection(e,t){var n=this,i=e.value(),o=i&&-1===e.selectedIndex;-1==this.selectedIndex&&this.value()||(t||!i||o)&&(n.options.value="",n.value(""));},_preselect:function _preselect(e,t){this.input.val(t),this._accessor(e),this._old=this._accessor(),this._oldIndex=this.selectedIndex,this.listView.setValue(e),this._placeholder(),this._initialIndex=null,this._presetValue=!0;}});i.plugin(T);}(window.kendo.jQuery),window.kendo;},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("kendo.multiselect.min",["kendo.list.min","kendo.mobile.scroller.min"],e);}(function(){return function(e,t){function n(e,t){var n;if(null===e&&null!==t||null!==e&&null===t)return!1;if(n=e.length,n!==t.length)return!1;for(;n--;){if(e[n]!==t[n])return!1;}return!0;}var i=window.kendo,o=i.ui,r=o.List,a=i.keys,s=i._activeElement,l=i.data.ObservableArray,c=e.proxy,d="id",u="li",h="accept",f="filter",p="rebind",m="open",g="close",v="change",_="progress",b="select",w="aria-disabled",y="k-state-focused",k="k-loading-hidden",x="k-state-hover",C="k-state-disabled",S="disabled",T="readonly",D=".kendoMultiSelect",A="click"+D,E="keydown"+D,R="mouseenter"+D,I="mouseleave"+D,F=R+" "+I,M=/"/g,P=e.isArray,z=["font-family","font-size","font-stretch","font-style","font-weight","letter-spacing","text-transform","line-height"],B=r.extend({init:function init(t,n){var o,a,s=this;s.ns=D,r.fn.init.call(s,t,n),s._optionsMap={},s._customOptions={},s._wrapper(),s._tagList(),s._input(),s._textContainer(),s._loader(),s._tabindex(s.input),t=s.element.attr("multiple","multiple").hide(),n=s.options,n.placeholder||(n.placeholder=t.data("placeholder")),o=t.attr(d),o&&(s._tagID=o+"_tag_active",o+="_taglist",s.tagList.attr(d,o)),s._aria(o),s._dataSource(),s._ignoreCase(),s._popup(),s._tagTemplate(),s._initList(),s._reset(),s._enable(),s._placeholder(),n.autoBind?s.dataSource.fetch():n.value&&s._preselect(n.value),a=e(s.element).parents("fieldset").is(":disabled"),a&&s.enable(!1),i.notify(s);},options:{name:"MultiSelect",tagMode:"multiple",enabled:!0,autoBind:!0,autoClose:!0,highlightFirst:!0,dataTextField:"",dataValueField:"",filter:"startswith",ignoreCase:!0,minLength:0,delay:100,value:null,maxSelectedItems:null,placeholder:"",height:200,animation:{},virtual:!1,itemTemplate:"",tagTemplate:"",groupTemplate:"#:data#",fixedGroupTemplate:"#:data#"},events:[m,g,v,b,"filtering","dataBinding","dataBound"],setDataSource:function setDataSource(e){this.options.dataSource=e,this._state="",this._dataSource(),this.listView.setDataSource(this.dataSource),this.options.autoBind&&this.dataSource.fetch();},setOptions:function setOptions(e){var t=this._listOptions(e);r.fn.setOptions.call(this,e),this.listView.setOptions(t),this._accessors(),this._aria(this.tagList.attr(d)),this._tagTemplate();},currentTag:function currentTag(e){var n=this;return e===t?n._currentTag:(n._currentTag&&(n._currentTag.removeClass(y).removeAttr(d),n.input.removeAttr("aria-activedescendant")),e&&(e.addClass(y).attr(d,n._tagID),n.input.attr("aria-activedescendant",n._tagID)),n._currentTag=e,t);},dataItems:function dataItems(){return this.listView.selectedDataItems();},destroy:function destroy(){var e=this,t=e.ns;clearTimeout(e._busy),clearTimeout(e._typingTimeout),e.wrapper.off(t),e.tagList.off(t),e.input.off(t),r.fn.destroy.call(e);},_activateItem:function _activateItem(){r.fn._activateItem.call(this),this.currentTag(null);},_listOptions:function _listOptions(t){var n=this,o=r.fn._listOptions.call(n,e.extend(t,{selectedItemChange:c(n._selectedItemChange,n),selectable:"multiple"})),a=this.options.itemTemplate||this.options.template,s=o.itemTemplate||a||o.template;return s||(s="#:"+i.expr(o.dataTextField,"data")+"#"),o.template=s,o;},_setListValue:function _setListValue(){r.fn._setListValue.call(this,this._initialValues.slice(0));},_listChange:function _listChange(e){var n,i=this.dataSource.flatView(),o=this._optionsMap,r=this._value;for(this._state===p&&(this._state=""),n=0;e.added.length>n;n++){if(o[r(e.added[n])]===t){this._render(i);break;}}this._selectValue(e.added,e.removed);},_selectedItemChange:function _selectedItemChange(e){var t,n,i=e.items;for(n=0;i.length>n;n++){t=i[n],this.tagList.children().eq(t.index).children("span:first").html(this.tagTextTemplate(t.item));}},_wrapperMousedown:function _wrapperMousedown(t){var n=this,o="input"!==t.target.nodeName.toLowerCase(),r=e(t.target),a=r.hasClass("k-select")||r.hasClass("k-icon");a&&(a=!r.closest(".k-select").children(".k-i-arrow-s").length),!o||a&&i.support.mobileOS||t.preventDefault(),a||(n.input[0]!==s()&&o&&n.input.focus(),0===n.options.minLength&&n.open());},_inputFocus:function _inputFocus(){this._placeholder(!1),this.wrapper.addClass(y);},_inputFocusout:function _inputFocusout(){var e=this;clearTimeout(e._typingTimeout),e.wrapper.removeClass(y),e._placeholder(!e.listView.selectedDataItems()[0],!0),e.close(),e._state===f&&(e._state=h,e.listView.skipUpdate(!0)),e.element.blur();},_removeTag:function _removeTag(e){var n,i=this,o=i._state,r=e.index(),a=i.listView,s=a.value()[r],l=i._customOptions[s];l!==t||o!==h&&o!==f||(l=i._optionsMap[s]),l!==t?(n=i.element[0].children[l],n.removeAttribute("selected"),n.selected=!1,a.removeAt(r),e.remove()):a.select(a.select()[r]),i.currentTag(null),i._change(),i._close();},_tagListClick:function _tagListClick(t){var n=e(t.currentTarget);n.children(".k-i-arrow-s").length||this._removeTag(n.closest(u));},_editable:function _editable(t){var n=this,i=t.disable,o=t.readonly,r=n.wrapper.off(D),a=n.tagList.off(D),s=n.element.add(n.input.off(D));o||i?(i?r.addClass(C):r.removeClass(C),s.attr(S,i).attr(T,o).attr(w,i)):(r.removeClass(C).on(F,n._toggleHover).on("mousedown"+D+" touchend"+D,c(n._wrapperMousedown,n)),n.input.on(E,c(n._keydown,n)).on("paste"+D,c(n._search,n)).on("focus"+D,c(n._inputFocus,n)).on("focusout"+D,c(n._inputFocusout,n)),s.removeAttr(S).removeAttr(T).attr(w,!1),a.on(R,u,function(){e(this).addClass(x);}).on(I,u,function(){e(this).removeClass(x);}).on(A,"li.k-button .k-select",c(n._tagListClick,n)));},_close:function _close(){var e=this;e.options.autoClose?e.close():e.popup.position();},_filterSource:function _filterSource(e,t){t||(t=this._retrieveData),this._retrieveData=!1,r.fn._filterSource.call(this,e,t);},close:function close(){this.popup.close();},open:function open(){var e=this;e._request&&(e._retrieveData=!1),e._retrieveData||!e.listView.bound()||e._state===h?(e._open=!0,e._state=p,e.listView.skipUpdate(!0),e._filterSource()):e._allowSelection()&&(e.popup.open(),e._focusItem());},toggle:function toggle(e){e=e!==t?e:!this.popup.visible(),this[e?m:g]();},refresh:function refresh(){this.listView.refresh();},_listBound:function _listBound(){var e=this,n=e.dataSource.flatView(),i=e.listView.skip(),o=n.length;e._render(n),e._resizePopup(),e._open&&(e._open=!1,e.toggle(o)),e.popup.position(),!e.options.highlightFirst||i!==t&&0!==i||e.listView.focusFirst(),e._touchScroller&&e._touchScroller.reset(),e._hideBusy(),e._makeUnselectable(),e.trigger("dataBound");},search:function search(e){var t,n,i=this,o=i.options,r=o.ignoreCase,a=o.dataTextField,s=i.input.val();o.placeholder===s&&(s=""),clearTimeout(i._typingTimeout),e="string"==typeof e?e:s,n=e.length,(!n||n>=o.minLength)&&(i._state=f,i._open=!0,t={value:r?e.toLowerCase():e,field:a,operator:o.filter,ignoreCase:r},i._filterSource(t));},value:function value(e){var n=this,i=n.listView,o=i.value().slice(),r=n.options.maxSelectedItems,a=i.bound()&&i.isFiltered();return e===t?o:(e=n._normalizeValues(e),null!==r&&e.length>r&&(e=e.slice(0,r)),a&&n._clearFilter(),i.value(e),n._old=e,a||n._fetchData(),t);},_preselect:function _preselect(t,n){var o=this;P(t)||t instanceof i.data.ObservableArray||(t=[t]),(e.isPlainObject(t[0])||t[0]instanceof i.data.ObservableObject||!o.options.dataValueField)&&(o.dataSource.data(t),o.value(n||o._initialValues),o._retrieveData=!0);},_setOption:function _setOption(e,t){var n=this.element[0].children[this._optionsMap[e]];n&&(t?n.setAttribute("selected","selected"):n.removeAttribute("selected"),n.selected=t);},_fetchData:function _fetchData(){var e=this,t=!!e.dataSource.view().length,n=0===e.listView.value().length;n||e._request||(e._retrieveData||!e._fetch&&!t)&&(e._fetch=!0,e._retrieveData=!1,e.dataSource.read().done(function(){e._fetch=!1;}));},_isBound:function _isBound(){return this.listView.bound()&&!this._retrieveData;},_dataSource:function _dataSource(){var e=this,t=e.element,n=e.options,o=n.dataSource||{};o=P(o)?{data:o}:o,o.select=t,o.fields=[{field:n.dataTextField},{field:n.dataValueField}],e.dataSource&&e._refreshHandler?e._unbindDataSource():(e._progressHandler=c(e._showBusy,e),e._errorHandler=c(e._hideBusy,e)),e.dataSource=i.data.DataSource.create(o).bind(_,e._progressHandler).bind("error",e._errorHandler);},_reset:function _reset(){var t=this,n=t.element,i=n.attr("form"),o=i?e("#"+i):n.closest("form");o[0]&&(t._resetHandler=function(){setTimeout(function(){t.value(t._initialValues),t._placeholder();});},t._form=o.on("reset",t._resetHandler));},_initValue:function _initValue(){var e=this.options.value||this.element.val();this._old=this._initialValues=this._normalizeValues(e);},_normalizeValues:function _normalizeValues(t){var n=this;return null===t?t=[]:t&&e.isPlainObject(t)?t=[n._value(t)]:t&&e.isPlainObject(t[0])?t=e.map(t,function(e){return n._value(e);}):P(t)||t instanceof l||(t=[t]),t;},_change:function _change(){var e=this,t=e.value();n(t,e._old)||(e._old=t.slice(),e.trigger(v),e.element.trigger(v));},_click:function _click(e){var n=e.item;return e.preventDefault(),this.trigger(b,{item:n})?(this._close(),t):(this._select(n),this._change(),this._close(),t);},_keydown:function _keydown(n){var o=this,r=n.keyCode,s=o._currentTag,l=o.listView.focus(),c=o.input.val(),d=i.support.isRtl(o.wrapper),u=o.popup.visible();if(r===a.DOWN){if(n.preventDefault(),!u)return o.open(),l||this.listView.focusFirst(),t;l?(this.listView.focusNext(),this.listView.focus()||this.listView.focusLast()):this.listView.focusFirst();}else if(r===a.UP)u&&(l&&this.listView.focusPrev(),this.listView.focus()||o.close()),n.preventDefault();else if(r===a.LEFT&&!d||r===a.RIGHT&&d)c||(s=s?s.prev():e(o.tagList[0].lastChild),s[0]&&o.currentTag(s));else if(r===a.RIGHT&&!d||r===a.LEFT&&d)!c&&s&&(s=s.next(),o.currentTag(s[0]?s:null));else if(r===a.ENTER&&u){if(l){if(o.trigger(b,{item:l}))return o._close(),t;o._select(l);}o._change(),o._close(),n.preventDefault();}else r===a.ESC?(u?n.preventDefault():o.currentTag(null),o.close()):r===a.HOME?u?this.listView.focusFirst():c||(s=o.tagList[0].firstChild,s&&o.currentTag(e(s))):r===a.END?u?this.listView.focusLast():c||(s=o.tagList[0].lastChild,s&&o.currentTag(e(s))):r!==a.DELETE&&r!==a.BACKSPACE||c?(clearTimeout(o._typingTimeout),setTimeout(function(){o._scale();}),o._search()):(r!==a.BACKSPACE||s||(s=e(o.tagList[0].lastChild)),s&&s[0]&&o._removeTag(s));},_hideBusy:function _hideBusy(){var e=this;clearTimeout(e._busy),e.input.attr("aria-busy",!1),e._loading.addClass(k),e._request=!1,e._busy=null;},_showBusyHandler:function _showBusyHandler(){this.input.attr("aria-busy",!0),this._loading.removeClass(k);},_showBusy:function _showBusy(){var e=this;e._request=!0,e._busy||(e._busy=setTimeout(c(e._showBusyHandler,e),100));},_placeholder:function _placeholder(e,n){var o=this,r=o.input,a=s();e===t&&(e=!1,r[0]!==a&&(e=!o.listView.selectedDataItems()[0])),o._prev="",r.toggleClass("k-readonly",e).val(e?o.options.placeholder:""),r[0]!==a||n||i.caret(r[0],0,0),o._scale();},_scale:function _scale(){var e,t=this,n=t.wrapper,i=n.width(),o=t._span.text(t.input.val());n.is(":visible")?e=o.width()+25:(o.appendTo(document.documentElement),i=e=o.width()+25,o.appendTo(n)),t.input.width(e>i?i:e);},_option:function _option(e,n,o){var r="<option";return e!==t&&(e+="",-1!==e.indexOf('"')&&(e=e.replace(M,"&quot;")),r+=' value="'+e+'"'),o&&(r+=" selected"),r+=">",n!==t&&(r+=i.htmlEncode(n)),r+="</option>";},_render:function _render(e){var t,n,i,o,r,a,s=this.listView.selectedDataItems(),l=this.listView.value(),c=e.length,d="";for(l.length!==s.length&&(s=this._buildSelectedItems(l)),r={},a={},o=0;c>o;o++){n=e[o],i=this._value(n),t=this._selectedItemIndex(i,s),-1!==t&&s.splice(t,1),a[i]=o,d+=this._option(i,this._text(n),-1!==t);}if(s.length)for(o=0;s.length>o;o++){n=s[o],i=this._value(n),r[i]=c,a[i]=c,c+=1,d+=this._option(i,this._text(n),!0);}this._customOptions=r,this._optionsMap=a,this.element.html(d);},_buildSelectedItems:function _buildSelectedItems(e){var t,n,i=this.options.dataValueField,o=this.options.dataTextField,r=[];for(n=0;e.length>n;n++){t={},t[i]=e[n],t[o]=e[n],r.push(t);}return r;},_selectedItemIndex:function _selectedItemIndex(e,t){for(var n=this._value,i=0;t.length>i;i++){if(e===n(t[i]))return i;}return-1;},_search:function _search(){var e=this;e._typingTimeout=setTimeout(function(){var t=e.input.val();e._prev!==t&&(e._prev=t,e.search(t));},e.options.delay);},_allowSelection:function _allowSelection(){var e=this.options.maxSelectedItems;return null===e||e>this.listView.value().length;},_angularTagItems:function _angularTagItems(t){var n=this;n.angular(t,function(){return{elements:n.tagList[0].children,data:e.map(n.dataItems(),function(e){return{dataItem:e};})};});},_selectValue:function _selectValue(e,t){var n,i,o,r=this,a=r.value(),s=r.dataSource.total(),l=r.tagList,c=r._value;if(r._angularTagItems("cleanup"),"multiple"===r.options.tagMode){for(o=t.length-1;o>-1;o--){n=t[o],l[0].removeChild(l[0].children[n.position]),r._setOption(c(n.dataItem),!1);}for(o=0;e.length>o;o++){i=e[o],l.append(r.tagTemplate(i.dataItem)),r._setOption(c(i.dataItem),!0);}}else{for((!r._maxTotal||s>r._maxTotal)&&(r._maxTotal=s),l.html(""),a.length&&l.append(r.tagTemplate({values:a,dataItems:r.dataItems(),maxTotal:r._maxTotal,currentTotal:s})),o=t.length-1;o>-1;o--){r._setOption(c(t[o].dataItem),!1);}for(o=0;e.length>o;o++){r._setOption(c(e[o].dataItem),!0);}}r._angularTagItems("compile"),r._placeholder();},_select:function _select(e){var t=this;t._state===p&&(t._state=""),t._allowSelection()&&(this.listView.select(e),t._placeholder(),t._state===f&&(t._state=h,t.listView.skipUpdate(!0)));},_input:function _input(){var t=this,n=t.element[0].accessKey,i=t._innerWrapper.children("input.k-input");i[0]||(i=e('<input class="k-input" style="width: 25px" />').appendTo(t._innerWrapper)),t.element.removeAttr("accesskey"),t._focused=t.input=i.attr({accesskey:n,autocomplete:"off",role:"listbox","aria-expanded":!1});},_tagList:function _tagList(){var t=this,n=t._innerWrapper.children("ul");n[0]||(n=e('<ul role="listbox" unselectable="on" class="k-reset"/>').appendTo(t._innerWrapper)),t.tagList=n;},_tagTemplate:function _tagTemplate(){var e,t=this,n=t.options,o=n.tagTemplate,r=n.dataSource,a="multiple"===n.tagMode;t.element[0].length&&!r&&(n.dataTextField=n.dataTextField||"text",n.dataValueField=n.dataValueField||"value"),e=a?i.template("#:"+i.expr(n.dataTextField,"data")+"#",{useWithBlock:!1}):i.template("#:values.length# item(s) selected"),t.tagTextTemplate=o=o?i.template(o):e,t.tagTemplate=function(e){return'<li class="k-button" unselectable="on"><span unselectable="on">'+o(e)+'</span><span unselectable="on" class="k-select"><span unselectable="on" class="k-icon '+(a?"k-i-close":"k-i-arrow-s")+'">'+(a?"delete":"open")+"</span></span></li>";};},_loader:function _loader(){this._loading=e('<span class="k-icon k-loading '+k+'"></span>').insertAfter(this.input);},_textContainer:function _textContainer(){var t=i.getComputedStyles(this.input[0],z);t.position="absolute",t.visibility="hidden",t.top=-3333,t.left=-3333,this._span=e("<span/>").css(t).appendTo(this.wrapper);},_wrapper:function _wrapper(){var t=this,n=t.element,i=n.parent("span.k-multiselect");i[0]||(i=n.wrap('<div class="k-widget k-multiselect k-header" unselectable="on" />').parent(),i[0].style.cssText=n[0].style.cssText,i[0].title=n[0].title,e('<div class="k-multiselect-wrap k-floatwrap" unselectable="on" />').insertBefore(n)),t.wrapper=i.addClass(n[0].className).css("display",""),t._innerWrapper=e(i[0].firstChild);}});o.plugin(B);}(window.kendo.jQuery),window.kendo;},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("kendo.slider.min",["kendo.draganddrop.min"],e);}(function(){return function(e,t){function n(e,t,n){var i=n?" k-slider-horizontal":" k-slider-vertical",o=e.style?e.style:t.attr("style"),r=t.attr("class")?" "+t.attr("class"):"",a="";return"bottomRight"==e.tickPlacement?a=" k-slider-bottomright":"topLeft"==e.tickPlacement&&(a=" k-slider-topleft"),o=o?" style='"+o+"'":"","<div class='k-widget k-slider"+i+r+"'"+o+"><div class='k-slider-wrap"+(e.showButtons?" k-slider-buttons":"")+a+"'></div></div>";}function i(e,t,n){var i="";return i="increase"==t?n?"k-i-arrow-e":"k-i-arrow-n":n?"k-i-arrow-w":"k-i-arrow-s","<a class='k-button k-button-"+t+"'><span class='k-icon "+i+"' title='"+e[t+"ButtonTitle"]+"'>"+e[t+"ButtonTitle"]+"</span></a>";}function o(e,t){var n,i="<ul class='k-reset k-slider-items'>",o=x.floor(d(t/e.smallStep))+1;for(n=0;o>n;n++){i+="<li class='k-tick' role='presentation'>&nbsp;</li>";}return i+="</ul>";}function r(e,t){var n=t.is("input")?1:2,i=2==n?e.leftDragHandleTitle:e.dragHandleTitle;return"<div class='k-slider-track'><div class='k-slider-selection'><!-- --></div><a href='#' class='k-draghandle' title='"+i+"' role='slider' aria-valuemin='"+e.min+"' aria-valuemax='"+e.max+"' aria-valuenow='"+(n>1?e.selectionStart||e.min:e.value||e.min)+"'>Drag</a>"+(n>1?"<a href='#' class='k-draghandle' title='"+e.rightDragHandleTitle+"'role='slider' aria-valuemin='"+e.min+"' aria-valuemax='"+e.max+"' aria-valuenow='"+(e.selectionEnd||e.max)+"'>Drag</a>":"")+"</div>";}function a(e){return function(t){return t+e;};}function s(e){return function(){return e;};}function l(e){return(e+"").replace(".",m.cultures.current.numberFormat["."]);}function c(e){var t=""+e,n=0;return t=t.split("."),t[1]&&(n=t[1].length),n=n>10?10:n;}function d(e){var t,n;return e=parseFloat(e,10),t=c(e),n=x.pow(10,t||0),x.round(e*n)/n;}function u(e,n){var i=w(e.getAttribute(n));return null===i&&(i=t),i;}function h(e){return(typeof e==="undefined"?"undefined":_typeof(e))!==Y;}function f(e){return 1e4*e;}var p,m=window.kendo,g=m.ui.Widget,v=m.ui.Draggable,_=e.extend,b=m.format,w=m.parseFloat,y=e.proxy,k=e.isArray,x=Math,C=m.support,S=C.pointers,T=C.msPointers,D="change",A="slide",E=".slider",R="touchstart"+E+" mousedown"+E,I=S?"pointerdown"+E:T?"MSPointerDown"+E:R,F="touchend"+E+" mouseup"+E,M=S?"pointerup":T?"MSPointerUp"+E:F,P="moveSelection",z="keydown"+E,B="click"+E,L="mouseover"+E,H="focus"+E,N="blur"+E,O=".k-draghandle",V=".k-slider-track",U=".k-tick",W="k-state-selected",j="k-state-focused",q="k-state-default",G="k-state-disabled",$="disabled",Y="undefined",K="tabindex",Q=m.getTouches,X=g.extend({init:function init(e,t){var n,i=this;if(g.fn.init.call(i,e,t),t=i.options,i._distance=d(t.max-t.min),i._isHorizontal="horizontal"==t.orientation,i._isRtl=i._isHorizontal&&m.support.isRtl(e),i._position=i._isHorizontal?"left":"bottom",i._sizeFn=i._isHorizontal?"width":"height",i._outerSize=i._isHorizontal?"outerWidth":"outerHeight",t.tooltip.format=t.tooltip.enabled?t.tooltip.format||"{0}":"{0}",0>=t.smallStep)throw Error("Kendo UI Slider smallStep must be a positive number.");i._createHtml(),i.wrapper=i.element.closest(".k-slider"),i._trackDiv=i.wrapper.find(V),i._setTrackDivWidth(),i._maxSelection=i._trackDiv[i._sizeFn](),i._sliderItemsInit(),i._reset(),i._tabindex(i.wrapper.find(O)),i[t.enabled?"enable":"disable"](),n=m.support.isRtl(i.wrapper)?-1:1,i._keyMap={37:a(-1*n*t.smallStep),40:a(-t.smallStep),39:a(1*n*t.smallStep),38:a(+t.smallStep),35:s(t.max),36:s(t.min),33:a(+t.largeStep),34:a(-t.largeStep)},m.notify(i);},events:[D,A],options:{enabled:!0,min:0,max:10,smallStep:1,largeStep:5,orientation:"horizontal",tickPlacement:"both",tooltip:{enabled:!0,format:"{0}"}},_resize:function _resize(){this._setTrackDivWidth(),this.wrapper.find(".k-slider-items").remove(),this._maxSelection=this._trackDiv[this._sizeFn](),this._sliderItemsInit(),this._refresh(),this.options.enabled&&this.enable(!0);},_sliderItemsInit:function _sliderItemsInit(){var e=this,t=e.options,n=e._maxSelection/((t.max-t.min)/t.smallStep),i=e._calculateItemsWidth(x.floor(e._distance/t.smallStep));"none"!=t.tickPlacement&&n>=2&&(e._trackDiv.before(o(t,e._distance)),e._setItemsWidth(i),e._setItemsTitle()),e._calculateSteps(i),"none"!=t.tickPlacement&&n>=2&&t.largeStep>=t.smallStep&&e._setItemsLargeTick();},getSize:function getSize(){return m.dimensions(this.wrapper);},_setTrackDivWidth:function _setTrackDivWidth(){var e=this,t=2*parseFloat(e._trackDiv.css(e._isRtl?"right":e._position),10);e._trackDiv[e._sizeFn](e.wrapper[e._sizeFn]()-2-t);},_setItemsWidth:function _setItemsWidth(t){var n,i=this,o=i.options,r=0,a=t.length-1,s=i.wrapper.find(U),l=0,c=2,d=s.length,u=0;for(n=0;d-2>n;n++){e(s[n+1])[i._sizeFn](t[n]);}if(i._isHorizontal?(e(s[r]).addClass("k-first")[i._sizeFn](t[a-1]),e(s[a]).addClass("k-last")[i._sizeFn](t[a])):(e(s[a]).addClass("k-first")[i._sizeFn](t[a]),e(s[r]).addClass("k-last")[i._sizeFn](t[a-1])),i._distance%o.smallStep!==0&&!i._isHorizontal){for(n=0;t.length>n;n++){u+=t[n];}l=i._maxSelection-u,l+=parseFloat(i._trackDiv.css(i._position),10)+c,i.wrapper.find(".k-slider-items").css("padding-top",l);}},_setItemsTitle:function _setItemsTitle(){for(var t=this,n=t.options,i=t.wrapper.find(U),o=n.min,r=i.length,a=t._isHorizontal&&!t._isRtl?0:r-1,s=t._isHorizontal&&!t._isRtl?r:-1,l=t._isHorizontal&&!t._isRtl?1:-1;a-s!==0;a+=l){e(i[a]).attr("title",b(n.tooltip.format,d(o))),o+=n.smallStep;}},_setItemsLargeTick:function _setItemsLargeTick(){var t,n,i,o=this,r=o.options,a=o.wrapper.find(U),s=0;if(f(r.largeStep)%f(r.smallStep)===0||o._distance/r.largeStep>=3)for(o._isHorizontal||o._isRtl||(a=e.makeArray(a).reverse()),s=0;a.length>s;s++){t=e(a[s]),n=o._values[s],i=d(f(n-this.options.min)),i%f(r.smallStep)===0&&i%f(r.largeStep)===0&&(t.addClass("k-tick-large").html("<span class='k-label'>"+t.attr("title")+"</span>"),0!==s&&s!==a.length-1&&t.css("line-height",t[o._sizeFn]()+"px"));}},_calculateItemsWidth:function _calculateItemsWidth(e){var t,n,i,o=this,r=o.options,a=parseFloat(o._trackDiv.css(o._sizeFn))+1,s=a/o._distance;for(o._distance/r.smallStep-x.floor(o._distance/r.smallStep)>0&&(a-=o._distance%r.smallStep*s),t=a/e,n=[],i=0;e-1>i;i++){n[i]=t;}return n[e-1]=n[e]=t/2,o._roundWidths(n);},_roundWidths:function _roundWidths(e){var t,n=0,i=e.length;for(t=0;i>t;t++){n+=e[t]-x.floor(e[t]),e[t]=x.floor(e[t]);}return n=x.round(n),this._addAdditionalSize(n,e);},_addAdditionalSize:function _addAdditionalSize(e,t){if(0===e)return t;var n,i=parseFloat(t.length-1)/parseFloat(1==e?e:e-1);for(n=0;e>n;n++){t[parseInt(x.round(i*n),10)]+=1;}return t;},_calculateSteps:function _calculateSteps(e){var t,n=this,i=n.options,o=i.min,r=0,a=x.ceil(n._distance/i.smallStep),s=1;if(a+=n._distance/i.smallStep%1===0?1:0,e.splice(0,0,2*e[a-2]),e.splice(a-1,1,2*e.pop()),n._pixelSteps=[r],n._values=[o],0!==a){for(;a>s;){r+=(e[s-1]+e[s])/2,n._pixelSteps[s]=r,o+=i.smallStep,n._values[s]=d(o),s++;}t=n._distance%i.smallStep===0?a-1:a,n._pixelSteps[t]=n._maxSelection,n._values[t]=i.max,n._isRtl&&(n._pixelSteps.reverse(),n._values.reverse());}},_getValueFromPosition:function _getValueFromPosition(e,t){var n,i=this,o=i.options,r=x.max(o.smallStep*(i._maxSelection/i._distance),0),a=0,s=r/2;if(i._isHorizontal?(a=e-t.startPoint,i._isRtl&&(a=i._maxSelection-a)):a=t.startPoint-e,i._maxSelection-(parseInt(i._maxSelection%r,10)-3)/2<a)return o.max;for(n=0;i._pixelSteps.length>n;n++){if(x.abs(i._pixelSteps[n]-a)-1<=s)return d(i._values[n]);}},_getFormattedValue:function _getFormattedValue(e,t){var n,i,o,r=this,a="",s=r.options.tooltip;return k(e)?(i=e[0],o=e[1]):t&&t.type&&(i=t.selectionStart,o=t.selectionEnd),t&&(n=t.tooltipTemplate),!n&&s.template&&(n=m.template(s.template)),k(e)||t&&t.type?n?a=n({selectionStart:i,selectionEnd:o}):(i=b(s.format,i),o=b(s.format,o),a=i+" - "+o):(t&&(t.val=e),a=n?n({value:e}):b(s.format,e)),a;},_getDraggableArea:function _getDraggableArea(){var e=this,t=m.getOffset(e._trackDiv);return{startPoint:e._isHorizontal?t.left:t.top+e._maxSelection,endPoint:e._isHorizontal?t.left+e._maxSelection:t.top};},_createHtml:function _createHtml(){var e=this,t=e.element,o=e.options,a=t.find("input");2==a.length?(a.eq(0).prop("value",l(o.selectionStart)),a.eq(1).prop("value",l(o.selectionEnd))):t.prop("value",l(o.value)),t.wrap(n(o,t,e._isHorizontal)).hide(),o.showButtons&&t.before(i(o,"increase",e._isHorizontal)).before(i(o,"decrease",e._isHorizontal)),t.before(r(o,t));},_focus:function _focus(t){var n=this,i=t.target,o=n.value(),r=n._drag;r||(i==n.wrapper.find(O).eq(0)[0]?(r=n._firstHandleDrag,n._activeHandle=0):(r=n._lastHandleDrag,n._activeHandle=1),o=o[n._activeHandle]),e(i).addClass(j+" "+W),r&&(n._activeHandleDrag=r,r.selectionStart=n.options.selectionStart,r.selectionEnd=n.options.selectionEnd,r._updateTooltip(o));},_focusWithMouse:function _focusWithMouse(t){t=e(t);var n=this,i=t.is(O)?t.index():0;window.setTimeout(function(){n.wrapper.find(O)[2==i?1:0].focus();},1),n._setTooltipTimeout();},_blur:function _blur(t){var n=this,i=n._activeHandleDrag;e(t.target).removeClass(j+" "+W),i&&(i._removeTooltip(),delete n._activeHandleDrag,delete n._activeHandle);},_setTooltipTimeout:function _setTooltipTimeout(){var e=this;e._tooltipTimeout=window.setTimeout(function(){var t=e._drag||e._activeHandleDrag;t&&t._removeTooltip();},300);},_clearTooltipTimeout:function _clearTooltipTimeout(){var e,t=this;window.clearTimeout(this._tooltipTimeout),e=t._drag||t._activeHandleDrag,e&&e.tooltipDiv&&e.tooltipDiv.stop(!0,!1).css("opacity",1);},_reset:function _reset(){var t=this,n=t.element,i=n.attr("form"),o=i?e("#"+i):n.closest("form");o[0]&&(t._form=o.on("reset",y(t._formResetHandler,t)));},destroy:function destroy(){this._form&&this._form.off("reset",this._formResetHandler),g.fn.destroy.call(this);}}),J=X.extend({init:function init(n,i){var o,r=this;n.type="text",i=_({},{value:u(n,"value"),min:u(n,"min"),max:u(n,"max"),smallStep:u(n,"step")},i),n=e(n),i&&i.enabled===t&&(i.enabled=!n.is("[disabled]")),X.fn.init.call(r,n,i),i=r.options,h(i.value)&&null!==i.value||(i.value=i.min,n.prop("value",l(i.min))),i.value=x.max(x.min(i.value,i.max),i.min),o=r.wrapper.find(O),this._selection=new J.Selection(o,r,i),r._drag=new J.Drag(o,"",r,i);},options:{name:"Slider",showButtons:!0,increaseButtonTitle:"Increase",decreaseButtonTitle:"Decrease",dragHandleTitle:"drag",tooltip:{format:"{0:#,#.##}"},value:null},enable:function enable(n){var i,o,r,a=this,s=a.options;a.disable(),n!==!1&&(a.wrapper.removeClass(G).addClass(q),a.wrapper.find("input").removeAttr($),i=function i(n){var i,o,r,s=Q(n)[0];if(s){if(i=a._isHorizontal?s.location.pageX:s.location.pageY,o=a._getDraggableArea(),r=e(n.target),r.hasClass("k-draghandle"))return r.addClass(j+" "+W),t;a._update(a._getValueFromPosition(i,o)),a._focusWithMouse(n.target),a._drag.dragstart(n),n.preventDefault();}},a.wrapper.find(U+", "+V).on(I,i).end().on(I,function(){e(document.documentElement).one("selectstart",m.preventDefault);}).on(M,function(){a._drag._end();}),a.wrapper.find(O).attr(K,0).on(F,function(){a._setTooltipTimeout();}).on(B,function(e){a._focusWithMouse(e.target),e.preventDefault();}).on(H,y(a._focus,a)).on(N,y(a._blur,a)),o=y(function(e){var t=a._nextValueByIndex(a._valueIndex+1*e);a._setValueInRange(t),a._drag._updateTooltip(t);},a),s.showButtons&&(r=y(function(e,t){this._clearTooltipTimeout(),(1===e.which||C.touch&&0===e.which)&&(o(t),this.timeout=setTimeout(y(function(){this.timer=setInterval(function(){o(t);},60);},this),200));},a),a.wrapper.find(".k-button").on(F,y(function(e){this._clearTimer(),a._focusWithMouse(e.target);},a)).on(L,function(t){e(t.currentTarget).addClass("k-state-hover");}).on("mouseout"+E,y(function(t){e(t.currentTarget).removeClass("k-state-hover"),this._clearTimer();},a)).eq(0).on(R,y(function(e){r(e,1);},a)).click(!1).end().eq(1).on(R,y(function(e){r(e,-1);},a)).click(m.preventDefault)),a.wrapper.find(O).off(z,!1).on(z,y(this._keydown,a)),s.enabled=!0);},disable:function disable(){var t=this;t.wrapper.removeClass(q).addClass(G),e(t.element).prop($,$),t.wrapper.find(".k-button").off(R).on(R,m.preventDefault).off(F).on(F,m.preventDefault).off("mouseleave"+E).on("mouseleave"+E,m.preventDefault).off(L).on(L,m.preventDefault),t.wrapper.find(U+", "+V).off(I).off(M),t.wrapper.find(O).attr(K,-1).off(F).off(z).off(B).off(H).off(N),t.options.enabled=!1;},_update:function _update(e){var t=this,n=t.value()!=e;t.value(e),n&&t.trigger(D,{value:t.options.value});},value:function value(e){var n=this,i=n.options;return e=d(e),isNaN(e)?i.value:(e>=i.min&&i.max>=e&&i.value!=e&&(n.element.prop("value",l(e)),i.value=e,n._refreshAriaAttr(e),n._refresh()),t);},_refresh:function _refresh(){this.trigger(P,{value:this.options.value});},_refreshAriaAttr:function _refreshAriaAttr(e){var t,n=this,i=n._drag;t=i&&i._tooltipDiv?i._tooltipDiv.text():n._getFormattedValue(e,null),this.wrapper.find(O).attr("aria-valuenow",e).attr("aria-valuetext",t);},_clearTimer:function _clearTimer(){clearTimeout(this.timeout),clearInterval(this.timer);},_keydown:function _keydown(e){var t=this;e.keyCode in t._keyMap&&(t._clearTooltipTimeout(),t._setValueInRange(t._keyMap[e.keyCode](t.options.value)),t._drag._updateTooltip(t.value()),e.preventDefault());},_setValueInRange:function _setValueInRange(e){var n=this,i=n.options;return e=d(e),isNaN(e)?(n._update(i.min),t):(e=x.max(x.min(e,i.max),i.min),n._update(e),t);},_nextValueByIndex:function _nextValueByIndex(e){var t=this._values.length;return this._isRtl&&(e=t-1-e),this._values[x.max(0,x.min(e,t-1))];},_formResetHandler:function _formResetHandler(){var e=this,t=e.options.min;setTimeout(function(){var n=e.element[0].value;e.value(""===n||isNaN(n)?t:n);});},destroy:function destroy(){var e=this;X.fn.destroy.call(e),e.wrapper.off(E).find(".k-button").off(E).end().find(O).off(E).end().find(U+", "+V).off(E).end(),e._drag.draggable.destroy(),e._drag._removeTooltip(!0);}});J.Selection=function(e,t,n){function i(i){var o=i-n.min,r=t._valueIndex=x.ceil(d(o/n.smallStep)),a=parseInt(t._pixelSteps[r],10),s=t._trackDiv.find(".k-slider-selection"),l=parseInt(e[t._outerSize]()/2,10),c=t._isRtl?2:0;s[t._sizeFn](t._isRtl?t._maxSelection-a:a),e.css(t._position,a-l-c);}i(n.value),t.bind([D,A,P],function(e){i(parseFloat(e.value,10));});},J.Drag=function(e,t,n,i){var o=this;o.owner=n,o.options=i,o.element=e,o.type=t,o.draggable=new v(e,{distance:0,dragstart:y(o._dragstart,o),drag:y(o.drag,o),dragend:y(o.dragend,o),dragcancel:y(o.dragcancel,o)}),e.click(!1);},J.Drag.prototype={dragstart:function dragstart(e){this.owner._activeDragHandle=this,this.draggable.userEvents.cancel(),this._dragstart(e),this.dragend();},_dragstart:function _dragstart(n){var i=this,o=i.owner,r=i.options;return r.enabled?(this.owner._activeDragHandle=this,o.element.off(L),o.wrapper.find("."+j).removeClass(j+" "+W),i.element.addClass(j+" "+W),e(document.documentElement).css("cursor","pointer"),i.dragableArea=o._getDraggableArea(),i.step=x.max(r.smallStep*(o._maxSelection/o._distance),0),i.type?(i.selectionStart=r.selectionStart,i.selectionEnd=r.selectionEnd,o._setZIndex(i.type)):i.oldVal=i.val=r.value,i._removeTooltip(!0),i._createTooltip(),t):(n.preventDefault(),t);},_createTooltip:function _createTooltip(){var t,n,i=this,o=i.owner,r=i.options.tooltip,a="",s=e(window);r.enabled&&(r.template&&(t=i.tooltipTemplate=m.template(r.template)),e(".k-slider-tooltip").remove(),i.tooltipDiv=e("<div class='k-widget k-tooltip k-slider-tooltip'><!-- --></div>").appendTo(document.body),a=o._getFormattedValue(i.val||o.value(),i),i.type||(n="k-callout-"+(o._isHorizontal?"s":"e"),i.tooltipInnerDiv="<div class='k-callout "+n+"'><!-- --></div>",a+=i.tooltipInnerDiv),i.tooltipDiv.html(a),i._scrollOffset={top:s.scrollTop(),left:s.scrollLeft()},i.moveTooltip());},drag:function drag(e){var t,n=this,i=n.owner,o=e.x.location,r=e.y.location,a=n.dragableArea.startPoint,s=n.dragableArea.endPoint;e.preventDefault(),n.val=i._isHorizontal?i._isRtl?n.constrainValue(o,a,s,s>o):n.constrainValue(o,a,s,o>=s):n.constrainValue(r,s,a,s>=r),n.oldVal!=n.val&&(n.oldVal=n.val,n.type?("firstHandle"==n.type?n.selectionStart=n.selectionEnd>n.val?n.val:n.selectionEnd=n.val:n.val>n.selectionStart?n.selectionEnd=n.val:n.selectionStart=n.selectionEnd=n.val,t={values:[n.selectionStart,n.selectionEnd],value:[n.selectionStart,n.selectionEnd]}):t={value:n.val},i.trigger(A,t)),n._updateTooltip(n.val);},_updateTooltip:function _updateTooltip(e){var t=this,n=t.options,i=n.tooltip,o="";i.enabled&&(t.tooltipDiv||t._createTooltip(),o=t.owner._getFormattedValue(d(e),t),t.type||(o+=t.tooltipInnerDiv),t.tooltipDiv.html(o),t.moveTooltip());},dragcancel:function dragcancel(){return this.owner._refresh(),e(document.documentElement).css("cursor",""),this._end();},dragend:function dragend(){var t=this,n=t.owner;return e(document.documentElement).css("cursor",""),t.type?n._update(t.selectionStart,t.selectionEnd):(n._update(t.val),t.draggable.userEvents._disposeAll()),t.draggable.userEvents.cancel(),t._end();},_end:function _end(){var e=this,t=e.owner;return t._focusWithMouse(e.element),t.element.on(L),!1;},_removeTooltip:function _removeTooltip(t){var n=this,i=n.owner;n.tooltipDiv&&i.options.tooltip.enabled&&i.options.enabled&&(t?(n.tooltipDiv.remove(),n.tooltipDiv=null):n.tooltipDiv.fadeOut("slow",function(){e(this).remove(),n.tooltipDiv=null;}));},moveTooltip:function moveTooltip(){var t,n,i,o,r=this,a=r.owner,s=0,l=0,c=r.element,d=m.getOffset(c),u=8,h=e(window),f=r.tooltipDiv.find(".k-callout"),p=r.tooltipDiv.outerWidth(),g=r.tooltipDiv.outerHeight();r.type?(t=a.wrapper.find(O),d=m.getOffset(t.eq(0)),n=m.getOffset(t.eq(1)),a._isHorizontal?(s=n.top,l=d.left+(n.left-d.left)/2):(s=d.top+(n.top-d.top)/2,l=n.left),o=t.eq(0).outerWidth()+2*u):(s=d.top,l=d.left,o=c.outerWidth()+2*u),a._isHorizontal?(l-=parseInt((p-c[a._outerSize]())/2,10),s-=g+f.height()+u):(s-=parseInt((g-c[a._outerSize]())/2,10),l-=p+f.width()+u),a._isHorizontal?(i=r._flip(s,g,o,h.outerHeight()+r._scrollOffset.top),s+=i,l+=r._fit(l,p,h.outerWidth()+r._scrollOffset.left)):(i=r._flip(l,p,o,h.outerWidth()+r._scrollOffset.left),s+=r._fit(s,g,h.outerHeight()+r._scrollOffset.top),l+=i),i>0&&f&&(f.removeClass(),f.addClass("k-callout k-callout-"+(a._isHorizontal?"n":"w"))),r.tooltipDiv.css({top:s,left:l});},_fit:function _fit(e,t,n){var i=0;return e+t>n&&(i=n-(e+t)),0>e&&(i=-e),i;},_flip:function _flip(e,t,n,i){var o=0;return e+t>i&&(o+=-(n+t)),0>e+o&&(o+=n+t),o;},constrainValue:function constrainValue(e,t,n,i){var o=this,r=0;return r=e>t&&n>e?o.owner._getValueFromPosition(e,o.dragableArea):i?o.options.max:o.options.min;}},m.ui.plugin(J),p=X.extend({init:function init(n,i){var o,r=this,a=e(n).find("input"),s=a.eq(0)[0],c=a.eq(1)[0];s.type="text",c.type="text",i&&i.showButtons&&(window.console&&window.console.warn("showbuttons option is not supported for the range slider, ignoring"),i.showButtons=!1),i=_({},{selectionStart:u(s,"value"),min:u(s,"min"),max:u(s,"max"),smallStep:u(s,"step")},{selectionEnd:u(c,"value"),min:u(c,"min"),max:u(c,"max"),smallStep:u(c,"step")},i),i&&i.enabled===t&&(i.enabled=!a.is("[disabled]")),X.fn.init.call(r,n,i),i=r.options,h(i.selectionStart)&&null!==i.selectionStart||(i.selectionStart=i.min,a.eq(0).prop("value",l(i.min))),h(i.selectionEnd)&&null!==i.selectionEnd||(i.selectionEnd=i.max,a.eq(1).prop("value",l(i.max))),o=r.wrapper.find(O),this._selection=new p.Selection(o,r,i),r._firstHandleDrag=new J.Drag(o.eq(0),"firstHandle",r,i),r._lastHandleDrag=new J.Drag(o.eq(1),"lastHandle",r,i);},options:{name:"RangeSlider",leftDragHandleTitle:"drag",rightDragHandleTitle:"drag",tooltip:{format:"{0:#,#.##}"},selectionStart:null,selectionEnd:null},enable:function enable(n){var i,o=this,r=o.options;o.disable(),n!==!1&&(o.wrapper.removeClass(G).addClass(q),o.wrapper.find("input").removeAttr($),i=function i(n){var i,a,s,l,c,d,u,h=Q(n)[0];if(h){if(i=o._isHorizontal?h.location.pageX:h.location.pageY,a=o._getDraggableArea(),s=o._getValueFromPosition(i,a),l=e(n.target),l.hasClass("k-draghandle"))return o.wrapper.find("."+j).removeClass(j+" "+W),l.addClass(j+" "+W),t;r.selectionStart>s?(c=s,d=r.selectionEnd,u=o._firstHandleDrag):s>o.selectionEnd?(c=r.selectionStart,d=s,u=o._lastHandleDrag):r.selectionEnd-s>=s-r.selectionStart?(c=s,d=r.selectionEnd,u=o._firstHandleDrag):(c=r.selectionStart,d=s,u=o._lastHandleDrag),u.dragstart(n),o._setValueInRange(c,d),o._focusWithMouse(u.element);}},o.wrapper.find(U+", "+V).on(I,i).end().on(I,function(){e(document.documentElement).one("selectstart",m.preventDefault);}).on(M,function(){o._activeDragHandle&&o._activeDragHandle._end();}),o.wrapper.find(O).attr(K,0).on(F,function(){o._setTooltipTimeout();}).on(B,function(e){o._focusWithMouse(e.target),e.preventDefault();}).on(H,y(o._focus,o)).on(N,y(o._blur,o)),o.wrapper.find(O).off(z,m.preventDefault).eq(0).on(z,y(function(e){this._keydown(e,"firstHandle");},o)).end().eq(1).on(z,y(function(e){this._keydown(e,"lastHandle");},o)),o.options.enabled=!0);},disable:function disable(){var e=this;e.wrapper.removeClass(q).addClass(G),e.wrapper.find("input").prop($,$),e.wrapper.find(U+", "+V).off(I).off(M),e.wrapper.find(O).attr(K,-1).off(F).off(z).off(B).off(H).off(N),e.options.enabled=!1;},_keydown:function _keydown(e,t){var n,i,o,r=this,a=r.options.selectionStart,s=r.options.selectionEnd;e.keyCode in r._keyMap&&(r._clearTooltipTimeout(),"firstHandle"==t?(o=r._activeHandleDrag=r._firstHandleDrag,a=r._keyMap[e.keyCode](a),a>s&&(s=a)):(o=r._activeHandleDrag=r._lastHandleDrag,s=r._keyMap[e.keyCode](s),a>s&&(a=s)),r._setValueInRange(d(a),d(s)),n=Math.max(a,r.options.selectionStart),i=Math.min(s,r.options.selectionEnd),o.selectionEnd=Math.max(i,r.options.selectionStart),o.selectionStart=Math.min(n,r.options.selectionEnd),o._updateTooltip(r.value()[r._activeHandle]),e.preventDefault());},_update:function _update(e,t){var n=this,i=n.value(),o=i[0]!=e||i[1]!=t;n.value([e,t]),o&&n.trigger(D,{values:[e,t],value:[e,t]});},value:function value(e){return e&&e.length?this._value(e[0],e[1]):this._value();},_value:function _value(e,n){var i=this,o=i.options,r=o.selectionStart,a=o.selectionEnd;return isNaN(e)&&isNaN(n)?[r,a]:(e=d(e),n=d(n),e>=o.min&&o.max>=e&&n>=o.min&&o.max>=n&&n>=e&&(r==e&&a==n||(i.element.find("input").eq(0).prop("value",l(e)).end().eq(1).prop("value",l(n)),o.selectionStart=e,o.selectionEnd=n,i._refresh(),i._refreshAriaAttr(e,n))),t);},values:function values(e,t){return k(e)?this._value(e[0],e[1]):this._value(e,t);},_refresh:function _refresh(){var e=this,t=e.options;e.trigger(P,{values:[t.selectionStart,t.selectionEnd],value:[t.selectionStart,t.selectionEnd]}),t.selectionStart==t.max&&t.selectionEnd==t.max&&e._setZIndex("firstHandle");},_refreshAriaAttr:function _refreshAriaAttr(e,t){var n,i=this,o=i.wrapper.find(O),r=i._activeHandleDrag;n=i._getFormattedValue([e,t],r),o.eq(0).attr("aria-valuenow",e),o.eq(1).attr("aria-valuenow",t),o.attr("aria-valuetext",n);},_setValueInRange:function _setValueInRange(e,t){var n=this.options;e=x.max(x.min(e,n.max),n.min),t=x.max(x.min(t,n.max),n.min),e==n.max&&t==n.max&&this._setZIndex("firstHandle"),this._update(x.min(e,t),x.max(e,t));},_setZIndex:function _setZIndex(t){this.wrapper.find(O).each(function(n){e(this).css("z-index","firstHandle"==t?1-n:n);});},_formResetHandler:function _formResetHandler(){var e=this,t=e.options;setTimeout(function(){var n=e.element.find("input"),i=n[0].value,o=n[1].value;e.values(""===i||isNaN(i)?t.min:i,""===o||isNaN(o)?t.max:o);});},destroy:function destroy(){var e=this;X.fn.destroy.call(e),e.wrapper.off(E).find(U+", "+V).off(E).end().find(O).off(E),e._firstHandleDrag.draggable.destroy(),e._lastHandleDrag.draggable.destroy();}}),p.Selection=function(e,t,n){function i(i){i=i||[];var r=i[0]-n.min,a=i[1]-n.min,s=x.ceil(d(r/n.smallStep)),l=x.ceil(d(a/n.smallStep)),c=t._pixelSteps[s],u=t._pixelSteps[l],h=parseInt(e.eq(0)[t._outerSize]()/2,10),f=t._isRtl?2:0;e.eq(0).css(t._position,c-h-f).end().eq(1).css(t._position,u-h-f),o(c,u);}function o(e,n){var i,o,r=t._trackDiv.find(".k-slider-selection");i=x.abs(e-n),r[t._sizeFn](i),t._isRtl?(o=x.max(e,n),r.css("right",t._maxSelection-o-1)):(o=x.min(e,n),r.css(t._position,o-1));}i(t.value()),t.bind([D,A,P],function(e){i(e.values);});},m.ui.plugin(p);}(window.kendo.jQuery),window.kendo;},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("kendo.colorpicker.min",["kendo.core.min","kendo.color.min","kendo.popup.min","kendo.slider.min","kendo.userevents.min"],e);}(function(){return function(e,t,n){function i(e,t,n){n=d(n),n&&!n.equals(e.color())&&("change"==t&&(e._value=n),n=1!=n.a?n.toCssRgba():n.toCss(),e.trigger(t,{value:n}));}function o(e,t,n){var i,o;return e=Array.prototype.slice.call(e),i=e.length,o=e.indexOf(t),0>o?0>n?e[i-1]:e[0]:(o+=n,0>o?o+=i:o%=i,e[o]);}function r(e){e.preventDefault();}function a(e,t){return function(){return e.apply(t,arguments);};}var s=window.kendo,l=s.ui,c=l.Widget,d=s.parseColor,u=s.Color,h=s.keys,f="background-color",p="k-state-selected",m="000000,7f7f7f,880015,ed1c24,ff7f27,fff200,22b14c,00a2e8,3f48cc,a349a4,ffffff,c3c3c3,b97a57,ffaec9,ffc90e,efe4b0,b5e61d,99d9ea,7092be,c8bfe7",g="FFFFFF,FFCCFF,FF99FF,FF66FF,FF33FF,FF00FF,CCFFFF,CCCCFF,CC99FF,CC66FF,CC33FF,CC00FF,99FFFF,99CCFF,9999FF,9966FF,9933FF,9900FF,FFFFCC,FFCCCC,FF99CC,FF66CC,FF33CC,FF00CC,CCFFCC,CCCCCC,CC99CC,CC66CC,CC33CC,CC00CC,99FFCC,99CCCC,9999CC,9966CC,9933CC,9900CC,FFFF99,FFCC99,FF9999,FF6699,FF3399,FF0099,CCFF99,CCCC99,CC9999,CC6699,CC3399,CC0099,99FF99,99CC99,999999,996699,993399,990099,FFFF66,FFCC66,FF9966,FF6666,FF3366,FF0066,CCFF66,CCCC66,CC9966,CC6666,CC3366,CC0066,99FF66,99CC66,999966,996666,993366,990066,FFFF33,FFCC33,FF9933,FF6633,FF3333,FF0033,CCFF33,CCCC33,CC9933,CC6633,CC3333,CC0033,99FF33,99CC33,999933,996633,993333,990033,FFFF00,FFCC00,FF9900,FF6600,FF3300,FF0000,CCFF00,CCCC00,CC9900,CC6600,CC3300,CC0000,99FF00,99CC00,999900,996600,993300,990000,66FFFF,66CCFF,6699FF,6666FF,6633FF,6600FF,33FFFF,33CCFF,3399FF,3366FF,3333FF,3300FF,00FFFF,00CCFF,0099FF,0066FF,0033FF,0000FF,66FFCC,66CCCC,6699CC,6666CC,6633CC,6600CC,33FFCC,33CCCC,3399CC,3366CC,3333CC,3300CC,00FFCC,00CCCC,0099CC,0066CC,0033CC,0000CC,66FF99,66CC99,669999,666699,663399,660099,33FF99,33CC99,339999,336699,333399,330099,00FF99,00CC99,009999,006699,003399,000099,66FF66,66CC66,669966,666666,663366,660066,33FF66,33CC66,339966,336666,333366,330066,00FF66,00CC66,009966,006666,003366,000066,66FF33,66CC33,669933,666633,663333,660033,33FF33,33CC33,339933,336633,333333,330033,00FF33,00CC33,009933,006633,003333,000033,66FF00,66CC00,669900,666600,663300,660000,33FF00,33CC00,339900,336600,333300,330000,00FF00,00CC00,009900,006600,003300,000000",v={apply:"Apply",cancel:"Cancel"},_=".kendoColorTools",b="click"+_,w="keydown"+_,y=s.support.browser,k=y.msie&&9>y.version,x=c.extend({init:function init(e,t){var n,i=this;c.fn.init.call(i,e,t),e=i.element,t=i.options,i._value=t.value=d(t.value),i._tabIndex=e.attr("tabIndex")||0,n=i._ariaId=t.ariaId,n&&e.attr("aria-labelledby",n),t._standalone&&(i._triggerSelect=i._triggerChange);},options:{name:"ColorSelector",value:null,_standalone:!0},events:["change","select","cancel"],color:function color(e){return e!==n&&(this._value=d(e),this._updateUI(this._value)),this._value;},value:function value(e){return e=this.color(e),e&&(e=this.options.opacity?e.toCssRgba():e.toCss()),e||null;},enable:function enable(t){0===arguments.length&&(t=!0),e(".k-disabled-overlay",this.wrapper).remove(),t||this.wrapper.append("<div class='k-disabled-overlay'></div>"),this._onEnable(t);},_select:function _select(e,t){var n=this._value;e=this.color(e),t||(this.element.trigger("change"),e.equals(n)?this._standalone||this.trigger("cancel"):this.trigger("change",{value:this.value()}));},_triggerSelect:function _triggerSelect(e){i(this,"select",e);},_triggerChange:function _triggerChange(e){i(this,"change",e);},destroy:function destroy(){this.element&&this.element.off(_),this.wrapper&&this.wrapper.off(_).find("*").off(_),this.wrapper=null,c.fn.destroy.call(this);},_updateUI:e.noop,_selectOnHide:function _selectOnHide(){return null;},_cancel:function _cancel(){this.trigger("cancel");}}),C=x.extend({init:function init(t,n){var i,o,r,l,c=this;if(x.fn.init.call(c,t,n),t=c.wrapper=c.element,n=c.options,i=n.palette,"websafe"==i?(i=g,n.columns=18):"basic"==i&&(i=m),"string"==typeof i&&(i=i.split(",")),e.isArray(i)&&(i=e.map(i,function(e){return d(e);})),c._selectedID=(n.ariaId||s.guid())+"_selected",t.addClass("k-widget k-colorpalette").attr("role","grid").attr("aria-readonly","true").append(e(c._template({colors:i,columns:n.columns,tileSize:n.tileSize,value:c._value,id:n.ariaId}))).on(b,".k-item",function(t){c._select(e(t.currentTarget).css(f));}).attr("tabIndex",c._tabIndex).on(w,a(c._keydown,c)),o=n.tileSize){if(/number|string/.test(typeof o==="undefined"?"undefined":_typeof(o)))r=l=parseFloat(o);else{if("object"!=(typeof o==="undefined"?"undefined":_typeof(o)))throw Error("Unsupported value for the 'tileSize' argument");r=parseFloat(o.width),l=parseFloat(o.height);}t.find(".k-item").css({width:r,height:l});}},focus:function focus(){this.wrapper.focus();},options:{name:"ColorPalette",columns:10,tileSize:null,palette:"basic"},_onEnable:function _onEnable(e){e?this.wrapper.attr("tabIndex",this._tabIndex):this.wrapper.removeAttr("tabIndex");},_keydown:function _keydown(t){var n,i,a=this.wrapper,s=a.find(".k-item"),l=s.filter("."+p).get(0),c=t.keyCode;if(c==h.LEFT?n=o(s,l,-1):c==h.RIGHT?n=o(s,l,1):c==h.DOWN?n=o(s,l,this.options.columns):c==h.UP?n=o(s,l,-this.options.columns):c==h.ENTER?(r(t),l&&this._select(e(l).css(f))):c==h.ESC&&this._cancel(),n){r(t),this._current(n);try{i=d(n.css(f)),this._triggerSelect(i);}catch(u){}}},_current:function _current(t){this.wrapper.find("."+p).removeClass(p).attr("aria-selected",!1).removeAttr("id"),e(t).addClass(p).attr("aria-selected",!0).attr("id",this._selectedID),this.element.removeAttr("aria-activedescendant").attr("aria-activedescendant",this._selectedID);},_updateUI:function _updateUI(t){var i=null;this.wrapper.find(".k-item").each(function(){var o=d(e(this).css(f));return o&&o.equals(t)?(i=this,!1):n;}),this._current(i);},_template:s.template('<table class="k-palette k-reset" role="presentation"><tr role="row"># for (var i = 0; i < colors.length; ++i) { ## var selected = colors[i].equals(value); ## if (i && i % columns == 0) { # </tr><tr role="row"> # } #<td role="gridcell" unselectable="on" style="background-color:#= colors[i].toCss() #"#= selected ? " aria-selected=true" : "" # #=(id && i === 0) ? "id=\\""+id+"\\" " : "" # class="k-item#= selected ? " '+p+'" : "" #" aria-label="#= colors[i].toCss() #"></td># } #</tr></table>')}),S=x.extend({init:function init(t,n){var i=this;x.fn.init.call(i,t,n),n=i.options,t=i.element,i.wrapper=t.addClass("k-widget k-flatcolorpicker").append(i._template(n)),i._hueElements=e(".k-hsv-rectangle, .k-transparency-slider .k-slider-track",t),i._selectedColor=e(".k-selected-color-display",t),i._colorAsText=e("input.k-color-value",t),i._sliders(),i._hsvArea(),i._updateUI(i._value||d("#f00")),t.find("input.k-color-value").on(w,function(t){var n,o,r=this;if(t.keyCode==h.ENTER)try{n=d(r.value),o=i.color(),i._select(n,n.equals(o));}catch(a){e(r).addClass("k-state-error");}else i.options.autoupdate&&setTimeout(function(){var e=d(r.value,!0);e&&i._updateUI(e,!0);},10);}).end().on(b,".k-controls button.apply",function(){i._select(i._getHSV());}).on(b,".k-controls button.cancel",function(){i._updateUI(i.color()),i._cancel();}),k&&i._applyIEFilter();},destroy:function destroy(){this._hueSlider.destroy(),this._opacitySlider&&this._opacitySlider.destroy(),this._hueSlider=this._opacitySlider=this._hsvRect=this._hsvHandle=this._hueElements=this._selectedColor=this._colorAsText=null,x.fn.destroy.call(this);},options:{name:"FlatColorPicker",opacity:!1,buttons:!1,input:!0,preview:!0,autoupdate:!0,messages:v},_applyIEFilter:function _applyIEFilter(){var e=this.element.find(".k-hue-slider .k-slider-track")[0],t=e.currentStyle.backgroundImage;t=t.replace(/^url\([\'\"]?|[\'\"]?\)$/g,""),e.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+t+"', sizingMethod='scale')";},_sliders:function _sliders(){function e(e){n._updateUI(n._getHSV(e.value,null,null,null));}function t(e){n._updateUI(n._getHSV(null,null,null,e.value/100));}var n=this,i=n.element;n._hueSlider=i.find(".k-hue-slider").kendoSlider({min:0,max:359,tickPlacement:"none",showButtons:!1,slide:e,change:e}).data("kendoSlider"),n._opacitySlider=i.find(".k-transparency-slider").kendoSlider({min:0,max:100,tickPlacement:"none",showButtons:!1,slide:t,change:t}).data("kendoSlider");},_hsvArea:function _hsvArea(){function e(e,n){var i=this.offset,o=e-i.left,r=n-i.top,a=this.width,s=this.height;o=0>o?0:o>a?a:o,r=0>r?0:r>s?s:r,t._svChange(o/a,1-r/s);}var t=this,n=t.element,i=n.find(".k-hsv-rectangle"),o=i.find(".k-draghandle").attr("tabIndex",0).on(w,a(t._keydown,t));t._hsvEvents=new s.UserEvents(i,{global:!0,press:function press(t){this.offset=s.getOffset(i),this.width=i.width(),this.height=i.height(),o.focus(),e.call(this,t.x.location,t.y.location);},start:function start(){i.addClass("k-dragging"),o.focus();},move:function move(t){t.preventDefault(),e.call(this,t.x.location,t.y.location);},end:function end(){i.removeClass("k-dragging");}}),t._hsvRect=i,t._hsvHandle=o;},_onEnable:function _onEnable(e){this._hueSlider.enable(e),this._opacitySlider&&this._opacitySlider.enable(e),this.wrapper.find("input").attr("disabled",!e);var t=this._hsvRect.find(".k-draghandle");e?t.attr("tabIndex",this._tabIndex):t.removeAttr("tabIndex");},_keydown:function _keydown(e){function t(t,n){var o=i._getHSV();o[t]+=n*(e.shiftKey?.01:.05),0>o[t]&&(o[t]=0),o[t]>1&&(o[t]=1),i._updateUI(o),r(e);}function n(t){var n=i._getHSV();n.h+=t*(e.shiftKey?1:5),0>n.h&&(n.h=0),n.h>359&&(n.h=359),i._updateUI(n),r(e);}var i=this;switch(e.keyCode){case h.LEFT:e.ctrlKey?n(-1):t("s",-1);break;case h.RIGHT:e.ctrlKey?n(1):t("s",1);break;case h.UP:t(e.ctrlKey&&i._opacitySlider?"a":"v",1);break;case h.DOWN:t(e.ctrlKey&&i._opacitySlider?"a":"v",-1);break;case h.ENTER:i._select(i._getHSV());break;case h.F2:i.wrapper.find("input.k-color-value").focus().select();break;case h.ESC:i._cancel();}},focus:function focus(){this._hsvHandle.focus();},_getHSV:function _getHSV(e,t,n,i){var o=this._hsvRect,r=o.width(),a=o.height(),s=this._hsvHandle.position();return null==e&&(e=this._hueSlider.value()),null==t&&(t=s.left/r),null==n&&(n=1-s.top/a),null==i&&(i=this._opacitySlider?this._opacitySlider.value()/100:1),u.fromHSV(e,t,n,i);},_svChange:function _svChange(e,t){var n=this._getHSV(null,e,t,null);this._updateUI(n);},_updateUI:function _updateUI(e,t){var n=this,i=n._hsvRect;e&&(this._colorAsText.removeClass("k-state-error"),n._selectedColor.css(f,e.toDisplay()),t||n._colorAsText.val(n._opacitySlider?e.toCssRgba():e.toCss()),n._triggerSelect(e),e=e.toHSV(),n._hsvHandle.css({left:e.s*i.width()+"px",top:(1-e.v)*i.height()+"px"}),n._hueElements.css(f,u.fromHSV(e.h,1,1,1).toCss()),n._hueSlider.value(e.h),n._opacitySlider&&n._opacitySlider.value(100*e.a));},_selectOnHide:function _selectOnHide(){return this.options.buttons?null:this._getHSV();},_template:s.template('# if (preview) { #<div class="k-selected-color"><div class="k-selected-color-display"><input class="k-color-value" #= !data.input ? \'style="visibility: hidden;"\' : "" #></div></div># } #<div class="k-hsv-rectangle"><div class="k-hsv-gradient"></div><div class="k-draghandle"></div></div><input class="k-hue-slider" /># if (opacity) { #<input class="k-transparency-slider" /># } ## if (buttons) { #<div unselectable="on" class="k-controls"><button class="k-button k-primary apply">#: messages.apply #</button> <button class="k-button cancel">#: messages.cancel #</button></div># } #')}),T=c.extend({init:function init(t,n){var i,o,r,a,s,l=this;c.fn.init.call(l,t,n),n=l.options,t=l.element,i=t.attr("value")||t.val(),i=i?d(i,!0):d(n.value,!0),l._value=n.value=i,o=l.wrapper=e(l._template(n)),t.hide().after(o),t.is("input")&&(t.appendTo(o),r=t.closest("label"),a=t.attr("id"),a&&(r=r.add('label[for="'+a+'"]')),r.click(function(e){l.open(),e.preventDefault();})),l._tabIndex=t.attr("tabIndex")||0,l.enable(!t.attr("disabled")),s=t.attr("accesskey"),s&&(t.attr("accesskey",null),o.attr("accesskey",s)),l.bind("activate",function(e){e.isDefaultPrevented()||l.toggle();}),l._updateUI(i);},destroy:function destroy(){this.wrapper.off(_).find("*").off(_),this._popup&&(this._selector.destroy(),this._popup.destroy()),this._selector=this._popup=this.wrapper=null,c.fn.destroy.call(this);},enable:function enable(e){var t=this,n=t.wrapper,i=n.children(".k-picker-wrap"),o=i.find(".k-select");0===arguments.length&&(e=!0),t.element.attr("disabled",!e),n.attr("aria-disabled",!e),o.off(_).on("mousedown"+_,r),n.addClass("k-state-disabled").removeAttr("tabIndex").add("*",n).off(_),e?n.removeClass("k-state-disabled").attr("tabIndex",t._tabIndex).on("mouseenter"+_,function(){i.addClass("k-state-hover");}).on("mouseleave"+_,function(){i.removeClass("k-state-hover");}).on("focus"+_,function(){i.addClass("k-state-focused");}).on("blur"+_,function(){i.removeClass("k-state-focused");}).on(w,a(t._keydown,t)).on(b,".k-select",a(t.toggle,t)).on(b,t.options.toolIcon?".k-tool-icon":".k-selected-color",function(){t.trigger("activate");}):t.close();},_template:s.template('<span role="textbox" aria-haspopup="true" class="k-widget k-colorpicker k-header"><span class="k-picker-wrap k-state-default"># if (toolIcon) { #<span class="k-tool-icon #= toolIcon #"><span class="k-selected-color"></span></span># } else { #<span class="k-selected-color"></span># } #<span class="k-select" unselectable="on"><span class="k-icon k-i-arrow-s" unselectable="on"></span></span></span></span>'),options:{name:"ColorPicker",palette:null,columns:10,toolIcon:null,value:null,messages:v,opacity:!1,buttons:!0,preview:!0,ARIATemplate:'Current selected color is #=data || ""#'},events:["activate","change","select","open","close"],open:function open(){this.element.prop("disabled")||this._getPopup().open();},close:function close(){this._getPopup().close();},toggle:function toggle(){this.element.prop("disabled")||this._getPopup().toggle();},color:x.fn.color,value:x.fn.value,_select:x.fn._select,_triggerSelect:x.fn._triggerSelect,_isInputTypeColor:function _isInputTypeColor(){var e=this.element[0];return /^input$/i.test(e.tagName)&&/^color$/i.test(e.type);},_updateUI:function _updateUI(e){var t="";e&&(t=this._isInputTypeColor()||1==e.a?e.toCss():e.toCssRgba(),this.element.val(t)),this._ariaTemplate||(this._ariaTemplate=s.template(this.options.ARIATemplate)),this.wrapper.attr("aria-label",this._ariaTemplate(t)),this._triggerSelect(e),this.wrapper.find(".k-selected-color").css(f,e?e.toDisplay():"transparent");},_keydown:function _keydown(e){var t=e.keyCode;this._getPopup().visible()?(t==h.ESC?this._selector._cancel():this._selector._keydown(e),r(e)):t!=h.ENTER&&t!=h.DOWN||(this.open(),r(e));},_getPopup:function _getPopup(){var t,i,o,r,a=this,l=a._popup;return l||(t=a.options,i=t.palette?C:S,t._standalone=!1,delete t.select,delete t.change,delete t.cancel,o=s.guid(),r=a._selector=new i(e('<div id="'+o+'"/>').appendTo(document.body),t),a.wrapper.attr("aria-owns",o),a._popup=l=r.wrapper.kendoPopup({anchor:a.wrapper,adjustSize:{width:5,height:0}}).data("kendoPopup"),r.bind({select:function select(e){a._updateUI(d(e.value));},change:function change(){a._select(r.color()),a.close();},cancel:function cancel(){a.close();}}),l.bind({close:function close(e){if(a.trigger("close"))return e.preventDefault(),n;a.wrapper.children(".k-picker-wrap").removeClass("k-state-focused");var t=r._selectOnHide();t?a._select(t):(setTimeout(function(){a.wrapper&&a.wrapper.focus();}),a._updateUI(a.color()));},open:function open(e){a.trigger("open")?e.preventDefault():a.wrapper.children(".k-picker-wrap").addClass("k-state-focused");},activate:function activate(){r._select(a.color(),!0),r.focus(),a.wrapper.children(".k-picker-wrap").addClass("k-state-focused");}})),l;}});l.plugin(C),l.plugin(S),l.plugin(T);}(jQuery,parseInt),window.kendo;},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("kendo.numerictextbox.min",["kendo.core.min","kendo.userevents.min"],e);}(function(){return function(e,t){function n(e,t){return'<span unselectable="on" class="k-link"><span unselectable="on" class="k-icon k-i-arrow-'+e+'" title="'+t+'">'+t+"</span></span>";}var i=window.kendo,o=i.caret,r=i.keys,a=i.ui,s=a.Widget,l=i._activeElement,c=i._extractFormat,d=i.parseFloat,u=i.support.placeholder,h=i.getCulture,f=i._round,p="change",m="disabled",g="readonly",v="k-input",_="spin",b=".kendoNumericTextBox",w="touchend",y="mouseleave"+b,k="mouseenter"+b+" "+y,x="k-state-default",C="k-state-focused",S="k-state-hover",T="focus",D=".",A="k-state-selected",E="k-state-disabled",R="aria-disabled",I="aria-readonly",F=/^(-)?(\d*)$/,M=null,P=e.proxy,z=e.extend,B=s.extend({init:function init(n,o){var r,a,l,d,u,h=this,f=o&&o.step!==t;s.fn.init.call(h,n,o),o=h.options,n=h.element.on("focusout"+b,P(h._focusout,h)).attr("role","spinbutton"),o.placeholder=o.placeholder||n.attr("placeholder"),h._initialOptions=z({},o),h._reset(),h._wrapper(),h._arrows(),h._input(),i.support.mobileOS?h._text.on(w+b+" "+T+b,function(){h._toggleText(!1),n.focus();}):h._text.on(T+b,P(h._click,h)),r=h.min(n.attr("min")),a=h.max(n.attr("max")),l=h._parse(n.attr("step")),o.min===M&&r!==M&&(o.min=r),o.max===M&&a!==M&&(o.max=a),f||l===M||(o.step=l),n.attr("aria-valuemin",o.min).attr("aria-valuemax",o.max),o.format=c(o.format),d=o.value,h.value(d!==M?d:n.val()),u=n.is("[disabled]")||e(h.element).parents("fieldset").is(":disabled"),u?h.enable(!1):h.readonly(n.is("[readonly]")),i.notify(h);},options:{name:"NumericTextBox",decimals:M,min:M,max:M,value:M,step:1,culture:"",format:"n",spinners:!0,placeholder:"",upArrowText:"Increase value",downArrowText:"Decrease value"},events:[p,_],_editable:function _editable(e){var t=this,n=t.element,i=e.disable,o=e.readonly,r=t._text.add(n),a=t._inputWrapper.off(k);t._toggleText(!0),t._upArrowEventHandler.unbind("press"),t._downArrowEventHandler.unbind("press"),n.off("keydown"+b).off("keypress"+b).off("paste"+b),o||i?(a.addClass(i?E:x).removeClass(i?x:E),r.attr(m,i).attr(g,o).attr(R,i).attr(I,o)):(a.addClass(x).removeClass(E).on(k,t._toggleHover),r.removeAttr(m).removeAttr(g).attr(R,!1).attr(I,!1),t._upArrowEventHandler.bind("press",function(e){e.preventDefault(),t._spin(1),t._upArrow.addClass(A);}),t._downArrowEventHandler.bind("press",function(e){e.preventDefault(),t._spin(-1),t._downArrow.addClass(A);}),t.element.on("keydown"+b,P(t._keydown,t)).on("keypress"+b,P(t._keypress,t)).on("paste"+b,P(t._paste,t)));},readonly:function readonly(e){this._editable({readonly:e===t?!0:e,disable:!1});},enable:function enable(e){this._editable({readonly:!1,disable:!(e=e===t?!0:e)});},destroy:function destroy(){var e=this;e.element.add(e._text).add(e._upArrow).add(e._downArrow).add(e._inputWrapper).off(b),e._upArrowEventHandler.destroy(),e._downArrowEventHandler.destroy(),e._form&&e._form.off("reset",e._resetHandler),s.fn.destroy.call(e);},min:function min(e){return this._option("min",e);},max:function max(e){return this._option("max",e);},step:function step(e){return this._option("step",e);},value:function value(e){var n,i=this;return e===t?i._value:(e=i._parse(e),n=i._adjust(e),e===n&&(i._update(e),i._old=i._value),t);},focus:function focus(){this._focusin();},_adjust:function _adjust(e){var t=this,n=t.options,i=n.min,o=n.max;return e===M?e:(i!==M&&i>e?e=i:o!==M&&e>o&&(e=o),e);},_arrows:function _arrows(){var t,o=this,r=function r(){clearTimeout(o._spinning),t.removeClass(A);},a=o.options,s=a.spinners,l=o.element;t=l.siblings(".k-icon"),t[0]||(t=e(n("n",a.upArrowText)+n("s",a.downArrowText)).insertAfter(l),t.wrapAll('<span class="k-select"/>')),s||(t.parent().toggle(s),o._inputWrapper.addClass("k-expand-padding")),o._upArrow=t.eq(0),o._upArrowEventHandler=new i.UserEvents(o._upArrow,{release:r}),o._downArrow=t.eq(1),o._downArrowEventHandler=new i.UserEvents(o._downArrow,{release:r});},_blur:function _blur(){var e=this;e._toggleText(!0),e._change(e.element.val());},_click:function _click(e){var t=this;clearTimeout(t._focusing),t._focusing=setTimeout(function(){var n,i,r,a=e.target,s=o(a)[0],l=a.value.substring(0,s),c=t._format(t.options.format),d=c[","],u=0;d&&(i=RegExp("\\"+d,"g"),r=RegExp("([\\d\\"+d+"]+)(\\"+c[D]+")?(\\d+)?")),r&&(n=r.exec(l)),n&&(u=n[0].replace(i,"").length,-1!=l.indexOf("(")&&0>t._value&&u++),t._focusin(),o(t.element[0],u);});},_change:function _change(e){var t=this;t._update(e),e=t._value,t._old!=e&&(t._old=e,t._typing||t.element.trigger(p),t.trigger(p)),t._typing=!1;},_culture:function _culture(e){return e||h(this.options.culture);},_focusin:function _focusin(){var e=this;e._inputWrapper.addClass(C),e._toggleText(!1),e.element[0].focus();},_focusout:function _focusout(){var e=this;clearTimeout(e._focusing),e._inputWrapper.removeClass(C).removeClass(S),e._blur();},_format:function _format(e,t){var n=this._culture(t).numberFormat;return e=e.toLowerCase(),e.indexOf("c")>-1?n=n.currency:e.indexOf("p")>-1&&(n=n.percent),n;},_input:function _input(){var t,n=this,i="k-formatted-value",o=n.element.addClass(v).show()[0],r=o.accessKey,a=n.wrapper;t=a.find(D+i),t[0]||(t=e('<input type="text"/>').insertBefore(o).addClass(i));try{o.setAttribute("type","text");}catch(s){o.type="text";}t[0].tabIndex=o.tabIndex,t[0].style.cssText=o.style.cssText,t[0].title=o.title,t.prop("placeholder",n.options.placeholder),r&&(t.attr("accesskey",r),o.accessKey=""),n._text=t.addClass(o.className);},_keydown:function _keydown(e){var t=this,n=e.keyCode;t._key=n,n==r.DOWN?t._step(-1):n==r.UP?t._step(1):n==r.ENTER?t._change(t.element.val()):t._typing=!0;},_keypress:function _keypress(e){var t,n,i,a,s,l,c,d,u,h,f;0===e.which||e.metaKey||e.ctrlKey||e.keyCode===r.BACKSPACE||e.keyCode===r.ENTER||(t=this,n=t.options.min,i=t.element,a=o(i),s=a[0],l=a[1],c=String.fromCharCode(e.which),d=t._format(t.options.format),u=t._key===r.NUMPAD_DOT,h=i.val(),u&&(c=d[D]),h=h.substring(0,s)+c+h.substring(l),f=t._numericRegex(d).test(h),f&&u?(i.val(h),o(i,s+c.length),e.preventDefault()):(null!==n&&n>=0&&"-"===h.charAt(0)||!f)&&e.preventDefault(),t._key=0);},_numericRegex:function _numericRegex(e){var t=this,n=e[D],i=t.options.decimals;return n===D&&(n="\\"+n),i===M&&(i=e.decimals),0===i?F:(t._separator!==n&&(t._separator=n,t._floatRegExp=RegExp("^(-)?(((\\d+("+n+"\\d*)?)|("+n+"\\d*)))?$")),t._floatRegExp);},_paste:function _paste(e){var t=this,n=e.target,i=n.value;setTimeout(function(){t._parse(n.value)===M&&t._update(i);});},_option:function _option(e,n){var i=this,o=i.options;return n===t?o[e]:(n=i._parse(n),(n||"step"!==e)&&(o[e]=n,i.element.attr("aria-value"+e,n).attr(e,n)),t);},_spin:function _spin(e,t){var n=this;t=t||500,clearTimeout(n._spinning),n._spinning=setTimeout(function(){n._spin(e,50);},t),n._step(e);},_step:function _step(e){var t=this,n=t.element,i=t._parse(n.val())||0;l()!=n[0]&&t._focusin(),i+=t.options.step*e,t._update(t._adjust(i)),t._typing=!1,t.trigger(_);},_toggleHover:function _toggleHover(t){e(t.currentTarget).toggleClass(S,"mouseenter"===t.type);},_toggleText:function _toggleText(e){var t=this;t._text.toggle(e),t.element.toggle(!e);},_parse:function _parse(e,t){return d(e,this._culture(t),this.options.format);},_update:function _update(e){var t,n=this,o=n.options,r=o.format,a=o.decimals,s=n._culture(),l=n._format(r,s);a===M&&(a=l.decimals),e=n._parse(e,s),t=e!==M,t&&(e=parseFloat(f(e,a))),n._value=e=n._adjust(e),n._placeholder(i.toString(e,r,s)),t?(e=""+e,-1!==e.indexOf("e")&&(e=f(+e,a)),e=e.replace(D,l[D])):e="",n.element.val(e).attr("aria-valuenow",e);},_placeholder:function _placeholder(e){this._text.val(e),u||e||this._text.val(this.options.placeholder);},_wrapper:function _wrapper(){var t,n=this,i=n.element,o=i[0];t=i.parents(".k-numerictextbox"),t.is("span.k-numerictextbox")||(t=i.hide().wrap('<span class="k-numeric-wrap k-state-default" />').parent(),t=t.wrap("<span/>").parent()),t[0].style.cssText=o.style.cssText,o.style.width="",n.wrapper=t.addClass("k-widget k-numerictextbox").addClass(o.className).css("display",""),n._inputWrapper=e(t[0].firstChild);},_reset:function _reset(){var t=this,n=t.element,i=n.attr("form"),o=i?e("#"+i):n.closest("form");o[0]&&(t._resetHandler=function(){setTimeout(function(){t.value(n[0].value),t.max(t._initialOptions.max),t.min(t._initialOptions.min);});},t._form=o.on("reset",t._resetHandler));}});a.plugin(B);}(window.kendo.jQuery),window.kendo;},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("kendo.filtermenu.min",["kendo.datepicker.min","kendo.numerictextbox.min","kendo.dropdownlist.min","kendo.binder.min"],e);}(function(){return function(e,t){function n(t,i){t.filters&&(t.filters=e.grep(t.filters,function(e){return n(e,i),e.filters?e.filters.length:e.field!=i;}));}function i(e){var t,n,i,o,r,a;if(e&&e.length)for(a=[],t=0,n=e.length;n>t;t++){i=e[t],r=""!==i.text?i.text||i.value||i:i.text,o=null==i.value?i.text||i:i.value,a[t]={text:r,value:o};}return a;}function o(t,n){return e.grep(t,function(t){return t.filters?(t.filters=e.grep(t.filters,function(e){return e.field!=n;}),t.filters.length):t.field!=n;});}function r(t,n){t.filters&&(t.filters=e.grep(t.filters,function(e){return r(e,n),e.filters?e.filters.length:e.field==n&&"eq"==e.operator;}));}function a(n){return"and"==n.logic&&n.filters.length>1?[]:n.filters?e.map(n.filters,function(e){return a(e);}):null!==n.value&&n.value!==t?[n.value]:[];}function s(e,n){for(var i,o,r=c.getter(n,!0),a=[],s=0,l={};e.length>s;){i=e[s++],o=r(i),o===t||null===o||l.hasOwnProperty(o)||(a.push(i),l[o]=!0);}return a;}function l(e,t){return function(n){var i=e(n);return s(i,t);};}var c=window.kendo,d=c.ui,u=e.proxy,h="kendoPopup",f="init",p="refresh",m="change",g=".kendoFilterMenu",v="Is equal to",_="Is not equal to",b={number:"numerictextbox",date:"datepicker"},w={string:"text",number:"number",date:"date"},y=c.isFunction,k=d.Widget,x='<div><div class="k-filter-help-text">#=messages.info#</div><label><input type="radio" data-#=ns#bind="checked: filters[0].value" value="true" name="filters[0].value"/>#=messages.isTrue#</label><label><input type="radio" data-#=ns#bind="checked: filters[0].value" value="false" name="filters[0].value"/>#=messages.isFalse#</label><div><button type="submit" class="k-button k-primary">#=messages.filter#</button><button type="reset" class="k-button">#=messages.clear#</button></div></div>',C='<div><div class="k-filter-help-text">#=messages.info#</div><select data-#=ns#bind="value: filters[0].operator" data-#=ns#role="dropdownlist">#for(var op in operators){#<option value="#=op#">#=operators[op]#</option>#}#</select>#if(values){#<select data-#=ns#bind="value:filters[0].value" data-#=ns#text-field="text" data-#=ns#value-field="value" data-#=ns#source=\'#=kendo.stringify(values).replace(/\'/g,"&\\#39;")#\' data-#=ns#role="dropdownlist" data-#=ns#option-label="#=messages.selectValue#" data-#=ns#value-primitive="true"></select>#}else{#<input data-#=ns#bind="value:filters[0].value" class="k-textbox" type="text" #=role ? "data-" + ns + "role=\'" + role + "\'" : ""# />#}##if(extra){#<select class="k-filter-and" data-#=ns#bind="value: logic" data-#=ns#role="dropdownlist"><option value="and">#=messages.and#</option><option value="or">#=messages.or#</option></select><select data-#=ns#bind="value: filters[1].operator" data-#=ns#role="dropdownlist">#for(var op in operators){#<option value="#=op#">#=operators[op]#</option>#}#</select>#if(values){#<select data-#=ns#bind="value:filters[1].value" data-#=ns#text-field="text" data-#=ns#value-field="value" data-#=ns#source=\'#=kendo.stringify(values).replace(/\'/g,"&\\#39;")#\' data-#=ns#role="dropdownlist" data-#=ns#option-label="#=messages.selectValue#" data-#=ns#value-primitive="true"></select>#}else{#<input data-#=ns#bind="value: filters[1].value" class="k-textbox" type="text" #=role ? "data-" + ns + "role=\'" + role + "\'" : ""#/>#}##}#<div><button type="submit" class="k-button k-primary">#=messages.filter#</button><button type="reset" class="k-button">#=messages.clear#</button></div></div>',S='<div data-#=ns#role="view" data-#=ns#init-widgets="false" data-#=ns#use-native-scrolling="true" class="k-grid-filter-menu"><div data-#=ns#role="header" class="k-header"><button class="k-button k-cancel">#=messages.cancel#</button>#=title#<button type="submit" class="k-button k-submit">#=messages.filter#</button></div><form class="k-filter-menu k-mobile-list"><ul class="k-filter-help-text"><li><span class="k-link">#=messages.info#</span><ul><li class="k-item"><label class="k-label">#=messages.operator#<select data-#=ns#bind="value: filters[0].operator">#for(var op in operators){#<option value="#=op#">#=operators[op]#</option>#}#</select></label></li><li class="k-item"><label class="k-label">#=messages.value##if(values){#<select data-#=ns#bind="value:filters[0].value"><option value="">#=messages.selectValue#</option>#for(var val in values){#<option value="#=values[val].value#">#=values[val].text#</option>#}#</select>#}else{#<input data-#=ns#bind="value:filters[0].value" class="k-textbox" type="#=inputType#" #=useRole ? "data-" + ns + "role=\'" + role + "\'" : ""# />#}#</label></li>#if(extra){#</ul><ul class="k-filter-help-text"><li><span class="k-link"></span><li class="k-item"><label class="k-label"><input type="radio" name="logic" class="k-check" data-#=ns#bind="checked: logic" value="and" />#=messages.and#</label></li><li class="k-item"><label class="k-label"><input type="radio" name="logic" class="k-check" data-#=ns#bind="checked: logic" value="or" />#=messages.or#</label></li></ul><ul class="k-filter-help-text"><li><span class="k-link"></span><li class="k-item"><label class="k-label">#=messages.operator#<select data-#=ns#bind="value: filters[1].operator">#for(var op in operators){#<option value="#=op#">#=operators[op]#</option>#}#</select></label></li><li class="k-item"><label class="k-label">#=messages.value##if(values){#<select data-#=ns#bind="value:filters[1].value"><option value="">#=messages.selectValue#</option>#for(var val in values){#<option value="#=values[val].value#">#=values[val].text#</option>#}#</select>#}else{#<input data-#=ns#bind="value:filters[1].value" class="k-textbox" type="#=inputType#" #=useRole ? "data-" + ns + "role=\'" + role + "\'" : ""# />#}#</label></li>#}#</ul></li><li class="k-button-container"><button type="reset" class="k-button">#=messages.clear#</button></li></ul></div></form></div>',T='<div data-#=ns#role="view" data-#=ns#init-widgets="false" data-#=ns#use-native-scrolling="true" class="k-grid-filter-menu"><div data-#=ns#role="header" class="k-header"><button class="k-button k-cancel">#=messages.cancel#</button>#=title#<button type="submit" class="k-button k-submit">#=messages.filter#</button></div><form class="k-filter-menu k-mobile-list"><ul class="k-filter-help-text"><li><span class="k-link">#=messages.info#</span><ul><li class="k-item"><label class="k-label"><input class="k-check" type="radio" data-#=ns#bind="checked: filters[0].value" value="true" name="filters[0].value"/>#=messages.isTrue#</label></li><li class="k-item"><label class="k-label"><input class="k-check" type="radio" data-#=ns#bind="checked: filters[0].value" value="false" name="filters[0].value"/>#=messages.isFalse#</label></li></ul></li><li class="k-button-container"><button type="reset" class="k-button">#=messages.clear#</button></li></ul></form></div>',D=k.extend({init:function init(t,n){var i,o,r,a,s=this,l="string";k.fn.init.call(s,t,n),i=s.operators=n.operators||{},t=s.element,n=s.options,n.appendToElement||(r=t.addClass("k-with-icon k-filterable").find(".k-grid-filter"),r[0]||(r=t.prepend('<a class="k-grid-filter" href="#"><span class="k-icon k-filter">'+n.messages.filter+"</span></a>").find(".k-grid-filter")),r.attr("tabindex",-1).on("click"+g,u(s._click,s))),s.link=r||e(),s.dataSource=E.create(n.dataSource),s.field=n.field||t.attr(c.attr("field")),s.model=s.dataSource.reader.model,s._parse=function(e){return null!=e?e+"":e;},s.model&&s.model.fields&&(a=s.model.fields[s.field],a&&(l=a.type||"string",a.parse&&(s._parse=u(a.parse,a)))),n.values&&(l="enums"),s.type=l,i=i[l]||n.operators[l];for(o in i){break;}s._defaultFilter=function(){return{field:s.field,operator:o||"eq",value:""};},s._refreshHandler=u(s.refresh,s),s.dataSource.bind(m,s._refreshHandler),n.appendToElement?s._init():s.refresh();},_init:function _init(){var t,n=this,i=n.options.ui,o=y(i);n.pane=n.options.pane,n.pane&&(n._isMobile=!0),o||(t=i||b[n.type]),n._isMobile?n._createMobileForm(t):n._createForm(t),n.form.on("submit"+g,u(n._submit,n)).on("reset"+g,u(n._reset,n)),o&&n.form.find(".k-textbox").removeClass("k-textbox").each(function(){i(e(this));}),n.form.find("["+c.attr("role")+"=numerictextbox]").removeClass("k-textbox").end().find("["+c.attr("role")+"=datetimepicker]").removeClass("k-textbox").end().find("["+c.attr("role")+"=timepicker]").removeClass("k-textbox").end().find("["+c.attr("role")+"=datepicker]").removeClass("k-textbox"),n.refresh(),n.trigger(f,{field:n.field,container:n.form}),c.cycleForm(n.form);},_createForm:function _createForm(t){var n=this,o=n.options,r=n.operators||{},a=n.type;r=r[a]||o.operators[a],n.form=e('<form class="k-filter-menu"/>').html(c.template("boolean"===a?x:C)({field:n.field,format:o.format,ns:c.ns,messages:o.messages,extra:o.extra,operators:r,type:a,role:t,values:i(o.values)})),o.appendToElement?(n.element.append(n.form),n.popup=n.element.closest(".k-popup").data(h)):n.popup=n.form[h]({anchor:n.link,open:u(n._open,n),activate:u(n._activate,n),close:function close(){n.options.closeCallback&&n.options.closeCallback(n.element);}}).data(h),n.form.on("keydown"+g,u(n._keydown,n));},_createMobileForm:function _createMobileForm(t){var n=this,o=n.options,r=n.operators||{},a=n.type;r=r[a]||o.operators[a],n.form=e("<div />").html(c.template("boolean"===a?T:S)({field:n.field,title:o.title||n.field,format:o.format,ns:c.ns,messages:o.messages,extra:o.extra,operators:r,type:a,role:t,useRole:!c.support.input.date&&"date"===a||"number"===a,inputType:w[a],values:i(o.values)})),n.view=n.pane.append(n.form.html()),n.form=n.view.element.find("form"),n.view.element.on("click",".k-submit",function(e){n.form.submit(),e.preventDefault();}).on("click",".k-cancel",function(e){n._closeForm(),e.preventDefault();});},refresh:function refresh(){var e=this,t=e.dataSource.filter()||{filters:[],logic:"and"};e.filterModel=c.observable({logic:"and",filters:[e._defaultFilter(),e._defaultFilter()]}),e.form&&c.bind(e.form.children().first(),e.filterModel),e._bind(t)?e.link.addClass("k-state-active"):e.link.removeClass("k-state-active");},destroy:function destroy(){var e=this;k.fn.destroy.call(e),e.form&&(c.unbind(e.form),c.destroy(e.form),e.form.unbind(g),e.popup&&(e.popup.destroy(),e.popup=null),e.form=null),e.view&&(e.view.purge(),e.view=null),e.link.unbind(g),e._refreshHandler&&(e.dataSource.unbind(m,e._refreshHandler),e.dataSource=null),e.element=e.link=e._refreshHandler=e.filterModel=null;},_bind:function _bind(e){var t,n,i,o,r=this,a=e.filters,s=!1,l=0,c=r.filterModel;for(t=0,n=a.length;n>t;t++){o=a[t],o.field==r.field?(c.set("logic",e.logic),i=c.filters[l],i||(c.filters.push({field:r.field}),i=c.filters[l]),i.set("value",r._parse(o.value)),i.set("operator",o.operator),l++,s=!0):o.filters&&(s=s||r._bind(o));}return s;},_stripFilters:function _stripFilters(t){return e.grep(t,function(e){return""!==e.value&&null!=e.value||"isnull"===e.operator||"isnotnull"===e.operator||"isempty"===e.operator||"isnotempty"===e.operator;});},_merge:function _merge(e){var t,i,o,r=this,a=e.logic||"and",s=this._stripFilters(e.filters),l=r.dataSource.filter()||{filters:[],logic:"and"};for(n(l,r.field),i=0,o=s.length;o>i;i++){t=s[i],t.value=r._parse(t.value);}return s.length&&(l.filters.length?(e.filters=s,"and"!==l.logic&&(l.filters=[{logic:l.logic,filters:l.filters}],l.logic="and"),l.filters.push(s.length>1?e:s[0])):(l.filters=s,l.logic=a)),l;},filter:function filter(e){e=this._merge(e),e.filters.length&&this.dataSource.filter(e);},clear:function clear(){var t=this,n=t.dataSource.filter()||{filters:[]};n.filters=e.grep(n.filters,function(e){return e.filters?(e.filters=o(e.filters,t.field),e.filters.length):e.field!=t.field;}),n.filters.length||(n=null),t.dataSource.filter(n);},_submit:function _submit(e){e.preventDefault(),e.stopPropagation(),this.filter(this.filterModel.toJSON()),this._closeForm();},_reset:function _reset(){this.clear(),this.options.search&&this.container.find("label").parent().show(),this._closeForm();},_closeForm:function _closeForm(){this._isMobile?this.pane.navigate("",this.options.animations.right):this.popup.close();},_click:function _click(e){e.preventDefault(),e.stopPropagation(),this.popup||this.pane||this._init(),this._isMobile?this.pane.navigate(this.view,this.options.animations.left):this.popup.toggle();},_open:function _open(){var t;e(".k-filter-menu").not(this.form).each(function(){t=e(this).data(h),t&&t.close();});},_activate:function _activate(){this.form.find(":kendoFocusable:first").focus();},_keydown:function _keydown(e){e.keyCode==c.keys.ESC&&this.popup.close();},events:[f],options:{name:"FilterMenu",extra:!0,appendToElement:!1,type:"string",operators:{string:{eq:v,neq:_,startswith:"Starts with",contains:"Contains",doesnotcontain:"Does not contain",endswith:"Ends with",isnull:"Is null",isnotnull:"Is not null",isempty:"Is empty",isnotempty:"Is not empty"},number:{eq:v,neq:_,gte:"Is greater than or equal to",gt:"Is greater than",lte:"Is less than or equal to",lt:"Is less than",isnull:"Is null",isnotnull:"Is not null"},date:{eq:v,neq:_,gte:"Is after or equal to",gt:"Is after",lte:"Is before or equal to",lt:"Is before",isnull:"Is null",isnotnull:"Is not null"},enums:{eq:v,neq:_,isnull:"Is null",isnotnull:"Is not null"}},messages:{info:"Show items with value that:",isTrue:"is true",isFalse:"is false",filter:"Filter",clear:"Clear",and:"And",or:"Or",selectValue:"-Select value-",operator:"Operator",value:"Value",cancel:"Cancel"},animations:{left:"slide",right:"slide:right"}}}),A=".kendoFilterMultiCheck",E=c.data.DataSource,R='<div data-#=ns#role="view" data-#=ns#init-widgets="false" class="k-grid-filter-menu"><div data-#=ns#role="header" class="k-header"><button class="k-button k-cancel">#=messages.cancel#</button>#=title#<button type="submit" class="k-button k-submit">#=messages.filter#</button></div><form class="k-filter-menu k-mobile-list">#if(search){#<div class=\'k-textbox k-space-right\'><input placeholder=\'#=messages.search#\'/><span class=\'k-icon k-font-icon k-i-search\' /></div>#}#<ul class="k-multicheck-wrap"></ul></li><li class="k-button-container">#if(messages.selectedItemsFormat){#<div class=\'k-filter-selected-items\'></div>#}#<button type="reset" class="k-button">#=messages.clear#</button></li></ul></form></div>',I=k.extend({init:function init(t,n){var i,o;k.fn.init.call(this,t,n),n=this.options,this.element=e(t),i=this.field=this.options.field||this.element.attr(c.attr("field")),o=n.checkSource,this._foreignKeyValues()?(this.checkSource=E.create(n.values),this.checkSource.fetch()):n.forceUnique?(o=n.dataSource.options,delete o.pageSize,this.checkSource=E.create(o),this.checkSource.reader.data=l(this.checkSource.reader.data,this.field)):this.checkSource=E.create(o),this.dataSource=n.dataSource,this.model=this.dataSource.reader.model,this._parse=function(e){return e+"";},this.model&&this.model.fields&&(i=this.model.fields[this.field],i&&("number"==i.type?this._parse=parseFloat:i.parse&&(this._parse=u(i.parse,i)),this.type=i.type||"string")),n.appendToElement?this._init():this._createLink(),this._refreshHandler=u(this.refresh,this),this.dataSource.bind(m,this._refreshHandler);},_createLink:function _createLink(){var e=this.element,t=e.addClass("k-with-icon k-filterable").find(".k-grid-filter");t[0]||(t=e.prepend('<a class="k-grid-filter" href="#"><span class="k-icon k-filter"/></a>').find(".k-grid-filter")),this._link=t.attr("tabindex",-1).on("click"+g,u(this._click,this));},_init:function _init(){var e=this,t=this.options.forceUnique,n=this.options;this.pane=n.pane,this.pane&&(this._isMobile=!0),this._createForm(),this._foreignKeyValues()?this.refresh():t&&!this.checkSource.options.serverPaging&&this.dataSource.data().length?(this.checkSource.data(s(this.dataSource.data(),this.field)),this.refresh()):(this._attachProgress(),this.checkSource.fetch(function(){e.refresh.call(e);})),this.options.forceUnique||(this.checkChangeHandler=function(){e.container.empty(),e.refresh();},this.checkSource.bind(m,this.checkChangeHandler)),this.form.on("keydown"+A,u(this._keydown,this)).on("submit"+A,u(this._filter,this)).on("reset"+A,u(this._reset,this)),this.trigger(f,{field:this.field,container:this.form});},_attachProgress:function _attachProgress(){var e=this;this._progressHandler=function(){d.progress(e.container,!0);},this._progressHideHandler=function(){d.progress(e.container,!1);},this.checkSource.bind("progress",this._progressHandler).bind("change",this._progressHideHandler);},_input:function _input(){var e=this;e._clearTypingTimeout(),e._typingTimeout=setTimeout(function(){e.search();},100);},_clearTypingTimeout:function _clearTypingTimeout(){this._typingTimeout&&(clearTimeout(this._typingTimeout),this._typingTimeout=null);},search:function search(){var e,t,n,i=this.options.ignoreCase,o=this.searchTextBox[0].value,r=this.container.find("label");for(i&&(o=o.toLowerCase()),e=0,this.options.checkAll&&r.length&&(r[0].parentNode.style.display=o?"none":"",e++);r.length>e;){t=r[e],n=t.textContent||t.innerText,i&&(n=n.toLowerCase()),t.parentNode.style.display=n.indexOf(o)>=0?"":"none",e++;}},_activate:function _activate(){this.form.find(":kendoFocusable:first").focus();},_createForm:function _createForm(){var t,n,i=this.options,o="";this._isMobile||(i.search&&(o+="<div class='k-textbox k-space-right'><input placeholder='"+i.messages.search+"'/><span class='k-icon k-font-icon k-i-search' /></div>"),o+="<ul class='k-reset k-multicheck-wrap'></ul>",i.messages.selectedItemsFormat&&(o+="<div class='k-filter-selected-items'>"+c.format(i.messages.selectedItemsFormat,0)+"</div>"),o+="<button type='submit' class='k-button k-primary'>"+i.messages.filter+"</button>",o+="<button type='reset' class='k-button'>"+i.messages.clear+"</button>",this.form=e('<form class="k-filter-menu"/>').html(o),this.container=this.form.find(".k-multicheck-wrap")),this._isMobile?(t=this,t.form=e("<div />").html(c.template(R)({field:t.field,title:i.title||t.field,ns:c.ns,messages:i.messages,search:i.search})),t.view=t.pane.append(t.form.html()),t.form=t.view.element.find("form"),n=this.view.element,this.container=n.find(".k-multicheck-wrap"),n.on("click",".k-submit",function(e){t.form.submit(),e.preventDefault();}).on("click",".k-cancel",function(e){t._closeForm(),e.preventDefault();})):i.appendToElement?(this.popup=this.element.closest(".k-popup").data(h),this.element.append(this.form)):this.popup=this.form.kendoPopup({anchor:this._link,activate:u(this._activate,this)}).data(h),i.search&&(this.searchTextBox=this.form.find(".k-textbox > input"),this.searchTextBox.on("input",u(this._input,this)));},createCheckAllItem:function createCheckAllItem(){var t=this.options,n=c.template(t.itemTemplate({field:"all",mobile:this._isMobile})),i=e(n({all:t.messages.checkAll}));this.container.prepend(i),this.checkBoxAll=i.find(":checkbox").eq(0).addClass("k-check-all"),this.checkAllHandler=u(this.checkAll,this),this.checkBoxAll.on(m+A,this.checkAllHandler);},updateCheckAllState:function updateCheckAllState(){if(this.options.messages.selectedItemsFormat&&this.form.find(".k-filter-selected-items").text(c.format(this.options.messages.selectedItemsFormat,this.container.find(":checked:not(.k-check-all)").length)),this.checkBoxAll){var e=this.container.find(":checkbox:not(.k-check-all)").length==this.container.find(":checked:not(.k-check-all)").length;this.checkBoxAll.prop("checked",e);}},refresh:function refresh(e){var t=this.options.forceUnique,n=this.dataSource,i=this.getFilterArray();this._link&&this._link.toggleClass("k-state-active",0!==i.length),this.form&&(e&&t&&e.sender===n&&!n.options.serverPaging&&("itemchange"==e.action||"add"==e.action||"remove"==e.action||n.options.autoSync&&"sync"===e.action)&&!this._foreignKeyValues()&&(this.checkSource.data(s(this.dataSource.data(),this.field)),this.container.empty()),this.container.is(":empty")&&this.createCheckBoxes(),this.checkValues(i),this.trigger(p));},getFilterArray:function getFilterArray(){var t,n=e.extend(!0,{},{filters:[],logic:"and"},this.dataSource.filter());return r(n,this.field),t=a(n);},createCheckBoxes:function createCheckBoxes(){var e,t,n,i=this.options,o={field:this.field,format:i.format,mobile:this._isMobile,type:this.type};this.options.forceUnique?this._foreignKeyValues()?(e=this.checkSource.data(),o.valueField="value",o.field="text"):e=this.checkSource.data():e=this.checkSource.view(),t=c.template(i.itemTemplate(o)),n=c.render(t,e),i.checkAll&&this.createCheckAllItem(),this.container.on(m+A,":checkbox",u(this.updateCheckAllState,this)),this.container.append(n);},checkAll:function checkAll(){var e=this.checkBoxAll.is(":checked");this.container.find(":checkbox").prop("checked",e);},checkValues:function checkValues(t){var n=this;e(e.grep(this.container.find(":checkbox").prop("checked",!1),function(i){var o,r,a=!1;if(!e(i).is(".k-check-all"))for(o=n._parse(e(i).val()),r=0;t.length>r;r++){if(a="date"==n.type?t[r].getTime()==o.getTime():t[r]==o)return a;}})).prop("checked",!0),this.updateCheckAllState();},_filter:function _filter(t){var n,i;t.preventDefault(),t.stopPropagation(),n={logic:"or"},i=this,n.filters=e.map(this.form.find(":checkbox:checked:not(.k-check-all)"),function(t){return{value:e(t).val(),operator:"eq",field:i.field};}),n=this._merge(n),n.filters.length&&this.dataSource.filter(n),this._closeForm();},_stripFilters:function _stripFilters(t){return e.grep(t,function(e){return null!=e.value;});},_foreignKeyValues:function _foreignKeyValues(){var e=this.options;return e.values&&!e.checkSource;},destroy:function destroy(){var e=this;k.fn.destroy.call(e),e.form&&(c.unbind(e.form),c.destroy(e.form),e.form.unbind(A),e.popup&&(e.popup.destroy(),e.popup=null),e.form=null,e.container&&(e.container.unbind(A),e.container=null),e.checkBoxAll&&e.checkBoxAll.unbind(A)),e.view&&(e.view.purge(),e.view=null),e._link&&e._link.unbind(g),e._refreshHandler&&(e.dataSource.unbind(m,e._refreshHandler),e.dataSource=null),e.checkChangeHandler&&e.checkSource.unbind(m,e.checkChangeHandler),e._progressHandler&&e.checkSource.unbind("progress",e._progressHandler),e._progressHideHandler&&e.checkSource.unbind("change",e._progressHideHandler),this._clearTypingTimeout(),this.searchTextBox=null,e.element=e.checkSource=e.container=e.checkBoxAll=e._link=e._refreshHandler=e.checkAllHandler=null;},options:{name:"FilterMultiCheck",itemTemplate:function itemTemplate(e){var n=e.field,i=e.format,o=e.valueField,r=e.mobile,a="";return o===t&&(o=n),"date"==e.type&&(a=":yyyy-MM-ddTHH:mm:sszzz"),"<li class='k-item'><label class='k-label'><input type='checkbox' class='"+(r?"k-check":"")+"'  value='#:kendo.format('{0"+a+"}',"+o+")#'/>#:kendo.format('"+(i?i:"{0}")+"', "+n+")#</label></li>";},checkAll:!0,search:!1,ignoreCase:!0,appendToElement:!1,messages:{checkAll:"Select All",clear:"Clear",filter:"Filter",search:"Search",cancel:"Cancel",selectedItemsFormat:"{0} items selected"},forceUnique:!0,animations:{left:"slide",right:"slide:right"}},events:[f,p]});e.extend(I.fn,{_click:D.fn._click,_keydown:D.fn._keydown,_reset:D.fn._reset,_closeForm:D.fn._closeForm,clear:D.fn.clear,_merge:D.fn._merge}),d.plugin(D),d.plugin(I);}(window.kendo.jQuery),window.kendo;},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("kendo.menu.min",["kendo.popup.min"],e);}(function(){return function(e,t){function n(e,t){return e=e.split(" ")[!t+0]||e,e.replace("top","up").replace("bottom","down");}function i(e,t,n){e=e.split(" ")[!t+0]||e;var i={origin:["bottom",n?"right":"left"],position:["top",n?"right":"left"]},o=/left|right/.test(e);return o?(i.origin=["top",e],i.position[1]=c.directions[e].reverse):(i.origin[0]=e,i.position[0]=c.directions[e].reverse),i.origin=i.origin.join(" "),i.position=i.position.join(" "),i;}function o(t,n){try{return e.contains(t,n);}catch(i){return!1;}}function r(t){t=e(t),t.addClass("k-item").children(x).addClass(I),t.children("a").addClass(T).children(x).addClass(I),t.filter(":not([disabled])").addClass(q),t.filter(".k-separator").empty().append("&nbsp;"),t.filter("li[disabled]").addClass(Y).removeAttr("disabled").attr("aria-disabled",!0),t.filter("[role]").length||t.attr("role","menuitem"),t.children("."+T).length||t.contents().filter(function(){return!(this.nodeName.match(y)||3==this.nodeType&&!e.trim(this.nodeValue));}).wrapAll("<span class='"+T+"'/>"),a(t),s(t);}function a(t){t=e(t),t.find("> .k-link > [class*=k-i-arrow]:not(.k-sprite)").remove(),t.filter(":has(.k-menu-group)").children(".k-link:not(:has([class*=k-i-arrow]:not(.k-sprite)))").each(function(){var t=e(this),n=t.parent().parent();t.append("<span class='k-icon "+(n.hasClass(S+"-horizontal")?"k-i-arrow-s":"k-i-arrow-e")+"'/>");});}function s(t){t=e(t),t.filter(".k-first:not(:first-child)").removeClass(R),t.filter(".k-last:not(:last-child)").removeClass(D),t.filter(":first-child").addClass(R),t.filter(":last-child").addClass(D);}var l,c=window.kendo,d=c.ui,u=c._activeElement,h=c.support.touch&&c.support.mobileOS,f="mousedown",p="click",m=e.extend,g=e.proxy,v=e.each,_=c.template,b=c.keys,w=d.Widget,y=/^(ul|a|div)$/i,k=".kendoMenu",x="img",C="open",S="k-menu",T="k-link",D="k-last",A="close",E="timer",R="k-first",I="k-image",F="select",M="zIndex",P="activate",z="deactivate",B="touchstart"+k+" MSPointerDown"+k+" pointerdown"+k,L=c.support.pointers,H=c.support.msPointers,N=H||L,O=L?"pointerover":H?"MSPointerOver":"mouseenter",V=L?"pointerout":H?"MSPointerOut":"mouseleave",U=h||N,W=e(document.documentElement),j="kendoPopup",q="k-state-default",G="k-state-hover",$="k-state-focused",Y="k-state-disabled",K="k-state-selected",Q=".k-menu",X=".k-menu-group",J=X+",.k-animation-container",Z=":not(.k-list) > .k-item",ee=".k-item.k-state-disabled",te=".k-item:not(.k-state-disabled)",ne=".k-item:not(.k-state-disabled) > .k-link",ie=":not(.k-item.k-separator)",oe=ie+":eq(0)",re=ie+":last",ae="> div:not(.k-animation-container,.k-list-container)",se={2:1,touch:1},le={content:_("<div #= contentCssAttributes(item) # tabindex='-1'>#= content(item) #</div>"),group:_("<ul class='#= groupCssClass(group) #'#= groupAttributes(group) # role='menu' aria-hidden='true'>#= renderItems(data) #</ul>"),itemWrapper:_("<#= tag(item) # class='#= textClass(item) #'#= textAttributes(item) #>#= image(data) ##= sprite(item) ##= text(item) ##= arrow(data) #</#= tag(item) #>"),item:_("<li class='#= wrapperCssClass(group, item) #' #= itemCssAttributes(item) # role='menuitem'  #=item.items ? \"aria-haspopup='true'\": \"\"##=item.enabled === false ? \"aria-disabled='true'\" : ''#>#= itemWrapper(data) ## if (item.items) { ##= subGroup({ items: item.items, menu: menu, group: { expanded: item.expanded } }) ## } else if (item.content || item.contentUrl) { ##= renderContent(data) ## } #</li>"),image:_("<img #= imageCssAttributes(item) # alt='' src='#= item.imageUrl #' />"),arrow:_("<span class='#= arrowClass(item, group) #'></span>"),sprite:_("<span class='k-sprite #= spriteCssClass #'></span>"),empty:_("")},ce={wrapperCssClass:function wrapperCssClass(e,t){var n="k-item",i=t.index;return n+=t.enabled===!1?" k-state-disabled":" k-state-default",e.firstLevel&&0===i&&(n+=" k-first"),i==e.length-1&&(n+=" k-last"),t.cssClass&&(n+=" "+t.cssClass),t.attr&&t.attr.hasOwnProperty("class")&&(n+=" "+t.attr["class"]),t.selected&&(n+=" "+K),n;},itemCssAttributes:function itemCssAttributes(e){var t,n="",i=e.attr||{};for(t in i){i.hasOwnProperty(t)&&"class"!==t&&(n+=t+'="'+i[t]+'" ');}return n;},imageCssAttributes:function imageCssAttributes(e){var t,n="",i=e.imageAttr||{};i["class"]?i["class"]+=" "+I:i["class"]=I;for(t in i){i.hasOwnProperty(t)&&(n+=t+'="'+i[t]+'" ');}return n;},contentCssAttributes:function contentCssAttributes(e){var t,n="",i=e.contentAttr||{},o="k-content k-group k-menu-group";i["class"]?i["class"]+=" "+o:i["class"]=o;for(t in i){i.hasOwnProperty(t)&&(n+=t+'="'+i[t]+'" ');}return n;},textClass:function textClass(){return T;},textAttributes:function textAttributes(e){return e.url?" href='"+e.url+"'":"";},arrowClass:function arrowClass(e,t){var n="k-icon";return n+=t.horizontal?" k-i-arrow-s":" k-i-arrow-e";},text:function text(e){return e.encoded===!1?e.text:c.htmlEncode(e.text);},tag:function tag(e){return e.url?"a":"span";},groupAttributes:function groupAttributes(e){return e.expanded!==!0?" style='display:none'":"";},groupCssClass:function groupCssClass(){return"k-group k-menu-group";},content:function content(e){return e.content?e.content:"&nbsp;";}},de=w.extend({init:function init(t,n){var i=this;w.fn.init.call(i,t,n),t=i.wrapper=i.element,n=i.options,i._initData(n),i._updateClasses(),i._animations(n),i.nextItemZIndex=100,i._tabindex(),i._focusProxy=g(i._focusHandler,i),t.on(B,te,i._focusProxy).on(p+k,ee,!1).on(p+k,te,g(i._click,i)).on("keydown"+k,g(i._keydown,i)).on("focus"+k,g(i._focus,i)).on("focus"+k,".k-content",g(i._focus,i)).on(B+" "+f+k,".k-content",g(i._preventClose,i)).on("blur"+k,g(i._removeHoverItem,i)).on("blur"+k,"[tabindex]",g(i._checkActiveElement,i)).on(O+k,te,g(i._mouseenter,i)).on(V+k,te,g(i._mouseleave,i)).on(O+k+" "+V+k+" "+f+k+" "+p+k,ne,g(i._toggleHover,i)),n.openOnClick&&(i.clicked=!1,i._documentClickHandler=g(i._documentClick,i),e(document).click(i._documentClickHandler)),t.attr("role","menubar"),t[0].id&&(i._ariaId=c.format("{0}_mn_active",t[0].id)),c.notify(i);},events:[C,A,P,z,F],options:{name:"Menu",animation:{open:{duration:200},close:{duration:100}},orientation:"horizontal",direction:"default",openOnClick:!1,closeOnClick:!0,hoverDelay:100,popupCollision:t},_initData:function _initData(e){var t=this;e.dataSource&&(t.angular("cleanup",function(){return{elements:t.element.children()};}),t.element.empty(),t.append(e.dataSource,t.element),t.angular("compile",function(){return{elements:t.element.children()};}));},setOptions:function setOptions(e){var t=this.options.animation;this._animations(e),e.animation=m(!0,t,e.animation),"dataSource"in e&&this._initData(e),this._updateClasses(),w.fn.setOptions.call(this,e);},destroy:function destroy(){var t=this;w.fn.destroy.call(t),t.element.off(k),t._documentClickHandler&&e(document).unbind("click",t._documentClickHandler),c.destroy(t.element);},enable:function enable(e,t){return this._toggleDisabled(e,t!==!1),this;},disable:function disable(e){return this._toggleDisabled(e,!1),this;},append:function append(e,t){t=this.element.find(t);var n=this._insert(e,t,t.length?t.find("> .k-menu-group, > .k-animation-container > .k-menu-group"):null);return v(n.items,function(){n.group.append(this),a(this);}),a(t),s(n.group.find(".k-first, .k-last").add(n.items)),this;},insertBefore:function insertBefore(e,t){t=this.element.find(t);var n=this._insert(e,t,t.parent());return v(n.items,function(){t.before(this),a(this),s(this);}),s(t),this;},insertAfter:function insertAfter(e,t){t=this.element.find(t);var n=this._insert(e,t,t.parent());return v(n.items,function(){t.after(this),a(this),s(this);}),s(t),this;},_insert:function _insert(t,n,i){var o,a,s,l,c=this;return n&&n.length||(i=c.element),s=e.isPlainObject(t),l={firstLevel:i.hasClass(S),horizontal:i.hasClass(S+"-horizontal"),expanded:!0,length:i.children().length},n&&!i.length&&(i=e(de.renderGroup({group:l})).appendTo(n)),s||e.isArray(t)?o=e(e.map(s?[t]:t,function(t,n){return"string"==typeof t?e(t).get():e(de.renderItem({group:l,item:m(t,{index:n})})).get();})):(o="string"==typeof t&&"<"!=t.charAt(0)?c.element.find(t):e(t),a=o.find("> ul").addClass("k-menu-group").attr("role","menu"),o=o.filter("li"),o.add(a.find("> li")).each(function(){r(this);})),{items:o,group:i};},remove:function remove(e){var t,n,i,o;return e=this.element.find(e),t=this,n=e.parentsUntil(t.element,Z),i=e.parent("ul:not(.k-menu)"),e.remove(),i&&!i.children(Z).length&&(o=i.parent(".k-animation-container"),o.length?o.remove():i.remove()),n.length&&(n=n.eq(0),a(n),s(n)),t;},open:function open(o){var r=this,a=r.options,s="horizontal"==a.orientation,l=a.direction,d=c.support.isRtl(r.wrapper);return o=r.element.find(o),/^(top|bottom|default)$/.test(l)&&(l=d?s?(l+" left").replace("default","bottom"):"left":s?(l+" right").replace("default","bottom"):"right"),o.siblings().find(">.k-popup:visible,>.k-animation-container>.k-popup:visible").each(function(){var t=e(this).data("kendoPopup");t&&t.close();}),o.each(function(){var o=e(this);clearTimeout(o.data(E)),o.data(E,setTimeout(function(){var u,f,p,g,v,_,b,w,y=o.find(".k-menu-group:first:hidden");y[0]&&r._triggerEvent({item:o[0],type:C})===!1&&(!y.find(".k-menu-group")[0]&&y.children(".k-item").length>1?(f=e(window).height(),p=function p(){y.css({maxHeight:f-(y.outerHeight()-y.height())-c.getShadows(y).bottom,overflow:"auto"});},c.support.browser.msie&&7>=c.support.browser.version?setTimeout(p,0):p()):y.css({maxHeight:"",overflow:""}),o.data(M,o.css(M)),o.css(M,r.nextItemZIndex++),u=y.data(j),g=o.parent().hasClass(S),v=g&&s,_=i(l,g,d),b=a.animation.open.effects,w=b!==t?b:"slideIn:"+n(l,g),u?(u=y.data(j),u.options.origin=_.origin,u.options.position=_.position,u.options.animation.open.effects=w):u=y.kendoPopup({activate:function activate(){r._triggerEvent({item:this.wrapper.parent(),type:P});},deactivate:function deactivate(e){e.sender.element.removeData("targetTransform").css({opacity:""}),r._triggerEvent({item:this.wrapper.parent(),type:z});},origin:_.origin,position:_.position,collision:a.popupCollision!==t?a.popupCollision:v?"fit":"fit flip",anchor:o,appendTo:o,animation:{open:m(!0,{effects:w},a.animation.open),close:a.animation.close},close:function close(e){var t=e.sender.wrapper.parent();r._triggerEvent({item:t[0],type:A})?e.preventDefault():(t.css(M,t.data(M)),t.removeData(M),h&&(t.removeClass(G),r._removeHoverItem()));}}).data(j),y.removeAttr("aria-hidden"),u.open());},r.options.hoverDelay));}),r;},close:function close(t,n){var i=this,o=i.element;return t=o.find(t),t.length||(t=o.find(">.k-item")),t.each(function(){var t=e(this);!n&&i._isRootItem(t)&&(i.clicked=!1),clearTimeout(t.data(E)),t.data(E,setTimeout(function(){var e=t.find(".k-menu-group:not(.k-list-container):not(.k-calendar-container):first:visible").data(j);e&&(e.close(),e.element.attr("aria-hidden",!0));},i.options.hoverDelay));}),i;},_toggleDisabled:function _toggleDisabled(t,n){this.element.find(t).each(function(){e(this).toggleClass(q,n).toggleClass(Y,!n).attr("aria-disabled",!n);});},_toggleHover:function _toggleHover(t){var n=e(c.eventTarget(t)||t.target).closest(Z),i=t.type==O||-1!==f.indexOf(t.type);n.parents("li."+Y).length||n.toggleClass(G,i||"mousedown"==t.type||"click"==t.type),this._removeHoverItem();},_preventClose:function _preventClose(){this.options.closeOnClick||(this._closurePrevented=!0);},_checkActiveElement:function _checkActiveElement(t){var n=this,i=e(t?t.currentTarget:this._hoverItem()),r=n._findRootParent(i)[0];this._closurePrevented||setTimeout(function(){document.hasFocus()&&(o(r,c._activeElement())||!t||o(r,t.currentTarget))||n.close(r);},0),this._closurePrevented=!1;},_removeHoverItem:function _removeHoverItem(){var e=this._hoverItem();e&&e.hasClass($)&&(e.removeClass($),this._oldHoverItem=null);},_updateClasses:function _updateClasses(){var e,t=this.element,n=".k-menu-init div ul";t.removeClass("k-menu-horizontal k-menu-vertical"),t.addClass("k-widget k-reset k-header k-menu-init "+S).addClass(S+"-"+this.options.orientation),t.find("li > ul").filter(function(){return!c.support.matchesSelector.call(this,n);}).addClass("k-group k-menu-group").attr("role","menu").attr("aria-hidden",t.is(":visible")).end().find("li > div").addClass("k-content").attr("tabindex","-1"),e=t.find("> li,.k-menu-group > li"),t.removeClass("k-menu-init"),e.each(function(){r(this);});},_mouseenter:function _mouseenter(t){var n=this,i=e(t.currentTarget),r=i.children(".k-animation-container").length||i.children(X).length;t.delegateTarget==i.parents(Q)[0]&&(n.options.openOnClick&&!n.clicked||h||(L||H)&&t.originalEvent.pointerType in se&&n._isRootItem(i.closest(Z))||!o(t.currentTarget,t.relatedTarget)&&r&&n.open(i),(n.options.openOnClick&&n.clicked||U)&&i.siblings().each(g(function(e,t){n.close(t,!0);},n)));},_mouseleave:function _mouseleave(n){var i=this,r=e(n.currentTarget),a=r.children(".k-animation-container").length||r.children(X).length;return r.parentsUntil(".k-animation-container",".k-list-container,.k-calendar-container")[0]?(n.stopImmediatePropagation(),t):(i.options.openOnClick||h||(L||H)&&n.originalEvent.pointerType in se||o(n.currentTarget,n.relatedTarget||n.target)||!a||o(n.currentTarget,c._activeElement())||i.close(r),t);},_click:function _click(n){var i,o,r,a=this,s=a.options,l=e(c.eventTarget(n)),d=l[0]?l[0].nodeName.toUpperCase():"",u="INPUT"==d||"SELECT"==d||"BUTTON"==d||"LABEL"==d,h=l.closest("."+T),f=l.closest(Z),p=h.attr("href"),m=l.attr("href"),g=e("<a href='#' />").attr("href"),v=!!p&&p!==g,_=v&&!!p.match(/^#/),b=!!m&&m!==g,w=s.openOnClick&&r&&a._isRootItem(f);if(!l.closest(ae,f[0]).length){if(f.hasClass(Y))return n.preventDefault(),t;if(n.handled||!a._triggerEvent({item:f[0],type:F})||u||n.preventDefault(),n.handled=!0,o=f.children(J),r=o.is(":visible"),s.closeOnClick&&(!v||_)&&(!o.length||w))return f.removeClass(G).css("height"),a._oldHoverItem=a._findRootParent(f),a.close(h.parentsUntil(a.element,Z)),a.clicked=!1,-1!="MSPointerUp".indexOf(n.type)&&n.preventDefault(),t;v&&n.enterKey&&h[0].click(),(a._isRootItem(f)&&s.openOnClick||c.support.touch||(L||H)&&a._isRootItem(f.closest(Z)))&&(v||u||b||n.preventDefault(),a.clicked=!0,i=o.is(":visible")?A:C,(s.closeOnClick||i!=A)&&a[i](f));}},_documentClick:function _documentClick(e){o(this.element[0],e.target)||(this.clicked=!1);},_focus:function _focus(n){var i=this,o=n.target,r=i._hoverItem(),a=u();return o==i.wrapper[0]||e(o).is(":kendoFocusable")?(a===n.currentTarget&&(r.length?i._moveHover([],r):i._oldHoverItem||i._moveHover([],i.wrapper.children().first())),t):(n.stopPropagation(),e(o).closest(".k-content").closest(".k-menu-group").closest(".k-item").addClass($),i.wrapper.focus(),t);},_keydown:function _keydown(e){var n,i,o,r=this,a=e.keyCode,s=r._oldHoverItem,l=c.support.isRtl(r.wrapper);if(e.target==e.currentTarget||a==b.ESC){if(s||(s=r._oldHoverItem=r._hoverItem()),i=r._itemBelongsToVertival(s),o=r._itemHasChildren(s),a==b.RIGHT)n=r[l?"_itemLeft":"_itemRight"](s,i,o);else if(a==b.LEFT)n=r[l?"_itemRight":"_itemLeft"](s,i,o);else if(a==b.DOWN)n=r._itemDown(s,i,o);else if(a==b.UP)n=r._itemUp(s,i,o);else if(a==b.ESC)n=r._itemEsc(s,i);else if(a==b.ENTER||a==b.SPACEBAR)n=s.children(".k-link"),n.length>0&&(r._click({target:n[0],preventDefault:function preventDefault(){},enterKey:!0}),r._moveHover(s,r._findRootParent(s)));else if(a==b.TAB)return n=r._findRootParent(s),r._moveHover(s,n),r._checkActiveElement(),t;n&&n[0]&&(e.preventDefault(),e.stopPropagation());}},_hoverItem:function _hoverItem(){return this.wrapper.find(".k-item.k-state-hover,.k-item.k-state-focused").filter(":visible");},_itemBelongsToVertival:function _itemBelongsToVertival(e){var t=this.wrapper.hasClass("k-menu-vertical");return e.length?e.parent().hasClass("k-menu-group")||t:t;},_itemHasChildren:function _itemHasChildren(e){return e.length?e.children("ul.k-menu-group, div.k-animation-container").length>0:!1;},_moveHover:function _moveHover(t,n){var i=this,o=i._ariaId;t.length&&n.length&&t.removeClass($),n.length&&(n[0].id&&(o=n[0].id),n.addClass($),i._oldHoverItem=n,o&&(i.element.removeAttr("aria-activedescendant"),e("#"+o).removeAttr("id"),n.attr("id",o),i.element.attr("aria-activedescendant",o)));},_findRootParent:function _findRootParent(e){return this._isRootItem(e)?e:e.parentsUntil(Q,"li.k-item").last();},_isRootItem:function _isRootItem(e){return e.parent().hasClass(S);},_itemRight:function _itemRight(e,t,n){var i,o,r=this;if(!e.hasClass(Y))return t?n?(r.open(e),i=e.find(".k-menu-group").children().first()):"horizontal"==r.options.orientation&&(o=r._findRootParent(e),r.close(o),i=o.nextAll(oe)):(i=e.nextAll(oe),i.length||(i=e.prevAll(re))),i&&!i.length?i=r.wrapper.children(".k-item").first():i||(i=[]),r._moveHover(e,i),i;},_itemLeft:function _itemLeft(e,t){var n,i=this;return t?(n=e.parent().closest(".k-item"),i.close(n),i._isRootItem(n)&&"horizontal"==i.options.orientation&&(n=n.prevAll(oe))):(n=e.prevAll(oe),n.length||(n=e.nextAll(re))),n.length||(n=i.wrapper.children(".k-item").last()),i._moveHover(e,n),n;},_itemDown:function _itemDown(e,t,n){var i,o=this;if(t)i=e.nextAll(oe);else{if(!n||e.hasClass(Y))return;o.open(e),i=e.find(".k-menu-group").children().first();}return!i.length&&e.length?i=e.parent().children().first():e.length||(i=o.wrapper.children(".k-item").first()),o._moveHover(e,i),i;},_itemUp:function _itemUp(e,t){var n,i=this;if(t)return n=e.prevAll(oe),!n.length&&e.length?n=e.parent().children().last():e.length||(n=i.wrapper.children(".k-item").last()),i._moveHover(e,n),n;},_itemEsc:function _itemEsc(e,t){var n,i=this;return t?(n=e.parent().closest(".k-item"),i.close(n),i._moveHover(e,n),n):e;},_triggerEvent:function _triggerEvent(e){var t=this;return t.trigger(e.type,{type:e.type,item:e.item});},_focusHandler:function _focusHandler(t){var n=this,i=e(c.eventTarget(t)).closest(Z);setTimeout(function(){n._moveHover([],i),i.children(".k-content")[0]&&i.parent().closest(".k-item").removeClass($);},200);},_animations:function _animations(e){e&&"animation"in e&&!e.animation&&(e.animation={open:{effects:{}},close:{hide:!0,effects:{}}});}});m(de,{renderItem:function renderItem(e){e=m({menu:{},group:{}},e);var t=le.empty,n=e.item;return le.item(m(e,{image:n.imageUrl?le.image:t,sprite:n.spriteCssClass?le.sprite:t,itemWrapper:le.itemWrapper,renderContent:de.renderContent,arrow:n.items||n.content?le.arrow:t,subGroup:de.renderGroup},ce));},renderGroup:function renderGroup(e){return le.group(m({renderItems:function renderItems(e){for(var t="",n=0,i=e.items,o=i?i.length:0,r=m({length:o},e.group);o>n;n++){t+=de.renderItem(m(e,{group:r,item:m({index:n},i[n])}));}return t;}},e,ce));},renderContent:function renderContent(e){return le.content(m(e,ce));}}),l=de.extend({init:function init(t,n){var i=this;de.fn.init.call(i,t,n),i._marker=c.guid().substring(0,8),i.target=e(i.options.target),i._popup(),i._wire();},options:{name:"ContextMenu",filter:null,showOn:"contextmenu",orientation:"vertical",alignToAnchor:!1,target:"body"},events:[C,A,P,z,F],setOptions:function setOptions(t){var n=this;de.fn.setOptions.call(n,t),n.target.off(n.showOn+k+n._marker,n._showProxy),n.userEvents&&n.userEvents.destroy(),n.target=e(n.options.target),t.orientation&&n.popup.wrapper[0]&&n.popup.element.unwrap(),n._wire(),de.fn.setOptions.call(this,t);},destroy:function destroy(){var e=this;e.target.off(e.options.showOn+k+e._marker),W.off(c.support.mousedown+k+e._marker,e._closeProxy),e.userEvents&&e.userEvents.destroy(),de.fn.destroy.call(e);},open:function open(n,i){var r=this;return n=e(n)[0],o(r.element[0],e(n)[0])?de.fn.open.call(r,n):r._triggerEvent({item:r.element,type:C})===!1&&(r.popup.visible()&&r.options.filter&&(r.popup.close(!0),r.popup.element.kendoStop(!0)),i!==t?(r.popup.wrapper.hide(),r.popup.open(n,i)):(r.popup.options.anchor=(n?n:r.popup.anchor)||r.target,r.popup.element.kendoStop(!0),r.popup.open()),W.off(r.popup.downEvent,r.popup._mousedownProxy),W.on(c.support.mousedown+k+r._marker,r._closeProxy)),r;},close:function close(){var t=this;o(t.element[0],e(arguments[0])[0])?de.fn.close.call(t,arguments[0]):t.popup.visible()&&t._triggerEvent({item:t.element,type:A})===!1&&(t.popup.close(),W.off(c.support.mousedown+k,t._closeProxy),t.unbind(F,t._closeTimeoutProxy));},_showHandler:function _showHandler(e){var t,n=e,i=this,r=i.options;e.event&&(n=e.event,n.pageX=e.x.location,n.pageY=e.y.location),o(i.element[0],e.relatedTarget||e.target)||(i._eventOrigin=n,n.preventDefault(),n.stopImmediatePropagation(),i.element.find("."+$).removeClass($),(r.filter&&c.support.matchesSelector.call(n.currentTarget,r.filter)||!r.filter)&&(r.alignToAnchor?(i.popup.options.anchor=n.currentTarget,i.open(n.currentTarget)):(i.popup.options.anchor=n.currentTarget,i._targetChild?(t=i.target.offset(),i.open(n.pageX-t.left,n.pageY-t.top)):i.open(n.pageX,n.pageY))));},_closeHandler:function _closeHandler(t){var n,i=this,r=e(t.relatedTarget||t.target),a=r.closest(i.target.selector)[0]==i.target[0],s=r.closest(te).children(J),l=o(i.element[0],r[0]);i._eventOrigin=t,n=3!==t.which,i.popup.visible()&&(n&&a||!a)&&(i.options.closeOnClick&&!s[0]&&l||!l)&&(l?(this.unbind(F,this._closeTimeoutProxy),i.bind(F,i._closeTimeoutProxy)):i.close());},_wire:function _wire(){var e=this,t=e.options,n=e.target;e._showProxy=g(e._showHandler,e),e._closeProxy=g(e._closeHandler,e),e._closeTimeoutProxy=g(e.close,e),n[0]&&(c.support.mobileOS&&"contextmenu"==t.showOn?(e.userEvents=new c.UserEvents(n,{filter:t.filter,allowSelection:!1}),n.on(t.showOn+k+e._marker,!1),e.userEvents.bind("hold",e._showProxy)):t.filter?n.on(t.showOn+k+e._marker,t.filter,e._showProxy):n.on(t.showOn+k+e._marker,e._showProxy));},_triggerEvent:function _triggerEvent(n){var i=this,o=e(i.popup.options.anchor)[0],r=i._eventOrigin;return i._eventOrigin=t,i.trigger(n.type,m({type:n.type,item:n.item||this.element[0],target:o},r?{event:r}:{}));},_popup:function _popup(){var e=this;e._triggerProxy=g(e._triggerEvent,e),e.popup=e.element.addClass("k-context-menu").kendoPopup({anchor:e.target||"body",copyAnchorStyles:e.options.copyAnchorStyles,collision:e.options.popupCollision||"fit",animation:e.options.animation,activate:e._triggerProxy,deactivate:e._triggerProxy}).data("kendoPopup"),e._targetChild=o(e.target[0],e.popup.element[0]);}}),d.plugin(de),d.plugin(l);}(window.kendo.jQuery),window.kendo;},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("kendo.columnmenu.min",["kendo.popup.min","kendo.filtermenu.min","kendo.menu.min"],e);}(function(){return function(e,t){function n(t){return e.trim(t).replace(/&nbsp;/gi,"");}function i(e,t){var n,i,o,r={};for(n=0,i=e.length;i>n;n++){o=e[n],r[o[t]]=o;}return r;}function o(e){var t,n=[];for(t=0;e.length>t;t++){e[t].columns?n=n.concat(o(e[t].columns)):n.push(e[t]);}return n;}var r=window.kendo,a=r.ui,s=e.proxy,l=e.extend,c=e.grep,d=e.map,u=e.inArray,h="k-state-selected",f="asc",p="desc",m="change",g="init",v="select",_="kendoPopup",b="kendoFilterMenu",w="kendoMenu",y=".kendoColumnMenu",k=a.Widget,x=k.extend({init:function init(t,n){var i,o=this;k.fn.init.call(o,t,n),t=o.element,n=o.options,o.owner=n.owner,o.dataSource=n.dataSource,o.field=t.attr(r.attr("field")),o.title=t.attr(r.attr("title")),i=t.find(".k-header-column-menu"),i[0]||(i=t.addClass("k-with-icon").prepend('<a class="k-header-column-menu" href="#"><span class="k-icon k-i-arrowhead-s">'+n.messages.settings+"</span></a>").find(".k-header-column-menu")),o.link=i.attr("tabindex",-1).on("click"+y,s(o._click,o)),o.wrapper=e('<div class="k-column-menu"/>'),o._refreshHandler=s(o.refresh,o),o.dataSource.bind(m,o._refreshHandler);},_init:function _init(){var e=this;e.pane=e.options.pane,e.pane&&(e._isMobile=!0),e._isMobile?e._createMobileMenu():e._createMenu(),e.owner._muteAngularRebind(function(){e._angularItems("compile");}),e._sort(),e._columns(),e._filter(),e._lockColumns(),e.trigger(g,{field:e.field,container:e.wrapper});},events:[g],options:{name:"ColumnMenu",messages:{sortAscending:"Sort Ascending",sortDescending:"Sort Descending",filter:"Filter",columns:"Columns",done:"Done",settings:"Column Settings",lock:"Lock",unlock:"Unlock"},filter:"",columns:!0,sortable:!0,filterable:!0,animations:{left:"slide"}},_createMenu:function _createMenu(){var e=this,t=e.options;e.wrapper.html(r.template(C)({ns:r.ns,messages:t.messages,sortable:t.sortable,filterable:t.filterable,columns:e._ownerColumns(),showColumns:t.columns,lockedColumns:t.lockedColumns})),e.popup=e.wrapper[_]({anchor:e.link,open:s(e._open,e),activate:s(e._activate,e),close:function close(){e.options.closeCallback&&e.options.closeCallback(e.element);}}).data(_),e.menu=e.wrapper.children()[w]({orientation:"vertical",closeOnClick:!1}).data(w);},_createMobileMenu:function _createMobileMenu(){var e=this,t=e.options,n=r.template(S)({ns:r.ns,field:e.field,title:e.title||e.field,messages:t.messages,sortable:t.sortable,filterable:t.filterable,columns:e._ownerColumns(),showColumns:t.columns,lockedColumns:t.lockedColumns});e.view=e.pane.append(n),e.wrapper=e.view.element.find(".k-column-menu"),e.menu=new T(e.wrapper.children(),{pane:e.pane}),e.view.element.on("click",".k-done",function(t){e.close(),t.preventDefault();}),e.options.lockedColumns&&e.view.bind("show",function(){e._updateLockedColumns();});},_angularItems:function _angularItems(t){var n=this;n.angular(t,function(){var t=n.wrapper.find(".k-columns-item input["+r.attr("field")+"]").map(function(){return e(this).closest("li");}),i=d(n._ownerColumns(),function(e){return{column:e._originalObject};});return{elements:t,data:i};});},destroy:function destroy(){var e=this;e._angularItems("cleanup"),k.fn.destroy.call(e),e.filterMenu&&e.filterMenu.destroy(),e._refreshHandler&&e.dataSource.unbind(m,e._refreshHandler),e.options.columns&&e.owner&&(e._updateColumnsMenuHandler&&(e.owner.unbind("columnShow",e._updateColumnsMenuHandler),e.owner.unbind("columnHide",e._updateColumnsMenuHandler)),e._updateColumnsLockedStateHandler&&(e.owner.unbind("columnLock",e._updateColumnsLockedStateHandler),e.owner.unbind("columnUnlock",e._updateColumnsLockedStateHandler))),e.menu&&(e.menu.element.off(y),e.menu.destroy()),e.wrapper.off(y),e.popup&&e.popup.destroy(),e.view&&e.view.purge(),e.link.off(y),e.owner=null,e.wrapper=null,e.element=null;},close:function close(){this.menu.close(),this.popup&&(this.popup.close(),this.popup.element.off("keydown"+y));},_click:function _click(e){e.preventDefault(),e.stopPropagation();var t=this.options;t.filter&&this.element.is(!t.filter)||(this.popup||this.pane||this._init(),this._isMobile?this.pane.navigate(this.view,this.options.animations.left):this.popup.toggle());},_open:function _open(){var t=this;e(".k-column-menu").not(t.wrapper).each(function(){e(this).data(_).close();}),t.popup.element.on("keydown"+y,function(e){e.keyCode==r.keys.ESC&&t.close();}),t.options.lockedColumns&&t._updateLockedColumns();},_activate:function _activate(){this.menu.element.focus();},_ownerColumns:function _ownerColumns(){var e=o(this.owner.columns),t=c(e,function(e){var t=!0,i=n(e.title||"");return e.menu!==!1&&(e.field||i.length)||(t=!1),t;});return d(t,function(t){return{originalField:t.field,field:t.field||t.title,title:t.title||t.field,hidden:t.hidden,index:u(t,e),locked:!!t.locked,_originalObject:t};});},_sort:function _sort(){var t=this;t.options.sortable&&(t.refresh(),t.menu.bind(v,function(n){var i,o=e(n.item);o.hasClass("k-sort-asc")?i=f:o.hasClass("k-sort-desc")&&(i=p),i&&(o.parent().find(".k-sort-"+(i==f?p:f)).removeClass(h),t._sortDataSource(o,i),t.close());}));},_sortDataSource:function _sortDataSource(e,n){var i,o,r=this,a=r.options.sortable,s=null===a.compare?t:a.compare,l=r.dataSource,c=l.sort()||[];if(e.hasClass(h)&&a&&a.allowUnsort!==!1?(e.removeClass(h),n=t):e.addClass(h),"multiple"===a.mode){for(i=0,o=c.length;o>i;i++){if(c[i].field===r.field){c.splice(i,1);break;}}c.push({field:r.field,dir:n,compare:s});}else c=[{field:r.field,dir:n,compare:s}];l.sort(c);},_columns:function _columns(){var t=this;t.options.columns&&(t._updateColumnsMenu(),t._updateColumnsMenuHandler=s(t._updateColumnsMenu,t),t.owner.bind(["columnHide","columnShow"],t._updateColumnsMenuHandler),t._updateColumnsLockedStateHandler=s(t._updateColumnsLockedState,t),t.owner.bind(["columnUnlock","columnLock"],t._updateColumnsLockedStateHandler),t.menu.bind(v,function(n){var i,a,s,l=e(n.item),d=o(t.owner.columns);t._isMobile&&n.preventDefault(),l.parent().closest("li.k-columns-item")[0]&&(i=l.find(":checkbox"),i.attr("disabled")||(s=i.attr(r.attr("field")),a=c(d,function(e){return e.field==s||e.title==s;})[0],a.hidden===!0?t.owner.showColumn(a):t.owner.hideColumn(a)));}));},_updateColumnsMenu:function _updateColumnsMenu(){var e,t,n,i,o,a,s=r.attr("field"),l=r.attr("locked"),h=c(this._ownerColumns(),function(e){return!e.hidden;}),f=c(h,function(e){return e.originalField;}),p=c(f,function(e){return e.locked===!0;}).length,m=c(f,function(e){return e.locked!==!0;}).length;for(h=d(h,function(e){return e.field;}),a=this.wrapper.find(".k-columns-item input["+s+"]").prop("disabled",!1).prop("checked",!1),e=0,t=a.length;t>e;e++){n=a.eq(e),o="true"===n.attr(l),i=!1,u(n.attr(s),h)>-1&&(i=!0,n.prop("checked",i)),i&&(1==p&&o&&n.prop("disabled",!0),1!=m||o||n.prop("disabled",!0));}},_updateColumnsLockedState:function _updateColumnsLockedState(){var e,t,n,o,a=r.attr("field"),s=r.attr("locked"),l=i(this._ownerColumns(),"field"),c=this.wrapper.find(".k-columns-item input[type=checkbox]");for(e=0,t=c.length;t>e;e++){n=c.eq(e),o=l[n.attr(a)],o&&n.attr(s,o.locked);}this._updateColumnsMenu();},_filter:function _filter(){var t=this,n=b,i=t.options;i.filterable!==!1&&(i.filterable.multi&&(n="kendoFilterMultiCheck",i.filterable.dataSource&&(i.filterable.checkSource=i.filterable.dataSource,delete i.filterable.dataSource)),t.filterMenu=t.wrapper.find(".k-filterable")[n](l(!0,{},{appendToElement:!0,dataSource:i.dataSource,values:i.values,field:t.field,title:t.title},i.filterable)).data(n),t._isMobile&&t.menu.bind(v,function(n){var i=e(n.item);i.hasClass("k-filter-item")&&t.pane.navigate(t.filterMenu.view,t.options.animations.left);}));},_lockColumns:function _lockColumns(){var t=this;t.menu.bind(v,function(n){var i=e(n.item);i.hasClass("k-lock")?(t.owner.lockColumn(t.field),t.close()):i.hasClass("k-unlock")&&(t.owner.unlockColumn(t.field),t.close());});},_updateLockedColumns:function _updateLockedColumns(){var e,t,n,i,o=this.field,r=this.owner.columns,a=c(r,function(e){return e.field==o||e.title==o;})[0];a&&(e=a.locked===!0,t=c(r,function(t){return!t.hidden&&(t.locked&&e||!t.locked&&!e);}).length,n=this.wrapper.find(".k-lock").removeClass("k-state-disabled"),i=this.wrapper.find(".k-unlock").removeClass("k-state-disabled"),(e||1==t)&&n.addClass("k-state-disabled"),e&&1!=t||i.addClass("k-state-disabled"),this._updateColumnsLockedState());},refresh:function refresh(){var e,t,n,i=this,o=i.options.dataSource.sort()||[],r=i.field;for(i.wrapper.find(".k-sort-asc, .k-sort-desc").removeClass(h),t=0,n=o.length;n>t;t++){e=o[t],r==e.field&&i.wrapper.find(".k-sort-"+e.dir).addClass(h);}i.link[i._filterExist(i.dataSource.filter())?"addClass":"removeClass"]("k-state-active");},_filterExist:function _filterExist(e){var t,n,i,o=!1;if(e){for(e=e.filters,n=0,i=e.length;i>n;n++){t=e[n],t.field==this.field?o=!0:t.filters&&(o=o||this._filterExist(t));}return o;}}}),C='<ul>#if(sortable){#<li class="k-item k-sort-asc"><span class="k-link"><span class="k-sprite k-i-sort-asc"></span>${messages.sortAscending}</span></li><li class="k-item k-sort-desc"><span class="k-link"><span class="k-sprite k-i-sort-desc"></span>${messages.sortDescending}</span></li>#if(showColumns || filterable){#<li class="k-separator"></li>#}##}##if(showColumns){#<li class="k-item k-columns-item"><span class="k-link"><span class="k-sprite k-i-columns"></span>${messages.columns}</span><ul>#for (var idx = 0; idx < columns.length; idx++) {#<li><input type="checkbox" data-#=ns#field="#=columns[idx].field.replace(/"/g,"&\\#34;")#" data-#=ns#index="#=columns[idx].index#" data-#=ns#locked="#=columns[idx].locked#"/>#=columns[idx].title#</li>#}#</ul></li>#if(filterable || lockedColumns){#<li class="k-separator"></li>#}##}##if(filterable){#<li class="k-item k-filter-item"><span class="k-link"><span class="k-sprite k-filter"></span>${messages.filter}</span><ul><li><div class="k-filterable"></div></li></ul></li>#if(lockedColumns){#<li class="k-separator"></li>#}##}##if(lockedColumns){#<li class="k-item k-lock"><span class="k-link"><span class="k-sprite k-i-lock"></span>${messages.lock}</span></li><li class="k-item k-unlock"><span class="k-link"><span class="k-sprite k-i-unlock"></span>${messages.unlock}</span></li>#}#</ul>',S='<div data-#=ns#role="view" data-#=ns#init-widgets="false" data-#=ns#use-native-scrolling="true" class="k-grid-column-menu"><div data-#=ns#role="header" class="k-header">${messages.settings}<button class="k-button k-done">#=messages.done#</button></div><div class="k-column-menu k-mobile-list"><ul><li><span class="k-link">${title}</span><ul>#if(sortable){#<li class="k-item k-sort-asc"><span class="k-link"><span class="k-sprite k-i-sort-asc"></span>${messages.sortAscending}</span></li><li class="k-item k-sort-desc"><span class="k-link"><span class="k-sprite k-i-sort-desc"></span>${messages.sortDescending}</span></li>#}##if(lockedColumns){#<li class="k-item k-lock"><span class="k-link"><span class="k-sprite k-i-lock"></span>${messages.lock}</span></li><li class="k-item k-unlock"><span class="k-link"><span class="k-sprite k-i-unlock"></span>${messages.unlock}</span></li>#}##if(filterable){#<li class="k-item k-filter-item"><span class="k-link k-filterable"><span class="k-sprite k-filter"></span>${messages.filter}</span></li>#}#</ul></li>#if(showColumns){#<li class="k-columns-item"><span class="k-link">${messages.columns}</span><ul>#for (var idx = 0; idx < columns.length; idx++) {#<li class="k-item"><label class="k-label"><input type="checkbox" class="k-check" data-#=ns#field="#=columns[idx].field.replace(/"/g,"&\\#34;")#" data-#=ns#index="#=columns[idx].index#" data-#=ns#locked="#=columns[idx].locked#"/>#=columns[idx].title#</label></li>#}#</ul></li>#}#</ul></div></div>',T=k.extend({init:function init(e,t){k.fn.init.call(this,e,t),this.element.on("click"+y,"li.k-item:not(.k-separator):not(.k-state-disabled)","_click");},events:[v],_click:function _click(t){e(t.target).is("[type=checkbox]")||t.preventDefault(),this.trigger(v,{item:t.currentTarget});},close:function close(){this.options.pane.navigate("");},destroy:function destroy(){k.fn.destroy.call(this),this.element.off(y);}});a.plugin(x);}(window.kendo.jQuery),window.kendo;},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("kendo.columnsorter.min",["kendo.core.min"],e);}(function(){return function(e,t){var n=window.kendo,i=n.ui,o=i.Widget,r="dir",a="asc",s="single",l="field",c="desc",d=".kendoColumnSorter",u=".k-link",h="aria-sort",f=e.proxy,p=o.extend({init:function init(e,t){var n,i=this;o.fn.init.call(i,e,t),i._refreshHandler=f(i.refresh,i),i.dataSource=i.options.dataSource.bind("change",i._refreshHandler),n=i.element.find(u),n[0]||(n=i.element.wrapInner('<a class="k-link" href="#"/>').find(u)),i.link=n,i.element.on("click"+d,f(i._click,i));},options:{name:"ColumnSorter",mode:s,allowUnsort:!0,compare:null,filter:""},destroy:function destroy(){var e=this;o.fn.destroy.call(e),e.element.off(d),e.dataSource.unbind("change",e._refreshHandler),e._refreshHandler=e.element=e.link=e.dataSource=null;},refresh:function refresh(){var t,i,o,s,d=this,u=d.dataSource.sort()||[],f=d.element,p=f.attr(n.attr(l));for(f.removeAttr(n.attr(r)),f.removeAttr(h),t=0,i=u.length;i>t;t++){o=u[t],p==o.field&&f.attr(n.attr(r),o.dir);}s=f.attr(n.attr(r)),f.find(".k-i-arrow-n,.k-i-arrow-s").remove(),s===a?(e('<span class="k-icon k-i-arrow-n" />').appendTo(d.link),f.attr(h,"ascending")):s===c&&(e('<span class="k-icon k-i-arrow-s" />').appendTo(d.link),f.attr(h,"descending"));},_click:function _click(e){var i,o,d=this,u=d.element,h=u.attr(n.attr(l)),f=u.attr(n.attr(r)),p=d.options,m=null===d.options.compare?t:d.options.compare,g=d.dataSource.sort()||[];if(e.preventDefault(),!p.filter||u.is(p.filter)){if(f=f===a?c:f===c&&p.allowUnsort?t:a,p.mode===s)g=[{field:h,dir:f,compare:m}];else if("multiple"===p.mode){for(i=0,o=g.length;o>i;i++){if(g[i].field===h){g.splice(i,1);break;}}g.push({field:h,dir:f,compare:m});}this.dataSource.sort(g);}}});i.plugin(p);}(window.kendo.jQuery),window.kendo;},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("kendo.editable.min",["kendo.datepicker.min","kendo.numerictextbox.min","kendo.validator.min","kendo.binder.min"],e);}(function(){return function(e,t){function n(t){return t=null!=t?t:"",t.type||e.type(t)||"string";}function i(t){t.find(":input:not(:button, ["+s.attr("role")+"=upload], ["+s.attr("skip")+"], [type=file]), select").each(function(){var t=s.attr("bind"),n=this.getAttribute(t)||"",i="checkbox"===this.type||"radio"===this.type?"checked:":"value:",o=this.name;-1===n.indexOf(i)&&o&&(n+=(n.length?",":"")+i+o,e(this).attr(t,n));});}function o(e){var t,i,o=(e.model.fields||e.model)[e.field],r=n(o),a=o?o.validation:{},l=s.attr("type"),c=s.attr("bind"),d={name:e.field};for(t in a){i=a[t],p(t,_)>=0?d[l]=t:h(i)||(d[t]=f(i)?i.value||t:i),d[s.attr(t+"-msg")]=i.message;}return p(r,_)>=0&&(d[l]=r),d[c]=("boolean"===r?"checked:":"value:")+e.field,d;}function r(e){var t,n,i,o,r,a;if(e&&e.length)for(a=[],t=0,n=e.length;n>t;t++){i=e[t],r=i.text||i.value||i,o=null==i.value?i.text||i:i.value,a[t]={text:r,value:o};}return a;}function a(e,t){var n,i,o=e?e.validation||{}:{};for(n in o){i=o[n],f(i)&&i.value&&(i=i.value),h(i)&&(t[n]=i);}}var s=window.kendo,l=s.ui,c=l.Widget,d=e.extend,u=s.support.browser.msie&&9>s.support.browser.version,h=s.isFunction,f=e.isPlainObject,p=e.inArray,m=/("|\%|'|\[|\]|\$|\.|\,|\:|\;|\+|\*|\&|\!|\#|\(|\)|<|>|\=|\?|\@|\^|\{|\}|\~|\/|\||`)/g,g='<div class="k-widget k-tooltip k-tooltip-validation" style="margin:0.5em"><span class="k-icon k-warning"> </span>#=message#<div class="k-callout k-callout-n"></div></div>',v="change",_=["url","email","number","date","boolean"],b={number:function number(t,n){var i=o(n);e('<input type="text"/>').attr(i).appendTo(t).kendoNumericTextBox({format:n.format}),e("<span "+s.attr("for")+'="'+n.field+'" class="k-invalid-msg"/>').hide().appendTo(t);},date:function date(t,n){var i=o(n),r=n.format;r&&(r=s._extractFormat(r)),i[s.attr("format")]=r,e('<input type="text"/>').attr(i).appendTo(t).kendoDatePicker({format:n.format}),e("<span "+s.attr("for")+'="'+n.field+'" class="k-invalid-msg"/>').hide().appendTo(t);},string:function string(t,n){var i=o(n);e('<input type="text" class="k-input k-textbox"/>').attr(i).appendTo(t);},"boolean":function boolean(t,n){var i=o(n);e('<input type="checkbox" />').attr(i).appendTo(t);},values:function values(t,n){var i=o(n),a=s.stringify(r(n.values));e("<select "+s.attr("text-field")+'="text"'+s.attr("value-field")+'="value"'+s.attr("source")+"='"+(a?a.replace(/\'/g,"&apos;"):a)+"'"+s.attr("role")+'="dropdownlist"/>').attr(i).appendTo(t),e("<span "+s.attr("for")+'="'+n.field+'" class="k-invalid-msg"/>').hide().appendTo(t);}},w=c.extend({init:function init(t,n){var i=this;n.target&&(n.$angular=n.target.options.$angular),c.fn.init.call(i,t,n),i._validateProxy=e.proxy(i._validate,i),i.refresh();},events:[v],options:{name:"Editable",editors:b,clearContainer:!0,errorTemplate:g},editor:function editor(e,t){var i=this,o=i.options.editors,r=f(e),a=r?e.field:e,l=i.options.model||{},c=r&&e.values,u=c?"values":n(t),h=r&&e.editor,p=h?e.editor:o[u],g=i.element.find("["+s.attr("container-for")+"="+a.replace(m,"\\$1")+"]");p=p?p:o.string,h&&"string"==typeof e.editor&&(p=function p(t){t.append(e.editor);}),g=g.length?g:i.element,p(g,d(!0,{},r?e:{field:a},{model:l}));},_validate:function _validate(t){var n,i=this,o=t.value,r=i._validationEventInProgress,a={},l=s.attr("bind"),c=t.field.replace(m,"\\$1"),d=RegExp("(value|checked)\\s*:\\s*"+c+"\\s*(,|$)");a[t.field]=t.value,n=e(":input["+l+'*="'+c+'"]',i.element).filter("["+s.attr("validate")+"!='false']").filter(function(){return d.test(e(this).attr(l));}),n.length>1&&(n=n.filter(function(){var t=e(this);return!t.is(":radio")||t.val()==o;}));try{i._validationEventInProgress=!0,(!i.validatable.validateInput(n)||!r&&i.trigger(v,{values:a}))&&t.preventDefault();}finally{i._validationEventInProgress=!1;}},end:function end(){return this.validatable.validate();},destroy:function destroy(){var e=this;e.angular("cleanup",function(){return{elements:e.element};}),c.fn.destroy.call(e),e.options.model.unbind("set",e._validateProxy),s.unbind(e.element),e.validatable&&e.validatable.destroy(),s.destroy(e.element),e.element.removeData("kendoValidator"),e.element.is("["+s.attr("role")+"=editable]")&&e.element.removeAttr(s.attr("role"));},refresh:function refresh(){var n,o,r,l,c,d,h,p,m=this,g=m.options.fields||[],v=m.options.clearContainer?m.element.empty():m.element,_=m.options.model||{},b={};for(e.isArray(g)||(g=[g]),n=0,o=g.length;o>n;n++){r=g[n],l=f(r),c=l?r.field:r,d=(_.fields||_)[c],a(d,b),m.editor(r,d);}if(m.options.target&&m.angular("compile",function(){return{elements:v,data:v.map(function(){return{dataItem:_};})};}),!o){h=_.fields||_;for(c in h){a(h[c],b);}}i(v),m.validatable&&m.validatable.destroy(),s.bind(v,m.options.model),m.options.model.unbind("set",m._validateProxy),m.options.model.bind("set",m._validateProxy),m.validatable=new s.ui.Validator(v,{validateOnBlur:!1,errorTemplate:m.options.errorTemplate||t,rules:b}),p=v.find(":kendoFocusable").eq(0).focus(),u&&p.focus();}});l.plugin(w);}(window.kendo.jQuery),window.kendo;},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("kendo.window.min",["kendo.draganddrop.min"],e);}(function(){return function(e,t){function n(e){return t!==e;}function i(e,t,n){return Math.max(Math.min(parseInt(e,10),n===1/0?n:parseInt(n,10)),parseInt(t,10));}function o(){return!this.type||this.type.toLowerCase().indexOf("script")>=0;}function r(e){var t=this;t.owner=e,t._draggable=new c(e.wrapper,{filter:">"+k,group:e.wrapper.id+"-resizing",dragstart:h(t.dragstart,t),drag:h(t.drag,t),dragend:h(t.dragend,t)}),t._draggable.userEvents.bind("press",h(t.addOverlay,t)),t._draggable.userEvents.bind("release",h(t.removeOverlay,t));}function a(e,t){var n=this;n.owner=e,n._draggable=new c(e.wrapper,{filter:t,group:e.wrapper.id+"-moving",dragstart:h(n.dragstart,n),drag:h(n.drag,n),dragend:h(n.dragend,n),dragcancel:h(n.dragcancel,n)}),n._draggable.userEvents.stopPropagation=!1;}var s=window.kendo,l=s.ui.Widget,c=s.ui.Draggable,d=e.isPlainObject,u=s._activeElement,h=e.proxy,f=e.extend,p=e.each,m=s.template,g="body",v=".kendoWindow",_=".k-window",b=".k-window-title",w=b+"bar",y=".k-window-content",k=".k-resize-handle",x=".k-overlay",C="k-content-frame",S="k-loading",T="k-state-hover",D="k-state-focused",A="k-window-maximized",E=":visible",R="hidden",I="cursor",F="open",M="activate",P="deactivate",z="close",B="refresh",L="minimize",H="maximize",N="resize",O="resizeEnd",V="dragstart",U="dragend",W="error",j="overflow",q="zIndex",G=".k-window-actions .k-i-minimize,.k-window-actions .k-i-maximize",$=".k-i-pin",Y=".k-i-unpin",K=$+","+Y,Q=".k-window-titlebar .k-window-action",X=".k-window-titlebar .k-i-refresh",J=s.isLocalUrl,Z=l.extend({init:function init(i,r){var a,c,u,f,p,m,g,k=this,x={},C=!1,S=r&&r.actions&&!r.actions.length;l.fn.init.call(k,i,r),r=k.options,f=r.position,i=k.element,p=r.content,S&&(r.actions=[]),k.appendTo=e(r.appendTo),p&&!d(p)&&(p=r.content={url:p}),i.find("script").filter(o).remove(),i.parent().is(k.appendTo)||f.top!==t&&f.left!==t||(i.is(E)?(x=i.offset(),C=!0):(c=i.css("visibility"),u=i.css("display"),i.css({visibility:R,display:""}),x=i.offset(),i.css({visibility:c,display:u})),f.top===t&&(f.top=x.top),f.left===t&&(f.left=x.left)),n(r.visible)&&null!==r.visible||(r.visible=i.is(E)),a=k.wrapper=i.closest(_),i.is(".k-content")&&a[0]||(i.addClass("k-window-content k-content"),k._createWindow(i,r),a=k.wrapper=i.closest(_),k._dimensions()),k._position(),r.pinned&&k.pin(!0),p&&k.refresh(p),r.visible&&k.toFront(),m=a.children(y),k._tabindex(m),r.visible&&r.modal&&k._overlay(a.is(E)).css({opacity:.5}),a.on("mouseenter"+v,Q,h(k._buttonEnter,k)).on("mouseleave"+v,Q,h(k._buttonLeave,k)).on("click"+v,"> "+Q,h(k._windowActionHandler,k)),m.on("keydown"+v,h(k._keydown,k)).on("focus"+v,h(k._focus,k)).on("blur"+v,h(k._blur,k)),this._resizable(),this._draggable(),g=i.attr("id"),g&&(g+="_wnd_title",a.children(w).children(b).attr("id",g),m.attr({role:"dialog","aria-labelledby":g})),a.add(a.children(".k-resize-handle,"+w)).on("mousedown"+v,h(k.toFront,k)),k.touchScroller=s.touchScroller(i),k._resizeHandler=h(k._onDocumentResize,k),k._marker=s.guid().substring(0,8),e(window).on("resize"+v+k._marker,k._resizeHandler),r.visible&&(k.trigger(F),k.trigger(M)),s.notify(k);},_buttonEnter:function _buttonEnter(t){e(t.currentTarget).addClass(T);},_buttonLeave:function _buttonLeave(t){e(t.currentTarget).removeClass(T);},_focus:function _focus(){this.wrapper.addClass(D);},_blur:function _blur(){this.wrapper.removeClass(D);},_dimensions:function _dimensions(){var e,t,n=this.wrapper,o=this.options,r=o.width,a=o.height,s=o.maxHeight,l=["minWidth","minHeight","maxWidth","maxHeight"];for(this.title(o.title),e=0;l.length>e;e++){t=o[l[e]],t&&t!=1/0&&n.css(l[e],t);}s&&s!=1/0&&this.element.css("maxHeight",s),r&&n.width((""+r).indexOf("%")>0?r:i(r,o.minWidth,o.maxWidth)),a&&n.height((""+a).indexOf("%")>0?a:i(a,o.minHeight,o.maxHeight)),o.visible||n.hide();},_position:function _position(){var e=this.wrapper,t=this.options.position;0===t.top&&(t.top=""+t.top),0===t.left&&(t.left=""+t.left),e.css({top:t.top||"",left:t.left||""});},_animationOptions:function _animationOptions(e){var t=this.options.animation,n={open:{effects:{}},close:{hide:!0,effects:{}}};return t&&t[e]||n[e];},_resize:function _resize(){s.resize(this.element.children());},_resizable:function _resizable(){var t=this.options.resizable,n=this.wrapper;this.resizing&&(n.off("dblclick"+v).children(k).remove(),this.resizing.destroy(),this.resizing=null),t&&(n.on("dblclick"+v,w,h(function(t){e(t.target).closest(".k-window-action").length||this.toggleMaximization();},this)),p("n e s w se sw ne nw".split(" "),function(e,t){n.append(ee.resizeHandle(t));}),this.resizing=new r(this)),n=null;},_draggable:function _draggable(){var e=this.options.draggable;this.dragging&&(this.dragging.destroy(),this.dragging=null),e&&(this.dragging=new a(this,e.dragHandle||w));},_actions:function _actions(){var t=this.options.actions,n=this.wrapper.children(w),i=n.find(".k-window-actions");t=e.map(t,function(e){return{name:e};}),i.html(s.render(ee.action,t));},setOptions:function setOptions(e){var n,i;l.fn.setOptions.call(this,e),n=this.options.scrollable!==!1,this.restore(),this._dimensions(),this._position(),this._resizable(),this._draggable(),this._actions(),t!==e.modal&&(i=this.options.visible!==!1,this._overlay(e.modal&&i)),this.element.css(j,n?"":"hidden");},events:[F,M,P,z,L,H,B,N,O,V,U,W],options:{name:"Window",animation:{open:{effects:{zoom:{direction:"in"},fade:{direction:"in"}},duration:350},close:{effects:{zoom:{direction:"out",properties:{scale:.7}},fade:{direction:"out"}},duration:350,hide:!0}},title:"",actions:["Close"],autoFocus:!0,modal:!1,resizable:!0,draggable:!0,minWidth:90,minHeight:50,maxWidth:1/0,maxHeight:1/0,pinned:!1,scrollable:!0,position:{},content:null,visible:null,height:null,width:null,appendTo:"body"},_closable:function _closable(){return e.inArray("close",e.map(this.options.actions,function(e){return e.toLowerCase();}))>-1;},_keydown:function _keydown(e){var t,n,o,r,a,l,c=this,d=c.options,u=s.keys,h=e.keyCode,f=c.wrapper,p=10,m=c.options.isMaximized;e.target!=e.currentTarget||c._closing||(h==u.ESC&&c._closable()&&c._close(!1),!d.draggable||e.ctrlKey||m||(t=s.getOffset(f),h==u.UP?n=f.css("top",t.top-p):h==u.DOWN?n=f.css("top",t.top+p):h==u.LEFT?n=f.css("left",t.left-p):h==u.RIGHT&&(n=f.css("left",t.left+p))),d.resizable&&e.ctrlKey&&!m&&(h==u.UP?(n=!0,r=f.height()-p):h==u.DOWN&&(n=!0,r=f.height()+p),h==u.LEFT?(n=!0,o=f.width()-p):h==u.RIGHT&&(n=!0,o=f.width()+p),n&&(a=i(o,d.minWidth,d.maxWidth),l=i(r,d.minHeight,d.maxHeight),isNaN(a)||(f.width(a),c.options.width=a+"px"),isNaN(l)||(f.height(l),c.options.height=l+"px"),c.resize())),n&&e.preventDefault());},_overlay:function _overlay(t){var n=this.appendTo.children(x),i=this.wrapper;return n.length||(n=e("<div class='k-overlay' />")),n.insertBefore(i[0]).toggle(t).css(q,parseInt(i.css(q),10)-1),n;},_actionForIcon:function _actionForIcon(e){var t=/\bk-i-\w+\b/.exec(e[0].className)[0];return{"k-i-close":"_close","k-i-maximize":"maximize","k-i-minimize":"minimize","k-i-restore":"restore","k-i-refresh":"refresh","k-i-pin":"pin","k-i-unpin":"unpin"}[t];},_windowActionHandler:function _windowActionHandler(n){var i,o;if(!this._closing)return i=e(n.target).closest(".k-window-action").find(".k-icon"),o=this._actionForIcon(i),o?(n.preventDefault(),this[o](),!1):t;},_modals:function _modals(){var t=this,n=e(_).filter(function(){var n=e(this),i=t._object(n),o=i&&i.options;return o&&o.modal&&o.visible&&o.appendTo===t.options.appendTo&&n.is(E);}).sort(function(t,n){return+e(t).css("zIndex")-+e(n).css("zIndex");});return t=null,n;},_object:function _object(e){var n=e.children(y),i=s.widgetInstance(n);return i instanceof Z?i:t;},center:function center(){var t,n,i=this,o=i.options.position,r=i.wrapper,a=e(window),s=0,l=0;return i.options.isMaximized?i:(i.options.pinned||(s=a.scrollTop(),l=a.scrollLeft()),n=l+Math.max(0,(a.width()-r.width())/2),t=s+Math.max(0,(a.height()-r.height()-parseInt(r.css("paddingTop"),10))/2),r.css({left:n,top:t}),o.top=t,o.left=n,i);},title:function title(e){var t,n=this,i=n.wrapper,o=n.options,r=i.children(w),a=r.children(b);return arguments.length?(e===!1?(i.addClass("k-window-titleless"),r.remove()):(r.length?a.html(e):(i.prepend(ee.titlebar(o)),n._actions(),r=i.children(w)),t=r.outerHeight(),i.css("padding-top",t),r.css("margin-top",-t)),n.options.title=e,n):a.html();},content:function content(e,t){var i=this.wrapper.children(y),o=i.children(".km-scroll-container");return i=o[0]?o:i,n(e)?(this.angular("cleanup",function(){return{elements:i.children()};}),s.destroy(this.element.children()),i.empty().html(e),this.angular("compile",function(){var e,n=[];for(e=i.length;--e>=0;){n.push({dataItem:t});}return{elements:i.children(),data:n};}),this):i.html();},open:function open(){var t,n,i,o=this,r=o.wrapper,a=o.options,l=this._animationOptions("open"),c=r.children(y),d=e(document);return o.trigger(F)||(o._closing&&r.kendoStop(!0,!0),o._closing=!1,o.toFront(),a.autoFocus&&o.element.focus(),a.visible=!0,a.modal&&(n=!!o._modals().length,t=o._overlay(n),t.kendoStop(!0,!0),l.duration&&s.effects.Fade&&!n?(i=s.fx(t).fadeIn(),i.duration(l.duration||0),i.endValue(.5),i.play()):t.css("opacity",.5),t.show()),r.is(E)||(c.css(j,R),r.show().kendoStop().kendoAnimate({effects:l.effects,duration:l.duration,complete:h(this._activate,this)}))),a.isMaximized&&(o._documentScrollTop=d.scrollTop(),o._documentScrollLeft=d.scrollLeft(),e("html, body").css(j,R)),o;},_activate:function _activate(){var e=this.options.scrollable!==!1;this.options.autoFocus&&this.element.focus(),this.element.css(j,e?"":"hidden"),this.trigger(M);},_removeOverlay:function _removeOverlay(n){var i,o=this._modals(),r=this.options,a=r.modal&&!o.length,l=r.modal?this._overlay(!0):e(t),c=this._animationOptions("close");a?!n&&c.duration&&s.effects.Fade?(i=s.fx(l).fadeOut(),i.duration(c.duration||0),i.startValue(.5),i.play()):this._overlay(!1).remove():o.length&&this._object(o.last())._overlay(!0);},_close:function _close(t){var n=this,i=n.wrapper,o=n.options,r=this._animationOptions("open"),a=this._animationOptions("close"),s=e(document);if(i.is(E)&&!n.trigger(z,{userTriggered:!t})){if(n._closing)return;n._closing=!0,o.visible=!1,e(_).each(function(t,n){var o=e(n).children(y);n!=i&&o.find("> ."+C).length>0&&o.children(x).remove();}),this._removeOverlay(),i.kendoStop().kendoAnimate({effects:a.effects||r.effects,reverse:a.reverse===!0,duration:a.duration,complete:h(this._deactivate,this)});}n.options.isMaximized&&(e("html, body").css(j,""),n._documentScrollTop&&n._documentScrollTop>0&&s.scrollTop(n._documentScrollTop),n._documentScrollLeft&&n._documentScrollLeft>0&&s.scrollLeft(n._documentScrollLeft));},_deactivate:function _deactivate(){var e,t=this;t.wrapper.hide().css("opacity",""),t.trigger(P),t.options.modal&&(e=t._object(t._modals().last()),e&&e.toFront());},close:function close(){return this._close(!0),this;},_actionable:function _actionable(t){return e(t).is(Q+","+Q+" .k-icon,:input,a");},_shouldFocus:function _shouldFocus(t){var n=u(),i=this.element;return this.options.autoFocus&&!e(n).is(i)&&!this._actionable(t)&&(!i.find(n).length||!i.find(t).length);},toFront:function toFront(t){var n,i,o=this,r=o.wrapper,a=r[0],s=+r.css(q),l=s,c=t&&t.target||null;return e(_).each(function(t,n){var i=e(n),o=i.css(q),r=i.children(y);isNaN(o)||(s=Math.max(+o,s)),n!=a&&r.find("> ."+C).length>0&&r.append(ee.overlay);}),(!r[0].style.zIndex||s>l)&&r.css(q,s+2),o.element.find("> .k-overlay").remove(),o._shouldFocus(c)&&(o.element.focus(),n=e(window).scrollTop(),i=parseInt(r.position().top,10),i>0&&n>i&&(n>0?e(window).scrollTop(i):r.css("top",n))),r=null,o;},toggleMaximization:function toggleMaximization(){return this._closing?this:this[this.options.isMaximized?"restore":"maximize"]();},restore:function restore(){var t=this,n=t.options,i=n.minHeight,o=t.restoreOptions,r=e(document);return n.isMaximized||n.isMinimized?(i&&i!=1/0&&t.wrapper.css("min-height",i),t.wrapper.css({position:n.pinned?"fixed":"absolute",left:o.left,top:o.top,width:o.width,height:o.height}).removeClass(A).find(".k-window-content,.k-resize-handle").show().end().find(".k-window-titlebar .k-i-restore").parent().remove().end().end().find(G).parent().show().end().end().find(K).parent().show(),t.options.width=o.width,t.options.height=o.height,e("html, body").css(j,""),this._documentScrollTop&&this._documentScrollTop>0&&r.scrollTop(this._documentScrollTop),this._documentScrollLeft&&this._documentScrollLeft>0&&r.scrollLeft(this._documentScrollLeft),n.isMaximized=n.isMinimized=!1,t.resize(),t):t;},_sizingAction:function _sizingAction(e,t){var n=this,i=n.wrapper,o=i[0].style,r=n.options;return r.isMaximized||r.isMinimized?n:(n.restoreOptions={width:o.width,height:o.height},i.children(k).hide().end().children(w).find(G).parent().hide().eq(0).before(ee.action({name:"Restore"})),t.call(n),n.wrapper.children(w).find(K).parent().toggle("maximize"!==e),n.trigger(e),n);},maximize:function maximize(){return this._sizingAction("maximize",function(){var t=this,n=t.wrapper,i=n.position(),o=e(document);f(t.restoreOptions,{left:i.left,top:i.top}),n.css({left:0,top:0,position:"fixed"}).addClass(A),this._documentScrollTop=o.scrollTop(),this._documentScrollLeft=o.scrollLeft(),e("html, body").css(j,R),t.options.isMaximized=!0,t._onDocumentResize();}),this;},minimize:function minimize(){return this._sizingAction("minimize",function(){var e=this;e.wrapper.css({height:"",minHeight:""}),e.element.hide(),e.options.isMinimized=!0;}),this;},pin:function pin(t){var n=this,i=e(window),o=n.wrapper,r=parseInt(o.css("top"),10),a=parseInt(o.css("left"),10);(t||!n.options.pinned&&!n.options.isMaximized)&&(o.css({position:"fixed",top:r-i.scrollTop(),left:a-i.scrollLeft()}),o.children(w).find($).addClass("k-i-unpin").removeClass("k-i-pin"),n.options.pinned=!0);},unpin:function unpin(){var t=this,n=e(window),i=t.wrapper,o=parseInt(i.css("top"),10),r=parseInt(i.css("left"),10);t.options.pinned&&!t.options.isMaximized&&(i.css({position:"",top:o+n.scrollTop(),left:r+n.scrollLeft()}),i.children(w).find(Y).addClass("k-i-pin").removeClass("k-i-unpin"),t.options.pinned=!1);},_onDocumentResize:function _onDocumentResize(){var t,n,i=this,o=i.wrapper,r=e(window),a=s.support.zoomLevel();i.options.isMaximized&&(t=r.width()/a,n=r.height()/a-parseInt(o.css("padding-top"),10),o.css({width:t,height:n}),i.options.width=t,i.options.height=n,i.resize());},refresh:function refresh(t){var i,o,r,a=this,s=a.options,l=e(a.element);return d(t)||(t={url:t}),t=f({},s.content,t),o=n(s.iframe)?s.iframe:t.iframe,r=t.url,r?(n(o)||(o=!J(r)),o?(i=l.find("."+C)[0],i?i.src=r||i.src:l.html(ee.contentFrame(f({},s,{content:t}))),l.find("."+C).unbind("load"+v).on("load"+v,h(this._triggerRefresh,this))):a._ajaxRequest(t)):(t.template&&a.content(m(t.template)({})),a.trigger(B)),l.toggleClass("k-window-iframecontent",!!o),a;},_triggerRefresh:function _triggerRefresh(){this.trigger(B);},_ajaxComplete:function _ajaxComplete(){clearTimeout(this._loadingIconTimeout),this.wrapper.find(X).removeClass(S);},_ajaxError:function _ajaxError(e,t){this.trigger(W,{status:t,xhr:e});},_ajaxSuccess:function _ajaxSuccess(e){return function(t){var n=t;e&&(n=m(e)(t||{})),this.content(n,t),this.element.prop("scrollTop",0),this.trigger(B);};},_showLoading:function _showLoading(){this.wrapper.find(X).addClass(S);},_ajaxRequest:function _ajaxRequest(t){this._loadingIconTimeout=setTimeout(h(this._showLoading,this),100),e.ajax(f({type:"GET",dataType:"html",cache:!1,error:h(this._ajaxError,this),complete:h(this._ajaxComplete,this),success:h(this._ajaxSuccess(t.template),this)},t));},_destroy:function _destroy(){this.resizing&&this.resizing.destroy(),this.dragging&&this.dragging.destroy(),this.wrapper.off(v).children(y).off(v).end().find(".k-resize-handle,.k-window-titlebar").off(v),e(window).off("resize"+v+this._marker),clearTimeout(this._loadingIconTimeout),l.fn.destroy.call(this),this.unbind(t),s.destroy(this.wrapper),this._removeOverlay(!0);},destroy:function destroy(){this._destroy(),this.wrapper.empty().remove(),this.wrapper=this.appendTo=this.element=e();},_createWindow:function _createWindow(){var t,n,i=this.element,o=this.options,r=s.support.isRtl(i);o.scrollable===!1&&i.attr("style","overflow:hidden;"),n=e(ee.wrapper(o)),t=i.find("iframe:not(.k-content)").map(function(){var e=this.getAttribute("src");return this.src="",e;}),n.toggleClass("k-rtl",r).appendTo(this.appendTo).append(i).find("iframe:not(.k-content)").each(function(e){this.src=t[e];}),n.find(".k-window-title").css(r?"left":"right",n.find(".k-window-actions").outerWidth()+10),i.css("visibility","").show(),i.find("[data-role=editor]").each(function(){var t=e(this).data("kendoEditor");t&&t.refresh();}),n=i=null;}}),ee={wrapper:m("<div class='k-widget k-window' />"),action:m("<a role='button' href='\\#' class='k-window-action k-link'><span role='presentation' class='k-icon k-i-#= name.toLowerCase() #'>#= name #</span></a>"),titlebar:m("<div class='k-window-titlebar k-header'>&nbsp;<span class='k-window-title'>#= title #</span><div class='k-window-actions' /></div>"),overlay:"<div class='k-overlay' />",contentFrame:m("<iframe frameborder='0' title='#= title #' class='"+C+"' src='#= content.url #'>This page requires frames in order to show content</iframe>"),resizeHandle:m("<div class='k-resize-handle k-resize-#= data #'></div>")};r.prototype={addOverlay:function addOverlay(){this.owner.wrapper.append(ee.overlay);},removeOverlay:function removeOverlay(){this.owner.wrapper.find(x).remove();},dragstart:function dragstart(t){var n=this,i=n.owner,o=i.wrapper;n.elementPadding=parseInt(o.css("padding-top"),10),n.initialPosition=s.getOffset(o,"position"),n.resizeDirection=t.currentTarget.prop("className").replace("k-resize-handle k-resize-",""),n.initialSize={width:o.width(),height:o.height()},n.containerOffset=s.getOffset(i.appendTo,"position"),o.children(k).not(t.currentTarget).hide(),e(g).css(I,t.currentTarget.css(I));},drag:function drag(e){var t,n,o,r,a=this,s=a.owner,l=s.wrapper,c=s.options,d=a.resizeDirection,u=a.containerOffset,h=a.initialPosition,f=a.initialSize,p=Math.max(e.x.location,u.left),m=Math.max(e.y.location,u.top);d.indexOf("e")>=0?(t=p-h.left,l.width(i(t,c.minWidth,c.maxWidth))):d.indexOf("w")>=0&&(r=h.left+f.width,t=i(r-p,c.minWidth,c.maxWidth),l.css({left:r-t-u.left,width:t})),d.indexOf("s")>=0?(n=m-h.top-a.elementPadding,l.height(i(n,c.minHeight,c.maxHeight))):d.indexOf("n")>=0&&(o=h.top+f.height,n=i(o-m,c.minHeight,c.maxHeight),l.css({top:o-n-u.top,height:n})),t&&(s.options.width=t+"px"),n&&(s.options.height=n+"px"),s.resize();},dragend:function dragend(t){var n=this,i=n.owner,o=i.wrapper;return o.children(k).not(t.currentTarget).show(),e(g).css(I,""),i.touchScroller&&i.touchScroller.reset(),27==t.keyCode&&o.css(n.initialPosition).css(n.initialSize),i.trigger(O),!1;},destroy:function destroy(){this._draggable&&this._draggable.destroy(),this._draggable=this.owner=null;}},a.prototype={dragstart:function dragstart(t){var n=this.owner,i=n.element,o=i.find(".k-window-actions"),r=s.getOffset(n.appendTo);n.trigger(V),n.initialWindowPosition=s.getOffset(n.wrapper,"position"),n.initialPointerPosition={left:t.x.client,top:t.y.client},n.startPosition={left:t.x.client-n.initialWindowPosition.left,top:t.y.client-n.initialWindowPosition.top},n.minLeftPosition=o.length>0?o.outerWidth()+parseInt(o.css("right"),10)-i.outerWidth():20-i.outerWidth(),n.minLeftPosition-=r.left,n.minTopPosition=-r.top,n.wrapper.append(ee.overlay).children(k).hide(),e(g).css(I,t.currentTarget.css(I));},drag:function drag(t){var n=this.owner,i=n.options.position;i.top=Math.max(t.y.client-n.startPosition.top,n.minTopPosition),i.left=Math.max(t.x.client-n.startPosition.left,n.minLeftPosition),s.support.transforms?e(n.wrapper).css("transform","translate("+(t.x.client-n.initialPointerPosition.left)+"px, "+(t.y.client-n.initialPointerPosition.top)+"px)"):e(n.wrapper).css(i);},_finishDrag:function _finishDrag(){var t=this.owner;t.wrapper.children(k).toggle(!t.options.isMinimized).end().find(x).remove(),e(g).css(I,"");},dragcancel:function dragcancel(e){this._finishDrag(),e.currentTarget.closest(_).css(this.owner.initialWindowPosition);},dragend:function dragend(){return e(this.owner.wrapper).css(this.owner.options.position).css("transform",""),this._finishDrag(),this.owner.trigger(U),!1;},destroy:function destroy(){this._draggable&&this._draggable.destroy(),this._draggable=this.owner=null;}},s.ui.plugin(Z);}(window.kendo.jQuery),window.kendo;},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("kendo.mobile.view.min",["kendo.core.min","kendo.fx.min","kendo.mobile.scroller.min","kendo.view.min"],e);}(function(){return function(e,t){function n(e){var t,n,i=e.find(k("popover")),o=s.roles;for(t=0,n=i.length;n>t;t++){r.initWidget(i[t],{},o);}}function i(e){r.triggeredByInput(e)||e.preventDefault();}function o(t){t.each(function(){r.initWidget(e(this),{},s.roles);});}var r=window.kendo,a=r.mobile,s=a.ui,l=r.attr,c=s.Widget,d=r.ViewClone,u="init",h='<div style="height: 100%; width: 100%; position: absolute; top: 0; left: 0; z-index: 20000; display: none" />',f="beforeShow",p="show",m="afterShow",g="beforeHide",v="transitionEnd",_="transitionStart",b="hide",w="destroy",y=r.attrValue,k=r.roleSelector,x=r.directiveSelector,C=r.compileMobileDirective,S=c.extend({init:function init(t,n){c.fn.init.call(this,t,n),this.params={},e.extend(this,n),this.transition=this.transition||this.defaultTransition,this._id(),this.options.$angular?this._overlay():(this._layout(),this._overlay(),this._scroller(),this._model());},events:[u,f,p,m,g,b,w,_,v],options:{name:"View",title:"",layout:null,getLayout:e.noop,reload:!1,transition:"",defaultTransition:"",useNativeScrolling:!1,stretch:!1,zoom:!1,model:null,modelScope:window,scroller:{},initWidgets:!0},enable:function enable(e){t===e&&(e=!0),e?this.overlay.hide():this.overlay.show();},destroy:function destroy(){this.layout&&this.layout.detach(this),this.trigger(w),c.fn.destroy.call(this),this.scroller&&this.scroller.destroy(),this.options.$angular&&this.element.scope().$destroy(),r.destroy(this.element);},purge:function purge(){this.destroy(),this.element.remove();},triggerBeforeShow:function triggerBeforeShow(){return!this.trigger(f,{view:this});},triggerBeforeHide:function triggerBeforeHide(){return!this.trigger(g,{view:this});},showStart:function showStart(){var e=this.element;e.css("display",""),this.inited?this._invokeNgController():(this.inited=!0,this.trigger(u,{view:this})),this.layout&&this.layout.attach(this),this._padIfNativeScrolling(),this.trigger(p,{view:this}),r.resize(e);},showEnd:function showEnd(){this.trigger(m,{view:this}),this._padIfNativeScrolling();},hideEnd:function hideEnd(){var e=this;e.element.hide(),e.trigger(b,{view:e}),e.layout&&e.layout.trigger(b,{view:e,layout:e.layout});},beforeTransition:function beforeTransition(e){this.trigger(_,{type:e});},afterTransition:function afterTransition(e){this.trigger(v,{type:e});},_padIfNativeScrolling:function _padIfNativeScrolling(){if(a.appLevelNativeScrolling()){var e=r.support.mobileOS&&r.support.mobileOS.android,t=a.application.skin()||"",n=a.application.os.android||t.indexOf("android")>-1,i="flat"===t||t.indexOf("material")>-1,o=!e&&!n||i?"header":"footer",s=!e&&!n||i?"footer":"header";this.content.css({paddingTop:this[o].height(),paddingBottom:this[s].height()});}},contentElement:function contentElement(){var e=this;return e.options.stretch?e.content:e.scrollerContent;},clone:function clone(){return new d(this);},_scroller:function _scroller(){var t=this;a.appLevelNativeScrolling()||(t.options.stretch?t.content.addClass("km-stretched-view"):(t.content.kendoMobileScroller(e.extend(t.options.scroller,{zoom:t.options.zoom,useNative:t.options.useNativeScrolling})),t.scroller=t.content.data("kendoMobileScroller"),t.scrollerContent=t.scroller.scrollElement),r.support.kineticScrollNeeded&&(e(t.element).on("touchmove",".km-header",i),t.options.useNativeScrolling||t.options.stretch||e(t.element).on("touchmove",".km-content",i)));},_model:function _model(){var e=this,t=e.element,i=e.options.model;"string"==typeof i&&(i=r.getter(i)(e.options.modelScope)),e.model=i,n(t),e.element.css("display",""),e.options.initWidgets&&(i?r.bind(t,i,s,r.ui,r.dataviz.ui):a.init(t.children())),e.element.css("display","none");},_id:function _id(){var e=this.element,t=e.attr("id")||"";this.id=y(e,"url")||"#"+t,"#"==this.id&&(this.id=r.guid(),e.attr("id",this.id));},_layout:function _layout(){var e=k("content"),t=this.element;t.addClass("km-view"),this.header=t.children(k("header")).addClass("km-header"),this.footer=t.children(k("footer")).addClass("km-footer"),t.children(e)[0]||t.wrapInner("<div "+l("role")+'="content"></div>'),this.content=t.children(k("content")).addClass("km-content"),this.element.prepend(this.header).append(this.footer),this.layout=this.options.getLayout(this.layout),this.layout&&this.layout.setup(this);},_overlay:function _overlay(){this.overlay=e(h).appendTo(this.element);},_invokeNgController:function _invokeNgController(){var t,n,i;this.options.$angular&&(t=this.element.controller(),n=this.options.$angular[0],t&&(i=e.proxy(this,"_callController",t,n),/^\$(digest|apply)$/.test(n.$$phase)?i():n.$apply(i)));},_callController:function _callController(e,t){this.element.injector().invoke(e.constructor,e,{$scope:t});}}),T=c.extend({init:function init(e,t){c.fn.init.call(this,e,t),e=this.element,this.header=e.children(this._locate("header")).addClass("km-header"),this.footer=e.children(this._locate("footer")).addClass("km-footer"),this.elements=this.header.add(this.footer),n(e),this.options.$angular||r.mobile.init(this.element.children()),this.element.detach(),this.trigger(u,{layout:this});},_locate:function _locate(e){return this.options.$angular?x(e):k(e);},options:{name:"Layout",id:null,platform:null},events:[u,p,b],setup:function setup(e){e.header[0]||(e.header=this.header),e.footer[0]||(e.footer=this.footer);},detach:function detach(e){var t=this;e.header===t.header&&t.header[0]&&e.element.prepend(t.header.detach()[0].cloneNode(!0)),e.footer===t.footer&&t.footer.length&&e.element.append(t.footer.detach()[0].cloneNode(!0));},attach:function attach(e){var t=this,n=t.currentView;n&&t.detach(n),e.header===t.header&&(t.header.detach(),e.element.children(k("header")).remove(),e.element.prepend(t.header)),e.footer===t.footer&&(t.footer.detach(),e.element.children(k("footer")).remove(),e.element.append(t.footer)),t.trigger(p,{layout:t,view:e}),t.currentView=e;}}),D=r.Observable,A=/<body[^>]*>(([\u000a\u000d\u2028\u2029]|.)*)<\/body>/i,E="loadStart",R="loadComplete",I="showStart",F="sameViewRequested",M="viewShow",P="viewTypeDetermined",z="after",B=D.extend({init:function init(t){var n,i,a,s,l=this;if(D.fn.init.call(l),e.extend(l,t),l.sandbox=e("<div />"),a=l.container,n=l._hideViews(a),l.rootView=n.first(),!l.rootView[0]&&t.rootNeeded)throw i=a[0]==r.mobile.application.element[0]?'Your kendo mobile application element does not contain any direct child elements with data-role="view" attribute set. Make sure that you instantiate the mobile application using the correct container.':'Your pane element does not contain any direct child elements with data-role="view" attribute set.',Error(i);l.layouts={},l.viewContainer=new r.ViewContainer(l.container),l.viewContainer.bind("accepted",function(e){e.view.params=l.params;}),l.viewContainer.bind("complete",function(e){l.trigger(M,{view:e.view});}),l.viewContainer.bind(z,function(){l.trigger(z);}),this.getLayoutProxy=e.proxy(this,"_getLayout"),l._setupLayouts(a),s=a.children(l._locate("modalview drawer")),l.$angular?(l.$angular[0].viewOptions={defaultTransition:l.transition,loader:l.loader,container:l.container,getLayout:l.getLayoutProxy},s.each(function(n,i){C(e(i),t.$angular[0]);})):o(s),this.bind(this.events,t);},events:[I,z,M,E,R,F,P],destroy:function destroy(){r.destroy(this.container);for(var e in this.layouts){this.layouts[e].destroy();}},view:function view(){return this.viewContainer.view;},showView:function showView(e,t,n){if(e=e.replace(RegExp("^"+this.remoteViewURLPrefix),""),""===e&&this.remoteViewURLPrefix&&(e="/"),e.replace(/^#/,"")===this.url)return this.trigger(F),!1;this.trigger(I);var i=this,o=function o(n){return i.viewContainer.show(n,t,e);},a=i._findViewElement(e),s=r.widgetInstance(a);return i.url=e.replace(/^#/,""),i.params=n,s&&s.reload&&(s.purge(),a=[]),this.trigger(P,{remote:0===a.length,url:e}),a[0]?(s||(s=i._createView(a)),o(s)):(this.serverNavigation?location.href=e:i._loadView(e,o),!0);},append:function append(e,t){var n,i,r,a=this.sandbox,s=(t||"").split("?")[0],c=this.container;return A.test(e)&&(e=RegExp.$1),a[0].innerHTML=e,c.append(a.children("script, style")),n=this._hideViews(a),r=n.first(),r.length||(n=r=a.wrapInner("<div data-role=view />").children()),s&&r.hide().attr(l("url"),s),this._setupLayouts(a),i=a.children(this._locate("modalview drawer")),c.append(a.children(this._locate("layout modalview drawer")).add(n)),o(i),this._createView(r);},_locate:function _locate(e){return this.$angular?x(e):k(e);},_findViewElement:function _findViewElement(e){var t,n=e.split("?")[0];return n?(t=this.container.children("["+l("url")+"='"+n+"']"),t[0]||-1!==n.indexOf("/")||(t=this.container.children("#"===n.charAt(0)?n:"#"+n)),t):this.rootView;},_createView:function _createView(e){return this.$angular?C(e,this.$angular[0]):r.initWidget(e,{defaultTransition:this.transition,loader:this.loader,container:this.container,getLayout:this.getLayoutProxy,modelScope:this.modelScope,reload:y(e,"reload")},s.roles);},_getLayout:function _getLayout(e){return""===e?null:e?this.layouts[e]:this.layouts[this.layout];},_loadView:function _loadView(t,n){this._xhr&&this._xhr.abort(),this.trigger(E),this._xhr=e.get(r.absoluteURL(t,this.remoteViewURLPrefix),"html").always(e.proxy(this,"_xhrComplete",n,t));},_xhrComplete:function _xhrComplete(e,t,n){var i=!0;if("object"==(typeof n==="undefined"?"undefined":_typeof(n))&&0===n.status){if(!(n.responseText&&n.responseText.length>0))return;i=!0,n=n.responseText;}this.trigger(R),i&&e(this.append(n,t));},_hideViews:function _hideViews(e){return e.children(this._locate("view splitview")).hide();},_setupLayouts:function _setupLayouts(t){var n,i=this;t.children(i._locate("layout")).each(function(){n=i.$angular?C(e(this),i.$angular[0]):r.initWidget(e(this),{},s.roles);var t=n.options.platform;t&&t!==a.application.os.name?n.destroy():i.layouts[n.options.id]=n;});}});r.mobile.ViewEngine=B,s.plugin(S),s.plugin(T);}(window.kendo.jQuery),window.kendo;},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("kendo.mobile.loader.min",["kendo.core.min"],e);}(function(){return function(e,t){var n=window.kendo,i=n.mobile.ui,o=i.Widget,r=e.map(n.eventMap,function(e){return e;}).join(" ").split(" "),a=o.extend({init:function init(t,n){var i=this,r=e('<div class="km-loader"><span class="km-loading km-spin"></span><span class="km-loading-left"></span><span class="km-loading-right"></span></div>');o.fn.init.call(i,r,n),i.container=t,i.captureEvents=!1,i._attachCapture(),r.append(i.options.loading).hide().appendTo(t);},options:{name:"Loader",loading:"<h1>Loading...</h1>",timeout:100},show:function show(){var e=this;clearTimeout(e._loading),e.options.loading!==!1&&(e.captureEvents=!0,e._loading=setTimeout(function(){e.element.show();},e.options.timeout));},hide:function hide(){this.captureEvents=!1,clearTimeout(this._loading),this.element.hide();},changeMessage:function changeMessage(e){this.options.loading=e,this.element.find(">h1").html(e);},transition:function transition(){this.captureEvents=!0,this.container.css("pointer-events","none");},transitionDone:function transitionDone(){this.captureEvents=!1,this.container.css("pointer-events","");},_attachCapture:function _attachCapture(){function e(e){n.captureEvents&&e.preventDefault();}var t,n=this;for(n.captureEvents=!1,t=0;r.length>t;t++){n.container[0].addEventListener(r[t],e,!0);}}});i.plugin(a);}(window.kendo.jQuery),window.kendo;},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("kendo.mobile.pane.min",["kendo.mobile.view.min","kendo.mobile.loader.min"],e);}(function(){return function(e,t){var n=window.kendo,i=n.mobile,o=n.roleSelector,r=i.ui,a=r.Widget,s=i.ViewEngine,l=r.View,c=i.ui.Loader,d="external",u="href",h="#!",f="navigate",p="viewShow",m="sameViewRequested",g=n.support.mobileOS,v=g.ios&&!g.appMode&&g.flatVersion>=700,_=/popover|actionsheet|modalview|drawer/,b="#:back",w=n.attrValue,y=a.extend({init:function init(e,t){var i=this;a.fn.init.call(i,e,t),t=i.options,e=i.element,e.addClass("km-pane"),i.options.collapsible&&e.addClass("km-collapsible-pane"),this.history=[],this.historyCallback=function(e,t,n){var o=i.transition;return i.transition=null,v&&n&&(o="none"),i.viewEngine.showView(e,o,t);},this._historyNavigate=function(e){if(e===b){if(1===i.history.length)return;i.history.pop(),e=i.history[i.history.length-1];}else i.history.push(e);i.historyCallback(e,n.parseQueryStringParams(e));},this._historyReplace=function(e){var t=n.parseQueryStringParams(e);i.history[i.history.length-1]=e,i.historyCallback(e,t);},i.loader=new c(e,{loading:i.options.loading}),i.viewEngine=new s({container:e,transition:t.transition,modelScope:t.modelScope,rootNeeded:!t.initial,serverNavigation:t.serverNavigation,remoteViewURLPrefix:t.root||"",layout:t.layout,$angular:t.$angular,loader:i.loader,showStart:function showStart(){i.loader.transition(),i.closeActiveDialogs();},after:function after(){i.loader.transitionDone();},viewShow:function viewShow(e){i.trigger(p,e);},loadStart:function loadStart(){i.loader.show();},loadComplete:function loadComplete(){i.loader.hide();},sameViewRequested:function sameViewRequested(){i.trigger(m);},viewTypeDetermined:function viewTypeDetermined(e){e.remote&&i.options.serverNavigation||i.trigger(f,{url:e.url});}}),this._setPortraitWidth(),n.onResize(function(){i._setPortraitWidth();}),i._setupAppLinks();},closeActiveDialogs:function closeActiveDialogs(){var t=this.element.find(o("actionsheet popover modalview")).filter(":visible");t.each(function(){n.widgetInstance(e(this),r).close();});},navigateToInitial:function navigateToInitial(){var e=this.options.initial;return e&&this.navigate(e),e;},options:{name:"Pane",portraitWidth:"",transition:"",layout:"",collapsible:!1,initial:null,modelScope:window,loading:"<h1>Loading...</h1>"},events:[f,p,m],append:function append(e){return this.viewEngine.append(e);},destroy:function destroy(){a.fn.destroy.call(this),this.viewEngine.destroy(),this.userEvents.destroy();},navigate:function navigate(e,t){e instanceof l&&(e=e.id),this.transition=t,this._historyNavigate(e);},replace:function replace(e,t){e instanceof l&&(e=e.id),this.transition=t,this._historyReplace(e);},bindToRouter:function bindToRouter(e){var t=this,i=this.history,o=this.viewEngine;e.bind("init",function(t){var r,a=t.url,s=e.pushState?a:"/";o.rootView.attr(n.attr("url"),s),r=i.length,"/"===a&&r&&(e.navigate(i[r-1],!0),t.preventDefault());}),e.bind("routeMissing",function(e){t.historyCallback(e.url,e.params,e.backButtonPressed)||e.preventDefault();}),e.bind("same",function(){t.trigger(m);}),t._historyNavigate=function(t){e.navigate(t);},t._historyReplace=function(t){e.replace(t);};},hideLoading:function hideLoading(){this.loader.hide();},showLoading:function showLoading(){this.loader.show();},changeLoadingMessage:function changeLoadingMessage(e){this.loader.changeMessage(e);},view:function view(){return this.viewEngine.view();},_setPortraitWidth:function _setPortraitWidth(){var e,t=this.options.portraitWidth;t&&(e=n.mobile.application.element.is(".km-vertical")?t:"auto",this.element.css("width",e));},_setupAppLinks:function _setupAppLinks(){var t=this,i="tab",r="[data-"+n.ns+"navigate-on-press]",a=e.map(["button","backbutton","detailbutton","listview-link"],function(e){return o(e)+":not("+r+")";}).join(",");this.element.handler(this).on("down",o(i)+","+r,"_mouseup").on("click",o(i)+","+a+","+r,"_appLinkClick"),this.userEvents=new n.UserEvents(this.element,{fastTap:!0,filter:a,tap:function tap(e){e.event.currentTarget=e.touch.currentTarget,t._mouseup(e.event);}}),this.element.css("-ms-touch-action","");},_appLinkClick:function _appLinkClick(t){var n=e(t.currentTarget).attr("href"),i=n&&"#"!==n[0]&&this.options.serverNavigation;i||w(e(t.currentTarget),"rel")==d||t.preventDefault();},_mouseup:function _mouseup(o){if(!(o.which>1||o.isDefaultPrevented())){var a=this,s=e(o.currentTarget),l=w(s,"transition"),c=w(s,"rel")||"",f=w(s,"target"),p=s.attr(u),m=v&&0===s[0].offsetHeight,g=p&&"#"!==p[0]&&this.options.serverNavigation;m||g||c===d||t===p||p===h||(s.attr(u,h),setTimeout(function(){s.attr(u,p);}),c.match(_)?(n.widgetInstance(e(p),r).openFor(s),"actionsheet"!==c&&"drawer"!==c||o.stopPropagation()):("_top"===f?a=i.application.pane:f&&(a=e("#"+f).data("kendoMobilePane")),a.navigate(p,l)),o.preventDefault());}}});y.wrap=function(e){e.is(o("view"))||(e=e.wrap("<div data-"+n.ns+'role="view" data-stretch="true"></div>').parent());var t=e.wrap('<div class="km-pane-wrapper"><div></div></div>').parent(),i=new y(t);return i.navigate(""),i;},r.plugin(y);}(window.kendo.jQuery),window.kendo;},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("kendo.mobile.popover.min",["kendo.popup.min","kendo.mobile.pane.min"],e);}(function(){return function(e,t){var n=window.kendo,i=n.mobile,o=i.ui,r="hide",a="open",s="close",l='<div class="km-popup-wrapper" />',c='<div class="km-popup-arrow" />',d='<div class="km-popup-overlay" />',u="km-up km-down km-left km-right",h=o.Widget,f={down:{origin:"bottom center",position:"top center"},up:{origin:"top center",position:"bottom center"},left:{origin:"center left",position:"center right",collision:"fit flip"},right:{origin:"center right",position:"center left",collision:"fit flip"}},p={animation:{open:{effects:"fade:in",duration:0},close:{effects:"fade:out",duration:400}}},m={horizontal:{offset:"top",size:"height"},vertical:{offset:"left",size:"width"}},g={up:"down",down:"up",left:"right",right:"left"},v=h.extend({init:function init(t,i){var o,a,s=this,u=t.closest(".km-modalview-wrapper"),g=t.closest(".km-root").children(".km-pane").first(),v=u[0]?u:g;i.viewport?g=i.viewport:g[0]||(g=window),i.container?v=i.container:v[0]||(v=document.body),o={viewport:g,copyAnchorStyles:!1,autosize:!0,open:function open(){s.overlay.show();},activate:e.proxy(s._activate,s),deactivate:function deactivate(){s.overlay.hide(),s._apiCall||s.trigger(r),s._apiCall=!1;}},h.fn.init.call(s,t,i),t=s.element,i=s.options,t.wrap(l).addClass("km-popup").show(),a=s.options.direction.match(/left|right/)?"horizontal":"vertical",s.dimensions=m[a],s.wrapper=t.parent().css({width:i.width,height:i.height}).addClass("km-popup-wrapper km-"+i.direction).hide(),s.arrow=e(c).prependTo(s.wrapper).hide(),s.overlay=e(d).appendTo(v).hide(),o.appendTo=s.overlay,i.className&&s.overlay.addClass(i.className),s.popup=new n.ui.Popup(s.wrapper,e.extend(!0,o,p,f[i.direction]));},options:{name:"Popup",width:240,height:"",direction:"down",container:null,viewport:null},events:[r],show:function show(t){this.popup.options.anchor=e(t),this.popup.open();},hide:function hide(){this._apiCall=!0,this.popup.close();},destroy:function destroy(){h.fn.destroy.call(this),this.popup.destroy(),this.overlay.remove();},target:function target(){return this.popup.options.anchor;},_activate:function _activate(){var t=this,n=t.options.direction,i=t.dimensions,o=i.offset,r=t.popup,a=r.options.anchor,s=e(a).offset(),l=e(r.element).offset(),c=r.flipped?g[n]:n,d=2*t.arrow[i.size](),h=t.element[i.size]()-t.arrow[i.size](),f=e(a)[i.size](),p=s[o]-l[o]+f/2;d>p&&(p=d),p>h&&(p=h),t.wrapper.removeClass(u).addClass("km-"+c),t.arrow.css(o,p).show();}}),_=h.extend({init:function init(t,i){var r,a=this;a.initialOpen=!1,h.fn.init.call(a,t,i),r=e.extend({className:"km-popover-root",hide:function hide(){a.trigger(s);}},this.options.popup),a.popup=new v(a.element,r),a.popup.overlay.on("move",function(e){e.target==a.popup.overlay[0]&&e.preventDefault();}),a.pane=new o.Pane(a.element,e.extend(this.options.pane,{$angular:this.options.$angular})),n.notify(a,o);},options:{name:"PopOver",popup:{},pane:{}},events:[a,s],open:function open(e){this.popup.show(e),this.initialOpen?this.pane.view()._invokeNgController():(this.pane.navigateToInitial()||this.pane.navigate(""),this.popup.popup._position(),this.initialOpen=!0);},openFor:function openFor(e){this.open(e),this.trigger(a,{target:this.popup.target()});},close:function close(){this.popup.hide();},destroy:function destroy(){h.fn.destroy.call(this),this.pane.destroy(),this.popup.destroy(),n.destroy(this.element);}});o.plugin(v),o.plugin(_);}(window.kendo.jQuery),window.kendo;},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("kendo.mobile.shim.min",["kendo.popup.min"],e);}(function(){return function(e,t){var n=window.kendo,i=n.mobile.ui,o=n.ui.Popup,r='<div class="km-shim"/>',a="hide",s=i.Widget,l=s.extend({init:function init(t,i){var l=this,c=n.mobile.application,d=n.support.mobileOS,u=c?c.os.name:d?d.name:"ios",h="ios"===u||"wp"===u||(c?c.os.skin:!1),f="blackberry"===u,p=i.align||(h?"bottom center":f?"center right":"center center"),m=i.position||(h?"bottom center":f?"center right":"center center"),g=i.effect||(h?"slideIn:up":f?"slideIn:left":"fade:in"),v=e(r).handler(l).hide();s.fn.init.call(l,t,i),l.shim=v,t=l.element,i=l.options,i.className&&l.shim.addClass(i.className),i.modal||l.shim.on("down","_hide"),(c?c.element:e(document.body)).append(v),l.popup=new o(l.element,{anchor:v,modal:!0,appendTo:v,origin:p,position:m,animation:{open:{effects:g,duration:i.duration},close:{duration:i.duration}},close:function close(e){var t=!1;l._apiCall||(t=l.trigger(a)),t&&e.preventDefault(),l._apiCall=!1;},deactivate:function deactivate(){v.hide();},open:function open(){v.show();}}),n.notify(l);},events:[a],options:{name:"Shim",modal:!1,align:t,position:t,effect:t,duration:200},show:function show(){this.popup.open();},hide:function hide(){this._apiCall=!0,this.popup.close();},destroy:function destroy(){s.fn.destroy.call(this),this.shim.kendoDestroy(),this.popup.destroy(),this.shim.remove();},_hide:function _hide(t){t&&e.contains(this.shim.children().children(".k-popup")[0],t.target)||this.popup.close();}});i.plugin(l);}(window.kendo.jQuery),window.kendo;},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("kendo.mobile.actionsheet.min",["kendo.mobile.popover.min","kendo.mobile.shim.min"],e);}(function(){return function(e,t){var n=window.kendo,i=n.support,o=n.mobile.ui,r=o.Shim,a=o.Popup,s=o.Widget,l="open",c="close",d="command",u="li>a",h="actionsheetContext",f='<div class="km-actionsheet-wrapper" />',p=n.template('<li class="km-actionsheet-cancel"><a href="\\#">#:cancel#</a></li>'),m=s.extend({init:function init(t,l){var c,d,h,m=this,g=i.mobileOS;s.fn.init.call(m,t,l),l=m.options,h=l.type,t=m.element,d="auto"===h?g&&g.tablet:"tablet"===h,c=d?a:r,l.cancelTemplate&&(p=n.template(l.cancelTemplate)),t.addClass("km-actionsheet").append(p({cancel:m.options.cancel})).wrap(f).on("up",u,"_click").on("click",u,n.preventDefault),m.view().bind("destroy",function(){m.destroy();}),m.wrapper=t.parent().addClass(h?" km-actionsheet-"+h:""),m.shim=new c(m.wrapper,e.extend({modal:g.ios&&7>g.majorVersion,className:"km-actionsheet-root"},m.options.popup)),m._closeProxy=e.proxy(m,"_close"),m._shimHideProxy=e.proxy(m,"_shimHide"),m.shim.bind("hide",m._shimHideProxy),d&&n.onResize(m._closeProxy),n.notify(m,o);},events:[l,c,d],options:{name:"ActionSheet",cancel:"Cancel",type:"auto",popup:{height:"auto"}},open:function open(t,n){var i=this;i.target=e(t),i.context=n,i.shim.show(t);},close:function close(){this.context=this.target=null,this.shim.hide();},openFor:function openFor(e){var t=this,n=e.data(h);t.open(e,n),t.trigger(l,{target:e,context:n});},destroy:function destroy(){s.fn.destroy.call(this),n.unbindResize(this._closeProxy),this.shim.destroy();},_click:function _click(t){var i,o,r,a;t.isDefaultPrevented()||(i=e(t.currentTarget),o=i.data("action"),o&&(r={target:this.target,context:this.context},a=this.options.$angular,a?this.element.injector().get("$parse")(o)(a[0])(r):n.getter(o)(window)(r)),this.trigger(d,{target:this.target,context:this.context,currentTarget:i}),t.preventDefault(),this._close());},_shimHide:function _shimHide(e){this.trigger(c)?e.preventDefault():this.context=this.target=null;},_close:function _close(e){this.trigger(c)?e.preventDefault():this.close();}});o.plugin(m);}(window.kendo.jQuery),window.kendo;},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("kendo.progressbar.min",["kendo.core.min"],e);}(function(){return function(e,t){var n=window.kendo,i=n.ui,o=i.Widget,r="horizontal",a="vertical",s=0,l=100,c=0,d=5,u="k-progressbar",h="k-progressbar-reverse",f="k-progressbar-indeterminate",p="k-complete",m="k-state-selected",g="k-progress-status",v="k-state-selected",_="k-state-default",b="k-state-disabled",w={VALUE:"value",PERCENT:"percent",CHUNK:"chunk"},y="change",k="complete",x="boolean",C=Math,S=e.extend,T=e.proxy,D=100,A=400,E=3,R={progressStatus:"<span class='k-progress-status-wrap'><span class='k-progress-status'></span></span>"},I=o.extend({init:function init(e,t){var n=this;o.fn.init.call(this,e,t),t=n.options,n._progressProperty=t.orientation===r?"width":"height",n._fields(),t.value=n._validateValue(t.value),n._validateType(t.type),n._wrapper(),n._progressAnimation(),t.value!==t.min&&t.value!==!1&&n._updateProgress();},setOptions:function setOptions(e){var t=this;o.fn.setOptions.call(t,e),e.hasOwnProperty("reverse")&&t.wrapper.toggleClass("k-progressbar-reverse",e.reverse),e.hasOwnProperty("enable")&&t.enable(e.enable),t._progressAnimation(),t._validateValue(),t._updateProgress();},events:[y,k],options:{name:"ProgressBar",orientation:r,reverse:!1,min:s,max:l,value:c,enable:!0,type:w.VALUE,chunkCount:d,showStatus:!0,animation:{}},_fields:function _fields(){var t=this;t._isStarted=!1,t.progressWrapper=t.progressStatus=e();},_validateType:function _validateType(i){var o=!1;if(e.each(w,function(e,n){return n===i?(o=!0,!1):t;}),!o)throw Error(n.format("Invalid ProgressBar type '{0}'",i));},_wrapper:function _wrapper(){var e,t=this,n=t.wrapper=t.element,i=t.options,o=i.orientation;n.addClass("k-widget "+u),n.addClass(u+"-"+(o===r?r:a)),i.enable===!1&&n.addClass(b),i.reverse&&n.addClass(h),i.value===!1&&n.addClass(f),i.type===w.CHUNK?t._addChunkProgressWrapper():i.showStatus&&(t.progressStatus=t.wrapper.prepend(R.progressStatus).find("."+g),e=i.value!==!1?i.value:i.min,t.progressStatus.text(i.type===w.VALUE?e:t._calculatePercentage(e).toFixed()+"%"));},value:function value(e){return this._value(e);},_value:function _value(e){var n,i=this,o=i.options;return e===t?o.value:((typeof e==="undefined"?"undefined":_typeof(e))!==x?(e=i._roundValue(e),isNaN(e)||(n=i._validateValue(e),n!==o.value&&(i.wrapper.removeClass(f),o.value=n,i._isStarted=!0,i._updateProgress()))):e||(i.wrapper.addClass(f),o.value=!1),t);},_roundValue:function _roundValue(e){e=parseFloat(e);var t=C.pow(10,E);return C.floor(e*t)/t;},_validateValue:function _validateValue(e){var t=this,n=t.options;if(e!==!1){if(n.min>=e||e===!0)return n.min;if(e>=n.max)return n.max;}else if(e===!1)return!1;return isNaN(t._roundValue(e))?n.min:e;},_updateProgress:function _updateProgress(){var e=this,t=e.options,n=e._calculatePercentage();t.type===w.CHUNK?(e._updateChunks(n),e._onProgressUpdateAlways(t.value)):e._updateProgressWrapper(n);},_updateChunks:function _updateChunks(e){var t,n=this,i=n.options,o=i.chunkCount,s=parseInt(D/o*100,10)/100,l=parseInt(100*e,10)/100,c=C.floor(l/s);t=n.wrapper.find(i.orientation===r&&!i.reverse||i.orientation===a&&i.reverse?"li.k-item:lt("+c+")":"li.k-item:gt(-"+(c+1)+")"),n.wrapper.find("."+v).removeClass(v).addClass(_),t.removeClass(_).addClass(v);},_updateProgressWrapper:function _updateProgressWrapper(e){var t=this,n=t.options,i=t.wrapper.find("."+m),o=t._isStarted?t._animation.duration:0,r={};0===i.length&&t._addRegularProgressWrapper(),r[t._progressProperty]=e+"%",t.progressWrapper.animate(r,{duration:o,start:T(t._onProgressAnimateStart,t),progress:T(t._onProgressAnimate,t),complete:T(t._onProgressAnimateComplete,t,n.value),always:T(t._onProgressUpdateAlways,t,n.value)});},_onProgressAnimateStart:function _onProgressAnimateStart(){this.progressWrapper.show();},_onProgressAnimate:function _onProgressAnimate(e){var t,n=this,i=n.options,o=parseFloat(e.elem.style[n._progressProperty],10);i.showStatus&&(t=1e4/parseFloat(n.progressWrapper[0].style[n._progressProperty]),n.progressWrapper.find(".k-progress-status-wrap").css(n._progressProperty,t+"%")),i.type!==w.CHUNK&&98>=o&&n.progressWrapper.removeClass(p);},_onProgressAnimateComplete:function _onProgressAnimateComplete(e){var t,n=this,i=n.options,o=parseFloat(n.progressWrapper[0].style[n._progressProperty]);i.type!==w.CHUNK&&o>98&&n.progressWrapper.addClass(p),i.showStatus&&(t=i.type===w.VALUE?e:i.type==w.PERCENT?n._calculatePercentage(e).toFixed()+"%":C.floor(n._calculatePercentage(e))+"%",n.progressStatus.text(t)),e===i.min&&n.progressWrapper.hide();},_onProgressUpdateAlways:function _onProgressUpdateAlways(e){var t=this,n=t.options;t._isStarted&&t.trigger(y,{value:e}),e===n.max&&t._isStarted&&t.trigger(k,{value:n.max});},enable:function enable(e){var n=this,i=n.options;i.enable=t===e?!0:e,n.wrapper.toggleClass(b,!i.enable);},destroy:function destroy(){var e=this;o.fn.destroy.call(e);},_addChunkProgressWrapper:function _addChunkProgressWrapper(){var e,t=this,n=t.options,i=t.wrapper,o=D/n.chunkCount,r="";for(1>=n.chunkCount&&(n.chunkCount=1),r+="<ul class='k-reset'>",e=n.chunkCount-1;e>=0;e--){r+="<li class='k-item k-state-default'></li>";}r+="</ul>",i.append(r).find(".k-item").css(t._progressProperty,o+"%").first().addClass("k-first").end().last().addClass("k-last"),t._normalizeChunkSize();},_normalizeChunkSize:function _normalizeChunkSize(){var e=this,t=e.options,n=e.wrapper.find(".k-item:last"),i=parseFloat(n[0].style[e._progressProperty]),o=D-t.chunkCount*i;o>0&&n.css(e._progressProperty,i+o+"%");},_addRegularProgressWrapper:function _addRegularProgressWrapper(){var t=this;t.progressWrapper=e("<div class='"+m+"'></div>").appendTo(t.wrapper),t.options.showStatus&&(t.progressWrapper.append(R.progressStatus),t.progressStatus=t.wrapper.find("."+g));},_calculateChunkSize:function _calculateChunkSize(){var e=this,t=e.options.chunkCount,n=e.wrapper.find("ul.k-reset");return(parseInt(n.css(e._progressProperty),10)-(t-1))/t;},_calculatePercentage:function _calculatePercentage(e){var n=this,i=n.options,o=e!==t?e:i.value,r=i.min,a=i.max;return n._onePercent=C.abs((a-r)/100),C.abs((o-r)/n._onePercent);},_progressAnimation:function _progressAnimation(){var e=this,t=e.options,n=t.animation;e._animation=n===!1?{duration:0}:S({duration:A},t.animation);}});n.ui.plugin(I);}(window.kendo.jQuery),window.kendo;},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("pdf/core.min",["kendo.core.min","util/main.min"],e);}(function(){!function(e,t,n){"use strict";function i(){function e(){var t,o,r;for(t=0;arguments.length>t;++t){if(o=arguments[t],o===n)throw Error("Cannot output undefined to PDF");if(o instanceof y)o.beforeRender(e),o.render(e);else if(V(o))m(o,e);else if(p(o))g(o,e);else if("number"==typeof o){if(isNaN(o))throw Error("Cannot output NaN to PDF");r=o.toFixed(7),r.indexOf(".")>=0&&(r=r.replace(/\.?0+$/,"")),"-0"==r&&(r="0"),i.writeString(r);}else /string|boolean/.test(typeof o==="undefined"?"undefined":_typeof(o))?i.writeString(o+""):"function"==typeof o.get?i.write(o.get()):"object"==(typeof o==="undefined"?"undefined":_typeof(o))&&(o?e(new G(o)):i.writeString("null"));}}var t=0,i=M();return e.writeData=function(e){i.write(e);},e.withIndent=function(n){++t,n(e),--t;},e.indent=function(){e(ie,u("",2*t,"  ")),e.apply(null,arguments);},e.offset=function(){return i.offset();},e.toString=function(){throw Error("FIX CALLER");},e.get=function(){return i.get();},e.stream=function(){return i;},e;}function o(e,t){var n=e.beforeRender,i=e.render;e.beforeRender=function(){},e.render=function(e){e(t," 0 R");},e.renderFull=function(o){e._offset=o.offset(),o(t," 0 obj "),n.call(e,o),i.call(e,o),o(" endobj");};}function r(e){var t,n,i;if("function"!=typeof e&&(t=e,e=function e(_e2,n){return _e2 in t?t[_e2]:n;}),n=e("paperSize",ae.a4),!n)return{};if("string"==typeof n&&(n=ae[n.toLowerCase()],null==n))throw Error("Unknown paper size");return n[0]=w(n[0]),n[1]=w(n[1]),e("landscape",!1)&&(n=[Math.max(n[0],n[1]),Math.min(n[0],n[1])]),i=e("margin"),i&&("string"==typeof i||"number"==typeof i?(i=w(i,0),i={left:i,top:i,right:i,bottom:i}):i={left:w(i.left,0),top:w(i.top,0),right:w(i.right,0),bottom:w(i.bottom,0)},e("addMargin")&&(n[0]+=i.left+i.right,n[1]+=i.top+i.bottom)),{paperSize:n,margin:i};}function a(e){function t(t,n){return e&&null!=e[t]?e[t]:n;}var n,a,s=this,l=i(),c=0,d=[];s.getOption=t,s.attach=function(e){return d.indexOf(e)<0&&(o(e,++c),d.push(e)),e;},s.pages=[],s.FONTS={},s.IMAGES={},s.GRAD_COL_FUNCTIONS={},s.GRAD_OPC_FUNCTIONS={},s.GRAD_COL={},s.GRAD_OPC={},n=s.attach(new Y()),a=s.attach(new K()),n.setPages(a),s.addPage=function(e){var t,n,o,l=r(function(t,n){return e&&null!=e[t]?e[t]:n;}),c=l.paperSize,d=l.margin,u=c[0],h=c[1];return d&&(u-=d.left+d.right,h-=d.top+d.bottom),t=new $(i(),null,!0),n={Contents:s.attach(t),Parent:a,MediaBox:[0,0,c[0],c[1]]},o=new Z(s,n),o._content=t,a.addPage(s.attach(o)),o.transform(1,0,0,-1,0,c[1]),d&&(o.translate(d.left,d.top),o.rect(0,0,u,h),o.clip()),s.pages.push(o),o;},s.render=function(){var e,i;for(l("%PDF-1.4",ie,"%",ie,ie),e=0;d.length>e;++e){d[e].renderFull(l),l(ie,ie);}for(i=l.offset(),l("xref",ie,0," ",d.length+1,ie),l("0000000000 65535 f ",ie),e=0;d.length>e;++e){l(h(d[e]._offset,10)," 00000 n ",ie);}return l(ie),l("trailer",ie),l(new G({Size:d.length+1,Root:n,Info:new G({Producer:new U(t("producer","Kendo UI PDF Generator v."+te.version)),Title:new U(t("title","")),Author:new U(t("author","")),Subject:new U(t("subject","")),Keywords:new U(t("keywords","")),Creator:new U(t("creator","Kendo UI PDF Generator v."+te.version)),CreationDate:t("date",new Date())})}),ie,ie),l("startxref",ie,i,ie),l("%%EOF",ie),l.stream().offset(0);};}function s(t,n){function i(){e.console&&(e.console.error?e.console.error("Cannot load URL: %s",t):e.console.log("Cannot load URL: %s",t)),n(null);}var o=new XMLHttpRequest();o.open("GET",t,!0),ne&&(o.responseType="arraybuffer"),o.onload=function(){200==o.status||304==o.status?n(ne?new Uint8Array(o.response):new VBArray(o.responseBody).toArray()):i();},o.onerror=i,o.send(null);}function l(e,t){var n=se[e];n?t(n):s(e,function(n){if(null==n)throw Error("Cannot load font from "+e);var i=new te.pdf.TTFFont(n);se[e]=i,t(i);});}function c(e,t){function i(e){c.src=e,c.complete&&!te.support.browser.msie?r():(c.onload=r,c.onerror=o);}function o(){t(le[e]="TAINTED");}function r(){var i,r,l,d,u,h,f,p,m,g,v,_;if(s&&/^image\/jpe?g$/i.test(s.type))return i=new FileReader(),i.onload=function(){c=new C(c.width,c.height,M(new Uint8Array(this.result))),URL.revokeObjectURL(a),t(le[e]=c);},i.readAsArrayBuffer(s),n;r=document.createElement("canvas"),r.width=c.width,r.height=c.height,l=r.getContext("2d"),l.drawImage(c,0,0);try{d=l.getImageData(0,0,c.width,c.height);}catch(b){return o();}finally{a&&URL.revokeObjectURL(a);}for(u=!1,h=M(),f=M(),p=d.data,m=0;p.length>m;){h.writeByte(p[m++]),h.writeByte(p[m++]),h.writeByte(p[m++]),g=p[m++],255>g&&(u=!0),f.writeByte(g);}u?c=new S(c.width,c.height,h,f):(v=r.toDataURL("image/jpeg"),v=v.substr(v.indexOf(";base64,")+8),_=M(),_.writeBase64(v),_.offset(0),c=new C(c.width,c.height,_)),t(le[e]=c);}var a,s,l,c=le[e];c?t(c):(c=new Image(),/^data:/i.test(e)||(c.crossOrigin="Anonymous"),ne&&!/^data:/i.test(e)?(l=new XMLHttpRequest(),l.onload=function(){s=l.response,a=URL.createObjectURL(s),i(a);},l.onerror=o,l.open("GET",e,!0),l.responseType="blob",l.send()):i(e));}function d(e){return function(t,n){var i=t.length,o=i;if(0===i)return n();for(;o-->0;){e(t[o],function(){0===--i&&n();});}};}function u(e,t,n){for(;t>e.length;){e=n+e;}return e;}function h(e,t){return u(e+"",t,"0");}function f(e,t){return Object.prototype.hasOwnProperty.call(e,t);}function p(e){return e instanceof Date;}function m(e,t){t("["),e.length>0&&t.withIndent(function(){for(var n=0;e.length>n;++n){n>0&&n%8===0?t.indent(e[n]):t(" ",e[n]);}}),t(" ]");}function g(e,t){t("(D:",h(e.getUTCFullYear(),4),h(e.getUTCMonth()+1,2),h(e.getUTCDate(),2),h(e.getUTCHours(),2),h(e.getUTCMinutes(),2),h(e.getUTCSeconds(),2),"Z)");}function v(e){return e*(72/25.4);}function _(e){return v(10*e);}function b(e){return 72*e;}function w(e,n){var i,o;if("number"==typeof e)return e;if("string"==typeof e&&(i=/^\s*([0-9.]+)\s*(mm|cm|in|pt)\s*$/.exec(e),i&&(o=t(i[1]),!isNaN(o))))return"pt"==i[2]?o:{mm:v,cm:_,"in":b}[i[2]](o);if(null!=n)return n;throw Error("Can't parse unit: "+e);}function y(){}function k(e,t,n){n||(n=y),e.prototype=new n();for(var i in t){f(t,i)&&(e.prototype[i]=t[i]);}return e;}function x(e){return f(q,e)?q[e]:q[e]=new j(e);}function C(e,t,n){this.asStream=function(){var i=new $(n,{Type:x("XObject"),Subtype:x("Image"),Width:e,Height:t,BitsPerComponent:8,ColorSpace:x("DeviceRGB"),Filter:x("DCTDecode")});return i._resourceName=x("I"+ ++oe),i;};}function S(e,t,n,i){this.asStream=function(o){var r=new $(i,{Type:x("XObject"),Subtype:x("Image"),Width:e,Height:t,BitsPerComponent:8,ColorSpace:x("DeviceGray")},!0),a=new $(n,{Type:x("XObject"),Subtype:x("Image"),Width:e,Height:t,BitsPerComponent:8,ColorSpace:x("DeviceRGB"),SMask:o.attach(r)},!0);return a._resourceName=x("I"+ ++oe),a;};}function T(e){return e.map(function(e){return V(e)?T(e):"number"==typeof e?(Math.round(1e3*e)/1e3).toFixed(3):e;}).join(" ");}function D(e,t,n,i,o,r,a){var s=T([t,n,i,o,r,a]),l=e.GRAD_COL_FUNCTIONS[s];return l||(l=e.GRAD_COL_FUNCTIONS[s]=e.attach(new G({FunctionType:2,Domain:[0,1],Range:[0,1,0,1,0,1],N:1,C0:[t,n,i],C1:[o,r,a]}))),l;}function A(e,t,n){var i=T([t,n]),o=e.GRAD_OPC_FUNCTIONS[i];return o||(o=e.GRAD_OPC_FUNCTIONS[i]=e.attach(new G({FunctionType:2,Domain:[0,1],Range:[0,1],N:1,C0:[t],C1:[n]}))),o;}function E(e,t){function n(e){return 1==e.length?e[0]:{FunctionType:3,Functions:e,Domain:[0,1],Bounds:u,Encode:h};}var i,o,r,a,s,l=!1,c=[],d=[],u=[],h=[];for(i=1;t.length>i;++i){o=t[i-1],r=t[i],a=o.color,s=r.color,d.push(D(e,a.r,a.g,a.b,s.r,s.g,s.b)),(1>a.a||1>s.a)&&(l=!0),u.push(r.offset),h.push(0,1);}if(l)for(i=1;t.length>i;++i){o=t[i-1],r=t[i],a=o.color,s=r.color,c.push(A(e,a.a,s.a));}return u.pop(),{hasAlpha:l,colors:n(d),opacities:l?n(c):null};}function R(e,t,n,i,o,r){var a,s,l;return r||(l=[t].concat(i),n.forEach(function(e){l.push(e.offset,e.color.r,e.color.g,e.color.b);}),s=T(l),a=e.GRAD_COL[s]),a||(a=new G({Type:x("Shading"),ShadingType:t?3:2,ColorSpace:x("DeviceRGB"),Coords:i,Domain:[0,1],Function:o,Extend:[!0,!0]}),e.attach(a),a._resourceName="S"+ ++oe,s&&(e.GRAD_COL[s]=a)),a;}function I(e,t,n,i,o,r){var a,s,l;return r||(l=[t].concat(i),n.forEach(function(e){l.push(e.offset,e.color.a);}),s=T(l),a=e.GRAD_OPC[s]),a||(a=new G({Type:x("ExtGState"),AIS:!1,CA:1,ca:1,SMask:{Type:x("Mask"),S:x("Luminosity"),G:e.attach(new $("/a0 gs /s0 sh",{Type:x("XObject"),Subtype:x("Form"),FormType:1,BBox:r?[r.left,r.top+r.height,r.left+r.width,r.top]:[0,1,1,0],Group:{Type:x("Group"),S:x("Transparency"),CS:x("DeviceGray"),I:!0},Resources:{ExtGState:{a0:{CA:1,ca:1}},Shading:{s0:{ColorSpace:x("DeviceGray"),Coords:i,Domain:[0,1],ShadingType:t?3:2,Function:o,Extend:[!0,!0]}}}}))}}),e.attach(a),a._resourceName="O"+ ++oe,s&&(e.GRAD_OPC[s]=a)),a;}function F(e,t,n){var i="radial"==t.type,o=E(e,t.stops),r=i?[t.start.x,t.start.y,t.start.r,t.end.x,t.end.y,t.end.r]:[t.start.x,t.start.y,t.end.x,t.end.y],a=R(e,i,t.stops,r,o.colors,t.userSpace&&n),s=o.hasAlpha?I(e,i,t.stops,r,o.opacities,t.userSpace&&n):null;return{hasAlpha:o.hasAlpha,shading:a,opacity:s};}function M(t){function n(){return T>=D;}function i(){return D>T?t[T++]:0;}function o(e){y(T),t[T++]=255&e,T>D&&(D=T);}function r(){return i()<<8|i();}function a(e){o(e>>8),o(e);}function s(){var e=r();return e>=32768?e-65536:e;}function l(e){a(0>e?e+65536:e);}function c(){return 65536*r()+r();}function d(e){a(e>>>16&65535),a(65535&e);}function u(){var e=c();return e>=2147483648?e-4294967296:e;}function h(e){d(0>e?e+4294967296:e);}function f(){return c()/65536;}function p(e){d(Math.round(65536*e));}function m(){return u()/65536;}function g(e){h(Math.round(65536*e));}function v(e){return w(e,i);}function _(e){return String.fromCharCode.apply(String,v(e));}function b(e){for(var t=0;e.length>t;++t){o(e.charCodeAt(t));}}function w(e,t){for(var n=Array(e),i=0;e>i;++i){n[i]=t();}return n;}var y,k,x,C,S,T=0,D=0;return null==t?t=ne?new Uint8Array(256):[]:D=t.length,y=ne?function(e){if(e>=t.length){var n=new Uint8Array(Math.max(e+256,2*t.length));n.set(t,0),t=n;}}:function(){},k=ne?function(){return new Uint8Array(t.buffer,0,D);}:function(){return t;},x=ne?function(e){if("string"==typeof e)return b(e);var n=e.length;y(T+n),t.set(e,T),T+=n,T>D&&(D=T);}:function(e){if("string"==typeof e)return b(e);for(var t=0;e.length>t;++t){o(e[t]);}},C=ne?function(e,n){if(t.buffer.slice)return new Uint8Array(t.buffer.slice(e,e+n));var i=new Uint8Array(n);return i.set(new Uint8Array(t.buffer,e,n)),i;}:function(e,n){return t.slice(e,e+n);},S={eof:n,readByte:i,writeByte:o,readShort:r,writeShort:a,readLong:c,writeLong:d,readFixed:f,writeFixed:p,readShort_:s,writeShort_:l,readLong_:u,writeLong_:h,readFixed_:m,writeFixed_:g,read:v,write:x,readString:_,writeString:b,times:w,get:k,slice:C,offset:function offset(e){return null!=e?(T=e,S):T;},skip:function skip(e){T+=e;},toString:function toString(){throw Error("FIX CALLER.  BinaryStream is no longer convertible to string!");},length:function length(){return D;},saveExcursion:function saveExcursion(e){var t=T;try{return e();}finally{T=t;}},writeBase64:function writeBase64(t){e.atob?b(e.atob(t)):x(re.decode(t));},base64:function base64(){return re.encode(k());}};}function P(e){return e.replace(/^\s*(['"])(.*)\1\s*$/,"$2");}function z(e){var t,n=/^\s*((normal|italic)\s+)?((normal|small-caps)\s+)?((normal|bold|\d+)\s+)?(([0-9.]+)(px|pt))(\/(([0-9.]+)(px|pt)|normal))?\s+(.*?)\s*$/i,i=n.exec(e);return i?(t=i[8]?parseInt(i[8],10):12,{italic:i[2]&&"italic"==i[2].toLowerCase(),variant:i[4],bold:i[6]&&/bold|700/i.test(i[6]),fontSize:t,lineHeight:i[12]?"normal"==i[12]?t:parseInt(i[12],10):null,fontFamily:i[14].split(/\s*,\s*/g).map(P)}):{fontSize:12,fontFamily:"sans-serif"};}function B(e){function t(t){return e.bold&&(t+="|bold"),e.italic&&(t+="|italic"),t.toLowerCase();}var n,i,o,r=e.fontFamily;if(r instanceof Array)for(o=0;r.length>o&&(n=t(r[o]),!(i=ee[n]));++o){}else i=ee[r.toLowerCase()];for(;"function"==typeof i;){i=i();}return i||(i="Times-Roman"),i;}function L(e,t){e=e.toLowerCase(),ee[e]=function(){return ee[t];},ee[e+"|bold"]=function(){return ee[t+"|bold"];},ee[e+"|italic"]=function(){return ee[t+"|italic"];},ee[e+"|bold|italic"]=function(){return ee[t+"|bold|italic"];};}function H(e,t){if(1==arguments.length)for(var n in e){f(e,n)&&H(n,e[n]);}else switch(e=e.toLowerCase(),ee[e]=t,e){case"dejavu sans":ee["sans-serif"]=t;break;case"dejavu sans|bold":ee["sans-serif|bold"]=t;break;case"dejavu sans|italic":ee["sans-serif|italic"]=t;break;case"dejavu sans|bold|italic":ee["sans-serif|bold|italic"]=t;break;case"dejavu serif":ee.serif=t;break;case"dejavu serif|bold":ee["serif|bold"]=t;break;case"dejavu serif|italic":ee["serif|italic"]=t;break;case"dejavu serif|bold|italic":ee["serif|bold|italic"]=t;break;case"dejavu mono":ee.monospace=t;break;case"dejavu mono|bold":ee["monospace|bold"]=t;break;case"dejavu mono|italic":ee["monospace|italic"]=t;break;case"dejavu mono|bold|italic":ee["monospace|bold|italic"]=t;}}function N(e,t){var n=e[0],i=e[1],o=e[2],r=e[3],a=e[4],s=e[5],l=t[0],c=t[1],d=t[2],u=t[3],h=t[4],f=t[5];return[n*l+i*d,n*c+i*u,o*l+r*d,o*c+r*u,a*l+s*d+h,a*c+s*u+f];}function O(e){return 1===e[0]&&0===e[1]&&0===e[2]&&1===e[3]&&0===e[4]&&0===e[5];}var V,U,W,j,q,G,$,Y,K,Q,X,J,Z,ee,te=e.kendo,ne=!!e.Uint8Array,ie="\n",oe=0,re=function(){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";return{decode:function decode(t){for(var n,i,o,r,a,s,l,c=t.replace(/[^A-Za-z0-9\+\/\=]/g,""),d=0,u=c.length,h=[];u>d;){n=e.indexOf(c.charAt(d++)),i=e.indexOf(c.charAt(d++)),o=e.indexOf(c.charAt(d++)),r=e.indexOf(c.charAt(d++)),a=n<<2|i>>>4,s=(15&i)<<4|o>>>2,l=(3&o)<<6|r,h.push(a),64!=o&&h.push(s),64!=r&&h.push(l);}return h;},encode:function encode(t){for(var n,i,o,r,a,s,l,c=0,d=t.length,u="";d>c;){n=t[c++],i=t[c++],o=t[c++],r=n>>>2,a=(3&n)<<4|i>>>4,s=(15&i)<<2|o>>>6,l=63&o,c-d==2?s=l=64:c-d==1&&(l=64),u+=e.charAt(r)+e.charAt(a)+e.charAt(s)+e.charAt(l);}return u;}};}(),ae={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],executive:[521.86,756],folio:[612,936],legal:[612,1008],letter:[612,792],tabloid:[792,1224]},se={"Times-Roman":!0,"Times-Bold":!0,"Times-Italic":!0,"Times-BoldItalic":!0,Helvetica:!0,"Helvetica-Bold":!0,"Helvetica-Oblique":!0,"Helvetica-BoldOblique":!0,Courier:!0,"Courier-Bold":!0,"Courier-Oblique":!0,"Courier-BoldOblique":!0,Symbol:!0,ZapfDingbats:!0},le={},ce=d(l),de=d(c);a.prototype={loadFonts:ce,loadImages:de,getFont:function getFont(e){var t=this.FONTS[e];if(!t){if(t=se[e],!t)throw Error("Font "+e+" has not been loaded");t=this.attach(t===!0?new Q(e):new X(this,t)),this.FONTS[e]=t;}return t;},getImage:function getImage(e){var t=this.IMAGES[e];if(!t){if(t=le[e],!t)throw Error("Image "+e+" has not been loaded");if("TAINTED"===t)return null;t=this.IMAGES[e]=this.attach(t.asStream(this));}return t;},getOpacityGS:function getOpacityGS(e,n){var i,o,r,a=t(e).toFixed(3);return e=t(a),a+=n?"S":"F",i=this._opacityGSCache||(this._opacityGSCache={}),o=i[a],o||(r={Type:x("ExtGState")},n?r.CA=e:r.ca=e,o=this.attach(new G(r)),o._resourceName=x("GS"+ ++oe),i[a]=o),o;},dict:function dict(e){return new G(e);},name:function name(e){return x(e);},stream:function stream(e,t){return new $(t,e);}},V=Array.isArray||function(e){return e instanceof Array;},y.prototype.beforeRender=function(){},U=k(function(e){this.value=e;},{render:function render(e){var t,n="",i=this.escape();for(t=0;i.length>t;++t){n+=String.fromCharCode(255&i.charCodeAt(t));}e("(",n,")");},escape:function escape(){return this.value.replace(/([\(\)\\])/g,"\\$1");},toString:function toString(){return this.value;}}),W=k(function(e){this.value=e;},{render:function render(e){e("<");for(var t=0;this.value.length>t;++t){e(h(this.value.charCodeAt(t).toString(16),4));}e(">");}},U),j=k(function(e){this.name=e;},{render:function render(e){e("/"+this.escape());},escape:function escape(){return this.name.replace(/[^\x21-\x7E]/g,function(e){return"#"+h(e.charCodeAt(0).toString(16),2);});},toString:function toString(){return this.name;}}),q={},j.get=x,G=k(function(e){this.props=e;},{render:function render(e){var t=this.props,n=!0;e("<<"),e.withIndent(function(){for(var i in t){f(t,i)&&!/^_/.test(i)&&(n=!1,e.indent(x(i)," ",t[i]));}}),n||e.indent(),e(">>");}}),$=k(function(e,t,n){if("string"==typeof e){var i=M();i.write(e),e=i;}this.data=e,this.props=t||{},this.compress=n;},{render:function render(t){var n=this.data.get(),i=this.props;this.compress&&e.pako&&"function"==typeof e.pako.deflate&&(i.Filter?i.Filter instanceof Array||(i.Filter=[i.Filter]):i.Filter=[],i.Filter.unshift(x("FlateDecode")),n=e.pako.deflate(n)),i.Length=n.length,t(new G(i)," stream",ie),t.writeData(n),t(ie,"endstream");}}),Y=k(function(e){e=this.props=e||{},e.Type=x("Catalog");},{setPages:function setPages(e){this.props.Pages=e;}},G),K=k(function(){this.props={Type:x("Pages"),Kids:[],Count:0};},{addPage:function addPage(e){this.props.Kids.push(e),this.props.Count++;}},G),Q=k(function(e){this.props={Type:x("Font"),Subtype:x("Type1"),BaseFont:x(e)},this._resourceName=x("F"+ ++oe);},{encodeText:function encodeText(e){return new U(e+"");}},G),X=k(function(e,t,n){var i,o;n=this.props=n||{},n.Type=x("Font"),n.Subtype=x("Type0"),n.Encoding=x("Identity-H"),this._pdf=e,this._font=t,this._sub=t.makeSubset(),this._resourceName=x("F"+ ++oe),i=t.head,this.name=t.psName,o=this.scale=t.scale,this.bbox=[i.xMin*o,i.yMin*o,i.xMax*o,i.yMax*o],this.italicAngle=t.post.italicAngle,this.ascent=t.ascent*o,this.descent=t.descent*o,this.lineGap=t.lineGap*o,this.capHeight=t.os2.capHeight||this.ascent,this.xHeight=t.os2.xHeight||0,this.stemV=0,this.familyClass=(t.os2.familyClass||0)>>8,this.isSerif=this.familyClass>=1&&7>=this.familyClass,this.isScript=10==this.familyClass,this.flags=(t.post.isFixedPitch?1:0)|(this.isSerif?2:0)|(this.isScript?8:0)|(0!==this.italicAngle?64:0)|32;},{encodeText:function encodeText(e){return new W(this._sub.encodeText(e+""));},getTextWidth:function getTextWidth(e,t){var n,i,o=0,r=this._font.cmap.codeMap;for(n=0;t.length>n;++n){i=r[t.charCodeAt(n)],o+=this._font.widthOfGlyph(i||0);}return o*e/1e3;},beforeRender:function beforeRender(){var e,t,n,o,r=this,a=r._sub,s=a.render(),l=new $(M(s),{Length1:s.length},!0),c=r._pdf.attach(new G({Type:x("FontDescriptor"),FontName:x(r._sub.psName),FontBBox:r.bbox,Flags:r.flags,StemV:r.stemV,ItalicAngle:r.italicAngle,Ascent:r.ascent,Descent:r.descent,CapHeight:r.capHeight,XHeight:r.xHeight,FontFile2:r._pdf.attach(l)})),d=a.ncid2ogid,u=a.firstChar,h=a.lastChar,f=[];!function p(e,t){if(h>=e){var n=d[e];null==n?p(e+1):(t||f.push(e,t=[]),t.push(r._font.widthOfGlyph(n)),p(e+1,t));}}(u),e=new G({Type:x("Font"),Subtype:x("CIDFontType2"),BaseFont:x(r._sub.psName),CIDSystemInfo:new G({Registry:new U("Adobe"),Ordering:new U("Identity"),Supplement:0}),FontDescriptor:c,FirstChar:u,LastChar:h,DW:Math.round(r._font.widthOfGlyph(0)),W:f,CIDToGIDMap:r._pdf.attach(r._makeCidToGidMap())}),t=r.props,t.BaseFont=x(r._sub.psName),t.DescendantFonts=[r._pdf.attach(e)],n=new J(u,h,a.subset),o=new $(i(),null,!0),o.data(n),t.ToUnicode=r._pdf.attach(o);},_makeCidToGidMap:function _makeCidToGidMap(){return new $(M(this._sub.cidToGidMap()),null,!0);}},G),J=k(function(e,t,n){this.firstChar=e,this.lastChar=t,this.map=n;},{render:function render(e){e.indent("/CIDInit /ProcSet findresource begin"),e.indent("12 dict begin"),e.indent("begincmap"),e.indent("/CIDSystemInfo <<"),e.indent("  /Registry (Adobe)"),e.indent("  /Ordering (UCS)"),e.indent("  /Supplement 0"),e.indent(">> def"),e.indent("/CMapName /Adobe-Identity-UCS def"),e.indent("/CMapType 2 def"),e.indent("1 begincodespacerange"),e.indent("  <0000><ffff>"),e.indent("endcodespacerange");var t=this;e.indent(t.lastChar-t.firstChar+1," beginbfchar"),e.withIndent(function(){var n,i,o,r;for(n=t.firstChar;t.lastChar>=n;++n){for(i=t.map[n],o=te.util.ucs2encode([i]),e.indent("<",h(n.toString(16),4),">","<"),r=0;o.length>r;++r){e(h(o.charCodeAt(r).toString(16),4));}e(">");}}),e.indent("endbfchar"),e.indent("endcmap"),e.indent("CMapName currentdict /CMap defineresource pop"),e.indent("end"),e.indent("end");}}),Z=k(function(e,t){this._pdf=e,this._rcount=0,this._textMode=!1,this._fontResources={},this._gsResources={},this._xResources={},this._patResources={},this._shResources={},this._opacity=1,this._matrix=[1,0,0,1,0,0],this._annotations=[],this._font=null,this._fontSize=null,this._contextStack=[],t=this.props=t||{},t.Type=x("Page"),t.ProcSet=[x("PDF"),x("Text"),x("ImageB"),x("ImageC"),x("ImageI")],t.Resources=new G({Font:new G(this._fontResources),ExtGState:new G(this._gsResources),XObject:new G(this._xResources),Pattern:new G(this._patResources),Shading:new G(this._shResources)}),t.Annots=this._annotations;},{_out:function _out(){this._content.data.apply(null,arguments);},transform:function transform(e,t,n,i,o,r){O(arguments)||(this._matrix=N(arguments,this._matrix),this._out(e," ",t," ",n," ",i," ",o," ",r," cm"),this._out(ie));},translate:function translate(e,t){this.transform(1,0,0,1,e,t);},scale:function scale(e,t){this.transform(e,0,0,t,0,0);},rotate:function rotate(e){var t=Math.cos(e),n=Math.sin(e);this.transform(t,n,-n,t,0,0);},beginText:function beginText(){this._textMode=!0,this._out("BT",ie);},endText:function endText(){this._textMode=!1,this._out("ET",ie);},_requireTextMode:function _requireTextMode(){if(!this._textMode)throw Error("Text mode required; call page.beginText() first");},_requireFont:function _requireFont(){if(!this._font)throw Error("No font selected; call page.setFont() first");},setFont:function setFont(e,t){this._requireTextMode(),null==e?e=this._font:e instanceof X||(e=this._pdf.getFont(e)),null==t&&(t=this._fontSize),this._fontResources[e._resourceName]=e,this._font=e,this._fontSize=t,this._out(e._resourceName," ",t," Tf",ie);},setTextLeading:function setTextLeading(e){this._requireTextMode(),this._out(e," TL",ie);},setTextRenderingMode:function setTextRenderingMode(e){this._requireTextMode(),this._out(e," Tr",ie);},showText:function showText(e,t){var n,i;this._requireFont(),e.length>1&&t&&this._font instanceof X&&(n=this._font.getTextWidth(this._fontSize,e),i=t/n*100,this._out(i," Tz ")),this._out(this._font.encodeText(e)," Tj",ie);},showTextNL:function showTextNL(e){this._requireFont(),this._out(this._font.encodeText(e)," '",ie);},addLink:function addLink(e,t){var n=this._toPage({x:t.left,y:t.bottom}),i=this._toPage({x:t.right,y:t.top});this._annotations.push(new G({Type:x("Annot"),Subtype:x("Link"),Rect:[n.x,n.y,i.x,i.y],Border:[0,0,0],A:new G({Type:x("Action"),S:x("URI"),URI:new U(e)})}));},setStrokeColor:function setStrokeColor(e,t,n){this._out(e," ",t," ",n," RG",ie);},setOpacity:function setOpacity(e){this.setFillOpacity(e),this.setStrokeOpacity(e),this._opacity*=e;},setStrokeOpacity:function setStrokeOpacity(e){if(1>e){var t=this._pdf.getOpacityGS(this._opacity*e,!0);this._gsResources[t._resourceName]=t,this._out(t._resourceName," gs",ie);}},setFillColor:function setFillColor(e,t,n){this._out(e," ",t," ",n," rg",ie);},setFillOpacity:function setFillOpacity(e){if(1>e){var t=this._pdf.getOpacityGS(this._opacity*e,!1);this._gsResources[t._resourceName]=t,this._out(t._resourceName," gs",ie);}},gradient:function gradient(e,t){var n,i,o;this.save(),this.rect(t.left,t.top,t.width,t.height),this.clip(),e.userSpace||this.transform(t.width,0,0,t.height,t.left,t.top),n=F(this._pdf,e,t),i=n.shading._resourceName,this._shResources[i]=n.shading,n.hasAlpha&&(o=n.opacity._resourceName,this._gsResources[o]=n.opacity,this._out("/"+o+" gs ")),this._out("/"+i+" sh",ie),this.restore();},setDashPattern:function setDashPattern(e,t){this._out(e," ",t," d",ie);},setLineWidth:function setLineWidth(e){this._out(e," w",ie);},setLineCap:function setLineCap(e){this._out(e," J",ie);},setLineJoin:function setLineJoin(e){this._out(e," j",ie);},setMitterLimit:function setMitterLimit(e){this._out(e," M",ie);},save:function save(){this._contextStack.push(this._context()),this._out("q",ie);},restore:function restore(){this._out("Q",ie),this._context(this._contextStack.pop());},moveTo:function moveTo(e,t){this._out(e," ",t," m",ie);},lineTo:function lineTo(e,t){this._out(e," ",t," l",ie);},bezier:function bezier(e,t,n,i,o,r){this._out(e," ",t," ",n," ",i," ",o," ",r," c",ie);},bezier1:function bezier1(e,t,n,i){this._out(e," ",t," ",n," ",i," y",ie);},bezier2:function bezier2(e,t,n,i){this._out(e," ",t," ",n," ",i," v",ie);},close:function close(){this._out("h",ie);},rect:function rect(e,t,n,i){this._out(e," ",t," ",n," ",i," re",ie);},ellipse:function ellipse(e,t,n,i){function o(t){return e+t;}function r(e){return t+e;}var a=.5522847498307936;this.moveTo(o(0),r(i)),this.bezier(o(n*a),r(i),o(n),r(i*a),o(n),r(0)),this.bezier(o(n),r(-i*a),o(n*a),r(-i),o(0),r(-i)),this.bezier(o(-n*a),r(-i),o(-n),r(-i*a),o(-n),r(0)),this.bezier(o(-n),r(i*a),o(-n*a),r(i),o(0),r(i));},circle:function circle(e,t,n){this.ellipse(e,t,n,n);},stroke:function stroke(){this._out("S",ie);},nop:function nop(){this._out("n",ie);},clip:function clip(){this._out("W n",ie);},clipStroke:function clipStroke(){this._out("W S",ie);},closeStroke:function closeStroke(){this._out("s",ie);},fill:function fill(){this._out("f",ie);},fillStroke:function fillStroke(){this._out("B",ie);},drawImage:function drawImage(e){var t=this._pdf.getImage(e);t&&(this._xResources[t._resourceName]=t,this._out(t._resourceName," Do",ie));},comment:function comment(e){var t=this;e.split(/\r?\n/g).forEach(function(e){t._out("% ",e,ie);});},_context:function _context(e){return null==e?{opacity:this._opacity,matrix:this._matrix}:(this._opacity=e.opacity,this._matrix=e.matrix,n);},_toPage:function _toPage(e){var t=this._matrix,n=t[0],i=t[1],o=t[2],r=t[3],a=t[4],s=t[5];return{x:n*e.x+o*e.y+a,y:i*e.x+r*e.y+s};}},G),ee={serif:"Times-Roman","serif|bold":"Times-Bold","serif|italic":"Times-Italic","serif|bold|italic":"Times-BoldItalic","sans-serif":"Helvetica","sans-serif|bold":"Helvetica-Bold","sans-serif|italic":"Helvetica-Oblique","sans-serif|bold|italic":"Helvetica-BoldOblique",monospace:"Courier","monospace|bold":"Courier-Bold","monospace|italic":"Courier-Oblique","monospace|bold|italic":"Courier-BoldOblique",zapfdingbats:"ZapfDingbats","zapfdingbats|bold":"ZapfDingbats","zapfdingbats|italic":"ZapfDingbats","zapfdingbats|bold|italic":"ZapfDingbats"},L("Times New Roman","serif"),L("Courier New","monospace"),L("Arial","sans-serif"),L("Helvetica","sans-serif"),L("Verdana","sans-serif"),L("Tahoma","sans-serif"),L("Georgia","sans-serif"),L("Monaco","monospace"),L("Andale Mono","monospace"),te.pdf={Document:a,BinaryStream:M,defineFont:H,parseFontDef:z,getFontURL:B,loadFonts:ce,loadImages:de,getPaperOptions:r,TEXT_RENDERING_MODE:{fill:0,stroke:1,fillAndStroke:2,invisible:3,fillAndClip:4,strokeAndClip:5,fillStrokeClip:6,clip:7}};}(window,parseFloat);},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("pdf/ttf.min",["pdf/core.min","util/main.min"],e);}(function(){!function(e){"use strict";function t(e,t){return Object.prototype.hasOwnProperty.call(e,t);}function n(e){return Object.keys(e).sort(function(e,t){return e-t;}).map(parseFloat);}function i(e){var t,n,i;for(this.raw=e,this.scalerType=e.readLong(),this.tableCount=e.readShort(),this.searchRange=e.readShort(),this.entrySelector=e.readShort(),this.rangeShift=e.readShort(),t=this.tables={},n=0;this.tableCount>n;++n){i={tag:e.readString(4),checksum:e.readLong(),offset:e.readLong(),length:e.readLong()},t[i.tag]=i;}}function o(e){function n(e,t){this.definition=t,this.length=t.length,this.offset=t.offset,this.file=e,this.rawData=e.raw,this.parse(e.raw);}n.prototype.raw=function(){return this.rawData.slice(this.offset,this.length);};for(var i in e){t(e,i)&&(n[i]=n.prototype[i]=e[i]);}return n;}function r(){var e,t="",n=_+"";for(e=0;n.length>e;++e){t+=String.fromCharCode(n.charCodeAt(e)-48+65);}return++_,t;}function a(e){this.font=e,this.subset={},this.unicodes={},this.ogid2ngid={0:0},this.ngid2ogid={0:0},this.ncid2ogid={},this.next=this.firstChar=1,this.nextGid=1,this.psName=r()+"+"+this.font.psName;}function s(e,t){var n,i,o,r=this,a=r.contents=w(e);if("ttcf"==a.readString(4)){if(!t)throw Error("Must specify a name for TTC files");for(a.readLong(),n=a.readLong(),i=0;n>i;++i){if(o=a.readLong(),a.saveExcursion(function(){a.offset(o),r.parse();}),r.psName==t)return;}throw Error("Font "+t+" not found in collection");}a.offset(0),r.parse();}var l,c,d,u,h,f,p,m,g,v,_,b=e.kendo.pdf,w=b.BinaryStream;i.prototype={readTable:function readTable(e,t){var n=this.tables[e];if(!n)throw Error("Table "+e+" not found in directory");return this[e]=n.table=new t(this,n);},render:function render(e){var n,i,o,r,a,s,l,c,d=Object.keys(e).length,u=Math.pow(2,Math.floor(Math.log(d)/Math.LN2)),h=16*u,f=Math.floor(Math.log(u)/Math.LN2),p=16*d-h,m=w();m.writeLong(this.scalerType),m.writeShort(d),m.writeShort(h),m.writeShort(f),m.writeShort(p),n=16*d,i=m.offset()+n,o=null,r=w();for(a in e){if(t(e,a))for(s=e[a],m.writeString(a),m.writeLong(this.checksum(s)),m.writeLong(i),m.writeLong(s.length),r.write(s),"head"==a&&(o=i),i+=s.length;i%4;){r.writeByte(0),i++;}}return m.write(r.get()),l=this.checksum(m.get()),c=2981146554-l,m.offset(o+8),m.writeLong(c),m.get();},checksum:function checksum(e){e=w(e);for(var t=0;!e.eof();){t+=e.readLong();}return 4294967295&t;}},l=o({parse:function parse(e){e.offset(this.offset),this.version=e.readLong(),this.revision=e.readLong(),this.checkSumAdjustment=e.readLong(),this.magicNumber=e.readLong(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.read(8),this.modified=e.read(8),this.xMin=e.readShort_(),this.yMin=e.readShort_(),this.xMax=e.readShort_(),this.yMax=e.readShort_(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort_(),this.indexToLocFormat=e.readShort_(),this.glyphDataFormat=e.readShort_();},render:function render(e){var t=w();return t.writeLong(this.version),t.writeLong(this.revision),t.writeLong(0),t.writeLong(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.write(this.created),t.write(this.modified),t.writeShort_(this.xMin),t.writeShort_(this.yMin),t.writeShort_(this.xMax),t.writeShort_(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort_(this.fontDirectionHint),t.writeShort_(e),t.writeShort_(this.glyphDataFormat),t.get();}}),c=o({parse:function parse(e){e.offset(this.offset);var t=this.file.head.indexToLocFormat;this.offsets=0===t?e.times(this.length/2,function(){return 2*e.readShort();}):e.times(this.length/4,e.readLong);},offsetOf:function offsetOf(e){return this.offsets[e];},lengthOf:function lengthOf(e){return this.offsets[e+1]-this.offsets[e];},render:function render(e){var t,n=w(),i=e[e.length-1]>65535;for(t=0;e.length>t;++t){i?n.writeLong(e[t]):n.writeShort(e[t]/2);}return{format:i?1:0,table:n.get()};}}),d=o({parse:function parse(e){e.offset(this.offset),this.version=e.readLong(),this.ascent=e.readShort_(),this.descent=e.readShort_(),this.lineGap=e.readShort_(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort_(),this.minRightSideBearing=e.readShort_(),this.xMaxExtent=e.readShort_(),this.caretSlopeRise=e.readShort_(),this.caretSlopeRun=e.readShort_(),this.caretOffset=e.readShort_(),e.skip(8),this.metricDataFormat=e.readShort_(),this.numOfLongHorMetrics=e.readShort();},render:function render(e){var t=w();return t.writeLong(this.version),t.writeShort_(this.ascent),t.writeShort_(this.descent),t.writeShort_(this.lineGap),t.writeShort(this.advanceWidthMax),t.writeShort_(this.minLeftSideBearing),t.writeShort_(this.minRightSideBearing),t.writeShort_(this.xMaxExtent),t.writeShort_(this.caretSlopeRise),t.writeShort_(this.caretSlopeRun),t.writeShort_(this.caretOffset),t.write([0,0,0,0,0,0,0,0]),t.writeShort_(this.metricDataFormat),t.writeShort(e.length),t.get();}}),u=o({parse:function parse(e){e.offset(this.offset),this.version=e.readLong(),this.numGlyphs=e.readShort(),this.maxPoints=e.readShort(),this.maxContours=e.readShort(),this.maxComponentPoints=e.readShort(),this.maxComponentContours=e.readShort(),this.maxZones=e.readShort(),this.maxTwilightPoints=e.readShort(),this.maxStorage=e.readShort(),this.maxFunctionDefs=e.readShort(),this.maxInstructionDefs=e.readShort(),this.maxStackElements=e.readShort(),this.maxSizeOfInstructions=e.readShort(),this.maxComponentElements=e.readShort(),this.maxComponentDepth=e.readShort();},render:function render(e){var t=w();return t.writeLong(this.version),t.writeShort(e.length),t.writeShort(this.maxPoints),t.writeShort(this.maxContours),t.writeShort(this.maxComponentPoints),t.writeShort(this.maxComponentContours),t.writeShort(this.maxZones),t.writeShort(this.maxTwilightPoints),t.writeShort(this.maxStorage),t.writeShort(this.maxFunctionDefs),t.writeShort(this.maxInstructionDefs),t.writeShort(this.maxStackElements),t.writeShort(this.maxSizeOfInstructions),t.writeShort(this.maxComponentElements),t.writeShort(this.maxComponentDepth),t.get();}}),h=o({parse:function parse(e){var t,n,i;e.offset(this.offset),t=this.file,n=t.hhea,this.metrics=e.times(n.numOfLongHorMetrics,function(){return{advance:e.readShort(),lsb:e.readShort_()};}),i=t.maxp.numGlyphs-t.hhea.numOfLongHorMetrics,this.leftSideBearings=e.times(i,e.readShort_);},forGlyph:function forGlyph(e){var t=this.metrics,n=t.length;return n>e?t[e]:{advance:t[n-1].advance,lsb:this.leftSideBearings[e-n]};},render:function render(e){var t,n,i=w();for(t=0;e.length>t;++t){n=this.forGlyph(e[t]),i.writeShort(n.advance),i.writeShort_(n.lsb);}return i.get();}}),f=function(){function e(e){this.raw=e;}function n(e){var t,n,o;for(this.raw=e,t=this.glyphIds=[],n=this.idOffsets=[];;){if(o=e.readShort(),n.push(e.offset()),t.push(e.readShort()),!(o&a))break;e.skip(o&i?4:2),o&l?e.skip(8):o&s?e.skip(4):o&r&&e.skip(2);}}var i,r,a,s,l;return e.prototype={compound:!1,render:function render(){return this.raw.get();}},i=1,r=8,a=32,s=64,l=128,n.prototype={compound:!0,render:function render(e){var t,n,i=w(this.raw.get());for(t=0;this.glyphIds.length>t;++t){n=this.glyphIds[t],i.offset(this.idOffsets[t]),i.writeShort(e[n]);}return i.get();}},o({parse:function parse(){this.cache={};},glyphFor:function glyphFor(i){var o,r,a,s,l,c,d,u,h,f,p,m=this.cache;return t(m,i)?m[i]:(o=this.file.loca,r=o.lengthOf(i),0===r?m[i]=null:(a=this.rawData,s=this.offset+o.offsetOf(i),l=w(a.slice(s,r)),c=l.readShort_(),d=l.readShort_(),u=l.readShort_(),h=l.readShort_(),f=l.readShort_(),p=m[i]=-1==c?new n(l):new e(l),p.numberOfContours=c,p.xMin=d,p.yMin=u,p.xMax=h,p.yMax=f,p));},render:function render(e,t,n){var i,o,r,a=w(),s=[];for(i=0;t.length>i;++i){o=t[i],r=e[o],s.push(a.offset()),r&&a.write(r.render(n));}return s.push(a.offset()),{table:a.get(),offsets:s};}});}(),p=function(){function e(e,t){this.text=e,this.length=e.length,this.platformID=t.platformID,this.platformSpecificID=t.platformSpecificID,this.languageID=t.languageID,this.nameID=t.nameID;}return o({parse:function parse(t){var n,i,o,r,a,s,l;for(t.offset(this.offset),t.readShort(),n=t.readShort(),i=this.offset+t.readShort(),o=t.times(n,function(){return{platformID:t.readShort(),platformSpecificID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:t.readShort()+i};}),r=this.strings={},a=0;o.length>a;++a){s=o[a],t.offset(s.offset),l=t.readString(s.length),r[s.nameID]||(r[s.nameID]=[]),r[s.nameID].push(new e(l,s));}this.postscriptEntry=r[6][0],this.postscriptName=this.postscriptEntry.text.replace(/[^\x20-\x7F]/g,"");},render:function render(n){var i,o,r,a,s,l,c=this.strings,d=0;for(i in c){t(c,i)&&(d+=c[i].length);}o=w(),r=w(),o.writeShort(0),o.writeShort(d),o.writeShort(6+12*d);for(i in c){if(t(c,i))for(a=6==i?[new e(n,this.postscriptEntry)]:c[i],s=0;a.length>s;++s){l=a[s],o.writeShort(l.platformID),o.writeShort(l.platformSpecificID),o.writeShort(l.languageID),o.writeShort(l.nameID),o.writeShort(l.length),o.writeShort(r.offset()),r.writeString(l.text);}}return o.write(r.get()),o.get();}});}(),m=function(){var e=".notdef .null nonmarkingreturn space exclam quotedbl numbersign dollar percent ampersand quotesingle parenleft parenright asterisk plus comma hyphen period slash zero one two three four five six seven eight nine colon semicolon less equal greater question at A B C D E F G H I J K L M N O P Q R S T U V W X Y Z bracketleft backslash bracketright asciicircum underscore grave a b c d e f g h i j k l m n o p q r s t u v w x y z braceleft bar braceright asciitilde Adieresis Aring Ccedilla Eacute Ntilde Odieresis Udieresis aacute agrave acircumflex adieresis atilde aring ccedilla eacute egrave ecircumflex edieresis iacute igrave icircumflex idieresis ntilde oacute ograve ocircumflex odieresis otilde uacute ugrave ucircumflex udieresis dagger degree cent sterling section bullet paragraph germandbls registered copyright trademark acute dieresis notequal AE Oslash infinity plusminus lessequal greaterequal yen mu partialdiff summation product pi integral ordfeminine ordmasculine Omega ae oslash questiondown exclamdown logicalnot radical florin approxequal Delta guillemotleft guillemotright ellipsis nonbreakingspace Agrave Atilde Otilde OE oe endash emdash quotedblleft quotedblright quoteleft quoteright divide lozenge ydieresis Ydieresis fraction currency guilsinglleft guilsinglright fi fl daggerdbl periodcentered quotesinglbase quotedblbase perthousand Acircumflex Ecircumflex Aacute Edieresis Egrave Iacute Icircumflex Idieresis Igrave Oacute Ocircumflex apple Ograve Uacute Ucircumflex Ugrave dotlessi circumflex tilde macron breve dotaccent ring cedilla hungarumlaut ogonek caron Lslash lslash Scaron scaron Zcaron zcaron brokenbar Eth eth Yacute yacute Thorn thorn minus multiply onesuperior twosuperior threesuperior onehalf onequarter threequarters franc Gbreve gbreve Idotaccent Scedilla scedilla Cacute cacute Ccaron ccaron dcroat".split(/\s+/g);return o({parse:function parse(e){var t,n;switch(e.offset(this.offset),this.format=e.readLong(),this.italicAngle=e.readFixed_(),this.underlinePosition=e.readShort_(),this.underlineThickness=e.readShort_(),this.isFixedPitch=e.readLong(),this.minMemType42=e.readLong(),this.maxMemType42=e.readLong(),this.minMemType1=e.readLong(),this.maxMemType1=e.readLong(),this.format){case 65536:case 196608:break;case 131072:for(t=e.readShort(),this.glyphNameIndex=e.times(t,e.readShort),this.names=[],n=this.offset+this.length;e.offset()<n;){this.names.push(e.readString(e.readByte()));}break;case 151552:t=e.readShort(),this.offsets=e.read(t);break;case 262144:this.map=e.times(this.file.maxp.numGlyphs,e.readShort);}},glyphFor:function glyphFor(t){switch(this.format){case 65536:return e[t]||".notdef";case 131072:var n=this.glyphNameIndex[t];return e.length>n?e[n]:this.names[n-e.length]||".notdef";case 151552:case 196608:return".notdef";case 262144:return this.map[t]||65535;}},render:function render(t){var n,i,o,r,a,s,l;if(196608==this.format)return this.raw();for(n=w(this.rawData.slice(this.offset,32)),n.writeLong(131072),n.offset(32),i=[],o=[],r=0;t.length>r;++r){a=t[r],s=this.glyphFor(a),l=e.indexOf(s),l>=0?i.push(l):(i.push(e.length+o.length),o.push(s));}for(n.writeShort(t.length),r=0;i.length>r;++r){n.writeShort(i[r]);}for(r=0;o.length>r;++r){n.writeByte(o[r].length),n.writeString(o[r]);}return n.get();}});}(),g=function(){function t(t,n,i){var o=this;o.platformID=t.readShort(),o.platformSpecificID=t.readShort(),o.offset=n+t.readLong(),t.saveExcursion(function(){var n,r,a,s,l,c,d,u,h,f,p,m,g,v,_,b,w;switch(t.offset(o.offset),o.format=t.readShort()){case 0:for(o.length=t.readShort(),o.language=t.readShort(),r=0;256>r;++r){i[r]=t.readByte();}break;case 4:for(o.length=t.readShort(),o.language=t.readShort(),a=t.readShort()/2,t.skip(6),s=t.times(a,t.readShort),t.skip(2),l=t.times(a,t.readShort),c=t.times(a,t.readShort_),d=t.times(a,t.readShort),u=(o.length+o.offset-t.offset())/2,h=t.times(u,t.readShort),r=0;a>r;++r){for(f=l[r],p=s[r],n=f;p>=n;++n){0===d[r]?m=n+c[r]:(g=d[r]/2-(a-r)+(n-f),m=h[g]||0,0!==m&&(m+=c[r])),i[n]=65535&m;}}break;case 6:for(o.length=t.readShort(),o.language=t.readShort(),n=t.readShort(),v=t.readShort();v-->0;){i[n++]=t.readShort();}break;case 12:for(t.readShort(),o.length=t.readLong(),o.language=t.readLong(),_=t.readLong();_-->0;){for(n=t.readLong(),b=t.readLong(),w=t.readLong();b>=n;){i[n++]=w++;}}break;default:e.console&&e.console.error("Unhandled CMAP format: "+o.format);}});}function i(e,t){function i(n){return t[e[n]];}var o,r,a,s,l,c,d,u,h,f,p,m,g,v,_,b,y,k=n(e),x=[],C=[],S=null,T=null;for(o=0;k.length>o;++o){r=k[o],a=i(r),s=a-r,null!=S&&s===T||(S&&C.push(S),x.push(r),T=s),S=r;}for(S&&C.push(S),C.push(65535),x.push(65535),l=x.length,c=2*l,d=2*Math.pow(2,Math.floor(Math.log(l)/Math.LN2)),u=Math.log(d/2)/Math.LN2,h=c-d,f=[],p=[],m=[],o=0;l>o;++o){if(g=x[o],v=C[o],65535==g){f.push(0),p.push(0);break;}if(_=i(g),g-_>=32768)for(f.push(0),p.push(2*(m.length+l-o)),b=g;v>=b;++b){m.push(i(b));}else f.push(_-g),p.push(0);}return y=w(),y.writeShort(3),y.writeShort(1),y.writeLong(12),y.writeShort(4),y.writeShort(16+8*l+2*m.length),y.writeShort(0),y.writeShort(c),y.writeShort(d),y.writeShort(u),y.writeShort(h),C.forEach(y.writeShort),y.writeShort(0),x.forEach(y.writeShort),f.forEach(y.writeShort_),p.forEach(y.writeShort),m.forEach(y.writeShort),y.get();}return o({parse:function parse(e){var n,i=this,o=i.offset;e.offset(o),i.codeMap={},i.version=e.readShort(),n=e.readShort(),i.tables=e.times(n,function(){return new t(e,o,i.codeMap);});},render:function render(e,t){var n=w();return n.writeShort(0),n.writeShort(1),n.write(i(e,t)),n.get();}});}(),v=o({parse:function parse(e){e.offset(this.offset),this.version=e.readShort(),this.averageCharWidth=e.readShort_(),this.weightClass=e.readShort(),this.widthClass=e.readShort(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort_(),this.ySubscriptYSize=e.readShort_(),this.ySubscriptXOffset=e.readShort_(),this.ySubscriptYOffset=e.readShort_(),this.ySuperscriptXSize=e.readShort_(),this.ySuperscriptYSize=e.readShort_(),this.ySuperscriptXOffset=e.readShort_(),this.ySuperscriptYOffset=e.readShort_(),this.yStrikeoutSize=e.readShort_(),this.yStrikeoutPosition=e.readShort_(),this.familyClass=e.readShort_(),this.panose=e.times(10,e.readByte),this.charRange=e.times(4,e.readLong),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort_(),this.descent=e.readShort_(),this.lineGap=e.readShort_(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=e.times(2,e.readLong),this.version>1&&(this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()));},render:function render(){return this.raw();}}),_=1e5,a.prototype={use:function use(e){var t,n,i,o=this;return"string"==typeof e?kendo.util.ucs2decode(e).reduce(function(e,t){return e+String.fromCharCode(o.use(t));},""):(t=o.unicodes[e],t||(t=o.next++,o.subset[t]=e,o.unicodes[e]=t,n=o.font.cmap.codeMap[e],n&&(o.ncid2ogid[t]=n,null==o.ogid2ngid[n]&&(i=o.nextGid++,o.ogid2ngid[n]=i,o.ngid2ogid[i]=n))),t);},encodeText:function encodeText(e){return this.use(e);},glyphIds:function glyphIds(){return n(this.ogid2ngid);},glyphsFor:function glyphsFor(e,t){var n,i,o;for(t||(t={}),n=0;e.length>n;++n){i=e[n],t[i]||(o=t[i]=this.font.glyf.glyphFor(i),o&&o.compound&&this.glyphsFor(o.glyphIds,t));}return t;},render:function render(){var e,i,o,r,a,s,l,c,d=this.glyphsFor(this.glyphIds());for(e in d){t(d,e)&&(e=parseInt(e,10),null==this.ogid2ngid[e]&&(i=this.nextGid++,this.ogid2ngid[e]=i,this.ngid2ogid[i]=e));}return o=n(this.ngid2ogid),r=o.map(function(e){return this.ngid2ogid[e];},this),a=this.font,s=a.glyf.render(d,r,this.ogid2ngid),l=a.loca.render(s.offsets),this.lastChar=this.next-1,c={cmap:g.render(this.ncid2ogid,this.ogid2ngid),glyf:s.table,loca:l.table,hmtx:a.hmtx.render(r),hhea:a.hhea.render(r),maxp:a.maxp.render(r),post:a.post.render(r),name:a.name.render(this.psName),head:a.head.render(l.format),"OS/2":a.os2.render()},this.font.directory.render(c);},cidToGidMap:function cidToGidMap(){var e,t,n,i=w(),o=0;for(e=this.firstChar;this.next>e;++e){for(;e>o;){i.writeShort(0),o++;}t=this.ncid2ogid[e],t?(n=this.ogid2ngid[t],i.writeShort(n)):i.writeShort(0),o++;}return i.get();}},s.prototype={parse:function parse(){var e=this.directory=new i(this.contents);this.head=e.readTable("head",l),this.loca=e.readTable("loca",c),this.hhea=e.readTable("hhea",d),this.maxp=e.readTable("maxp",u),this.hmtx=e.readTable("hmtx",h),this.glyf=e.readTable("glyf",f),this.name=e.readTable("name",p),this.post=e.readTable("post",m),this.cmap=e.readTable("cmap",g),this.os2=e.readTable("OS/2",v),this.psName=this.name.postscriptName,this.ascent=this.os2.ascent||this.hhea.ascent,this.descent=this.os2.descent||this.hhea.descent,this.lineGap=this.os2.lineGap||this.hhea.lineGap,this.scale=1e3/this.head.unitsPerEm;},widthOfGlyph:function widthOfGlyph(e){return this.hmtx.forGlyph(e).advance*this.scale;},makeSubset:function makeSubset(){return new a(this);}},b.TTFFont=s;}(window);},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("pdf/drawing.min",["kendo.core.min","kendo.color.min","kendo.drawing.min","pdf/core.min"],e);}(function(){!function(e,t){"use strict";function n(t,n){function i(e,t,n){return n||(n=d),n.pdf&&null!=n.pdf[e]?n.pdf[e]:t;}function o(){function o(e){var t,n,o,r,l,c=e.options,d=T(e),u=d.bbox;e=d.root,t=i("paperSize",i("paperSize","auto"),c),n=!1,"auto"==t&&(u?(o=u.getSize(),t=[o.width,o.height],n=!0,r=u.getOrigin(),d=new D.Group(),d.transform(new A.Matrix(1,0,0,1,-r.x,-r.y)),d.append(e),e=d):t="A4"),l=a.addPage({paperSize:t,margin:i("margin",i("margin"),c),addMargin:n,landscape:i("landscape",i("landscape",!1),c)}),s(e,l,a);}if(!(--r>0)){var a=new e.pdf.Document({producer:i("producer"),title:i("title"),author:i("author"),subject:i("subject"),keywords:i("keywords"),creator:i("creator"),date:i("date")});u?t.children.forEach(o):o(t),n(a.render(),a);}}var r,l=[],c=[],d=t.options,u=i("multiPage");t.traverse(function(t){a({Image:function Image(e){c.indexOf(e.src())<0&&c.push(e.src());},Text:function Text(t){var n=e.pdf.parseFontDef(t.options.font),i=e.pdf.getFontURL(n);l.indexOf(i)<0&&l.push(i);}},t);}),r=2,e.pdf.loadFonts(l,o),e.pdf.loadImages(c,o);}function i(e,t){n(e,function(e){t("data:application/pdf;base64,"+e.base64());});}function o(e,t){n(e,function(e){t(new Blob([e.get()],{type:"application/pdf"}));});}function r(t,n,r,a){window.Blob&&!e.support.browser.safari?o(t,function(t){e.saveAs({dataURI:t,fileName:n}),a&&a(t);}):i(t,function(t){e.saveAs({dataURI:t,fileName:n,proxyURL:r}),a&&a(t);});}function a(e,t){var n=e[t.nodeType];return n?n.call.apply(n,arguments):t;}function s(e,t,n){var i,o,r;e.options._pdfDebug&&t.comment("BEGIN: "+e.options._pdfDebug),i=e.transform(),o=e.opacity(),t.save(),null!=o&&1>o&&t.setOpacity(o),l(e,t,n),c(e,t,n),i&&(r=i.matrix(),t.transform(r.a,r.b,r.c,r.d,r.e,r.f)),d(e,t,n),a({Path:g,MultiPath:v,Circle:_,Arc:b,Text:w,Image:k,Group:y,Rect:x},e,t,n),t.restore(),e.options._pdfDebug&&t.comment("END: "+e.options._pdfDebug);}function l(e,t){var n,i,o,r,a,s,l=e.stroke&&e.stroke();if(l){if(n=l.color){if(n=S(n),null==n)return;t.setStrokeColor(n.r,n.g,n.b),1!=n.a&&t.setStrokeOpacity(n.a);}if(i=l.width,null!=i){if(0===i)return;t.setLineWidth(i);}o=l.dashType,o&&t.setDashPattern(R[o],0),r=l.lineCap,r&&t.setLineCap(I[r]),a=l.lineJoin,a&&t.setLineJoin(F[a]),s=l.opacity,null!=s&&t.setStrokeOpacity(s);}}function c(e,t){var n,i,o=e.fill&&e.fill();if(o&&!(o instanceof D.Gradient)){if(n=o.color){if(n=S(n),null==n)return;t.setFillColor(n.r,n.g,n.b),1!=n.a&&t.setFillOpacity(n.a);}i=o.opacity,null!=i&&t.setFillOpacity(i);}}function d(e,t,n){var i=e.clip();i&&(m(i,t,n),t.clip());}function u(e){return e&&(e instanceof D.Gradient||e.color&&!/^(none|transparent)$/i.test(e.color)&&(null==e.width||e.width>0)&&(null==e.opacity||e.opacity>0));}function h(e,t,n,i){var o,r,a,s,l,c,d,u,h=e.fill();return h instanceof D.Gradient?(i?t.clipStroke():t.clip(),o=h instanceof D.RadialGradient,o?(r={x:h.center().x,y:h.center().y,r:0},a={x:h.center().x,y:h.center().y,r:h.radius()}):(r={x:h.start().x,y:h.start().y},a={x:h.end().x,y:h.end().y}),s=h.stops.elements().map(function(e){var t,n=e.offset();return n=/%$/.test(n)?parseFloat(n)/100:parseFloat(n),t=S(e.color()),t.a*=e.opacity(),{offset:n,color:t};}),s.unshift(s[0]),s.push(s[s.length-1]),l={userSpace:h.userSpace(),type:o?"radial":"linear",start:r,end:a,stops:s},c=e.rawBBox(),d=c.topLeft(),u=c.getSize(),c={left:d.x,top:d.y,width:u.width,height:u.height},t.gradient(l,c),!0):void 0;}function f(e,t,n){u(e.fill())&&u(e.stroke())?h(e,t,n,!0)||t.fillStroke():u(e.fill())?h(e,t,n,!1)||t.fill():u(e.stroke())?t.stroke():t.nop();}function p(e,t){var n,i,o,r=e.segments;if(4==r.length&&e.options.closed){for(n=[],i=0;r.length>i;++i){if(r[i].controlIn())return!1;n[i]=r[i].anchor();}if(o=n[0].y==n[1].y&&n[1].x==n[2].x&&n[2].y==n[3].y&&n[3].x==n[0].x||n[0].x==n[1].x&&n[1].y==n[2].y&&n[2].x==n[3].x&&n[3].y==n[0].y)return t.rect(n[0].x,n[0].y,n[2].x-n[0].x,n[2].y-n[0].y),!0;}}function m(e,t,n){var i,o,r,a,s,l,c=e.segments;if(0!==c.length&&!p(e,t,n)){for(o=0;c.length>o;++o){r=c[o],a=r.anchor(),i?(s=i.controlOut(),l=r.controlIn(),s&&l?t.bezier(s.x,s.y,l.x,l.y,a.x,a.y):t.lineTo(a.x,a.y)):t.moveTo(a.x,a.y),i=r;}e.options.closed&&t.close();}}function g(e,t,n){m(e,t,n),f(e,t,n);}function v(e,t,n){var i,o=e.paths;for(i=0;o.length>i;++i){m(o[i],t,n);}f(e,t,n);}function _(e,t,n){var i=e.geometry();t.circle(i.center.x,i.center.y,i.radius),f(e,t,n);}function b(e,t,n){var i,o=e.geometry().curvePoints();for(t.moveTo(o[0].x,o[0].y),i=1;o.length>i;){t.bezier(o[i].x,o[i++].y,o[i].x,o[i++].y,o[i].x,o[i++].y);}f(e,t,n);}function w(t,n){var i,o=e.pdf.parseFontDef(t.options.font),r=t._position;t.fill()&&t.stroke()?i=E.fillAndStroke:t.fill()?i=E.fill:t.stroke()&&(i=E.stroke),n.transform(1,0,0,-1,r.x,r.y+o.fontSize),n.beginText(),n.setFont(e.pdf.getFontURL(o),o.fontSize),n.setTextRenderingMode(i),n.showText(t.content(),t._pdfRect?t._pdfRect.width():null),n.endText();}function y(e,t,n){var i,o;for(e._pdfLink&&t.addLink(e._pdfLink.url,e._pdfLink),i=e.children,o=0;i.length>o;++o){s(i[o],t,n);}}function k(e,t){var n,i,o,r=e.src();r&&(n=e.rect(),i=n.getOrigin(),o=n.getSize(),t.transform(o.width,0,0,-o.height,i.x,i.y+o.height),t.drawImage(r));}function x(e,t,n){var i=e.geometry();t.rect(i.origin.x,i.origin.y,i.size.width,i.size.height),f(e,t,n);}function C(e,n){var i,o=t.Deferred();for(i in n){"margin"==i&&e.options.pdf&&e.options.pdf._ignoreMargin||e.options.set("pdf."+i,n[i]);}return D.pdf.toDataURL(e,o.resolve),o.promise();}function S(t){var n=e.parseColor(t,!0);return n?n.toRGB():null;}function T(e){function t(e){return l=!0,e;}function n(e){return e.visible()&&e.opacity()>0&&(u(e.fill())||u(e.stroke()));}function i(e){var t,n,i=[];for(t=0;e.length>t;++t){n=s(e[t]),null!=n&&i.push(n);}return i;}function o(e,t){var n,i=c,o=d;e.transform()&&(d=d.multiplyCopy(e.transform().matrix())),n=e.clip(),n&&(n=n.bbox(),n&&(n=n.bbox(d),c=c?A.Rect.intersect(c,n):n));try{return t();}finally{c=i,d=o;}}function r(e){if(null==c)return!1;var t=e.rawBBox().bbox(d);return c&&t&&(t=A.Rect.intersect(t,c)),t;}function s(s){return o(s,function(){if(!(s instanceof D.Group||s instanceof D.MultiPath)){var o=r(s);if(!o)return t(null);h=h?A.Rect.union(h,o):o;}return a({Path:function Path(e){return 0!==e.segments.length&&n(e)?e:t(null);},MultiPath:function MultiPath(e){if(!n(e))return t(null);var o=new D.MultiPath(e.options);return o.paths=i(e.paths),0===o.paths.length?t(null):o;},Circle:function Circle(e){return n(e)?e:t(null);},Arc:function Arc(e){return n(e)?e:t(null);},Text:function Text(e){return /\S/.test(e.content())&&n(e)?e:t(null);},Image:function Image(e){return e.visible()&&e.opacity()>0?e:t(null);},Group:function Group(n){var o=new D.Group(n.options);return o.children=i(n.children),o._pdfLink=n._pdfLink,n===e||0!==o.children.length||n._pdfLink?o:t(null);},Rect:function Rect(e){return n(e)?e:t(null);}},s);});}var l,c=!1,d=A.Matrix.unit(),h=null;do{l=!1,e=s(e);}while(e&&l);return{root:e,bbox:h};}var D=e.drawing,A=e.geometry,E=e.pdf.TEXT_RENDERING_MODE,R={dash:[4],dashDot:[4,2,1,2],dot:[1,2],longDash:[8,2],longDashDot:[8,2,1,2],longDashDotDot:[8,2,1,2,1,2],solid:[]},I={butt:0,round:1,square:2},F={miter:0,round:1,bevel:2};e.deepExtend(D,{exportPDF:C,pdf:{toDataURL:i,toBlob:o,saveAs:r,toStream:n}});}(window.kendo,window.kendo.jQuery);},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("kendo.pdf.min",["kendo.core.min","pdf/core.min","pdf/ttf.min","pdf/drawing.min","kendo.drawing.min"],e);}(function(){return function(e,t){e.PDFMixin={extend:function extend(e){e.events.push("pdfExport"),e.options.pdf=this.options,e.saveAsPDF=this.saveAsPDF,e._drawPDF=this._drawPDF,e._drawPDFShadow=this._drawPDFShadow;},options:{fileName:"Export.pdf",proxyURL:"",paperSize:"auto",allPages:!1,landscape:!1,margin:null,title:null,author:null,subject:null,keywords:null,creator:"Kendo UI PDF Generator v."+e.version,date:null},saveAsPDF:function saveAsPDF(){var n,i=new t.Deferred(),o=i.promise(),r={promise:o};if(!this.trigger("pdfExport",r))return n=this.options.pdf,n.multiPage=n.multiPage||n.allPages,this._drawPDF(i).then(function(t){return e.drawing.exportPDF(t,n);}).done(function(t){e.saveAs({dataURI:t,fileName:n.fileName,proxyURL:n.proxyURL,forceProxy:n.forceProxy,proxyTarget:n.proxyTarget}),i.resolve();}).fail(function(e){i.reject(e);}),o;},_drawPDF:function _drawPDF(n){var i=new t.Deferred();return e.drawing.drawDOM(this.wrapper).done(function(e){var t={page:e,pageNumber:1,progress:1,totalPages:1};n.notify(t),i.resolve(t.page);}).fail(function(e){i.reject(e);}),i;},_drawPDFShadow:function _drawPDFShadow(n,i){var o,r,a;return n=n||{},o=this.wrapper,r=t("<div class='k-pdf-export-shadow'>"),n.width&&r.css({width:n.width,overflow:"visible"}),o.before(r),r.append(n.content||o.clone(!0,!0)),a=t.Deferred(),setTimeout(function(){var t=e.drawing.drawDOM(r,i);t.always(function(){r.remove();}).then(function(){a.resolve.apply(a,arguments);}).fail(function(){a.reject.apply(a,arguments);}).progress(function(){a.progress.apply(a,arguments);});},15),a.promise();}};}(kendo,window.kendo.jQuery),kendo;},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("kendo.grid.min",["kendo.data.min","kendo.columnsorter.min","kendo.editable.min","kendo.window.min","kendo.filtermenu.min","kendo.columnmenu.min","kendo.groupable.min","kendo.pager.min","kendo.selectable.min","kendo.sortable.min","kendo.reorderable.min","kendo.resizable.min","kendo.mobile.actionsheet.min","kendo.mobile.pane.min","kendo.ooxml.min","kendo.excel.min","kendo.progressbar.min","kendo.pdf.min"],e);}(function(){return function(e,t){function n(e){return Array(e+1).join('<td class="k-group-cell">&nbsp;</td>');}function i(e){var t,n=" ";if(e){if((typeof e==="undefined"?"undefined":_typeof(e))===ct)return e;for(t in e){n+=t+'="'+e[t]+'"';}}return n;}function o(t,n){e("th, th .k-grid-filter, th .k-link",t).add(document.body).css("cursor",n);}function r(t,n,i,o,r){var a,s=n;for(n=e(),r=r||1,a=0;r>a;a++){n=n.add(t.eq(s+a));}"number"==typeof i?n[o?"insertBefore":"insertAfter"](t.eq(i)):n.appendTo(i);}function a(t,n,i){return e(t).add(n).find(i);}function s(e,t,n){var i,o,r,a;for(n=ke(n)?n:[n],i=0,o=n.length;o>i;i++){r=n[i],_e(r)&&r.click&&(a=r.name||r.text,t.on(rt+Le,"a.k-grid-"+(a||"").replace(/\s/g,""),{commandName:a},Se(r.click,e)));}}function l(e,t,n){return we(e,function(e){var i,o;return e=(typeof e==="undefined"?"undefined":_typeof(e))===ct?{field:e}:e,f(e)&&!n||(e.attributes=W(e.attributes),e.footerAttributes=W(e.footerAttributes),e.headerAttributes=W(e.headerAttributes),i=!0),e.columns&&(e.columns=l(e.columns,t,i)),o=ue.guid(),e.headerAttributes=be({id:o},e.headerAttributes),be({encoded:t,hidden:i},e);});}function c(e,t){var n=[];return d(e,t,n),n[n.length-1];}function d(e,t,n){var i,o;for(n=n||[],i=0;t.length>i;i++){if(e===t[i])return!0;if(t[i].columns){if(o=n.length,n.push(t[i]),d(e,t[i].columns,n))return!0;n.splice(o,n.length-o);}}return!1;}function u(e,t){var n=t?j:W;e.hidden=!t,e.attributes=n(e.attributes),e.footerAttributes=n(e.footerAttributes),e.headerAttributes=n(e.headerAttributes);}function h(){return"none"!==this.style.display;}function f(e){return p([e]).length>0;}function p(e){return ye(e,function(e){var t=!e.hidden;return t&&e.columns&&(t=p(e.columns).length>0),t;});}function m(t){return e(t).map(function(){return this.toArray();});}function g(e,t,n){var i=b(M(t)),o=b(P(t)),r=e.rowSpan;e.rowSpan=n?i>o?r-(i-o)||1:r+(o-i):i>o?r+(i-o):r-(o-i)||1;}function v(t,n,i,o,r,a,s){var l,c,d=b(t),u=b([n]);d>u&&(l=Array(s+1).join('<th class="k-group-cell k-header" scope="col">&nbsp;</th>'),c=a.children(":not(.k-filter-row)"),e(Array(d-u+1).join("<tr>"+l+"</tr>")).insertAfter(c.last())),R(a,d-u),w(i,o,r,a);}function _(t,n,i){var o,r,a,s,l,c,d,u;for(i=i||0,a=n,n=H(n),s={},l=t.find(">tr:not(.k-filter-row)"),c=function c(){var t=e(this);return!t.hasClass("k-group-cell")&&!t.hasClass("k-hierarchy-cell");},d=0,u=n.length;u>d;d++){o=y(n[d],a),s[o.row]||(s[o.row]=l.eq(o.row).find(".k-header").filter(c)),r=s[o.row].eq(o.cell),r.attr(ue.attr("index"),i+d);}return n.length;}function b(e){var t,n,i=1,o=0;for(t=0;e.length>t;t++){e[t].columns&&(n=b(e[t].columns),n>o&&(o=n));}return i+o;}function w(t,n,i,o){var r,a,s=C(t[0],n),l=i.find(">tr:not(.k-filter-row):eq("+s.row+")>th.k-header"),c=e(),d=s.cell;for(r=0;t.length>r;r++){c=c.add(l.eq(d+r));}for(o.find(">tr:not(.k-filter-row)").eq(s.row).append(c),a=[],r=0;t.length>r;r++){t[r].columns&&(a=a.concat(t[r].columns));}a.length&&w(a,n,i,o);}function y(e,t,n,i){var o,r;for(n=n||0,i=i||{},i[n]=i[n]||0,r=0;t.length>r;r++){if(t[r]==e){o={cell:i[n],row:n};break;}if(t[r].columns&&(o=y(e,t[r].columns,n+1,i)))break;i[n]++;}return o;}function k(e,t,n,i){var o,r=n.locked;do{o=e[t],t+=i?1:-1;}while(o&&t>-1&&e.length>t&&o!=n&&!o.columns&&o.locked==r);return o;}function x(e,t,n,i){var o,r,a,s;return t.columns?(t=t.columns,t[i?0:t.length-1]):(o=c(t,e),r=o?o.columns:e,a=xe(t,r),0===a&&i?a++:a!=r.length-1||i?(a>0||0===a&&!i)&&(a+=i?-1:1):a--,s=xe(n,r),t=k(r,a,n,s>a),t&&t!=n&&t.columns?x(e,t,n,i):null);}function C(e,t,n,i){var o,r;for(n=n||0,i=i||{},i[n]=i[n]||0,r=0;t.length>r;r++){if(t[r]==e){o={cell:i[n],row:n};break;}if(t[r].columns&&(o=C(e,t[r].columns,n+1,i)))break;t[r].hidden||i[n]++;}return o;}function S(e){var t=T(M(e));return t.concat(T(P(e)));}function T(e){var t,n=[],i=[];for(t=0;e.length>t;t++){n.push(e[t]),e[t].columns&&(i=i.concat(e[t].columns));}return i.length&&(n=n.concat(T(i))),n;}function D(e){var t,n,i=0;for(n=0;e.length>n;n++){t=e[n],t.columns?i+=D(t.columns):t.hidden&&i++;}return i;}function A(e){var t,n,i,o=0;for(n=0,i=e.length;i>n;n++){t=e[n].style.width,t&&-1==t.indexOf("%")&&(o+=parseInt(t,10));}return o;}function E(e,t){var n,i,o=e.find("tr:not(.k-filter-row) th:not(.k-group-cell,.k-hierarchy-cell)");for(i=0;o.length>i;i++){n=o[i].rowSpan,n>1&&(o[i].rowSpan=n-t||1);}}function R(e,t){var n,i=e.find("tr:not(.k-filter-row) th:not(.k-group-cell,.k-hierarchy-cell)");for(n=0;i.length>n;n++){i[n].rowSpan+=t;}}function I(t){var n,i=t.find("tr:not(.k-filter-row)"),o=i.filter(function(){return!e(this).children().length;}).remove().length,r=i.find("th:not(.k-group-cell,.k-hierarchy-cell)");for(n=0;r.length>n;n++){r[n].rowSpan>1&&(r[n].rowSpan-=o);}return i.length-o;}function F(e,t,n,i,o){var r,a,s,l=[];for(r=0,s=e.length;s>r;r++){a=n[i]||[],a.push(t.eq(o+r)),n[i]=a,e[r].columns&&(l=l.concat(e[r].columns));}l.length&&F(l,t,n,i+1,o+e.length);}function M(e){return ye(e,function(e){return e.locked;});}function P(e){return ye(e,function(e){return!e.locked;});}function z(e){return ye(e,function(e){return!e.locked&&f(e);});}function B(e){return ye(e,function(e){return e.locked&&f(e);});}function L(e){var t,n=[];for(t=0;e.length>t;t++){e[t].hidden||(e[t].columns?n=n.concat(L(e[t].columns)):n.push(e[t]));}return n;}function H(e){var t,n=[];for(t=0;e.length>t;t++){e[t].columns?n=n.concat(H(e[t].columns)):n.push(e[t]);}return n;}function N(n){var i,o=n.find(">tr:not(.k-filter-row)"),r=function r(){var t=e(this);return!t.hasClass("k-group-cell")&&!t.hasClass("k-hierarchy-cell");},a=e();return o.length>1&&(a=o.find("th").filter(r).filter(function(){return this.rowSpan>1;})),a=a.add(o.last().find("th").filter(r)),i=ue.attr("index"),a.sort(function(n,o){var r,a;return n=e(n),o=e(o),r=n.attr(i),a=o.attr(i),r===t&&(r=e(n).index()),a===t&&(a=e(o).index()),r=parseInt(r,10),a=parseInt(a,10),r>a?1:a>r?-1:0;}),a;}function O(t){var n,i,o,r,a,s,l,c=t.closest("table"),d=e().add(t),u=t.closest("tr"),h=c.find("tr:not(.k-filter-row)"),f=h.index(u);if(f>0){for(n=h.eq(f-1),i=n.find("th:not(.k-group-cell,.k-hierarchy-cell)").filter(function(){return!e(this).attr("rowspan");}),o=0,r=u.find("th:not(.k-group-cell,.k-hierarchy-cell)").index(t),a=t.prevAll(":not(.k-group-cell,.k-hierarchy-cell)").filter(function(){return this.colSpan>1;}),s=0;a.length>s;s++){o+=a[s].colSpan||1;}for(r+=Math.max(o-1,0),o=0,s=0;i.length>s;s++){if(l=i.eq(s),o+=l.attr("colSpan")?l[0].colSpan:1,r>=s&&o>r){d=O(l).add(d);break;}}}return d;}function V(t){var n,i,o,r,a,s,l,c=t.closest("thead"),d=e().add(t),u=t.closest("tr"),h=c.find("tr:not(.k-filter-row)"),f=h.index(u)+t[0].rowSpan,p=ue.attr("colspan");if(h.length-1>=f){for(n=u.next(),i=t.prevAll(":not(.k-group-cell,.k-hierarchy-cell)"),i=i.filter(function(){return!this.rowSpan||1===this.rowSpan;}),r=0,o=0;i.length>o;o++){r+=parseInt(i.eq(o).attr(p),10)||1;}for(a=n.find("th:not(.k-group-cell,.k-hierarchy-cell)"),s=parseInt(t.attr(p),10)||1,o=0;s>o;){n=a.eq(o+r),d=d.add(V(n)),l=parseInt(n.attr(p),10),l>1&&(s-=l-1),o++;}}return d;}function U(t,n,i,o){var r,a=t;return o&&t.empty(),pe?t[0].innerHTML=i:(r=document.createElement("div"),r.innerHTML="<table><tbody>"+i+"</tbody></table>",t=r.firstChild.firstChild,n[0].replaceChild(t,a[0]),t=e(t)),t;}function W(e){e=e||{};var t=e.style;return t?(t=t.replace(/((.*)?display)(.*)?:([^;]*)/i,"$1:none"),t===e.style&&(t=t.replace(/(.*)?/i,"display:none;$1"))):t="display:none",be({},e,{style:t});}function j(e){e=e||{};var t=e.style;return t&&(e.style=t.replace(/(display\s*:\s*none\s*;?)*/gi,"")),e;}function q(t,n,i,o){var r,a=t.find(">colgroup"),s=we(n,function(e){return r=e.width,r&&0!==parseInt(r,10)?ue.format('<col style="width:{0}"/>',(typeof r==="undefined"?"undefined":_typeof(r))===ct?r:r+"px"):"<col />";});(i||a.find(".k-hierarchy-col").length)&&s.splice(0,0,'<col class="k-hierarchy-col" />'),a.length&&a.remove(),a=e(Array(o+1).join('<col class="k-group-col">')+s.join("")),a.is("colgroup")||(a=e("<colgroup/>").append(a)),t.prepend(a),yt.msie&&8==yt.version&&(t.css("display","inline-table"),window.setTimeout(function(){t.css("display","");},1));}function G(e,t){var n,i,o=0,r=e.find("th:not(.k-group-cell)");for(n=0,i=t.length;i>n;n++){t[n].locked&&(r.eq(n).insertBefore(r.eq(o)),r=e.find("th:not(.k-group-cell)"),o++);}}function $(e){var t,n,i,o={};for(n=0,i=e.length;i>n;n++){t=e[n],o[t.value]=t.text;}return o;}function Y(e,t,n,i){var o=n&&n.length&&_e(n[0])&&"value"in n[0],r=o?$(n)[e]:e;return r=null!=r?r:"",t?ue.format(t,r):i===!1?r:ue.htmlEncode(r);}function K(e,t,n){for(var i,o=0,r=e[o];r;){if(i=n?!0:"none"!==r.style.display,i&&!vt.test(r.className)&&--t<0){r.style.display=n?"":"none";break;}r=e[++o];}}function Q(t,n){for(var i,o,r=0,a=t.length;a>r;r+=1){o=t.eq(r),o.is(".k-grouping-row,.k-detail-row")?(i=o.children(":not(.k-group-cell):first,.k-detail-cell").last(),i.attr("colspan",parseInt(i.attr("colspan"),10)-1)):(o.hasClass("k-grid-edit-row")&&(i=o.children(".k-edit-container")[0])&&(i=e(i),i.attr("colspan",parseInt(i.attr("colspan"),10)-1),i.find("col").eq(n).remove(),o=i.find("tr:first")),K(o[0].cells,n,!1));}}function X(e){var t,n,i=[];for(n=0;e.length>n&&(t=e[n],"field"in t&&"value"in t&&"items"in t);n++){i.push(t),t.hasSubgroups&&(i=i.concat(X(t.items)));}return i;}function J(e){var t,n,i=[];for(n=0;e.length>n&&(t=e[n],"field"in t&&"value"in t&&"items"in t);n++){t.hasSubgroups&&(i=i.concat(J(t.items))),i.push(t.aggregates);}return i;}function Z(t,n){for(var i,o,r,a=0,s=t.length;s>a;a+=1){o=t.eq(a),o.is(".k-grouping-row,.k-detail-row")?(i=o.children(":not(.k-group-cell):first,.k-detail-cell").last(),i.attr("colspan",parseInt(i.attr("colspan"),10)+1)):(o.hasClass("k-grid-edit-row")&&(i=o.children(".k-edit-container")[0])&&(i=e(i),i.attr("colspan",parseInt(i.attr("colspan"),10)+1),q(i.find(">form>table"),p(r),!1,0),o=i.find("tr:first")),K(o[0].cells,n,!0));}}function ee(e,t,n){n=n||1;var i,o,r;for(o=0,r=e.length;r>o;o++){i=e.eq(o).children().last(),i.attr("colspan",parseInt(i.attr("colspan"),10)+n),i=t.eq(o).children().last(),i.attr("colspan",parseInt(i.attr("colspan"),10)-n);}}function te(e){var t,n,i=0,o=e.find(">colgroup>col");for(t=0,n=o.length;n>t;t+=1){i+=parseInt(o[t].style.width,10);}return i;}function ne(e,t){var n,i,o,r;e=e[0],t=t[0],e.rows.length!==t.rows.length&&(n=e.offsetHeight,i=t.offsetHeight,n>i?(o=t.rows[t.rows.length-1],_t.test(o.className)&&(o=t.rows[t.rows.length-2]),r=n-i):(o=e.rows[e.rows.length-1],_t.test(o.className)&&(o=e.rows[e.rows.length-2]),r=i-n),o.style.height=o.offsetHeight+r+"px");}function ie(e,t){var n,i=e.offsetHeight,o=t.offsetHeight;i>o?n=i+"px":o>i&&(n=o+"px"),n&&(e.style.height=t.style.height=n);}function oe(e,t){var n,i,o;if((typeof e==="undefined"?"undefined":_typeof(e))===ct&&e===t)return e;if(_e(e)&&e.name===t)return e;if(ke(e))for(n=0,i=e.length;i>n;n++){if(o=e[n],(typeof o==="undefined"?"undefined":_typeof(o))===ct&&o===t||o.name===t)return o;}return null;}function re(t,n){var i,o,r=yt.msie||yt.edge;if(n===!0){if(t=e(t),i=t.parent().scrollTop(),o=t.parent().scrollLeft(),r)try{t[0].setActive();}catch(a){t[0].focus();}else t[0].focus();t.parent().scrollTop(i).scrollLeft(o);}else e(t).one("focusin",function(e){e.preventDefault();}).focus();}function ae(t){return e(t).is(":button,a,:input,a>.k-icon,textarea,span.k-select,span.k-icon,span.k-link,.k-input,.k-multiselect-wrap,.k-tool-icon");}function se(n){var i=e(n.currentTarget),o=i.is("th"),r=this.table.add(this.lockedTable),a=this.thead.parent().add(e(">table",this.lockedHeader)),s=ae(n.target),l=i.closest("table")[0];if(!ue.support.touch)return s&&i.find(ue.roleSelector("filtercell")).length?(this._setCurrent(i),t):(l!==r[0]&&l!==r[1]&&l!==a[0]&&l!==a[1]||e(n.target).is("a.k-i-collapse, a.k-i-expand")||(this.options.navigatable&&this._setCurrent(i),!o&&s||setTimeout(function(){xt&&e(ue._activeElement()).hasClass("k-widget")||ae(ue._activeElement())||re(l,!0);}),o&&n.preventDefault()),t);}function le(e){return e&&(e.hasClass("k-edit-cell")||e.parent().hasClass("k-grid-edit-row"));}function ce(e,t,i){return'<tr role="row" class="k-grouping-row">'+n(t)+'<td colspan="'+e+'" aria-expanded="true"><p class="k-reset"><a class="k-icon k-i-collapse" href="#" tabindex="-1"></a>'+i+"</p></td></tr>";}function de(e){return'<tr role="row" class="k-grouping-row"><td colspan="'+e+'" aria-expanded="true"><p class="k-reset">&nbsp;</p></td></tr>';}var ue=window.kendo,he=ue.ui,fe=ue.data.DataSource,pe=ue.support.tbodyInnerHtml,me=ue._activeElement,ge=he.Widget,ve=ue.keys,_e=e.isPlainObject,be=e.extend,we=e.map,ye=e.grep,ke=e.isArray,xe=e.inArray,Ce=Array.prototype.push,Se=e.proxy,Te=ue.isFunction,De=e.isEmptyObject,Ae=Math,Ee="progress",Re="error",Ie=":not(.k-group-cell):not(.k-hierarchy-cell):visible",Fe="tbody>tr:not(.k-grouping-row):not(.k-detail-row):not(.k-group-footer) > td:not(.k-group-cell):not(.k-hierarchy-cell)",Me="tr:not(.k-footer-template):visible",Pe=":not(.k-group-cell):not(.k-hierarchy-cell):visible",ze=Me+":first>"+Pe+":first",Be="th.k-header:not(.k-group-cell):not(.k-hierarchy-cell)",Le=".kendoGrid",He="edit",Ne="save",Oe="remove",Ve="detailInit",Ue="filterMenuInit",We="columnMenuInit",je="change",qe="columnHide",Ge="columnShow",$e="saveChanges",Ye="dataBound",Ke="detailExpand",Qe="detailCollapse",Xe="k-state-focused",Je="k-state-selected",Ze="k-grid-norecords",et="columnResize",tt="columnReorder",nt="columnLock",it="columnUnlock",ot="navigate",rt="click",at="height",st="tabIndex",lt="function",ct="string",dt="Are you sure you want to delete this record?",ut="No records available.",ht="Delete",ft="Cancel",pt=/(\}|\#)/gi,mt=/#/gi,gt="[\\x20\\t\\r\\n\\f]",vt=RegExp("(^|"+gt+")(k-group-cell|k-hierarchy-cell)("+gt+"|$)"),_t=RegExp("(^|"+gt+")(k-filter-row)("+gt+"|$)"),bt='<a class="k-button k-button-icontext #=className#" #=attr# href="\\#"><span class="#=iconClass# #=imageClass#"></span>#=text#</a>',wt=!1,yt=ue.support.browser,kt=yt.msie&&7==yt.version,xt=yt.msie&&8==yt.version,Ct=ge.extend({init:function init(e,t){var n=this;ge.fn.init.call(n,e,t),n._refreshHandler=Se(n.refresh,n),n.setDataSource(t.dataSource),n.wrap();},setDataSource:function setDataSource(e){var t=this;t.dataSource&&t.dataSource.unbind(je,t._refreshHandler),t.dataSource=e,t.dataSource.bind(je,t._refreshHandler);},options:{name:"VirtualScrollable",itemHeight:e.noop,prefetch:!0},destroy:function destroy(){var e=this;ge.fn.destroy.call(e),e.dataSource.unbind(je,e._refreshHandler),e.wrapper.add(e.verticalScrollbar).off(Le),e.drag&&(e.drag.destroy(),e.drag=null),e.wrapper=e.element=e.verticalScrollbar=null,e._refreshHandler=null;},wrap:function wrap(){var t,n=this,i=ue.support.scrollbar()+1,o=n.element;o.css({width:"auto",overflow:"hidden"}).css(wt?"padding-left":"padding-right",i),n.content=o.children().first(),t=n.wrapper=n.content.wrap('<div class="k-virtual-scrollable-wrap"/>').parent().bind("DOMMouseScroll"+Le+" mousewheel"+Le,Se(n._wheelScroll,n)),ue.support.kineticScrollNeeded&&(n.drag=new ue.UserEvents(n.wrapper,{global:!0,start:function start(e){e.sender.capture();},move:function move(e){n.verticalScrollbar.scrollTop(n.verticalScrollbar.scrollTop()-e.y.delta),t.scrollLeft(t.scrollLeft()-e.x.delta),e.preventDefault();}})),n.verticalScrollbar=e('<div class="k-scrollbar k-scrollbar-vertical" />').css({width:i}).appendTo(o).bind("scroll"+Le,Se(n._scroll,n));},_wheelScroll:function _wheelScroll(e){if(!e.ctrlKey){var t=this.verticalScrollbar,n=t.scrollTop(),i=ue.wheelDeltaY(e);!i||i>0&&0===n||0>i&&n+t[0].clientHeight==t[0].scrollHeight||(e.preventDefault(),this.verticalScrollbar.scrollTop(n+-i));}},_scroll:function _scroll(e){var t=this,n=!t.options.prefetch,i=e.currentTarget.scrollTop,o=t.dataSource,r=t.itemHeight,a=o.skip()||0,s=t._rangeStart||a,l=t.element.innerHeight(),c=!!(t._scrollbarTop&&t._scrollbarTop>i),d=Ae.max(Ae.floor(i/r),0),u=Ae.max(d+Ae.floor(l/r),0);t._scrollTop=i-s*r,t._scrollbarTop=i,t._scrolling=n,t._fetch(d,u,c)||(t.wrapper[0].scrollTop=t._scrollTop),n&&(t._scrollingTimeout&&clearTimeout(t._scrollingTimeout),t._scrollingTimeout=setTimeout(function(){t._scrolling=!1,t._page(t._rangeStart,t.dataSource.take());},100));},itemIndex:function itemIndex(e){var t=this._rangeStart||this.dataSource.skip()||0;return t+e;},position:function position(e){var t,n=this._rangeStart||this.dataSource.skip()||0,i=this.dataSource.pageSize();return t=e>n?e-n+1:n-e-1,t>i?i:t;},scrollIntoView:function scrollIntoView(e){var t=this.wrapper[0],n=t.clientHeight,i=this._scrollTop||t.scrollTop,o=e[0].offsetTop,r=e[0].offsetHeight;i>o?this.verticalScrollbar[0].scrollTop-=n/2:o+r>=i+n&&(this.verticalScrollbar[0].scrollTop+=n/2);},_fetch:function _fetch(t,n,i){var o=this,r=o.dataSource,a=o.itemHeight,s=r.take(),l=o._rangeStart||r.skip()||0,c=Ae.floor(t/s)*s,d=!1,u=.33;return l>t?(d=!0,l=Ae.max(0,n-s),o._scrollTop=(t-l)*a,o._page(l,s)):n>=l+s&&!i?(d=!0,l=t,o._scrollTop=a,o._page(l,s)):!o._fetching&&o.options.prefetch&&(c+s-s*u>t&&t>s&&r.prefetch(c-s,s,e.noop),n>c+s*u&&r.prefetch(c+s,s,e.noop)),d;},fetching:function fetching(){return this._fetching;},_page:function _page(e,t){var n=this,i=!n.options.prefetch,o=n.dataSource;clearTimeout(n._timeout),n._fetching=!0,n._rangeStart=e,o.inRange(e,t)?o.range(e,t):(i||ue.ui.progress(n.wrapper.parent(),!0),n._timeout=setTimeout(function(){n._scrolling||(i&&ue.ui.progress(n.wrapper.parent(),!0),o.range(e,t));},100));},repaintScrollbar:function repaintScrollbar(){var e,t=this,n="",i=25e4,o=t.dataSource,r=ue.support.kineticScrollNeeded?0:ue.support.scrollbar(),a=t.wrapper[0],s=t.itemHeight=t.options.itemHeight()||0,l=a.scrollWidth>a.offsetWidth?r:0,c=o.total()*s+l;for(e=0;e<Ae.floor(c/i);e++){n+='<div style="width:1px;height:'+i+'px"></div>';}c%i&&(n+='<div style="width:1px;height:'+c%i+'px"></div>'),t.verticalScrollbar.html(n),a.scrollTop=t._scrollTop;},refresh:function refresh(){var e=this,t=e.dataSource,n=e._rangeStart;ue.ui.progress(e.wrapper.parent(),!1),clearTimeout(e._timeout),e.repaintScrollbar(),e.drag&&e.drag.cancel(),n&&!e._fetching&&(e._rangeStart=t.skip(),1===t.page()&&(e.verticalScrollbar[0].scrollTop=0)),e._fetching=!1;}}),St={create:{text:"Add new record",imageClass:"k-add",className:"k-grid-add",iconClass:"k-icon"},cancel:{text:"Cancel changes",imageClass:"k-cancel",className:"k-grid-cancel-changes",iconClass:"k-icon"},save:{text:"Save changes",imageClass:"k-update",className:"k-grid-save-changes",iconClass:"k-icon"},destroy:{text:"Delete",imageClass:"k-delete",className:"k-grid-delete",iconClass:"k-icon"},edit:{text:"Edit",imageClass:"k-edit",className:"k-grid-edit",iconClass:"k-icon"},update:{text:"Update",imageClass:"k-update",className:"k-primary k-grid-update",iconClass:"k-icon"},canceledit:{text:"Cancel",imageClass:"k-cancel",className:"k-grid-cancel",iconClass:"k-icon"},excel:{text:"Export to Excel",imageClass:"k-i-excel",className:"k-grid-excel",iconClass:"k-icon"},pdf:{text:"Export to PDF",imageClass:"k-i-pdf",className:"k-grid-pdf",iconClass:"k-icon"}},Tt=ue.ui.DataBoundWidget.extend({init:function init(t,n,i){var o=this;n=ke(n)?{dataSource:n}:n,ge.fn.init.call(o,t,n),i&&(o._events=i),wt=ue.support.isRtl(t),o._element(),o._aria(),o._columns(o.options.columns),o._dataSource(),o._tbody(),o._pageable(),o._thead(),o._groupable(),o._toolbar(),o._setContentHeight(),o._templates(),o._navigatable(),o._selectable(),o._clipboard(),o._details(),o._editable(),o._attachCustomCommandsEvent(),o._minScreenSupport(),o.options.autoBind?o.dataSource.fetch():(o._group=o._groups()>0,o._footer()),o.lockedContent&&(o.wrapper.addClass("k-grid-lockedcolumns"),o._resizeHandler=function(){o.resize();},e(window).on("resize"+Le,o._resizeHandler)),ue.notify(o);},events:[je,"dataBinding","cancel",Ye,Ke,Qe,Ve,Ue,We,He,Ne,Oe,$e,et,tt,Ge,qe,nt,it,ot],setDataSource:function setDataSource(e){var t=this,n=t.options.scrollable;t.options.dataSource=e,t._dataSource(),t._pageable(),t._thead(),n&&(n.virtual?t.content.find(">.k-virtual-scrollable-wrap").scrollLeft(0):t.content.scrollLeft(0)),t.options.groupable&&t._groupable(),t.virtualScrollable&&t.virtualScrollable.setDataSource(t.options.dataSource),t.options.navigatable&&t._navigatable(),t.options.selectable&&t._selectable(),t.options.autoBind&&e.fetch();},options:{name:"Grid",columns:[],toolbar:null,autoBind:!0,filterable:!1,scrollable:!0,sortable:!1,selectable:!1,allowCopy:!1,navigatable:!1,pageable:!1,editable:!1,groupable:!1,rowTemplate:"",altRowTemplate:"",noRecords:!1,dataSource:{},height:null,resizable:!1,reorderable:!1,columnMenu:!1,detailTemplate:null,columnResizeHandleWidth:3,mobile:"",messages:{editable:{cancelDelete:ft,confirmation:dt,confirmDelete:ht},commands:{create:St.create.text,cancel:St.cancel.text,save:St.save.text,destroy:St.destroy.text,edit:St.edit.text,update:St.update.text,canceledit:St.canceledit.text,excel:St.excel.text,pdf:St.pdf.text},noRecords:ut}},destroy:function destroy(){var t,n=this;n._angularItems("cleanup"),n._destroyColumnAttachments(),ge.fn.destroy.call(n),this._navigatableTables=null,n._resizeHandler&&e(window).off("resize"+Le,n._resizeHandler),n.pager&&n.pager.element&&n.pager.destroy(),n.pager=null,n.groupable&&n.groupable.element&&n.groupable.element.kendoGroupable("destroy"),n.groupable=null,n.options.reorderable&&n.wrapper.data("kendoReorderable").destroy(),n.selectable&&n.selectable.element&&(n.selectable.destroy(),n.clearArea(),n.copyHandler&&(n.wrapper.off("keydown",n.copyHandler),n.unbind(n.copyHandler)),n.updateClipBoardState&&(n.unbind(n.updateClipBoardState),n.updateClipBoardState=null),n.clearAreaHandler&&n.wrapper.off("keyup",n.clearAreaHandler)),n.selectable=null,n.resizable&&(n.resizable.destroy(),n._resizeUserEvents&&(n._resizeHandleDocumentClickHandler&&e(document).off("click",n._resizeHandleDocumentClickHandler),n._resizeUserEvents.destroy(),n._resizeUserEvents=null),n.resizable=null),n.virtualScrollable&&n.virtualScrollable.element&&n.virtualScrollable.destroy(),n.virtualScrollable=null,n._destroyEditable(),n.dataSource&&(n.dataSource.unbind(je,n._refreshHandler).unbind(Ee,n._progressHandler).unbind(Re,n._errorHandler),n._refreshHandler=n._progressHandler=n._errorHandler=null),t=n.element.add(n.wrapper).add(n.table).add(n.thead).add(n.wrapper.find(">.k-grid-toolbar")),n.content&&(t=t.add(n.content).add(n.content.find(">.k-virtual-scrollable-wrap"))),n.lockedHeader&&n._removeLockedContainers(),n.pane&&n.pane.destroy(),n.minScreenResizeHandler&&e(window).off("resize",n.minScreenResizeHandler),n._draggableInstance&&n._draggableInstance.element&&n._draggableInstance.destroy(),n._draggableInstance=null,t.off(Le),ue.destroy(n.wrapper),n.rowTemplate=n.altRowTemplate=n.lockedRowTemplate=n.lockedAltRowTemplate=n.detailTemplate=n.footerTemplate=n.groupFooterTemplate=n.lockedGroupFooterTemplate=n.noRecordsTemplate=null,n.scrollables=n.thead=n.tbody=n.element=n.table=n.content=n.footer=n.wrapper=n.lockedTable=n.lockedContent=n.lockedHeader=n.lockedFooter=n._groupableClickHandler=n._setContentWidthHandler=null;},getOptions:function getOptions(){var n,i,o,r=this.options;return r.dataSource=null,n=be(!0,{},this.options),n.columns=ue.deepExtend([],this.columns),i=this.dataSource,o=i.options.data&&i._data,i.options.data=null,n.dataSource=e.extend(!0,{},i.options),i.options.data=o,n.dataSource.data=o,n.dataSource.page=i.page(),n.dataSource.filter=i.filter(),n.dataSource.pageSize=i.pageSize(),n.dataSource.sort=i.sort(),n.dataSource.group=i.group(),n.dataSource.aggregate=i.aggregate(),n.dataSource.transport&&(n.dataSource.transport.dataSource=null),n.pageable&&n.pageable.pageSize&&(n.pageable.pageSize=i.pageSize()),n.$angular=t,n;},setOptions:function setOptions(e){var t,n,i,o,r=this.getOptions();ue.deepExtend(r,e),e.dataSource||(r.dataSource=this.dataSource),t=this.wrapper,n=this._events,i=this.element,this.destroy(),this.options=null,this._isMobile&&(o=t.closest(ue.roleSelector("pane")).parent(),o.after(t),o.remove(),t.removeClass("k-grid-mobile")),t[0]!==i[0]&&(t.before(i),t.remove()),i.empty(),this.init(i,r,n),this._setEvents(r);},items:function items(){return this.lockedContent?this._items(this.tbody).add(this._items(this.lockedTable.children("tbody"))):this._items(this.tbody);},_items:function _items(t){return t.children().filter(function(){var t=e(this);return!t.hasClass("k-grouping-row")&&!t.hasClass("k-detail-row")&&!t.hasClass("k-group-footer");});},dataItems:function dataItems(){var e,t,n,i=ue.ui.DataBoundWidget.fn.dataItems.call(this);if(this.lockedContent){for(e=i.length,t=Array(2*e),n=e;--n>=0;){t[n]=t[n+e]=i[n];}i=t;}return i;},_destroyColumnAttachments:function _destroyColumnAttachments(){var t=this;t.resizeHandle=null,t.thead&&(this.angular("cleanup",function(){return{elements:t.thead.get()};}),t.thead.add(t.lockedHeader).find("th").each(function(){var t=e(this),n=t.data("kendoFilterMenu"),i=t.data("kendoColumnSorter"),o=t.data("kendoColumnMenu");n&&n.destroy(),i&&i.destroy(),o&&o.destroy();}));},_attachCustomCommandsEvent:function _attachCustomCommandsEvent(){var e,t,n,i=this,o=H(i.columns||[]);for(t=0,n=o.length;n>t;t++){e=o[t].command,e&&s(i,i.wrapper,e);}},_aria:function _aria(){var e=this.element.attr("id")||"aria";e&&(this._cellId=e+"_active_cell");},_element:function _element(){var t=this,n=t.element;n.is("table")||(n=t.options.scrollable?t.element.find("> .k-grid-content > table"):t.element.children("table"),n.length||(n=e("<table />").appendTo(t.element))),kt&&n.attr("cellspacing",0),t.table=n.attr("role",t._hasDetails()?"treegrid":"grid"),t._wrapper();},_createResizeHandle:function _createResizeHandle(t,n){var i,o,r,a,s,l,c,d=this,u=d.options.columnResizeHandleWidth,h=d.options.scrollable,f=d.resizeHandle,p=this._groups();if(f&&d.lockedContent&&f.data("th")[0]!==n[0]&&(f.off(Le).remove(),f=null),f||(f=d.resizeHandle=e('<div class="k-resize-handle"><div class="k-resize-handle-inner"></div></div>'),t.append(f)),wt)i=n.position().left,h&&(a=n.closest(".k-grid-header-wrap, .k-grid-header-locked"),s=yt.msie?a.scrollLeft():0,l=yt.webkit?a[0].scrollWidth-a[0].offsetWidth-a.scrollLeft():0,c=yt.mozilla?a[0].scrollWidth-a[0].offsetWidth-(a[0].scrollWidth-a[0].offsetWidth-a.scrollLeft()):0,i-=l-c+s);else{for(i=n[0].offsetWidth,o=N(n.closest("thead")).filter(":visible"),r=0;o.length>r&&o[r]!=n[0];r++){i+=o[r].offsetWidth;}p>0&&(i+=t.find(".k-group-cell:first").outerWidth()*p),d._hasDetails()&&(i+=t.find(".k-hierarchy-cell:first").outerWidth());}f.css({top:n.position().top,left:i-u,height:n.outerHeight(),width:3*u}).data("th",n).show(),f.off("dblclick"+Le).on("dblclick"+Le,function(){d._autoFitLeafColumn(n.data("index"));});},_positionColumnResizeHandle:function _positionColumnResizeHandle(){var t=this,n=t.options.columnResizeHandleWidth,i=t.lockedHeader?t.lockedHeader.find("thead:first"):e();t.thead.add(i).on("mousemove"+Le,"th",function(i){function r(){var t,n=parseFloat(e(document.documentElement).css("zoom"));return isNaN(n)&&(n=1),t=parseFloat(e(document.body).css("zoom")),isNaN(t)&&(t=1),n*t;}var a,s,l,c=e(this);c.hasClass("k-group-cell")||c.hasClass("k-hierarchy-cell")||(a=i.clientX/r(),s=e(window).scrollLeft(),l=c.offset().left+(wt?0:this.offsetWidth),a+s>l-n&&l+n>a+s?t._createResizeHandle(c.closest("div"),c):t.resizeHandle?t.resizeHandle.hide():o(t.wrapper,""));});},_resizeHandleDocumentClick:function _resizeHandleDocumentClick(t){e(t.target).closest(".k-column-active").length||(e(document).off(t),this._hideResizeHandle());},_hideResizeHandle:function _hideResizeHandle(){this.resizeHandle&&(this.resizeHandle.data("th").removeClass("k-column-active"),this.lockedContent&&!this._isMobile?(this.resizeHandle.off(Le).remove(),this.resizeHandle=null):this.resizeHandle.hide());},_positionColumnResizeHandleTouch:function _positionColumnResizeHandleTouch(){var t=this,n=t.lockedHeader?t.lockedHeader.find("thead:first"):e();t._resizeUserEvents=new ue.UserEvents(n.add(t.thead),{filter:"th:not(.k-group-cell):not(.k-hierarchy-cell)",threshold:10,hold:function hold(n){var i=e(n.target);n.preventDefault(),i.addClass("k-column-active"),t._createResizeHandle(i.closest("div"),i),t._resizeHandleDocumentClickHandler||(t._resizeHandleDocumentClickHandler=Se(t._resizeHandleDocumentClick,t)),e(document).on("click",t._resizeHandleDocumentClickHandler);}});},_resizable:function _resizable(){var t,n,i,r,a,s,l,c=this,d=c.options,u=this._isMobile,h=ue.support.mobileOS?0:ue.support.scrollbar();d.resizable&&(t=d.scrollable?c.wrapper.find(".k-grid-header-wrap:first"):c.wrapper,u?c._positionColumnResizeHandleTouch(t):c._positionColumnResizeHandle(t),c.resizable&&c.resizable.destroy(),c.resizable=new he.Resizable(t.add(c.lockedHeader),{handle:(d.scrollable?"":">")+".k-resize-handle",hint:function hint(t){return e('<div class="k-grid-resize-indicator" />').css({height:t.data("th").outerHeight()+c.tbody.attr("clientHeight")});},start:function start(t){var h,f,p,m;l=e(t.currentTarget).data("th"),u&&c._hideResizeHandle(),h=l.closest("table"),f=e.inArray(l[0],N(l.closest("thead")).filter(":visible")),a=h.parent().hasClass("k-grid-header-locked"),p=a?c.lockedTable:c.table,m=c.footer||e(),c.footer&&c.lockedContent&&(m=c.footer.children(a?".k-grid-footer-locked":".k-grid-footer-wrap")),o(c.wrapper,"col-resize"),s=d.scrollable?h.find("col:not(.k-group-col):not(.k-hierarchy-col):eq("+f+")").add(p.children("colgroup").find("col:not(.k-group-col):not(.k-hierarchy-col):eq("+f+")")).add(m.find("colgroup").find("col:not(.k-group-col):not(.k-hierarchy-col):eq("+f+")")):p.children("colgroup").find("col:not(.k-group-col):not(.k-hierarchy-col):eq("+f+")"),n=t.x.location,i=l.outerWidth(),r=a?p.children("tbody").outerWidth():c.tbody.outerWidth(),yt.webkit&&c.wrapper.addClass("k-grid-column-resizing");},resize:function resize(t){var o,u,f,p,m,g,v=wt?-1:1,_=i+t.x.location*v-n*v;d.scrollable?(a&&c.lockedFooter?o=c.lockedFooter.children("table"):c.footer&&(o=c.footer.find(">.k-grid-footer-wrap>table")),o&&o[0]||(o=e()),u=l.closest("table"),f=a?c.lockedTable:c.table,p=!1,m=c.wrapper.width()-h,g=_,a&&r-i+g>m&&(g=i+(m-r-2*h),0>g&&(g=_),p=!0),g>10&&(s.css("width",g),r&&(g=p?m-2*h:r+t.x.location*v-n*v,f.add(u).add(o).css("width",g),a||(c._footerWidth=g)))):_>10&&s.css("width",_);},resizeend:function resizeend(){var e,t,n,r=l.outerWidth();o(c.wrapper,""),yt.webkit&&c.wrapper.removeClass("k-grid-column-resizing"),i!=r&&(t=c.lockedHeader?c.lockedHeader.find("thead:first tr:first").add(c.thead.find("tr:first")):l.parent(),n=l.attr(ue.attr("index")),n||(n=t.find("th:not(.k-group-cell):not(.k-hierarchy-cell)").index(l)),e=H(c.columns)[n],e.width=r,c.trigger(et,{column:e,oldWidth:i,newWidth:r}),c._applyLockedContainersWidth(),c._syncLockedContentHeight(),c._syncLockedHeaderHeight()),c._hideResizeHandle(),l=null;}}));},_draggable:function _draggable(){var t,n=this;n.options.reorderable&&(n._draggableInstance&&n._draggableInstance.destroy(),t=n.wrapper.children(".k-grid-header"),n._draggableInstance=n.wrapper.kendoDraggable({group:ue.guid(),autoScroll:!0,filter:n.content?".k-grid-header:first "+Be:"table:first>.k-grid-header "+Be,dragstart:function dragstart(){t.children(".k-grid-header-wrap").unbind("scroll"+Le+"scrolling").bind("scroll"+Le+"scrolling",function(e){n.virtualScrollable?n.content.find(">.k-virtual-scrollable-wrap").scrollLeft(this.scrollLeft):n.scrollables.not(e.currentTarget).scrollLeft(this.scrollLeft);});},dragend:function dragend(){t.children(".k-grid-header-wrap").unbind("scroll"+Le+"scrolling");},drag:function drag(){n._hideResizeHandle();},hint:function hint(t){var n=t.attr(ue.attr("title"));return n&&(n=ue.htmlEncode(n)),e('<div class="k-header k-drag-clue" />').css({width:t.width(),paddingLeft:t.css("paddingLeft"),paddingRight:t.css("paddingRight"),lineHeight:t.height()+"px",paddingTop:t.css("paddingTop"),paddingBottom:t.css("paddingBottom")}).html(n||t.attr(ue.attr("field"))||t.text()).prepend('<span class="k-icon k-drag-status k-denied" />');}}).data("kendoDraggable"));},_reorderable:function _reorderable(){var t,n=this;n.options.reorderable&&(n.wrapper.data("kendoReorderable")&&n.wrapper.data("kendoReorderable").destroy(),t=function t(e,_t4,i){var o=e[_t4],r=e[i],a=c(o,n.columns);return e=a?a.columns:n.columns,xe(r,e);},n.wrapper.kendoReorderable({draggable:n._draggableInstance,dragOverContainers:function dragOverContainers(e,i){var o=S(n.columns);return o[e].lockable!==!1&&t(o,e,i)>-1;},inSameContainer:function inSameContainer(i){return e(i.source).parent()[0]===e(i.target).parent()[0]&&t(S(n.columns),i.sourceIndex,i.targetIndex)>-1;},change:function change(e){var i=S(n.columns),o=i[e.oldIndex],r=t(i,e.oldIndex,e.newIndex);n.trigger(tt,{newIndex:r,oldIndex:xe(o,i),column:o}),n.reorderColumn(r,o,"before"===e.position);}}));},_reorderHeader:function _reorderHeader(e,t,n){var i,o,s,l,c=this,d=y(e[0],c.columns),u=y(t,c.columns),h=[];for(i=0;e.length>i;i++){e[i].columns&&(h=h.concat(e[i].columns));}o=a(c.lockedHeader,c.thead,"tr:eq("+d.row+")>th.k-header:not(.k-group-cell,.k-hierarchy-cell)"),s=M(e).length,l=M([t]).length,h.length?(s>0&&0===l?v(e,t,h,c.columns,c.lockedHeader.find("thead"),c.thead,this._groups()):0===s&&l>0&&v(e,t,h,c.columns,c.thead,c.lockedHeader.find("thead"),this._groups()),(t.columns||d.cell-u.cell>1||u.cell-d.cell>1)&&(t=x(c.columns,t,e[0],n),t&&c._reorderHeader(h,t,n))):s!==l&&g(o[d.cell],c.columns,s),r(o,d.cell,u.cell,n,e.length);},_reorderContent:function _reorderContent(t,n,i){var o,s,l,c,d=this,u=e(),h=t[0],f=p(t),m=xe(h,H(d.columns)),g=xe(n,H(d.columns)),v=xe(h,L(d.columns)),_=xe(n,L(d.columns)),b=M(d.columns).length,w=!!n.locked,y=d.footer||d.wrapper.find(".k-grid-footer"),k=o=_;for(n.hidden&&(w?(_=d.lockedTable.find("colgroup"),k=d.lockedHeader.find("colgroup"),o=e(d.lockedFooter).find(">table>colgroup")):(_=d.tbody.prev(),k=d.thead.prev(),o=y.find(".k-grid-footer-wrap").find(">table>colgroup"))),d._hasFilterRow()&&r(d.wrapper.find(".k-filter-row th:not(.k-group-cell,.k-hierarchy-cell)"),m,g,i,t.length),r(a(d.lockedHeader,d.thead.prev(),"col:not(.k-group-col,.k-hierarchy-col)"),v,k,i,f.length),d.options.scrollable&&r(a(d.lockedTable,d.tbody.prev(),"col:not(.k-group-col,.k-hierarchy-col)"),v,_,i,f.length),y&&y.length&&(r(a(d.lockedFooter,y.find(".k-grid-footer-wrap"),">table>colgroup>col:not(.k-group-col,.k-hierarchy-col)"),v,o,i,f.length),r(y.find(".k-footer-template>td:not(.k-group-cell,.k-hierarchy-cell)"),m,g,i,t.length)),s=d.tbody.children(":not(.k-grouping-row,.k-detail-row)"),d.lockedTable&&(b>g?m>=b&&ee(d.lockedTable.find(">tbody>tr.k-grouping-row"),d.table.find(">tbody>tr.k-grouping-row"),t.length):b>m&&ee(d.table.find(">tbody>tr.k-grouping-row"),d.lockedTable.find(">tbody>tr.k-grouping-row"),t.length),u=d.lockedTable.find(">tbody>tr:not(.k-grouping-row,.k-detail-row)")),l=0,c=s.length;c>l;l+=1){r(a(u[l],s[l],">td:not(.k-group-cell,.k-hierarchy-cell)"),m,g,i,t.length);}},_autoFitLeafColumn:function _autoFitLeafColumn(e){this.autoFitColumn(H(this.columns)[e]);},autoFitColumn:function autoFitColumn(t){var n,i,o,r,a,s,l,c,d,u,p,m,g,v,_,b,w,y=this,k=y.options,x=y.columns,C=y.lockedHeader?N(y.lockedHeader.find(">table>thead")).filter(h).length:0,S="col:not(.k-group-col):not(.k-hierarchy-col)",D="td:visible:not(.k-group-cell):not(.k-hierarchy-cell)";if(t="number"==typeof t?x[t]:_e(t)?ye(T(x),function(e){return e===t;})[0]:ye(T(x),function(e){return e.field===t;})[0],t&&f(t)){for(n=xe(t,H(x)),r=t.locked,o=r?y.lockedHeader.children("table"):y.thead.parent(),i=o.find("[data-index='"+n+"']"),s=r?y.lockedTable:y.table,l=y.footer||e(),y.footer&&y.lockedContent&&(l=y.footer.children(r?".k-grid-footer-locked":".k-grid-footer-wrap")),c=l.find("table").first(),y.lockedHeader&&!r&&(n-=C),d=0;x.length>d&&x[d]!==t;d++){x[d].hidden&&n--;}if(a=k.scrollable?o.find(S).eq(n).add(s.children("colgroup").find(S).eq(n)).add(c.find("colgroup").find(S).eq(n)):s.children("colgroup").find(S).eq(n),u=o.add(s).add(c),p=i.outerWidth(),a.width(""),u.css("table-layout","fixed"),a.width("auto"),u.addClass("k-autofitting"),u.css("table-layout",""),m=Math.ceil(Math.max(i.outerWidth(),s.find("tr:not(.k-grouping-row)").eq(0).children(D).eq(n).outerWidth(),c.find("tr").eq(0).children(D).eq(n).outerWidth()))+1,a.width(m),t.width=m,k.scrollable){for(g=o.find("col"),_=0,b=0,w=g.length;w>b;b+=1){if(v=g[b].style.width,!v||-1!=v.indexOf("%")){_=0;break;}_+=parseInt(v,10);}_&&u.each(function(){this.style.width=_+"px";});}yt.msie&&8==yt.version&&(u.css("display","inline-table"),setTimeout(function(){u.css("display","table");},1)),u.removeClass("k-autofitting"),y.trigger(et,{column:t,oldWidth:p,newWidth:m}),y._applyLockedContainersWidth(),y._syncLockedContentHeight(),y._syncLockedHeaderHeight();}},reorderColumn:function reorderColumn(e,n,i){var o,r,a=this,s=c(n,a.columns),l=s?s.columns:a.columns,d=xe(n,l),u=l[e],h=!!u.locked,f=M(a.columns).length;d!==e&&(!n.locked&&h&&1==P(a.columns).length||n.locked&&!h&&1==f||(a._hideResizeHandle(),i===t&&(i=d>e),r=[n],a._reorderHeader(r,u,i),a.lockedHeader&&(I(a.thead),I(a.lockedHeader)),u.columns&&(u=H(u.columns),u=u[i?0:u.length-1]),n.columns&&(r=H(n.columns)),a._reorderContent(r,u,i),o=!!n.locked,o=o!=h,n.locked=h,l.splice(i?e:e+1,0,n),l.splice(e>d?d:d+1,1),a._templates(),a._updateColumnCellIndex(),a._updateTablesWidth(),a._applyLockedContainersWidth(),a._syncLockedHeaderHeight(),a._syncLockedContentHeight(),a._updateFirstColumnClass(),o&&(h?a.trigger(nt,{column:n}):a.trigger(it,{column:n}))));},_updateColumnCellIndex:function _updateColumnCellIndex(){var e,t=0;this.lockedHeader&&(e=this.lockedHeader.find("thead"),t=_(e,M(this.columns))),_(this.thead,P(this.columns),t);},lockColumn:function lockColumn(e){var t,n=this.columns;e="number"==typeof e?n[e]:ye(n,function(t){return t.field===e;})[0],!e||e.locked||e.hidden||(t=M(n).length-1,this.reorderColumn(t,e,!1));},unlockColumn:function unlockColumn(e){var t,n=this.columns;e="number"==typeof e?n[e]:ye(n,function(t){return t.field===e;})[0],e&&e.locked&&!e.hidden&&(t=M(n).length,this.reorderColumn(t,e,!0));},cellIndex:function cellIndex(t){var n=0;return this.lockedTable&&!e.contains(this.lockedTable[0],t[0])&&(n=H(M(this.columns)).length),e(t).parent().children("td:not(.k-group-cell,.k-hierarchy-cell)").index(t)+n;},_modelForContainer:function _modelForContainer(t){t=e(t),t.is("tr")||"popup"===this._editMode()||(t=t.closest("tr"));var n=t.attr(ue.attr("uid"));return this.dataSource.getByUid(n);},_editable:function _editable(){var t,n=this,i=n.selectable&&n.selectable.options.multiple,o=n.options.editable,r=function r(){var t=me(),i=n._editContainer;!i||e.contains(i[0],t)||i[0]===t||e(t).closest(".k-animation-container").length||n.editable.end()&&n.closeCell();};o&&(this.wrapper.addClass("k-editable"),t=n._editMode(),"incell"===t?o.update!==!1&&n.wrapper.on(rt+Le,"tr:not(.k-grouping-row) > td",function(t){var o=e(this),r=n.lockedTable&&o.closest("table")[0]===n.lockedTable[0];o.hasClass("k-hierarchy-cell")||o.hasClass("k-detail-cell")||o.hasClass("k-group-cell")||o.hasClass("k-edit-cell")||o.has("a.k-grid-delete").length||o.has("button.k-grid-delete").length||o.closest("tbody")[0]!==n.tbody[0]&&!r||e(t.target).is(":input")||(n.editable?n.editable.end()&&(i&&e(me()).blur(),n.closeCell(),n.editCell(o)):n.editCell(o));}).on("focusin"+Le,function(){e.contains(this,me())||(clearTimeout(n.timer),n.timer=null);}).on("focusout"+Le,function(){n.timer=setTimeout(r,1);}):o.update!==!1&&n.wrapper.on(rt+Le,"tbody>tr:not(.k-detail-row,.k-grouping-row):visible a.k-grid-edit",function(t){t.preventDefault(),n.editRow(e(this).closest("tr"));}),o.destroy!==!1?n.wrapper.on(rt+Le,"tbody>tr:not(.k-detail-row,.k-grouping-row):visible .k-grid-delete",function(t){t.preventDefault(),t.stopPropagation(),n.removeRow(e(this).closest("tr"));}):n.wrapper.on(rt+Le,"tbody>tr:not(.k-detail-row,.k-grouping-row):visible button.k-grid-delete",function(e){e.stopPropagation(),n._confirmation()||e.preventDefault();}));},editCell:function editCell(t){var n,i,o,r;t=e(t),n=this,i=H(n.columns)[n.cellIndex(t)],o=n._modelForContainer(t),n.closeCell(),!o||o.editable&&!o.editable(i.field)||i.command||!i.field||(n._attachModelChange(o),n._editContainer=t,n.editable=t.addClass("k-edit-cell").kendoEditable({fields:{field:i.field,format:i.format,editor:i.editor,values:i.values},model:o,target:n,change:function change(e){n.trigger(Ne,{values:e.values,container:t,model:o})&&e.preventDefault();}}).data("kendoEditable"),r=t.parent().addClass("k-grid-edit-row"),n.lockedContent&&ie(r[0],n._relatedRow(r).addClass("k-grid-edit-row")[0]),n.trigger(He,{container:t,model:o}));},_adjustLockedHorizontalScrollBar:function _adjustLockedHorizontalScrollBar(){var e=this.table,t=e.parent(),n=e[0].offsetWidth>t[0].clientWidth?ue.support.scrollbar():0;this.lockedContent.height(t.height()-n);},_syncLockedContentHeight:function _syncLockedContentHeight(){this.lockedTable&&(this.touchScroller||this._adjustLockedHorizontalScrollBar(),this._adjustRowsHeight(this.table,this.lockedTable));},_syncLockedHeaderHeight:function _syncLockedHeaderHeight(){var e,t;this.lockedHeader&&(e=this.lockedHeader.children("table"),t=this.thead.parent(),this._adjustRowsHeight(e,t),ne(e,t));},_syncLockedFooterHeight:function _syncLockedFooterHeight(){this.lockedFooter&&this.footer&&this.footer.length&&this._adjustRowsHeight(this.lockedFooter.children("table"),this.footer.find(".k-grid-footer-wrap > table"));},_destroyEditable:function _destroyEditable(){var e=this,t=function t(){if(e.editable){var t=e.editView?e.editView.element:e._editContainer;t&&(t.off(rt+Le,"a.k-grid-cancel",e._editCancelClickHandler),t.off(rt+Le,"a.k-grid-update",e._editUpdateClickHandler)),e._detachModelChange(),e.editable.destroy(),e.editable=null,e._editContainer=null,e._destroyEditView();}};e.editable&&("popup"!==e._editMode()||e._isMobile?t():e._editContainer.data("kendoWindow").bind("deactivate",t).close()),e._actionSheet&&(e._actionSheet.destroy(),e._actionSheet=null);},_destroyEditView:function _destroyEditView(){this.editView&&(this.editView.purge(),this.editView=null,this.pane.navigate(""));},_attachModelChange:function _attachModelChange(e){var t=this;t._modelChangeHandler=function(e){t._modelChange({field:e.field,model:this});},e.bind("change",t._modelChangeHandler);},_detachModelChange:function _detachModelChange(){var e=this,t=e._editContainer,n=e._modelForContainer(t);n&&n.unbind(je,e._modelChangeHandler);},closeCell:function closeCell(t){var n,i,o,r,a=this,s=a._editContainer;s&&(n=s.closest("tr").attr(ue.attr("uid")),r=a.dataSource.getByUid(n),t&&a.trigger("cancel",{container:s,model:r})||(s.removeClass("k-edit-cell"),i=H(a.columns)[a.cellIndex(s)],o=s.parent().removeClass("k-grid-edit-row"),a._destroyEditable(),a._displayCell(s,i,r),s.hasClass("k-dirty-cell")&&e('<span class="k-dirty"/>').prependTo(s),a.trigger("itemChange",{item:o,data:r,ns:he}),a.lockedContent&&ie(o.css("height","")[0],a._relatedRow(o).css("height","")[0])));},_displayCell:function _displayCell(e,t,n){var i=this,o={storage:{},count:0},r=be({},ue.Template,i.options.templateSettings),a=ue.template(i._cellTmpl(t,o),r);o.count>0&&(a=Se(a,o.storage)),e.empty().html(a(n)),i.angular("compile",function(){return{elements:e,data:[{dataItem:n}]};});},removeRow:function removeRow(e){this._confirmation(e)&&this._removeRow(e);},_removeRow:function _removeRow(t){var n,i=this,o=i._editMode();"incell"!==o&&i.cancelRow(),t=e(t),i.lockedContent&&(t=t.add(i._relatedRow(t))),t=t.hide(),n=i._modelForContainer(t),n&&!i.trigger(Oe,{row:t,model:n})?(i.dataSource.remove(n),"inline"!==o&&"popup"!==o||i.dataSource.sync()):"incell"===o&&i._destroyEditable();},_editMode:function _editMode(){var e="incell",t=this.options.editable;return t!==!0&&(e="string"==typeof t?t:t.mode||e),e;},editRow:function editRow(n){var i,o,r,a=this;n instanceof ue.data.ObservableObject?i=n:(n=e(n),i=a._modelForContainer(n)),o=a._editMode(),a.cancelRow(),i&&(n=a.tbody.children("["+ue.attr("uid")+"="+i.uid+"]"),a._attachModelChange(i),"popup"===o?a._createPopupEditor(i):"inline"===o?a._createInlineEditor(n,i):"incell"===o&&e(n).children(Ie).each(function(){var n=e(this),o=H(a.columns)[a.cellIndex(n)];return i=a._modelForContainer(n),i&&(!i.editable||i.editable(o.field))&&o.field?(a.editCell(n),!1):t;}),r=a.editView?a.editView.element:a._editContainer,r&&(this._editCancelClickHandler||(this._editCancelClickHandler=Se(this._editCancelClick,this)),r.on(rt+Le,"a.k-grid-cancel",this._editCancelClickHandler),this._editUpdateClickHandler||(this._editUpdateClickHandler=Se(this._editUpdateClick,this)),r.on(rt+Le,"a.k-grid-update",this._editUpdateClickHandler)));},_editUpdateClick:function _editUpdateClick(e){e.preventDefault(),e.stopPropagation(),this.saveRow();},_editCancelClick:function _editCancelClick(t){var n,i=this,o=i.options.navigatable,r=i.editable.options.model,a=i.editView?i.editView.element:i._editContainer;t.preventDefault(),t.stopPropagation(),i.trigger("cancel",{container:a,model:r})||(n=i.items().index(e(i.current()).parent()),i.cancelRow(),o&&(i._setCurrent(i.items().eq(n).children().filter(Pe).first()),re(i.table,!0)));},_createPopupEditor:function _createPopupEditor(n){var i,o,r,a,s,l,c,d,u,h,f,p=this,m="<div "+ue.attr("uid")+'="'+n.uid+'" class="k-popup-edit-form'+(p._isMobile?" k-mobile-list":"")+'"><div class="k-edit-form-container">',g=[],v=H(p.columns),_=p.options.editable,b=_.template,w=_e(_)?_.window:{},y=be({},ue.Template,p.options.templateSettings);if(w=w||{},b)for((typeof b==="undefined"?"undefined":_typeof(b))===ct&&(b=window.unescape(b)),m+=ue.template(b,y)(n),r=0,a=v.length;a>r;r++){i=v[r],i.command&&(d=oe(i.command,"edit"),d&&(o=d));}else for(r=0,a=v.length;a>r;r++){i=v[r],i.command?i.command&&(d=oe(i.command,"edit"),d&&(o=d)):(m+='<div class="k-edit-label"><label for="'+i.field+'">'+(i.title||i.field||"")+"</label></div>",n.editable&&!n.editable(i.field)||!i.field?(h={storage:{},count:0},s=ue.template(p._cellTmpl(i,h),y),h.count>0&&(s=Se(s,h.storage)),m+='<div class="k-edit-field">'+s(n)+"</div>"):(g.push({field:i.field,format:i.format,editor:i.editor,values:i.values}),m+="<div "+ue.attr("container-for")+'="'+i.field+'" class="k-edit-field"></div>'));}o&&_e(o)&&(o.text&&_e(o.text)&&(l=o.text.update,c=o.text.cancel),o.attr&&(u=o.attr)),p._isMobile?(m+="</div></div>",p.editView=p.pane.append("<div data-"+ue.ns+'role="view" data-'+ue.ns+'use-native-scrolling="true" data-'+ue.ns+'init-widgets="false" class="k-grid-edit-form"><div data-'+ue.ns+'role="header" class="k-header">'+p._createButton({name:"update",text:l,attr:u})+(w.title||"Edit")+p._createButton({name:"canceledit",text:c,attr:u})+"</div>"+m+"</div>"),f=p._editContainer=p.editView.element.find(".k-popup-edit-form")):(m+='<div class="k-edit-buttons k-state-default">',m+=p._createButton({name:"update",text:l,attr:u})+p._createButton({name:"canceledit",text:c,attr:u}),m+="</div></div></div>",f=p._editContainer=e(m).appendTo(p.wrapper).eq(0).kendoWindow(be({modal:!0,resizable:!1,draggable:!0,title:"Edit",visible:!1,close:function close(i){if(i.userTriggered){if(i.sender.element.focus(),p.trigger("cancel",{container:f,model:n}))return i.preventDefault(),t;var o=p.items().index(e(p.current()).parent());p.cancelRow(),p.options.navigatable&&(p._setCurrent(p.items().eq(o).children().filter(Pe).first()),re(p.table,!0));}}},w))),p.editable=p._editContainer.kendoEditable({fields:g,model:n,clearContainer:!1,target:p}).data("kendoEditable"),p._isMobile&&f.find("input[type=checkbox],input[type=radio]").parent(".k-edit-field").addClass("k-check").prev(".k-edit-label").addClass("k-check").click(function(){e(this).next().children("input").click();}),p._openPopUpEditor(),p.trigger(He,{container:f,model:n});},_openPopUpEditor:function _openPopUpEditor(){this._isMobile?this.pane.navigate(this.editView,this._editAnimation):this._editContainer.data("kendoWindow").center().open();},_createInlineEditor:function _createInlineEditor(t,n){var i,o,r,a=this,s=[];a.lockedContent&&(t=t.add(a._relatedRow(t))),t.children(":not(.k-group-cell,.k-hierarchy-cell)").each(function(){if(o=e(this),i=H(a.columns)[a.cellIndex(o)],i.command||!i.field||n.editable&&!n.editable(i.field)){if(i.command&&(r=oe(i.command,"edit"))){o.empty();var t,l,c;_e(r)&&(r.text&&_e(r.text)&&(t=r.text.update,l=r.text.cancel),r.attr&&(c=r.attr)),e(a._createButton({name:"update",text:t,attr:c})+a._createButton({name:"canceledit",text:l,attr:c})).appendTo(o);}}else s.push({field:i.field,format:i.format,editor:i.editor,values:i.values}),o.attr(ue.attr("container-for"),i.field),o.empty();}),a._editContainer=t,a.editable=new ue.ui.Editable(t.addClass("k-grid-edit-row"),{target:a,fields:s,model:n,clearContainer:!1}),t.length>1&&(ie(t[0],t[1]),a._applyLockedContainersWidth()),a.trigger(He,{container:t,model:n});},cancelRow:function cancelRow(e){var t,n=this,i=n._editContainer;if(i){if(t=n._modelForContainer(i),e&&n.trigger("cancel",{container:i,model:t}))return;n._destroyEditable(),n.dataSource.cancelChanges(t),n._displayRow("popup"!==n._editMode()?i:n.tbody.find("["+ue.attr("uid")+"="+t.uid+"]"));}},saveRow:function saveRow(){var e=this,t=e._editContainer,n=e._modelForContainer(t),i=e.editable;t&&i&&i.end()&&!e.trigger(Ne,{container:t,model:n})&&e.dataSource.sync();},_displayRow:function _displayRow(t){var n,i,o,r,a,s=this,l=s._modelForContainer(t),c=t.hasClass("k-state-selected"),d=t.hasClass("k-alt");l&&(s.lockedContent&&(n=e((d?s.lockedAltRowTemplate:s.lockedRowTemplate)(l)),s._relatedRow(t.last()).replaceWith(n)),s.angular("cleanup",function(){return{elements:t.get()};}),i=e((d?s.altRowTemplate:s.rowTemplate)(l)),t.replaceWith(i),s.trigger("itemChange",{item:i,data:l,ns:he}),n&&n.length&&s.trigger("itemChange",{item:n,data:l,ns:he}),r=i,a=[{dataItem:l}],n&&n.length&&(r=i.add(n),a.push({dataItem:l})),s.angular("compile",function(){return{elements:r.get(),data:a};}),c&&s.options.selectable&&s.select(i.add(n)),n&&ie(i[0],n[0]),o=i.next(),o.hasClass("k-detail-row")&&o.is(":visible")&&i.find(".k-hierarchy-cell .k-icon").removeClass("k-plus").addClass("k-minus"));},_showMessage:function _showMessage(t,n){var i,o,r,a=this;return a._isMobile?(i=ue.template('<ul><li class="km-actionsheet-title">#:title#</li><li><a href="\\#" class="k-button k-grid-delete">#:confirmDelete#</a></li></ul>'),o=e(i(t)).appendTo(a.view.element),r=a._actionSheet=new ue.mobile.ui.ActionSheet(o,{cancel:t.cancelDelete,cancelTemplate:'<li class="km-actionsheet-cancel"><a class="k-button" href="\\#">#:cancel#</a></li>',close:function close(){this.destroy();},command:function command(t){var i=e(t.currentTarget).parent();i.hasClass("km-actionsheet-cancel")||a._removeRow(n);},popup:a._actionSheetPopupOptions}),r.open(n),!1):window.confirm(t.title);},_confirmation:function _confirmation(e){var t=this,n=t.options.editable,i=n===!0||(typeof n==="undefined"?"undefined":_typeof(n))===ct?t.options.messages.editable.confirmation:n.confirmation;return i!==!1&&null!=i?((typeof i==="undefined"?"undefined":_typeof(i))===lt&&(i=i(t._modelForContainer(e))),t._showMessage({confirmDelete:n.confirmDelete||t.options.messages.editable.confirmDelete,cancelDelete:n.cancelDelete||t.options.messages.editable.cancelDelete,title:i===!0?t.options.messages.editable.confirmation:i},e)):!0;},cancelChanges:function cancelChanges(){this.dataSource.cancelChanges();},saveChanges:function saveChanges(){var e=this;(e.editable&&e.editable.end()||!e.editable)&&!e.trigger($e)&&e.dataSource.sync();},addRow:function addRow(){var e,t,n,i,o,r,a=this,s=a.dataSource,l=a._editMode(),c=a.options.editable.createAt||"",d=s.pageSize(),u=s.view()||[];(a.editable&&a.editable.end()||!a.editable)&&("incell"!=l&&a.cancelRow(),e=s.indexOf(u[0]),"bottom"==c.toLowerCase()&&(e+=u.length,d&&!s.options.serverPaging&&u.length>=d&&(e-=1)),0>e&&(e=s.page()>s.totalPages()?(s.page()-1)*d:0),t=s.insert(e,{}),n=t.uid,i=a.lockedContent?a.lockedTable:a.table,o=i.find("tr["+ue.attr("uid")+"="+n+"]"),r=o.children("td:not(.k-group-cell,.k-hierarchy-cell)").eq(a._firstEditableColumnIndex(o)),"inline"===l&&o.length?a.editRow(o):"popup"===l?a.editRow(t):r.length&&a.editCell(r),"bottom"==c.toLowerCase()&&a.lockedContent&&(a.lockedContent[0].scrollTop=a.content[0].scrollTop=a.table[0].offsetHeight));},_firstEditableColumnIndex:function _firstEditableColumnIndex(e){var t,n,i,o=this,r=H(o.columns),a=o._modelForContainer(e);for(n=0,i=r.length;i>n;n++){if(t=r[n],a&&(!a.editable||a.editable(t.field))&&!t.command&&t.field&&t.hidden!==!0)return n;}return-1;},_toolbar:function _toolbar(){var t,n=this,i=n.wrapper,o=n.options.toolbar,r=n.options.editable;o&&(t=n.wrapper.find(".k-grid-toolbar"),t.length||(Te(o)||(o=(typeof o==="undefined"?"undefined":_typeof(o))===ct?o:n._toolbarTmpl(o).replace(mt,"\\#"),o=Se(ue.template(o),n)),t=e('<div class="k-header k-grid-toolbar" />').html(o({})).prependTo(i),n.angular("compile",function(){return{elements:t.get()};})),r&&r.create!==!1&&t.on(rt+Le,".k-grid-add",function(e){e.preventDefault(),n.addRow();}).on(rt+Le,".k-grid-cancel-changes",function(e){e.preventDefault(),n.cancelChanges();}).on(rt+Le,".k-grid-save-changes",function(e){e.preventDefault(),n.saveChanges();}),t.on(rt+Le,".k-grid-excel",function(e){e.preventDefault(),n.saveAsExcel();}),t.on(rt+Le,".k-grid-pdf",function(e){e.preventDefault(),n.saveAsPDF();}));},_toolbarTmpl:function _toolbarTmpl(e){var t,n,i=this,o="";if(ke(e))for(t=0,n=e.length;n>t;t++){o+=i._createButton(e[t]);}return o;},_createButton:function _createButton(e){var n,o=e.template||bt,r=(typeof e==="undefined"?"undefined":_typeof(e))===ct?e:e.name||e.text,a=St[r]?St[r].className:"k-grid-"+(r||"").replace(/\s/g,""),s={className:a,text:r,imageClass:"",attr:"",iconClass:""},l=this.options.messages.commands;if(!(r||_e(e)&&e.template))throw Error("Custom commands should have name specified");return _e(e)?(e=be(!0,{},e),e.className&&xe(s.className,e.className.split(" "))<0?e.className+=" "+s.className:e.className===t&&(e.className=s.className),"edit"===r&&_e(e.text)&&(e=be(!0,{},e),e.text=e.text.edit),e.attr&&(_e(e.attr)&&(e.attr=i(e.attr)),_typeof(e.attr)===ct&&(n=e.attr.match(/class="(.+?)"/),n&&xe(n[1],e.className.split(" "))<0&&(e.className+=" "+n[1]))),s=be(!0,s,St[r],{text:l[r]},e)):s=be(!0,s,St[r],{text:l[r]}),ue.template(o)(s);},_hasFooters:function _hasFooters(){return!!this.footerTemplate||!!this.groupFooterTemplate||this.footer&&this.footer.length>0||this.wrapper.find(".k-grid-footer").length>0;},_groupable:function _groupable(){var t=this;t._groupableClickHandler?t.table.add(t.lockedTable).off(rt+Le,t._groupableClickHandler):t._groupableClickHandler=function(n){var i=e(this),o=i.closest("tr");i.hasClass("k-i-collapse")?t.collapseGroup(o):t.expandGroup(o),n.preventDefault(),n.stopPropagation();},t._isLocked()?t.lockedTable.on(rt+Le,".k-grouping-row .k-i-collapse, .k-grouping-row .k-i-expand",t._groupableClickHandler):t.table.on(rt+Le,".k-grouping-row .k-i-collapse, .k-grouping-row .k-i-expand",t._groupableClickHandler),t._attachGroupable();},_attachGroupable:function _attachGroupable(){var t=this,n=t.wrapper,i=t.options.groupable,o=Be+"["+ue.attr("field")+"]",r=t.content?".k-grid-header:first "+o:"table:first>.k-grid-header "+o;i&&i.enabled!==!1&&(n.has("div.k-grouping-header")[0]||e("<div>&nbsp;</div>").addClass("k-grouping-header").prependTo(n),t.groupable&&t.groupable.destroy(),t.groupable=new he.Groupable(n,be({},i,{draggable:t._draggableInstance,groupContainer:">div.k-grouping-header",dataSource:t.dataSource,draggableElements:r,filter:r,allowDrag:t.options.reorderable})));},_continuousItems:function _continuousItems(t,n){var i,o,r,a,s,l,c,d;if(this.lockedContent){for(i=this,o=i.table.add(i.lockedTable),r=e(t,o[0]),a=e(t,o[1]),s=n?M(i.columns).length:1,l=n?i.columns.length-s:1,c=[],d=0;r.length>d;d+=s){Ce.apply(c,r.slice(d,d+s)),Ce.apply(c,a.splice(0,l));}return c;}},_selectable:function _selectable(){var n,i,o,r,a=this,s=[],l=a._isLocked(),c=a.options.selectable;c&&(a.selectable&&a.selectable.destroy(),c=ue.ui.Selectable.parseOptions(c),n=c.multiple,i=c.cell,a._hasDetails()&&(s[s.length]=".k-detail-row"),(a.options.groupable||a._hasFooters())&&(s[s.length]=".k-grouping-row,.k-group-footer"),s=s.join(","),""!==s&&(s=":not("+s+")"),o=a.table,l&&(o=o.add(a.lockedTable)),r=">"+(i?Fe:"tbody>tr"+s),a.selectable=new ue.ui.Selectable(o,{filter:r,aria:!0,multiple:n,change:function change(){a.trigger(je);},useAllItems:l&&n&&i,relatedTarget:function relatedTarget(t){var n,o,r,s;if(!i&&l){for(o=e(),r=0,s=t.length;s>r;r++){n=a._relatedRow(t[r]),xe(n[0],t)<0&&(o=o.add(n));}return o;}},continuousItems:function continuousItems(){return a._continuousItems(r,i);}}),a.options.navigatable&&o.on("keydown"+Le,function(r){var s=a.current(),c=r.target;if(r.keyCode===ve.SPACEBAR&&e.inArray(c,o)>-1&&!s.is(".k-edit-cell,.k-header")&&s.parent().is(":not(.k-grouping-row,.k-detail-row,.k-group-footer)")){if(r.preventDefault(),r.stopPropagation(),s=i?s:s.parent(),l&&!i&&(s=s.add(a._relatedRow(s))),n){if(r.ctrlKey){if(s.hasClass(Je))return s.removeClass(Je),a.trigger(je),t;}else a.selectable.clear();}else a.selectable.clear();a.selectable.value(s);}}));},_clipboard:function _clipboard(){var e,t=this.options,n=t.selectable;n&&t.allowCopy&&(e=this,t.navigatable||e.table.add(e.lockedTable).attr("tabindex",0).on("mousedown"+Le+" keydown"+Le,".k-detail-cell",function(e){e.target!==e.currentTarget&&e.stopImmediatePropagation();}).on("mousedown"+Le,Me+">"+Pe,Se(se,e)),e.copyHandler=Se(e.copySelection,e),e.updateClipBoardState=function(){e.areaClipBoard&&e.areaClipBoard.val(e.getTSV()).focus().select();},e.bind("change",e.updateClipBoardState),e.wrapper.on("keydown",e.copyHandler),e.clearAreaHandler=Se(e.clearArea,e),e.wrapper.on("keyup",e.clearAreaHandler));},copySelection:function copySelection(t){t instanceof jQuery.Event&&!t.ctrlKey&&!t.metaKey||e(t.target).is("input:visible,textarea:visible")||window.getSelection&&""+window.getSelection()||document.selection&&document.selection.createRange().text||(this.areaClipBoard||(this.areaClipBoard=e("<textarea />").css({position:"fixed",top:"50%",left:"50%",opacity:0,width:0,height:0}).appendTo(this.wrapper)),this.areaClipBoard.val(this.getTSV()).focus().select());},getTSV:function getTSV(){var t,n,i,o,r,a,s=this,l=s.select(),c="	",d=s.options.allowCopy,u=!0;return e.isPlainObject(d)&&d.delimeter&&(c=d.delimeter),t="",l.length&&(l.eq(0).is("tr")&&(l=l.find("td:not(.k-group-cell)")),u&&l.filter(":visible"),n=[],i=this.columns.length,o=s._isLocked()&&M(s.columns).length,r=!0,e.each(l,function(t,a){var l,c,d,h;a=e(a),l=a.closest("tr"),c=l.index(),d=a.index(),u&&(d-=a.prevAll(":hidden").length),o&&r&&(r=e.contains(s.lockedTable[0],a[0])),s._groups()&&r&&(d-=s._groups()),d=r?d:d+o,i>d&&(i=d),h=a.text(),n[c]||(n[c]=[]),n[c][d]=h;}),a=n.length,n=e.each(n,function(e,t){t&&(n[e]=t.slice(i),a>e&&(a=e));}),e.each(n.slice(a),function(e,n){t+=n?n.join(c)+"\r\n":"\r\n";})),t;},clearArea:function clearArea(t){var n;this.areaClipBoard&&t&&t.target===this.areaClipBoard[0]&&(n=this.options.navigatable?e(this.current()).closest("table"):this.table,re(n,!0)),this.areaClipBoard&&(this.areaClipBoard.remove(),this.areaClipBoard=null);},_minScreenSupport:function _minScreenSupport(){var t=this.hideMinScreenCols();t&&(this.minScreenResizeHandler=Se(this.hideMinScreenCols,this),e(window).on("resize",this.minScreenResizeHandler));},hideMinScreenCols:function hideMinScreenCols(){var e=this.columns,t=window.innerWidth>0?window.innerWidth:screen.width;return this._iterateMinScreenCols(e,t);},_iterateMinScreenCols:function _iterateMinScreenCols(e,n){var i,o,r,a=!1;for(i=0;e.length>i;i++){o=e[i],r=o.minScreenWidth,r!==t&&null!==r&&(a=!0,r>n?this.hideColumn(o):this.showColumn(o)),!o.hidden&&o.columns&&(a=this._iterateMinScreenCols(o.columns,n)||a);}return a;},_relatedRow:function _relatedRow(t){var n,i,o=this.lockedTable;return t=e(t),o?(n=t.closest(this.table.add(this.lockedTable)),i=n.find(">tbody>tr").index(t),n=n[0]===this.table[0]?o:this.table,n.find(">tbody>tr").eq(i)):t;},clearSelection:function clearSelection(){var e=this;e.selectable.clear(),e.trigger(je);},select:function select(e){var n=this,i=n.selectable;return e=n.table.add(n.lockedTable).find(e),e.length?(i.options.multiple||(i.clear(),e=e.first()),n._isLocked()&&(e=e.add(e.map(function(){return n._relatedRow(this);}))),i.value(e),t):i.value();},_updateCurrentAttr:function _updateCurrentAttr(t,n){var i,o=e(t).data("headerId");e(t).removeClass(Xe).removeAttr("aria-describedby").closest("table").removeAttr("aria-activedescendant"),o?(o=o.replace(this._cellId,""),e(t).attr("id",o)):e(t).removeAttr("id"),n.data("headerId",n.attr("id")).attr("id",this._cellId).addClass(Xe).closest("table").attr("aria-activedescendant",this._cellId),n.closest("tr").hasClass("k-grouping-row")||n.hasClass("k-header")?n.attr("aria-describedby",this._cellId):(i=this.columns[this.cellIndex(n)],i&&(o=i.headerAttributes.id),n.attr("aria-describedby",o+" "+this._cellId)),this._current=n;},_scrollCurrent:function _scrollCurrent(){var t,n,i,o,r,a,s=this._current,l=this.options.scrollable;s&&l&&(t=s.parent(),n=t.closest("table").parent(),i=n.is(".k-grid-content-locked,.k-grid-header-locked"),o=n.is(".k-grid-content-locked,.k-grid-content,.k-virtual-scrollable-wrap"),r=e(this.content).find(">.k-virtual-scrollable-wrap").andSelf().last()[0],o&&(l.virtual?(a=Math.max(xe(t[0],this._items(t.parent())),0),this._rowVirtualIndex=this.virtualScrollable.itemIndex(a),this.virtualScrollable.scrollIntoView(t)):this._scrollTo(this._relatedRow(t)[0],r)),this.lockedContent&&(this.lockedContent[0].scrollTop=r.scrollTop),i||this._scrollTo(s[0],r));},current:function current(e){return this._setCurrent(e,!0);},_setCurrent:function _setCurrent(t,n){var i=this._current;return t=e(t),t.length&&(i&&i[0]===t[0]||(this._updateCurrentAttr(i,t),this._scrollCurrent(),n||this.trigger(ot,{element:t}))),this._current;},_removeCurrent:function _removeCurrent(){this._current&&(this._current.removeClass(Xe),this._current=null);},_scrollTo:function _scrollTo(t,n){var i,o=t.tagName.toLowerCase(),r="td"===o||"th"===o,a=t[r?"offsetLeft":"offsetTop"],s=t[r?"offsetWidth":"offsetHeight"],l=n[r?"scrollLeft":"scrollTop"],c=n[r?"clientWidth":"clientHeight"],d=a+s,u=0,h=0,f=0;wt&&r&&(i=e(t).closest("table")[0],yt.msie?h=i.offsetLeft:yt.mozilla&&(f=i.offsetLeft-ue.support.scrollbar())),l=Math.abs(l+h-f),u=l>a?a:d>l+c?c>=s?d-c:a:l,u=Math.abs(u+h)+f,n[r?"scrollLeft":"scrollTop"]=u;},_navigatable:function _navigatable(){var t,n,i,o=this;o.options.navigatable&&(t=o.table.add(o.lockedTable),n=o.thead.parent().add(e(">table",o.lockedHeader)),i=t,o.options.scrollable&&(i=i.add(n),n.attr(st,-1)),this._navigatableTables=i,i.off("mousedown"+Le+" focus"+Le+" focusout"+Le+" keydown"+Le),n.on("keydown"+Le,Se(o._openHeaderMenu,o)).find("a.k-link").attr("tabIndex",-1),t.attr(st,Ae.max(t.attr(st)||0,0)).on("mousedown"+Le+" keydown"+Le,".k-detail-cell",function(e){e.target!==e.currentTarget&&e.stopImmediatePropagation();}),i.on(ue.support.touch?"touchstart"+Le:"mousedown"+Le,Me+">"+Pe,Se(se,o)).on("focus"+Le,Se(o._tableFocus,o)).on("focusout"+Le,Se(o._tableBlur,o)).on("keydown"+Le,Se(o._tableKeyDown,o)));},_openHeaderMenu:function _openHeaderMenu(e){e.altKey&&e.keyCode==ve.DOWN&&(this.current().find(".k-grid-filter, .k-header-column-menu").click(),e.stopImmediatePropagation());},_setTabIndex:function _setTabIndex(e){this._navigatableTables.attr(st,-1),e.attr(st,0);},_tableFocus:function _tableFocus(t){var n,i;ue.support.touch||(n=this.current(),i=e(t.currentTarget),n&&n.is(":visible")?n.addClass(Xe):this._setCurrent(i.find(ze)),this._setTabIndex(i));},_tableBlur:function _tableBlur(){var e=this.current();e&&e.removeClass(Xe);},_tableKeyDown:function _tableKeyDown(n){var i,o=this.current(),r=this.virtualScrollable&&this.virtualScrollable.fetching(),a=e(n.target),s=!n.isDefaultPrevented()&&!a.is(":button,a,:input,a>.k-icon");return r?(n.preventDefault(),t):(o=o?o:e(this.lockedTable).add(this.table).find(ze),o.length&&(i=!1,s&&n.keyCode==ve.UP&&(i=this._moveUp(o)),s&&n.keyCode==ve.DOWN&&(i=this._moveDown(o)),s&&n.keyCode==(wt?ve.LEFT:ve.RIGHT)&&(i=this._moveRight(o,n.altKey)),s&&n.keyCode==(wt?ve.RIGHT:ve.LEFT)&&(i=this._moveLeft(o,n.altKey)),s&&n.keyCode==ve.PAGEDOWN&&(i=this._handlePageDown()),s&&n.keyCode==ve.PAGEUP&&(i=this._handlePageUp()),n.keyCode!=ve.ENTER&&n.keyCode!=ve.F2||(i=this._handleEnterKey(o,n.currentTarget,a)),n.keyCode==ve.ESC&&(i=this._handleEscKey(o,n.currentTarget)),n.keyCode==ve.TAB&&(i=this._handleTabKey(o,n.currentTarget,n.shiftKey)),i&&(n.preventDefault(),n.stopPropagation())),t);},_moveLeft:function _moveLeft(e,t){var n,i,o=e.parent(),r=o.parent();return t?this.collapseRow(o):(i=r.find(Me).index(o),n=this._prevHorizontalCell(r,e,i),n[0]||(r=this._horizontalContainer(r),n=this._prevHorizontalCell(r,e,i),n[0]!==e[0]&&re(r.parent(),!0)),this._setCurrent(n)),!0;},_moveRight:function _moveRight(e,t){var n,i,o=e.parent(),r=o.parent();return t?this.expandRow(o):(i=r.find(Me).index(o),n=this._nextHorizontalCell(r,e,i),n[0]||(r=this._horizontalContainer(r,!0),n=this._nextHorizontalCell(r,e,i),n[0]!==e[0]&&re(r.parent(),!0)),this._setCurrent(n)),!0;},_moveUp:function _moveUp(e){var t=e.parent().parent(),n=this._prevVerticalCell(t,e);return n[0]||(t=this._verticalContainer(t,!0),n=this._prevVerticalCell(t,e),n[0]&&re(t.parent(),!0)),this._setCurrent(n),!0;},_moveDown:function _moveDown(e){var t=e.parent().parent(),n=this._nextVerticalCell(t,e);return n[0]||(t=this._verticalContainer(t),n=this._nextVerticalCell(t,e),n[0]&&re(t.parent(),!0)),this._setCurrent(n),!0;},_handlePageDown:function _handlePageDown(){return this.options.pageable?(this.dataSource.page(this.dataSource.page()+1),!0):!1;},_handlePageUp:function _handlePageUp(){return this.options.pageable?(this.dataSource.page(this.dataSource.page()-1),!0):!1;},_handleTabKey:function _handleTabKey(t,n,i){var o,r=this.options.editable&&"incell"==this._editMode();return!r||t.is("th")?!1:(o=e(me()).closest(".k-edit-cell"),o[0]&&o[0]!==t[0]&&(t=o),o=this._tabNext(t,n,i),o.length?(this._handleEditing(t,o,o.closest("table")),!0):!1);},_handleEscKey:function _handleEscKey(t,n){var i,o=me(),r="incell"==this._editMode();return le(t)?(r?this.closeCell(!0):(i=e(t).parent().index(),o&&o.blur(),this.cancelRow(!0),i>=0&&this._setCurrent(this.items().eq(i).children(Pe).first())),yt.msie&&9>yt.version&&document.body.focus(),re(n,!0),!0):t.has(o).length?(re(n,!0),!0):!1;},_toggleCurrent:function _toggleCurrent(e,t){var n=e.parent();return n.is(".k-grouping-row")?(n.find(".k-icon:first").click(),!0):!t&&n.is(".k-master-row")?(n.find(".k-icon:first").click(),!0):!1;},_handleEnterKey:function _handleEnterKey(t,n,i){var o,r=this.options.editable&&this.options.editable.update!==!1,a=i.closest("[role=gridcell]");return i.is("table")||e.contains(t[0],i[0])||(t=a),t.is("th")?(t.find(".k-link").click(),!0):this._toggleCurrent(t,r)?!0:(o=t.find(":kendoFocusable:first"),o[0]&&!t.hasClass("k-edit-cell")&&t.hasClass("k-state-focused")?(o.focus(),!0):r&&!i.is(":button,.k-button,textarea")?(a[0]||(a=t),this._handleEditing(a,!1,n),!0):!1);},_nextHorizontalCell:function _nextHorizontalCell(e,t,n){var i,o,r,a=t.nextAll(Ie);return a.length||(i=e.find(Me),o=i.index(t.parent()),-1!=o)?a.first():t.hasClass("k-header")?(r=[],F([M(this.columns)[0]],V(i.eq(0).children().first()),r,0,0),r[n]?r[n][0]:t):t.parent().hasClass("k-filter-row")?i.last().children(Ie).first():i.eq(n).children(Ie).first();},_prevHorizontalCell:function _prevHorizontalCell(e,t,n){var i,o,r,a,s=t.prevAll(Ie);return s.length||(i=e.find(Me),o=i.index(t.parent()),-1!=o)?s.first():t.hasClass("k-header")?(r=[],a=M(this.columns),F([a[a.length-1]],V(i.eq(0).children().last()),r,0,0),r[n]?r[n][0]:t):t.parent().hasClass("k-filter-row")?i.last().children(Ie).last():i.eq(n).children(Ie).last();},_currentDataIndex:function _currentDataIndex(e,n){var i,o=n.attr("data-index");return o?(i=M(this.columns).length,i&&!e.closest("div").hasClass("k-grid-content-locked")[0]?o-i:o):t;},_prevVerticalCell:function _prevVerticalCell(t,n){var i,o=n.parent(),r=t.children(Me),a=r.index(o),s=this._currentDataIndex(t,n);if(s||n.hasClass("k-header"))return i=O(n),i.eq(i.length-2);if(s=o.children(Ie).index(n),o.hasClass("k-filter-row"))return N(t).eq(s);if(-1==a){if(o=t.find(".k-filter-row"),!o[0])return N(t).eq(s);}else o=0===a?e():r.eq(a-1);return i=o.children(Ie),i.eq(i.length>s?s:0);},_nextVerticalCell:function _nextVerticalCell(e,n){var i,o=n.parent(),r=e.children(Me),a=r.index(o),s=this._currentDataIndex(e,n);return-1!=a&&s===t&&n.hasClass("k-header")?V(n).eq(1):(s=s?parseInt(s,10):o.children(Ie).index(n),o=r.eq(-1==a?0:a+n[0].rowSpan),i=o.children(Ie),i.eq(i.length>s?s:0));},_verticalContainer:function _verticalContainer(e,t){var n=e.parent(),i=this._navigatableTables.length,o=Math.floor(i/2),r=xe(n[0],this._navigatableTables);return t&&(o*=-1),r+=o,(r>=0||i>r)&&(n=this._navigatableTables.eq(r)),n.find(t?"thead":"tbody");},_horizontalContainer:function _horizontalContainer(e,t){var n,i,o=this._navigatableTables.length;return 2>=o?e:(n=e.parent(),i=xe(n[0],this._navigatableTables),i+=t?1:-1,!t||2!=i&&i!=o?!t&&(1==i||0>i)?e:this._navigatableTables.eq(i).find("thead, tbody"):e);},_tabNext:function _tabNext(e,t,n){var i=!0,o=n?e.prevAll(Ie+":first"):e.nextAll(":visible:first");return o.length||(o=e.parent(),this.lockedTable&&(i=n&&t==this.lockedTable[0]||!n&&t==this.table[0],o=this._relatedRow(o)),i&&(o=o[n?"prevAll":"nextAll"]("tr:not(.k-grouping-row):not(.k-detail-row):visible:first")),o=o.children(Ie+(n?":last":":first"))),o;},_handleEditing:function _handleEditing(n,i,o){var r,a,s=this,l=e(me()),c=s._editMode(),d=yt.msie,u=d&&9>yt.version,h=s._editContainer,f=s.options.editable&&s.options.editable.update!==!1;if(o=e(o),a="incell"==c?n.hasClass("k-edit-cell"):n.parent().hasClass("k-grid-edit-row"),s.editable){if(e.contains(h[0],l[0])&&(yt.opera||u?l.blur().change().triggerHandler("blur"):(l.blur(),d&&l.blur())),!s.editable)return re(o),t;if(!s.editable.end())return s._setCurrent("incell"==c?h:h.children().filter(Ie).first()),r=h.find(":kendoFocusable:first")[0],r&&r.focus(),t;"incell"==c?s.closeCell():(s.saveRow(),a=!0);}i&&s._setCurrent(i),u&&document.body.focus(),re(o,!0),f&&(!a&&!i||i)&&("incell"==c?s.editCell(s.current()):s.editRow(s.current().parent()));},_wrapper:function _wrapper(){var e=this,t=e.table,n=e.options.height,i=e.element;i.is("div")||(i=i.wrap("<div/>").parent()),e.wrapper=i.addClass("k-grid k-widget"),n&&(e.wrapper.css(at,n),t.css(at,"auto")),e._initMobile();},_initMobile:function _initMobile(){var t,n=this.options,i=this;this._isMobile=n.mobile===!0&&ue.support.mobileOS||"phone"===n.mobile||"tablet"===n.mobile,this._isMobile&&(t=this.wrapper.addClass("k-grid-mobile").wrap("<div data-"+ue.ns+'stretch="true" data-'+ue.ns+'role="view" data-'+ue.ns+'init-widgets="false"></div>').parent(),this.pane=ue.mobile.ui.Pane.wrap(t),this.view=this.pane.view(),this._actionSheetPopupOptions=e(document.documentElement).hasClass("km-root")?{modal:!1}:{align:"bottom center",position:"bottom center",effect:"slideIn:up"},n.height&&this.pane.element.parent().css(at,n.height),this._editAnimation="slide",this.view.bind("show",function(){i._isLocked()&&(i._updateTablesWidth(),i._applyLockedContainersWidth(),i._syncLockedContentHeight(),i._syncLockedHeaderHeight(),i._syncLockedFooterHeight());}));},_tbody:function _tbody(){var t,n=this,i=n.table;t=i.find(">tbody"),t.length||(t=e("<tbody/>").appendTo(i)),n.tbody=t.attr("role","rowgroup");},_scrollable:function _scrollable(){var t,n,i,o,r=this,a=r.options,s=a.scrollable,l=s!==!0&&s.virtual&&!r.virtualScrollable,c=!ue.support.kineticScrollNeeded||l?ue.support.scrollbar():0;s&&(t=r.wrapper.children(".k-grid-header"),t[0]||(t=e('<div class="k-grid-header" />').insertBefore(r.table)),t.css(wt?"padding-left":"padding-right",s.virtual?c+1:c),n=e('<table role="grid" />'),kt&&n.attr("cellspacing",0),n.width(r.table[0].style.width),n.append(r.thead),t.empty().append(e('<div class="k-grid-header-wrap k-auto-scrollable" />').append(n)),r.content=r.table.parent(),r.content.is(".k-virtual-scrollable-wrap, .km-scroll-container")&&(r.content=r.content.parent()),r.content.is(".k-grid-content, .k-virtual-scrollable-wrap")||(r.content=r.table.wrap('<div class="k-grid-content k-auto-scrollable" />').parent()),l&&(r.virtualScrollable=new Ct(r.content,{dataSource:r.dataSource,itemHeight:function itemHeight(){return r._averageRowHeight();}})),r.scrollables=t.children(".k-grid-header-wrap").add(r.content),i=r.wrapper.find(".k-grid-footer"),i.length&&(r.scrollables=r.scrollables.add(i.children(".k-grid-footer-wrap"))),s.virtual?r.content.find(">.k-virtual-scrollable-wrap").unbind("scroll"+Le).bind("scroll"+Le,function(){r.scrollables.scrollLeft(this.scrollLeft),r.lockedContent&&(r.lockedContent[0].scrollTop=this.scrollTop);}):(r.content.unbind("scroll"+Le).bind("scroll"+Le,function(e){r.scrollables.not(e.currentTarget).scrollLeft(this.scrollLeft),r.lockedContent&&e.currentTarget==r.content[0]&&(r.lockedContent[0].scrollTop=this.scrollTop);}),o=r.content.data("kendoTouchScroller"),o&&o.destroy(),o=ue.touchScroller(r.content),o&&o.movable&&(r.touchScroller=o,o.movable.bind("change",function(e){r.scrollables.scrollLeft(-e.sender.x),r.lockedContent&&r.lockedContent.scrollTop(-e.sender.y);}),r.one(Ye,function(e){e.sender.wrapper.addClass("k-grid-backface");}))));},_renderNoRecordsContent:function _renderNoRecordsContent(){var t,n=this;n.options.noRecords&&(t=n.table.parent().children("."+Ze),t.length&&(n.angular("cleanup",function(){return{elements:t.get()};}),t.remove()),n.dataSource&&n.dataSource.view().length||(t=e(n.noRecordsTemplate({})).insertAfter(n.table),n.angular("compile",function(){return{elements:t.get(),data:[{}]};})));},_setContentWidth:function _setContentWidth(t){var n,i=this,o="k-grid-content-expander",r='<div class="'+o+'"></div>',a=i.resizable;i.options.scrollable&&i.wrapper.is(":visible")&&(n=i.table.parent().children("."+o),i._setContentWidthHandler=Se(i._setContentWidth,i),i.dataSource&&i.dataSource.view().length?n[0]&&(n.remove(),a&&a.unbind("resize",i._setContentWidthHandler)):(n[0]||(n=e(r).appendTo(i.table.parent()),a&&a.bind("resize",i._setContentWidthHandler)),i.thead&&(n.width(i.thead.width()),t&&i.content.scrollLeft(t))),i._applyLockedContainersWidth(),i.lockedHeader&&0===i.table[0].clientWidth&&(i.table[0].style.width="1px"));},_applyLockedContainersWidth:function _applyLockedContainersWidth(){if(this.options.scrollable&&this.lockedHeader){var e,t=this.thead.parent(),n=t.parent(),i=this.wrapper[0].clientWidth,o=this._groups(),r=ue.support.scrollbar(),a=this.lockedHeader.find(">table>colgroup>col:not(.k-group-col, .k-hierarchy-col)"),s=t.find(">colgroup>col:not(.k-group-col, .k-hierarchy-col)"),l=A(a),c=A(s);o>0&&(l+=this.lockedHeader.find(".k-group-cell:first").outerWidth()*o),l>=i&&(l=i-3*r),this.lockedHeader.add(this.lockedContent).width(l),n[0].style.width=n.parent().width()-l-2+"px",t.add(this.table).width(c),this.virtualScrollable&&(i-=r),this.content[0].style.width=i-l-2+"px",this.lockedFooter&&this.lockedFooter.length&&(this.lockedFooter.width(l),e=this.footer.find(".k-grid-footer-wrap"),e[0].style.width=n[0].clientWidth+"px",e.children().first().width(c));}},_setContentHeight:function _setContentHeight(){var e,t=this,n=t.options,i=t.wrapper.innerHeight(),o=t.wrapper.children(".k-grid-header"),r=ue.support.scrollbar();n.scrollable&&t.wrapper.is(":visible")&&(i-=o.outerHeight(),t.pager&&(i-=t.pager.element.outerHeight()),n.groupable&&(i-=t.wrapper.children(".k-grouping-header").outerHeight()),n.toolbar&&(i-=t.wrapper.children(".k-grid-toolbar").outerHeight()),t.footerTemplate&&(i-=t.wrapper.children(".k-grid-footer").outerHeight()),e=function e(_e3){var t,n;return _e3[0].style.height?!0:(t=_e3.height(),_e3.height("auto"),n=_e3.height(),t!=n?(_e3.height(""),!0):(_e3.height(""),!1));},e(t.wrapper)&&(i>2*r?(t.lockedContent&&(r=t.table[0].offsetWidth>t.table.parent()[0].clientWidth?r:0,t.lockedContent.height(i-r)),t.content.height(i)):t.content.height(2*r+1)));},_averageRowHeight:function _averageRowHeight(){var e,t=this,n=t._items(t.tbody).length,i=t._rowHeight;return 0===n?i:(t._rowHeight||(t._rowHeight=i=t.table.outerHeight()/n,t._sum=i,t._measures=1),e=t.table.outerHeight()/n,i!==e&&(t._measures++,t._sum+=e,t._rowHeight=t._sum/t._measures),i);},_dataSource:function _dataSource(){var e,n=this,i=n.options,o=i.dataSource;o=ke(o)?{data:o}:o,_e(o)&&(be(o,{table:n.table,fields:n.columns}),e=i.pageable,_e(e)&&e.pageSize!==t&&(o.pageSize=e.pageSize)),n.dataSource&&n._refreshHandler?n.dataSource.unbind(je,n._refreshHandler).unbind(Ee,n._progressHandler).unbind(Re,n._errorHandler):(n._refreshHandler=Se(n.refresh,n),n._progressHandler=Se(n._requestStart,n),n._errorHandler=Se(n._error,n)),n.dataSource=fe.create(o).bind(je,n._refreshHandler).bind(Ee,n._progressHandler).bind(Re,n._errorHandler);},_error:function _error(){this._progress(!1);},_requestStart:function _requestStart(){this._progress(!0);},_modelChange:function _modelChange(t){var n,i,o,r,a,s,l,c,d,u,h=this,f=h.tbody,p=t.model,m=h.tbody.find("tr["+ue.attr("uid")+"="+p.uid+"]"),g=m.hasClass("k-alt"),v=h._items(f).index(m),_=h.lockedContent;if(_&&(n=h._relatedRow(m)),m.add(n).children(".k-edit-cell").length&&!h.options.rowTemplate)m.add(n).children(":not(.k-group-cell,.k-hierarchy-cell)").each(function(){i=e(this),o=H(h.columns)[h.cellIndex(i)],o.field===t.field&&(i.hasClass("k-edit-cell")?i.addClass("k-dirty-cell"):(h._displayCell(i,o,p),e('<span class="k-dirty"/>').prependTo(i)));});else if(!m.hasClass("k-grid-edit-row")){for(s=e().add(m),_&&(r=(g?h.lockedAltRowTemplate:h.lockedRowTemplate)(p),s=s.add(n),n.replaceWith(r)),h.angular("cleanup",function(){return{elements:s.get()};}),r=(g?h.altRowTemplate:h.rowTemplate)(p),m.replaceWith(r),r=h._items(f).eq(v),u=[{dataItem:p}],_&&(m=m.add(n),n=h._relatedRow(r)[0],ie(r[0],n),r=r.add(n),u.push({dataItem:p})),h.angular("compile",function(){return{elements:r.get(),data:u};}),a=h.options.selectable,a&&m.hasClass("k-state-selected")&&h.select(r),c=s.children(":not(.k-group-cell,.k-hierarchy-cell)"),l=r.children(":not(.k-group-cell,.k-hierarchy-cell)"),v=0,d=h.columns.length;d>v;v++){o=h.columns[v],i=l.eq(v),a&&c.eq(v).hasClass("k-state-selected")&&i.addClass("k-state-selected"),o.field===t.field&&e('<span class="k-dirty"/>').prependTo(i);}h.trigger("itemChange",{item:r,data:p,ns:he});}},_pageable:function _pageable(){var t,n=this,i=n.options.pageable;i&&(t=n.wrapper.children("div.k-grid-pager"),t.length||(t=e('<div class="k-pager-wrap k-grid-pager"/>').appendTo(n.wrapper)),n.pager&&n.pager.destroy(),n.pager="object"==(typeof i==="undefined"?"undefined":_typeof(i))&&i instanceof ue.ui.Pager?i:new ue.ui.Pager(t,be({},i,{dataSource:n.dataSource})));},_footer:function _footer(){var t,n,i,o=this,r=o.dataSource.aggregates(),a="",s=o.footerTemplate,l=o.options,c=o.footer||o.wrapper.find(".k-grid-footer");s?(a=e(o._wrapFooter(s(r))),c.length?(n=a,o.angular("cleanup",function(){return{elements:c.get()};}),c.replaceWith(n),c=o.footer=n):c=o.footer=l.scrollable?l.pageable?a.insertBefore(o.wrapper.children("div.k-grid-pager")):a.appendTo(o.wrapper):a.insertBefore(o.tbody),o.angular("compile",function(){return{elements:c.find("td:not(.k-group-cell, .k-hierarchy-cell)").get(),data:we(o.columns,function(e){return{column:e,aggregate:r[e.field]};})};})):c&&!o.footer&&(o.footer=c),c.length&&(l.scrollable&&(t=c.attr("tabindex",-1).children(".k-grid-footer-wrap"),o.scrollables=o.scrollables.filter(function(){return!e(this).is(".k-grid-footer-wrap");}).add(t)),o._footerWidth&&c.find("table").css("width",o._footerWidth),t&&(i=o.content.scrollLeft(),l.scrollable!==!0&&l.scrollable.virtual&&(i=o.wrapper.find(".k-virtual-scrollable-wrap").scrollLeft()),t.scrollLeft(i))),o.lockedContent&&(o._appendLockedColumnFooter(),o._applyLockedContainersWidth(),o._syncLockedFooterHeight());},_wrapFooter:function _wrapFooter(t){var n=this,i="",o=ue.support.mobileOS?0:ue.support.scrollbar();return n.options.scrollable?(i=e('<div class="k-grid-footer"><div class="k-grid-footer-wrap"><table'+(kt?' cellspacing="0"':"")+"><tbody>"+t+"</tbody></table></div></div>"),n._appendCols(i.find("table")),i.css(wt?"padding-left":"padding-right",o),i):'<tfoot class="k-grid-footer">'+t+"</tfoot>";},_columnMenu:function _columnMenu(){var e,n,i,o,r,a,s,l,c,d=this,u=H(d.columns),h=d.options,f=h.columnMenu,p=ye(d.columns,function(e){return e.columns!==t;}).length>0,m=this._isMobile,g=function g(e){d.trigger(We,{field:e.field,container:e.container});},v=function v(e){re(e.closest("table"),!0);},_=h.$angular;if(f)for("boolean"==typeof f&&(f={}),a=N(d.thead),s=0,l=a.length;l>s;s++){n=u[s],c=a.eq(s),n.command||!n.field&&!c.attr("data-"+ue.ns+"field")||(e=c.data("kendoColumnMenu"),e&&e.destroy(),o=n.sortable!==!1&&f.sortable!==!1&&h.sortable!==!1?be({},h.sortable,{compare:(n.sortable||{}).compare}):!1,r=h.filterable&&n.filterable!==!1&&f.filterable!==!1?be({pane:d.pane},h.filterable,n.filterable):!1,n.filterable&&n.filterable.dataSource&&(r.forceUnique=!1,r.checkSource=n.filterable.dataSource),r&&(r.format=n.format),i={dataSource:d.dataSource,values:n.values,columns:f.columns,sortable:o,filterable:r,messages:f.messages,owner:d,closeCallback:v,init:g,pane:d.pane,filter:m?":not(.k-column-active)":"",lockedColumns:!p&&n.lockable!==!1&&M(u).length>0},_&&(i.$angular=_),c.kendoColumnMenu(i));}},_headerCells:function _headerCells(){return this.thead.find("th").filter(function(){var t=e(this);return!t.hasClass("k-group-cell")&&!t.hasClass("k-hierarchy-cell");});},_filterable:function _filterable(){var e,t,n,i,o,r,a,s=this,l=H(s.columns),c=function c(e){s.trigger(Ue,{field:e.field,container:e.container});},d=function d(e){re(e.closest("table"),!0);},u=s.options.filterable;if(u&&_typeof(u.mode)==ct&&-1==u.mode.indexOf("menu")&&(u=!1),u&&!s.options.columnMenu)for(t=N(s.thead),i=0,o=t.length;o>i;i++){n=t.eq(i),l[i].filterable===!1||l[i].command||!l[i].field&&!n.attr("data-"+ue.ns+"field")||(e=n.data("kendoFilterMenu"),e&&e.destroy(),e=n.data("kendoFilterMultiCheck"),e&&e.destroy(),r=l[i].filterable,a=be({},u,r,{dataSource:s.dataSource,values:l[i].values,format:l[i].format,closeCallback:d,title:l[i].title||l[i].field,init:c,pane:s.pane}),r&&r.messages&&(a.messages=be(!0,{},u.messages,r.messages)),r&&r.dataSource&&(a.forceUnique=!1,a.checkSource=r.dataSource),r&&r.multi?n.kendoFilterMultiCheck(a):n.kendoFilterMenu(a));}},_filterRow:function _filterRow(){var t,n,i,o,r,a,s,l,c,d,u,h,f,p,m=this;if(m._hasFilterRow())for(n=m.options.$angular,i=H(m.columns),o=m.options.filterable,r=m.thead.find(".k-filter-row"),this._updateHeader(this.dataSource.group().length),a=0;i.length>a;a++){if(l=i[a],c=m.options.filterable.operators,d=!1,u=e("<th/>"),h=l.field,l.hidden&&u.hide(),r.append(u),h&&l.filterable!==!1){if(f=l.filterable&&l.filterable.cell||{},s=m.options.dataSource,s instanceof fe&&(s=m.options.dataSource.options),p=be(!0,{},o.messages),l.filterable&&be(!0,p,l.filterable.messages),f.enabled===!1){u.html("&nbsp;");continue;}f.dataSource&&(s=f.dataSource,d=!0),l.filterable&&l.filterable.operators&&(c=l.filterable.operators),t={column:l,dataSource:m.dataSource,suggestDataSource:s,customDataSource:d,field:h,messages:p,values:l.values,template:f.template,delay:f.delay,inputWidth:f.inputWidth,suggestionOperator:f.suggestionOperator,minLength:f.minLength,dataTextField:f.dataTextField,operator:f.operator,operators:c,showOperators:f.showOperators},n&&(t.$angular=n),e("<span/>").attr(ue.attr("field"),h).appendTo(u).kendoFilterCell(t);}else u.html("&nbsp;");}},_sortable:function _sortable(){var e,t,n,i,o,r,a=this,s=H(a.columns),l=a.options.sortable;if(l){for(i=N(a.thead),o=0,r=i.length;r>o;o++){e=s[o],e.sortable!==!1&&!e.command&&e.field&&(n=i.eq(o),t=n.data("kendoColumnSorter"),t&&t.destroy(),n.attr("data-"+ue.ns+"field",e.field).kendoColumnSorter(be({},l,e.sortable,{dataSource:a.dataSource,aria:!0,filter:":not(.k-column-active)"})));}i=null;}},_columns:function _columns(t){var n,i,o,r=this,a=r.table,s=a.find("col"),c=r.options.dataSource;if(t=t.length?t:we(a.find("th"),function(t,n){t=e(t);var i=t.attr(ue.attr("sortable")),o=t.attr(ue.attr("filterable")),r=t.attr(ue.attr("type")),a=t.attr(ue.attr("groupable")),l=t.attr(ue.attr("field")),c=t.attr(ue.attr("title")),d=t.attr(ue.attr("menu"));return l||(l=t.text().replace(/\s|[^A-z0-9]/g,"")),{field:l,type:r,title:c,sortable:"false"!==i,filterable:"false"!==o,groupable:"false"!==a,menu:d,template:t.attr(ue.attr("template")),width:s.eq(n).css("width")};}),n=!(r.table.find("tbody tr").length>0&&(!c||!c.transport)),r.options.scrollable){if(o=t,i=M(t),t=P(t),i.length>0&&0===t.length)throw Error("There should be at least one non locked column");G(r.element.find("tr:has(th):first"),o),t=i.concat(t);}r.columns=l(t,n);},_groups:function _groups(){var e=this.dataSource.group();return e?e.length:0;},_tmpl:function _tmpl(e,t,o,r){var a,s,l,c,d=this,u=be({},ue.Template,d.options.templateSettings),h=t.length,f={storage:{},count:0},p=d._hasDetails(),m=[],g=d._groups();if(!e){for(e="<tr",o&&m.push("k-alt"),p&&m.push("k-master-row"),m.length&&(e+=' class="'+m.join(" ")+'"'),h&&(e+=" "+ue.attr("uid")+'="#='+ue.expr("uid",u.paramName)+'#"'),e+=" role='row'>",g>0&&!r&&(e+=n(g)),p&&(e+='<td class="k-hierarchy-cell"><a class="k-icon k-plus" href="\\#" tabindex="-1"></a></td>'),a=0;h>a;a++){l=t[a],s=l.template,c=typeof s==="undefined"?"undefined":_typeof(s),e+="<td"+i(l.attributes)+" role='gridcell'>",e+=d._cellTmpl(l,f),e+="</td>";}e+="</tr>";}return e=ue.template(e,u),f.count>0?Se(e,f.storage):e;},_headerCellText:function _headerCellText(e){var t=this,n=be({},ue.Template,t.options.templateSettings),i=e.headerTemplate,o=typeof i==="undefined"?"undefined":_typeof(i),r=e.title||e.field||"";return o===lt?r=ue.template(i,n)({}):o===ct&&(r=i),r;},_cellTmpl:function _cellTmpl(e,t){var n,i,o=this,r=be({},ue.Template,o.options.templateSettings),a=e.template,s=r.paramName,l=e.field,c="",d=e.format,u=typeof a==="undefined"?"undefined":_typeof(a),h=e.values;if(e.command){if(ke(e.command)){for(n=0,i=e.command.length;i>n;n++){c+=o._createButton(e.command[n]);}return c.replace(mt,"\\#");}return o._createButton(e.command).replace(mt,"\\#");}return u===lt?(t.storage["tmpl"+t.count]=a,c+="#=this.tmpl"+t.count+"("+s+")#",t.count++):u===ct?c+=a:h&&h.length&&_e(h[0])&&"value"in h[0]&&l?(c+="#var v ="+ue.stringify($(h)).replace(mt,"\\#")+"#",c+="#var f = v[",r.useWithBlock||(c+=s+"."),c+=l+"]#",c+="${f != null ? f : ''}"):(c+=e.encoded?"#:":"#=",d&&(c+='kendo.format("'+d.replace(pt,"\\$1")+'",'),l?(l=ue.expr(l,s),c+=l+"==null?'':"+l):c+="''",d&&(c+=")"),c+="#"),c;},_templates:function _templates(){var t=this,n=t.options,i=t.dataSource,o=i.group(),r=t.footer||t.wrapper.find(".k-grid-footer"),a=i.aggregate(),s=H(t.columns),l=H(M(t.columns)),c=n.scrollable?H(P(t.columns)):s;if(n.scrollable&&l.length){if(n.rowTemplate||n.altRowTemplate)throw Error("Having both row template and locked columns is not supported");t.rowTemplate=t._tmpl(n.rowTemplate,c,!1,!0),t.altRowTemplate=t._tmpl(n.altRowTemplate||n.rowTemplate,c,!0,!0),t.lockedRowTemplate=t._tmpl(n.rowTemplate,l),t.lockedAltRowTemplate=t._tmpl(n.altRowTemplate||n.rowTemplate,l,!0);}else t.rowTemplate=t._tmpl(n.rowTemplate,c),t.altRowTemplate=t._tmpl(n.altRowTemplate||n.rowTemplate,c,!0);t._hasDetails()&&(t.detailTemplate=t._detailTmpl(n.detailTemplate||"")),(t._group&&!De(a)||!De(a)&&!r.length||ye(s,function(e){return e.footerTemplate;}).length)&&(t.footerTemplate=t._footerTmpl(s,a,"footerTemplate","k-footer-template")),o&&ye(s,function(e){return e.groupFooterTemplate;}).length&&(a=e.map(o,function(e){return e.aggregates;}),t.groupFooterTemplate=t._footerTmpl(c,a,"groupFooterTemplate","k-group-footer",l.length),n.scrollable&&l.length&&(t.lockedGroupFooterTemplate=t._footerTmpl(l,a,"groupFooterTemplate","k-group-footer"))),t.options.noRecords&&(t.noRecordsTemplate=t._noRecordsTmpl());},_noRecordsTmpl:function _noRecordsTmpl(){var t,n,i,o='<div class="{0}">{1}</div>',r='<div class="k-grid-norecords-template"{1}>{0}</div>',a=this.options.scrollable&&!this.wrapper[0].style.height?' style="margin:0 auto;position:static;"':"",s={storage:{},count:0},l=e.extend({},ue.Template,this.options.templateSettings),c=l.paramName,d="";return t=this.options.noRecords.template?this.options.noRecords.template:ue.format(r,this.options.messages.noRecords,a),n=typeof t==="undefined"?"undefined":_typeof(t),"function"===n?(s.storage["tmpl"+s.count]=t,d+="#=this.tmpl"+s.count+"("+c+")#",s.count++):"string"===n&&(d+=t),i=ue.template(ue.format(o,Ze,d),l),s.count>0&&(i=e.proxy(i,s.storage)),i;},_footerTmpl:function _footerTmpl(e,t,o,r,a){var s,l,c,d,u,h=this,f=be({},ue.Template,h.options.templateSettings),p=f.paramName,m="",g={},v=0,_={},b=h._groups(),w=h.dataSource._emptyAggregates(t);for(m+='<tr class="'+r+'">',b>0&&!a&&(m+=n(b)),h._hasDetails()&&(m+='<td class="k-hierarchy-cell">&nbsp;</td>'),s=0,l=e.length;l>s;s++){u=e[s],c=u[o],d=typeof c==="undefined"?"undefined":_typeof(c),m+="<td"+i(u.footerAttributes)+">",c?(d!==lt&&(_=w[u.field]?be({},f,{paramName:p+"['"+u.field+"']"}):{},c=ue.template(c,_)),g["tmpl"+v]=c,m+="#=this.tmpl"+v+"("+p+")#",v++):m+="&nbsp;",m+="</td>";}return m+="</tr>",m=ue.template(m,f),v>0?Se(m,g):m;},_detailTmpl:function _detailTmpl(e){var t=this,i="",o=be({},ue.Template,t.options.templateSettings),r=o.paramName,a={},s=0,l=t._groups(),c=p(H(t.columns)).length,d=typeof e==="undefined"?"undefined":_typeof(e);return i+='<tr class="k-detail-row">',l>0&&(i+=n(l)),i+='<td class="k-hierarchy-cell"></td><td class="k-detail-cell"'+(c?' colspan="'+c+'"':"")+">",d===lt?(a["tmpl"+s]=e,i+="#=this.tmpl"+s+"("+r+")#",s++):i+=e,i+="</td></tr>",i=ue.template(i,o),s>0?Se(i,a):i;},_hasDetails:function _hasDetails(){var e=this;return null!==e.options.detailTemplate||(e._events[Ve]||[]).length;},_hasFilterRow:function _hasFilterRow(){var t=this.options.filterable,n=t&&_typeof(t.mode)==ct&&-1!=t.mode.indexOf("row"),i=this.columns,o=e.grep(i,function(e){return e.filterable===!1;});return i.length&&o.length==i.length&&(n=!1),n;},_details:function _details(){var t=this;if(t.options.scrollable&&t._hasDetails()&&M(t.columns).length)throw Error("Having both detail template and locked columns is not supported");t.table.on(rt+Le,".k-hierarchy-cell .k-plus, .k-hierarchy-cell .k-minus",function(n){var i,o,r=e(this),a=r.hasClass("k-plus"),s=r.closest("tr.k-master-row"),l=t.detailTemplate,c=t._hasDetails();return r.toggleClass("k-plus",!a).toggleClass("k-minus",a),i=s.next(),c&&!i.hasClass("k-detail-row")&&(o=t.dataItem(s),i=e(l(o)).addClass(s.hasClass("k-alt")?"k-alt":"").insertAfter(s),t.angular("compile",function(){return{elements:i.get(),data:[{dataItem:o}]};}),t.trigger(Ve,{masterRow:s,detailRow:i,data:o,detailCell:i.find(".k-detail-cell")})),t.trigger(a?Ke:Qe,{masterRow:s,detailRow:i}),i.toggle(a),t._current&&t._current.attr("aria-expanded",a),n.preventDefault(),!1;});},dataItem:function dataItem(t){if(t=e(t)[0],!t)return null;var n,i,o=this.tbody.children(),r=/k-grouping-row|k-detail-row|k-group-footer/,a=t.sectionRowIndex;for(i=a,n=0;a>n;n++){r.test(o[n].className)&&i--;}return this._data[i];},expandRow:function expandRow(t){e(t).find("> td .k-plus, > td .k-i-expand").click();},collapseRow:function collapseRow(t){e(t).find("> td .k-minus, > td .k-i-collapse").click();},_createHeaderCells:function _createHeaderCells(e,n){var o,r,a,s,l,c,d=this,u="",h=H(d.columns);for(o=0,s=e.length;s>o;o++){r=e[o].column||e[o],a=d._headerCellText(r),l="",c=xe(r,h),r.command?(u+="<th scope='col'"+i(r.headerAttributes),n&&!e[o].colSpan&&(u+=" rowspan='"+n+"'"),c>-1&&(u+=ue.attr("index")+"='"+c+"'"),u+=">"+a+"</th>"):(r.field&&(l=ue.attr("field")+"='"+r.field+"' "),u+="<th scope='col' role='columnheader' "+l,n&&!e[o].colSpan&&(u+=" rowspan='"+n+"'"),e[o].colSpan>1&&(u+='colspan="'+(e[o].colSpan-D(r.columns))+'" ',u+=ue.attr("colspan")+"='"+e[o].colSpan+"'"),r.title&&(u+=ue.attr("title")+'="'+r.title.replace('"',"&quot;").replace(/'/g,"'")+'" '),r.groupable!==t&&(u+=ue.attr("groupable")+"='"+r.groupable+"' "),r.aggregates&&r.aggregates.length&&(u+=ue.attr("aggregates")+"='"+r.aggregates+"'"),c>-1&&(u+=ue.attr("index")+"='"+c+"'"),u+=i(r.headerAttributes),u+=">"+a+"</th>");}return u;},_appendLockedColumnContent:function _appendLockedColumnContent(){var t,n,i,o,r,a=this.columns,s=this.table.find("colgroup"),l=s.find("col:not(.k-group-col,.k-hierarchy-col)"),c=e(),d=0,u=0;for(t=0,n=a.length;n>t;t++){if(a[t].locked)if(f(a[t])){for(o=1,a[t].columns&&(o=H(a[t].columns).length-D(a[t].columns)),o=o||1,r=0;o>r;r++){c=c.add(l.eq(t+u+r-d));}u+=o-1;}else d++;}i=e('<div class="k-grid-content-locked"><table'+(kt?' cellspacing="0"':"")+"><colgroup/><tbody></tbody></table></div>"),s.detach(),i.find("colgroup").append(c),s.insertBefore(this.table.find("tbody")),this.lockedContent=i.insertBefore(this.content),this.lockedTable=i.children("table");},_appendLockedColumnFooter:function _appendLockedColumnFooter(){var t,n,i=this,o=i.footer,r=o.find(".k-footer-template>td"),a=o.find(".k-grid-footer-wrap>table>colgroup>col"),s=e('<div class="k-grid-footer-locked"><table><colgroup /><tbody><tr class="k-footer-template"></tr></tbody></table></div>'),l=i._groups(),c=e(),d=e();for(c=c.add(r.filter(".k-group-cell")),t=0,n=H(M(i.columns)).length;n>t;t++){c=c.add(r.eq(t+l));}for(d=d.add(a.filter(".k-group-col")),t=0,n=p(H(B(i.columns))).length;n>t;t++){d=d.add(a.eq(t+l));}c.appendTo(s.find("tr")),d.appendTo(s.find("colgroup")),i.lockedFooter=s.prependTo(o);},_appendLockedColumnHeader:function _appendLockedColumnHeader(t){var n,i,o,r,a,s,l,c,d,u,h,p=this,g=this.columns,v=[],_=0,b=e(),w=p._hasFilterRow(),y=0,k=e(),x=0,C=e(),S=p.thead.prev().find("col:not(.k-group-col,.k-hierarchy-col)"),T=p.thead.find("tr:first .k-header:not(.k-group-cell,.k-hierarchy-cell)"),A=p.thead.find(".k-filter-row").find("th:not(.k-group-cell,.k-hierarchy-cell)"),R=0;for(n=0,o=g.length;o>n;n++){if(g[n].locked){if(l=T.eq(n),x=H(g[n].columns||[]).length,f(g[n])){for(c=null,g[n].columns&&(c=x-D(g[n].columns)),c=c||1,d=0;c>d;d++){b=b.add(S.eq(n+R+d-_));}R+=c-1;}for(F([g[n]],V(l),v,0,0),x=x||1,u=0;x>u;u++){k=k.add(A.eq(y+u));}y+=x;}g[n].columns&&(_+=D(g[n].columns)),f(g[n])||_++;}if(v.length){for(i='<div class="k-grid-header-locked" style="width:1px"><table'+(kt?' cellspacing="0"':"")+"><colgroup/><thead>",i+=Array(v.length+1).join("<tr></tr>"),i+=(w?'<tr class="k-filter-row" />':"")+"</thead></table></div>",s=e(i),S=s.find("colgroup"),S.append(p.thead.prev().find("col.k-group-col").add(b)),r=s.find("thead tr:not(.k-filter-row)"),n=0,o=v.length;o>n;n++){C=m(v[n]),r.eq(n).append(p.thead.find("tr:eq("+n+") .k-group-cell").add(C));}return h=I(this.thead),h>v.length&&E(s,h-v.length),a=s.find(".k-filter-row"),a.append(p.thead.find(".k-filter-row .k-group-cell").add(k)),this.lockedHeader=s.prependTo(t),this.thead.find(".k-group-cell").remove(),!0;}return!1;},_removeLockedContainers:function _removeLockedContainers(){var e=this.lockedHeader.add(this.lockedContent).add(this.lockedFooter);ue.destroy(e),e.off(Le).remove(),this.lockedHeader=this.lockedContent=this.lockedFooter=null,this.selectable=null;},_thead:function _thead(){var t,n,i,o,r,a,s,l=this,c=l.columns,d=l._hasDetails()&&c.length,u=l._hasFilterRow(),h="",f=l.table.find(">thead"),p=l.element.find("thead:first").length>0;if(f.length||(f=e("<thead/>").insertBefore(l.tbody)),l.lockedHeader&&l.thead?(n=l.thead.find("tr:has(th):not(.k-filter-row)").html(""),n.remove(),n=e(),l._removeLockedContainers()):n=l.element.find(p?"thead:first tr:has(th):not(.k-filter-row)":"tr:has(th):first"),!n.length&&(n=f.children().first(),!n.length)){for(i=[{rowSpan:1,cells:[],index:0}],l._prepareColumns(i,c),t=0;i.length>t;t++){h+="<tr>",d&&(h+='<th class="k-hierarchy-cell" scope="col">&nbsp;</th>'),h+=l._createHeaderCells(i[t].cells,i[t].rowSpan),h+="</tr>";}n=e(h);}u&&(o=e("<tr/>"),o.addClass("k-filter-row"),(d||n.find(".k-hierarchy-cell").length)&&o.prepend('<th class="k-hierarchy-cell" scope="col">&nbsp;</th>'),r=(l.thead||f).find(".k-filter-row"),r.length&&(ue.destroy(r),r.remove()),f.append(o)),n.children().length?d&&!n.find(".k-hierarchy-cell")[0]&&n.prepend('<th class="k-hierarchy-cell" scope="col">&nbsp;</th>'):(h="",d&&(h+='<th class="k-hierarchy-cell" scope="col">&nbsp;</th>'),h+=l._createHeaderCells(c),n.html(h)),n.attr("role","row").find("th").addClass("k-header"),l.options.scrollable||f.addClass("k-grid-header"),n.find("script").remove().end().prependTo(f),l.thead&&l._destroyColumnAttachments(),this.angular("cleanup",function(){return{elements:f.find("th").get()};}),this.angular("compile",function(){return{elements:f.find("th").get(),data:we(c,function(e){return{column:e};})};}),l.thead=f.attr("role","rowgroup"),l._sortable(),l._filterable(),l._filterRow(),l._scrollable(),l._updateCols(),l._columnMenu(),s=this.options.scrollable&&M(this.columns).length,s&&(a=l._appendLockedColumnHeader(l.thead.closest(".k-grid-header")),l._appendLockedColumnContent(),l.lockedContent.bind("DOMMouseScroll"+Le+" mousewheel"+Le,Se(l._wheelScroll,l))),l._updateColumnCellIndex(),l._updateFirstColumnClass(),l._resizable(),l._draggable(),l._reorderable(),l._updateHeader(l._groups()),s&&(a&&l._syncLockedHeaderHeight(),l._applyLockedContainersWidth()),l.groupable&&l._attachGroupable();},_retrieveFirstColumn:function _retrieveFirstColumn(t,n){var i,o=e();if(n.length&&t[0]){for(i=t[0];i.columns&&i.columns.length;){i=i.columns[0],n=n.filter(":not(:first())");}o=o.add(n);}return o;},_updateFirstColumnClass:function _updateFirstColumnClass(){var t,n,i=this,o=i.columns||[],r=i._hasDetails()&&o.length;r||i._groups()||(t=i.thead.find(">tr:not(.k-filter-row):not(:first)"),o=P(o),n=i._retrieveFirstColumn(o,t),i._isLocked()&&(t=i.lockedHeader.find("thead>tr:not(.k-filter-row):not(:first)"),o=M(i.columns),n=n.add(i._retrieveFirstColumn(o,t))),n.each(function(){var t=e(this).find("th");t.removeClass("k-first"),t.eq(0).addClass("k-first");}));},_prepareColumns:function _prepareColumns(e,t,n,i){var o,r,a=i||e[e.length-1],s=e[a.index+1],l=0;for(o=0;t.length>o;o++){r={column:t[o],colSpan:0},a.cells.push(r),t[o].columns&&t[o].columns.length&&(s||(s={rowSpan:0,cells:[],index:e.length},e.push(s)),r.colSpan=t[o].columns.length,this._prepareColumns(e,t[o].columns,r,s),l+=r.colSpan-1,a.rowSpan=e.length-a.index);}n&&(n.colSpan+=l);},_wheelScroll:function _wheelScroll(e){var t,n,i;e.ctrlKey||(t=this.content,this.options.scrollable.virtual&&(t=this.virtualScrollable.verticalScrollbar),n=t.scrollTop(),i=ue.wheelDeltaY(e),i&&(e.preventDefault(),t.scrollTop(n+-i)));},_isLocked:function _isLocked(){return null!=this.lockedHeader;},_updateHeaderCols:function _updateHeaderCols(){var e=this.thead.parent().add(this.table);this._isLocked()?q(e,L(z(this.columns)),this._hasDetails(),0):q(e,L(p(this.columns)),this._hasDetails(),0);},_updateCols:function _updateCols(e){e=e||this.thead.parent().add(this.table),this._appendCols(e,this._isLocked());},_updateLockedCols:function _updateLockedCols(e){this._isLocked()&&(e=e||this.lockedHeader.find("table").add(this.lockedTable),q(e,L(B(this.columns)),this._hasDetails(),this._groups()));},_appendCols:function _appendCols(e,t){t?q(e,L(z(this.columns)),this._hasDetails(),0):q(e,L(p(this.columns)),this._hasDetails(),this._groups());},_autoColumns:function _autoColumns(e){if(e&&e.toJSON){var t,n,i=this;e=e.toJSON(),n=!(i.table.find("tbody tr").length>0&&(!i.dataSource||!i.dataSource.transport));for(t in e){i.columns.push({field:t,encoded:n,headerAttributes:{id:ue.guid()}});}i._thead(),i._templates();}},_rowsHtml:function _rowsHtml(e,t){var n,i,o=this,r="",a=t.rowTemplate,s=t.altRowTemplate;for(n=0,i=e.length;i>n;n++){r+=n%2?s(e[n]):a(e[n]),o._data.push(e[n]);}return r;},_groupRowHtml:function _groupRowHtml(e,t,n,i,o,r){var a,s,l=this,c="",d=e.field,u=ye(H(l.columns),function(e){return e.field==d;})[0]||{},h=u.groupHeaderTemplate,f=(u.title||d)+": "+Y(e.value,u.format,u.values,u.encoded),p=l._groupAggregatesDefaultObject||{},m=be({},p,e.aggregates),g=be({},{field:e.field,value:e.value,aggregates:m},e.aggregates[e.field]),v=o.groupFooterTemplate,_=e.items;if(h&&(f=(typeof h==="undefined"?"undefined":_typeof(h))===lt?h(g):ue.template(h)(g)),c+=i(t,n,f),e.hasSubgroups)for(a=0,s=_.length;s>a;a++){c+=l._groupRowHtml(_[a],r?t:t-1,n+1,i,o,r);}else c+=l._rowsHtml(_,o);return v&&(c+=v(m)),c;},collapseGroup:function collapseGroup(t){var n,i,o,r,a,s,l,c,d,u;for(t=e(t),i=this.options.groupable,o=i.showFooter,r=o?0:1,s=e(),this._isLocked()&&(t.closest("div").hasClass("k-grid-content-locked")?s=this.tbody.children("tr:eq("+t.index()+")").nextAll("tr"):(s=t.nextAll("tr"),t=this.lockedTable.find(">tbody>tr:eq("+t.index()+")"))),n=t.find(".k-group-cell").length,t.find(".k-i-collapse").addClass("k-i-expand").removeClass("k-i-collapse"),t.find("td[aria-expanded='true']:first").attr("aria-expanded",!1),t=t.nextAll("tr"),u=[],l=0,c=t.length;c>l&&(d=t.eq(l),a=d.find(".k-group-cell").length,d.hasClass("k-grouping-row")?r++:d.hasClass("k-group-footer")&&r--,!(n>=a||d.hasClass("k-group-footer")&&0>r));l++){s.length&&u.push(s[l]),u.push(d[0]);}e(u).hide();},expandGroup:function expandGroup(t){t=e(t);var n,i,o,r,a,s=this,l=s.options.groupable.showFooter,c=e(),d=[],u=1;for(this._isLocked()&&(t.closest("div").hasClass("k-grid-content-locked")?c=this.tbody.children("tr:eq("+t.index()+")").nextAll("tr"):(c=t.nextAll("tr"),t=this.lockedTable.find(">tbody>tr:eq("+t.index()+")"))),n=t.find(".k-group-cell").length,t.find(".k-i-expand").addClass("k-i-collapse").removeClass("k-i-expand"),t.find("td[aria-expanded='false']:first").attr("aria-expanded",!0),t=t.nextAll("tr"),r=0,a=t.length;a>r&&(i=t.eq(r),o=i.find(".k-group-cell").length,!(n>=o));r++){o!=n+1||i.hasClass("k-detail-row")||(i.show(),c.eq(r).show(),i.hasClass("k-grouping-row")&&i.find(".k-icon").hasClass("k-i-collapse")&&s.expandGroup(i),i.hasClass("k-master-row")&&i.find(".k-icon").hasClass("k-minus")&&(i.next().show(),c.eq(r+1).show())),i.hasClass("k-grouping-row")&&(l&&d.push(i.is(":visible")),u++),i.hasClass("k-group-footer")&&(l&&i.toggle(d.pop()),1==u?(i.show(),c.eq(r).show()):u--);}},_updateHeader:function _updateHeader(t){var n=this,i=n._isLocked()?n.lockedHeader.find("thead"):n.thead,o=i.find("tr.k-filter-row").find("th.k-group-cell").length,r=i.find("tr:first").find("th.k-group-cell").length,a=i.children("tr:not(:first)").filter(function(){return!e(this).children(":visible").length;});t>r?(e(Array(t-r+1).join('<th class="k-group-cell k-header" scope="col">&nbsp;</th>')).prependTo(i.children("tr:not(.k-filter-row)")),n.element.is(":visible")&&a.find("th.k-group-cell").hide()):r>t&&i.find("tr").each(function(){e(this).find("th.k-group-cell").filter(":eq("+t+"),:gt("+t+")").remove();}),t>o&&e(Array(t-o+1).join('<th class="k-group-cell k-header" scope="col">&nbsp;</th>')).prependTo(i.find(".k-filter-row"));},_firstDataItem:function _firstDataItem(e,t){return e&&t&&(e=e.hasSubgroups?this._firstDataItem(e.items[0],t):e.items[0]),e;},_updateTablesWidth:function _updateTablesWidth(){var t,n=this;n._isLocked()&&(t=e(">.k-grid-footer>.k-grid-footer-wrap>table",n.wrapper).add(n.thead.parent()).add(n.table),n._footerWidth=te(t.eq(0)),t.width(n._footerWidth),t=e(">.k-grid-footer>.k-grid-footer-locked>table",n.wrapper).add(n.lockedHeader.find(">table")).add(n.lockedTable),t.width(te(t.eq(0))));},hideColumn:function hideColumn(n){var i,o,r,s,l,c,d,m,g,v,_=this,b=0,w=_.footer||_.wrapper.find(".k-grid-footer"),y=_.columns,k=_.lockedHeader?N(_.lockedHeader.find(">table>thead")).filter(h).length:0;if(n="number"==typeof n?y[n]:_e(n)?ye(T(y),function(e){return e===n;})[0]:ye(T(y),function(e){return e.field===n;})[0],n&&f(n)){if(n.columns&&n.columns.length){for(c=C(n,y),u(n,!1),K(a(e(">table>thead",_.lockedHeader),_.thead,">tr:eq("+c.row+")>th"),c.cell,!1),r=0;n.columns.length>r;r++){this.hideColumn(n.columns[r]);}return _.trigger(qe,{column:n}),t;}if(g=xe(n,p(H(y))),u(n,!1),_._setParentsVisibility(n,!1),_._templates(),_._updateCols(),_._updateLockedCols(),v=_.thead,d=g,_.lockedHeader&&k>g?v=_.lockedHeader.find(">table>thead"):d-=k,i=N(v).filter(h).eq(d),i[0].style.display="none",K(a(e(">table>thead",_.lockedHeader),_.thead,">tr.k-filter-row>th"),g,!1),w[0]&&(_._updateCols(w.find(">.k-grid-footer-wrap>table")),_._updateLockedCols(w.find(">.k-grid-footer-locked>table")),K(w.find(".k-footer-template>td"),g,!1)),_.lockedTable&&k>g?Q(_.lockedTable.find(">tbody>tr"),g):Q(_.tbody.children(),g-k),_.lockedTable)_._updateTablesWidth(),_._applyLockedContainersWidth(),_._syncLockedContentHeight(),_._syncLockedHeaderHeight(),_._syncLockedFooterHeight();else{for(s=_.thead.prev().find("col"),r=0,m=s.length;m>r;r+=1){if(l=s[r].style.width,!l||-1!=l.indexOf("%")){b=0;break;}b+=parseInt(l,10);}o=e(">.k-grid-header table:first,>.k-grid-footer table:first",_.wrapper).add(_.table),_._footerWidth=null,b&&(o.each(function(){this.style.width=b+"px";}),_._footerWidth=b),yt.msie&&8==yt.version&&(o.css("display","inline-table"),setTimeout(function(){o.css("display","table");},1));}_._updateFirstColumnClass(),_.trigger(qe,{column:n});}},_setParentsVisibility:function _setParentsVisibility(t,n){var i,o,r,s,l,c=this.columns,h=[],f=n?function(e){return p(e.columns).length&&e.hidden;}:function(e){return!p(e.columns).length&&!e.hidden;};if(d(t,c,h)&&h.length)for(i=h.length-1;i>=0;i--){o=h[i],r=y(o,c),s=a(e(">table>thead",this.lockedHeader),this.thead,">tr:eq("+r.row+")>th:not(.k-group-cell):not(.k-hierarchy-cell)").eq(r.cell),f(o)&&(u(o,n),s[0].style.display=n?"":"none"),s.filter("["+ue.attr("colspan")+"]").length&&(l=parseInt(s.attr(ue.attr("colspan")),10),s[0].colSpan=l-D(o.columns)||1);}},showColumn:function showColumn(n){var i,o,r,s,l,c,d,h,p,m,g,v=this,_=v.columns,b=v.footer||v.wrapper.find(".k-grid-footer"),w=v.lockedHeader?N(v.lockedHeader.find(">table>thead")).length:0;if(n="number"==typeof n?_[n]:_e(n)?ye(T(_),function(e){return e===n;})[0]:ye(T(_),function(e){return e.field===n;})[0],n&&!f(n)){if(n.columns&&n.columns.length){for(d=y(n,_),u(n,!0),K(a(e(">table>thead",v.lockedHeader),v.thead,">tr:eq("+d.row+")>th"),d.cell,!0),i=0;n.columns.length>i;i++){this.showColumn(n.columns[i]);}return v.trigger(Ge,{column:n}),t;}if(m=xe(n,H(_)),u(n,!0),v._setParentsVisibility(n,!0),v._templates(),v._updateCols(),v._updateLockedCols(),g=v.thead,c=m,v.lockedHeader&&w>m?g=v.lockedHeader.find(">table>thead"):c-=w,r=N(g).eq(c),r[0].style.display="",K(a(e(">table>thead",v.lockedHeader),v.thead,">tr.k-filter-row>th"),m,!0),b[0]&&(v._updateCols(b.find(">.k-grid-footer-wrap>table")),v._updateLockedCols(b.find(">.k-grid-footer-locked>table")),K(b.find(".k-footer-template>td"),m,!0)),v.lockedTable&&w>m?Z(v.lockedTable.find(">tbody>tr"),m):Z(v.tbody.children(),m-w),v.lockedTable)v._updateTablesWidth(),v._applyLockedContainersWidth(),v._syncLockedContentHeight(),v._syncLockedHeaderHeight();else if(s=e(">.k-grid-header table:first,>.k-grid-footer table:first",v.wrapper).add(v.table),n.width){for(l=0,p=v.thead.prev().find("col"),i=0,o=p.length;o>i;i+=1){if(h=p[i].style.width,h.indexOf("%")>-1){l=0;break;}l+=parseInt(h,10);}v._footerWidth=null,l&&(s.each(function(){this.style.width=l+"px";}),v._footerWidth=l);}else s.width("");v._updateFirstColumnClass(),v.trigger(Ge,{column:n});}},_progress:function _progress(e){var t=this.element;this.lockedContent?t=this.wrapper:this.element.is("table")?t=this.element.parent():this.content&&this.content.length&&(t=this.content),ue.ui.progress(t,e);},_resize:function _resize(e,t){this._syncLockedHeaderHeight(),this.content&&(this._setContentWidth(),this._setContentHeight()),this.virtualScrollable&&(t||this._rowHeight)&&(t&&(this._rowHeight=null),this.virtualScrollable.repaintScrollbar());},_isActiveInTable:function _isActiveInTable(){var t=me();return t?this.table[0]===t||e.contains(this.table[0],t)||this._isLocked()&&(this.lockedTable[0]===t||e.contains(this.lockedTable[0],t)):!1;},refresh:function refresh(t){var n,i=this,o=i.dataSource.view(),r=i.options.navigatable,a=e(i.current()),s=!1,l=(i.dataSource.group()||[]).length,c=l+L(p(i.columns)).length;t&&"itemchange"===t.action&&i.editable||(t=t||{},i.trigger("dataBinding",{action:t.action||"rebind",index:t.index,items:t.items})||(i._angularItems("cleanup"),r&&(i._isActiveInTable()||i._editContainer&&i._editContainer.data("kendoWindow"))&&(s=a.is("th"),n=Math.max(i.cellIndex(a),0)),i._destroyEditable(),i._progress(!1),i._hideResizeHandle(),i._data=[],i.columns.length||(i._autoColumns(i._firstDataItem(o[0],l)),c=l+i.columns.length),i._group=l>0||i._group,i._group&&(i._templates(),i._updateCols(),i._updateLockedCols(),i._updateHeader(l),i._group=l>0),i._renderContent(o,c,l),i._renderLockedContent(o,c,l),i._footer(),i._renderNoRecordsContent(),i._setContentHeight(),i._setContentWidth(i.content&&i.content.scrollLeft()),i.lockedTable&&(i.options.scrollable.virtual?i.content.find(">.k-virtual-scrollable-wrap").trigger("scroll"):i.touchScroller?i.touchScroller.movable.trigger("change"):(i.wrapper.one("scroll",function(e){e.stopPropagation();}),i.content.trigger("scroll"))),i._restoreCurrent(n,s),i.touchScroller&&i.touchScroller.contentResized(),i.selectable&&i.selectable.resetTouchEvents(),i._muteAngularRebind(function(){i._angularItems("compile");}),i.trigger(Ye)));},_restoreCurrent:function _restoreCurrent(n,i){var o,r,a;n===t||0>n||(this._removeCurrent(),i?this._setCurrent(this.thead.find("th:not(.k-group-cell)").eq(n)):(o=0,this._rowVirtualIndex?o=this.virtualScrollable.position(this._rowVirtualIndex):n=0,r=e(),this.lockedTable&&(r=this.lockedTable.find(">tbody>tr").eq(o)),r=r.add(this.tbody.children().eq(o)),a=r.find(">td:not(.k-group-cell):not(.k-hierarchy-cell)").eq(n),this._setCurrent(a)),this._current&&re(this._current.closest("table")[0],!0));},_angularItems:function _angularItems(e){ue.ui.DataBoundWidget.fn._angularItems.call(this,e),"cleanup"===e&&this._cleanupDetailItems(),this._angularGroupItems(e),this._angularGroupFooterItems(e);},_cleanupDetailItems:function _cleanupDetailItems(){var e=this;e._hasDetails()&&(e.angular("cleanup",function(){return{elements:e.tbody.children(".k-detail-row")};}),e.tbody.find(".k-detail-cell").empty());},_angularGroupItems:function _angularGroupItems(t){var n=this,i=n.tbody;n.lockedContent&&(i=n.lockedTable.find("tbody")),n._group&&n.angular(t,function(){return{elements:i.children(".k-grouping-row"),data:e.map(X(n.dataSource.view()),function(e){return{dataItem:e};})};});},_angularGroupFooterItems:function _angularGroupFooterItems(t){var n=this,i=n.tbody;n.lockedContent&&(i=n.element),n._group&&n.groupFooterTemplate&&n.angular(t,function(){return{elements:i.find(".k-group-footer"),data:e.map(J(n.dataSource.view()),function(e){return{dataItem:e};})};});},_renderContent:function _renderContent(e,t,n){var i,o,r=this,a="",s=null!=r.lockedContent,l={rowTemplate:r.rowTemplate,altRowTemplate:r.altRowTemplate,groupFooterTemplate:r.groupFooterTemplate};if(t=s?t-L(B(r.columns)).length:t,n>0)for(t=s?t-n:t,r.detailTemplate&&t++,r.groupFooterTemplate&&(r._groupAggregatesDefaultObject=r.dataSource.aggregates()),i=0,o=e.length;o>i;i++){a+=r._groupRowHtml(e[i],t,0,s?de:ce,l,s);}else a+=r._rowsHtml(e,l);r.tbody=U(r.tbody,r.table,a,this.options.$angular);},_renderLockedContent:function _renderLockedContent(e,t,n){var i,o,r,a="",s={rowTemplate:this.lockedRowTemplate,altRowTemplate:this.lockedAltRowTemplate,groupFooterTemplate:this.lockedGroupFooterTemplate};if(this.lockedContent){if(r=this.lockedTable,n>0)for(t-=p(H(P(this.columns))).length,i=0,o=e.length;o>i;i++){a+=this._groupRowHtml(e[i],t,0,ce,s);}else a=this._rowsHtml(e,s);U(r.children("tbody"),r,a,this.options.$angular),this._syncLockedContentHeight();}},_adjustRowsHeight:function _adjustRowsHeight(e,t){var n,i,o,r,a=e[0].rows,s=a.length,l=t[0].rows,c=e.add(t),d=c.length,u=[];for(n=0;s>n&&l[n];n++){a[n].style.height&&(a[n].style.height=l[n].style.height="");}for(n=0;s>n&&l[n];n++){i=a[n].offsetHeight,o=l[n].offsetHeight,r=0,i>o?r=i:o>i&&(r=o),u.push(r);}for(n=0;d>n;n++){c[n].style.display="none";}for(n=0;s>n;n++){u[n]&&(a[n].style.height=l[n].style.height=u[n]+1+"px");}for(n=0;d>n;n++){c[n].style.display="";}}});ue.ExcelMixin&&ue.ExcelMixin.extend(Tt.prototype),ue.PDFMixin&&(ue.PDFMixin.extend(Tt.prototype),Tt.prototype._drawPDF_autoPageBreak=function(n){function i(){u&&s!==t?(d.unbind("change",r),d.one("change",o),d.page(s)):(l.refresh(),o());}function o(){f.appendTo(document.body);var t=e.extend({},l.options.pdf,{_destructive:!0,progress:function progress(e){n.notify({pageNumber:e.pageNum,progress:.5+e.pageNum/e.totalPages/2});}});ue.drawing.drawDOM(p,t).then(function(e){f.remove(),c.resolve(e);}).fail(function(e){c.reject(e);});}function r(){var e,t=d.page(),o=u?d.totalPages():1;a.append(h.find("tr")),e={pageNumber:t,progress:t/o/2,totalPages:o},n.notify(e),o>t?d.page(t+1):i();}var a,s,l=this,c=new e.Deferred(),d=l.dataSource,u=l.options.pdf.allPages,h=l.wrapper.find(".k-grid-content tbody"),f=e("<div>").css({position:"absolute",left:-1e4,top:-1e4}),p=l.wrapper.clone().css({height:"auto",width:"auto"}).appendTo(f);return p.find(".k-grid-content").css({height:"auto",width:"auto",overflow:"visible"}),p.find(".k-grid-pager, .k-grid-toolbar, .k-grouping-header").remove(),p.find(".k-grid-header").css({paddingRight:0}),this._initPDFProgress(n),a=p.find(".k-grid-content tbody").empty(),s=d.page(),u?(d.bind("change",r),d.page(1)):r(),c.promise();},Tt.prototype._drawPDF=function(n){function i(){s&&c!==t?(a.unbind("change",o),a.one("change",function(){r.resolve(l);}),a.page(c)):r.resolve(l);}function o(){d._drawPDFShadow({width:d.wrapper.width()},{avoidLinks:d.options.pdf.avoidLinks}).done(function(e){var t=a.page(),o=s?a.totalPages():1,r={page:e,pageNumber:t,progress:t/o,totalPages:o};n.notify(r),l.append(r.page),o>t?a.page(t+1):i();}).fail(function(e){r.reject(e);});}var r,a,s,l,c,d=this;return d.options.pdf.paperSize&&"auto"!=d.options.pdf.paperSize?d._drawPDF_autoPageBreak(n):(r=new e.Deferred(),a=d.dataSource,s=d.options.pdf.allPages,this._initPDFProgress(n),l=new ue.drawing.Group(),c=a.page(),s?(a.bind("change",o),a.page(1)):o(),r.promise());},Tt.prototype._initPDFProgress=function(t){var n,i=e("<div class='k-loading-pdf-mask'><div class='k-loading-color'/></div>");i.prepend(this.wrapper.clone().css({position:"absolute",top:0,left:0})),this.wrapper.append(i),n=e("<div class='k-loading-pdf-progress'>").appendTo(i).kendoProgressBar({type:"chunk",chunkCount:10,min:0,max:1,value:0}).data("kendoProgressBar"),t.progress(function(e){n.value(e.progress);}).always(function(){ue.destroy(i),i.remove();});}),he.plugin(Tt),he.plugin(Ct);}(window.kendo.jQuery),window.kendo;},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("kendo.listview.min",["kendo.data.min","kendo.editable.min","kendo.selectable.min"],e);}(function(){return function(e,t){var n=window.kendo,i="change",o="cancel",r="dataBound",a="dataBinding",s=n.ui.Widget,l=n.keys,c=">*:not(.k-loading-mask)",d="progress",u="error",h="k-state-focused",f="k-state-selected",p="k-edit-item",m="edit",g="remove",v="save",_="click",b=".kendoListView",w=e.proxy,y=n._activeElement,k=n.ui.progress,x=n.data.DataSource,C=n.ui.DataBoundWidget.extend({init:function init(t,i){var o=this;i=e.isArray(i)?{dataSource:i}:i,s.fn.init.call(o,t,i),i=o.options,o.wrapper=t=o.element,t[0].id&&(o._itemId=t[0].id+"_lv_active"),o._element(),o._dataSource(),o._templates(),o._navigatable(),o._selectable(),o._pageable(),o._crudHandlers(),o.options.autoBind&&o.dataSource.fetch(),n.notify(o);},events:[i,o,a,r,m,g,v],options:{name:"ListView",autoBind:!0,selectable:!1,navigatable:!1,template:"",altTemplate:"",editTemplate:""},setOptions:function setOptions(e){s.fn.setOptions.call(this,e),this._templates(),this.selectable&&(this.selectable.destroy(),this.selectable=null),this._selectable();},_templates:function _templates(){var e=this.options;this.template=n.template(e.template||""),this.altTemplate=n.template(e.altTemplate||e.template),this.editTemplate=n.template(e.editTemplate||"");},_item:function _item(e){return this.element.children()[e]();},items:function items(){return this.element.children();},dataItem:function dataItem(t){var i=n.attr("uid"),o=e(t).closest("["+i+"]").attr(i);return this.dataSource.getByUid(o);},setDataSource:function setDataSource(e){this.options.dataSource=e,this._dataSource(),this.options.autoBind&&e.fetch();},_unbindDataSource:function _unbindDataSource(){var e=this;e.dataSource.unbind(i,e._refreshHandler).unbind(d,e._progressHandler).unbind(u,e._errorHandler);},_dataSource:function _dataSource(){var e=this;e.dataSource&&e._refreshHandler?e._unbindDataSource():(e._refreshHandler=w(e.refresh,e),e._progressHandler=w(e._progress,e),e._errorHandler=w(e._error,e)),e.dataSource=x.create(e.options.dataSource).bind(i,e._refreshHandler).bind(d,e._progressHandler).bind(u,e._errorHandler);},_progress:function _progress(){k(this.element,!0);},_error:function _error(){k(this.element,!1);},_element:function _element(){this.element.addClass("k-widget k-listview").attr("role","listbox");},refresh:function refresh(e){var i,o,s,l,c,d=this,u=d.dataSource.view(),h="",f=d.template,p=d.altTemplate,m=y();if(e=e||{},"itemchange"===e.action)return d._hasBindingTarget()||d.editable||(i=e.items[0],s=d.items().filter("["+n.attr("uid")+"="+i.uid+"]"),s.length>0&&(l=s.index(),d.angular("cleanup",function(){return{elements:[s]};}),s.replaceWith(f(i)),s=d.items().eq(l),s.attr(n.attr("uid"),i.uid),d.angular("compile",function(){return{elements:[s],data:[{dataItem:i}]};}),d.trigger("itemChange",{item:s,data:i}))),t;if(!d.trigger(a,{action:e.action||"rebind",items:e.items,index:e.index})){for(d._angularItems("cleanup"),d._destroyEditable(),l=0,c=u.length;c>l;l++){h+=l%2?p(u[l]):f(u[l]);}for(d.element.html(h),o=d.items(),l=0,c=u.length;c>l;l++){o.eq(l).attr(n.attr("uid"),u[l].uid).attr("role","option").attr("aria-selected","false");}d.element[0]===m&&d.options.navigatable&&d.current(o.eq(0)),d._angularItems("compile"),d.trigger(r);}},_pageable:function _pageable(){var t,i,o=this,r=o.options.pageable;e.isPlainObject(r)&&(i=r.pagerId,t=e.extend({},r,{dataSource:o.dataSource,pagerId:null}),o.pager=new n.ui.Pager(e("#"+i),t));},_selectable:function _selectable(){var e,o,r=this,a=r.options.selectable,s=r.options.navigatable;a&&(e=n.ui.Selectable.parseOptions(a).multiple,r.selectable=new n.ui.Selectable(r.element,{aria:!0,multiple:e,filter:c,change:function change(){r.trigger(i);}}),s&&r.element.on("keydown"+b,function(n){if(n.keyCode===l.SPACEBAR){if(o=r.current(),n.target==n.currentTarget&&n.preventDefault(),e){if(n.ctrlKey){if(o&&o.hasClass(f))return o.removeClass(f),t;}else r.selectable.clear();}else r.selectable.clear();r.selectable.value(o);}}));},current:function current(e){var n=this,i=n.element,o=n._current,r=n._itemId;return e===t?o:(o&&o[0]&&(o[0].id===r&&o.removeAttr("id"),o.removeClass(h),i.removeAttr("aria-activedescendant")),e&&e[0]&&(r=e[0].id||r,n._scrollTo(e[0]),i.attr("aria-activedescendant",r),e.addClass(h).attr("id",r)),n._current=e,t);},_scrollTo:function _scrollTo(t){var n,i,o=this,r=!1,a="scroll";"auto"==o.wrapper.css("overflow")||o.wrapper.css("overflow")==a?n=o.wrapper[0]:(n=window,r=!0),i=function i(_i3,o){var s=r?e(t).offset()[_i3.toLowerCase()]:t["offset"+_i3],l=t["client"+o],c=e(n)[a+_i3](),d=e(n)[o.toLowerCase()]();s+l>c+d?e(n)[a+_i3](s+l-d):c>s&&e(n)[a+_i3](s);},i("Top","Height"),i("Left","Width");},_navigatable:function _navigatable(){var t=this,i=t.options.navigatable,o=t.element,r=function r(n){t.current(e(n.currentTarget)),e(n.target).is(":button,a,:input,a>.k-icon,textarea")||o.focus();};i&&(t._tabindex(),o.on("focus"+b,function(){var e=t._current;e&&e.is(":visible")||(e=t._item("first")),t.current(e);}).on("focusout"+b,function(){t._current&&t._current.removeClass(h);}).on("keydown"+b,function(i){var r,a,s=i.keyCode,c=t.current(),d=e(i.target),u=!d.is(":button,textarea,a,a>.t-icon,input"),h=d.is(":text,:password"),f=n.preventDefault,m=o.find("."+p),g=y();if(!(!u&&!h&&l.ESC!=s||h&&l.ESC!=s&&l.ENTER!=s))if(l.UP===s||l.LEFT===s)c&&(c=c.prev()),t.current(c&&c[0]?c:t._item("last")),f(i);else if(l.DOWN===s||l.RIGHT===s)c&&(c=c.next()),t.current(c&&c[0]?c:t._item("first")),f(i);else if(l.PAGEUP===s)t.current(null),t.dataSource.page(t.dataSource.page()-1),f(i);else if(l.PAGEDOWN===s)t.current(null),t.dataSource.page(t.dataSource.page()+1),f(i);else if(l.HOME===s)t.current(t._item("first")),f(i);else if(l.END===s)t.current(t._item("last")),f(i);else if(l.ENTER===s)0!==m.length&&(u||h)?(r=t.items().index(m),g&&g.blur(),t.save(),a=function a(){t.element.trigger("focus"),t.current(t.items().eq(r));},t.one("dataBound",a)):""!==t.options.editTemplate&&t.edit(c);else if(l.ESC===s){if(m=o.find("."+p),0===m.length)return;r=t.items().index(m),t.cancel(),t.element.trigger("focus"),t.current(t.items().eq(r));}}),o.on("mousedown"+b+" touchstart"+b,c,w(r,t)));},clearSelection:function clearSelection(){var e=this;e.selectable.clear(),e.trigger(i);},select:function select(n){var i=this,o=i.selectable;return n=e(n),n.length?(o.options.multiple||(o.clear(),n=n.first()),o.value(n),t):o.value();},_destroyEditable:function _destroyEditable(){var e=this;e.editable&&(e.editable.destroy(),delete e.editable);},_modelFromElement:function _modelFromElement(e){var t=e.attr(n.attr("uid"));return this.dataSource.getByUid(t);},_closeEditable:function _closeEditable(){var e,t,i,o=this,r=o.editable,a=o.template;return r&&(r.element.index()%2&&(a=o.altTemplate),o.angular("cleanup",function(){return{elements:[r.element]};}),e=o._modelFromElement(r.element),o._destroyEditable(),i=r.element.index(),r.element.replaceWith(a(e)),t=o.items().eq(i),t.attr(n.attr("uid"),e.uid),o._hasBindingTarget()&&n.bind(t,e),o.angular("compile",function(){return{elements:[t],data:[{dataItem:e}]};})),!0;},edit:function edit(e){var t,i,o=this,r=o._modelFromElement(e),a=r.uid;o.cancel(),e=o.items().filter("["+n.attr("uid")+"="+a+"]"),i=e.index(),e.replaceWith(o.editTemplate(r)),t=o.items().eq(i).addClass(p).attr(n.attr("uid"),r.uid),o.editable=t.kendoEditable({model:r,clearContainer:!1,errorTemplate:!1,target:o}).data("kendoEditable"),o.trigger(m,{model:r,item:t});},save:function save(){var e,t,n=this,i=n.editable;i&&(t=i.element,e=n._modelFromElement(t),i.end()&&!n.trigger(v,{model:e,item:t})&&(n._closeEditable(),n.dataSource.sync()));},remove:function remove(e){var t=this,n=t.dataSource,i=t._modelFromElement(e);t.editable&&(n.cancelChanges(t._modelFromElement(t.editable.element)),t._closeEditable()),t.trigger(g,{model:i,item:e})||(e.hide(),n.remove(i),n.sync());},add:function add(){var e,t=this,n=t.dataSource,i=n.indexOf((n.view()||[])[0]);0>i&&(i=0),t.cancel(),e=n.insert(i,{}),t.edit(t.element.find("[data-uid='"+e.uid+"']"));},cancel:function cancel(){var e,t,n=this,i=n.dataSource;n.editable&&(e=n.editable.element,t=n._modelFromElement(e),n.trigger(o,{model:t,container:e})||(i.cancelChanges(t),n._closeEditable()));},_crudHandlers:function _crudHandlers(){var t=this,i=_+b;t.element.on(i,".k-edit-button",function(i){var o=e(this).closest("["+n.attr("uid")+"]");t.edit(o),i.preventDefault();}),t.element.on(i,".k-delete-button",function(i){var o=e(this).closest("["+n.attr("uid")+"]");t.remove(o),i.preventDefault();}),t.element.on(i,".k-update-button",function(e){t.save(),e.preventDefault();}),t.element.on(i,".k-cancel-button",function(e){t.cancel(),e.preventDefault();});},destroy:function destroy(){var e=this;s.fn.destroy.call(e),e._unbindDataSource(),e._destroyEditable(),e.element.off(b),e.pager&&e.pager.destroy(),n.destroy(e.element);}});n.ui.plugin(C);}(window.kendo.jQuery),window.kendo;},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("kendo.upload.min",["kendo.core.min"],e);}(function(){return function(e,t){function n(t){return e.map(i(t),function(e){return e.name;}).join(", ");}function i(e){var t=e[0];return t.files?o(t.files):[{name:s(t.value),extension:a(t.value),size:null}];}function o(t){return e.map(t,function(e){return r(e);});}function r(e){var t=e.name||e.fileName;return{name:b.htmlEncode(t),extension:a(t),size:e.size||e.fileSize,rawFile:e};}function a(e){var t=e.match(x);return t?t[0]:"";}function s(e){var t=e.lastIndexOf("\\");return-1!=t?e.substr(t+1):e;}function l(t,n){var i=b.guid();return e.map(t,function(e){return e.uid=n?b.guid():i,e;});}function c(t){return!t.multiple&&e(".k-file",t.wrapper).length>1;}function d(n,i,o){var r,a;return i._supportsRemove()?(r=n.data("fileNames"),a=e.map(r,function(e){return e.name;}),i._submitRemove(a,o,function(e,t,o){i._removeFileEntry(n),i.trigger(D,{operation:"remove",files:r,response:e,XMLHttpRequest:o});},function(e){c(i)&&i._removeFileEntry(n),i.trigger(A,{operation:"remove",files:r,XMLHttpRequest:e}),k("Server response: "+e.responseText);}),t):(c(i)&&i._removeFileEntry(n),t);}function u(t,n,i){var o=!1,r="";try{r=e.parseJSON(h(t)),o=!0;}catch(a){i();}o&&n(r);}function h(e){return t!==e&&""!==e||(e="{}"),e;}function f(e){e.stopPropagation(),e.preventDefault();}function p(e,t,n,i){var o,r;e.on("dragenter"+t,function(){n(),r=new Date(),o||(o=setInterval(function(){var e=new Date()-r;e>100&&(i(),clearInterval(o),o=null);},100));}).on("dragover"+t,function(){r=new Date();});}function m(e){return e.is(".k-file-progress, .k-file-success, .k-file-error");}function g(t){return e(t.target).closest(".k-file");}var v,_,b=window.kendo,w=b.ui.Widget,y=b.antiForgeryTokens,k=b.logToConsole,x=/\.([^\.]+)$/,C=".kendoUpload",S="select",T="upload",D="success",A="error",E="complete",R="cancel",I="progress",F="remove",M=w.extend({init:function init(t,n){var i,o,r,a=this;w.fn.init.call(a,t,n),a.name=t.name,a.multiple=a.options.multiple,a.localization=a.options.localization,i=a.element,a.wrapper=i.closest(".k-upload"),0===a.wrapper.length&&(a.wrapper=a._wrapInput(i)),a._activeInput(i),a.toggle(a.options.enabled),o=a._ns=C+"-"+b.guid(),i.closest("form").on("submit"+o,e.proxy(a._onParentFormSubmit,a)).on("reset"+o,e.proxy(a._onParentFormReset,a)),a.options.async.saveUrl?(a._module=a._supportsFormData()?new _(a):new v(a),a._async=!0,r=a.options.files,r.length>0&&a._renderInitialFiles(r)):a._module=new P(a),a._supportsDrop()&&a._setupDropZone(),a.wrapper.on("click",".k-upload-action",e.proxy(a._onFileAction,a)).on("click",".k-upload-selected",e.proxy(a._onUploadSelected,a)),a.element.val()&&a._onInputChange({target:a.element});},events:[S,T,D,A,E,R,I,F],options:{name:"Upload",enabled:!0,multiple:!0,showFileList:!0,template:"",files:[],async:{removeVerb:"POST",autoUpload:!0,withCredentials:!0,accept:"*/*; q=0.5; application/json"},localization:{select:"Select files...",cancel:"Cancel",retry:"Retry",remove:"Remove",uploadSelectedFiles:"Upload files",dropFilesHere:"drop files here to upload",statusUploading:"uploading",statusUploaded:"uploaded",statusWarning:"warning",statusFailed:"failed",headerStatusUploading:"Uploading...",headerStatusUploaded:"Done"}},setOptions:function setOptions(e){var t=this,n=t.element;w.fn.setOptions.call(t,e),t.multiple=t.options.multiple,n.attr("multiple",t._supportsMultiple()?t.multiple:!1),t.toggle(t.options.enabled);},enable:function enable(e){e=t===e?!0:e,this.toggle(e);},disable:function disable(){this.toggle(!1);},toggle:function toggle(e){e=t===e?e:!e,this.wrapper.toggleClass("k-state-disabled",e),this.element.prop("disabled",e);},destroy:function destroy(){var t=this;e(document).add(e(".k-dropzone",t.wrapper)).add(t.wrapper.closest("form")).off(t._ns),e(t.element).off(C),w.fn.destroy.call(t);},_addInput:function _addInput(t){if(t[0].nodeType){var n=this,i=t.clone().val("");i.insertAfter(n.element).data("kendoUpload",n),e(n.element).hide().attr("tabindex","-1").removeAttr("id").off(C),n._activeInput(i),n.element.focus();}},_activeInput:function _activeInput(t){var n=this,i=n.wrapper;n.element=t,t.attr("multiple",n._supportsMultiple()?n.multiple:!1).attr("autocomplete","off").on("click"+C,function(e){i.hasClass("k-state-disabled")&&e.preventDefault();}).on("focus"+C,function(){e(this).parent().addClass("k-state-focused");}).on("blur"+C,function(){e(this).parent().removeClass("k-state-focused");}).on("change"+C,e.proxy(n._onInputChange,n)).on("keydown"+C,e.proxy(n._onInputKeyDown,n));},_onInputKeyDown:function _onInputKeyDown(e){var t=this,n=t.wrapper.find(".k-upload-action:first");e.keyCode===b.keys.TAB&&n.length>0&&(e.preventDefault(),n.focus());},_onInputChange:function _onInputChange(t){var n=this,i=e(t.target),o=l(n._inputFiles(i),n._isAsyncNonBatch()),r=n.trigger(S,{files:o});r?(n._addInput(i),i.remove()):n._module.onSelect({target:i},o);},_onDrop:function _onDrop(t){var n,i=t.originalEvent.dataTransfer,r=this,a=i.files,s=l(o(a),r._isAsyncNonBatch());f(t),a.length>0&&!r.wrapper.hasClass("k-state-disabled")&&(!r.multiple&&s.length>1&&s.splice(1,s.length-1),n=r.trigger(S,{files:s}),n||r._module.onSelect({target:e(".k-dropzone",r.wrapper)},s));},_isAsyncNonBatch:function _isAsyncNonBatch(){return this._async&&!this.options.async.batch||!1;},_renderInitialFiles:function _renderInitialFiles(t){var n,i,o=this,r=0;for(t=l(t,!0),r=0;t.length>r;r++){n=t[r],i=o._enqueueFile(n.name,{fileNames:[n]}),i.addClass("k-file-success").data("files",[t[r]]),e(".k-progress",i).width("100%"),o.options.template||e(".k-upload-status",i).prepend("<span class='k-upload-pct'>100%</span>"),o._supportsRemove()&&o._fileAction(i,F);}},_prepareTemplateData:function _prepareTemplateData(e,t){var n=t.fileNames,i={},o=0,r=0;for(r=0;n.length>r;r++){o+=n[r].size;}return i.name=e,i.size=o,i.files=t.fileNames,i;},_prepareDefaultFileEntryTemplate:function _prepareDefaultFileEntryTemplate(t,n){var i="",o=e("<li class='k-file'><span class='k-progress'></span><span class='k-icon'></span><span class='k-filename' title='"+t+"'>"+t+"</span><strong class='k-upload-status'></strong></li>");return 1==n.fileNames.length&&n.fileNames[0].extension&&(i=n.fileNames[0].extension.substring(1),e(".k-icon",o).addClass("k-i-"+i)),o;},_enqueueFile:function _enqueueFile(t,n){var i,o,r,a,s=this,l=n.fileNames[0].uid,c=e(".k-upload-files",s.wrapper),d=s.options,u=d.template;return 0===c.length&&(c=e("<ul class='k-upload-files k-reset'></ul>").appendTo(s.wrapper),s.options.showFileList||c.hide(),s.wrapper.removeClass("k-upload-empty")),i=e(".k-file",c),u?(r=s._prepareTemplateData(t,n),u=b.template(u),o=e("<li class='k-file'>"+u(r)+"</li>"),o.find(".k-upload-action").addClass("k-button k-button-bare"),s.angular("compile",function(){return{elements:o,data:[r]};})):o=s._prepareDefaultFileEntryTemplate(t,n),o.attr(b.attr("uid"),l).appendTo(c).data(n),s._async||e(".k-progress",o).width("100%"),!s.multiple&&i.length>0&&(a={files:i.data("fileNames")},s.trigger(F,a)||s._module.onRemove({target:e(i,s.wrapper)},a.data)),o;},_removeFileEntry:function _removeFileEntry(t){var n,i,o=this,r=t.closest(".k-upload-files");t.remove(),n=e(".k-file",r),i=e(".k-file-success, .k-file-error",r),i.length===n.length&&this._hideUploadButton(),0===n.length&&(r.remove(),o.wrapper.addClass("k-upload-empty"),o._hideHeaderUploadstatus());},_fileAction:function _fileAction(e,t){var n={remove:"k-delete",cancel:"k-cancel",retry:"k-retry"},i={remove:"k-i-close",cancel:"k-i-close",retry:"k-i-refresh"};n.hasOwnProperty(t)&&(this._clearFileAction(e),this.options.template?e.find(".k-upload-action").addClass("k-button k-button-bare").append("<span class='k-icon "+i[t]+" "+n[t]+"' title='"+this.localization[t]+"'></span>").show():(e.find(".k-upload-status .k-upload-action").remove(),e.find(".k-upload-status").append(this._renderAction(n[t],this.localization[t],i[t]))));},_fileState:function _fileState(t,n){var i=this.localization,o={uploading:{text:i.statusUploading},uploaded:{text:i.statusUploaded},failed:{text:i.statusFailed}},r=o[n];r&&e(".k-icon:not(.k-delete, .k-cancel, .k-retry)",t).text(r.text);},_renderAction:function _renderAction(t,n,i){return e(""!==t?"<button type='button' class='k-button k-button-bare k-upload-action'><span class='k-icon "+i+" "+t+"' title='"+n+"'></span></button>":"<button type='button' class='k-button'>"+n+"</button>");},_clearFileAction:function _clearFileAction(t){e(".k-upload-action",t).empty().hide();},_onFileAction:function _onFileAction(t){var n,i,o,r,a=this;return a.wrapper.hasClass("k-state-disabled")||(n=e(t.target).closest(".k-upload-action"),i=n.find(".k-icon"),o=n.closest(".k-file"),r={files:o.data("fileNames")},i.hasClass("k-delete")?a.trigger(F,r)||a._module.onRemove({target:e(o,a.wrapper)},r.data):i.hasClass("k-cancel")?(a.trigger(R,r),a._module.onCancel({target:e(o,a.wrapper)}),this._checkAllComplete(),a._updateHeaderUploadStatus()):i.hasClass("k-retry")&&(e(".k-warning",o).remove(),a._module.onRetry({target:e(o,a.wrapper)}))),!1;},_onUploadSelected:function _onUploadSelected(){var e=this,t=e.wrapper;return t.hasClass("k-state-disabled")||this._module.onSaveSelected(),!1;},_onFileProgress:function _onFileProgress(t,n){var i;n>100&&(n=100),this.options.template?e(".k-progress",t.target).width(n+"%"):(i=e(".k-upload-pct",t.target),0===i.length&&e(".k-upload-status",t.target).prepend("<span class='k-upload-pct'></span>"),e(".k-upload-pct",t.target).text(n+"%"),e(".k-progress",t.target).width(n+"%")),this.trigger(I,{files:g(t).data("fileNames"),percentComplete:n});},_onUploadSuccess:function _onUploadSuccess(e,t,n){var i=g(e);this._fileState(i,"uploaded"),i.removeClass("k-file-progress").addClass("k-file-success"),this._updateHeaderUploadStatus(),this.trigger(D,{files:i.data("fileNames"),response:t,operation:"upload",XMLHttpRequest:n}),this._supportsRemove()?this._fileAction(i,F):this._clearFileAction(i),this._checkAllComplete();},_onUploadError:function _onUploadError(t,n){var i=g(t),o=e(".k-upload-pct",i);this._fileState(i,"failed"),i.removeClass("k-file-progress").addClass("k-file-error"),e(".k-progress",i).width("100%"),o.length>0?o.empty().removeClass("k-upload-pct").addClass("k-icon k-warning"):e(".k-upload-status",i).prepend("<span class='k-icon k-warning'></span>"),this._updateHeaderUploadStatus(),this._fileAction(i,"retry"),this.trigger(A,{operation:"upload",files:i.data("fileNames"),XMLHttpRequest:n}),k("Server response: "+n.responseText),this._checkAllComplete();},_showUploadButton:function _showUploadButton(){var t=e(".k-upload-selected",this.wrapper);0===t.length&&(t=this._renderAction("",this.localization.uploadSelectedFiles).addClass("k-upload-selected")),this.wrapper.append(t);},_hideUploadButton:function _hideUploadButton(){e(".k-upload-selected",this.wrapper).remove();},_showHeaderUploadStatus:function _showHeaderUploadStatus(){var t=this.localization,n=e(".k-dropzone",this.wrapper),i=e(".k-upload-status-total",this.wrapper);0!==i.length&&i.remove(),i='<strong class="k-upload-status k-upload-status-total">'+t.headerStatusUploading+'<span class="k-icon k-loading">'+t.statusUploading+"</span></strong>",n.length>0?n.append(i):e(".k-upload-button",this.wrapper).after(i);},_updateHeaderUploadStatus:function _updateHeaderUploadStatus(){var t,n,i,o=this,r=o.localization,a=e(".k-file",o.wrapper).not(".k-file-success, .k-file-error");0===a.length&&(t=e(".k-file.k-file-error",o.wrapper),n=e(".k-upload-status-total",o.wrapper),i=e(".k-icon",n).removeClass("k-loading").addClass(0!==t.length?"k-warning":"k-i-tick").text(0!==t.length?r.statusWarning:r.statusUploaded),n.text(o.localization.headerStatusUploaded).append(i));},_hideHeaderUploadstatus:function _hideHeaderUploadstatus(){e(".k-upload-status-total",this.wrapper).remove();},_onParentFormSubmit:function _onParentFormSubmit(){var n,i=this,o=i.element;t!==this._module.onAbort&&this._module.onAbort(),o.value||(n=e(o),n.attr("disabled","disabled"),window.setTimeout(function(){n.removeAttr("disabled");},0));},_onParentFormReset:function _onParentFormReset(){e(".k-upload-files",this.wrapper).remove();},_supportsFormData:function _supportsFormData(){return"undefined"!=typeof FormData;},_supportsMultiple:function _supportsMultiple(){var e=this._userAgent().indexOf("Windows")>-1;return!(b.support.browser.opera||b.support.browser.safari&&e);},_supportsDrop:function _supportsDrop(){var e=this._userAgent().toLowerCase(),t=/chrome/.test(e),n=!t&&/safari/.test(e),i=n&&/windows/.test(e);return!i&&this._supportsFormData()&&this.options.async.saveUrl;},_userAgent:function _userAgent(){return navigator.userAgent;},_setupDropZone:function _setupDropZone(){var t,n,i=this;e(".k-upload-button",this.wrapper).wrap("<div class='k-dropzone'></div>"),t=i._ns,n=e(".k-dropzone",i.wrapper).append(e("<em>"+i.localization.dropFilesHere+"</em>")).on("dragenter"+t,f).on("dragover"+t,function(e){e.preventDefault();}).on("drop"+t,e.proxy(this._onDrop,this)),p(n,t,function(){n.closest(".k-upload").hasClass("k-state-disabled")||n.addClass("k-dropzone-hovered");},function(){n.removeClass("k-dropzone-hovered");}),p(e(document),t,function(){n.closest(".k-upload").hasClass("k-state-disabled")||(n.addClass("k-dropzone-active"),n.closest(".k-upload").removeClass("k-upload-empty"));},function(){n.removeClass("k-dropzone-active"),0===e("li.k-file",n.closest(".k-upload")).length&&n.closest(".k-upload").addClass("k-upload-empty");});},_supportsRemove:function _supportsRemove(){return!!this.options.async.removeUrl;},_submitRemove:function _submitRemove(t,n,i,o){var r=this,a=r.options.async.removeField||"fileNames",s=e.extend(n,y());s[a]=t,jQuery.ajax({type:this.options.async.removeVerb,dataType:"json",dataFilter:h,url:this.options.async.removeUrl,traditional:!0,data:s,success:i,error:o,xhrFields:{withCredentials:this.options.async.withCredentials}});},_wrapInput:function _wrapInput(e){var t=this,n=t.options;return e.wrap("<div class='k-widget k-upload k-header'><div class='k-button k-upload-button'></div></div>"),n.async.saveUrl||e.closest(".k-upload").addClass("k-upload-sync"),e.closest(".k-upload").addClass("k-upload-empty"),e.closest(".k-button").append("<span>"+this.localization.select+"</span>"),e.closest(".k-upload");},_checkAllComplete:function _checkAllComplete(){0===e(".k-file.k-file-progress",this.wrapper).length&&this.trigger(E);},_inputFiles:function _inputFiles(e){return i(e);}}),P=function P(e){this.name="syncUploadModule",this.element=e.wrapper,this.upload=e,this.element.closest("form").attr("enctype","multipart/form-data").attr("encoding","multipart/form-data");};P.prototype={onSelect:function onSelect(t,i){var o,r=this.upload,a=e(t.target);r._addInput(a),o=r._enqueueFile(n(a),{relatedInput:a,fileNames:i}),r._fileAction(o,F);},onRemove:function onRemove(e){var t=g(e);t.data("relatedInput").remove(),this.upload._removeFileEntry(t);}},v=function v(e){this.name="iframeUploadModule",this.element=e.wrapper,this.upload=e,this.iframes=[];},M._frameId=0,v.prototype={onSelect:function onSelect(t,n){var i=this.upload,o=e(t.target),r=this.prepareUpload(o,n);i.options.async.autoUpload?this.performUpload(r):(i._supportsRemove()&&this.upload._fileAction(r,F),i._showUploadButton());},prepareUpload:function prepareUpload(t,i){var o,r,a,s=this.upload,l=e(s.element),c=s.options.async.saveField||t.attr("name");return s._addInput(t),t.attr("name",c),o=this.createFrame(s.name+"_"+M._frameId++),this.registerFrame(o),r=this.createForm(s.options.async.saveUrl,o.attr("name")).append(l),a=s._enqueueFile(n(t),{frame:o,relatedInput:l,fileNames:i}),o.data({form:r,file:a}),a;},performUpload:function performUpload(t){var n,i,o,r={files:t.data("fileNames")},a=t.data("frame"),s=this.upload;if(s.trigger(T,r))s._removeFileEntry(a.data("file")),this.cleanupFrame(a),this.unregisterFrame(a);else{s._hideUploadButton(),s._showHeaderUploadStatus(),a.appendTo(document.body),n=a.data("form").attr("action",s.options.async.saveUrl).appendTo(document.body),r.data=e.extend({},r.data,y());for(i in r.data){o=n.find("input[name='"+i+"']"),0===o.length&&(o=e("<input>",{type:"hidden",name:i}).prependTo(n)),o.val(r.data[i]);}s._fileAction(t,R),s._fileState(t,"uploading"),e(t).removeClass("k-file-error").addClass("k-file-progress"),a.one("load",e.proxy(this.onIframeLoad,this)),n[0].submit();}},onSaveSelected:function onSaveSelected(){var t=this;e(".k-file",this.element).each(function(){var n=e(this),i=m(n);i||t.performUpload(n);});},onIframeLoad:function onIframeLoad(t){var n,i=e(t.target);try{n=i.contents().text();}catch(o){n="Error trying to get server response: "+o;}this.processResponse(i,n);},processResponse:function processResponse(t,n){var i=t.data("file"),o=this,r={responseText:n};u(n,function(n){e.extend(r,{statusText:"OK",status:"200"}),o.upload._onFileProgress({target:e(i,o.upload.wrapper)},100),o.upload._onUploadSuccess({target:e(i,o.upload.wrapper)},n,r),o.cleanupFrame(t),o.unregisterFrame(t);},function(){e.extend(r,{statusText:"error",status:"500"}),o.upload._onUploadError({target:e(i,o.upload.wrapper)},r);});},onCancel:function onCancel(t){var n=e(t.target).data("frame");this.stopFrameSubmit(n),this.cleanupFrame(n),this.unregisterFrame(n),this.upload._removeFileEntry(n.data("file"));},onRetry:function onRetry(e){var t=g(e);this.performUpload(t);},onRemove:function onRemove(e,t){var n=g(e),i=n.data("frame");i?(this.unregisterFrame(i),this.upload._removeFileEntry(n),this.cleanupFrame(i)):d(n,this.upload,t);},onAbort:function onAbort(){var t=this.element,n=this;e.each(this.iframes,function(){e("input",this.data("form")).appendTo(t),n.stopFrameSubmit(this[0]),this.data("form").remove(),this.remove();}),this.iframes=[];},createFrame:function createFrame(t){return e("<iframe name='"+t+"' id='"+t+"' style='display:none;' />");},createForm:function createForm(t,n){return e("<form enctype='multipart/form-data' method='POST' action='"+t+"' target='"+n+"'/>");},stopFrameSubmit:function stopFrameSubmit(e){t!==e.stop?e.stop():e.document&&e.document.execCommand("Stop");},registerFrame:function registerFrame(e){this.iframes.push(e);},unregisterFrame:function unregisterFrame(t){this.iframes=e.grep(this.iframes,function(e){return e.attr("name")!=t.attr("name");});},cleanupFrame:function cleanupFrame(e){var t=e.data("form");e.data("file").data("frame",null),setTimeout(function(){t.remove(),e.remove();},1);}},_=function _(e){this.name="formDataUploadModule",this.element=e.wrapper,this.upload=e;},_.prototype={onSelect:function onSelect(t,n){var i=this.upload,o=this,r=e(t.target),a=this.prepareUpload(r,n);e.each(a,function(){i.options.async.autoUpload?o.performUpload(this):(i._supportsRemove()&&i._fileAction(this,F),i._showUploadButton());});},prepareUpload:function prepareUpload(t,n){var i=this.enqueueFiles(n);return t.is("input")&&(e.each(i,function(){e(this).data("relatedInput",t);}),t.data("relatedFileEntries",i),this.upload._addInput(t)),i;},enqueueFiles:function enqueueFiles(t){var n,i,o,r,a=this.upload,s=t.length,l=[];if(a.options.async.batch===!0)n=e.map(t,function(e){return e.name;}).join(", "),r=a._enqueueFile(n,{fileNames:t}),r.data("files",t),l.push(r);else for(i=0;s>i;i++){o=t[i],n=o.name,r=a._enqueueFile(n,{fileNames:[o]}),r.data("files",[o]),l.push(r);}return l;},performUpload:function performUpload(t){var n,i=this.upload,o=this.createFormData(),r=this.createXHR(),a={files:t.data("fileNames"),XMLHttpRequest:r};if(i.trigger(T,a))this.removeFileEntry(t);else{if(i._fileAction(t,R),i._hideUploadButton(),i._showHeaderUploadStatus(),a.formData)o=a.formData;else{a.data=e.extend({},a.data,y());for(n in a.data){o.append(n,a.data[n]);}this.populateFormData(o,t.data("files"));}i._fileState(t,"uploading"),e(t).removeClass("k-file-error").addClass("k-file-progress"),this.postFormData(i.options.async.saveUrl,o,t,r);}},onSaveSelected:function onSaveSelected(){var t=this;e(".k-file",this.element).each(function(){var n=e(this),i=m(n);i||t.performUpload(n);});},onCancel:function onCancel(e){var t=g(e);this.stopUploadRequest(t),this.removeFileEntry(t);},onRetry:function onRetry(e){var t=g(e);this.performUpload(t);},onRemove:function onRemove(e,t){var n=g(e);n.hasClass("k-file-success")?d(n,this.upload,t):this.removeFileEntry(n);},createXHR:function createXHR(){return new XMLHttpRequest();},postFormData:function postFormData(e,t,n,i){var o,r=this;n.data("request",i),i.addEventListener("load",function(e){r.onRequestSuccess.call(r,e,n);},!1),i.addEventListener(A,function(e){r.onRequestError.call(r,e,n);},!1),i.upload.addEventListener("progress",function(e){r.onRequestProgress.call(r,e,n);},!1),i.open("POST",e,!0),i.withCredentials=this.upload.options.async.withCredentials,o=this.upload.options.async.accept,o&&i.setRequestHeader("Accept",o),i.send(t);},createFormData:function createFormData(){return new FormData();},populateFormData:function populateFormData(e,t){var n,i=this.upload,o=t.length;for(n=0;o>n;n++){e.append(i.options.async.saveField||i.name,t[n].rawFile);}return e;},onRequestSuccess:function onRequestSuccess(t,n){function i(){r.upload._onUploadError({target:e(n,r.upload.wrapper)},o);}var o=t.target,r=this;o.status>=200&&299>=o.status?u(o.responseText,function(t){r.upload._onFileProgress({target:e(n,r.upload.wrapper)},100),r.upload._onUploadSuccess({target:e(n,r.upload.wrapper)},t,o),r.cleanupFileEntry(n);},i):i();},onRequestError:function onRequestError(t,n){var i=t.target;this.upload._onUploadError({target:e(n,this.upload.wrapper)},i);},cleanupFileEntry:function cleanupFileEntry(t){var n=t.data("relatedInput"),i=!0;n&&(e.each(n.data("relatedFileEntries")||[],function(){this.parent().length>0&&this[0]!=t[0]&&(i=i&&this.hasClass("k-file-success"));}),i&&n.remove());},removeFileEntry:function removeFileEntry(e){this.cleanupFileEntry(e),this.upload._removeFileEntry(e);},onRequestProgress:function onRequestProgress(t,n){var i=Math.round(100*t.loaded/t.total);this.upload._onFileProgress({target:e(n,this.upload.wrapper)},i);},stopUploadRequest:function stopUploadRequest(e){e.data("request").abort();}},b.ui.plugin(M);}(window.kendo.jQuery),window.kendo;},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("kendo.filebrowser.min",["kendo.listview.min","kendo.dropdownlist.min","kendo.upload.min"],e);}(function(){return function(e,t){function n(e,t,n){var i,o;e.on("dragenter"+x,function(){t(),o=new Date(),i||(i=setInterval(function(){var e=new Date()-o;e>100&&(n(),clearInterval(i),i=null);},100));}).on("dragover"+x,function(){o=new Date();});}function i(e,n){return e!==t&&e.match(/\/$/)||(e=(e||"")+"/"),e+n;}function o(e){if(!e)return"";var t=" bytes";return e>=1073741824?(t=" GB",e/=1073741824):e>=1048576?(t=" MB",e/=1048576):e>=1024&&(t=" KB",e/=1024),Math.round(100*e)/100+t;}function r(e,t){var n=e[t];return h(n)?n.from||n.field||t:n;}var a,s,l,c,d=window.kendo,u=d.ui.Widget,h=e.isPlainObject,f=e.proxy,p=e.extend,m=d.support.placeholder,g=d.support.browser,v=d.isFunction,_=/(^\/|\/$)/g,b="change",w="apply",y="error",k="click",x=".kendoFileBrowser",C=".kendoBreadcrumbs",S=".kendoSearchBox",T="name",D="size",A="type",E={field:A,dir:"asc"},R=d.template('<li class="k-tile-empty"><strong>${text}</strong></li>'),I='<div class="k-widget k-filebrowser-toolbar k-header k-floatwrap"><div class="k-toolbar-wrap"># if (showUpload) { # <div class="k-widget k-upload"><div class="k-button k-button-icontext k-upload-button"><span class="k-icon k-add"></span>#=messages.uploadFile#<input type="file" name="file" /></div></div># } ## if (showCreate) { #<button type="button" class="k-button k-button-icon"><span class="k-icon k-addfolder" /></button># } ## if (showDelete) { #<button type="button" class="k-button k-button-icon k-state-disabled"><span class="k-icon k-delete" /></button>&nbsp;# } #</div><div class="k-tiles-arrange"><label>#=messages.orderBy#: <select /></label></div></div>';p(!0,d.data,{schemas:{filebrowser:{data:function data(e){return e.items||e||[];},model:{id:"name",fields:{name:"name",size:"size",type:"type"}}}}}),p(!0,d.data,{transports:{filebrowser:d.data.RemoteTransport.extend({init:function init(t){d.data.RemoteTransport.fn.init.call(this,e.extend(!0,{},this.options,t));},_call:function _call(t,n){n.data=e.extend({},n.data,{path:this.options.path()}),v(this.options[t])?this.options[t].call(this,n):d.data.RemoteTransport.fn[t].call(this,n);},read:function read(e){this._call("read",e);},create:function create(e){this._call("create",e);},destroy:function destroy(e){this._call("destroy",e);},update:function update(){},options:{read:{type:"POST"},update:{type:"POST"},create:{type:"POST"},destroy:{type:"POST"}}})}}),a=g.msie&&8>g.version?function(e){return e.offsetTop;}:function(t){return t.offsetTop-e(t).height();},s=u.extend({init:function init(e,t){var n=this;t=t||{},u.fn.init.call(n,e,t),n.element.addClass("k-filebrowser"),n.element.on(k+x,".k-filebrowser-toolbar button:not(.k-state-disabled):has(.k-delete)",f(n._deleteClick,n)).on(k+x,".k-filebrowser-toolbar button:not(.k-state-disabled):has(.k-addfolder)",f(n._addClick,n)).on("keydown"+x,"li.k-state-selected input",f(n._directoryKeyDown,n)).on("blur"+x,"li.k-state-selected input",f(n._directoryBlur,n)),n._dataSource(),n.refresh(),n.path(n.options.path);},options:{name:"FileBrowser",messages:{uploadFile:"Upload",orderBy:"Arrange by",orderByName:"Name",orderBySize:"Size",directoryNotFound:"A directory with this name was not found.",emptyFolder:"Empty Folder",deleteFile:'Are you sure you want to delete "{0}"?',invalidFileType:'The selected file "{0}" is not valid. Supported file types are {1}.',overwriteFile:'A file with name "{0}" already exists in the current directory. Do you want to overwrite it?',dropFilesHere:"drop file here to upload",search:"Search"},transport:{},path:"/",fileTypes:"*.*"},events:[y,b,w],destroy:function destroy(){var e=this;u.fn.destroy.call(e),e.dataSource.unbind(y,e._errorHandler),e.element.add(e.list).add(e.toolbar).off(x),d.destroy(e.element);},value:function value(){var e,n=this,o=n._selectedItem(),r=n.options.transport.fileUrl;return o&&"f"===o.get(A)?(e=i(n.path(),o.get(T)).replace(_,""),r&&(e=v(r)?r(e):d.format(r,encodeURIComponent(e))),e):t;},_selectedItem:function _selectedItem(){var e=this.listView,n=e.select();return n.length?this.dataSource.getByUid(n.attr(d.attr("uid"))):t;},_toolbar:function _toolbar(){var t=this,n=d.template(I),i=t.options.messages,o=[{text:i.orderByName,value:"name"},{text:i.orderBySize,value:"size"}];t.toolbar=e(n({messages:i,showUpload:t.options.transport.uploadUrl,showCreate:t.options.transport.create,showDelete:t.options.transport.destroy})).appendTo(t.element).find(".k-upload input").kendoUpload({multiple:!1,localization:{dropFilesHere:i.dropFilesHere},async:{saveUrl:t.options.transport.uploadUrl,autoUpload:!0},upload:f(t._fileUpload,t),error:function error(e){t._error({xhr:e.XMLHttpRequest,status:"error"});}}).end(),t.upload=t.toolbar.find(".k-upload input").data("kendoUpload"),t.arrangeBy=t.toolbar.find(".k-tiles-arrange select").kendoDropDownList({dataSource:o,dataTextField:"text",dataValueField:"value",change:function change(){t.orderBy(this.value());}}).data("kendoDropDownList"),t._attachDropzoneEvents();},_attachDropzoneEvents:function _attachDropzoneEvents(){var t=this;t.options.transport.uploadUrl&&(n(e(document.documentElement),e.proxy(t._dropEnter,t),e.proxy(t._dropLeave,t)),t._scrollHandler=f(t._positionDropzone,t));},_dropEnter:function _dropEnter(){this._positionDropzone(),e(document).on("scroll"+x,this._scrollHandler);},_dropLeave:function _dropLeave(){this._removeDropzone(),e(document).off("scroll"+x,this._scrollHandler);},_positionDropzone:function _positionDropzone(){var e=this,t=e.element,n=t.offset();e.toolbar.find(".k-dropzone").addClass("k-filebrowser-dropzone").offset(n).css({width:t[0].clientWidth,height:t[0].clientHeight,lineHeight:t[0].clientHeight+"px"});},_removeDropzone:function _removeDropzone(){this.toolbar.find(".k-dropzone").removeClass("k-filebrowser-dropzone").css({width:"",height:"",lineHeight:"",top:"",left:""});},_deleteClick:function _deleteClick(){var e=this,t=e.listView.select(),n=d.format(e.options.messages.deleteFile,t.find("strong").text());t.length&&e._showMessage(n,"confirm")&&e.listView.remove(t);},_addClick:function _addClick(){this.createDirectory();},_getFieldName:function _getFieldName(e){return r(this.dataSource.reader.model.fields,e);},_fileUpload:function _fileUpload(e){var t,n=this,i=n.options,o=i.fileTypes,r=RegExp(("("+o.split(",").join(")|(")+")").replace(/\*\./g,".*."),"i"),a=e.files[0].name,s=T,l=D;r.test(a)?(e.data={path:n.path()},t=n._createFile(a),t?n.upload.one("success",function(e){t.set(s,e.response[n._getFieldName(s)]),t.set(l,e.response[n._getFieldName(l)]),n._tiles=n.listView.items().filter("["+d.attr("type")+"=f]");}):e.preventDefault()):(e.preventDefault(),n._showMessage(d.format(i.messages.invalidFileType,a,o)));},_findFile:function _findFile(e){var t,n,i,o=this.dataSource.data(),r=A,a=T;for(e=e.toLowerCase(),t=0,i=o.length;i>t;t++){if("f"===o[t].get(r)&&o[t].get(a).toLowerCase()===e){n=o[t];break;}}return n;},_createFile:function _createFile(e){var t,n,i=this,o=0,r={},a=A,s=i.dataSource.view(),l=i._findFile(e);if(l)return i._showMessage(d.format(i.options.messages.overwriteFile,e),"confirm")?(l._forceReload=!0,l):null;for(t=0,n=s.length;n>t;t++){if("f"===s[t].get(a)){o=t;break;}}return r[a]="f",r[T]=e,r[D]=0,i.dataSource.insert(++o,r);},createDirectory:function createDirectory(){var e,t,n=this,i=0,o=A,r=T,a=n.dataSource.data(),s=n._nameDirectory(),l=new n.dataSource.reader.model();for(e=0,t=a.length;t>e;e++){"d"===a[e].get(o)&&(i=e);}l.set(o,"d"),l.set(r,s),n.listView.one("dataBound",function(){var e=n.listView.items().filter("["+d.attr("uid")+"="+l.uid+"]"),t=e.find("input");e.length&&this.edit(e),this.element.scrollTop(e.attr("offsetTop")-this.element[0].offsetHeight),setTimeout(function(){t.select();});}).one("save",function(e){var t=e.model.get(r);t?e.model.set(r,n._nameExists(t,l.uid)?n._nameDirectory():t):e.model.set(r,s);}),n.dataSource.insert(++i,l);},_directoryKeyDown:function _directoryKeyDown(e){13==e.keyCode&&e.currentTarget.blur();},_directoryBlur:function _directoryBlur(){this.listView.save();},_nameExists:function _nameExists(e,t){var n,i,o=this.dataSource.data(),r=A,a=T;for(n=0,i=o.length;i>n;n++){if("d"===o[n].get(r)&&o[n].get(a).toLowerCase()===e.toLowerCase()&&o[n].uid!==t)return!0;}return!1;},_nameDirectory:function _nameDirectory(){var t,n,i,o="New folder",r=this.dataSource.data(),a=[],s=A,l=T;for(n=0,i=r.length;i>n;n++){"d"===r[n].get(s)&&r[n].get(l).toLowerCase().indexOf(o.toLowerCase())>-1&&a.push(r[n].get(l));}if(e.inArray(o,a)>-1){n=2;do{t=o+" ("+n+")",n++;}while(e.inArray(t,a)>-1);o=t;}return o;},orderBy:function orderBy(e){this.dataSource.sort([{field:A,dir:"asc"},{field:e,dir:"asc"}]);},search:function search(e){this.dataSource.filter({field:T,operator:"contains",value:e});},_content:function _content(){var t=this;t.list=e('<ul class="k-reset k-floats k-tiles" />').appendTo(t.element).on("dblclick"+x,"li",f(t._dblClick,t)),t.listView=new d.ui.ListView(t.list,{dataSource:t.dataSource,template:t._itemTmpl(),editTemplate:t._editTmpl(),selectable:!0,autoBind:!1,dataBinding:function dataBinding(e){t.toolbar.find(".k-delete").parent().addClass("k-state-disabled"),"remove"!==e.action&&"sync"!==e.action||e.preventDefault();},dataBound:function dataBound(){t.dataSource.view().length?t._tiles=this.items().filter("["+d.attr("type")+"=f]"):this.wrapper.append(R({text:t.options.messages.emptyFolder}));},change:f(t._listViewChange,t)});},_dblClick:function _dblClick(t){var n,o=this,r=e(t.currentTarget);r.hasClass("k-edit-item")&&o._directoryBlur(),r.filter("["+d.attr("type")+"=d]").length?(n=o.dataSource.getByUid(r.attr(d.attr("uid"))),n&&(o.path(i(o.path(),n.get(T))),o.breadcrumbs.value(o.path()))):r.filter("["+d.attr("type")+"=f]").length&&o.trigger(w);},_listViewChange:function _listViewChange(){var e=this._selectedItem();e&&(this.toolbar.find(".k-delete").parent().removeClass("k-state-disabled"),"f"===e.get(A)&&this.trigger(b));},_dataSource:function _dataSource(){var e,t=this,n=t.options,i=n.transport,o=p({},E),r={field:T,dir:"asc"},a={type:i.type||"filebrowser",sort:[o,r]};h(i)&&(i.path=f(t.path,t),a.transport=i),h(n.schema)?a.schema=n.schema:i.type&&h(d.data.schemas[i.type])&&(e=d.data.schemas[i.type]),t.dataSource&&t._errorHandler?t.dataSource.unbind(y,t._errorHandler):t._errorHandler=f(t._error,t),t.dataSource=d.data.DataSource.create(a).bind(y,t._errorHandler);},_navigation:function _navigation(){var t=this,n=e('<div class="k-floatwrap"><input/><input/></div>').appendTo(this.element);t.breadcrumbs=n.find("input:first").kendoBreadcrumbs({value:t.options.path,change:function change(){t.path(this.value());}}).data("kendoBreadcrumbs"),t.searchBox=n.parent().find("input:last").kendoSearchBox({label:t.options.messages.search,change:function change(){t.search(this.value());}}).data("kendoSearchBox");},_error:function _error(e){var t,n=this;n.trigger(y,e)||(t=e.xhr.status,"error"==e.status?"404"==t?n._showMessage(n.options.messages.directoryNotFound):"0"!=t&&n._showMessage("Error! The requested URL returned "+t+" - "+e.xhr.statusText):"timeout"==t&&n._showMessage("Error! Server timeout."));},_showMessage:function _showMessage(e,t){return window[t||"alert"](e);},refresh:function refresh(){var e=this;e._navigation(),e._toolbar(),e._content();},_editTmpl:function _editTmpl(){var e='<li class="k-tile k-state-selected" '+d.attr("uid")+'="#=uid#" ';return e+=d.attr("type")+'="${'+A+'}">',e+="#if("+A+' == "d") { #',e+='<div class="k-thumb"><span class="k-icon k-folder"></span></div>',e+="#}else{#",e+='<div class="k-thumb"><span class="k-icon k-loading"></span></div>',e+="#}#",e+="#if("+A+' == "d") { #',e+='<input class="k-input" '+d.attr("bind")+'="value:'+T+'"/>',e+="#}#",e+="</li>",f(d.template(e),{sizeFormatter:o});},_itemTmpl:function _itemTmpl(){var e='<li class="k-tile" '+d.attr("uid")+'="#=uid#" ';return e+=d.attr("type")+'="${'+A+'}">',e+="#if("+A+' == "d") { #',e+='<div class="k-thumb"><span class="k-icon k-folder"></span></div>',e+="#}else{#",e+='<div class="k-thumb"><span class="k-icon k-file"></span></div>',e+="#}#",e+="<strong>${"+T+"}</strong>",e+="#if("+A+' == "f") { # <span class="k-filesize">${this.sizeFormatter('+D+")}</span> #}#",e+="</li>",f(d.template(e),{sizeFormatter:o});},path:function path(e){var n=this,i=n._path||"";return e!==t?(n._path=e.replace(_,"")+"/",n.dataSource.read({path:n._path}),t):(i&&(i=i.replace(_,"")),"/"===i||""===i?"":i+"/");}}),l=u.extend({init:function init(e,t){var n=this;t=t||{},u.fn.init.call(n,e,t),m&&n.element.attr("placeholder",n.options.label),n._wrapper(),n.element.on("keydown"+S,f(n._keydown,n)).on("change"+S,f(n._updateValue,n)),n.wrapper.on(k+S,"a",f(n._click,n)),m||n.element.on("focus"+S,f(n._focus,n)).on("blur"+S,f(n._blur,n));},options:{name:"SearchBox",label:"Search",value:""},events:[b],destroy:function destroy(){var e=this;e.wrapper.add(e.element).add(e.label).off(S),u.fn.destroy.call(e);},_keydown:function _keydown(e){13===e.keyCode&&this._updateValue();},_click:function _click(e){e.preventDefault(),this._updateValue();},_updateValue:function _updateValue(){var e=this,t=e.element.val();t!==e.value()&&(e.value(t),e.trigger(b));},_blur:function _blur(){this._updateValue(),this._toggleLabel();},_toggleLabel:function _toggleLabel(){m||this.label.toggle(!this.element.val());},_focus:function _focus(){this.label.hide();},_wrapper:function _wrapper(){var t=this.element,n=t.parents(".k-search-wrap");t[0].style.width="",t.addClass("k-input"),n.length||(n=t.wrap(e('<div class="k-widget k-search-wrap k-textbox"/>')).parent(),m||e('<label style="display:block">'+this.options.label+"</label>").insertBefore(t),e('<a href="#" class="k-icon k-i-search k-search"/>').appendTo(n)),this.wrapper=n,this.label=n.find(">label");},value:function value(e){var n=this;return e!==t?(n.options.value=e,n.element.val(e),n._toggleLabel(),t):n.options.value;}}),c=u.extend({init:function init(e,t){var n=this;t=t||{},u.fn.init.call(n,e,t),n._wrapper(),n.wrapper.on("focus"+C,"input",f(n._focus,n)).on("blur"+C,"input",f(n._blur,n)).on("keydown"+C,"input",f(n._keydown,n)).on(k+C,"a.k-i-arrow-n:first",f(n._rootClick,n)).on(k+C,"a:not(.k-i-arrow-n)",f(n._click,n)),n.value(n.options.value);},options:{name:"Breadcrumbs",gap:50},events:[b],destroy:function destroy(){var e=this;u.fn.destroy.call(e),e.wrapper.add(e.wrapper.find("input")).add(e.wrapper.find("a")).off(C);},_update:function _update(e){e="/"===(e||"").charAt(0)?e:"/"+(e||""),e!==this.value()&&(this.value(e),this.trigger(b));},_click:function _click(t){t.preventDefault(),this._update(this._path(e(t.target).prevAll("a:not(.k-i-arrow-n)").addBack()));},_rootClick:function _rootClick(e){e.preventDefault(),this._update("");},_focus:function _focus(){var e=this,t=e.element;e.overlay.hide(),e.element.val(e.value()),setTimeout(function(){t.select();});},_blur:function _blur(){if(!this.overlay.is(":visible")){var e=this,t=e.element,n=t.val().replace(/\/{2,}/g,"/");e.overlay.show(),t.val(""),e._update(n);}},_keydown:function _keydown(e){var t=this;13===e.keyCode&&(t._blur(),setTimeout(function(){t.overlay.find("a:first").focus();}));},_wrapper:function _wrapper(){var t,n=this.element,i=n.parents(".k-breadcrumbs");n[0].style.width="",n.addClass("k-input"),i.length||(i=n.wrap(e('<div class="k-widget k-breadcrumbs k-textbox"/>')).parent()),t=i.find(".k-breadcrumbs-wrap"),t.length||(t=e('<div class="k-breadcrumbs-wrap"/>').appendTo(i)),this.wrapper=i,this.overlay=t;},refresh:function refresh(){var n,i,o,r,a="",s=this.value();for(s!==t&&s.match(/^\//)||(s="/"+(s||"")),n=s.split("/"),o=0,r=n.length;r>o;o++){i=n[o],i&&(a||(a+='<a href="#" class="k-icon k-i-arrow-n">root</a>'),a+='<a class="k-link" href="#">'+n[o]+"</a>",a+='<span class="k-icon k-i-arrow-e">&gt;</span>');}this.overlay.empty().append(e(a)),this._adjustSectionWidth();},_adjustSectionWidth:function _adjustSectionWidth(){var t,n=this,i=n.wrapper,o=i.width()-n.options.gap,r=n.overlay.find("a");r.each(function(n){t=e(this),t.parent().width()>o&&(n==r.length-1?t.width(o):t.prev().addBack().hide());});},value:function value(e){return e!==t?(this._value=e.replace(/\/{2,}/g,"/"),this.refresh(),t):this._value;},_path:function _path(t){return"/"+e.map(t,function(t){return e(t).text();}).join("/");}}),d.ui.plugin(s),d.ui.plugin(c),d.ui.plugin(l);}(window.kendo.jQuery),window.kendo;},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("kendo.imagebrowser.min",["kendo.filebrowser.min"],e);}(function(){return function(e,t){function n(e,n){return e!==t&&e.match(/\/$/)||(e=(e||"")+"/"),e+n;}function i(e){if(!e)return"";var t=" bytes";return e>=1073741824?(t=" GB",e/=1073741824):e>=1048576?(t=" MB",e/=1048576):e>=1024&&(t=" KB",e/=1024),Math.round(100*e)/100+t;}var o,r,a=window.kendo,s=a.ui.FileBrowser,l=e.isPlainObject,c=e.proxy,d=e.extend,u=a.support.browser,h=a.isFunction,f=/(^\/|\/$)/g,p="error",m=".kendoImageBrowser",g="name",v="size",_="type",b={field:_,dir:"asc"},w=a.template('<li class="k-tile-empty"><strong>${text}</strong></li>');d(!0,a.data,{schemas:{imagebrowser:{data:function data(e){return e.items||e||[];},model:{id:"name",fields:{name:"name",size:"size",type:"type"}}}}}),d(!0,a.data,{transports:{imagebrowser:a.data.RemoteTransport.extend({init:function init(t){a.data.RemoteTransport.fn.init.call(this,e.extend(!0,{},this.options,t));},_call:function _call(t,n){n.data=e.extend({},n.data,{path:this.options.path()}),h(this.options[t])?this.options[t].call(this,n):a.data.RemoteTransport.fn[t].call(this,n);},read:function read(e){this._call("read",e);},create:function create(e){this._call("create",e);},destroy:function destroy(e){this._call("destroy",e);},update:function update(){},options:{read:{type:"POST"},update:{type:"POST"},create:{type:"POST"},destroy:{type:"POST"}}})}}),o=u.msie&&8>u.version?function(e){return e.offsetTop;}:function(t){return t.offsetTop-e(t).height();},r=s.extend({init:function init(e,t){var n=this;t=t||{},s.fn.init.call(n,e,t),n.element.addClass("k-imagebrowser");},options:{name:"ImageBrowser",fileTypes:"*.png,*.gif,*.jpg,*.jpeg"},value:function value(){var e,i=this,o=i._selectedItem(),r=i.options.transport.imageUrl;return o&&"f"===o.get(_)?(e=n(i.path(),o.get(g)).replace(f,""),r&&(e=h(r)?r(e):a.format(r,encodeURIComponent(e))),e):t;},_fileUpload:function _fileUpload(e){var t,n=this,i=n.options,o=i.fileTypes,r=RegExp(("("+o.split(",").join(")|(")+")").replace(/\*\./g,".*."),"i"),s=e.files[0].name,l=g,c=v;r.test(s)?(e.data={path:n.path()},t=n._createFile(s),t?(t._uploading=!0,n.upload.one("success",function(e){delete t._uploading,t.set(l,e.response[n._getFieldName(l)]),t.set(c,e.response[n._getFieldName(c)]),n._tiles=n.listView.items().filter("["+a.attr("type")+"=f]"),n._scroll();})):e.preventDefault()):(e.preventDefault(),n._showMessage(a.format(i.messages.invalidFileType,s,o)));},_content:function _content(){var t=this;t.list=e('<ul class="k-reset k-floats k-tiles" />').appendTo(t.element).on("scroll"+m,c(t._scroll,t)).on("dblclick"+m,"li",c(t._dblClick,t)),t.listView=new a.ui.ListView(t.list,{dataSource:t.dataSource,template:t._itemTmpl(),editTemplate:t._editTmpl(),selectable:!0,autoBind:!1,dataBinding:function dataBinding(e){t.toolbar.find(".k-delete").parent().addClass("k-state-disabled"),"remove"!==e.action&&"sync"!==e.action||e.preventDefault();},dataBound:function dataBound(){t.dataSource.view().length?(t._tiles=this.items().filter("["+a.attr("type")+"=f]"),t._scroll()):this.wrapper.append(w({text:t.options.messages.emptyFolder}));},change:c(t._listViewChange,t)});},_dataSource:function _dataSource(){var e,t=this,n=t.options,i=n.transport,o=d({},b),r={field:g,dir:"asc"},s={type:i.type||"imagebrowser",sort:[o,r]};l(i)&&(i.path=c(t.path,t),s.transport=i),l(n.schema)?s.schema=n.schema:i.type&&l(a.data.schemas[i.type])&&(e=a.data.schemas[i.type]),t.dataSource&&t._errorHandler?t.dataSource.unbind(p,t._errorHandler):t._errorHandler=c(t._error,t),t.dataSource=a.data.DataSource.create(s).bind(p,t._errorHandler);},_loadImage:function _loadImage(t){var n=this,i=e(t),o=n.dataSource.getByUid(i.attr(a.attr("uid"))),r=o.get(g),s=n.options.transport.thumbnailUrl,l=e("<img />",{alt:r}),c="?";o._uploading||(l.hide().on("load"+m,function(){e(this).prev().remove().end().addClass("k-image").fadeIn();}),i.find(".k-loading").after(l),h(s)?s=s(n.path(),encodeURIComponent(r)):(s.indexOf("?")>=0&&(c="&"),s=s+c+"path="+encodeURIComponent(n.path()+r),o._forceReload&&(s+="&_="+new Date().getTime(),delete o._forceReload)),l.attr("src",s),t.loaded=!0);},_scroll:function _scroll(){var e=this;e.options.transport&&e.options.transport.thumbnailUrl&&(clearTimeout(e._timeout),e._timeout=setTimeout(function(){var n=e.list.outerHeight(),i=e.list.scrollTop(),r=i+n;e._tiles.each(function(){var n=o(this),a=n+this.offsetHeight;return(n>=i&&r>n||a>=i&&r>a)&&e._loadImage(this),n>r?!1:t;}),e._tiles=e._tiles.filter(function(){return!this.loaded;});},250));},_itemTmpl:function _itemTmpl(){var e=this,t='<li class="k-tile" '+a.attr("uid")+'="#=uid#" ';return t+=a.attr("type")+'="${'+_+'}">',t+="#if("+_+' == "d") { #',t+='<div class="k-thumb"><span class="k-icon k-folder"></span></div>',t+="#}else{#",t+=e.options.transport&&e.options.transport.thumbnailUrl?'<div class="k-thumb"><span class="k-icon k-loading"></span></div>':'<div class="k-thumb"><span class="k-icon k-file"></span></div>',t+="#}#",t+="<strong>${"+g+"}</strong>",t+="#if("+_+' == "f") { # <span class="k-filesize">${this.sizeFormatter('+v+")}</span> #}#",t+="</li>",c(a.template(t),{sizeFormatter:i});}}),a.ui.plugin(r);}(window.kendo.jQuery),window.kendo;},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("util/undoredostack.min",["kendo.core.min"],e);}(function(){!function(e){var t=e.Observable.extend({init:function init(t){e.Observable.fn.init.call(this,t),this.clear();},events:["undo","redo"],push:function push(e){this.stack=this.stack.slice(0,this.currentCommandIndex+1),this.currentCommandIndex=this.stack.push(e)-1;},undo:function undo(){if(this.canUndo()){var e=this.stack[this.currentCommandIndex--];e.undo(),this.trigger("undo",{command:e});}},redo:function redo(){if(this.canRedo()){var e=this.stack[++this.currentCommandIndex];e.redo(),this.trigger("redo",{command:e});}},clear:function clear(){this.stack=[],this.currentCommandIndex=-1;},canUndo:function canUndo(){return this.currentCommandIndex>=0;},canRedo:function canRedo(){return this.currentCommandIndex!=this.stack.length-1;}});e.deepExtend(e,{util:{UndoRedoStack:t}});}(kendo);},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("editor/main.min",["util/undoredostack.min","kendo.combobox.min","kendo.dropdownlist.min","kendo.window.min","kendo.colorpicker.min"],e);}(function(){!function(e,t){var n,i,o,r,a=window.kendo,s=a.Class,l=a.ui.Widget,c=a.support.mobileOS,d=a.support.browser,u=e.extend,h=e.proxy,f=a.deepExtend,p=a.keys,m=s.extend({init:function init(e){this.options=e;},getHtml:function getHtml(){var e=this.options;return a.template(e.template,{useWithBlock:!1})(e);}}),g={editorWrapperTemplate:'<table cellspacing="4" cellpadding="0" class="k-widget k-editor k-header" role="presentation"><tbody><tr role="presentation"><td class="k-editor-toolbar-wrap" role="presentation"><ul class="k-editor-toolbar" role="toolbar" /></td></tr><tr><td class="k-editable-area" /></tr></tbody></table>',buttonTemplate:'<a href="" role="button" class="k-tool"#= data.popup ? " data-popup" : "" # unselectable="on" title="#= data.title #"><span unselectable="on" class="k-tool-icon #= data.cssClass #"></span><span class="k-tool-text">#= data.title #</span></a>',colorPickerTemplate:'<div class="k-colorpicker #= data.cssClass #" />',comboBoxTemplate:'<select title="#= data.title #" class="#= data.cssClass #" />',dropDownListTemplate:'<span class="k-editor-dropdown"><select title="#= data.title #" class="#= data.cssClass #" /></span>',separatorTemplate:'<span class="k-separator" />',overflowAnchorTemplate:'<a href="" role="button" class="k-tool k-overflow-anchor" data-popup unselectable="on"><span unselectable="on" class="k-icon k-i-more"></span></a>',formatByName:function formatByName(t,n){for(var i=0;n.length>i;i++){if(e.inArray(t,n[i].tags)>=0)return n[i];}},registerTool:function registerTool(e,t){var n=t.options;n&&n.template&&(n.template.options.cssClass="k-"+e),t.name||(t.options.name=e,t.name=e.toLowerCase()),w.defaultTools[e]=t;},registerFormat:function registerFormat(e,t){w.fn.options.formats[e]=t;}},v={bold:"Bold",italic:"Italic",underline:"Underline",strikethrough:"Strikethrough",superscript:"Superscript",subscript:"Subscript",justifyCenter:"Center text",justifyLeft:"Align text left",justifyRight:"Align text right",justifyFull:"Justify",insertUnorderedList:"Insert unordered list",insertOrderedList:"Insert ordered list",indent:"Indent",outdent:"Outdent",createLink:"Insert hyperlink",unlink:"Remove hyperlink",insertImage:"Insert image",insertFile:"Insert file",insertHtml:"Insert HTML",viewHtml:"View HTML",fontName:"Select font family",fontNameInherit:"(inherited font)",fontSize:"Select font size",fontSizeInherit:"(inherited size)",formatBlock:"Format",formatting:"Format",foreColor:"Color",backColor:"Background color",style:"Styles",emptyFolder:"Empty Folder",editAreaTitle:"Editable area. Press F10 for toolbar.",uploadFile:"Upload",orderBy:"Arrange by:",orderBySize:"Size",orderByName:"Name",invalidFileType:'The selected file "{0}" is not valid. Supported file types are {1}.',deleteFile:'Are you sure you want to delete "{0}"?',overwriteFile:'A file with name "{0}" already exists in the current directory. Do you want to overwrite it?',directoryNotFound:"A directory with this name was not found.",imageWebAddress:"Web address",imageAltText:"Alternate text",imageWidth:"Width (px)",imageHeight:"Height (px)",fileWebAddress:"Web address",fileTitle:"Title",linkWebAddress:"Web address",linkText:"Text",linkToolTip:"ToolTip",linkOpenInNewWindow:"Open link in new window",dialogUpdate:"Update",dialogInsert:"Insert",dialogCancel:"Cancel",createTable:"Create table",createTableHint:"Create a {0} x {1} table",addColumnLeft:"Add column on the left",addColumnRight:"Add column on the right",addRowAbove:"Add row above",addRowBelow:"Add row below",deleteRow:"Delete row",deleteColumn:"Delete column"},_=!c||c.ios&&c.flatVersion>=500||!c.ios&&t!==document.documentElement.contentEditable,b={basic:["bold","italic","underline"],alignment:["justifyLeft","justifyCenter","justifyRight"],lists:["insertUnorderedList","insertOrderedList"],indenting:["indent","outdent"],links:["createLink","unlink"],tables:["createTable","addColumnLeft","addColumnRight","addRowAbove","addRowBelow","deleteRow","deleteColumn"]},w=l.extend({init:function init(n,i){var o,r,s,c,d,p=this,m=a.ui.editor,g=m.Dom;_&&(l.fn.init.call(p,n,i),p.options=f({},p.options,i),p.options.tools=p.options.tools.slice(),n=p.element,d=n[0],c=g.name(d),this._registerHandler(n.closest("form"),"submit",h(p.update,p,t)),s=u({},p.options),s.editor=p,"textarea"==c?(p._wrapTextarea(),r=p.wrapper.find(".k-editor-toolbar"),d.id&&r.attr("aria-controls",d.id)):(p.element.attr("contenteditable",!0).addClass("k-widget k-editor k-editor-inline"),s.popup=!0,r=e('<ul class="k-editor-toolbar" role="toolbar" />').insertBefore(n)),p.toolbar=new m.Toolbar(r[0],s),p.toolbar.bindTo(p),"textarea"==c&&setTimeout(function(){var e=p.wrapper[0].style.height,t=parseInt(e,10),n=p.wrapper.height();e.indexOf("px")>0&&!isNaN(t)&&n>t&&p.wrapper.height(t-(n-t));}),p._resizable(),p._initializeContentElement(p),p.keyboard=new m.Keyboard([new m.BackspaceHandler(p),new m.TypingHandler(p),new m.SystemHandler(p)]),p.clipboard=new m.Clipboard(this),p.undoRedoStack=new a.util.UndoRedoStack(),i&&i.value?o=i.value:p.textarea?(o=d.value,p.options.encoded&&e.trim(d.defaultValue).length&&(o=d.defaultValue),o=o.replace(/[\r\n\v\f\t ]+/gi," ")):o=d.innerHTML,p.value(o||a.ui.editor.emptyElementContent),this._registerHandler(document,{mousedown:function mousedown(){p._endTyping();},mouseup:function mouseup(){p._mouseup();}}),p.toolbar.resize(),a.notify(p));},setOptions:function setOptions(e){var t=this;l.fn.setOptions.call(t,e),e.tools&&t.toolbar.bindTo(t);},_endTyping:function _endTyping(){var e=this.keyboard;try{e.isTypingInProgress()&&(e.endTyping(!0),this.saveSelection());}catch(t){}},_selectionChange:function _selectionChange(){this._selectionStarted=!1,this.saveSelection(),this.trigger("select",{});},_resizable:function _resizable(){var n=this.options.resizable,i=e.isPlainObject(n)?n.content===t||n.content===!0:n;i&&this.textarea&&(e("<div class='k-resize-handle'><span class='k-icon k-resize-se' /></div>").insertAfter(this.textarea),this.wrapper.kendoResizable(u({},this.options.resizable,{start:function start(t){var n=this.editor=e(t.currentTarget).closest(".k-editor");this.initialSize=n.height(),n.find("td:last").append("<div class='k-overlay' />");},resize:function resize(e){var t=e.y.initialDelta,n=this.initialSize+t,i=this.options.min||0,o=this.options.max||1/0;n=Math.min(o,Math.max(i,n)),this.editor.height(n);},resizeend:function resizeend(){this.editor.find(".k-overlay").remove(),this.editor=null;}})));},_wrapTextarea:function _wrapTextarea(){var t=this,n=t.element,i=n[0].style.width,o=n[0].style.height,r=g.editorWrapperTemplate,a=e(r).insertBefore(n).width(i).height(o),s=a.find(".k-editable-area");n.attr("autocomplete","off").appendTo(s).addClass("k-content k-raw-content").css("display","none"),t.textarea=n,t.wrapper=a;},_createContentElement:function _createContentElement(t){var n,i,o,r=this,s=r.textarea,l=r.options.domain,c=l||document.domain,d="",u='javascript:""';return(l||c!=location.hostname)&&(d='<script>document.domain="'+c+'"</script>',u="javascript:document.write('"+d+"')"),s.hide(),n=e("<iframe />",{title:r.options.messages.editAreaTitle,frameBorder:"0"})[0],e(n).css("display","").addClass("k-content").attr("tabindex",s[0].tabIndex).insertBefore(s),n.src=u,i=n.contentWindow||n,o=i.document||n.contentDocument,e(n).one("load",function(){r.toolbar.decorateFrom(o.body);}),o.open(),o.write("<!DOCTYPE html><html><head><meta charset='utf-8' /><style>html,body{padding:0;margin:0;height:100%;min-height:100%;}body{font-size:12px;font-family:Verdana,Geneva,sans-serif;margin-top:-1px;padding:1px .2em 0;word-wrap: break-word;-webkit-nbsp-mode: space;-webkit-line-break: after-white-space;"+(a.support.isRtl(s)?"direction:rtl;":"")+"}h1{font-size:2em;margin:.67em 0}h2{font-size:1.5em}h3{font-size:1.16em}h4{font-size:1em}h5{font-size:.83em}h6{font-size:.7em}p{margin:0 0 1em;}.k-marker{display:none;}.k-paste-container,.Apple-style-span{position:absolute;left:-10000px;width:1px;height:1px;overflow:hidden}ul,ol{padding-left:2.5em}span{-ms-high-contrast-adjust:none;}a{color:#00a}code{font-size:1.23em}telerik\\3Ascript{display: none;}.k-table{table-layout:fixed;width:100%;border-spacing:0;margin: 0 0 1em;}.k-table td{min-width:1px;padding:.2em .3em;}.k-table,.k-table td{outline:0;border: 1px dotted #ccc;}.k-table p{margin:0;padding:0;}k\\:script{display:none;}</style>"+d+"<script>(function(d,c){d[c]('header'),d[c]('article'),d[c]('nav'),d[c]('section'),d[c]('footer');})(document, 'createElement');</script>"+e.map(t,function(e){return"<link rel='stylesheet' href='"+e+"'>";}).join("")+"</head><body autocorrect='off' contenteditable='true'></body></html>"),o.close(),i;},_blur:function _blur(){var e=this.textarea,t=e?e.val():this._oldValue,n=this.options.encoded?this.encodedValue():this.value();this.update(),e&&e.trigger("blur"),n!=t&&this.trigger("change");},_spellCorrect:function _spellCorrect(e){var n,i=!1;this._registerHandler(e.body,{contextmenu:function contextmenu(){e.one("select",function(){n=null;}),e._spellCorrectTimeout=setTimeout(function(){n=new a.ui.editor.RestorePoint(e.getRange()),i=!1;},10);},input:function input(){return n?a.support.browser.mozilla&&!i?(i=!0,t):(a.ui.editor._finishUpdate(e,n),t):t;}});},_registerHandler:function _registerHandler(t,n,i){var o,r=".kendoEditor";if(t=e(t),this._handlers||(this._handlers=[]),t.length)if(e.isPlainObject(n))for(o in n){n.hasOwnProperty(o)&&this._registerHandler(t,o,n[o]);}else n=n.split(" ").join(r+" ")+r,this._handlers.push({element:t,type:n,handler:i}),t.on(n,i);},_deregisterHandlers:function _deregisterHandlers(){var e,t,n=this._handlers;for(e=0;n.length>e;e++){t=n[e],t.element.off(t.type,t.handler);}this._handlers=[];},_initializeContentElement:function _initializeContentElement(){var n,i,o=this;o.textarea?(o.window=o._createContentElement(o.options.stylesheets),n=o.document=o.window.contentDocument||o.window.document,o.body=n.body,i=o.window,this._registerHandler(n,"mouseup",h(this._mouseup,this))):(o.window=window,n=o.document=document,o.body=o.element[0],i=o.body,o.toolbar.decorateFrom(o.body)),this._registerHandler(i,"blur",h(this._blur,this));try{n.execCommand("enableInlineTableEditing",null,!1);}catch(r){}a.support.touch&&this._registerHandler(n,{selectionchange:h(this._selectionChange,this),keydown:function keydown(){a._activeElement()!=n.body&&o.window.focus();}}),this._spellCorrect(o),this._registerHandler(o.body,{dragstart:function dragstart(e){e.preventDefault();},keydown:function keydown(e){var n,i,r,a,s,l,c,d;return e.keyCode!==p.BACKSPACE&&e.keyCode!==p.DELETE||"true"===o.body.getAttribute("contenteditable")?e.keyCode===p.F10?(setTimeout(h(o.toolbar.focus,o.toolbar),100),e.preventDefault(),t):(e.keyCode!=p.LEFT&&e.keyCode!=p.RIGHT||(n=o.getRange(),i=e.keyCode==p.LEFT,r=n[i?"startContainer":"endContainer"],a=n[i?"startOffset":"endOffset"],s=i?-1:1,i&&(a-=1),a+s>0&&3==r.nodeType&&"\uFEFF"==r.nodeValue[a]&&(n.setStart(r,a+s),n.collapse(!0),o.selectRange(n))),l=o.toolbar.tools,c=o.keyboard.toolFromShortcut(l,e),d=c?l[c].options:{},c&&!d.keyPressCommand?(e.preventDefault(),/^(undo|redo)$/.test(c)||o.keyboard.endTyping(!0),o.trigger("keydown",e),o.exec(c),o._runPostContentKeyCommands(e),!1):(o.keyboard.clearTimeout(),o.keyboard.keydown(e),t)):!1;},keypress:function keypress(e){setTimeout(function(){o._runPostContentKeyCommands(e);},0);},keyup:function keyup(t){var n=[8,9,33,34,35,36,37,38,39,40,40,45,46];(e.inArray(t.keyCode,n)>-1||65==t.keyCode&&t.ctrlKey&&!t.altKey&&!t.shiftKey)&&o._selectionChange(),o.keyboard.keyup(t);},mousedown:function mousedown(t){if(o._selectionStarted=!0,!d.gecko){var n=e(t.target);(2==t.which||1==t.which&&t.ctrlKey)&&n.is("a[href]")&&window.open(n.attr("href"),"_new");}},click:function click(e){var t,n=a.ui.editor.Dom;"img"===n.name(e.target)&&(t=o.createRange(),t.selectNode(e.target),o.selectRange(t));},"cut copy paste":function cutCopyPaste(e){o.clipboard["on"+e.type](e);},focusin:function focusin(){o.body.hasAttribute("contenteditable")&&(e(this).addClass("k-state-active"),o.toolbar.show());},focusout:function focusout(){setTimeout(function(){var t=a._activeElement(),n=o.body,i=o.toolbar;t==n||e.contains(n,t)||e(t).is(".k-editortoolbar-dragHandle")||i.focused()||(e(n).removeClass("k-state-active"),i.hide());},10);}});},_mouseup:function _mouseup(){var e=this;e._selectionStarted&&setTimeout(function(){e._selectionChange();},1);},_runPostContentKeyCommands:function _runPostContentKeyCommands(e){var t,n,i,o,r=this.getRange(),a=this.keyboard.toolsFromShortcut(this.toolbar.tools,e);for(t=0;a.length>t;t++){n=a[t],i=n.options,i.keyPressCommand&&(o=new i.command({range:r}),o.changesContent()&&(this.keyboard.endTyping(!0),this.exec(n.name)));}},refresh:function refresh(){var e=this;e.textarea&&(e.textarea.val(e.value()),e.wrapper.find("iframe").remove(),e._initializeContentElement(e),e.value(e.textarea.val()));},events:["select","change","execute","error","paste","keydown","keyup"],options:{name:"Editor",messages:v,formats:{},encoded:!0,domain:null,resizable:!1,deserialization:{custom:null},serialization:{entities:!0,semantic:!0,scripts:!1},pasteCleanup:{all:!1,css:!1,custom:null,keepNewLines:!1,msAllFormatting:!1,msConvertLists:!0,msTags:!0,none:!1,span:!1},stylesheets:[],dialogOptions:{modal:!0,resizable:!1,draggable:!0,animation:!1},imageBrowser:null,fileBrowser:null,fontName:[{text:"Arial",value:"Arial,Helvetica,sans-serif"},{text:"Courier New",value:"'Courier New',Courier,monospace"},{text:"Georgia",value:"Georgia,serif"},{text:"Impact",value:"Impact,Charcoal,sans-serif"},{text:"Lucida Console",value:"'Lucida Console',Monaco,monospace"},{text:"Tahoma",value:"Tahoma,Geneva,sans-serif"},{text:"Times New Roman",value:"'Times New Roman',Times,serif"},{text:"Trebuchet MS",value:"'Trebuchet MS',Helvetica,sans-serif"},{text:"Verdana",value:"Verdana,Geneva,sans-serif"}],fontSize:[{text:"1 (8pt)",value:"xx-small"},{text:"2 (10pt)",value:"x-small"},{text:"3 (12pt)",value:"small"},{text:"4 (14pt)",value:"medium"},{text:"5 (18pt)",value:"large"},{text:"6 (24pt)",value:"x-large"},{text:"7 (36pt)",value:"xx-large"}],formatBlock:[{text:"Paragraph",value:"p"},{text:"Quotation",value:"blockquote"},{text:"Heading 1",value:"h1"},{text:"Heading 2",value:"h2"},{text:"Heading 3",value:"h3"},{text:"Heading 4",value:"h4"},{text:"Heading 5",value:"h5"},{text:"Heading 6",value:"h6"}],tools:[].concat.call(["formatting"],b.basic,b.alignment,b.lists,b.indenting,b.links,["insertImage"],b.tables)},destroy:function destroy(){l.fn.destroy.call(this),this._endTyping(!0),this._deregisterHandlers(),clearTimeout(this._spellCorrectTimeout),this._focusOutside(),this.toolbar.destroy(),a.destroy(this.wrapper);},_focusOutside:function _focusOutside(){if(a.support.browser.msie&&this.textarea){var t=e("<input style='position:fixed;left:1px;top:1px;width:1px;height:1px;font-size:0;border:0;opacity:0' />").appendTo(document.body).focus();t.blur().remove();}},state:function state(e){var t,n,i=w.defaultTools[e],o=i&&(i.options.finder||i.finder),r=a.ui.editor.RangeUtils;return o?(t=this.getRange(),n=r.textNodes(t),!n.length&&t.collapsed&&(n=[t.startContainer]),o.getFormat?o.getFormat(n):o.isFormatted(n)):!1;},value:function value(e){var n=this.body,i=a.ui.editor,o=this.options,r=i.Serializer.domToXhtml(n,o.serialization);return e===t?r:(e!=r&&(i.Serializer.htmlToDom(e,n,o.deserialization),this.selectionRestorePoint=null,this.update(),this.toolbar.refreshTools()),t);},saveSelection:function saveSelection(t){t=t||this.getRange();var n=t.commonAncestorContainer,i=this.body;(n==i||e.contains(i,n))&&(this.selectionRestorePoint=new a.ui.editor.RestorePoint(t));},_focusBody:function _focusBody(){var e,t=this.body,n=this.wrapper&&this.wrapper.find("iframe")[0],i=this.document.documentElement,o=a._activeElement();o!=t&&o!=n&&(e=i.scrollTop,t.focus(),i.scrollTop=e);},restoreSelection:function restoreSelection(){this._focusBody(),this.selectionRestorePoint&&this.selectRange(this.selectionRestorePoint.toRange());},focus:function focus(){this.restoreSelection();},update:function update(e){e=e||this.options.encoded?this.encodedValue():this.value(),this.textarea?this.textarea.val(e):this._oldValue=e;},encodedValue:function encodedValue(){return a.ui.editor.Dom.encode(this.value());},createRange:function createRange(e){return a.ui.editor.RangeUtils.createRange(e||this.document);},getSelection:function getSelection(){return a.ui.editor.SelectionUtils.selectionFromDocument(this.document);},selectRange:function selectRange(e){this._focusBody();var t=this.getSelection();t.removeAllRanges(),t.addRange(e),this.saveSelection(e);},getRange:function getRange(){var e=this.getSelection(),t=e&&e.rangeCount>0?e.getRangeAt(0):this.createRange(),n=this.document;return t.startContainer!=n||t.endContainer!=n||t.startOffset||t.endOffset||(t.setStart(this.body,0),t.collapse(!0)),t;},selectedHtml:function selectedHtml(){return a.ui.editor.Serializer.domToXhtml(this.getRange().cloneContents());},paste:function paste(t,n){this.focus();var i=new a.ui.editor.InsertHtmlCommand(e.extend({range:this.getRange(),html:t},n));i.editor=this,i.exec();},exec:function exec(e,n){var i,o,r,a,s=this,l=null;if(!e)throw Error("kendoEditor.exec(): `name` parameter cannot be empty");if("true"!==s.body.getAttribute("contenteditable")&&"print"!==e&&"pdf"!==e)return!1;if(e=e.toLowerCase(),s.keyboard.isTypingInProgress()||s.restoreSelection(),o=s.toolbar.toolById(e),!o)for(a in w.defaultTools){if(a.toLowerCase()==e){o=w.defaultTools[a];break;}}if(o){if(i=s.getRange(),o.command&&(l=o.command(u({range:i},n))),r=s.trigger("execute",{name:e,command:l}))return;if(/^(undo|redo)$/i.test(e))s.undoRedoStack[e]();else if(l&&(l.managesUndoRedo||s.undoRedoStack.push(l),l.editor=s,l.exec(),l.async))return l.change=h(s._selectionChange,s),t;s._selectionChange();}}});w.defaultTools={undo:{options:{key:"Z",ctrl:!0}},redo:{options:{key:"Y",ctrl:!0}}},a.ui.plugin(w),n=s.extend({init:function init(e){this.options=e;},initialize:function initialize(e,t){e.attr({unselectable:"on",title:t.title}),e.children(".k-tool-text").html(t.title);},command:function command(e){return new this.options.command(e);},update:e.noop}),n.exec=function(e,t,n){e.exec(t,{value:n});},i=n.extend({init:function init(e){n.fn.init.call(this,e);},command:function command(e){var t=this;return new a.ui.editor.FormatCommand(u(e,{formatter:t.options.formatter}));},update:function update(e,t){var n=this.options.finder.isFormatted(t);e.toggleClass("k-state-selected",n),e.attr("aria-pressed",n);}}),g.registerTool("separator",new n({template:new m({template:g.separatorTemplate})})),o=d.msie&&9>d.version?"\uFEFF":"",r="\uFEFF",d.msie&&10==d.version&&(r=" "),u(a.ui,{editor:{ToolTemplate:m,EditorUtils:g,Tool:n,FormatTool:i,_bomFill:o,emptyElementContent:r}}),a.PDFMixin&&(a.PDFMixin.extend(w.prototype),w.prototype._drawPDF=function(){return a.drawing.drawDOM(this.body,this.options.pdf);},w.prototype.saveAsPDF=function(){var t,n=new e.Deferred(),i=n.promise(),o={promise:i};if(!this.trigger("pdfExport",o))return t=this.options.pdf,this._drawPDF(n).then(function(e){return a.drawing.exportPDF(e,t);}).done(function(e){a.saveAs({dataURI:e,fileName:t.fileName,proxyURL:t.proxyURL,forceProxy:t.forceProxy}),n.resolve();}).fail(function(e){n.reject(e);}),i;});}(window.jQuery||window.kendo.jQuery);},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("editor/dom.min",["editor/main.min"],e);}(function(){!function(e){function t(e){var t,n,i={};for(t=0,n=e.length;n>t;t++){i[e[t]]=!0;}return i;}var n,i,o,r,a,s,l,c,d,u,h,f=window.kendo,p=e.map,m=e.extend,g=f.support.browser,v="style",_="float",b="cssFloat",w="styleFloat",y="class",k="k-marker",x=t("area,base,basefont,br,col,frame,hr,img,input,isindex,link,meta,param,embed".split(",")),C="div,p,h1,h2,h3,h4,h5,h6,address,applet,blockquote,button,center,dd,dir,dl,dt,fieldset,form,frameset,hr,iframe,isindex,map,menu,noframes,noscript,object,pre,script,table,tbody,td,tfoot,th,thead,tr,header,article,nav,footer,section,aside,main,figure,figcaption".split(","),S=C.concat(["ul","ol","li"]),T=t(S),D="span,em,a,abbr,acronym,applet,b,basefont,bdo,big,br,button,cite,code,del,dfn,font,i,iframe,img,input,ins,kbd,label,map,object,q,s,samp,script,select,small,strike,strong,sub,sup,textarea,tt,u,var,data,time,mark,ruby".split(","),A=t(D),E=t("checked,compact,declare,defer,disabled,ismap,multiple,nohref,noresize,noshade,nowrap,readonly,selected".split(",")),R=function R(e){1==e.nodeType&&e.normalize();};g.msie&&g.version>=8&&(R=function R(e){if(1==e.nodeType&&e.firstChild)for(var t=e.firstChild,n=t;;){if(n=n.nextSibling,!n)break;3==n.nodeType&&3==t.nodeType&&(n.nodeValue=t.nodeValue+n.nodeValue,h.remove(t)),t=n;}}),n=/^\s+$/,i=/^[\n\r\t]+$/,o=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/i,r=/\ufeff/g,a=/^(\s+|\ufeff)$/,l="color,padding-left,padding-right,padding-top,padding-bottom,background-color,background-attachment,background-image,background-position,background-repeat,border-top-style,border-top-width,border-top-color,border-bottom-style,border-bottom-width,border-bottom-color,border-left-style,border-left-width,border-left-color,border-right-style,border-right-width,border-right-color,font-family,font-size,font-style,font-variant,font-weight,line-height".split(","),c=/[<>\&]/g,d=/[\u00A0-\u2666<>\&]/g,u={34:"quot",38:"amp",39:"apos",60:"lt",62:"gt",160:"nbsp",161:"iexcl",162:"cent",163:"pound",164:"curren",165:"yen",166:"brvbar",167:"sect",168:"uml",169:"copy",170:"ordf",171:"laquo",172:"not",173:"shy",174:"reg",175:"macr",176:"deg",177:"plusmn",178:"sup2",179:"sup3",180:"acute",181:"micro",182:"para",183:"middot",184:"cedil",185:"sup1",186:"ordm",187:"raquo",188:"frac14",189:"frac12",190:"frac34",191:"iquest",192:"Agrave",193:"Aacute",194:"Acirc",195:"Atilde",196:"Auml",197:"Aring",198:"AElig",199:"Ccedil",200:"Egrave",201:"Eacute",202:"Ecirc",203:"Euml",204:"Igrave",205:"Iacute",206:"Icirc",207:"Iuml",208:"ETH",209:"Ntilde",210:"Ograve",211:"Oacute",212:"Ocirc",213:"Otilde",214:"Ouml",215:"times",216:"Oslash",217:"Ugrave",218:"Uacute",219:"Ucirc",220:"Uuml",221:"Yacute",222:"THORN",223:"szlig",224:"agrave",225:"aacute",226:"acirc",227:"atilde",228:"auml",229:"aring",230:"aelig",231:"ccedil",232:"egrave",233:"eacute",234:"ecirc",235:"euml",236:"igrave",237:"iacute",238:"icirc",239:"iuml",240:"eth",241:"ntilde",242:"ograve",243:"oacute",244:"ocirc",245:"otilde",246:"ouml",247:"divide",248:"oslash",249:"ugrave",250:"uacute",251:"ucirc",252:"uuml",253:"yacute",254:"thorn",255:"yuml",402:"fnof",913:"Alpha",914:"Beta",915:"Gamma",916:"Delta",917:"Epsilon",918:"Zeta",919:"Eta",920:"Theta",921:"Iota",922:"Kappa",923:"Lambda",924:"Mu",925:"Nu",926:"Xi",927:"Omicron",928:"Pi",929:"Rho",931:"Sigma",932:"Tau",933:"Upsilon",934:"Phi",935:"Chi",936:"Psi",937:"Omega",945:"alpha",946:"beta",947:"gamma",948:"delta",949:"epsilon",950:"zeta",951:"eta",952:"theta",953:"iota",954:"kappa",955:"lambda",956:"mu",957:"nu",958:"xi",959:"omicron",960:"pi",961:"rho",962:"sigmaf",963:"sigma",964:"tau",965:"upsilon",966:"phi",967:"chi",968:"psi",969:"omega",977:"thetasym",978:"upsih",982:"piv",8226:"bull",8230:"hellip",8242:"prime",8243:"Prime",8254:"oline",8260:"frasl",8472:"weierp",8465:"image",8476:"real",8482:"trade",8501:"alefsym",8592:"larr",8593:"uarr",8594:"rarr",8595:"darr",8596:"harr",8629:"crarr",8656:"lArr",8657:"uArr",8658:"rArr",8659:"dArr",8660:"hArr",8704:"forall",8706:"part",8707:"exist",8709:"empty",8711:"nabla",8712:"isin",8713:"notin",8715:"ni",8719:"prod",8721:"sum",8722:"minus",8727:"lowast",8730:"radic",8733:"prop",8734:"infin",8736:"ang",8743:"and",8744:"or",8745:"cap",8746:"cup",8747:"int",8756:"there4",8764:"sim",8773:"cong",8776:"asymp",8800:"ne",8801:"equiv",8804:"le",8805:"ge",8834:"sub",8835:"sup",8836:"nsub",8838:"sube",8839:"supe",8853:"oplus",8855:"otimes",8869:"perp",8901:"sdot",8968:"lceil",8969:"rceil",8970:"lfloor",8971:"rfloor",9001:"lang",9002:"rang",9674:"loz",9824:"spades",9827:"clubs",9829:"hearts",9830:"diams",338:"OElig",339:"oelig",352:"Scaron",353:"scaron",376:"Yuml",710:"circ",732:"tilde",8194:"ensp",8195:"emsp",8201:"thinsp",8204:"zwnj",8205:"zwj",8206:"lrm",8207:"rlm",8211:"ndash",8212:"mdash",8216:"lsquo",8217:"rsquo",8218:"sbquo",8220:"ldquo",8221:"rdquo",8222:"bdquo",8224:"dagger",8225:"Dagger",8240:"permil",8249:"lsaquo",8250:"rsaquo",8364:"euro"},h={block:T,inline:A,findNodeIndex:function findNodeIndex(e,t){var n=0;if(!e)return-1;for(;;){if(e=e.previousSibling,!e)break;t&&3==e.nodeType||n++;}return n;},isDataNode:function isDataNode(e){return e&&null!==e.nodeValue&&null!==e.data;},isAncestorOf:function isAncestorOf(t,n){try{return!h.isDataNode(t)&&(e.contains(t,h.isDataNode(n)?n.parentNode:n)||n.parentNode==t);}catch(i){return!1;}},isAncestorOrSelf:function isAncestorOrSelf(e,t){return h.isAncestorOf(e,t)||e==t;},findClosestAncestor:function findClosestAncestor(e,t){if(h.isAncestorOf(e,t))for(;t&&t.parentNode!=e;){t=t.parentNode;}return t;},getNodeLength:function getNodeLength(e){return h.isDataNode(e)?e.length:e.childNodes.length;},splitDataNode:function splitDataNode(e,t){for(var n,i=e.cloneNode(!1),o="",r=e.nextSibling;r&&3==r.nodeType&&r.nodeValue;){o+=r.nodeValue,n=r,r=r.nextSibling,h.remove(n);}e.deleteData(t,e.length),i.deleteData(0,t),i.nodeValue+=o,h.insertAfter(i,e);},attrEquals:function attrEquals(e,t){var n,i;for(n in t){if(i=e[n],n==_&&(i=e[f.support.cssFloat?b:w]),"object"==(typeof i==="undefined"?"undefined":_typeof(i))){if(!h.attrEquals(i,t[n]))return!1;}else if(i!=t[n])return!1;}return!0;},blockParentOrBody:function blockParentOrBody(e){return h.parentOfType(e,S)||e.ownerDocument.body;},blockParents:function blockParents(t){var n,i,o,r=[];for(n=0,i=t.length;i>n;n++){o=h.parentOfType(t[n],h.blockElements),o&&e.inArray(o,r)<0&&r.push(o);}return r;},windowFromDocument:function windowFromDocument(e){return e.defaultView||e.parentWindow;},normalize:R,blockElements:S,nonListBlockElements:C,inlineElements:D,empty:x,fillAttrs:E,toHex:function toHex(e){var t=o.exec(e);return t?"#"+p(t.slice(1),function(e){return e=parseInt(e,10).toString(16),e.length>1?e:"0"+e;}).join(""):e;},encode:function encode(e,t){var n=!t||t.entities?d:c;return e.replace(n,function(e){var t=e.charCodeAt(0),n=u[t];return n?"&"+n+";":e;});},stripBom:function stripBom(e){return(e||"").replace(r,"");},stripBomNode:function stripBomNode(e){e&&3===e.nodeType&&"\uFEFF"===e.nodeValue&&e.parentNode.removeChild(e);},insignificant:function insignificant(e){var t=e.attributes;return"k-marker"==e.className||h.is(e,"br")&&("k-br"==e.className||t._moz_dirty||t._moz_editor_bogus_node);},significantNodes:function significantNodes(t){return e.grep(t,function(e){var t=h.name(e);return"br"==t?!1:h.insignificant(e)?!1:3==e.nodeType&&a.test(e.nodeValue)?!1:1!=e.nodeType||x[t]||!h.emptyNode(e);});},emptyNode:function emptyNode(e){return 1==e.nodeType&&!h.significantNodes(e.childNodes).length;},name:function name(e){return e.nodeName.toLowerCase();},significantChildNodes:function significantChildNodes(t){return e.grep(t.childNodes,function(e){return 3!=e.nodeType||!h.isWhitespace(e);});},lastTextNode:function lastTextNode(e){var t,n=null;if(3==e.nodeType)return e;for(t=e.lastChild;t;t=t.previousSibling){if(n=h.lastTextNode(t))return n;}return n;},is:function is(e,t){return h.name(e)==t;},isMarker:function isMarker(e){return e.className==k;},isWhitespace:function isWhitespace(e){return n.test(e.nodeValue);},isEmptyspace:function isEmptyspace(e){return i.test(e.nodeValue);},isBlock:function isBlock(e){return T[h.name(e)];},isEmpty:function isEmpty(e){return x[h.name(e)];},isInline:function isInline(e){return A[h.name(e)];},scrollContainer:function scrollContainer(e){var t=h.windowFromDocument(e),n=(t.contentWindow||t).document||t.ownerDocument||t;return n=f.support.browser.webkit||"BackCompat"==n.compatMode?n.body:n.documentElement;},scrollTo:function scrollTo(t){var n,i,o=e(h.isDataNode(t)?t.parentNode:t),r=h.windowFromDocument(t.ownerDocument),a=r.innerHeight,s=h.scrollContainer(t.ownerDocument);n=o.offset().top,i=o[0].offsetHeight,i||(i=parseInt(o.css("line-height"),10)||Math.ceil(1.2*parseInt(o.css("font-size"),10))||15),i+n>s.scrollTop+a&&(s.scrollTop=i+n-a);},persistScrollTop:function persistScrollTop(e){s=h.scrollContainer(e).scrollTop;},restoreScrollTop:function restoreScrollTop(e){h.scrollContainer(e).scrollTop=s;},insertAt:function insertAt(e,t,n){e.insertBefore(t,e.childNodes[n]||null);},insertBefore:function insertBefore(e,t){return t.parentNode?t.parentNode.insertBefore(e,t):t;},insertAfter:function insertAfter(e,t){return t.parentNode.insertBefore(e,t.nextSibling);},remove:function remove(e){e.parentNode.removeChild(e);},removeTextSiblings:function removeTextSiblings(e){for(var t=e.parentNode;e.nextSibling&&3==e.nextSibling.nodeType;){t.removeChild(e.nextSibling);}for(;e.previousSibling&&3==e.previousSibling.nodeType;){t.removeChild(e.previousSibling);}},trim:function trim(e){var t,n;for(t=e.childNodes.length-1;t>=0;t--){n=e.childNodes[t],h.isDataNode(n)?(h.stripBom(n.nodeValue).length||h.remove(n),h.isWhitespace(n)&&h.insertBefore(n,e)):n.className!=k&&(h.trim(n),n.childNodes.length||h.isEmpty(n)||h.remove(n));}return e;},closest:function closest(e,t){for(;e&&h.name(e)!=t;){e=e.parentNode;}return e;},sibling:function sibling(e,t){do{e=e[t];}while(e&&1!=e.nodeType);return e;},next:function next(e){return h.sibling(e,"nextSibling");},prev:function prev(e){return h.sibling(e,"previousSibling");},parentOfType:function parentOfType(e,t){do{e=e.parentNode;}while(e&&!h.ofType(e,t));return e;},ofType:function ofType(t,n){return e.inArray(h.name(t),n)>=0;},changeTag:function changeTag(e,t,n){var i,o,r,a,s,l=h.create(e.ownerDocument,t),c=e.attributes;if(!n)for(i=0,o=c.length;o>i;i++){s=c[i],s.specified&&(r=s.nodeName,a=s.nodeValue,r==y?l.className=a:r==v?l.style.cssText=e.style.cssText:l.setAttribute(r,a));}for(;e.firstChild;){l.appendChild(e.firstChild);}return h.insertBefore(l,e),h.remove(e),l;},editableParent:function editableParent(e){for(;e&&(3==e.nodeType||"true"!==e.contentEditable);){e=e.parentNode;}return e;},wrap:function wrap(e,t){return h.insertBefore(t,e),t.appendChild(e),t;},unwrap:function unwrap(e){for(var t=e.parentNode;e.firstChild;){t.insertBefore(e.firstChild,e);}t.removeChild(e);},create:function create(e,t,n){return h.attr(e.createElement(t),n);},attr:function attr(e,t){t=m({},t),t&&v in t&&(h.style(e,t.style),delete t.style);for(var n in t){null===t[n]?(e.removeAttribute(n),delete t[n]):"className"==n&&(e[n]=t[n]);}return m(e,t);},style:function style(t,n){e(t).css(n||{});},unstyle:function unstyle(e,t){for(var n in t){n==_&&(n=f.support.cssFloat?b:w),e.style[n]="";}""===e.style.cssText&&e.removeAttribute(v);},inlineStyle:function inlineStyle(t,n,i){var o,r=e(h.create(t.ownerDocument,n,i));return t.appendChild(r[0]),o=p(l,function(e){return g.msie&&"line-height"==e&&"1px"==r.css(e)?"line-height:1.5":e+":"+r.css(e);}).join(";"),r.remove(),o;},getEffectiveBackground:function getEffectiveBackground(e){var t=e.css("background-color");return t.indexOf("rgba(0, 0, 0, 0")<0&&"transparent"!==t?t:"html"===e[0].tagName.toLowerCase()?"Window":h.getEffectiveBackground(e.parent());},innerText:function innerText(e){var t=e.innerHTML;return t=t.replace(/<!--(.|\s)*?-->/gi,""),t=t.replace(/<\/?[^>]+?\/?>/gm,"");},removeClass:function removeClass(t,n){var i,o,r=" "+t.className+" ",a=n.split(" ");for(i=0,o=a.length;o>i;i++){r=r.replace(" "+a[i]+" "," ");}r=e.trim(r),r.length?t.className=r:t.removeAttribute(y);},commonAncestor:function commonAncestor(){var e,t,n,i,o,r=arguments.length,a=[],s=1/0,l=null;if(!r)return null;if(1==r)return arguments[0];for(e=0;r>e;e++){for(t=[],n=arguments[e];n;){t.push(n),n=n.parentNode;}a.push(t.reverse()),s=Math.min(s,t.length);}if(1==r)return a[0][0];for(e=0;s>e;e++){for(i=a[0][e],o=1;r>o;o++){if(i!=a[o][e])return l;}l=i;}return l;},closestSplittableParent:function closestSplittableParent(t){var n,i,o;return n=1==t.length?h.parentOfType(t[0],["ul","ol"]):h.commonAncestor.apply(null,t),n||(n=h.parentOfType(t[0],["p","td"])||t[0].ownerDocument.body),h.isInline(n)&&(n=h.blockParentOrBody(n)),i=p(t,h.editableParent),o=h.commonAncestor(i)[0],e.contains(n,o)&&(n=o),n;},closestEditable:function closestEditable(t,n){var i,o=h.editableParent(t);return i=h.ofType(t,n)?t:h.parentOfType(t,n),i&&o&&e.contains(i,o)?i=o:!i&&o&&(i=o),i;},closestEditableOfType:function closestEditableOfType(e,t){var n=h.closestEditable(e,t);return n&&h.ofType(n,t)?n:void 0;},filter:function filter(e,t,n){for(var i,o=0,r=t.length,a=[];r>o;o++){i=h.name(t[o]),(!n&&i==e||n&&i!=e)&&a.push(t[o]);}return a;},ensureTrailingBreaks:function ensureTrailingBreaks(t){var n=e(t).find("p,td,th"),i=n.length,o=0;if(i)for(;i>o;o++){h.ensureTrailingBreak(n[o]);}else h.ensureTrailingBreak(t);},removeTrailingBreak:function removeTrailingBreak(t){e(t).find("br[type=_moz],.k-br").remove();},ensureTrailingBreak:function ensureTrailingBreak(e){var t,n,i;h.removeTrailingBreak(e),t=e.lastChild,n=t&&h.name(t),(!n||"br"!=n&&"img"!=n||"br"==n&&"k-br"!=t.className)&&(i=e.ownerDocument.createElement("br"),i.className="k-br",e.appendChild(i));}},f.ui.editor.Dom=h;}(window.kendo.jQuery);},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("editor/serializer.min",["editor/dom.min"],e);}(function(){!function(e,t){var n,i,o,r=window.kendo,a=r.ui.editor,s=a.Dom,l=e.extend,c="xx-small,x-small,small,medium,large,x-large,xx-large".split(","),d=/"/g,u=/<br[^>]*>/i,h=/^\d+(\.\d*)?(px)?$/i,f=/<p>(?:&nbsp;)?<\/p>/i,p=/(\*?[-#\/\*\\\w]+(?:\[[0-9a-z_-]+\])?)\s*:\s*((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^\)]*?\)|[^};])+)/g,m=/^sizzle-\d+/i,g=/^k-script-/i,v=/\s*onerror\s*=\s*(?:'|")?([^'">\s]*)(?:'|")?/i,_=document.createElement("div");_.innerHTML=" <hr>",n=3===_.firstChild.nodeType,_=null,i=e.isFunction,o={toEditableHtml:function toEditableHtml(e){var t='<br class="k-br">';return e=e||"",e.replace(/<!\[CDATA\[(.*)?\]\]>/g,"<!--[CDATA[$1]]-->").replace(/<(\/?)script([^>]*)>/gi,"<$1k:script$2>").replace(/<img([^>]*)>/gi,function(e){return e.replace(v,"");}).replace(/(<\/?img[^>]*>)[\r\n\v\f\t ]+/gi,"$1").replace(/^<(table|blockquote)/i,t+"<$1").replace(/^[\s]*(&nbsp;|\u00a0)/i,"$1").replace(/<\/(table|blockquote)>$/i,"</$1>"+t);},_fillEmptyElements:function _fillEmptyElements(t){e(t).find("p,td").each(function(){var t,n=e(this);if(/^\s*$/g.test(n.text())&&!n.find("img,input").length){for(t=this;t.firstChild&&3!=t.firstChild.nodeType;){t=t.firstChild;}1!=t.nodeType||s.empty[s.name(t)]||(t.innerHTML=r.ui.editor.emptyElementContent);}});},_removeSystemElements:function _removeSystemElements(t){e(".k-paste-container",t).remove();},_resetOrderedLists:function _resetOrderedLists(e){var t,n,i,o=e.getElementsByTagName("ol");for(t=0;o.length>t;t++){n=o[t],i=n.getAttribute("start"),n.setAttribute("start",1),i?n.setAttribute("start",i):n.removeAttribute(i);}},_preventScriptExecution:function _preventScriptExecution(t){e(t).find("*").each(function(){var e,t,n,i,o=this.attributes;for(t=0,n=o.length;n>t;t++){e=o[t],i=e.nodeName,e.specified&&/^on/i.test(i)&&(this.setAttribute("k-script-"+i,e.value),this.removeAttribute(i));}});},htmlToDom:function htmlToDom(t,n,a){var l=r.support.browser,c=l.msie,d=c&&9>l.version,u="originalsrc",h="originalhref",f=a||{};return t=o.toEditableHtml(t),d&&(t="<br/>"+t,t=t.replace(/href\s*=\s*(?:'|")?([^'">\s]*)(?:'|")?/,h+'="$1"'),t=t.replace(/src\s*=\s*(?:'|")?([^'">\s]*)(?:'|")?/,u+'="$1"')),i(f.custom)&&(t=f.custom(t)||t),n.innerHTML=t,d?(s.remove(n.firstChild),e(n).find("k\\:script,script,link,img,a").each(function(){var e=this;e[h]&&(e.setAttribute("href",e[h]),e.removeAttribute(h)),e[u]&&(e.setAttribute("src",e[u]),e.removeAttribute(u));})):c&&(s.normalize(n),o._resetOrderedLists(n)),o._preventScriptExecution(n),o._fillEmptyElements(n),o._removeSystemElements(n),e("table",n).addClass("k-table"),n;},domToXhtml:function domToXhtml(i,o){function a(t){return e.grep(t,function(e){return"style"!=e.name;});}function l(t){var n,i,o,r=e.trim,a=r(t),l=[];for(p.lastIndex=0;;){if(n=p.exec(a),!n)break;i=r(n[1].toLowerCase()),o=r(n[2]),"font-size-adjust"!=i&&"font-stretch"!=i&&(i.indexOf("color")>=0?o=s.toHex(o):i.indexOf("font")>=0?o=o.replace(d,"'"):/\burl\(/g.test(o)&&(o=o.replace(d,"")),l.push({property:i,value:o}));}return l;}function v(e){var t,n=l(e);for(t=0;n.length>t;t++){T.push(n[t].property),T.push(":"),T.push(n[t].value),T.push(";");}}function _(e){var t,n,i,r,a,l,c=[],d=e.attributes;for(n=0,i=d.length;i>n;n++){t=d[n],r=t.nodeName,a=t.value,l=t.specified,"value"==r&&"value"in e&&e.value?l=!0:"type"==r&&"text"==a?l=!0:"class"!=r||a?m.test(r)?l=!1:"complete"==r?l=!1:"altHtml"==r?l=!1:"start"==r&&s.is(e,"ul")?l=!1:"start"==r&&s.is(e,"ol")&&"1"==a?l=!1:r.indexOf("_moz")>=0?l=!1:g.test(r)&&(l=!!o.scripts):l=!1,l&&c.push(t);}return c;}function b(n,i){var o,a,l,c,d,u,f,p;if(i=i||_(n),s.is(n,"img")&&(u=n.style.width,f=n.style.height,p=e(n),u&&h.test(u)&&(p.attr("width",parseInt(u,10)),s.unstyle(n,{width:t})),f&&h.test(f)&&(p.attr("height",parseInt(f,10)),s.unstyle(n,{height:t}))),i.length)for(i.sort(function(e,t){return e.nodeName>t.nodeName?1:t.nodeName>e.nodeName?-1:0;}),o=0,a=i.length;a>o;o++){l=i[o],c=l.nodeName,d=l.value,"class"==c&&"k-table"==d||(c=c.replace(g,""),T.push(" "),T.push(c),T.push('="'),"style"==c?v(d||n.style.cssText):T.push("src"==c||"href"==c?r.htmlEncode(n.getAttribute(c,2)):s.fillAttrs[c]?c:d),T.push('"'));}}function w(e,t,n){for(var i=e.firstChild;i;i=i.nextSibling){x(i,t,n);}}function y(e){return e.nodeValue.replace(/\ufeff/g,"");}function k(e){if("\uFEFF"===e.nodeValue){do{if(e=e.parentNode,s.is(e,"td")||1!==e.childNodes.length)return!1;}while(!s.isBlock(e));return!0;}return!1;}function x(e,i,r){var a,l,c,d,u,h=e.nodeType;if(1==h){if(a=s.name(e),!a||s.insignificant(e))return;if(!o.scripts&&("script"==a||"k:script"==a))return;if(l=D[a],l&&(t===l.semantic||o.semantic^l.semantic))return l.start(e),w(e,!1,l.skipEncoding),l.end(e),t;T.push("<"),T.push(a),b(e),s.empty[a]?T.push(" />"):(T.push(">"),w(e,i||s.is(e,"pre")),T.push("</"),T.push(a),T.push(">"));}else if(3==h){if(k(e))return T.push("&nbsp;"),t;d=y(e),!i&&n&&(c=e.parentNode,u=e.previousSibling,u||(u=(s.isInline(c)?c:e).previousSibling),u&&""!==u.innerHTML&&!s.isBlock(u)||(d=d.replace(/^[\r\n\v\f\t ]+/,"")),d=d.replace(/ +/," ")),T.push(r?d:s.encode(d,o));}else 4==h?(T.push("<![CDATA["),T.push(e.data),T.push("]]>")):8==h&&(e.data.indexOf("[CDATA[")<0?(T.push("<!--"),T.push(e.data),T.push("-->")):(T.push("<!"),T.push(e.data),T.push(">")));}function C(e){var t=e.childNodes.length,n=t&&3==e.firstChild.nodeType;return n&&(1==t||2==t&&s.insignificant(e.lastChild));}function S(){e.isFunction(o.custom)&&(T=o.custom(T)||T);}var T=[],D={iframe:{start:function start(e){T.push("<iframe"),b(e),T.push(">");},end:function end(){T.push("</iframe>");}},"k:script":{start:function start(e){T.push("<script"),b(e),T.push(">");},end:function end(){T.push("</script>");},skipEncoding:!0},span:{semantic:!0,start:function start(t){var n,i,o=t.style,r=_(t),l=a(r);l.length&&(T.push("<span"),b(t,l),T.push(">")),"underline"==o.textDecoration&&T.push("<u>"),n=[],o.color&&n.push('color="'+s.toHex(o.color)+'"'),o.fontFamily&&n.push('face="'+o.fontFamily+'"'),o.fontSize&&(i=e.inArray(o.fontSize,c),n.push('size="'+i+'"')),n.length&&T.push("<font "+n.join(" ")+">");},end:function end(e){var t=e.style;(t.color||t.fontFamily||t.fontSize)&&T.push("</font>"),"underline"==t.textDecoration&&T.push("</u>"),a(_(e)).length&&T.push("</span>");}},strong:{semantic:!0,start:function start(){T.push("<b>");},end:function end(){T.push("</b>");}},em:{semantic:!0,start:function start(){T.push("<i>");},end:function end(){T.push("</i>");}},b:{semantic:!1,start:function start(){T.push("<strong>");},end:function end(){T.push("</strong>");}},i:{semantic:!1,start:function start(){T.push("<em>");},end:function end(){T.push("</em>");}},u:{semantic:!1,start:function start(){T.push('<span style="text-decoration:underline;">');},end:function end(){T.push("</span>");}},font:{semantic:!1,start:function start(e){var t,n,i;T.push('<span style="'),t=e.getAttribute("color"),n=c[e.getAttribute("size")],i=e.getAttribute("face"),t&&(T.push("color:"),T.push(s.toHex(t)),T.push(";")),i&&(T.push("font-family:"),T.push(i),T.push(";")),n&&(T.push("font-size:"),T.push(n),T.push(";")),T.push('">');},end:function end(){T.push("</span>");}}};return D.script=D["k:script"],o=o||{},t===o.semantic&&(o.semantic=!0),C(i)?(T=s.encode(y(i.firstChild).replace(/[\r\n\v\f\t ]+/," "),o),S(),T):(w(i),T=T.join(""),S(),""===T.replace(u,"").replace(f,"")?"":T);}},l(a,{Serializer:o});}(window.kendo.jQuery);},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("editor/range.min",["editor/serializer.min"],e);}(function(){!function(e){function t(e,t,n,i){var o,r,a,s;if(e==t)return i-n;for(o=t;o&&o.parentNode!=e;){o=o.parentNode;}if(o)return w(o)-n;for(o=e;o&&o.parentNode!=t;){o=o.parentNode;}if(o)return i-w(o)-1;for(r=b.commonAncestor(e,t),a=e;a&&a.parentNode!=r;){a=a.parentNode;}for(a||(a=r),s=t;s&&s.parentNode!=r;){s=s.parentNode;}return s||(s=r),a==s?0:w(s)-w(a);}function n(e,n){function i(e){try{return t(e.startContainer,e.endContainer,e.startOffset,e.endOffset)<0;}catch(n){return!0;}}i(e)&&(n?(e.commonAncestorContainer=e.endContainer=e.startContainer,e.endOffset=e.startOffset):(e.commonAncestorContainer=e.startContainer=e.endContainer,e.startOffset=e.endOffset),e.collapsed=!0);}function i(e){e.collapsed=e.startContainer==e.endContainer&&e.startOffset==e.endOffset;for(var t=e.startContainer;t&&t!=e.endContainer&&!b.isAncestorOf(t,e.endContainer);){t=t.parentNode;}e.commonAncestorContainer=t;}function o(e){var t=e.duplicate(),n=e.duplicate();return t.collapse(!0),n.collapse(!1),b.commonAncestor(e.parentElement(),t.parentElement(),n.parentElement());}function r(e,t,n){var i,o=t[n?"startContainer":"endContainer"],r=t[n?"startOffset":"endOffset"],a=0,s=y(o),l=s?o:o.childNodes[r]||null,c=s?o.parentNode:o,d=t.ownerDocument,u=d.body.createTextRange();3!=o.nodeType&&4!=o.nodeType||(a=r),c||(c=d.body),"img"==c.nodeName.toLowerCase()?(u.moveToElementText(c),u.collapse(!1),e.setEndPoint(n?"StartToStart":"EndToStart",u)):(i=c.insertBefore(b.create(d,"a"),l),u.moveToElementText(i),b.remove(i),u[n?"moveStart":"moveEnd"]("character",a),u.collapse(!1),e.setEndPoint(n?"StartToStart":"EndToStart",u));}function a(e,t,n,i){var o,r,a,s,l,c,d,u=b.create(t.ownerDocument,"a"),h=e.duplicate(),f=i?"StartToStart":"StartToEnd",p=!1;u.innerHTML="\uFEFF",h.collapse(i),r=h.parentElement(),b.isAncestorOrSelf(n,r)||(r=n);do{p?r.insertBefore(u,u.previousSibling):(r.appendChild(u),p=!0),h.moveToElementText(u);}while((o=h.compareEndPoints(f,e))>0&&u.previousSibling);a=u.nextSibling,-1==o&&y(a)?(h.setEndPoint(i?"EndToStart":"EndToEnd",e),b.remove(u),c=[a,h.text.length]):(s=!i&&u.previousSibling,l=i&&u.nextSibling,y(l)?c=[l,0]:y(s)?c=[s,s.length]:(d=w(u),c=r.nextSibling&&d==r.childNodes.length-1?[r.nextSibling,0]:[r,d]),b.remove(u)),t[i?"setStart":"setEnd"].apply(t,c);}var s,l,c,d,u,h,f,p=window.kendo,m=p.Class,g=e.extend,v=p.ui.editor,_=p.support.browser,b=v.Dom,w=b.findNodeIndex,y=b.isDataNode,k=b.findClosestAncestor,x=b.getNodeLength,C=b.normalize,S={selectionFromWindow:function selectionFromWindow(e){return"getSelection"in e?e.getSelection():new l(e.document);},selectionFromRange:function selectionFromRange(e){var t=f.documentFromRange(e);return S.selectionFromDocument(t);},selectionFromDocument:function selectionFromDocument(e){return S.selectionFromWindow(b.windowFromDocument(e));}},T=m.extend({init:function init(t){e.extend(this,{ownerDocument:t,startContainer:t,endContainer:t,commonAncestorContainer:t,startOffset:0,endOffset:0,collapsed:!0});},setStart:function setStart(e,t){this.startContainer=e,this.startOffset=t,i(this),n(this,!0);},setEnd:function setEnd(e,t){this.endContainer=e,this.endOffset=t,i(this),n(this,!1);},setStartBefore:function setStartBefore(e){this.setStart(e.parentNode,w(e));},setStartAfter:function setStartAfter(e){this.setStart(e.parentNode,w(e)+1);},setEndBefore:function setEndBefore(e){this.setEnd(e.parentNode,w(e));},setEndAfter:function setEndAfter(e){this.setEnd(e.parentNode,w(e)+1);},selectNode:function selectNode(e){this.setStartBefore(e),this.setEndAfter(e);},selectNodeContents:function selectNodeContents(e){this.setStart(e,0),this.setEnd(e,e[1===e.nodeType?"childNodes":"nodeValue"].length);},collapse:function collapse(e){var t=this;e?t.setEnd(t.startContainer,t.startOffset):t.setStart(t.endContainer,t.endOffset);},deleteContents:function deleteContents(){var e=this,t=e.cloneRange();e.startContainer!=e.commonAncestorContainer&&e.setStartAfter(k(e.commonAncestorContainer,e.startContainer)),e.collapse(!0),function n(e){for(;e.next();){e.hasPartialSubtree()?n(e.getSubtreeIterator()):e.remove();}}(new s(t));},cloneContents:function cloneContents(){var e=f.documentFromRange(this);return function t(n){for(var i,o=e.createDocumentFragment();i=n.next();){i=i.cloneNode(!n.hasPartialSubtree()),n.hasPartialSubtree()&&i.appendChild(t(n.getSubtreeIterator())),o.appendChild(i);}return o;}(new s(this));},extractContents:function extractContents(){var e,t=this,n=t.cloneRange();return t.startContainer!=t.commonAncestorContainer&&t.setStartAfter(k(t.commonAncestorContainer,t.startContainer)),t.collapse(!0),e=f.documentFromRange(t),function i(n){for(var o,r=e.createDocumentFragment();o=n.next();){n.hasPartialSubtree()?(o=o.cloneNode(!1),o.appendChild(i(n.getSubtreeIterator()))):n.remove(t.originalRange),r.appendChild(o);}return r;}(new s(n));},insertNode:function insertNode(e){var t=this;y(t.startContainer)?(t.startOffset!=t.startContainer.nodeValue.length&&b.splitDataNode(t.startContainer,t.startOffset),b.insertAfter(e,t.startContainer)):b.insertAt(t.startContainer,e,t.startOffset),t.setStart(t.startContainer,t.startOffset);},cloneRange:function cloneRange(){return e.extend(new T(this.ownerDocument),{startContainer:this.startContainer,endContainer:this.endContainer,commonAncestorContainer:this.commonAncestorContainer,startOffset:this.startOffset,endOffset:this.endOffset,collapsed:this.collapsed,originalRange:this});},toString:function toString(){var e=this.startContainer.nodeName,t=this.endContainer.nodeName;return("#text"==e?this.startContainer.nodeValue:e)+"("+this.startOffset+") : "+("#text"==t?this.endContainer.nodeValue:t)+"("+this.endOffset+")";}});T.fromNode=function(e){return new T(e.ownerDocument);},s=m.extend({init:function init(t){if(e.extend(this,{range:t,_current:null,_next:null,_end:null}),!t.collapsed){var n=t.commonAncestorContainer;this._next=t.startContainer!=n||y(t.startContainer)?k(n,t.startContainer):t.startContainer.childNodes[t.startOffset],this._end=t.endContainer!=n||y(t.endContainer)?k(n,t.endContainer).nextSibling:t.endContainer.childNodes[t.endOffset];}},hasNext:function hasNext(){return!!this._next;},next:function next(){var e=this,t=e._current=e._next;return e._next=e._current&&e._current.nextSibling!=e._end?e._current.nextSibling:null,y(e._current)&&(e.range.endContainer==e._current&&(t=t.cloneNode(!0),t.deleteData(e.range.endOffset,t.length-e.range.endOffset)),e.range.startContainer==e._current&&(t=t.cloneNode(!0),t.deleteData(0,e.range.startOffset))),t;},traverse:function traverse(e){function t(){return i._current=i._next,i._next=i._current&&i._current.nextSibling!=i._end?i._current.nextSibling:null,i._current;}for(var n,i=this;n=t();){i.hasPartialSubtree()?i.getSubtreeIterator().traverse(e):e(n);}return n;},remove:function remove(e){var t,n,i,o,r,a=this,s=a.range.startContainer==a._current,l=a.range.endContainer==a._current;y(a._current)&&(s||l)?(t=s?a.range.startOffset:0,n=l?a.range.endOffset:a._current.length,i=n-t,e&&(s||l)&&(a._current==e.startContainer&&e.startOffset>=t&&(e.startOffset-=i),a._current==e.endContainer&&e.endOffset>=n&&(e.endOffset-=i)),a._current.deleteData(t,i)):(o=a._current.parentNode,!e||a.range.startContainer!=o&&a.range.endContainer!=o||(r=w(a._current),o==e.startContainer&&e.startOffset>=r&&(e.startOffset-=1),o==e.endContainer&&e.endOffset>r&&(e.endOffset-=1)),b.remove(a._current));},hasPartialSubtree:function hasPartialSubtree(){return!y(this._current)&&(b.isAncestorOrSelf(this._current,this.range.startContainer)||b.isAncestorOrSelf(this._current,this.range.endContainer));},getSubtreeIterator:function getSubtreeIterator(){var e=this,t=e.range.cloneRange();return t.selectNodeContents(e._current),b.isAncestorOrSelf(e._current,e.range.startContainer)&&t.setStart(e.range.startContainer,e.range.startOffset),b.isAncestorOrSelf(e._current,e.range.endContainer)&&t.setEnd(e.range.endContainer,e.range.endOffset),new s(t);}}),l=m.extend({init:function init(e){this.ownerDocument=e,this.rangeCount=1;},addRange:function addRange(e){var t=this.ownerDocument.body.createTextRange();r(t,e,!1),r(t,e,!0),t.select();},removeAllRanges:function removeAllRanges(){var e=this.ownerDocument.selection;"None"!=e.type&&e.empty();},getRangeAt:function getRangeAt(){var e,t,n,i,r,s,l,c,d=new T(this.ownerDocument),u=this.ownerDocument.selection;try{if(e=u.createRange(),t=e.item?e.item(0):e.parentElement(),t.ownerDocument!=this.ownerDocument)return d;}catch(h){return d;}if("Control"==u.type)d.selectNode(e.item(0));else if(n=o(e),a(e,d,n,!0),a(e,d,n,!1),9==d.startContainer.nodeType&&d.setStart(d.endContainer,d.startOffset),9==d.endContainer.nodeType&&d.setEnd(d.startContainer,d.endOffset),0===e.compareEndPoints("StartToEnd",e)&&d.collapse(!1),i=d.startContainer,r=d.endContainer,s=this.ownerDocument.body,!(d.collapsed||0!==d.startOffset||d.endOffset!=x(d.endContainer)||i==r&&y(i)&&i.parentNode==s)){for(l=!1,c=!1;0===w(i)&&i==i.parentNode.firstChild&&i!=s;){i=i.parentNode,l=!0;}for(;w(r)==x(r.parentNode)-1&&r==r.parentNode.lastChild&&r!=s;){r=r.parentNode,c=!0;}i==s&&r==s&&l&&c&&(d.setStart(i,0),d.setEnd(r,x(s)));}return d;}}),c=m.extend({init:function init(e){this.enumerate=function(){function t(e){if(b.is(e,"img")||3==e.nodeType&&(!b.isEmptyspace(e)||"\uFEFF"==e.nodeValue))n.push(e);else for(e=e.firstChild;e;){t(e),e=e.nextSibling;}}var n=[];return new s(e).traverse(t),n;};}}),d=m.extend({init:function init(e,t){var n=this;n.range=e,n.rootNode=f.documentFromRange(e),n.body=t||n.getEditable(e),"body"!=b.name(n.body)&&(n.rootNode=n.body),n.html=n.body.innerHTML,n.startContainer=n.nodeToPath(e.startContainer),n.endContainer=n.nodeToPath(e.endContainer),n.startOffset=n.offset(e.startContainer,e.startOffset),n.endOffset=n.offset(e.endContainer,e.endOffset);},index:function index(e){for(var t,n=0,i=e.nodeType;e=e.previousSibling;){t=e.nodeType,3==t&&i==t||n++,i=t;}return n;},getEditable:function getEditable(e){for(var t=e.commonAncestorContainer;t&&(3==t.nodeType||t.attributes&&!t.attributes.contentEditable);){t=t.parentNode;}return t;},restoreHtml:function restoreHtml(){this.body.innerHTML=this.html;},offset:function offset(e,t){if(3==e.nodeType)for(;(e=e.previousSibling)&&3==e.nodeType;){t+=e.nodeValue.length;}return t;},nodeToPath:function nodeToPath(e){for(var t=[];e!=this.rootNode;){t.push(this.index(e)),e=e.parentNode;}return t;},toRangePoint:function toRangePoint(e,t,n,i){for(var o=this.rootNode,r=n.length,a=i;r--;){o=o.childNodes[n[r]];}for(;o&&3==o.nodeType&&a>o.nodeValue.length;){a-=o.nodeValue.length,o=o.nextSibling;}o&&a>=0&&e[t?"setStart":"setEnd"](o,a);},toRange:function toRange(){var e=this,t=e.range.cloneRange();return e.toRangePoint(t,!0,e.startContainer,e.startOffset),e.toRangePoint(t,!1,e.endContainer,e.endOffset),t;}}),u=m.extend({init:function init(){this.caret=null;},addCaret:function addCaret(e){var t=this;return t.caret=b.create(f.documentFromRange(e),"span",{className:"k-marker"}),e.insertNode(t.caret),e.selectNode(t.caret),t.caret;},removeCaret:function removeCaret(e){var t,n,i,o,r=this,a=r.caret.previousSibling,s=0;a&&(s=y(a)?a.nodeValue.length:w(a)),t=r.caret.parentNode,n=a?w(a):0,b.remove(r.caret),C(t),i=t.childNodes[n],y(i)?e.setStart(i,s):i?(o=b.lastTextNode(i),o?e.setStart(o,o.nodeValue.length):e[a?"setStartAfter":"setStartBefore"](i)):(_.msie||t.innerHTML||(t.innerHTML='<br _moz_dirty="" />'),e.selectNodeContents(t)),e.collapse(!0);},add:function add(e,t){var n,i,o=this,r=e.collapsed&&!f.isExpandable(e),a=f.documentFromRange(e);return t&&e.collapsed&&(o.addCaret(e),e=f.expand(e)),n=e.cloneRange(),n.collapse(!1),o.end=b.create(a,"span",{className:"k-marker"}),n.insertNode(o.end),n=e.cloneRange(),n.collapse(!0),o.start=o.end.cloneNode(!0),n.insertNode(o.start),o._removeDeadMarkers(o.start,o.end),r&&(i=a.createTextNode("\uFEFF"),b.insertAfter(i.cloneNode(),o.start),b.insertBefore(i,o.end)),C(e.commonAncestorContainer),e.setStartBefore(o.start),e.setEndAfter(o.end),e;},_removeDeadMarkers:function _removeDeadMarkers(e,t){e.previousSibling&&"\uFEFF"==e.previousSibling.nodeValue&&b.remove(e.previousSibling),t.nextSibling&&"\uFEFF"==t.nextSibling.nodeValue&&b.remove(t.nextSibling);},_normalizedIndex:function _normalizedIndex(e){for(var t=w(e),n=e;n.previousSibling;){3==n.nodeType&&3==n.previousSibling.nodeType&&t--,n=n.previousSibling;}return t;},remove:function remove(e){var t,n,i,o,r,a,s,l,c,d,u,h=this,f=h.start,p=h.end;for(C(e.commonAncestorContainer);!f.nextSibling&&f.parentNode;){f=f.parentNode;}for(;!p.previousSibling&&p.parentNode;){p=p.parentNode;}if(t=f.previousSibling&&3==f.previousSibling.nodeType&&f.nextSibling&&3==f.nextSibling.nodeType,n=p.previousSibling&&3==p.previousSibling.nodeType&&p.nextSibling&&3==p.nextSibling.nodeType,i=t&&n,f=f.nextSibling,p=p.previousSibling,o=!1,r=!1,f==h.end&&(r=!!h.start.previousSibling,f=p=h.start.previousSibling||h.end.nextSibling,o=!0),b.remove(h.start),b.remove(h.end),!f||!p)return e.selectNodeContents(e.commonAncestorContainer),void e.collapse(!0);if(a=o?y(f)?f.nodeValue.length:f.childNodes.length:0,s=y(p)?p.nodeValue.length:p.childNodes.length,3==f.nodeType)for(;f.previousSibling&&3==f.previousSibling.nodeType;){f=f.previousSibling,a+=f.nodeValue.length;}if(3==p.nodeType)for(;p.previousSibling&&3==p.previousSibling.nodeType;){p=p.previousSibling,s+=p.nodeValue.length;}l=f.parentNode,c=p.parentNode,d=this._normalizedIndex(f),u=this._normalizedIndex(p),C(l),3==f.nodeType&&(f=l.childNodes[d]),C(c),3==p.nodeType&&(p=c.childNodes[u]),o?(3==f.nodeType?e.setStart(f,a):e[r?"setStartAfter":"setStartBefore"](f),e.collapse(!0)):(3==f.nodeType?e.setStart(f,a):e.setStartBefore(f),3==p.nodeType?e.setEnd(p,s):e.setEndAfter(p)),h.caret&&h.removeCaret(e);}}),h=/[\u0009-\u000d]|\u0020|\u00a0|\ufeff|\.|,|;|:|!|\(|\)|\?/,f={nodes:function nodes(e){var t=f.textNodes(e);return t.length||(e.selectNodeContents(e.commonAncestorContainer),t=f.textNodes(e),t.length||(t=b.significantChildNodes(e.commonAncestorContainer))),t;},textNodes:function textNodes(e){return new c(e).enumerate();},documentFromRange:function documentFromRange(e){var t=e.startContainer;return 9==t.nodeType?t:t.ownerDocument;},createRange:function createRange(e){return _.msie&&9>_.version?new T(e):e.createRange();},selectRange:function selectRange(e){var t,n=f.image(e);n&&(e.setStartAfter(n),e.setEndAfter(n)),t=S.selectionFromRange(e),t.removeAllRanges(),t.addRange(e);},stringify:function stringify(e){return p.format("{0}:{1} - {2}:{3}",b.name(e.startContainer),e.startOffset,b.name(e.endContainer),e.endOffset);},split:function split(e,t,n){function i(i){var o,r=e.cloneRange();r.collapse(i),r[i?"setStartBefore":"setEndAfter"](t),o=r.extractContents(),n&&(o=b.trim(o)),b[i?"insertBefore":"insertAfter"](o,t);}i(!0),i(!1);},mapAll:function mapAll(t,n){var i=[];return new s(t).traverse(function(t){var o=n(t);o&&e.inArray(o,i)<0&&i.push(o);}),i;},getAll:function getAll(e,t){var n=t;return"string"==typeof t&&(t=function t(e){return b.is(e,n);}),f.mapAll(e,function(e){return t(e)?e:void 0;});},getMarkers:function getMarkers(e){return f.getAll(e,function(e){return"k-marker"==e.className;});},image:function image(e){var t=f.getAll(e,"img");return 1==t.length?t[0]:void 0;},isStartOf:function isStartOf(e,t){var n,i,o;if(0!==e.startOffset)return!1;for(n=e.cloneRange();0===n.startOffset&&n.startContainer!=t;){for(i=b.findNodeIndex(n.startContainer),o=n.startContainer.parentNode;i>0&&o[i-1]&&b.insignificant(o[i-1]);){i--;}n.setStart(o,i);}return 0===n.startOffset&&n.startContainer==t;},isEndOf:function isEndOf(e,t){function n(e){b.insignificant(e)||o.push(e);}var i,o,r=e.cloneRange();return r.collapse(!1),i=r.startContainer,b.isDataNode(i)&&r.startOffset==b.getNodeLength(i)&&(r.setStart(i.parentNode,b.findNodeIndex(i)+1),r.collapse(!0)),r.setEnd(t,b.getNodeLength(t)),o=[],new s(r).traverse(n),!o.length;},wrapSelectedElements:function wrapSelectedElements(e){function t(e,t){var n,i=b.getNodeLength(t);if(e==i)return!0;for(n=e;i>n;n++){if(!b.insignificant(t.childNodes[n]))return!1;}return!0;}for(var n=b.editableParent(e.startContainer),i=b.editableParent(e.endContainer);0===e.startOffset&&e.startContainer!=n;){e.setStart(e.startContainer.parentNode,b.findNodeIndex(e.startContainer));}for(;t(e.endOffset,e.endContainer)&&e.endContainer!=i;){e.setEnd(e.endContainer.parentNode,b.findNodeIndex(e.endContainer)+1);}return e;},expand:function expand(e){var t,n,i,o,r=e.cloneRange(),a=r.startContainer.childNodes[0===r.startOffset?0:r.startOffset-1],s=r.endContainer.childNodes[r.endOffset];return y(a)&&y(s)?(t=a.nodeValue,n=s.nodeValue,t&&n?(i=t.split("").reverse().join("").search(h),o=n.search(h),i&&o?(o=-1==o?n.length:o,i=-1==i?0:t.length-i,r.setStart(a,i),r.setEnd(s,o),r):r):r):r;},isExpandable:function isExpandable(e){var t,n,i,o,r,a,s=e.startContainer,l=f.documentFromRange(e);return s==l||s==l.body?!1:(t=e.cloneRange(),(n=s.nodeValue)?(i=n.substring(0,t.startOffset),o=n.substring(t.startOffset),r=0,a=0,i&&(r=i.split("").reverse().join("").search(h)),o&&(a=o.search(h)),r&&a):!1);}},g(v,{SelectionUtils:S,W3CRange:T,RangeIterator:s,W3CSelection:l,RangeEnumerator:c,RestorePoint:d,Marker:u,RangeUtils:f});}(window.kendo.jQuery);},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("editor/system.min",["editor/range.min"],e);}(function(){!function(e){function t(e,t){var n=e.selectionRestorePoint=new d(e.getRange()),i=new p(t,n);return i.editor=e,e.undoRedoStack.push(i),n;}var n=window.kendo,i=n.Class,o=n.ui.editor,r=o.EditorUtils,a=r.registerTool,s=o.Dom,l=o.Tool,c=o.ToolTemplate,d=o.RestorePoint,u=o.Marker,h=e.extend,f=i.extend({init:function init(e){this.options=e,this.restorePoint=new d(e.range),this.marker=new u(),this.formatter=e.formatter;},getRange:function getRange(){return this.restorePoint.toRange();},lockRange:function lockRange(e){return this.marker.add(this.getRange(),e);},releaseRange:function releaseRange(e){this.marker.remove(e),this.editor.selectRange(e);},undo:function undo(){var e=this.restorePoint;e.restoreHtml(),this.editor.selectRange(e.toRange());},redo:function redo(){this.exec();},createDialog:function createDialog(t,i){var o=this.editor;return e(t).appendTo(document.body).kendoWindow(h({},o.options.dialogOptions,i)).closest(".k-window").toggleClass("k-rtl",n.support.isRtl(o.wrapper)).end();},exec:function exec(){var e=this.lockRange(!0);this.formatter.editor=this.editor,this.formatter.toggle(e),this.releaseRange(e);}}),p=i.extend({init:function init(e,t){this.body=e.body,this.startRestorePoint=e,this.endRestorePoint=t;},redo:function redo(){this.body.innerHTML=this.endRestorePoint.html,this.editor.selectRange(this.endRestorePoint.toRange());},undo:function undo(){this.body.innerHTML=this.startRestorePoint.html,this.editor.selectRange(this.startRestorePoint.toRange());}}),m=f.extend({init:function init(e){f.fn.init.call(this,e),this.managesUndoRedo=!0;},exec:function exec(){var e,t=this.editor,n=this.options,i=n.range,o=t.body,r=new d(i,o),a=n.html||n.value||"";t.selectRange(i),t.clipboard.paste(a,n),n.postProcess&&n.postProcess(t,t.getRange()),e=new p(r,new d(t.getRange(),o)),e.editor=t,t.undoRedoStack.push(e),t.focus();}}),g=l.extend({initialize:function initialize(e,t){var n=t.editor,i=this.options,r=i.items?i.items:n.options.insertHtml;this._selectBox=new o.SelectBox(e,{dataSource:r,dataTextField:"text",dataValueField:"value",change:function change(){l.exec(n,"insertHtml",this.value());},title:n.options.messages.insertHtml,highlightFirst:!1});},command:function command(e){return new m(e);},update:function update(e){var t=e.data("kendoSelectBox")||e.find("select").data("kendoSelectBox");t.close(),t.value(t.options.title);}}),v=i.extend({init:function init(e){this.editor=e;},keydown:function keydown(n){var i,o=this,r=o.editor,a=r.keyboard,s=a.isTypingKey(n),l=h(e.Event(),n);return o.editor.trigger("keydown",l),l.isDefaultPrevented()?(n.preventDefault(),!0):l.isDefaultPrevented()||!s||a.isTypingInProgress()?!1:(i=r.getRange(),o.startRestorePoint=new d(i),a.startTyping(function(){o.endRestorePoint=t(r,o.startRestorePoint);}),!0);},keyup:function keyup(e){var t=this.editor.keyboard;return this.editor.trigger("keyup",e),t.isTypingInProgress()?(t.endTyping(),!0):!1;}}),_=i.extend({init:function init(e){this.editor=e;},_addCaret:function _addCaret(e){var t=s.create(this.editor.document,"a");return s.insertAt(e,t,0),t;},_restoreCaret:function _restoreCaret(e){var t=this.editor.createRange();t.setStartAfter(e),t.collapse(!0),this.editor.selectRange(t),s.remove(e);},_handleDelete:function _handleDelete(e){var t,n,i=e.endContainer,r=s.closestEditableOfType(i,s.blockElements);return r&&o.RangeUtils.isEndOf(e,r)?(t=s.next(r),t&&"p"==s.name(t)?(n=this._addCaret(t),this._merge(r,t),this._restoreCaret(n),!0):!1):!1;},_cleanBomBefore:function _cleanBomBefore(e){for(var t=e.startOffset,n=e.startContainer,i=n.nodeValue,o=0;t-o>=0&&"\uFEFF"==i[t-o-1];){o++;}o>0&&(n.deleteData(t-o,o),e.setStart(n,Math.max(0,t-o)),e.collapse(!0),this.editor.selectRange(e));},_handleBackspace:function _handleBackspace(e){var t,n,i,r,a=e.startContainer,l=s.closestEditableOfType(a,["li"]),c=s.closestEditableOfType(a,"p,h1,h2,h3,h4,h5,h6".split(","));return s.isDataNode(a)&&this._cleanBomBefore(e),c&&c.previousSibling&&o.RangeUtils.isStartOf(e,c)?(t=c.previousSibling,n=this._addCaret(c),this._merge(t,c),this._restoreCaret(n),!0):l&&o.RangeUtils.isStartOf(e,l)?(i=l.firstChild,i||(l.innerHTML=o.emptyElementContent,i=l.firstChild),r=new o.ListFormatter(s.name(l.parentNode),"p"),e.selectNodeContents(l),r.toggle(e),s.insignificant(i)?e.setStartBefore(i):e.setStart(i,0),this.editor.selectRange(e),!0):!1;},_handleSelection:function _handleSelection(t){var n,i,r,a=t.commonAncestorContainer,l=s.closest(a,"table"),c=o.emptyElementContent;return /t(able|body)/i.test(s.name(a))&&t.selectNode(l),n=new u(),n.add(t,!1),t.setStartAfter(n.start),t.setEndBefore(n.end),i=t.startContainer,r=t.endContainer,t.deleteContents(),l&&""===e(l).text()&&(t.selectNode(l),t.deleteContents()),a=t.commonAncestorContainer,"p"===s.name(a)&&""===a.innerHTML&&(a.innerHTML=c,t.setStart(a,0)),this._join(i,r),s.insertAfter(this.editor.document.createTextNode("\uFEFF"),n.start),n.remove(t),i=t.startContainer,"tr"==s.name(i)&&(i=i.childNodes[Math.max(0,t.startOffset-1)],t.setStart(i,s.getNodeLength(i))),t.collapse(!0),this.editor.selectRange(t),!0;},_root:function _root(e){for(;e&&e.parentNode&&"body"!=s.name(e.parentNode);){e=e.parentNode;}return e;},_join:function _join(e,t){e=this._root(e),t=this._root(t),e!=t&&s.is(t,"p")&&this._merge(e,t);},_merge:function _merge(e,t){for(s.removeTrailingBreak(e);t.firstChild;){1==e.nodeType?e.appendChild(t.firstChild):e.parentNode.appendChild(t.firstChild);}s.remove(t);},keydown:function keydown(e){var i,o,r=this.editor.getRange(),a=e.keyCode,s=n.keys,l=a===s.BACKSPACE,c=a==s.DELETE;!l&&!c||r.collapsed?l?i="_handleBackspace":c&&(i="_handleDelete"):i="_handleSelection",i&&(o=new d(r),this[i](r)&&(e.preventDefault(),t(this.editor,o)));},keyup:e.noop}),b=i.extend({init:function init(e){this.editor=e,this.systemCommandIsInProgress=!1;},createUndoCommand:function createUndoCommand(){this.startRestorePoint=this.endRestorePoint=t(this.editor,this.startRestorePoint);},changed:function changed(){return this.startRestorePoint?this.startRestorePoint.html!=this.editor.body.innerHTML:!1;},keydown:function keydown(e){var t=this,n=t.editor,i=n.keyboard;return i.isModifierKey(e)?(i.isTypingInProgress()&&i.endTyping(!0),t.startRestorePoint=new d(n.getRange()),!0):i.isSystem(e)?(t.systemCommandIsInProgress=!0,t.changed()&&(t.systemCommandIsInProgress=!1,t.createUndoCommand()),!0):!1;},keyup:function keyup(){var e=this;return e.systemCommandIsInProgress&&e.changed()?(e.systemCommandIsInProgress=!1,e.createUndoCommand(),!0):!1;}}),w=i.extend({init:function init(e){this.handlers=e,this.typingInProgress=!1;},isCharacter:function isCharacter(e){return e>=48&&90>=e||e>=96&&111>=e||e>=186&&192>=e||e>=219&&222>=e||229==e;},toolFromShortcut:function toolFromShortcut(t,n){var i,o,r=String.fromCharCode(n.keyCode);for(i in t){if(o=e.extend({ctrl:!1,alt:!1,shift:!1},t[i].options),(o.key==r||o.key==n.keyCode)&&o.ctrl==n.ctrlKey&&o.alt==n.altKey&&o.shift==n.shiftKey)return i;}},toolsFromShortcut:function toolsFromShortcut(t,n){var i,o,r,a=String.fromCharCode(n.keyCode),s=[],l=function l(e){return e==a||e==n.keyCode;};for(i in t){o=e.extend({ctrl:!1,alt:!1,shift:!1},t[i].options),r=e.isArray(o.key)?e.grep(o.key,l).length>0:l(o.key),r&&o.ctrl==n.ctrlKey&&o.alt==n.altKey&&o.shift==n.shiftKey&&s.push(t[i]);}return s;},isTypingKey:function isTypingKey(e){var t=e.keyCode;return this.isCharacter(t)&&!e.ctrlKey&&!e.altKey||32==t||13==t||8==t||46==t&&!e.shiftKey&&!e.ctrlKey&&!e.altKey;},isModifierKey:function isModifierKey(e){var t=e.keyCode;return 17==t&&!e.shiftKey&&!e.altKey||16==t&&!e.ctrlKey&&!e.altKey||18==t&&!e.ctrlKey&&!e.shiftKey;},isSystem:function isSystem(e){return 46==e.keyCode&&e.ctrlKey&&!e.altKey&&!e.shiftKey;},startTyping:function startTyping(e){this.onEndTyping=e,this.typingInProgress=!0;},stopTyping:function stopTyping(){this.typingInProgress&&this.onEndTyping&&this.onEndTyping(),this.typingInProgress=!1;},endTyping:function endTyping(t){var n=this;n.clearTimeout(),t?n.stopTyping():n.timeout=window.setTimeout(e.proxy(n.stopTyping,n),1e3);},isTypingInProgress:function isTypingInProgress(){return this.typingInProgress;},clearTimeout:function clearTimeout(){window.clearTimeout(this.timeout);},notify:function notify(e,t){var n,i=this.handlers;for(n=0;i.length>n&&!i[n][t](e);n++){}},keydown:function keydown(e){this.notify(e,"keydown");},keyup:function keyup(e){this.notify(e,"keyup");}}),y=i.extend({init:function init(e){this.editor=e;var t=e.options.pasteCleanup;this.cleaners=[new x(t),new C(t),new S(t),new T(t),new A(t),new E(t),new M(t),new P(t)];},htmlToFragment:function htmlToFragment(e){var t=this.editor,n=t.document,i=s.create(n,"div"),o=n.createDocumentFragment();for(i.innerHTML=e;i.firstChild;){o.appendChild(i.firstChild);}return o;},isBlock:function isBlock(e){return /<(div|p|ul|ol|table|h[1-6])/i.test(e);},_startModification:function _startModification(){var e,t,n=this.editor;if(!this._inProgress)return this._inProgress=!0,e=n.getRange(),t=new d(e),s.persistScrollTop(n.document),{range:e,restorePoint:t};},_endModification:function _endModification(e){t(this.editor,e.restorePoint),this.editor._selectionChange(),this._inProgress=!1;},_contentModification:function _contentModification(e,t){var n=this,i=n.editor,o=n._startModification();o&&(e.call(n,i,o.range),setTimeout(function(){t.call(n,i,o.range),n._endModification(o);}));},_removeBomNodes:function _removeBomNodes(e){var t,n=o.RangeUtils.textNodes(e);for(t=0;n.length>t;t++){n[t].nodeValue=s.stripBom(n[t].nodeValue);}},_onBeforeCopy:function _onBeforeCopy(e){var t=new u();t.add(e),this._removeBomNodes(e),t.remove(e),this.editor.selectRange(e);},oncopy:function oncopy(){this._onBeforeCopy(this.editor.getRange());},oncut:function oncut(){this._onBeforeCopy(this.editor.getRange()),this._contentModification(e.noop,e.noop);},_fileToDataURL:function _fileToDataURL(t){var n=e.Deferred(),i=new FileReader();return t instanceof window.File||!t.getAsFile||(t=t.getAsFile()),i.onload=e.proxy(n.resolve,n),i.readAsDataURL(t),n.promise();},_triggerPaste:function _triggerPaste(e,t){var n={html:e||""};n.html=n.html.replace(/\ufeff/g,""),this.editor.trigger("paste",n),this.paste(n.html,t||{});},_handleImagePaste:function _handleImagePaste(t){var n,i,o,r,a;if("FileReader"in window&&(n=t.clipboardData||t.originalEvent.clipboardData||window.clipboardData||{},i=n.items||n.files,i&&(o=e.grep(i,function(e){return /^image\//i.test(e.type);}),r=e.grep(i,function(e){return /^text\/html/i.test(e.type);}),!r.length&&o.length&&(a=this._startModification()))))return e.when.apply(e,e.map(o,this._fileToDataURL)).done(e.proxy(function(){var t=Array.prototype.slice.call(arguments),n=e.map(t,function(e){return'<img src="'+e.target.result+'" />';}).join("");this._triggerPaste(n),this._endModification(a);},this)),!0;},onpaste:function onpaste(t){return this._handleImagePaste(t)?void t.preventDefault():void this._contentModification(function(i,o){var r,a,l,c=s.create(i.document,"div",{className:"k-paste-container",innerHTML:"\uFEFF"}),d=n.support.browser;i.body.appendChild(c),d.msie&&11>d.version?(t.preventDefault(),r=i.createRange(),r.selectNodeContents(c),i.selectRange(r),a=i.document.body.createTextRange(),a.moveToElementText(c),e(i.body).unbind("paste"),a.execCommand("Paste"),e(i.body).bind("paste",e.proxy(this.onpaste,this))):(l=i.createRange(),l.selectNodeContents(c),i.selectRange(l)),o.deleteContents();},function(t,n){var i,o="";t.selectRange(n),i=e(t.body).children(".k-paste-container"),i.each(function(){var e=this.lastChild;e&&s.is(e,"br")&&s.remove(e),o+=this.innerHTML;}),i.remove(),this._triggerPaste(o,{clean:!0});});},splittableParent:function splittableParent(e,t){var n,i;if(e)return s.closestEditableOfType(t,["p","ul","ol"])||t.parentNode;if(n=t.parentNode,i=t.ownerDocument.body,s.isInline(n))for(;n.parentNode!=i&&!s.isBlock(n.parentNode);){n=n.parentNode;}return n;},paste:function paste(t,n){var i,r,a,l,c,d,f,p,m,g,v,_,b=this.editor;for(n=h({clean:!1,split:!0},n),i=0,r=this.cleaners.length;r>i;i++){this.cleaners[i].applicable(t)&&(t=this.cleaners[i].clean(t));}if(n.clean&&(t=t.replace(/(<br>(\s|&nbsp;)*)+(<\/?(div|p|li|col|t))/gi,"$3"),t=t.replace(/<(a|span)[^>]*><\/\1>/gi,"")),t=t.replace(/^<li/i,"<ul><li").replace(/li>$/g,"li></ul>"),a=this.isBlock(t),b.focus(),l=b.getRange(),l.deleteContents(),l.startContainer==b.document&&l.selectNodeContents(b.body),c=new u(),d=c.addCaret(l),f=this.splittableParent(a,d),p=!1,m=f!=b.body&&!s.is(f,"td"),n.split&&m&&(a||s.isInline(f))&&(l.selectNode(d),o.RangeUtils.split(l,f,!0),p=!0),g=this.htmlToFragment(t),g.firstChild&&"k-paste-container"===g.firstChild.className){for(v=[],i=0,r=g.childNodes.length;r>i;i++){v.push(g.childNodes[i].innerHTML);}g=this.htmlToFragment(v.join("<br />"));}if(e(g.childNodes).filter("table").addClass("k-table").end().find("table").addClass("k-table"),l.insertNode(g),f=this.splittableParent(a,d),p){for(;d.parentNode!=f;){s.unwrap(d.parentNode);}s.unwrap(d.parentNode);}s.normalize(l.commonAncestorContainer),d.style.display="inline",s.restoreScrollTop(b.document),s.scrollTo(d),c.removeCaret(l),_=l.commonAncestorContainer.parentNode,l.collapsed&&"tbody"==s.name(_)&&(l.setStartAfter(e(_).closest("table")[0]),l.collapse(!0)),b.selectRange(l);}}),k=i.extend({init:function init(e){this.options=e||{},this.replacements=[];},clean:function clean(e,t){var n,i,o=this,r=t||o.replacements;for(n=0,i=r.length;i>n;n+=2){e=e.replace(r[n],r[n+1]);}return e;}}),x=k.extend({init:function init(e){k.fn.init.call(this,e),this.replacements=[/<(\/?)script([^>]*)>/i,"<$1telerik:script$2>"];},applicable:function applicable(e){return!this.options.none&&/<script[^>]*>/i.test(e);}}),C=k.extend({init:function init(e){k.fn.init.call(this,e);var t=" ";this.replacements=[/<span\s+class="Apple-tab-span"[^>]*>\s*<\/span>/gi,t,/\t/gi,t,/&nbsp;&nbsp; &nbsp;/gi,t];},applicable:function applicable(e){return /&nbsp;&nbsp; &nbsp;|class="?Apple-tab-span/i.test(e);}}),S=k.extend({init:function init(e){k.fn.init.call(this,e),this.junkReplacements=[/<\?xml[^>]*>/gi,"",/<!--(.|\n)*?-->/g,"",/&quot;/g,"'",/<o:p>&nbsp;<\/o:p>/gi,"&nbsp;",/<\/?(meta|link|style|o:|v:|x:)[^>]*>((?:.|\n)*?<\/(meta|link|style|o:|v:|x:)[^>]*>)?/gi,"",/<\/o>/g,""],this.replacements=this.junkReplacements.concat([/(?:<br>&nbsp;[\s\r\n]+|<br>)*(<\/?(h[1-6]|hr|p|div|table|tbody|thead|tfoot|th|tr|td|li|ol|ul|caption|address|pre|form|blockquote|dl|dt|dd|dir|fieldset)[^>]*>)(?:<br>&nbsp;[\s\r\n]+|<br>)*/g,"$1",/<br><br>/g,"<BR><BR>",/<br>(?!\n)/g," ",/<table([^>]*)>(\s|&nbsp;)+<t/gi,"<table$1><t",/<tr[^>]*>(\s|&nbsp;)*<\/tr>/gi,"",/<tbody[^>]*>(\s|&nbsp;)*<\/tbody>/gi,"",/<table[^>]*>(\s|&nbsp;)*<\/table>/gi,"",/<BR><BR>/g,"<br>",/^\s*(&nbsp;)+/gi,"",/(&nbsp;|<br[^>]*>)+\s*$/gi,"",/mso-[^;"]*;?/gi,"",/<(\/?)b(\s[^>]*)?>/gi,"<$1strong$2>",/<(\/?)font(\s[^>]*)?>/gi,this.convertFontMatch,/<(\/?)i(\s[^>]*)?>/gi,"<$1em$2>",/style=(["|'])\s*\1/g,"",/(<br[^>]*>)?\n/g,function(e,t){return t?e:" ";}]);},convertFontMatch:function convertFontMatch(e,t,n){var i=/face=['"]([^'"]+)['"]/i,o=i.exec(n),r=n&&o&&o[1];return t?"</span>":r?'<span style="font-family:'+r+'">':"<span>";},applicable:function applicable(e){return /class="?Mso/i.test(e)||/style="[^"]*mso-/i.test(e)||/urn:schemas-microsoft-com:office/.test(e);},stripEmptyAnchors:function stripEmptyAnchors(e){return e.replace(/<a([^>]*)>\s*<\/a>/gi,function(e,t){return!t||t.indexOf("href")<0?"":e;});},listType:function listType(e,t){var n,i=e.innerHTML,o=s.innerText(e),r=i.match(/^(?:<span [^>]*texhtml[^>]*>)?<span [^>]*(?:Symbol|Wingdings)[^>]*>([^<]+)/i),a=r&&r[1],l=/^[a-z\d]/i.test(a),c=function c(e){return e.replace(/^(?:&nbsp;|[\u00a0\n\r\s])+/,"");};return r&&(n=!0),i=i.replace(/<\/?\w+[^>]*>/g,"").replace(/&nbsp;/g,""),!n&&/^[\u2022\u00b7\u00a7\u00d8o]\u00a0+/.test(i)||n&&/^.\u00a0+/.test(i)||a&&!l&&t?{tag:"ul",style:this._guessUnorderedListStyle(c(o))}:/^\s*\w+[\.\)][\u00a0 ]{2,}/.test(i)?{tag:"ol",style:this._guessOrderedListStyle(c(o))}:void 0;},_convertToLi:function _convertToLi(e){var t;return 1==e.childNodes.length?t=e.firstChild.innerHTML.replace(/^\w+[\.\)](&nbsp;)+ /,""):(s.remove(e.firstChild),3==e.firstChild.nodeType&&/^[ivxlcdm]+\.$/i.test(e.firstChild.nodeValue)&&s.remove(e.firstChild),/^(&nbsp;|\s)+$/i.test(e.firstChild.innerHTML)&&s.remove(e.firstChild),t=e.innerHTML),s.remove(e),s.create(document,"li",{innerHTML:t});},_guessUnorderedListStyle:function _guessUnorderedListStyle(e){return /^[\u2022\u00b7\u00FC\u00D8\u002dv-]/.test(e)?null:/^o/.test(e)?"circle":"square";},_guessOrderedListStyle:function _guessOrderedListStyle(e){var t=null;return /^\d/.test(e)||(t=(/^[a-z]/.test(e)?"lower-":"upper-")+(/^[ivxlcdm]/i.test(e)?"roman":"alpha")),t;},extractListLevels:function extractListLevels(e){var t=/style=['"]?[^'"]*?mso-list:\s?[a-zA-Z]+(\d+)\s[a-zA-Z]+(\d+)\s(\w+)/gi;return e=e.replace(t,function(e,t,i){return n.format('data-list="{0}" data-level="{1}" {2}',t,i,e);});},lists:function lists(t){var n,i,o,r,a,l,c,d,u,h,f,p,m=e(t).find(s.blockElements.join(",")),g=-1,v={},_=t;for(r=0;m.length>r;r++){a=m[r],u=e(a).data(),h=u.list,n=s.name(a),"td"!=n&&(f=this.listType(a,u),l=f&&f.tag,l&&"p"==n?(c=parseFloat(a.style.marginLeft||0),void 0===i&&(i=c),p=l+h,v[c]||(v[c]={}),d=v[c][p],(c>g||!d)&&(d=s.create(document,l,{style:{listStyleType:f.style}}),_==t||g>=c?(o&&i!==c?o.appendChild(d):s.insertBefore(d,a),v[c]={}):(o=_,_.appendChild(d)),v[c][p]=d),_=this._convertToLi(a),d.appendChild(_),g=c):a.innerHTML?(g=-1,_=t):s.remove(a));}},removeAttributes:function removeAttributes(e){for(var t=e.attributes,n=t.length;n--;){"colspan"!=s.name(t[n])&&e.removeAttributeNode(t[n]);}},createColGroup:function createColGroup(t){var i=t.cells,o=e(t).closest("table"),r=o.children("colgroup");2>i.length||(r.length&&(i=r.children(),r[0].parentNode.removeChild(r[0])),r=e(e.map(i,function(e){var t=e.width;return t&&0!==parseInt(t,10)?n.format('<col style="width:{0}px;"/>',t):"<col />";}).join("")),r.is("colgroup")||(r=e("<colgroup/>").append(r)),r.prependTo(o));},convertHeaders:function convertHeaders(t){var n,i=t.cells,o=e.map(i,function(t){var n=e(t).children("p").children("strong")[0];return n&&"strong"==s.name(n)?n:void 0;});if(o.length==i.length){for(n=0;o.length>n;n++){s.unwrap(o[n]);}for(e(t).closest("table").find("colgroup").after("<thead></thead>").end().find("thead").append(t),n=0;i.length>n;n++){s.changeTag(i[n],"th");}}},removeParagraphs:function removeParagraphs(t){var n,i,o,r,a;for(n=0;t.length>n;n++){for(this.removeAttributes(t[n]),r=e(t[n]),a=r.children("p"),i=0,o=a.length;o>i;i++){o-1>i&&s.insertAfter(s.create(document,"br"),a[i]),s.unwrap(a[i]);}}},removeDefaultColors:function removeDefaultColors(e){for(var t=0;e.length>t;t++){/^\s*color:\s*[^;]*;?$/i.test(e[t].style.cssText)&&s.unwrap(e[t]);}},tables:function tables(t){var n,i,o,r,a,s=e(t).find("table"),l=this;for(r=0;s.length>r;r++){for(n=s[r].rows,o=i=n[0],a=1;n.length>a;a++){n[a].cells.length>o.cells.length&&(o=n[a]);}l.createColGroup(o),l.convertHeaders(i),l.removeAttributes(s[r]),l.removeParagraphs(s.eq(r).find("td,th")),l.removeDefaultColors(s.eq(r).find("span"));}},headers:function headers(t){var n,i=e(t).find("p.MsoTitle");for(n=0;i.length>n;n++){s.changeTag(i[n],"h1");}},removeFormatting:function removeFormatting(t){e(t).find("*").each(function(){e(this).css({fontSize:"",fontFamily:""}),this.getAttribute("style")||this.style.cssText||this.removeAttribute("style");});},clean:function clean(e){var t,n=this,i=this.options;return i.none?(e=k.fn.clean.call(n,e,this.junkReplacements),e=n.stripEmptyAnchors(e)):(e=this.extractListLevels(e),e=k.fn.clean.call(n,e),e=n.stripEmptyAnchors(e),t=s.create(document,"div",{innerHTML:e}),n.headers(t),i.msConvertLists&&n.lists(t),n.tables(t),i.msAllFormatting&&n.removeFormatting(t),e=t.innerHTML.replace(/(<[^>]*)\s+class="?[^"\s>]*"?/gi,"$1")),e;}}),T=k.extend({init:function init(e){k.fn.init.call(this,e),this.replacements=[/\s+class="Apple-style-span[^"]*"/gi,"",/<(div|p|h[1-6])\s+style="[^"]*"/gi,"<$1",/^<div>(.*)<\/div>$/,"$1"];},applicable:function applicable(e){return /class="?Apple-style-span|style="[^"]*-webkit-nbsp-mode/i.test(e);}}),D=k.extend({clean:function clean(e){var t=s.create(document,"div",{innerHTML:e});return t=this.cleanDom(t),t.innerHTML;},cleanDom:function cleanDom(e){return e;}}),A=D.extend({cleanDom:function cleanDom(t){var n=this.collectTags();return e(t).find(n).each(function(){s.unwrap(this);}),t;},collectTags:function collectTags(){return this.options.span?"span":void 0;},applicable:function applicable(){return this.options.span;}}),E=D.extend({cleanDom:function cleanDom(t){var n=this.collectAttr(),i=e(t).find("["+n.join("],[")+"]");return i.removeAttr(n.join(" ")),t;},collectAttr:function collectAttr(){return this.options.css?["class","style"]:[];},applicable:function applicable(){return this.options.css;}}),R=function R(){this.text="",this.add=function(e){this.text+=e;};},I=i.extend({init:function init(e){this.separators=e||{text:" ",line:"<br/>"},this.lines=[],this.inlineBlockText=[],this.resetLine();},appendText:function appendText(e){3===e.nodeType&&(e=e.nodeValue),this.textContainer.add(e);},appendInlineBlockText:function appendInlineBlockText(e){this.inlineBlockText.push(e);},flashInlineBlockText:function flashInlineBlockText(){this.inlineBlockText.length&&(this.appendText(this.inlineBlockText.join(" ")),this.inlineBlockText=[]);},endLine:function endLine(){this.flashInlineBlockText(),this.resetLine();},html:function html(){var e,t,n,i,o,r,a,s,l=this.separators,c="",d=this.lines;for(this.flashInlineBlockText(),e=0,t=d.length,n=t-1;t>e;e++){for(i=d[e],o=0,r=i.length,a=r-1;r>o;o++){s=i[o].text,c+=s,o!==a&&(c+=l.text);}e!==n&&(c+=l.line);}return c;},resetLine:function resetLine(){this.textContainer=new R(),this.line=[],this.line.push(this.textContainer),this.lines.push(this.line);}}),F=i.extend({init:function init(e){this.callback=e;},enumerate:function enumerate(e){var t,n;e&&(t=this.callback(e),n=e.firstChild,!t&&n&&this.enumerate(n),this.enumerate(e.nextSibling));}}),M=k.extend({init:function init(t){k.fn.init.call(this,t),this.hasText=!1,this.enumerator=new F(e.proxy(this.buildText,this));},clean:function clean(e){var t=s.create(document,"div",{innerHTML:e});return this.cleanDom(t);},cleanDom:function cleanDom(e){return this.separators=this.getDefaultSeparators(),this.htmlLines=new I(this.separators),this.enumerator.enumerate(e.firstChild),this.hasText=!1,this.htmlLines.html();},buildText:function buildText(e){if(s.isDataNode(e)){if(s.isEmptyspace(e))return;this.htmlLines.appendText(e.nodeValue.replace("\n",this.separators.line)),this.hasText=!0;}else if(s.isBlock(e)&&this.hasText){var t=this.actions[s.name(e)]||this.actions.block;return t(this,e);}},applicable:function applicable(){var e=this.options;return e.all||e.keepNewLines;},getDefaultSeparators:function getDefaultSeparators(){return this.options.all?{text:" ",line:" "}:{text:" ",line:"<br/>"};},actions:{ul:e.noop,ol:e.noop,table:e.noop,thead:e.noop,tbody:e.noop,td:function td(e,t){var n=new M({all:!0}),i=n.cleanDom(t);return e.htmlLines.appendInlineBlockText(i),!0;},block:function block(e){e.htmlLines.endLine();}}}),P=k.extend({clean:function clean(e){return this.options.custom(e);},applicable:function applicable(){return"function"==typeof this.options.custom;}}),z=f.extend({init:function init(e){f.fn.init.call(this,e),this.managesUndoRedo=!0;},exec:function exec(){var e=this.editor;n.support.browser.msie?e.document.execCommand("print",!1,null):e.window.print&&e.window.print();}}),B=f.extend({init:function init(e){this.async=!0,f.fn.init.call(this,e);},exec:function exec(){var e=this,t=this.lockRange(!0);this.editor.saveAsPDF().then(function(){e.releaseRange(t);});}});h(o,{_finishUpdate:t,Command:f,GenericCommand:p,InsertHtmlCommand:m,InsertHtmlTool:g,TypingHandler:v,SystemHandler:b,BackspaceHandler:_,Keyboard:w,Clipboard:y,Cleaner:k,ScriptCleaner:x,TabCleaner:C,MSWordFormatCleaner:S,WebkitFormatCleaner:T,HtmlTagsCleaner:A,HtmlAttrCleaner:E,HtmlContentCleaner:M,HtmlTextLines:I,CustomCleaner:P,PrintCommand:z,ExportPdfCommand:B}),a("insertHtml",new g({template:new c({template:r.dropDownListTemplate,title:"Insert HTML",initialValue:"Insert HTML"})})),a("print",new l({command:z,template:new c({template:r.buttonTemplate,title:"Print"})})),a("pdf",new l({command:B,template:new c({template:r.buttonTemplate,title:"Export PDF"})}));}(window.kendo.jQuery);},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("editor/inlineformat.min",["editor/system.min"],e);}(function(){!function(e){var t=window.kendo,n=t.Class,i=t.ui.editor,o=t.ui.Editor.fn.options.formats,r=i.EditorUtils,a=i.Tool,s=i.ToolTemplate,l=i.FormatTool,c=i.Dom,d=i.RangeUtils,u=e.extend,h=i.EditorUtils.registerTool,f=i.EditorUtils.registerFormat,p="k-marker",m=n.extend({init:function init(e){this.format=e;},numberOfSiblings:function numberOfSiblings(e){var t,n=0,i=0,o=0,r=e.parentNode;for(t=r.firstChild;t;t=t.nextSibling){t!=e&&(t.className==p?o++:3==t.nodeType?n++:i++);}return o>1&&r.firstChild.className==p&&r.lastChild.className==p?0:i+n;},findSuitable:function findSuitable(e,t){var n,i;if(!t&&this.numberOfSiblings(e)>0)return null;for(n=e.parentNode,i=this.format[0].tags;!c.ofType(n,i);){if(this.numberOfSiblings(n)>0)return null;n=n.parentNode;}return n;},findFormat:function findFormat(e){var t,n,i,o,r,a=this.format,s=c.attrEquals;for(t=0,n=a.length;n>t;t++){if(i=e,o=a[t].tags,r=a[t].attr,i&&c.ofType(i,o)&&s(i,r))return i;for(;i;){if(i=c.parentOfType(i,o),i&&s(i,r))return i;}}return null;},isFormatted:function isFormatted(e){var t,n;for(t=0,n=e.length;n>t;t++){if(this.findFormat(e[t]))return!0;}return!1;}}),g=n.extend({init:function init(e,t){this.finder=new m(e),this.attributes=u({},e[0].attr,t),this.tag=e[0].tags[0];},wrap:function wrap(e){return c.wrap(e,c.create(e.ownerDocument,this.tag,this.attributes));},activate:function activate(e,t){this.finder.isFormatted(t)?(this.split(e),this.remove(t)):this.apply(t);},toggle:function toggle(e){var t=d.textNodes(e);t.length>0&&this.activate(e,t);},apply:function apply(e){var t,n,i,o,r=[];for(t=0,n=e.length;n>t;t++){if(i=e[t],o=this.finder.findSuitable(i))c.attr(o,this.attributes);else{for(;!c.isBlock(i.parentNode)&&1==i.parentNode.childNodes.length&&"true"!==i.parentNode.contentEditable;){i=i.parentNode;}o=this.wrap(i);}r.push(o);}this.consolidate(r);},remove:function remove(e){var t,n,i;for(t=0,n=e.length;n>t;t++){i=this.finder.findFormat(e[t]),i&&(this.attributes&&this.attributes.style?(c.unstyle(i,this.attributes.style),i.style.cssText||i.attributes["class"]||c.unwrap(i)):c.unwrap(i));}},split:function split(e){var t,n,i=d.textNodes(e),o=i.length;if(o>0)for(t=0;o>t;t++){n=this.finder.findFormat(i[t]),n&&d.split(e,n,!0);}},consolidate:function consolidate(e){for(var t,n;e.length>1;){if(t=e.pop(),n=e[e.length-1],t.previousSibling&&t.previousSibling.className==p&&n.appendChild(t.previousSibling),t.tagName==n.tagName&&t.previousSibling==n&&t.style.cssText==n.style.cssText){for(;t.firstChild;){n.appendChild(t.firstChild);}c.remove(t);}}}}),v=m.extend({init:function init(e,t){this.format=e,this.greedyProperty=t,m.fn.init.call(this,e);},getInlineCssValue:function getInlineCssValue(t){var n,i,o,r,a,s,l,d,u,h,f,p,m=t.attributes,g=e.trim;if(m)for(n=0,i=m.length;i>n;n++){if(o=m[n],r=o.nodeName,a=o.nodeValue,o.specified&&"style"==r)for(s=g(a||t.style.cssText).split(";"),d=0,u=s.length;u>d;d++){if(l=s[d],l.length){if(h=l.split(":"),f=g(h[0].toLowerCase()),p=g(h[1]),f!=this.greedyProperty)continue;return f.indexOf("color")>=0?c.toHex(p):p;}}}},getFormatInner:function getFormatInner(t){var n,i,o,r=e(c.isDataNode(t)?t.parentNode:t),a=r.parentsUntil("[contentEditable]").addBack().toArray().reverse();for(n=0,i=a.length;i>n;n++){if(o="className"==this.greedyProperty?a[n].className:this.getInlineCssValue(a[n]))return o;}return"inherit";},getFormat:function getFormat(e){var t,n,i=this.getFormatInner(e[0]);for(t=1,n=e.length;n>t;t++){if(i!=this.getFormatInner(e[t]))return"";}return i;},isFormatted:function isFormatted(e){return""!==this.getFormat(e);}}),_=g.extend({init:function init(e,n,i){g.fn.init.call(this,e,n),this.values=n,this.finder=new v(e,i),i&&(this.greedyProperty=t.toCamelCase(i));},activate:function activate(e,t){var n=this.greedyProperty,i="apply";this.split(e),n&&"inherit"==this.values.style[n]&&(i="remove"),this[i](t);}}),b=l.extend({init:function init(e){l.fn.init.call(this,u(e,{finder:new m(e.format),formatter:function formatter(){return new g(e.format);}}));}}),w=a.extend({update:function update(e,t){var n=e.data(this.type);n.close(),n.value(this.finder.getFormat(t));}}),y=w.extend({init:function init(e){a.fn.init.call(this,e),this.type=t.support.browser.msie||t.support.touch?"kendoDropDownList":"kendoComboBox",this.format=[{tags:["span"]}],this.finder=new v(this.format,e.cssAttr);},command:function command(e){var t=this.options,n=this.format,o={};return new i.FormatCommand(u(e,{formatter:function formatter(){return o[t.domAttr]=e.value,new _(n,{style:o},t.cssAttr);}}));},initialize:function initialize(e,t){var n,i=t.editor,o=this.options,r=o.name,s=[];o.defaultValue&&(s=[{text:i.options.messages[o.defaultValue[0].text],value:o.defaultValue[0].value}]),n=s.concat(o.items?o.items:i.options[r]||[]),e.attr({title:t.title}),e[this.type]({dataTextField:"text",dataValueField:"value",dataSource:n,change:function change(){a.exec(i,r,this.value());},highlightFirst:!1}),e.closest(".k-widget").removeClass("k-"+r).find("*").addBack().attr("unselectable","on"),e.data(this.type).value("inherit");}}),k=a.extend({init:function init(e){a.fn.init.call(this,e),this.format=[{tags:["span"]}],this.finder=new v(this.format,e.cssAttr);},options:{palette:"websafe"},update:function update(){this._widget.close();},command:function command(e){var t=this.options,n=this.format,o={};return new i.FormatCommand(u(e,{formatter:function formatter(){return o[t.domAttr]=e.value,new _(n,{style:o},t.cssAttr);}}));},initialize:function initialize(e,n){var i=n.editor,o=this.name,r=u({},k.fn.options,this.options),s=r.palette;e=this._widget=new t.ui.ColorPicker(e,{toolIcon:"k-"+r.name,palette:s,change:function change(){var t=e.value();t&&a.exec(i,o,t),i.focus();},activate:function activate(t){t.preventDefault(),e.trigger("change");}}),e.wrapper.attr({title:n.title,unselectable:"on"}).find("*").attr("unselectable","on");}});u(i,{InlineFormatFinder:m,InlineFormatter:g,DelayedExecutionTool:w,GreedyInlineFormatFinder:v,GreedyInlineFormatter:_,InlineFormatTool:b,FontTool:y,ColorTool:k}),f("bold",[{tags:["strong","b"]},{tags:["span"],attr:{style:{fontWeight:"bold"}}}]),h("bold",new b({key:"B",ctrl:!0,format:o.bold,template:new s({template:r.buttonTemplate,title:"Bold"})})),f("italic",[{tags:["em","i"]},{tags:["span"],attr:{style:{fontStyle:"italic"}}}]),h("italic",new b({key:"I",ctrl:!0,format:o.italic,template:new s({template:r.buttonTemplate,title:"Italic"})})),f("underline",[{tags:["span"],attr:{style:{textDecoration:"underline"}}},{tags:["u"]}]),h("underline",new b({key:"U",ctrl:!0,format:o.underline,template:new s({template:r.buttonTemplate,title:"Underline"})})),f("strikethrough",[{tags:["del","strike"]},{tags:["span"],attr:{style:{textDecoration:"line-through"}}}]),h("strikethrough",new b({format:o.strikethrough,template:new s({template:r.buttonTemplate,title:"Strikethrough"})})),f("superscript",[{tags:["sup"]}]),h("superscript",new b({format:o.superscript,template:new s({template:r.buttonTemplate,title:"Superscript"})})),f("subscript",[{tags:["sub"]}]),h("subscript",new b({format:o.subscript,template:new s({template:r.buttonTemplate,title:"Subscript"})})),h("foreColor",new k({cssAttr:"color",domAttr:"color",name:"foreColor",template:new s({template:r.colorPickerTemplate,title:"Color"})})),h("backColor",new k({cssAttr:"background-color",domAttr:"backgroundColor",name:"backColor",template:new s({template:r.colorPickerTemplate,title:"Background Color"})})),h("fontName",new y({cssAttr:"font-family",domAttr:"fontFamily",name:"fontName",defaultValue:[{text:"fontNameInherit",value:"inherit"}],template:new s({template:r.comboBoxTemplate,title:"Font Name"})})),h("fontSize",new y({cssAttr:"font-size",domAttr:"fontSize",name:"fontSize",defaultValue:[{text:"fontSizeInherit",value:"inherit"}],template:new s({template:r.comboBoxTemplate,title:"Font Size"})}));}(window.kendo.jQuery);},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("editor/formatblock.min",["editor/inlineformat.min"],e);}(function(){!function(e){var t,n=window.kendo,i=n.Class,o=e.extend,r=n.ui.editor,a=n.ui.Editor.fn.options.formats,s=r.Dom,l=r.Command,c=r.ToolTemplate,d=r.FormatTool,u=r.EditorUtils,h=u.registerTool,f=u.registerFormat,p=r.RangeUtils,m=i.extend({init:function init(e){this.format=e;},contains:function contains(e,t){var n,i,o;for(n=0,i=t.length;i>n;n++){if(o=t[n],!o||!s.isAncestorOrSelf(e,o))return!1;}return!0;},findSuitable:function findSuitable(t){var n,i,o,r,a=this.format,l=[];for(n=0,i=t.length;i>n;n++){for(r=a.length-1;r>=0&&!(o=s.ofType(t[n],a[r].tags)?t[n]:s.closestEditableOfType(t[n],a[r].tags));r--){}if(!o||"true"===o.contentEditable)return[];e.inArray(o,l)<0&&l.push(o);}for(n=0,i=l.length;i>n;n++){if(this.contains(l[n],l))return[l[n]];}return l;},findFormat:function findFormat(e){var t,n,i,o,r,a=this.format,l=s.editableParent(e);for(t=0,n=a.length;n>t;t++){for(i=e,o=a[t].tags,r=a[t].attr;i&&s.isAncestorOf(l,i);){if(s.ofType(i,o)&&s.attrEquals(i,r))return i;i=i.parentNode;}}return null;},getFormat:function getFormat(e){var t,n,i=this,o=function o(e){return i.findFormat(s.isDataNode(e)?e.parentNode:e);},r=o(e[0]);if(!r)return"";for(t=1,n=e.length;n>t;t++){if(r!=o(e[t]))return"";}return r.nodeName.toLowerCase();},isFormatted:function isFormatted(e){for(var t=0,n=e.length;n>t;t++){if(!this.findFormat(e[t]))return!1;}return!0;}}),g=i.extend({init:function init(e,t){this.format=e,this.values=t,this.finder=new m(e);},wrap:function wrap(e,t,n){var i,o,r,a,l,c=1==n.length?s.blockParentOrBody(n[0]):s.commonAncestor.apply(null,n);for(s.isInline(c)&&(c=s.blockParentOrBody(c)),i=s.significantChildNodes(c),o=s.findNodeIndex(i[0]),r=s.create(c.ownerDocument,e,t),a=0;i.length>a;a++){l=i[a],s.isBlock(l)?(s.attr(l,t),r.childNodes.length&&(s.insertBefore(r,l),r=r.cloneNode(!1)),o=s.findNodeIndex(l)+1):r.appendChild(l);}r.firstChild&&s.insertAt(c,r,o);},apply:function apply(t){function n(e){return o({},e&&e.attr,d);}var i,r,a,l,c,d=this.values,h=s.filter("img",t),f=u.formatByName("img",this.format),p=n(f);if(e.each(h,function(){s.attr(this,p);}),h.length!=t.length)if(r=s.filter("img",t,!0),a=this.finder.findSuitable(r),a.length)for(l=0,c=a.length;c>l;l++){i=u.formatByName(s.name(a[l]),this.format),s.attr(a[l],n(i));}else i=this.format[0],this.wrap(i.tags[0],n(i),r);},remove:function remove(e){var t,n,i,o,r;for(t=0,n=e.length;n>t;t++){i=this.finder.findFormat(e[t]),i&&(r=s.name(i),"div"!=r||i.getAttribute("class")?(o=u.formatByName(r,this.format),o.attr.style&&s.unstyle(i,o.attr.style),o.attr.className&&s.removeClass(i,o.attr.className)):s.unwrap(i));}},toggle:function toggle(e){var t=this,n=p.nodes(e);t.finder.isFormatted(n)?t.remove(n):t.apply(n);}}),v=i.extend({init:function init(e,t){var n=this;n.format=e,n.values=t,n.finder=new m(e);},apply:function apply(e){var t,n,i,o,a,l,c,d=this.format,u=s.blockParents(e),h=d[0].tags[0];if(u.length)for(t=0,n=u.length;n>t;t++){c=s.name(u[t]),"li"==c?(i=u[t].parentNode,o=new r.ListFormatter(i.nodeName.toLowerCase(),h),a=this.editor.createRange(),a.selectNode(u[t]),o.toggle(a)):h&&("td"==c||u[t].attributes.contentEditable)?new g(d,this.values).apply(u[t].childNodes):(l=s.changeTag(u[t],h),s.attr(l,d[0].attr));}else new g(d,this.values).apply(e);},toggle:function toggle(e){var t=p.textNodes(e);t.length||(e.selectNodeContents(e.commonAncestorContainer),t=p.textNodes(e),t.length||(t=s.significantChildNodes(e.commonAncestorContainer))),this.apply(t);}}),_=l.extend({init:function init(e){e.formatter=e.formatter(),l.fn.init.call(this,e);}}),b=d.extend({init:function init(e){d.fn.init.call(this,o(e,{finder:new m(e.format),formatter:function formatter(){return new g(e.format);}}));}});o(r,{BlockFormatFinder:m,BlockFormatter:g,GreedyBlockFormatter:v,FormatCommand:_,BlockFormatTool:b}),t=["ul","ol","li"],f("justifyLeft",[{tags:s.nonListBlockElements,attr:{style:{textAlign:"left"}}},{tags:["img"],attr:{style:{"float":"left",display:"",marginLeft:"",marginRight:""}}},{tags:t,attr:{style:{textAlign:"left",listStylePosition:""}}}]),h("justifyLeft",new b({format:a.justifyLeft,template:new c({template:u.buttonTemplate,title:"Justify Left"})})),f("justifyCenter",[{tags:s.nonListBlockElements,attr:{style:{textAlign:"center"}}},{tags:["img"],attr:{style:{display:"block",marginLeft:"auto",marginRight:"auto","float":""}}},{tags:t,attr:{style:{textAlign:"center",listStylePosition:"inside"}}}]),h("justifyCenter",new b({format:a.justifyCenter,template:new c({template:u.buttonTemplate,title:"Justify Center"})})),f("justifyRight",[{tags:s.nonListBlockElements,attr:{style:{textAlign:"right"}}},{tags:["img"],attr:{style:{"float":"right",display:"",marginLeft:"",marginRight:""}}},{tags:t,attr:{style:{textAlign:"right",listStylePosition:"inside"}}}]),h("justifyRight",new b({format:a.justifyRight,template:new c({template:u.buttonTemplate,title:"Justify Right"})})),f("justifyFull",[{tags:s.nonListBlockElements,attr:{style:{textAlign:"justify"}}},{tags:["img"],attr:{style:{display:"block",marginLeft:"auto",marginRight:"auto","float":""}}},{tags:t,attr:{style:{textAlign:"justify",listStylePosition:""}}}]),h("justifyFull",new b({format:a.justifyFull,template:new c({template:u.buttonTemplate,title:"Justify Full"})}));}(window.kendo.jQuery);},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("editor/linebreak.min",["editor/formatblock.min"],e);}(function(){!function(e){var t=window.kendo,n=e.extend,i=t.ui.editor,o=i.Dom,r=i.Command,a=i.Tool,s=i.BlockFormatter,l=o.normalize,c=i.RangeUtils,d=i.EditorUtils.registerTool,u=r.extend({init:function init(e){this.options=e,r.fn.init.call(this,e);},_insertMarker:function _insertMarker(e,t){var n,i=o.create(e,"a");return i.className="k-marker",t.insertNode(i),i.parentNode||(n=t.commonAncestorContainer,n.innerHTML="",n.appendChild(i)),l(i.parentNode),i;},_moveFocus:function _moveFocus(e,t){if(o.isEmpty(t))e.setStartBefore(t);else{e.selectNodeContents(t);var n=c.textNodes(e)[0];if(!n){for(;t.childNodes.length&&!o.is(t.firstChild,"br");){t=t.firstChild;}n=t;}o.isEmpty(n)?e.setStartBefore(n):(o.emptyNode(n)&&(n.innerHTML="\uFEFF"),e.setStartBefore(n.firstChild||n));}},shouldTrim:function shouldTrim(e){var t="p,h1,h2,h3,h4,h5,h6".split(","),n=o.parentOfType(e.startContainer,t),i=o.parentOfType(e.endContainer,t);return n&&!i||!n&&i;},_blankAfter:function _blankAfter(e){for(;e&&(o.isMarker(e)||""===o.stripBom(e.nodeValue));){e=e.nextSibling;}return!e;},exec:function exec(){var e,t,n,r,a,d,u,h,f=this.getRange(),p=c.documentFromRange(f),m=i.emptyElementContent,g=this.shouldTrim(f);f.deleteContents(),a=this._insertMarker(p,f),o.stripBomNode(a.previousSibling),o.stripBomNode(a.nextSibling),d=o.closestEditableOfType(a,["li"]),u=o.closestEditableOfType(a,"h1,h2,h3,h4,h5,h6".split(",")),d?o.emptyNode(d)&&(r=o.create(p,"p"),d.nextSibling&&(h=f.cloneRange(),h.selectNode(d),c.split(h,d.parentNode)),o.insertAfter(r,d.parentNode),o.remove(1==d.parentNode.childNodes.length?d.parentNode:d),r.innerHTML=m,n=r):u&&this._blankAfter(a)&&(r=o.create(p,"p"),o.insertAfter(r,u),r.innerHTML=m,o.remove(a),n=r),n||(d||u||new s([{tags:["p"]}]).apply([a]),f.selectNode(a),e=o.parentOfType(a,[d?"li":u?o.name(u):"p"]),c.split(f,e,g),t=e.previousSibling,o.is(t,"li")&&t.firstChild&&!o.is(t.firstChild,"br")&&(t=t.firstChild),n=e.nextSibling,this.clean(t),this.clean(n,{links:!0}),o.is(n,"li")&&n.firstChild&&!o.is(n.firstChild,"br")&&(n=n.firstChild),o.remove(e),l(t)),l(n),this._moveFocus(f,n),f.collapse(!0),o.scrollTo(n),c.selectRange(f);},clean:function clean(t,n){var r,a=t;if(t.firstChild&&o.is(t.firstChild,"br")&&o.remove(t.firstChild),o.isDataNode(t)&&!t.nodeValue&&(t=t.parentNode),t){for(r=!1;t.firstChild&&1==t.firstChild.nodeType;){r=r||o.significantNodes(t.childNodes).length>1,t=t.firstChild;}if(o.isEmpty(t)||!/^\s*$/.test(t.innerHTML)||r||(e(a).find(".k-br").remove(),t.innerHTML=i.emptyElementContent),n&&n.links)for(;t!=a;){if(o.is(t,"a")&&o.emptyNode(t)){o.unwrap(t);break;}t=t.parentNode;}}}}),h=r.extend({init:function init(e){this.options=e,r.fn.init.call(this,e);},exec:function exec(){var e,n=this.getRange(),i=o.create(c.documentFromRange(n),"br"),r=t.support.browser,a=r.msie&&11>r.version;n.deleteContents(),n.insertNode(i),l(i.parentNode),a||i.nextSibling&&!o.isWhitespace(i.nextSibling)||(e=i.cloneNode(!0),e.className="k-br",o.insertAfter(e,i)),n.setStartAfter(i),n.collapse(!0),o.scrollTo(i.nextSibling||i),c.selectRange(n);}});n(i,{ParagraphCommand:u,NewLineCommand:h}),d("insertLineBreak",new a({key:13,shift:!0,command:h})),d("insertParagraph",new a({key:13,command:u}));}(window.kendo.jQuery);},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("editor/lists.min",["editor/linebreak.min"],e);}(function(){!function(e){var t=window.kendo,n=t.Class,i=e.extend,o=t.ui.editor,r=o.Dom,a=o.RangeUtils,s=o.EditorUtils,l=o.Command,c=o.ToolTemplate,d=o.FormatTool,u=o.BlockFormatFinder,h=a.textNodes,f=o.EditorUtils.registerTool,p=u.extend({init:function init(e){this.tag=e;var t=this.tags=["ul"==e?"ol":"ul",e];u.fn.init.call(this,[{tags:t}]);},isFormatted:function isFormatted(e){var t,n,i=[];for(n=0;e.length>n;n++){t=this.findFormat(e[n]),t&&r.name(t)==this.tag&&i.push(t);}if(1>i.length)return!1;if(i.length!=e.length)return!1;for(n=0;i.length>n&&i[n].parentNode==t.parentNode;n++){if(i[n]!=t)return!1;}return!0;},findSuitable:function findSuitable(e){var t=this.findFormat(e[0]);return t&&r.name(t)==this.tag?t:null;}}),m=n.extend({init:function init(e,t){var n=this;n.finder=new p(e),n.tag=e,n.unwrapTag=t;},isList:function isList(e){var t=r.name(e);return"ul"==t||"ol"==t||"dl"==t;},wrap:function wrap(e,t){var n,i,o=r.create(e.ownerDocument,"li");for(n=0;t.length>n;n++){if(i=t[n],r.is(i,"li"))e.appendChild(i);else if(this.isList(i))for(;i.firstChild;){e.appendChild(i.firstChild);}else if(r.is(i,"td")){for(;i.firstChild;){o.appendChild(i.firstChild);}e.appendChild(o),i.appendChild(e),e=e.cloneNode(!1),o=o.cloneNode(!1);}else o.appendChild(i),r.isBlock(i)&&(e.appendChild(o),r.unwrap(i),o=o.cloneNode(!1));}o.firstChild&&e.appendChild(o);},containsAny:function containsAny(e,t){for(var n=0;t.length>n;n++){if(r.isAncestorOrSelf(e,t[n]))return!0;}return!1;},suitable:function suitable(e,t){if("k-marker"==e.className){var n=e.nextSibling;if(n&&r.isBlock(n))return!1;if(n=e.previousSibling,n&&r.isBlock(n))return!1;}return this.containsAny(e,t)||r.isInline(e)||3==e.nodeType;},_parentLists:function _parentLists(t){var n=r.closestEditable(t);return e(t).parentsUntil(n,"ul,ol");},split:function split(e){var t,n,i,o,s,l,c=h(e);if(c.length)for(t=r.parentOfType(c[0],["li"]),n=r.parentOfType(c[c.length-1],["li"]),e.setStartBefore(t),e.setEndAfter(n),o=0,s=c.length;s>o;o++){l=this.finder.findFormat(c[o]),l&&(i=this._parentLists(l),i.length?a.split(e,i.last()[0],!0):a.split(e,l,!0));}},merge:function merge(e,t){for(var n,i=t.previousSibling;i&&("k-marker"==i.className||3==i.nodeType&&r.isWhitespace(i));){i=i.previousSibling;}if(i&&r.name(i)==e){for(;t.firstChild;){i.appendChild(t.firstChild);}r.remove(t),t=i;}for(n=t.nextSibling;n&&("k-marker"==n.className||3==n.nodeType&&r.isWhitespace(n));){n=n.nextSibling;}if(n&&r.name(n)==e){for(;t.lastChild;){n.insertBefore(t.lastChild,n.firstChild);}r.remove(t);}},breakable:function breakable(e){return e!=e.ownerDocument.body&&!/table|tbody|tr|td/.test(r.name(e))&&!e.attributes.contentEditable;},applyOnSection:function applyOnSection(t,n){function i(){u.push(this);}var o,a,s,l,c=this.tag,d=r.closestSplittableParent(n),u=[],h=this.finder.findSuitable(n);for(h||(h=new p("ul"==c?"ol":"ul").findSuitable(n)),/table|tbody/.test(r.name(d))?o=e.map(n,function(e){return r.parentOfType(e,["td"]);}):(o=r.significantChildNodes(d),e.grep(o,r.isBlock).length&&(o=e.grep(o,e.proxy(function(e){return this.containsAny(e,n);},this))),o.length||(o=n)),a=0;o.length>a;a++){s=o[a],l=(!h||!r.isAncestorOrSelf(h,s))&&this.suitable(s,n),l&&(h&&this.isList(s)?(e.each(s.childNodes,i),r.remove(s)):u.push(s));}u.length==o.length&&this.breakable(d)&&(u=[d]),h||(h=r.create(d.ownerDocument,c),r.insertBefore(h,u[0])),this.wrap(h,u),r.is(h,c)||r.changeTag(h,c),this.merge(c,h);},apply:function apply(e){var t,n,i,o=0,a=[];do{i=r.closestEditable(e[o],["td","body"]),t&&i==t?n.push(e[o]):(t&&a.push({section:t,nodes:n}),n=[e[o]],t=i),o++;}while(e.length>o);for(a.push({section:t,nodes:n}),o=0;a.length>o;o++){this.applyOnSection(a[o].section,a[o].nodes);}},unwrap:function unwrap(e){var t,n,i,o,a=e.ownerDocument.createDocumentFragment(),s=this.unwrapTag;for(n=e.firstChild;n;n=n.nextSibling){for(i=r.create(e.ownerDocument,s||"p");n.firstChild;){o=n.firstChild,r.isBlock(o)?(i.firstChild&&(a.appendChild(i),i=r.create(e.ownerDocument,s||"p")),a.appendChild(o)):i.appendChild(o);}i.firstChild&&a.appendChild(i);}t=this._parentLists(e),t[0]?(r.insertAfter(a,t.last()[0]),t.last().remove()):r.insertAfter(a,e),r.remove(e);},remove:function remove(e){var t,n,i;for(n=0,i=e.length;i>n;n++){t=this.finder.findFormat(e[n]),t&&this.unwrap(t);}},toggle:function toggle(e){var t,n=this,i=h(e),o=e.commonAncestorContainer;i.length||(e.selectNodeContents(o),i=h(e),i.length||(t=o.ownerDocument.createTextNode(""),e.startContainer.appendChild(t),i=[t],e.selectNode(t.parentNode))),n.finder.isFormatted(i)?(n.split(e),n.remove(i)):n.apply(i);}}),g=l.extend({init:function init(e){e.formatter=new m(e.tag),l.fn.init.call(this,e);}}),v=d.extend({init:function init(e){this.options=e,d.fn.init.call(this,i(e,{finder:new p(e.tag)}));},command:function command(e){return new g(i(e,{tag:this.options.tag}));}});i(o,{ListFormatFinder:p,ListFormatter:m,ListCommand:g,ListTool:v}),f("insertUnorderedList",new v({tag:"ul",template:new c({template:s.buttonTemplate,title:"Insert unordered list"})})),f("insertOrderedList",new v({tag:"ol",template:new c({template:s.buttonTemplate,title:"Insert ordered list"})}));}(window.kendo.jQuery);},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("editor/link.min",["editor/lists.min"],e);}(function(){!function(e,t){function n(e,t){for(var n=e.length;n--&&!t.test(e[n]);){}return n;}function i(e,t){var n=t.exec(e);return n?n.index:-1;}var o=window.kendo,r=o.Class,a=e.extend,s=e.proxy,l=o.ui.editor,c=l.Dom,d=l.RangeUtils,u=l.EditorUtils,h=l.Command,f=l.Tool,p=l.ToolTemplate,m=l.InlineFormatter,g=l.InlineFormatFinder,v=d.textNodes,_=l.EditorUtils.registerTool,b=o.keys,w="http://",y=/^\w*:\/\//,k=/[\w\/\$\-_\*\?]/i,x=r.extend({findSuitable:function findSuitable(e){return c.parentOfType(e,["a"]);}}),C=r.extend({init:function init(){this.finder=new x();},apply:function apply(e,t){var n,i,o,r,a,s,l,u=v(e);if(t.innerHTML){for(i=d.documentFromRange(e),n=d.getMarkers(e),e.deleteContents(),r=c.create(i,"a",t),e.insertNode(r),a=r.parentNode,"a"==c.name(a)&&c.insertAfter(r,a),c.emptyNode(a)&&c.remove(a),s=r,l=0;n.length>l;l++){c.insertAfter(n[l],s),s=n[l];}n.length&&(c.insertBefore(i.createTextNode("\uFEFF"),n[1]),c.insertAfter(i.createTextNode("\uFEFF"),n[1]),e.setStartBefore(n[0]),e.setEndAfter(n[n.length-1]));}else o=new m([{tags:["a"]}],t),o.finder=this.finder,o.apply(u);}}),S=h.extend({init:function init(e){e.formatter={toggle:function toggle(e){new m([{tags:["a"]}]).remove(v(e));}},this.options=e,h.fn.init.call(this,e);}}),T=h.extend({init:function init(e){this.options=e,h.fn.init.call(this,e),this.formatter=new C(),e.url?this.exec=function(){this.formatter.apply(e.range,{href:e.url,innerHTML:e.text||e.url,target:e.target});}:(this.attributes=null,this.async=!0);},_dialogTemplate:function _dialogTemplate(){return o.template("<div class=\"k-editor-dialog k-popup-edit-form k-edit-form-container\"><div class='k-edit-label'><label for='k-editor-link-url'>#: messages.linkWebAddress #</label></div><div class='k-edit-field'><input type='text' class='k-input k-textbox' id='k-editor-link-url'></div><div class='k-edit-label k-editor-link-text-row'><label for='k-editor-link-text'>#: messages.linkText #</label></div><div class='k-edit-field k-editor-link-text-row'><input type='text' class='k-input k-textbox' id='k-editor-link-text'></div><div class='k-edit-label'><label for='k-editor-link-title'>#: messages.linkToolTip #</label></div><div class='k-edit-field'><input type='text' class='k-input k-textbox' id='k-editor-link-title'></div><div class='k-edit-label'></div><div class='k-edit-field'><input type='checkbox' class='k-checkbox' id='k-editor-link-target'><label for='k-editor-link-target' class='k-checkbox-label'>#: messages.linkOpenInNewWindow #</label></div><div class='k-edit-buttons k-state-default'><button class=\"k-dialog-insert k-button k-primary\">#: messages.dialogInsert #</button><button class=\"k-dialog-close k-button\">#: messages.dialogCancel #</button></div></div>")({messages:this.editor.options.messages});},exec:function exec(){var t,n,i,o,r=this.editor.options.messages;this._initialText="",this._range=this.lockRange(!0),t=v(this._range),n=t.length?this.formatter.finder.findSuitable(t[0]):null,i=t.length&&"img"==c.name(t[0]),o=this.createDialog(this._dialogTemplate(),{title:r.createLink,close:s(this._close,this),visible:!1}),n&&(this._range.selectNodeContents(n),t=v(this._range)),this._initialText=this.linkText(t),o.find(".k-dialog-insert").click(s(this._apply,this)).end().find(".k-dialog-close").click(s(this._close,this)).end().find(".k-edit-field input").keydown(s(this._keydown,this)).end().find("#k-editor-link-url").val(this.linkUrl(n)).end().find("#k-editor-link-text").val(this._initialText).end().find("#k-editor-link-title").val(n?n.title:"").end().find("#k-editor-link-target").attr("checked",n?"_blank"==n.target:!1).end().find(".k-editor-link-text-row").toggle(!i),this._dialog=o.data("kendoWindow").center().open(),e("#k-editor-link-url",o).focus().select();},_keydown:function _keydown(e){var t=o.keys;e.keyCode==t.ENTER?this._apply(e):e.keyCode==t.ESC&&this._close(e);},_apply:function _apply(t){var n,i,o,r=this._dialog.element,a=e("#k-editor-link-url",r).val(),s=e("#k-editor-link-text",r);a&&a!=w&&(a.indexOf("@")>0&&!/^(\w+:)|(\/\/)/i.test(a)&&(a="mailto:"+a),this.attributes={href:a},n=e("#k-editor-link-title",r).val(),n&&(this.attributes.title=n),s.is(":visible")&&(i=s.val(),i||this._initialText?i&&i!==this._initialText&&(this.attributes.innerHTML=c.stripBom(i)):this.attributes.innerHTML=a),o=e("#k-editor-link-target",r).is(":checked"),this.attributes.target=o?"_blank":null,this.formatter.apply(this._range,this.attributes)),this._close(t),this.change&&this.change();},_close:function _close(e){e.preventDefault(),this._dialog.destroy(),c.windowFromDocument(d.documentFromRange(this._range)).focus(),this.releaseRange(this._range);},linkUrl:function linkUrl(e){return e?e.getAttribute("href",2):w;},linkText:function linkText(e){var t,n="";for(t=0;e.length>t;t++){n+=e[t].nodeValue;}return c.stripBom(n||"");},redo:function redo(){var e=this.lockRange(!0);this.formatter.apply(e,this.attributes),this.releaseRange(e);}}),D=h.extend({init:function init(e){h.fn.init.call(this,e),this.formatter=new C();},exec:function exec(){var e,t,n,i=this.detectLink();i&&(e=this.getRange(),t=new o.ui.editor.Marker(),n=e.cloneRange(),n.setStart(i.start.node,i.start.offset),n.setEnd(i.end.node,i.end.offset),e=this.lockRange(),t.add(n),this.formatter.apply(n,{href:this._ensureWebProtocol(i.text)}),t.remove(n),this.releaseRange(e));},detectLink:function detectLink(){var e=this.getRange(),t=new F({node:e.startContainer,offset:e.startOffset,cancelAtNode:function cancelAtNode(e){return e&&"a"===c.name(e);}}),n=new E(t);return n.detectLink();},changesContent:function changesContent(){return!!this.detectLink();},_ensureWebProtocol:function _ensureWebProtocol(e){var t=this._hasProtocolPrefix(e);return t?e:this._prefixWithWebProtocol(e);},_hasProtocolPrefix:function _hasProtocolPrefix(e){return y.test(e);},_prefixWithWebProtocol:function _prefixWithWebProtocol(e){return w+e;}}),A=f.extend({init:function init(t){this.options=t,this.finder=new g([{tags:["a"]}]),f.fn.init.call(this,e.extend(t,{command:S}));},initialize:function initialize(e,t){f.fn.initialize.call(this,e,t),e.addClass("k-state-disabled");},update:function update(e,t){e.toggleClass("k-state-disabled",!this.finder.isFormatted(t)).removeClass("k-state-hover");}}),E=r.extend({init:function init(e){this.traverser=e,this.start=R(),this.end=R(),this.text="";},detectLink:function detectLink(){var t,n,i,o,r=this.traverser.node,a=this.traverser.offset;if(c.isDataNode(r)){if(t=r.data.substring(0,a),/\s{2}$/.test(c.stripBom(t)))return;}else 0===a&&(n=c.closestEditableOfType(r,c.blockElements),n&&n.previousSibling&&this.traverser.init({node:n.previousSibling}));return this.traverser.traverse(e.proxy(this._detectEnd,this)),this.end.blank()||(this.traverser=this.traverser.clone(this.end),this.traverser.traverse(e.proxy(this._detectStart,this)),this._isLinkDetected()||(i=this.traverser.extendOptions(this.start),o=new M(i),o.traverse(e.proxy(this._skipStartPuntuation,this)),this._isLinkDetected()||(this.start=R()))),this.start.blank()?null:{start:this.start,end:this.end,text:this.text};},_isLinkDetected:function _isLinkDetected(){return y.test(this.text)||/^w{3}\./i.test(this.text);},_detectEnd:function _detectEnd(e,i){var o=n(e,k);return o>-1?(this.end.node=i,this.end.offset=o+1,!1):t;},_detectStart:function _detectStart(e,i){var o=n(e,/\s/),r=o+1;return this.text=e.substring(r)+this.text,this.start.node=i,this.start.offset=r,o>-1?!1:t;},_skipStartPuntuation:function _skipStartPuntuation(e,n,o){var r=i(e,/\w/),a=r;return-1===r&&(a=e.length),this.text=this.text.substring(a),this.start.node=n,this.start.offset=a+(0|o),r>-1?!1:t;}}),R=function R(){return{node:null,offset:null,blank:function blank(){return null===this.node&&null===this.offset;}};},I=r.extend({init:function init(n){this.node=n.node,this.offset=n.offset===t?c.isDataNode(this.node)&&this.node.length||0:n.offset,this.cancelAtNode=n.cancelAtNode||this.cancelAtNode||e.noop;},traverse:function traverse(e){e&&(this.cancel=!1,this._traverse(e,this.node,this.offset));},_traverse:function _traverse(e,n,i){var o,r,a,s;if(n&&!this.cancel){if(3!==n.nodeType)return r=this.edgeNode(n),this.cancel=this.cancel||this.cancelAtNode(r),this._traverse(e,r);if(o=n.data,i!==t&&(o=this.subText(o,i)),this.cancel=e(o,n,i)===!1,a=this.next(n),!a)for(s=n.parentNode;!a&&c.isInline(s);){a=this.next(s),s=s.parentNode;}this.cancel=this.cancel||this.cancelAtNode(a),this._traverse(e,a);}},extendOptions:function extendOptions(t){return e.extend({node:this.node,offset:this.offset,cancelAtNode:this.cancelAtNode},t||{});},edgeNode:function edgeNode(e){},next:function next(e){},subText:function subText(e,t){}}),F=I.extend({subText:function subText(e,t){return e.substring(0,t);},next:function next(e){return e.previousSibling;},edgeNode:function edgeNode(e){return e.lastChild;},clone:function clone(e){var t=this.extendOptions(e);return new F(t);}}),M=I.extend({subText:function subText(e,t){return e.substring(t);},next:function next(e){return e.nextSibling;},edgeNode:function edgeNode(e){return e.firstChild;},clone:function clone(e){var t=this.extendOptions(e);return new M(t);}});a(o.ui.editor,{LinkFormatFinder:x,LinkFormatter:C,UnlinkCommand:S,LinkCommand:T,AutoLinkCommand:D,UnlinkTool:A,DomTextLinkDetection:E,LeftDomTextTraverser:F,RightDomTextTraverser:M}),_("createLink",new f({key:"K",ctrl:!0,command:T,template:new p({template:u.buttonTemplate,title:"Create Link"})})),_("unlink",new A({key:"K",ctrl:!0,shift:!0,template:new p({template:u.buttonTemplate,title:"Remove Link"})})),_("autoLink",new f({key:[b.ENTER,b.SPACEBAR],keyPressCommand:!0,command:D}));}(window.kendo.jQuery);},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("editor/file.min",["kendo.filebrowser.min","editor/link.min"],e);}(function(){!function(e,t){var n=window.kendo,i=e.extend,o=n.ui.editor,r=o.EditorUtils,a=o.Dom,s=r.registerTool,l=o.ToolTemplate,c=o.RangeUtils,d=o.Command,u=o.LinkFormatter,h=c.textNodes,f=n.keys,p="#k-editor-file-url",m="#k-editor-file-title",g=d.extend({init:function init(e){var t=this;d.fn.init.call(t,e),t.formatter=new u(),t.async=!0,t.attributes={};},insertFile:function insertFile(e,t){var n=this.attributes,i=c.documentFromRange(t);if(n.href&&"http://"!=n.href){if(!e)return e=a.create(i,"a",{href:n.href}),e.innerHTML=n.innerHTML,t.deleteContents(),t.insertNode(e),e.nextSibling||a.insertAfter(i.createTextNode("\uFEFF"),e),t.setStartAfter(e),t.setEndAfter(e),c.selectRange(t),!0;a.attr(e,n);}return!1;},_dialogTemplate:function _dialogTemplate(e){return n.template('<div class="k-editor-dialog k-popup-edit-form k-edit-form-container"># if (showBrowser) { #<div class="k-filebrowser"></div># } #<div class=\'k-edit-label\'><label for="k-editor-file-url">#: messages.fileWebAddress #</label></div><div class=\'k-edit-field\'><input type="text" class="k-input k-textbox" id="k-editor-file-url"></div><div class=\'k-edit-label\'><label for="k-editor-file-title">#: messages.fileTitle #</label></div><div class=\'k-edit-field\'><input type="text" class="k-input k-textbox" id="k-editor-file-title"></div><div class="k-edit-buttons k-state-default"><button class="k-dialog-insert k-button k-primary">#: messages.dialogInsert #</button><button class="k-dialog-close k-button">#: messages.dialogCancel #</button></div></div>')({messages:this.editor.options.messages,showBrowser:e});},redo:function redo(){var e=this,t=e.lockRange();this.formatter.apply(t,this.attributes),e.releaseRange(t);},exec:function exec(){function e(e){var t=s.element,n=t.find(p).val().replace(/ /g,"%20"),i=t.find(m).val();l.attributes={href:n,innerHTML:""!==i?i:n},g=l.insertFile(v,d),o(e),l.change&&l.change();}function o(e){e.preventDefault(),s.destroy(),a.windowFromDocument(c.documentFromRange(d)).focus(),g||l.releaseRange(d);}function r(t){t.keyCode==f.ENTER?e(t):t.keyCode==f.ESC&&o(t);}var s,l=this,d=l.lockRange(),u=h(d),g=!1,v=u.length?this.formatter.finder.findSuitable(u[0]):null,_=l.editor.options,b=_.messages,w=_.fileBrowser,y=!!(n.ui.FileBrowser&&w&&w.transport&&w.transport.read!==t),k={title:b.insertFile,visible:!1,resizable:y};k.close=o,y&&(k.width=750),s=this.createDialog(l._dialogTemplate(y),k).toggleClass("k-filebrowser-dialog",y).find(".k-dialog-insert").click(e).end().find(".k-dialog-close").click(o).end().find(".k-edit-field input").keydown(r).end().find(p).val(v?v.getAttribute("href",2):"http://").end().find(m).val(v?v.title:"").end().data("kendoWindow"),y&&(l._fileBrowser=new n.ui.FileBrowser(s.element.find(".k-filebrowser"),i({},w,{change:function change(){s.element.find(p).val(this.value());},apply:e}))),s.center().open(),s.element.find(p).focus().select();}});n.ui.editor.FileCommand=g,s("insertFile",new o.Tool({command:g,template:new l({template:r.buttonTemplate,title:"Insert File"})}));}(window.kendo.jQuery);},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("editor/image.min",["kendo.imagebrowser.min","editor/link.min"],e);}(function(){!function(e,t){var n=window.kendo,i=e.extend,o=n.ui.editor,r=o.EditorUtils,a=o.Dom,s=r.registerTool,l=o.ToolTemplate,c=o.RangeUtils,d=o.Command,u=n.keys,h="#k-editor-image-url",f="#k-editor-image-title",p="#k-editor-image-width",m="#k-editor-image-height",g=d.extend({init:function init(e){var t=this;d.fn.init.call(t,e),t.async=!0,t.attributes={};},insertImage:function insertImage(e,t){var n,i=this.attributes,o=c.documentFromRange(t);if(i.src&&"http://"!=i.src){if(n=function n(){setTimeout(function(){i.width||e.removeAttribute("width"),i.height||e.removeAttribute("height"),e.removeAttribute("complete");});},!e)return e=a.create(o,"img",i),e.onload=e.onerror=n,t.deleteContents(),t.insertNode(e),e.nextSibling||a.insertAfter(o.createTextNode("\uFEFF"),e),n(),t.setStartAfter(e),t.setEndAfter(e),c.selectRange(t),!0;e.onload=e.onerror=n,a.attr(e,i),n();}return!1;},_dialogTemplate:function _dialogTemplate(e){return n.template('<div class="k-editor-dialog k-popup-edit-form k-edit-form-container"># if (showBrowser) { #<div class="k-filebrowser k-imagebrowser"></div># } #<div class=\'k-edit-label\'><label for="k-editor-image-url">#: messages.imageWebAddress #</label></div><div class=\'k-edit-field\'><input type="text" class="k-input k-textbox" id="k-editor-image-url"></div><div class=\'k-edit-label\'><label for="k-editor-image-title">#: messages.imageAltText #</label></div><div class=\'k-edit-field\'><input type="text" class="k-input k-textbox" id="k-editor-image-title"></div><div class=\'k-edit-label\'><label for="k-editor-image-width">#: messages.imageWidth #</label></div><div class=\'k-edit-field\'><input type="text" class="k-input k-textbox" id="k-editor-image-width"></div><div class=\'k-edit-label\'><label for="k-editor-image-height">#: messages.imageHeight #</label></div><div class=\'k-edit-field\'><input type="text" class="k-input k-textbox" id="k-editor-image-height"></div><div class="k-edit-buttons k-state-default"><button class="k-dialog-insert k-button k-primary">#: messages.dialogInsert #</button><button class="k-dialog-close k-button">#: messages.dialogCancel #</button></div></div>')({messages:this.editor.options.messages,showBrowser:e});},redo:function redo(){var e=this,t=e.lockRange();e.insertImage(c.image(t),t)||e.releaseRange(t);},exec:function exec(){function e(e){var t=s.element,n=parseInt(t.find(p).val(),10),i=parseInt(t.find(m).val(),10);l.attributes={src:t.find(h).val().replace(/ /g,"%20"),alt:t.find(f).val()},l.attributes.width=null,l.attributes.height=null,!isNaN(n)&&n>0&&(l.attributes.width=n),!isNaN(i)&&i>0&&(l.attributes.height=i),g=l.insertImage(v,d),o(e),l.change&&l.change();}function o(e){e.preventDefault(),s.destroy(),a.windowFromDocument(c.documentFromRange(d)).focus(),g||l.releaseRange(d);}function r(t){t.keyCode==u.ENTER?e(t):t.keyCode==u.ESC&&o(t);}var s,l=this,d=l.lockRange(),g=!1,v=c.image(d),_=v&&v.getAttribute("width")||"",b=v&&v.getAttribute("height")||"",w=l.editor.options,y=w.messages,k=w.imageBrowser,x=!!(n.ui.ImageBrowser&&k&&k.transport&&k.transport.read!==t),C={title:y.insertImage,visible:!1,resizable:x};C.close=o,x&&(C.width=750),s=this.createDialog(l._dialogTemplate(x),C).toggleClass("k-filebrowser-dialog",x).find(".k-dialog-insert").click(e).end().find(".k-dialog-close").click(o).end().find(".k-edit-field input").keydown(r).end().find(h).val(v?v.getAttribute("src",2):"http://").end().find(f).val(v?v.alt:"").end().find(p).val(_).end().find(m).val(b).end().data("kendoWindow"),x&&(this._imageBrowser=new n.ui.ImageBrowser(s.element.find(".k-imagebrowser"),i({},k,{change:function change(){s.element.find(h).val(this.value());},apply:e}))),s.center().open(),s.element.find(h).focus().select();}});n.ui.editor.ImageCommand=g,s("insertImage",new o.Tool({command:g,template:new l({template:r.buttonTemplate,title:"Insert Image"})}));}(window.kendo.jQuery);},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("editor/components.min",["editor/image.min"],e);}(function(){!function(e,t){var n=window.kendo,i=n.ui.DropDownList,o=n.ui.editor.Dom,r=i.extend({init:function init(t,o){var r=this;i.fn.init.call(r,t,o),n.support.mobileOS.ios&&(this._initSelectOverlay(),this.bind("dataBound",e.proxy(this._initSelectOverlay,this))),r.text(r.options.title),r.bind("open",function(){if(r.options.autoSize){var e,t=r.list;t.css({whiteSpace:"nowrap",width:"auto"}),e=t.width(),e?e+=20:e=r._listWidth,t.css("width",e+n.support.scrollbar()),r._listWidth=e;}});},options:{name:"SelectBox",index:-1},_initSelectOverlay:function _initSelectOverlay(){var t,i,o,r,a=this,s=a.value(),l=this.dataSource.view(),c="",d=n.htmlEncode;for(i=0;l.length>i;i++){t=l[i],c+="<option value='"+d(t.value)+"'",t.value==s&&(c+=" selected"),c+=">"+d(t.text)+"</option>";}o=e("<select class='k-select-overlay'>"+c+"</select>"),r=e(this.element).closest(".k-widget"),r.next(".k-select-overlay").remove(),o.insertAfter(r),o.on("change",function(){a.value(this.value),a.trigger("change");});},value:function value(e){var n=this,o=i.fn.value.call(n,e);return e===t?o:(i.fn.value.call(n)||n.text(n.options.title),t);},decorate:function decorate(t){var n,i,r,a,s=this,l=s.dataSource,c=l.data();for(t&&s.list.css("background-color",o.getEffectiveBackground(e(t))),n=0;c.length>n;n++){i=c[n].tag||"span",r=c[n].className,a=o.inlineStyle(t,i,{className:r}),a=a.replace(/"/g,"'"),c[n].style=a+";display:inline-block";}l.trigger("change");}});n.ui.plugin(r),n.ui.editor.SelectBox=r;}(window.kendo.jQuery);},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("editor/indent.min",["editor/components.min"],e);}(function(){!function(e,t){function n(n,i){var o="rtl"==e(n).css("direction"),r=o?"Right":"Left",a="td"!=s.name(n)?"margin"+r:"padding"+r;return i===t?n.style[a]||0:(i>0?n.style[a]=i+"px":(n.style[a]="",n.style.cssText||n.removeAttribute("style")),t);}var i=window.kendo,o=i.Class,r=e.extend,a=i.ui.editor,s=a.Dom,l=a.EditorUtils,c=l.registerTool,d=a.Command,u=a.Tool,h=a.ToolTemplate,f=a.RangeUtils,p=s.blockElements,m=a.BlockFormatFinder,g=a.BlockFormatter,v=o.extend({init:function init(){this.finder=new m([{tags:s.blockElements}]);},apply:function apply(t){var i,o,r,a,l,c,d,u,h,f,p=this.finder.findSuitable(t),m=[];if(p.length){for(i=0,o=p.length;o>i;i++){s.is(p[i],"li")?e(p[i]).index()?e.inArray(p[i].parentNode,m)<0&&m.push(p[i]):m.push(p[i].parentNode):m.push(p[i]);}for(;m.length;){if(r=m.shift(),s.is(r,"li")){if(a=r.parentNode,l=e(r).prev("li"),c=l.find("ul,ol").last(),d=e(r).children("ul,ol")[0],d&&l[0])c[0]?(c.append(r),c.append(e(d).children()),s.remove(d)):(l.append(d),d.insertBefore(r,d.firstChild));else for(d=l.children("ul,ol")[0],d||(d=s.create(r.ownerDocument,s.name(a)),l.append(d));r&&r.parentNode==a;){d.appendChild(r),r=m.shift();}}else for(u=parseInt(n(r),10)+30,n(r,u),h=0;m.length>h;h++){e.contains(r,m[h])&&m.splice(h,1);}}}else f=new g([{tags:["p"]}],{style:{marginLeft:30}}),f.apply(t);},remove:function remove(t){var i,o,r,a,s,l,c,d,u=this.finder.findSuitable(t);for(o=0,r=u.length;r>o;o++){if(c=e(u[o]),c.is("li")){if(a=c.parent(),s=a.parent(),s.is("li,ul,ol")&&!n(a[0])){if(i&&e.contains(i,s[0]))continue;l=c.nextAll("li"),l.length&&e(a[0].cloneNode(!1)).appendTo(c).append(l),s.is("li")?c.insertAfter(s):c.appendTo(s),a.children("li").length||a.remove();continue;}if(i==a[0])continue;i=a[0];}else i=u[o];d=parseInt(n(i),10)-30,n(i,d);}}}),_=d.extend({init:function init(e){e.formatter={toggle:function toggle(e){new v().apply(f.nodes(e));}},d.fn.init.call(this,e);}}),b=d.extend({init:function init(e){e.formatter={toggle:function toggle(e){new v().remove(f.nodes(e));}},d.fn.init.call(this,e);}}),w=u.extend({init:function init(e){u.fn.init.call(this,e),this.finder=new m([{tags:p}]);},initialize:function initialize(e,t){u.fn.initialize.call(this,e,t),e.addClass("k-state-disabled");},update:function update(i,o){var r,a,l,c,d=this.finder.findSuitable(o);for(l=0,c=d.length;c>l;l++){if(r=n(d[l]),r||(a=e(d[l]).parents("ul,ol").length,r=s.is(d[l],"li")&&(a>1||n(d[l].parentNode))||s.ofType(d[l],["ul","ol"])&&a>0),r)return i.removeClass("k-state-disabled"),t;}i.addClass("k-state-disabled").removeClass("k-state-hover");}});r(a,{IndentFormatter:v,IndentCommand:_,OutdentCommand:b,OutdentTool:w}),c("indent",new u({command:_,template:new h({template:l.buttonTemplate,title:"Indent"})})),c("outdent",new w({command:b,template:new h({template:l.buttonTemplate,title:"Outdent"})}));}(window.kendo.jQuery);},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("editor/viewhtml.min",["editor/indent.min"],e);}(function(){!function(e,t){var n=window.kendo,i=e.extend,o=n.ui.editor,r=o.EditorUtils,a=o.Command,s=o.Tool,l=o.ToolTemplate,c=a.extend({init:function init(e){var t=this;t.options=e,a.fn.init.call(t,e),t.attributes=null,t.async=!0;},exec:function exec(){function t(e){r.value(s.find(d).val()),i(e),o.change&&o.change(),r.trigger("change");}function i(e){e.preventDefault(),s.data("kendoWindow").destroy(),r.focus();}var o=this,r=o.editor,a=r.options.messages,s=e(n.template(c.template)(a)).appendTo(document.body),l=c.indent(r.value()),d=".k-editor-textarea";this.createDialog(s,{title:a.viewHtml,close:i,visible:!1}).find(d).val(l).end().find(".k-dialog-update").click(t).end().find(".k-dialog-close").click(i).end().data("kendoWindow").center().open(),s.find(d).focus();}});i(c,{template:"<div class='k-editor-dialog k-popup-edit-form k-edit-form-container k-viewhtml-dialog'><textarea class='k-editor-textarea k-input'></textarea><div class='k-edit-buttons k-state-default'><button class='k-dialog-update k-button k-primary'>#: dialogUpdate #</button><button class='k-dialog-close k-button'>#: dialogCancel #</button></div></div>",indent:function indent(e){return e.replace(/<\/(p|li|ul|ol|h[1-6]|table|tr|td|th)>/gi,"</$1>\n").replace(/<(ul|ol)([^>]*)><li/gi,"<$1$2>\n<li").replace(/<br \/>/gi,"<br />\n").replace(/\n$/,"");}}),n.ui.editor.ViewHtmlCommand=c,o.EditorUtils.registerTool("viewHtml",new s({command:c,template:new l({template:r.buttonTemplate,title:"View HTML"})}));}(window.kendo.jQuery);},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("editor/formatting.min",["editor/viewhtml.min"],e);}(function(){!function(e){function t(e){var t,o,r=l.closestEditableOfType(e,["li"]);r&&(t=new i.ListFormatter(l.name(r.parentNode)),o=n.ui.editor.W3CRange.fromNode(e),o.selectNode(r),t.toggle(o));}var n=window.kendo,i=n.ui.editor,o=i.Tool,r=i.ToolTemplate,a=i.DelayedExecutionTool,s=i.Command,l=i.Dom,c=i.EditorUtils,d=i.RangeUtils,u=c.registerTool,h=a.extend({init:function init(e){var t=this;o.fn.init.call(t,n.deepExtend({},t.options,e)),t.type="kendoSelectBox",t.finder={getFormat:function getFormat(){return"";}};},options:{items:[{text:"Paragraph",value:"p"},{text:"Quotation",value:"blockquote"},{text:"Heading 1",value:"h1"},{text:"Heading 2",value:"h2"},{text:"Heading 3",value:"h3"},{text:"Heading 4",value:"h4"},{text:"Heading 5",value:"h5"},{text:"Heading 6",value:"h6"}],width:110},toFormattingItem:function toFormattingItem(e){var t,n=e.value;return n?e.tag||e.className?e:(t=n.indexOf("."),0===t?e.className=n.substring(1):-1==t?e.tag=n:(e.tag=n.substring(0,t),e.className=n.substring(t+1)),e):e;},command:function command(t){var n=t.value;return n=this.toFormattingItem(n),new i.FormatCommand({range:t.range,formatter:function formatter(){var t,o=(n.tag||n.context||"span").split(","),r=[{tags:o,attr:{className:n.className||""}}];return t=e.inArray(o[0],l.inlineElements)>=0?new i.GreedyInlineFormatter(r):new i.GreedyBlockFormatter(r);}});},initialize:function initialize(e,t){var i=t.editor,r=this.options,a=r.name,s=this;e.width(r.width),e.kendoSelectBox({dataTextField:"text",dataValueField:"value",dataSource:r.items||i.options[a],title:i.options.messages[a],autoSize:!0,change:function change(){var e=this.dataItem();e&&o.exec(i,a,e.toJSON());},dataBound:function dataBound(){var e,t=this.dataSource.data();for(e=0;t.length>e;e++){t[e]=s.toFormattingItem(t[e]);}},highlightFirst:!1,template:n.template('<span unselectable="on" style="display:block;#=(data.style||"")#">#:data.text#</span>')}),e.addClass("k-decorated").closest(".k-widget").removeClass("k-"+a).find("*").addBack().attr("unselectable","on");},getFormattingValue:function getFormattingValue(t,n){var i,o,r,a,s,l,c;for(i=0;t.length>i;i++){if(o=t[i],r=o.tag||o.context||"",a=o.className?"."+o.className:"",s=r+a,l=e(n[0]).closest(s)[0]){if(1==n.length)return o.value;for(c=1;n.length>c&&e(n[c]).closest(s)[0];c++){if(c==n.length-1)return o.value;}}}return"";},update:function update(t,n){var i,o,r,s,c,d=e(t).data(this.type);if(d&&(i=d.dataSource,o=i.data(),c=l.commonAncestor.apply(null,n),c==l.closestEditable(c)||this._ancestor!=c)){for(this._ancestor=c,r=0;o.length>r;r++){s=o[r].context,o[r].visible=!s||!!e(c).closest(s).length;}i.filter([{field:"visible",operator:"eq",value:!0}]),a.fn.update.call(this,t,n),d.value(this.getFormattingValue(i.view(),n)),d.wrapper.toggleClass("k-state-disabled",!i.view().length);}},destroy:function destroy(){this._ancestor=null;}}),f=s.extend({exec:function exec(){var e,t,n=this.lockRange(!0);for(this.tagsToClean=this.options.remove||"strong,em,span,sup,sub,del,b,i,u,font".split(","),d.wrapSelectedElements(n),e=d.mapAll(n,function(e){return e;}),t=e.length-1;t>=0;t--){this.clean(e[t]);}this.releaseRange(n);},clean:function clean(n){var o,r,a,s,c;if(n&&!l.isMarker(n)){if(o=l.name(n),"ul"==o||"ol"==o)for(r=new i.ListFormatter(o),a=n.previousSibling,s=n.nextSibling,r.unwrap(n);a&&a!=s;a=a.nextSibling){this.clean(a);}else if("blockquote"==o)l.changeTag(n,"p");else if(1!=n.nodeType||l.insignificant(n))t(n);else{for(c=n.childNodes.length-1;c>=0;c--){this.clean(n.childNodes[c]);}n.removeAttribute("style"),n.removeAttribute("class");}e.inArray(o,this.tagsToClean)>-1&&l.unwrap(n);}}});e.extend(i,{FormattingTool:h,CleanFormatCommand:f}),u("formatting",new h({template:new r({template:c.dropDownListTemplate,title:"Format"})})),u("cleanFormatting",new o({command:f,template:new r({template:c.buttonTemplate,title:"Clean formatting"})}));}(window.kendo.jQuery);},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("editor/toolbar.min",["editor/formatting.min"],e);}(function(){!function(e,t){var n,i=window.kendo,o=i.ui,r=o.editor,a=o.Widget,s=e.extend,l=e.proxy,c=i.keys,d=".kendoEditor",u=i.ui.editor.EditorUtils,h=i.ui.editor.ToolTemplate,f=i.ui.editor.Tool,p="overflowAnchor",m=".k-tool-group:visible a.k-tool:not(.k-state-disabled),.k-tool.k-overflow-anchor,.k-tool-group:visible .k-widget.k-colorpicker,.k-tool-group:visible .k-selectbox,.k-tool-group:visible .k-dropdown,.k-tool-group:visible .k-combobox .k-input",g=f.extend({initialize:function initialize(t,n){t.attr({unselectable:"on"});var i=n.editor.toolbar;t.on("click",e.proxy(function(){this.overflowPopup.toggle();},i));},options:{name:p},command:e.noop,update:e.noop,destroy:e.noop});u.registerTool(p,new g({key:"",ctrl:!0,template:new h({template:u.overflowAnchorTemplate})})),n=a.extend({init:function init(e,t){var n=this;t=s({},t,{name:"EditorToolbar"}),a.fn.init.call(n,e,t),t.popup&&n._initPopup(),t.resizable&&t.resizable.toolbar&&(n._resizeHandler=i.onResize(function(){n.resize();}),n.element.addClass("k-toolbar-resizable"));},events:["execute"],groups:{basic:["bold","italic","underline","strikethrough"],scripts:["subscript","superscript"],alignment:["justifyLeft","justifyCenter","justifyRight","justifyFull"],links:["insertImage","insertFile","createLink","unlink"],lists:["insertUnorderedList","insertOrderedList","indent","outdent"],tables:["createTable","addColumnLeft","addColumnRight","addRowAbove","addRowBelow","deleteRow","deleteColumn"],advanced:["viewHtml","cleanFormatting","print","pdf"],fonts:["fontName","fontSize"],colors:["foreColor","backColor"]},overflowFlaseTools:["formatting","fontName","fontSize","foreColor","backColor","insertHtml"],_initPopup:function _initPopup(){this.window=e(this.element).wrap("<div class='editorToolbarWindow k-header' />").parent().prepend("<button class='k-button k-button-bare k-editortoolbar-dragHandle'><span class='k-icon k-i-move' /></button>").kendoWindow({title:!1,resizable:!1,draggable:{dragHandle:".k-editortoolbar-dragHandle"},animation:{open:{effects:"fade:in"},close:{effects:"fade:out"}},minHeight:42,visible:!1,autoFocus:!1,actions:[],dragend:function dragend(){this._moved=!0;}}).on("mousedown",function(t){e(t.target).is(".k-icon")||t.preventDefault();}).data("kendoWindow");},_toggleOverflowStyles:function _toggleOverflowStyles(e,t){e.find("li").toggleClass("k-item k-state-default",t).find(".k-tool:not(.k-state-disabled),.k-overflow-button").toggleClass("k-overflow-button k-button",t);},_initOverflowPopup:function _initOverflowPopup(t){var n=this,i="<ul class='k-editor-overflow-popup k-overflow-container k-list-container'></ul>";n.overflowPopup=e(i).appendTo("body").kendoPopup({anchor:t,origin:"bottom right",position:"top right",copyAnchorStyles:!1,open:function open(e){this.element.is(":empty")&&e.preventDefault(),n._toggleOverflowStyles(this.element,!0);},activate:l(n.focusOverflowPopup,n)}).data("kendoPopup");},items:function items(){var e,t,n=this.options.resizable&&this.options.resizable.toolbar;return t=this.element.children().find("> *, select"),n&&(e=this.overflowPopup,t=t.add(e.element.children().find("> *"))),t;},focused:function focused(){return this.element.find(".k-state-focused").length>0;},toolById:function toolById(e){var t,n=this.tools;for(t in n){if(t.toLowerCase()==e)return n[t];}},toolGroupFor:function toolGroupFor(t){var n,i=this.groups;if(this.isCustomTool(t))return"custom";for(n in i){if(e.inArray(t,i[n])>=0)return n;}},bindTo:function bindTo(t){var n=this,i=n.window;n._editor&&n._editor.unbind("select",l(n.resize,n)),n._editor=t,n.options.resizable&&n.options.resizable.toolbar&&t.options.tools.push(p),n.tools=n.expandTools(t.options.tools),n.render(),n.element.find(".k-combobox .k-input").keydown(function(t){var n=e(this).closest(".k-combobox").data("kendoComboBox"),i=t.keyCode;i==c.RIGHT||i==c.LEFT?n.close():i==c.DOWN&&(n.dropDown.isOpened()||(t.stopImmediatePropagation(),n.open()));}),n._attachEvents(),n.items().each(function(){var i,o=n._toolName(this),r="more"!==o?n.tools[o]:n.tools.overflowAnchor,a=r&&r.options,s=t.options.messages,l=a&&a.tooltip||s[o],c=e(this);r&&r.initialize&&("fontSize"!=o&&"fontName"!=o||(i=s[o+"Inherit"],c.find("input").val(i).end().find("span.k-input").text(i).end()),r.initialize(c,{title:n._appendShortcutSequence(l,r),editor:n._editor}),c.closest(".k-widget",n.element).addClass("k-editor-widget"),c.closest(".k-colorpicker",n.element).next(".k-colorpicker").addClass("k-editor-widget"));}),t.bind("select",l(n.resize,n)),n.update(),i&&i.wrapper.css({top:"",left:"",width:""});},show:function show(){var e,t,n,i=this,o=i.window,r=i.options.editor;o&&(e=o.wrapper,t=r.element,e.is(":visible")&&i.window.options.visible||(e[0].style.width||e.width(t.outerWidth()-parseInt(e.css("border-left-width"),10)-parseInt(e.css("border-right-width"),10)),o._moved||(n=t.offset(),e.css({top:Math.max(0,parseInt(n.top,10)-e.outerHeight()-parseInt(i.window.element.css("padding-bottom"),10)),left:Math.max(0,parseInt(n.left,10))})),o.open()));},hide:function hide(){this.window&&this.window.close();},focus:function focus(){var e="tabIndex",t=this.element,n=this._editor.element.attr(e);t.attr(e,n||0).focus().find(m).first().focus(),n||0===n||t.removeAttr(e);},focusOverflowPopup:function focusOverflowPopup(){var e="tabIndex",t=this.overflowPopup.element,n=this._editor.element.attr(e);t.closest(".k-animation-container").addClass("k-overflow-wrapper"),t.attr(e,n||0).find(m).first().focus(),n||0===n||t.removeAttr(e);},_appendShortcutSequence:function _appendShortcutSequence(e,t){if(!t.key)return e;var n=e+" (";return t.ctrl&&(n+="Ctrl + "),t.shift&&(n+="Shift + "),t.alt&&(n+="Alt + "),n+=t.key+")";},_nativeTools:["insertLineBreak","insertParagraph","redo","undo","autoLink"],tools:{},isCustomTool:function isCustomTool(e){return!(e in i.ui.Editor.defaultTools);},expandTools:function expandTools(t){var n,o,a,l,c=this._nativeTools,d=i.deepExtend({},i.ui.Editor.defaultTools),u={};for(o=0;t.length>o;o++){n=t[o],l=n.name,e.isPlainObject(n)?l&&d[l]?(u[l]=s({},d[l]),s(u[l].options,n)):(a=s({cssClass:"k-i-custom",type:"button",title:""},n),a.name||(a.name="custom"),a.cssClass="k-"+("custom"==a.name?"i-custom":a.name),a.template||"button"!=a.type||(a.template=r.EditorUtils.buttonTemplate,a.title=a.title||a.tooltip),u[l]={options:a}):d[n]&&(u[n]=d[n]);}for(o=0;c.length>o;o++){u[c[o]]||(u[c[o]]=d[c[o]]);}return u;},render:function render(){function t(t){var n;return t.getHtml?n=t.getHtml():(e.isFunction(t)||(t=i.template(t)),n=t(r)),e.trim(n);}function n(){h.children().length&&(k&&(h.data("position",y),y++),h.appendTo(_));}function o(t){t!==p?(h=e("<li class='k-tool-group' role='presentation' />"),h.data("overflow",-1===e.inArray(t,x))):h=e("<li class='k-overflow-tools' />");}var r,a,s,c,d,u,h,f,m=this,g=m.tools,v=m._editor.element,_=m.element.empty(),b=m._editor.options.tools,w=i.support.browser,y=0,k=m.options.resizable&&m.options.resizable.toolbar,x=this.overflowFlaseTools;for(_.empty(),b.length&&(c=b[0].name||b[0]),o(c,x),f=0;b.length>f;f++){c=b[f].name||b[f],r=g[c]&&g[c].options,!r&&e.isPlainObject(c)&&(r=c),a=r&&r.template,"break"==c&&(n(),e("<li class='k-row-break' />").appendTo(m.element),o(c,x)),a&&(u=m.toolGroupFor(c),d==u&&c!=p||(n(),o(c,x),d=u),a=t(a),s=e(a).appendTo(h),"custom"==u&&(n(),o(c,x)),r.exec&&s.hasClass("k-tool")&&s.click(l(r.exec,v[0])));}n(),e(m.element).children(":has(> .k-tool)").addClass("k-button-group"),m.options.popup&&w.msie&&9>w.version&&m.window.wrapper.find("*").attr("unselectable","on"),m.updateGroups(),k&&m._initOverflowPopup(m.element.find(".k-overflow-anchor")),m.angular("compile",function(){return{elements:m.element};});},updateGroups:function updateGroups(){e(this.element).children().each(function(){e(this).children().filter(function(){return!e(this).hasClass("k-state-disabled");}).removeClass("k-group-end").first().addClass("k-group-start").end().last().addClass("k-group-end").end();});},decorateFrom:function decorateFrom(t){this.items().filter(".k-decorated").each(function(){var n=e(this).data("kendoSelectBox");n&&n.decorate(t);});},destroy:function destroy(){a.fn.destroy.call(this);var e,t=this.tools;for(e in t){t[e].destroy&&t[e].destroy();}this.window&&this.window.destroy(),this._resizeHandler&&i.unbindResize(this._resizeHandler),this.overflowPopup&&this.overflowPopup.destroy();},_attachEvents:function _attachEvents(){var t=this,n="[role=button].k-tool",i=n+":not(.k-state-disabled)",o=n+".k-state-disabled",r=t.overflowPopup?t.overflowPopup.element:e([]);t.element.add(r).off(d).on("mouseenter"+d,i,function(){e(this).addClass("k-state-hover");}).on("mouseleave"+d,i,function(){e(this).removeClass("k-state-hover");}).on("mousedown"+d,n,function(e){e.preventDefault();}).on("keydown"+d,m,function(n){function i(e,t,n){var i=t.find(m),o=i.index(a)+e;return n&&(o=Math.max(0,Math.min(i.length-1,o))),i[o];}var o,r,a=this,s=t.options.resizable&&t.options.resizable.toolbar,l=n.keyCode;l==c.RIGHT||l==c.LEFT?e(a).hasClass(".k-dropdown")||(o=i(l==c.RIGHT?1:-1,t.element,!0)):!s||l!=c.UP&&l!=c.DOWN?l==c.ESC?(t.overflowPopup.visible()&&t.overflowPopup.close(),o=t._editor):l!=c.TAB||n.ctrlKey||n.altKey||(r=s&&e(a.parentElement).hasClass("k-overflow-tool-group")?t.overflowPopup.element:t.element,n.shiftKey?o=i(-1,r):(o=i(1,r),o||(o=t._editor))):o=i(l==c.DOWN?1:-1,t.overflowPopup.element,!0),o&&(n.preventDefault(),o.focus());}).on("click"+d,i,function(n){var i=e(this);n.preventDefault(),n.stopPropagation(),i.removeClass("k-state-hover"),i.is("[data-popup]")||t._editor.exec(t._toolName(this));}).on("click"+d,o,function(e){e.preventDefault();});},_toolName:function _toolName(t){var n,i;if(t)return n=t.className,/k-tool\b/i.test(n)&&(n=t.firstChild.className),i=e.grep(n.split(" "),function(e){return!/^k-(widget|tool|tool-icon|icon|state-hover|header|combobox|dropdown|selectbox|colorpicker)$/i.test(e);}),i[0]?i[0].substring(i[0].lastIndexOf("-")+1):"custom";},refreshTools:function refreshTools(){var t=this,n=t._editor,o=n.getRange(),r=i.ui.editor.RangeUtils.textNodes(o);r.length||(r=[o.startContainer]),t.items().each(function(){var n=t.tools[t._toolName(this)];n&&n.update&&n.update(e(this),r);}),this.update();},update:function update(){this.updateGroups();},_resize:function _resize(e){var t=e.width,n=this.options.resizable&&this.options.resizable.toolbar,i=this.overflowPopup;this.refreshTools(),n&&(i.visible()&&i.close(!0),this._refreshWidths(),this._shrink(t),this._stretch(t),this._toggleOverflowStyles(this.element,!1),this._toggleOverflowStyles(this.overflowPopup.element,!0),this.element.children("li.k-overflow-tools").css("visibility",i.element.is(":empty")?"hidden":"visible"));},_refreshWidths:function _refreshWidths(){this.element.children("li").each(function(t,n){var i=e(n);i.data("outerWidth",i.outerWidth(!0));});},_shrink:function _shrink(e){var t,n,i;if(e<this._groupsWidth())for(n=this._visibleGroups().filter(":not(.k-overflow-tools)"),i=n.length-1;i>=0&&(t=n.eq(i),!(e>this._groupsWidth()));i--){this._hideGroup(t);}},_stretch:function _stretch(e){var t,n,i;if(e>this._groupsWidth())for(n=this._hiddenGroups(),i=0;n.length>i&&(t=n.eq(i),!(e<this._groupsWidth())&&this._showGroup(t,e));i++){}},_hiddenGroups:function _hiddenGroups(){var t=this.overflowPopup,n=this.element.children("li.k-tool-group").filter(":hidden");return n=n.add(t.element.children("li")),n.sort(function(t,n){return e(t).data("position")>e(n).data("position")?1:-1;}),n;},_visibleGroups:function _visibleGroups(){return this.element.children("li.k-tool-group, li.k-overflow-tools").filter(":visible");},_groupsWidth:function _groupsWidth(){var t=0;return this._visibleGroups().each(function(){t+=e(this).data("outerWidth");}),Math.ceil(t);},_hideGroup:function _hideGroup(e){if(e.data("overflow")){var t=this.overflowPopup;e.detach().prependTo(t.element).addClass("k-overflow-tool-group");}else e.hide();},_showGroup:function _showGroup(t,n){var i,o;return t.length&&n>this._groupsWidth()+t.data("outerWidth")?(t.hasClass("k-overflow-tool-group")?(i=t.data("position"),0===i?t.detach().prependTo(this.element):(o=this.element.children().filter(function(t,n){return e(n).data("position")===i-1;}),t.detach().insertAfter(o)),t.removeClass("k-overflow-tool-group")):t.show(),!0):!1;}}),e.extend(r,{Toolbar:n});}(window.jQuery||window.kendo.jQuery);},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("editor/tables.min",["editor/toolbar.min"],e);}(function(){!function(e,t){var n=window.kendo,i=e.extend,o=e.proxy,r=n.ui.editor,a=r.Dom,s=r.EditorUtils,l=r.RangeUtils,c=r.Command,d=".kendoEditor",u="k-state-active",h="k-state-selected",f=r.Tool,p=r.ToolTemplate,m=r.InsertHtmlCommand,g=r.BlockFormatFinder,v=r.EditorUtils.registerTool,_="<td>"+r.emptyElementContent+"</td>",b=new g([{tags:["table"]}]),w=m.extend({_tableHtml:function _tableHtml(e,t){return e=e||1,t=t||1,"<table class='k-table' data-last>"+Array(e+1).join("<tr>"+Array(t+1).join(_)+"</tr>")+"</table>";},postProcess:function postProcess(t,n){var i=e("table[data-last]",t.document).removeAttr("data-last");n.setStart(i.find("td")[0],0),n.collapse(!0),t.selectRange(n);},exec:function exec(){var e=this.options;e.html=this._tableHtml(e.rows,e.columns),e.postProcess=this.postProcess,m.fn.exec.call(this);}}),y=f.extend({initialize:function initialize(t,n){f.fn.initialize.call(this,t,n);var i=e(this.options.popupTemplate).appendTo("body").kendoPopup({anchor:t,copyAnchorStyles:!1,open:o(this._open,this),activate:o(this._activate,this),close:o(this._close,this)}).data("kendoPopup");t.click(o(this._toggle,this)).keydown(o(this._keydown,this)),this._editor=n.editor,this._popup=i;},popup:function popup(){return this._popup;},_activate:e.noop,_open:function _open(){this._popup.options.anchor.addClass(u);},_close:function _close(){this._popup.options.anchor.removeClass(u);},_keydown:function _keydown(e){var t=n.keys,i=e.keyCode;i==t.DOWN&&e.altKey?this._popup.open():i==t.ESC&&this._popup.close();},_toggle:function _toggle(t){var n=e(t.target).closest(".k-tool");n.hasClass("k-state-disabled")||this.popup().toggle();},update:function update(e){var t=this.popup();t.wrapper&&"block"==t.wrapper.css("display")&&t.close(),e.removeClass("k-state-hover");},destroy:function destroy(){this._popup.destroy();}}),k=y.extend({init:function init(t){this.cols=8,this.rows=6,y.fn.init.call(this,e.extend(t,{command:w,popupTemplate:"<div class='k-ct-popup'>"+Array(this.cols*this.rows+1).join("<span class='k-ct-cell k-state-disabled' />")+"<div class='k-status'></div></div>"}));},_activate:function _activate(){function t(t){var n=e(window);return{row:Math.floor((t.clientY+n.scrollTop()-u.top)/o)+1,col:Math.floor((t.clientX+n.scrollLeft()-u.left)/i)+1};}var i,o,r=this,a=r._popup.element,s=a.find(".k-ct-cell"),l=s.eq(0),c=s.eq(s.length-1),u=n.getOffset(l),h=n.getOffset(c),f=r.cols,p=r.rows;a.find("*").addBack().attr("unselectable","on"),h.left+=c[0].offsetWidth,h.top+=c[0].offsetHeight,i=(h.left-u.left)/f,o=(h.top-u.top)/p,a.on("mousemove"+d,function(e){r._setTableSize(t(e));}).on("mouseleave"+d,function(){r._setTableSize();}).on("mouseup"+d,function(e){r._exec(t(e));});},_valid:function _valid(e){return e&&e.row>0&&e.col>0&&this.rows>=e.row&&this.cols>=e.col;},_exec:function _exec(e){this._valid(e)&&(this._editor.exec("createTable",{rows:e.row,columns:e.col}),this._popup.close());},_setTableSize:function _setTableSize(t){var i=this._popup.element,o=i.find(".k-status"),r=i.find(".k-ct-cell"),a=this.cols,s=this._editor.options.messages;this._valid(t)?(o.text(n.format(s.createTableHint,t.row,t.col)),r.each(function(n){e(this).toggleClass(h,t.col>n%a&&t.row>n/a);})):(o.text(s.dialogCancel),r.removeClass(h));},_keydown:function _keydown(e){var t,i,o,r,a,s,l,c;y.fn._keydown.call(this,e),this._popup.visible()&&(t=n.keys,i=e.keyCode,o=this._popup.element.find(".k-ct-cell"),r=Math.max(o.filter(".k-state-selected").last().index(),0),a=Math.floor(r/this.cols),s=r%this.cols,l=!1,i!=t.DOWN||e.altKey?i==t.UP?(l=!0,a--):i==t.RIGHT?(l=!0,s++):i==t.LEFT&&(l=!0,s--):(l=!0,a++),c={row:Math.max(1,Math.min(this.rows,a+1)),col:Math.max(1,Math.min(this.cols,s+1))},i==t.ENTER?this._exec(c):this._setTableSize(c),l&&(e.preventDefault(),e.stopImmediatePropagation()));},_open:function _open(){var e=this._editor.options.messages;y.fn._open.call(this),this.popup().element.find(".k-status").text(e.dialogCancel).end().find(".k-ct-cell").removeClass(h);},_close:function _close(){y.fn._close.call(this),this.popup().element.off(d);},update:function update(e,t){var n;y.fn.update.call(this,e),n=b.isFormatted(t),e.toggleClass("k-state-disabled",n);}}),x=c.extend({exec:function exec(){for(var e,t,n,i,o=this.lockRange(!0),s=o.endContainer;"td"!=a.name(s);){s=s.parentNode;}for(t=s.parentNode,e=t.children.length,n=t.cloneNode(!0),i=0;t.cells.length>i;i++){n.cells[i].innerHTML=r.emptyElementContent;}"before"==this.options.position?a.insertBefore(n,t):a.insertAfter(n,t),this.releaseRange(o);}}),C=c.extend({exec:function exec(){var e,t,n,i,o=this.lockRange(!0),s=a.closest(o.endContainer,"td"),l=a.closest(s,"table"),c=l.rows,d=this.options.position;for(e=a.findNodeIndex(s,!0),t=0;c.length>t;t++){n=c[t].cells[e],i=n.cloneNode(),i.innerHTML=r.emptyElementContent,"before"==d?a.insertBefore(i,n):a.insertAfter(i,n);}this.releaseRange(o);}}),S=c.extend({exec:function exec(){var t,n,i,o=this.lockRange(),r=l.mapAll(o,function(t){return e(t).closest("tr")[0];}),s=a.closest(r[0],"table");if(r.length>=s.rows.length)t=a.next(s),t&&!a.insignificant(t)||(t=a.prev(s)),a.remove(s);else for(n=0;r.length>n;n++){i=r[n],a.removeTextSiblings(i),t=a.next(i)||a.prev(i),t=t.cells[0],a.remove(i);}t&&(o.setStart(t,0),o.collapse(!0),this.editor.selectRange(o));}}),T=c.extend({exec:function exec(){var e,t,n=this.lockRange(),i=a.closest(n.endContainer,"td"),o=a.closest(i,"table"),r=o.rows,s=a.findNodeIndex(i,!0),l=r[0].cells.length;if(1==l)e=a.next(o),e&&!a.insignificant(e)||(e=a.prev(o)),a.remove(o);else for(a.removeTextSiblings(i),e=a.next(i)||a.prev(i),t=0;r.length>t;t++){a.remove(r[t].cells[s]);}e&&(n.setStart(e,0),n.collapse(!0),this.editor.selectRange(n));}}),D=f.extend({command:function command(e){return e=i(e,this.options),"delete"==e.action?"row"==e.type?new S(e):new T(e):"row"==e.type?new x(e):new C(e);},initialize:function initialize(e,t){f.fn.initialize.call(this,e,t),e.addClass("k-state-disabled");},update:function update(e,t){var n=!b.isFormatted(t);e.toggleClass("k-state-disabled",n);}});i(n.ui.editor,{PopupTool:y,TableCommand:w,InsertTableTool:k,TableModificationTool:D,InsertRowCommand:x,InsertColumnCommand:C,DeleteRowCommand:S,DeleteColumnCommand:T}),v("createTable",new k({template:new p({template:s.buttonTemplate,popup:!0,title:"Create table"})})),v("addColumnLeft",new D({type:"column",position:"before",template:new p({template:s.buttonTemplate,title:"Add column on the left"})})),v("addColumnRight",new D({type:"column",template:new p({template:s.buttonTemplate,title:"Add column on the right"})})),v("addRowAbove",new D({type:"row",position:"before",template:new p({template:s.buttonTemplate,title:"Add row above"})})),v("addRowBelow",new D({type:"row",template:new p({template:s.buttonTemplate,title:"Add row below"})})),v("deleteRow",new D({type:"row",action:"delete",template:new p({template:s.buttonTemplate,title:"Delete row"})})),v("deleteColumn",new D({type:"column",action:"delete",template:new p({template:s.buttonTemplate,title:"Delete column"})}));}(window.kendo.jQuery);},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("kendo.editor.min",["kendo.combobox.min","kendo.dropdownlist.min","kendo.resizable.min","kendo.window.min","kendo.colorpicker.min","kendo.imagebrowser.min","util/undoredostack.min","editor/main.min","editor/dom.min","editor/serializer.min","editor/range.min","editor/system.min","editor/inlineformat.min","editor/formatblock.min","editor/linebreak.min","editor/lists.min","editor/link.min","editor/file.min","editor/image.min","editor/components.min","editor/indent.min","editor/viewhtml.min","editor/formatting.min","editor/toolbar.min","editor/tables.min"],e);}(function(){},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("kendo.maskedtextbox.min",["kendo.core.min"],e);}(function(){return function(e,t){var n=window.kendo,i=n.caret,o=n.keys,r=n.ui,a=r.Widget,s=".kendoMaskedTextBox",l=e.proxy,c=(n.support.propertyChangeEvent?"propertychange":"input")+s,d="k-state-disabled",u="disabled",h="readonly",f="change",p=a.extend({init:function init(t,o){var r,l,c=this;a.fn.init.call(c,t,o),c._rules=e.extend({},c.rules,c.options.rules),t=c.element,r=t[0],c.wrapper=t,c._tokenize(),c._form(),c.element.addClass("k-textbox").attr("autocomplete","off").on("focus"+s,function(){var e=r.value;e?c._togglePrompt(!0):r.value=c._old=c._emptyMask,c._oldValue=e,c._timeoutId=setTimeout(function(){i(t,0,e?c._maskLength:0);});}).on("focusout"+s,function(){var e=t.val();clearTimeout(c._timeoutId),r.value=c._old="",e!==c._emptyMask&&(r.value=c._old=e),c._change(),c._togglePrompt();}),l=t.is("[disabled]")||e(c.element).parents("fieldset").is(":disabled"),l?c.enable(!1):c.readonly(t.is("[readonly]")),c.value(c.options.value||t.val()),n.notify(c);},options:{name:"MaskedTextBox",clearPromptChar:!1,unmaskOnPost:!1,promptChar:"_",culture:"",rules:{},value:"",mask:""},events:[f],rules:{0:/\d/,9:/\d|\s/,"#":/\d|\s|\+|\-/,L:/[a-zA-Z]/,"?":/[a-zA-Z]|\s/,"&":/\S/,C:/./,A:/[a-zA-Z0-9]/,a:/[a-zA-Z0-9]|\s/},setOptions:function setOptions(t){var n=this;a.fn.setOptions.call(n,t),n._rules=e.extend({},n.rules,n.options.rules),n._tokenize(),this._unbindInput(),this._bindInput(),n.value(n.element.val());},destroy:function destroy(){var e=this;e.element.off(s),e._formElement&&(e._formElement.off("reset",e._resetHandler),e._formElement.off("submit",e._submitHandler)),a.fn.destroy.call(e);},raw:function raw(){var e=this._unmask(this.element.val(),0);return e.replace(RegExp(this.options.promptChar,"g"),"");},value:function value(e){var i=this.element,o=this._emptyMask;return e===t?this.element.val():(null===e&&(e=""),o?(e=this._unmask(e+""),i.val(e?o:""),this._mask(0,this._maskLength,e),e=i.val(),this._oldValue=e,n._activeElement()!==i&&(e===o?i.val(""):this._togglePrompt()),t):(i.val(e),t));},_togglePrompt:function _togglePrompt(e){var t=this.element[0],n=t.value;this.options.clearPromptChar&&(n=e?this._oldValue:n.replace(RegExp(this.options.promptChar,"g")," "),t.value=this._old=n);},readonly:function readonly(e){this._editable({readonly:e===t?!0:e,disable:!1});},enable:function enable(e){this._editable({readonly:!1,disable:!(e=e===t?!0:e)});},_bindInput:function _bindInput(){var e=this;e._maskLength&&e.element.on("keydown"+s,l(e._keydown,e)).on("keypress"+s,l(e._keypress,e)).on("paste"+s,l(e._paste,e)).on(c,l(e._propertyChange,e));},_unbindInput:function _unbindInput(){this.element.off("keydown"+s).off("keypress"+s).off("paste"+s).off(c);},_editable:function _editable(e){var t=this,n=t.element,i=e.disable,o=e.readonly;t._unbindInput(),o||i?n.attr(u,i).attr(h,o).toggleClass(d,i):(n.removeAttr(u).removeAttr(h).removeClass(d),t._bindInput());},_change:function _change(){var e=this,t=e.value();t!==e._oldValue&&(e._oldValue=t,e.trigger(f),e.element.trigger(f));},_propertyChange:function _propertyChange(){var e,t,o=this,r=o.element[0],a=r.value;n._activeElement()===r&&(a===o._old||o._pasting||(t=i(r)[0],e=o._unmask(a.substring(t),t),r.value=o._old=a.substring(0,t)+o._emptyMask.substring(t),o._mask(t,t,e),i(r,t)));},_paste:function _paste(e){var t=this,n=e.target,o=i(n),r=o[0],a=o[1],s=t._unmask(n.value.substring(a),a);t._pasting=!0,setTimeout(function(){var e=n.value,o=e.substring(r,i(n)[0]);n.value=t._old=e.substring(0,r)+t._emptyMask.substring(r),t._mask(r,r,o),r=i(n)[0],t._mask(r,r,s),i(n,r),t._pasting=!1;});},_form:function _form(){var t=this,n=t.element,i=n.attr("form"),o=i?e("#"+i):n.closest("form");o[0]&&(t._resetHandler=function(){setTimeout(function(){t.value(n[0].value);});},t._submitHandler=function(){t.element[0].value=t._old=t.raw();},t.options.unmaskOnPost&&o.on("submit",t._submitHandler),t._formElement=o.on("reset",t._resetHandler));},_keydown:function _keydown(e){var n,r=e.keyCode,a=this.element[0],s=i(a),l=s[0],c=s[1],d=r===o.BACKSPACE;d||r===o.DELETE?(l===c&&(d?l-=1:c+=1,n=this._find(l,d)),n!==t&&n!==l?(d&&(n+=1),i(a,n)):l>-1&&this._mask(l,c,"",d),e.preventDefault()):r===o.ENTER&&this._change();},_keypress:function _keypress(e){var t,n;0===e.which||e.metaKey||e.ctrlKey||e.keyCode===o.ENTER||(t=String.fromCharCode(e.which),n=i(this.element),this._mask(n[0],n[1],t),(e.keyCode===o.BACKSPACE||t)&&e.preventDefault());},_find:function _find(e,t){var n=this.element.val()||this._emptyMask,i=1;for(t===!0&&(i=-1);e>-1||this._maskLength>=e;){if(n.charAt(e)!==this.tokens[e])return e;e+=i;}return-1;},_mask:function _mask(e,o,r,a){var s,l,c,d,u=this.element[0],h=u.value||this._emptyMask,f=this.options.promptChar,p=0;for(e=this._find(e,a),e>o&&(o=e),l=this._unmask(h.substring(o),o),r=this._unmask(r,e),s=r.length,r&&(l=l.replace(RegExp("^_{0,"+s+"}"),"")),r+=l,h=h.split(""),c=r.charAt(p);this._maskLength>e;){h[e]=c||f,c=r.charAt(++p),d===t&&p>s&&(d=e),e=this._find(e+1);}u.value=this._old=h.join(""),n._activeElement()===u&&(d===t&&(d=this._maskLength),i(u,d));},_unmask:function _unmask(t,n){var i,o,r,a,s,l,c,d;if(!t)return"";for(t=(t+"").split(""),r=0,a=n||0,s=this.options.promptChar,l=t.length,c=this.tokens.length,d="";c>a&&(i=t[r],o=this.tokens[a],i===o||i===s?(d+=i===s?s:"",r+=1,a+=1):"string"!=typeof o?((o.test&&o.test(i)||e.isFunction(o)&&o(i))&&(d+=i,a+=1),r+=1):a+=1,!(r>=l));){}return d;},_tokenize:function _tokenize(){for(var e,t,i,o,r=[],a=0,s=this.options.mask||"",l=s.split(""),c=l.length,d=0,u="",h=this.options.promptChar,f=n.getCulture(this.options.culture).numberFormat,p=this._rules;c>d;d++){if(e=l[d],t=p[e])r[a]=t,u+=h,a+=1;else for("."===e||","===e?e=f[e]:"$"===e?e=f.currency.symbol:"\\"===e&&(d+=1,e=l[d]),e=e.split(""),i=0,o=e.length;o>i;i++){r[a]=e[i],u+=e[i],a+=1;}}this.tokens=r,this._emptyMask=u,this._maskLength=u.length;}});r.plugin(p);}(window.kendo.jQuery),window.kendo;},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("kendo.pivotgrid.min",["kendo.dom.min","kendo.data.min"],e);}(function(){return function(e,t){function n(e){var n="string"==typeof e?[{name:e}]:e,i="[object Array]"===_e.call(n)?n:n!==t?[n]:[];return we(i,function(e){return"string"==typeof e?{name:e}:{name:e.name,type:e.type};});}function i(e){var n="string"==typeof e?[{name:[e],expand:!1}]:e,i="[object Array]"===_e.call(n)?n:n!==t?[n]:[];return we(i,function(e){return"string"==typeof e?{name:[e],expand:!1}:{name:"[object Array]"===_e.call(e.name)?e.name.slice():[e.name],expand:e.expand};});}function o(e){return-1!==e.indexOf(" ")&&(e='["'+e+'"]'),e;}function r(e,t,n,i){var o,a,s,l;if(n||(n=t),i||(i=0),l=n.members[i],l&&!l.measure){if(s=l.children,a=s.length,n===t?e[fe.stringify([l.name])]=!!a:a&&(e[fe.stringify(se(n,i))]=!0),a)for(o=0;a>o;o++){r(e,t,s[o],i);}r(e,t,n,i+1);}}function a(t){var n,i,o={};t.length&&r(o,t[0]),n=[];for(i in o){n.push({name:e.parseJSON(i),expand:o[i]});}return n;}function s(e,t){var n,i,o,r,a=t.tuples||[],s=a[0];if(s&&s.members.length>e.length)for(n=s.members,i=0;n.length>i;i++){if(!n[i].measure){for(o=!1,r=0;e.length>r;r++){if(0===H(e[r]).indexOf(n[i].hierarchy)){o=!0;break;}}o||e.push({name:[n[i].name],expand:!1});}}}function l(e){var t,n=[],i=e.members;for(t=0;i.length>t;t++){i[t].measure||n.push({name:[i[t].name],expand:i[t].children.length>0});}return n;}function c(e,t,n){var o,r;return e=e||{},s(t,e),n.length>1&&t.push({name:Se,measure:!0,children:i(n)}),o={members:t},e.tuples&&(r=x(e.tuples,o),r.tuple&&(t=l(r.tuple))),t;}function d(e){var t=fe.getter(e.field,!0);return function(n,i){return e.aggregate(t(n.dataItem),i,n);};}function u(e){return"number"==typeof e&&!isNaN(e);}function h(e){return e&&e.getTime;}function f(e){return e[e.length]={value:"",fmtValue:"",ordinal:e.length},e;}function p(e,n,i){return e.tuples.length<_(n.tuples,i)?n:t;}function m(e,t,n,i,o){var r,a,s,l=e.length,c=_(t,i),d=i.length||1;for(a=0;n>a;a++){for(r=0;l>r;r++){s=v(e[r],t)*d,s+=r%d,o[a*l+r].ordinal=a*c+s;}}}function g(e,t,n,i,o){var r,a,s,l=e.length,c=i.length||1;for(a=0;l>a;a++){for(s=v(e[a],t),s*=c,s+=a%c,r=0;n>r;r++){o[a*n+r].ordinal=s*n+r;}}}function v(e,t){return x(t,e).index;}function _(e,t){var n,i,o;if(!e.length)return 0;for(n=e.slice(),i=n.shift(),o=1;i;){i.members?[].push.apply(n,i.members):i.children&&(i.measure||(o+=i.children.length),[].push.apply(n,i.children)),i=n.shift();}return t.length&&(o*=t.length),o;}function b(e){return e||(e={tuples:[]}),e.tuples||(e.tuples=[]),e;}function w(e,t,n){var i,o,r,a;if(!e)return 0;for(i=Math.max(n.length,1),o=e.members.slice(0,t),r=i,a=o.shift(),i>1&&(i+=1);a;){a.name===Se?r+=i:a.children?[].push.apply(o,a.children):(r++,[].push.apply(o,a.members)),a=o.shift();}return r;}function y(e,t,n){var i,o,r,a,s,l;if(!t[0])return{parsedRoot:null,tuples:e,memberIndex:0,index:0};if(i=x(e,t[0]),!i.tuple)return{parsedRoot:null,tuples:t,memberIndex:0,index:0};if(o=i.tuple.members,r=t[0].members,a=-1,o.length!==r.length)return{parsedRoot:null,tuples:t,memberIndex:0,index:0};for(s=0,l=o.length;l>s;s++){!o[s].measure&&r[s].children[0]&&(-1==a&&r[s].children.length&&(a=s),o[s].children=r[s].children);}return n=Math.max(n.length,1),{parsedRoot:i.tuple,index:i.index*n,memberIndex:a,tuples:e};}function k(e,t){var n,i,o=!0;for(e=e.members,t=t.members,n=0,i=e.length;i>n;n++){e[n].measure||t[n].measure||(o=o&&H(e[n])===H(t[n]));}return o;}function x(e,t){var n,i,o,r,a,s,l,c=0;for(n=0,i=e.length;i>n;n++){if(o=e[n],k(o,t))return{tuple:o,index:c};for(c++,a=0,s=o.members.length;s>a;a++){if(l=o.members[a],!l.measure&&(r=x(l.children,t),c+=r.index,r.tuple))return{tuple:r.tuple,index:c};}}return{index:c};}function C(e,t){var n,i,o,r="";for(i=0,o=e.length;o>i;i++){n=e[i],r+=n.name,t[r]||(t[r]=n);}}function S(e,t){var n,i,o,r,a=e.members,s="",l="";for(n=0,i=a.length;i>n;n++){if(o=a[n],r){if(t[s+o.name]){s+=o.name,r=t[s];continue;}return t[s+o.parentName]?t[s+o.parentName]:t[l+o.parentName]?t[l+o.parentName]:t[l];}if(s+=o.name,r=t[o.parentName],!r&&(r=t[s],!r))return null;r&&(l+=r.name);}return r;}function T(e,t){var n,i,o,r;if(0===t.length)return-1;for(n=t[0],i=e.members,o=0,r=i.length;r>o;o++){if(i[o].name==n.name)return o;}}function D(n,i){if(!(0>i)){var o={name:Se,measure:!0,children:[e.extend({members:[],dataIndex:n.dataIndex},n.members[i])]};n.members.splice(i,1,o),n.dataIndex=t;}}function A(e,t){var n,i,o,r,a,s;if(1>e.length)return[];for(n=[],i={},o=T(e[0],t),r=0;e.length>r;r++){a=e[r],a.dataIndex=r,D(a,o),s=S(a,i),s?s.children.push(0>o||!s.measure?a:a.members[o].children[0]):n.push(a),C(a.members,i);}return n;}function E(e,t){var n,i,o,r,a,s,l,c,d;if(!e||!e.length)return t;for(n=[],i=I(e),o=i.length,r=Math.max(t.length/o,1),a=0;o>a;a++){for(l=r*a,c=r*i[a],s=0;r>s;s++){d=parseInt(c+s,10),n[parseInt(l+s,10)]=t[d]||{value:"",fmtValue:"",ordinal:d};}}return n;}function R(e,t){var n,i,o,r,a,s,l,c;if(!e||!e.length)return t;for(n=[],i=I(e),o=i.length,r=Math.max(t.length/o,1),s=0;r>s;s++){for(l=o*s,a=0;o>a;a++){c=i[a]+l,n[l+a]=t[c]||{value:"",fmtValue:"",ordinal:c};}}return n;}function I(e){var n,i,o,r,a,s,l;for(e=e.slice(),n=[],i=e.shift();i;){for(i.dataIndex!==t&&n.push(i.dataIndex),a=0,o=0,r=i.members.length;r>o;o++){l=i.members[o],s=l.children,l.measure?[].splice.apply(e,[0,0].concat(s)):[].splice.apply(e,[a,0].concat(s)),a+=s.length;}i=e.shift();}return n;}function F(e){var t=e.split(".");return t.length>2?t[0]+"."+t[1]:e;}function M(e,t){var n=e.length-1,i=e[n],o=P(t,i);return o&&o.dir?i="ORDER("+i+".Children,"+o.field+".CurrentMember.MEMBER_CAPTION,"+o.dir+")":i+=".Children",e[n]=i,e;}function P(e,t){for(var n=0,i=e.length;i>n;n++){if(0===t.indexOf(e[n].field))return e[n];}return null;}function z(e){var t,n="CROSSJOIN({";return e.length>2?(t=e.pop(),n+=z(e)):(n+=e.shift(),t=e.pop()),n+="},{",n+=t,n+="})";}function B(e,t){var n=e.slice(0);return t.length>1&&n.push("{"+L(t).join(",")+"}"),z(n);}function L(e){for(var n,i=0,o=e.length,r=[];o>i;i++){n=e[i],r.push(n.name!==t?n.name:n);}return r;}function H(e){return e=e.name||e,"[object Array]"===_e.call(e)&&(e=e[e.length-1]),e;}function N(e){for(var t=e.length,n=[],i=0;t>i;i++){n.push(e[i].name[0]);}return n;}function O(e,t){var n,i,o,r=0,a=e.length,s=t.length;for(t=t.slice(0);a>r;r++){for(n=e[r],o=0;s>o;o++){if(i=F(t[o]),-1!==n.indexOf(i)){t[o]=n;break;}}}return{names:t,expandedIdx:o,uniquePath:t.slice(0,o+1).join("")};}function V(e){for(var t,n,i,o,r,a,s=[],l=[],c=[],d=0,u=e.length;u>d;d++){if(t=e[d],o=t.name,a=!1,"[object Array]"!==_e.call(o)&&(t.name=o=[o]),o.length>1)l.push(t);else{for(r=F(o[0]),n=0,i=c.length;i>n;n++){if(0===c[n].name[0].indexOf(r)){a=!0;break;}}a||c.push(t),t.expand&&s.push(t);}}return s=s.concat(l),{root:c,expanded:s};}function U(e,t,n){var i,o,r,a,s,l,c,d,u="";if(e=e||[],i=V(e),o=i.root,r=N(o),a=[],i=i.expanded,s=i.length,l=0,d=[],r.length>1||t.length>1){for(a.push(B(r,t));s>l;l++){c=M(i[l].name,n),d=O(c,r).names,a.push(B(d,t));}u+=a.join(",");}else{for(;s>l;l++){c=M(i[l].name,n),d.push(c[0]);}u+=r.concat(d).join(",");}return u;}function W(e){var t="",n=e.value,i=e.field,o=e.operator;return"in"==o?(t+="{",t+=n,t+="}"):(t+="Filter(",t+=i+".MEMBERS",t+=fe.format(Y[o],i,n),t+=")"),t;}function j(e,t){var n,i,o="",r=e.filters,a=r.length;for(i=a-1;i>=0;i--){n="SELECT (",n+=W(r[i]),n+=") ON 0",i==a-1?(n+=" FROM ["+t+"]",o=n):o=n+" FROM ( "+o+" )";}return o;}function q(e,t,n){var i,o,r="";if(t){r+="<"+e+">";for(o in t){i=t[o],n&&(o=o.replace(/([A-Z]+(?=$|[A-Z][a-z])|[A-Z]?[a-z]+)/g,"$1_").toUpperCase().replace(/_$/,"")),r+="<"+o+">"+i+"</"+o+">";}r+="</"+e+">";}else r+="<"+e+"/>";return r;}function G(e){if(null==e)return[];var t=_e.call(e);return"[object Array]"!==t?[e]:e;}function $(e){var t,n,i,o,r={tuples:[]},a=G(fe.getter("Tuples.Tuple",!0)(e)),s=fe.getter("Caption['#text']"),l=fe.getter("UName['#text']"),c=fe.getter("LName['#text']"),d=fe.getter("LNum['#text']"),u=fe.getter("CHILDREN_CARDINALITY['#text']",!0),h=fe.getter("['@Hierarchy']"),f=fe.getter("PARENT_UNIQUE_NAME['#text']",!0);for(t=0;a.length>t;t++){for(n=[],i=G(a[t].Member),o=0;i.length>o;o++){n.push({children:[],caption:s(i[o]),name:l(i[o]),levelName:c(i[o]),levelNum:d(i[o]),hasChildren:parseInt(u(i[o]),10)>0,parentName:f(i[o]),hierarchy:h(i[o])});}r.tuples.push({members:n});}return r;}var Y,K,Q,X,J,Z,ee,te,ne,ie,oe,re,ae,se,le,ce,de,ue,he,fe=window.kendo,pe=fe.ui,me=fe.Class,ge=pe.Widget,ve=fe.data.DataSource,_e={}.toString,be=function be(e){return e;},we=e.map,ye=e.extend,ke=fe.isFunction,xe="change",Ce="error",Se="Measures",Te="progress",De="stateReset",Ae="auto",Ee="<div/>",Re=".kendoPivotGrid",Ie="__row_total__",Fe="dataBinding",Me="dataBound",Pe="expandMember",ze="collapseMember",Be="k-i-arrow-s",Le="k-i-arrow-e",He="<span>#: data.member.caption || data.member.name #</span>",Ne='<span class="k-icon k-i-kpi-#=data.dataItem.value > 0 ? "open" : data.dataItem.value < 0 ? "denied" : "hold"#">#:data.dataItem.value#</span>',Oe='<span class="k-icon k-i-kpi-#=data.dataItem.value > 0 ? "increase" : data.dataItem.value < 0 ? "decrease" : "equal"#">#:data.dataItem.value#</span>',Ve='#= data.dataItem ? kendo.htmlEncode(data.dataItem.fmtValue || data.dataItem.value) || "&nbsp;" : "&nbsp;" #',Ue='<table class="k-pivot-layout"><tr><td><div class="k-pivot-rowheaders"></div></td><td><div class="k-pivot-table k-state-default"></div></td></tr></table>',We={sum:function sum(e,t){var n=t.accumulator;return u(n)?u(e)&&(n+=e):n=e,n;},count:function count(e,t){return(t.accumulator||0)+1;},average:{aggregate:function aggregate(e,n){var i=n.accumulator;return n.count===t&&(n.count=0),u(i)?u(e)&&(i+=e):i=e,u(e)&&n.count++,i;},result:function result(e){var t=e.accumulator;return u(t)&&(t/=e.count),t;}},max:function max(e,t){var n=t.accumulator;return u(n)||h(n)||(n=e),e>n&&(u(e)||h(e))&&(n=e),n;},min:function min(e,t){var n=t.accumulator;return u(n)||h(n)||(n=e),n>e&&(u(e)||h(e))&&(n=e),n;}},je=me.extend({init:function init(e){this.options=ye({},this.options,e),this.dimensions=this._normalizeDescriptors("field",this.options.dimensions),this.measures=this._normalizeDescriptors("name",this.options.measures);},_normalizeDescriptors:function _normalizeDescriptors(e,t){var n,i,o,r;if(t=t||{},n={},"[object Array]"===_e.call(t)){for(o=0,r=t.length;r>o;o++){i=t[o],"string"==typeof i?n[i]={}:i[e]&&(n[i[e]]=i);}t=n;}return t;},_rootTuples:function _rootTuples(e,n){var i,o,r,a,s=n.length||1,l=this.dimensions||[],c=0,d=e.length,u=[],h=[];if(d||n.length){for(c=0;s>c;c++){for(i={members:[]},a=0;d>a;a++){o=e[a],r=o.split("&"),i.members[i.members.length]={children:[],caption:(l[o]||{}).caption||"All",name:o,levelName:o,levelNum:"0",hasChildren:!0,parentName:r.length>1?r[0]:t,hierarchy:o};}s>1&&(i.members[i.members.length]={children:[],caption:n[c].caption,name:n[c].descriptor.name,levelName:"MEASURES",levelNum:"0",hasChildren:!1,parentName:t,hierarchy:"MEASURES"}),u[u.length]=i;}h.push(Ie);}return{keys:h,tuples:u};},_expandedTuples:function _expandedTuples(e,n,i){var o,r,a,s,l,c,d,u,h,f,p,m=i.length||1,g=this.dimensions||[],v=[],_=[];for(a in e){for(s=e[a],d=this._findExpandedMember(n,s.uniquePath),l=v[d.index]||[],c=_[d.index]||[],u=d.member.names,o=0;m>o;o++){for(r={members:[]},p=0;u.length>p;p++){p===d.member.expandedIdx?(r.members[r.members.length]={children:[],caption:s.value,name:s.name,hasChildren:!1,levelNum:1,levelName:s.parentName+s.name,parentName:s.parentName,hierarchy:s.parentName+s.name},0===o&&c.push(se(r,p).join(""))):(f=u[p],h=f.split("&"),r.members[r.members.length]={children:[],caption:(g[f]||{}).caption||"All",name:f,levelName:f,levelNum:"0",hasChildren:!0,parentName:h.length>1?h[0]:t,hierarchy:f});}m>1&&(r.members[r.members.length]={children:[],caption:i[o].caption,name:i[o].descriptor.name,levelName:"MEASURES",levelNum:"0",hasChildren:!0,parentName:t,hierarchy:"MEASURES"}),l[l.length]=r;}v[d.index]=l,_[d.index]=c;}return{keys:_,tuples:v};},_findExpandedMember:function _findExpandedMember(e,t){for(var n=0;e.length>n;n++){if(e[n].uniquePath===t)return{member:e[n],index:n};}},_asTuples:function _asTuples(e,t,n){var i,o;return n=n||[],i=this._rootTuples(t.root,n),o=this._expandedTuples(e,t.expanded,n),{keys:[].concat.apply(i.keys,o.keys),tuples:[].concat.apply(i.tuples,o.tuples)};},_measuresInfo:function _measuresInfo(e,t){for(var n,i,o=0,r=e&&e.length,a=[],s={},l={},c=this.measures||{};r>o;o++){i=e[o].descriptor.name,n=c[i]||{},a.push(i),n.result&&(s[i]=n.result),n.format&&(l[i]=n.format);}return{names:a,formats:l,resultFuncs:s,rowAxis:t};},_toDataArray:function _toDataArray(e,t,n,i){var o,r,a,s,l,c,d,u,h,f,p=[],m=1,g=[],v=n.length||1,_=i.length||1;for(t.rowAxis?(g=t.names,m=g.length):f=t.names,a=0;v>a;a++){for(d=e[n[a]||Ie],c=0;m>c;c++){for(t.rowAxis&&(f=[g[c]]),s=0;_>s;s++){for(h=i[s]||Ie,u=d.items[h],o=h===Ie?d.aggregates:u?u.aggregates:{},l=0;f.length>l;l++){r=f[l],this._addData(p,o[r],t.formats[r],t.resultFuncs[r]);}}}}return p;},_addData:function _addData(e,t,n,i){var o,r="";t&&(t=i?i(t):t.accumulator,r=n?fe.format(n,t):t),o=e.length,e[o]={ordinal:o,value:t||"",fmtValue:r};},_matchDescriptors:function _matchDescriptors(e,n,i){for(var o,r,a,s,l=n.names,c=n.expandedIdx;c>0;){if(o=l[--c].split("&"),o.length>1&&(r=o[0],a=o[1],s=i[r](e),s=s!==t&&null!==s?""+s:s,s!=a))return!1;}return!0;},_calculateAggregate:function _calculateAggregate(e,t,n){var i,o,r,a={};for(r=0;e.length>r;r++){o=e[r].descriptor.name,i=n.aggregates[o]||{},i.accumulator=e[r].aggregator(t,i),a[o]=i;}return a;},_processColumns:function _processColumns(e,n,i,o,r,a,s,l){for(var c,d,u,h,f,p,m,g,v=r.dataItem,_=0;n.length>_;_++){d=n[_],this._matchDescriptors(v,d,i)&&(g=d.names.slice(0,d.expandedIdx).join(""),p=d.names[d.expandedIdx],c=i[p](v),c=c!==t&&null!==c?""+c:c,m=p,p=p+"&"+c,f=g+p,u=o[f]||{index:s.columnIndex,parentName:m,name:p,uniquePath:g+m,value:c},h=a.items[f]||{aggregates:{}},a.items[f]={index:u.index,aggregates:this._calculateAggregate(e,r,h)},l&&(o[f]||s.columnIndex++,o[f]=u));}},_measureAggregators:function _measureAggregators(e){var t,n,i,o,r,a,s=e.measures||[],l=this.measures||{},c=[];if(s.length){for(i=0,o=s.length;o>i;i++){if(t=s[i],n=l[t.name],r=null,n){if(a=n.aggregate,"string"==typeof a){if(r=We[a.toLowerCase()],!r)throw Error("There is no such aggregate function");n.aggregate=r.aggregate||r,n.result=r.result;}c.push({descriptor:t,caption:n.caption,result:n.result,aggregator:d(n)});}}}else c.push({descriptor:{name:"default"},caption:"default",aggregator:function aggregator(){return 1;}});return c;},_buildGetters:function _buildGetters(e){var t,n,i,r={};for(i=0;e.length>i;i++){n=e[i],t=n.split("&"),t.length>1?r[t[0]]=fe.getter(t[0],!0):r[n]=fe.getter(o(n),!0);}return r;},_parseDescriptors:function _parseDescriptors(e){var t,n=V(e),i=N(n.root),o=n.expanded,r=[];for(t=0;o.length>t;t++){r.push(O(o[t].name,i));}return{root:i,expanded:r};},_filter:function _filter(e,t){var n,i,o;if(!t)return e;for(i=0,o=t.filters;o.length>i;i++){n=o[i],"in"===n.operator&&(o[i]=this._normalizeFilter(n));}return new fe.data.Query(e).filter(t).data;},_normalizeFilter:function _normalizeFilter(e){var t,n=e.value.split(","),i=[];if(!n.length)return n;for(t=0;n.length>t;t++){i.push({field:e.field,operator:"eq",value:n[t]});}return{logic:"or",filters:i};},process:function process(e,n){var o,r,a,s,l,c,d,u,h,f,p,m,g,v,_,b,w,y,k,x,C,S,T,D,A,E,R,I,F,M;if(e=e||[],n=n||{},e=this._filter(e,n.filter),o=n.measures||[],r="rows"===n.measuresAxis,a=n.columns||[],s=n.rows||[],!a.length&&s.length&&(!o.length||o.length&&r)&&(a=s,s=[],r=!1),a.length||s.length||(r=!1),!a.length&&o.length&&(a=i(n.measures)),a=this._parseDescriptors(a),s=this._parseDescriptors(s),l={},c={},d={},h={columnIndex:0},f=this._measureAggregators(n),p=this._buildGetters(a.root),m=this._buildGetters(s.root),g=!1,v=a.expanded,_=s.expanded,y=0!==_.length,F=e.length,M=0,a.root.length||s.root.length)for(g=!0,M=0;F>M;M++){for(b=e[M],w={dataItem:b,index:M},S=l[Ie]||{items:{},aggregates:{}},this._processColumns(f,v,p,c,w,S,h,!y),S.aggregates=this._calculateAggregate(f,w,S),l[Ie]=S,k=0;_.length>k;k++){x=_[k],this._matchDescriptors(b,x,m)?(D=x.names.slice(0,x.expandedIdx).join(""),C=x.names[x.expandedIdx],A=C,u=m[C](b),u=u!==t?""+u:u,C=C+"&"+u,T=D+C,d[T]={uniquePath:D+A,parentName:A,name:C,value:u},E=l[T]||{items:{},aggregates:{}},this._processColumns(f,v,p,c,w,E,h,!0),E.aggregates=this._calculateAggregate(f,w,E),l[T]=E):this._processColumns(f,v,p,c,w,{items:{},aggregates:{}},h,!0);}}return g&&F?(!(f.length>1)||n.columns&&n.columns.length||(a={root:[],expanded:[]}),R=this._asTuples(c,a,r?[]:f),I=this._asTuples(d,s,r?f:[]),c=R.tuples,d=I.tuples,l=this._toDataArray(l,this._measuresInfo(f,r),I.keys,R.keys)):l=c=d=[],{axes:{columns:{tuples:c},rows:{tuples:d}},data:l};}}),qe=me.extend({init:function init(e,t){this.transport=t,this.options=t.options||{},this.transport.discover||ke(e.discover)&&(this.discover=e.discover);},read:function read(e){return this.transport.read(e);},update:function update(e){return this.transport.update(e);},create:function create(e){return this.transport.create(e);},destroy:function destroy(e){return this.transport.destroy(e);},discover:function discover(e){return this.transport.discover?this.transport.discover(e):(e.success({}),t);},catalog:function catalog(n){var i,o=this.options||{};return n===t?(o.connection||{}).catalog:(i=o.connection||{},i.catalog=n,this.options.connection=i,e.extend(this.transport.options,{connection:i}),t);},cube:function cube(e){var n,i=this.options||{};return e===t?(i.connection||{}).cube:(n=i.connection||{},n.cube=e,this.options.connection=n,ye(!0,this.transport.options,{connection:n}),t);}}),Ge=ve.extend({init:function init(t){var o,r=((t||{}).schema||{}).cube,a="columns",s={axes:be,cubes:be,catalogs:be,measures:be,dimensions:be,hierarchies:be,levels:be,members:be};r&&(s=e.extend(s,this._cubeSchema(r)),this.cubeBuilder=new je(r)),ve.fn.init.call(this,ye(!0,{},{schema:s},t)),this.transport=new qe(this.options.transport||{},this.transport),this._columns=i(this.options.columns),this._rows=i(this.options.rows),o=this.options.measures||[],"[object Object]"===_e.call(o)&&(a=o.axis||"columns",o=o.values||[]),this._measures=n(o),this._measuresAxis=a,this._skipNormalize=0,this._axes={};},_cubeSchema:function _cubeSchema(t){return{dimensions:function dimensions(){var e,n=[],i=t.dimensions;for(e in i){n.push({name:e,caption:i[e].caption||e,uniqueName:e,defaultHierarchy:e,type:1});}return t.measures&&n.push({name:Se,caption:Se,uniqueName:Se,type:2}),n;},hierarchies:function hierarchies(){return[];},measures:function measures(){var e,n=[],i=t.measures;for(e in i){n.push({name:e,caption:e,uniqueName:e,aggregator:e});}return n;},members:e.proxy(function(e,n){var i,r,a=n.levelUniqueName||n.memberUniqueName,s=fe.getter(this.options.schema.data,!0),l=s(this.options.data)||this._rawData||[],c=[],d=0,u={};if(a&&(a=a.split(".")[0]),!n.treeOp)return c.push({caption:t.dimensions[a].caption||a,childrenCardinality:"1",dimensionUniqueName:a,hierarchyUniqueName:a,levelUniqueName:a,name:a,uniqueName:a}),c;for(i=fe.getter(o(a),!0);l.length>d;d++){r=i(l[d]),!r&&0!==r||u[r]||(u[r]=!0,c.push({caption:r,childrenCardinality:"0",dimensionUniqueName:a,hierarchyUniqueName:a,levelUniqueName:a,name:r,uniqueName:r}));}return c;},this)};},options:{serverSorting:!0,serverPaging:!0,serverFiltering:!0,serverGrouping:!0,serverAggregates:!0},catalog:function catalog(e){return e===t?this.transport.catalog():(this.transport.catalog(e),this._mergeState({}),this._axes={},this.data([]),t);},cube:function cube(e){return e===t?this.transport.cube():(this.transport.cube(e),this._axes={},this._mergeState({}),this.data([]),t);},axes:function axes(){return this._axes;},columns:function columns(e){return e===t?this._columns:(this._skipNormalize+=1,this._clearAxesData=!0,this._columns=i(e),this.query({columns:e,rows:this.rowsAxisDescriptors(),measures:this.measures()}),t);},rows:function rows(e){return e===t?this._rows:(this._skipNormalize+=1,this._clearAxesData=!0,this._rows=i(e),this.query({columns:this.columnsAxisDescriptors(),rows:e,measures:this.measures()}),t);},measures:function measures(e){return e===t?this._measures:(this._skipNormalize+=1,this._clearAxesData=!0,this.query({columns:this.columnsAxisDescriptors(),rows:this.rowsAxisDescriptors(),measures:n(e)}),t);},measuresAxis:function measuresAxis(){return this._measuresAxis||"columns";},_expandPath:function _expandPath(e,t){var n,o,r,a="columns"===t?"columns":"rows",s="columns"===t?"rows":"columns",l=i(e),d=H(l[l.length-1]);for(this._lastExpanded=a,l=c(this.axes()[a],l,this.measures()),n=0;l.length>n;n++){if(o=H(l[n]),o===d){if(l[n].expand)return;l[n].expand=!0;}else l[n].expand=!1;}r={},r[a]=l,r[s]=this._descriptorsForAxis(s),this._query(r);},_descriptorsForAxis:function _descriptorsForAxis(e){var t=this.axes(),n=this[e]()||[];return t&&t[e]&&t[e].tuples&&t[e].tuples[0]&&(n=a(t[e].tuples||[])),n;},columnsAxisDescriptors:function columnsAxisDescriptors(){return this._descriptorsForAxis("columns");},rowsAxisDescriptors:function rowsAxisDescriptors(){return this._descriptorsForAxis("rows");},_process:function _process(e,t){this._view=e,t=t||{},t.items=t.items||this._view,this.trigger(xe,t);},_query:function _query(e){var t=this;return e||(this._skipNormalize+=1,this._clearAxesData=!0),t.query(ye({},{page:t.page(),pageSize:t.pageSize(),sort:t.sort(),filter:t.filter(),group:t.group(),aggregate:t.aggregate(),columns:this.columnsAxisDescriptors(),rows:this.rowsAxisDescriptors(),measures:this.measures()},e));},query:function query(t){var n=this._mergeState(t);return this._data.length&&this.cubeBuilder?(this._params(n),this._updateLocalData(this._pristineData),e.Deferred().resolve().promise()):this.read(n);},_mergeState:function _mergeState(e){return e=ve.fn._mergeState.call(this,e),e!==t&&(this._measures=n(e.measures),e.columns?e.columns=i(e.columns):e.columns||(this._columns=[]),e.rows?e.rows=i(e.rows):e.rows||(this._rows=[])),e;},filter:function filter(e){return e===t?this._filter:(this._skipNormalize+=1,this._clearAxesData=!0,this._query({filter:e,page:1}),t);},expandColumn:function expandColumn(e){this._expandPath(e,"columns");},expandRow:function expandRow(e){this._expandPath(e,"rows");},success:function success(e){var t;this.cubeBuilder&&(t=(this.reader.data(e)||[]).slice(0)),ve.fn.success.call(this,e),t&&(this._pristineData=t);},_processResult:function _processResult(e,t){var n,i,o,r,a,s,l,c,d,u,h;return this.cubeBuilder&&(n=this.cubeBuilder.process(e,this._requestData),e=n.data,t=n.axes),c=this.columns(),d=this.rows(),u=t.columns&&t.columns.tuples,c.length||!d.length||!u||!this._rowMeasures().length&&this.measures().length||(t={columns:{},rows:t.columns}),c.length||d.length||"rows"!==this.measuresAxis()||!u||(t={columns:{},rows:t.columns}),this._axes={columns:b(this._axes.columns),rows:b(this._axes.rows)},t={columns:b(t.columns),rows:b(t.rows)},i=this._normalizeTuples(t.columns.tuples,this._axes.columns.tuples,c,this._columnMeasures()),o=this._normalizeTuples(t.rows.tuples,this._axes.rows.tuples,d,this._rowMeasures()),this._skipNormalize-=1,this.cubeBuilder||(e=this._normalizeData({columnsLength:t.columns.tuples.length,rowsLength:t.rows.tuples.length,columnIndexes:i,rowIndexes:o,data:e})),"rows"==this._lastExpanded?(r=t.columns.tuples,s=this._columnMeasures(),a=p(t.columns,this._axes.columns,s),a&&(l="columns",t.columns=a,m(r,a.tuples,t.rows.tuples.length,s,e),this.cubeBuilder||(e=this._normalizeData({columnsLength:_(t.columns.tuples,s),rowsLength:t.rows.tuples.length,data:e})))):"columns"==this._lastExpanded&&(r=t.rows.tuples,s=this._rowMeasures(),a=p(t.rows,this._axes.rows,s),a&&(l="rows",t.rows=a,g(r,a.tuples,t.columns.tuples.length,s,e),this.cubeBuilder||(e=this._normalizeData({columnsLength:_(t.rows.tuples,s),rowsLength:t.columns.tuples.length,data:e})))),this._lastExpanded=null,h=this._mergeAxes(t,e,l),this._axes=h.axes,h.data;},_readData:function _readData(e){var t=this.reader.axes(e),n=this.reader.data(e);return this.cubeBuilder&&(this._rawData=n),this._processResult(n,t);},_createTuple:function _createTuple(e,t,n){var i,o,r,a,s,l,c,d,u=e.members,h=u.length,f={members:[]},p=0;for(t&&(h-=1);h>p;p++){d=u[p],o=+d.levelNum,r=d.name,a=d.parentName,c=d.caption||r,s=d.hasChildren,l=d.hierarchy,i=d.levelName,n&&(c="All",0===o?a=d.name:o-=1,s=!0,r=l=i=a),f.members.push({name:r,children:[],caption:c,levelName:i,levelNum:""+o,hasChildren:s,hierarchy:l,parentName:n?"":a});}return t&&f.members.push({name:t.name,children:[]}),f;},_hasRoot:function _hasRoot(e,t,n){var i,o,r,a,s,l,c;if(t.length)return x(t,e).tuple;for(i=e.members,a=!0,l=0,c=i.length;c>l;l++){if(o=i[l],s=+o.levelNum||0,r=n[l],!(0===s||r&&o.name===H(r))){a=!1;break;}}return a;},_mergeAxes:function _mergeAxes(e,t,n){var i,o,r,a,s,l=this._columnMeasures(),c=this._rowMeasures(),d=this.axes(),u=_(d.rows.tuples,c),h=e.rows.tuples.length,f=_(d.columns.tuples,l),p=e.columns.tuples.length;return"columns"==n?(p=f,o=e.columns.tuples):(o=A(e.columns.tuples,l),t=R(o,t)),r=y(d.columns.tuples,o,l),"rows"==n?(h=_(e.rows.tuples,c),o=e.rows.tuples):(o=A(e.rows.tuples,c),t=E(o,t)),a=y(d.rows.tuples,o,c),d.columns.tuples=r.tuples,d.rows.tuples=a.tuples,f!==_(d.columns.tuples,l)?(i=r.index+w(r.parsedRoot,r.memberIndex,l),s=f+p,t=this._mergeColumnData(t,i,h,p,s)):u!==_(d.rows.tuples,c)&&(i=a.index+w(a.parsedRoot,a.memberIndex,c),t=this._mergeRowData(t,i,h,p)),0===d.columns.tuples.length&&0===d.rows.tuples.length&&(t=[]),{axes:d,data:t};},_mergeColumnData:function _mergeColumnData(e,t,n,i,o){var r,a,s,l=this.data().toJSON(),c=0,d=Math.max(this._columnMeasures().length,1);for(n=Math.max(n,1),l.length>0&&(c=d,o-=d),r=0;n>r;r++){a=t+r*o,s=e.splice(0,i),s.splice(0,c),[].splice.apply(l,[a,0].concat(s));}return l;},_mergeRowData:function _mergeRowData(e,t,n,i){var o,r,a,s=this.data().toJSON(),l=Math.max(this._rowMeasures().length,1);for(i=Math.max(i,1),s.length>0&&(n-=l,e.splice(0,i*l)),o=0;n>o;o++){a=e.splice(0,i),r=t*i+o*i,[].splice.apply(s,[r,0].concat(a));}return s;},_columnMeasures:function _columnMeasures(){var e=this.measures(),t=[];return"columns"===this.measuresAxis()&&(0===this.columns().length?t=e:e.length>1&&(t=e)),t;},_rowMeasures:function _rowMeasures(){var e=this.measures(),t=[];return"rows"===this.measuresAxis()&&(0===this.rows().length?t=e:e.length>1&&(t=e)),t;},_updateLocalData:function _updateLocalData(e,t){this.cubeBuilder&&(t&&(this._requestData=t),e=this._processResult(e)),this._data=this._observe(e),this._ranges=[],this._addRange(this._data),this._total=this._data.length,this._pristineTotal=this._total,this._process(this._data);},data:function data(e){var n=this;return e===t?n._data:(this._pristineData=e.slice(0),this._updateLocalData(e,{columns:this.columns(),rows:this.rows(),measures:this.measures()}),t);},_normalizeTuples:function _normalizeTuples(e,t,n,i){var o,r,a,s=i.length||1,l=0,c=[],d={},u=0;if(e.length){if(0>=this._skipNormalize&&!this._hasRoot(e[0],t,n)){for(this._skipNormalize=0;s>l;l++){c.push(this._createTuple(e[0],i[l],!0)),d[l]=l;}e.splice.apply(e,[0,e.length].concat(c).concat(e)),l=s;}if(i.length)for(a=o=e[l],r=o.members.length-1;o;){if(u>=s&&(u=0),o.members[r].name!==i[u].name&&(e.splice(l,0,this._createTuple(o,i[u])),d[l]=l),l+=1,u+=1,o=e[l],s>u&&(!o||le(a,r-1)!==le(o,r-1))){for(;s>u;u++){e.splice(l,0,this._createTuple(a,i[u])),d[l]=l,l+=1;}o=e[l];}a=o;}return d;}},_addMissingDataItems:function _addMissingDataItems(e,n){for(;n.rowIndexes[parseInt(e.length/n.columnsLength,10)]!==t;){for(var i=0;n.columnsLength>i;i++){e=f(e);}}for(;n.columnIndexes[e.length%n.columnsLength]!==t;){e=f(e);}return e;},_normalizeOrdinals:function _normalizeOrdinals(e,t,n){var i=n.lastOrdinal;if(!t)return f(e);if(t.ordinal-i>1)for(i+=1;t.ordinal>i&&n.length>e.length;){e=this._addMissingDataItems(f(e),n),i+=1;}return t.ordinal=e.length,e[e.length]=t,e;},_normalizeData:function _normalizeData(e){var t,n,i,o=e.data,r=0,a=[];if(e.lastOrdinal=0,e.columnIndexes=e.columnIndexes||{},e.rowIndexes=e.rowIndexes||{},e.columnsLength=e.columnsLength||1,e.rowsLength=e.rowsLength||1,e.length=e.columnsLength*e.rowsLength,i=e.length,o.length===i)return o;for(;i>a.length;){t=o[r++],t&&(n=t.ordinal),a=this._normalizeOrdinals(this._addMissingDataItems(a,e),t,e),e.lastOrdinal=n;}return a;},discover:function discover(t,n){var i=this,o=i.transport;return e.Deferred(function(e){o.discover(ye({success:function success(t){t=i.reader.parse(t),i._handleCustomErrors(t)||(n&&(t=n(t)),e.resolve(t));},error:function error(t,n,o){e.reject(t),i.error(t,n,o);}},t));}).promise().done(function(){i.trigger("schemaChange");});},schemaMeasures:function schemaMeasures(){var e=this;return e.discover({data:{command:"schemaMeasures",restrictions:{catalogName:e.transport.catalog(),cubeName:e.transport.cube()}}},function(t){return e.reader.measures(t);});},schemaKPIs:function schemaKPIs(){var e=this;return e.discover({data:{command:"schemaKPIs",restrictions:{catalogName:e.transport.catalog(),cubeName:e.transport.cube()}}},function(t){return e.reader.kpis(t);});},schemaDimensions:function schemaDimensions(){var e=this;return e.discover({data:{command:"schemaDimensions",restrictions:{catalogName:e.transport.catalog(),cubeName:e.transport.cube()}}},function(t){return e.reader.dimensions(t);});},schemaHierarchies:function schemaHierarchies(e){var t=this;return t.discover({data:{command:"schemaHierarchies",restrictions:{catalogName:t.transport.catalog(),cubeName:t.transport.cube(),dimensionUniqueName:e}}},function(e){return t.reader.hierarchies(e);});},schemaLevels:function schemaLevels(e){var t=this;return t.discover({data:{command:"schemaLevels",restrictions:{catalogName:t.transport.catalog(),cubeName:t.transport.cube(),hierarchyUniqueName:e}}},function(e){return t.reader.levels(e);});},schemaCubes:function schemaCubes(){var e=this;return e.discover({data:{command:"schemaCubes",restrictions:{catalogName:e.transport.catalog()}}},function(t){return e.reader.cubes(t);});},schemaCatalogs:function schemaCatalogs(){var e=this;return e.discover({data:{command:"schemaCatalogs"}},function(t){return e.reader.catalogs(t);});},schemaMembers:function schemaMembers(e){var t=this,n=function(e){return function(n){return t.reader.members(n,e);};}(e);return t.discover({data:{command:"schemaMembers",restrictions:ye({catalogName:t.transport.catalog(),cubeName:t.transport.cube()},e)}},n);},_params:function _params(e){this._clearAxesData&&(this._axes={},this._data=this._observe([]),this._clearAxesData=!1,this.trigger(De));var t=ve.fn._params.call(this,e);return t=ye({measures:this.measures(),measuresAxis:this.measuresAxis(),columns:this.columns(),rows:this.rows()},t),this.cubeBuilder&&(this._requestData=t),t;}});Ge.create=function(e){e=e&&e.push?{data:e}:e;var t=e||{},n=t.data;if(t.data=n,!(t instanceof Ge)&&t instanceof fe.data.DataSource)throw Error("Incorrect DataSource type. Only PivotDataSource instances are supported");return t instanceof Ge?t:new Ge(t);},Y={contains:', InStr({0}.CurrentMember.MEMBER_CAPTION,"{1}") > 0',doesnotcontain:', InStr({0}.CurrentMember.MEMBER_CAPTION,"{1}") = 0',startswith:', Left({0}.CurrentMember.MEMBER_CAPTION,Len("{1}"))="{1}"',endswith:', Right({0}.CurrentMember.MEMBER_CAPTION,Len("{1}"))="{1}"',eq:', {0}.CurrentMember.MEMBER_CAPTION = "{1}"',neq:', NOT {0}.CurrentMember.MEMBER_CAPTION = "{1}"'},K={schemaCubes:"MDSCHEMA_CUBES",schemaCatalogs:"DBSCHEMA_CATALOGS",schemaMeasures:"MDSCHEMA_MEASURES",schemaDimensions:"MDSCHEMA_DIMENSIONS",schemaHierarchies:"MDSCHEMA_HIERARCHIES",schemaLevels:"MDSCHEMA_LEVELS",schemaMembers:"MDSCHEMA_MEMBERS",schemaKPIs:"MDSCHEMA_KPIS"},Q={read:function read(e){var t,n,i,o,r,a='<Envelope xmlns="http://schemas.xmlsoap.org/soap/envelope/"><Header/><Body><Execute xmlns="urn:schemas-microsoft-com:xml-analysis"><Command><Statement>';return a+="SELECT NON EMPTY {",t=e.columns||[],n=e.rows||[],i=e.measures||[],o="rows"===e.measuresAxis,r=e.sort||[],!t.length&&n.length&&(!i.length||i.length&&o)&&(t=n,n=[],o=!1),t.length||n.length||(o=!1),t.length?a+=U(t,o?[]:i,r):i.length&&!o&&(a+=L(i).join(",")),a+="} DIMENSION PROPERTIES CHILDREN_CARDINALITY, PARENT_UNIQUE_NAME ON COLUMNS",(n.length||o&&i.length>1)&&(a+=", NON EMPTY {",a+=n.length?U(n,o?i:[],r):L(i).join(","),a+="} DIMENSION PROPERTIES CHILDREN_CARDINALITY, PARENT_UNIQUE_NAME ON ROWS"),e.filter?(a+=" FROM ",a+="(",a+=j(e.filter,e.connection.cube),a+=")"):a+=" FROM ["+e.connection.cube+"]",1==i.length&&t.length&&(a+=" WHERE ("+L(i).join(",")+")"),a+="</Statement></Command><Properties><PropertyList><Catalog>"+e.connection.catalog+"</Catalog><Format>Multidimensional</Format></PropertyList></Properties></Execute></Body></Envelope>",a.replace(/\&/g,"&amp;");},discover:function discover(t){t=t||{};var n='<Envelope xmlns="http://schemas.xmlsoap.org/soap/envelope/"><Header/><Body><Discover xmlns="urn:schemas-microsoft-com:xml-analysis">';return n+="<RequestType>"+(K[t.command]||t.command)+"</RequestType>",n+="<Restrictions>"+q("RestrictionList",t.restrictions,!0)+"</Restrictions>",t.connection&&t.connection.catalog&&(t.properties=e.extend({},{Catalog:t.connection.catalog},t.properties)),n+="<Properties>"+q("PropertyList",t.properties)+"</Properties>",n+="</Discover></Body></Envelope>";}},X=fe.data.RemoteTransport.extend({init:function init(e){var t=e;e=this.options=ye(!0,{},this.options,e),fe.data.RemoteTransport.call(this,e),ke(t.discover)?this.discover=t.discover:"string"==typeof t.discover?this.options.discover={url:t.discover}:t.discover||(this.options.discover=this.options.read);},setup:function setup(t,n){return t.data=t.data||{},e.extend(!0,t.data,{connection:this.options.connection}),fe.data.RemoteTransport.fn.setup.call(this,t,n);},options:{read:{dataType:"text",contentType:"text/xml",type:"POST"},discover:{dataType:"text",contentType:"text/xml",type:"POST"},parameterMap:function parameterMap(e,t){return Q[t](e,t);}},discover:function discover(t){return e.ajax(this.setup(t,"discover"));}}),J={cubes:{name:fe.getter("CUBE_NAME['#text']",!0),caption:fe.getter("CUBE_CAPTION['#text']",!0),description:fe.getter("DESCRIPTION['#text']",!0),type:fe.getter("CUBE_TYPE['#text']",!0)},catalogs:{name:fe.getter("CATALOG_NAME['#text']",!0),description:fe.getter("DESCRIPTION['#text']",!0)},measures:{name:fe.getter("MEASURE_NAME['#text']",!0),caption:fe.getter("MEASURE_CAPTION['#text']",!0),uniqueName:fe.getter("MEASURE_UNIQUE_NAME['#text']",!0),description:fe.getter("DESCRIPTION['#text']",!0),aggregator:fe.getter("MEASURE_AGGREGATOR['#text']",!0),groupName:fe.getter("MEASUREGROUP_NAME['#text']",!0),displayFolder:fe.getter("MEASURE_DISPLAY_FOLDER['#text']",!0),defaultFormat:fe.getter("DEFAULT_FORMAT_STRING['#text']",!0)},kpis:{name:fe.getter("KPI_NAME['#text']",!0),caption:fe.getter("KPI_CAPTION['#text']",!0),value:fe.getter("KPI_VALUE['#text']",!0),goal:fe.getter("KPI_GOAL['#text']",!0),status:fe.getter("KPI_STATUS['#text']",!0),trend:fe.getter("KPI_TREND['#text']",!0),statusGraphic:fe.getter("KPI_STATUS_GRAPHIC['#text']",!0),trendGraphic:fe.getter("KPI_TREND_GRAPHIC['#text']",!0),description:fe.getter("KPI_DESCRIPTION['#text']",!0),groupName:fe.getter("MEASUREGROUP_NAME['#text']",!0)},dimensions:{name:fe.getter("DIMENSION_NAME['#text']",!0),caption:fe.getter("DIMENSION_CAPTION['#text']",!0),description:fe.getter("DESCRIPTION['#text']",!0),uniqueName:fe.getter("DIMENSION_UNIQUE_NAME['#text']",!0),defaultHierarchy:fe.getter("DEFAULT_HIERARCHY['#text']",!0),type:fe.getter("DIMENSION_TYPE['#text']",!0)},hierarchies:{name:fe.getter("HIERARCHY_NAME['#text']",!0),caption:fe.getter("HIERARCHY_CAPTION['#text']",!0),description:fe.getter("DESCRIPTION['#text']",!0),uniqueName:fe.getter("HIERARCHY_UNIQUE_NAME['#text']",!0),dimensionUniqueName:fe.getter("DIMENSION_UNIQUE_NAME['#text']",!0),displayFolder:fe.getter("HIERARCHY_DISPLAY_FOLDER['#text']",!0),origin:fe.getter("HIERARCHY_ORIGIN['#text']",!0),defaultMember:fe.getter("DEFAULT_MEMBER['#text']",!0)},levels:{name:fe.getter("LEVEL_NAME['#text']",!0),caption:fe.getter("LEVEL_CAPTION['#text']",!0),description:fe.getter("DESCRIPTION['#text']",!0),uniqueName:fe.getter("LEVEL_UNIQUE_NAME['#text']",!0),dimensionUniqueName:fe.getter("DIMENSION_UNIQUE_NAME['#text']",!0),displayFolder:fe.getter("LEVEL_DISPLAY_FOLDER['#text']",!0),orderingProperty:fe.getter("LEVEL_ORDERING_PROPERTY['#text']",!0),origin:fe.getter("LEVEL_ORIGIN['#text']",!0),hierarchyUniqueName:fe.getter("HIERARCHY_UNIQUE_NAME['#text']",!0)},members:{name:fe.getter("MEMBER_NAME['#text']",!0),caption:fe.getter("MEMBER_CAPTION['#text']",!0),uniqueName:fe.getter("MEMBER_UNIQUE_NAME['#text']",!0),dimensionUniqueName:fe.getter("DIMENSION_UNIQUE_NAME['#text']",!0),hierarchyUniqueName:fe.getter("HIERARCHY_UNIQUE_NAME['#text']",!0),levelUniqueName:fe.getter("LEVEL_UNIQUE_NAME['#text']",!0),childrenCardinality:fe.getter("CHILDREN_CARDINALITY['#text']",!0)}},Z=["axes","catalogs","cubes","dimensions","hierarchies","levels","measures"],ee=fe.data.XmlDataReader.extend({init:function init(e){fe.data.XmlDataReader.call(this,e),this._extend(e);},_extend:function _extend(e){for(var t,n,i=0,o=Z.length;o>i;i++){t=Z[i],n=e[t],n&&n!==be&&(this[t]=n);}},parse:function parse(e){var t=fe.data.XmlDataReader.fn.parse(e.replace(/<(\/?)(\w|-)+:/g,"<$1"));return fe.getter("['Envelope']['Body']",!0)(t);},errors:function errors(e){var t=fe.getter("['Fault']",!0)(e);return t?[{faultstring:fe.getter("faultstring['#text']",!0)(t),faultcode:fe.getter("faultcode['#text']",!0)(t)}]:null;},axes:function axes(e){var t,n,i,o;for(e=fe.getter('ExecuteResponse["return"].root',!0)(e),t=G(fe.getter("Axes.Axis",!0)(e)),i={columns:{},rows:{}},o=0;t.length>o;o++){n=t[o],"sliceraxis"!==n["@name"].toLowerCase()&&(i.columns.tuples?i.rows=$(n):i.columns=$(n));}return i;},data:function data(e){var t,n,i,o,r,a;for(e=fe.getter('ExecuteResponse["return"].root',!0)(e),t=G(fe.getter("CellData.Cell",!0)(e)),n=[],i=fe.getter("['@CellOrdinal']"),o=fe.getter("Value['#text']"),r=fe.getter("FmtValue['#text']"),a=0;t.length>a;a++){n.push({value:o(t[a]),fmtValue:r(t[a]),ordinal:parseInt(i(t[a]),10)});}return n;},_mapSchema:function _mapSchema(e,t){var n,i,o,r,a;for(e=fe.getter('DiscoverResponse["return"].root',!0)(e),n=G(fe.getter("row",!0)(e)),i=[],o=0;n.length>o;o++){r={};for(a in t){r[a]=t[a](n[o]);}i.push(r);}return i;},measures:function measures(e){return this._mapSchema(e,J.measures);},kpis:function kpis(e){return this._mapSchema(e,J.kpis);},hierarchies:function hierarchies(e){return this._mapSchema(e,J.hierarchies);},levels:function levels(e){return this._mapSchema(e,J.levels);},dimensions:function dimensions(e){return this._mapSchema(e,J.dimensions);},cubes:function cubes(e){return this._mapSchema(e,J.cubes);},catalogs:function catalogs(e){return this._mapSchema(e,J.catalogs);},members:function members(e){return this._mapSchema(e,J.members);}}),ye(!0,fe.data,{PivotDataSource:Ge,XmlaTransport:X,XmlaDataReader:ee,PivotCubeBuilder:je,transports:{xmla:X},readers:{xmla:ee}}),te=function te(e,t){if(!e)return null;for(var n=0,i=e.length;i>n;n++){if(e[n].field===t)return e[n];}return null;},ne=function ne(e,t){var n,i,o=[];for(n=0,i=e.length;i>n;n++){e[n].field!==t&&o.push(e[n]);}return o;},fe.ui.PivotSettingTarget=ge.extend({init:function init(t,n){var i=this;ge.fn.init.call(i,t,n),i.element.addClass("k-pivot-setting"),i.dataSource=fe.data.PivotDataSource.create(n.dataSource),i._refreshHandler=e.proxy(i.refresh,i),i.dataSource.first(xe,i._refreshHandler),n.template||(i.options.template="<div data-"+fe.ns+'name="${data.name || data}">${data.name || data}'+(i.options.enabled?'<a class="k-button k-button-icon k-button-bare"><span class="k-icon k-setting-delete"></span></a>':"")+"</div>"),i.template=fe.template(i.options.template),i.emptyTemplate=fe.template(i.options.emptyTemplate),i._sortable(),i.element.on("click"+Re,".k-button,.k-item",function(t){var n=e(t.target),o=n.closest("["+fe.attr("name")+"]").attr(fe.attr("name"));o&&(n.hasClass("k-setting-delete")?i.remove(o):i.options.sortable&&n[0]===t.currentTarget&&i.sort({field:o,dir:n.find(".k-i-sort-asc")[0]?"desc":"asc"}));}),(n.filterable||n.sortable)&&(i.fieldMenu=new pe.PivotFieldMenu(i.element,{messages:i.options.messages.fieldMenu,filter:".k-setting-fieldmenu",filterable:n.filterable,sortable:n.sortable,dataSource:i.dataSource})),i.refresh();},options:{name:"PivotSettingTarget",template:null,filterable:!1,sortable:!1,emptyTemplate:"<div class='k-empty'>${data}</div>",setting:"columns",enabled:!0,messages:{empty:"Drop Fields Here"}},setDataSource:function setDataSource(e){this.dataSource.unbind(xe,this._refreshHandler),this.dataSource=this.options.dataSource=e,this.fieldMenu&&this.fieldMenu.setDataSource(e),e.first(xe,this._refreshHandler),this.refresh();},_sortable:function _sortable(){var e=this;e.options.enabled&&(this.sortable=this.element.kendoSortable({connectWith:this.options.connectWith,filter:">:not(.k-empty)",hint:e.options.hint,cursor:"move",start:function start(e){e.item.focus().blur();},change:function change(t){var n=t.item.attr(fe.attr("name"));"receive"==t.action?e.add(n):"remove"==t.action?e.remove(n):"sort"==t.action&&e.move(n,t.newIndex);}}).data("kendoSortable"));},_indexOf:function _indexOf(e,t){var n,i,o=-1;for(n=0,i=t.length;i>n;n++){if(H(t[n])===e){o=n;break;}}return o;},_isKPI:function _isKPI(e){return"kpi"===e.type||e.measure;},validate:function validate(e){var t,n,i=2==e.type||"aggregator"in e||this._isKPI(e);return i?"measures"===this.options.setting:"measures"===this.options.setting?i:(t=this.dataSource[this.options.setting](),n=e.defaultHierarchy||e.uniqueName,this._indexOf(n,t)>-1?!1:(t=this.dataSource["columns"===this.options.setting?"rows":"columns"](),!(this._indexOf(n,t)>-1)));},add:function add(t){var n,i,o=this.dataSource[this.options.setting]();for(t=e.isArray(t)?t.slice(0):[t],n=0,i=t.length;i>n;n++){-1!==this._indexOf(t[n],o)&&(t.splice(n,1),n-=1,i-=1);}t.length&&(o=o.concat(t),this.dataSource[this.options.setting](o));},move:function move(e,t){var n=this.dataSource[this.options.setting](),i=this._indexOf(e,n);i>-1&&(e=n.splice(i,1)[0],n.splice(t,0,e),this.dataSource[this.options.setting](n));},remove:function remove(e){var t=this.dataSource[this.options.setting](),n=this._indexOf(e,t);n>-1&&(t.splice(n,1),this.dataSource[this.options.setting](t));},sort:function sort(e){var t=this.options.sortable,n=t===!0||t.allowUnsort,i=n&&"asc"===e.dir,o=this.dataSource.sort()||[],r=ne(o,e.field);i&&o.length!==r.length&&(e=null),e&&r.push(e),this.dataSource.sort(r);},refresh:function refresh(){var e,n="",i=this.dataSource[this.options.setting](),o=i.length,r=0;if(o)for(;o>r;r++){e=i[r],e=e.name===t?{name:e}:e,n+=this.template(ye({sortIcon:this._sortIcon(e.name)},e));}else n=this.emptyTemplate(this.options.messages.empty);this.element.html(n);},destroy:function destroy(){ge.fn.destroy.call(this),this.dataSource.unbind(xe,this._refreshHandler),this.element.off(Re),this.sortable&&this.sortable.destroy(),this.fieldMenu&&this.fieldMenu.destroy(),this.element=null,this._refreshHandler=null;},_sortIcon:function _sortIcon(e){var t=this.dataSource.sort(),n=te(t,H(e)),i="";return n&&(i="k-i-sort-"+n.dir),i;}}),ie=ge.extend({init:function init(n,i){var o,r,a=this;ge.fn.init.call(a,n,i),a._dataSource(),a._bindConfigurator(),a._wrapper(),a._createLayout(),a._columnBuilder=o=new ce(),a._rowBuilder=r=new de(),a._contentBuilder=new ue(),a._templates(),a.columnsHeader.add(a.rowsHeader).on("click","span.k-icon",function(){var n,i,s,l,c=e(this),d=o,u="expandColumn",h=c.attr(fe.attr("path")),f={axis:"columns",path:e.parseJSON(h)};c.parent().is("td")&&(d=r,u="expandRow",f.axis="rows"),i=c.hasClass(Be),s=d.metadata[h],l=s.expanded===t,n=i?ze:Pe,f.childrenLoaded=s.maxChildren>s.children,a.trigger(n,f)||(d.metadata[h].expanded=!i,c.toggleClass(Be,!i).toggleClass(Le,i),!i&&l?a.dataSource[u](f.path):a.refresh());}),a._scrollable(),a.options.autoBind&&a.dataSource.fetch(),fe.notify(a);},events:[Fe,Me,Pe,ze],options:{name:"PivotGrid",autoBind:!0,reorderable:!0,filterable:!1,sortable:!1,height:null,columnWidth:100,configurator:"",columnHeaderTemplate:null,rowHeaderTemplate:null,dataCellTemplate:null,kpiStatusTemplate:null,kpiTrendTemplate:null,messages:{measureFields:"Drop Data Fields Here",columnFields:"Drop Column Fields Here",rowFields:"Drop Rows Fields Here"}},_templates:function _templates(){var e=this.options.columnHeaderTemplate,t=this.options.rowHeaderTemplate,n=this.options.dataCellTemplate,i=this.options.kpiStatusTemplate,o=this.options.kpiTrendTemplate;this._columnBuilder.template=fe.template(e||He,{useWithBlock:!!e}),this._contentBuilder.dataTemplate=fe.template(n||Ve,{useWithBlock:!!n}),this._contentBuilder.kpiStatusTemplate=fe.template(i||Ne,{useWithBlock:!!i}),this._contentBuilder.kpiTrendTemplate=fe.template(o||Oe,{useWithBlock:!!o}),this._rowBuilder.template=fe.template(t||He,{useWithBlock:!!t});},_bindConfigurator:function _bindConfigurator(){var t=this.options.configurator;t&&e(t).kendoPivotConfigurator("setDataSource",this.dataSource);},cellInfoByElement:function cellInfoByElement(t){return t=e(t),this.cellInfo(t.index(),t.parent("tr").index());},cellInfo:function cellInfo(e,t){var n,i=this._contentBuilder,o=i.columnIndexes[e||0],r=i.rowIndexes[t||0];return o&&r?(n=r.index*i.rowLength+o.index,{columnTuple:o.tuple,rowTuple:r.tuple,measure:o.measure||r.measure,dataItem:this.dataSource.view()[n]}):null;},setDataSource:function setDataSource(e){this.options.dataSource=e,this._dataSource(),this.measuresTarget&&this.measuresTarget.setDataSource(e),this.rowsTarget&&this.rowsTarget.setDataSource(e),this.columnsTarget&&this.columnsTarget.setDataSource(e),this._bindConfigurator(),this.options.autoBind&&e.fetch();},setOptions:function setOptions(e){ge.fn.setOptions.call(this,e),this._templates();},destroy:function destroy(){ge.fn.destroy.call(this),clearTimeout(this._headerReflowTimeout);},_dataSource:function _dataSource(){var t=this,n=t.options.dataSource;n=e.isArray(n)?{data:n}:n,t.dataSource&&this._refreshHandler?t.dataSource.unbind(xe,t._refreshHandler).unbind(De,t._stateResetHandler).unbind(Te,t._progressHandler).unbind(Ce,t._errorHandler):(t._refreshHandler=e.proxy(t.refresh,t),t._progressHandler=e.proxy(t._requestStart,t),t._stateResetHandler=e.proxy(t._stateReset,t),t._errorHandler=e.proxy(t._error,t)),t.dataSource=fe.data.PivotDataSource.create(n).bind(xe,t._refreshHandler).bind(Te,t._progressHandler).bind(De,t._stateResetHandler).bind(Ce,t._errorHandler);},_error:function _error(){this._progress(!1);},_requestStart:function _requestStart(){this._progress(!0);},_stateReset:function _stateReset(){this._columnBuilder.reset(),this._rowBuilder.reset();},_wrapper:function _wrapper(){var e=this.options.height;this.wrapper=this.element.addClass("k-widget k-pivot"),e&&this.wrapper.css("height",e);},_measureFields:function _measureFields(){this.measureFields=e(Ee).addClass("k-pivot-toolbar k-header k-settings-measures"),this.measuresTarget=this._createSettingTarget(this.measureFields,{setting:"measures",messages:{empty:this.options.messages.measureFields}});},_createSettingTarget:function _createSettingTarget(t,n){var i='<span tabindex="0" class="k-button" data-'+fe.ns+'name="${data.name}">${data.name}',o=n.sortable,r="";return o&&(r+="#if (data.sortIcon) {#",r+='<span class="k-icon ${data.sortIcon} k-setting-sort"></span>',r+="#}#"),(n.filterable||o)&&(r+='<span class="k-icon k-i-arrowhead-s k-setting-fieldmenu"></span>'),this.options.reorderable&&(r+='<span class="k-icon k-si-close k-setting-delete"></span>'),r&&(i+='<span class="k-field-actions">'+r+"</span>"),i+="</span>",new fe.ui.PivotSettingTarget(t,e.extend({template:i,emptyTemplate:'<span class="k-empty">${data}</span>',enabled:this.options.reorderable,dataSource:this.dataSource},n));},_initSettingTargets:function _initSettingTargets(){this.columnsTarget=this._createSettingTarget(this.columnFields,{connectWith:this.rowFields,setting:"columns",filterable:this.options.filterable,sortable:this.options.sortable,messages:{empty:this.options.messages.columnFields,fieldMenu:this.options.messages.fieldMenu}}),this.rowsTarget=this._createSettingTarget(this.rowFields,{connectWith:this.columnFields,setting:"rows",filterable:this.options.filterable,sortable:this.options.sortable,messages:{empty:this.options.messages.rowFields,fieldMenu:this.options.messages.fieldMenu}});},_createLayout:function _createLayout(){var t=this,n=e(Ue),i=n.find(".k-pivot-rowheaders"),o=n.find(".k-pivot-table"),r=e(Ee).addClass("k-grid k-widget");t._measureFields(),t.columnFields=e(Ee).addClass("k-pivot-toolbar k-header k-settings-columns"),t.rowFields=e(Ee).addClass("k-pivot-toolbar k-header k-settings-rows"),t.columnsHeader=e('<div class="k-grid-header-wrap" />').wrap('<div class="k-grid-header" />'),t.columnsHeader.parent().css("padding-right",fe.support.scrollbar()),t.rowsHeader=e('<div class="k-grid k-widget k-alt"/>'),t.content=e('<div class="k-grid-content" />'),i.append(t.measureFields),i.append(t.rowFields),i.append(t.rowsHeader),r.append(t.columnsHeader.parent()),r.append(t.content),o.append(t.columnFields),o.append(r),t.wrapper.append(n),t.columnsHeaderTree=new fe.dom.Tree(t.columnsHeader[0]),t.rowsHeaderTree=new fe.dom.Tree(t.rowsHeader[0]),t.contentTree=new fe.dom.Tree(t.content[0]),t._initSettingTargets();},_progress:function _progress(e){fe.ui.progress(this.wrapper,e);},_resize:function _resize(){this.content[0].firstChild&&(this._setSectionsWidth(),this._setSectionsHeight(),this._setContentWidth(),this._setContentHeight(),this._columnHeaderReflow());},_columnHeaderReflow:function _columnHeaderReflow(){var e=this.columnsHeader.children("table");fe.support.browser.mozilla&&(clearTimeout(this._headerReflowTimeout),e.css("table-layout","auto"),this._headerReflowTimeout=setTimeout(function(){e.css("table-layout","");}));},_setSectionsWidth:function _setSectionsWidth(){var e=this.rowsHeader,t=e.parent(".k-pivot-rowheaders").width(Ae),n=Math.max(this.measureFields.outerWidth(),this.rowFields.outerWidth());n=Math.max(e.children("table").width(),n),t.width(n);},_setSectionsHeight:function _setSectionsHeight(){var e=this.measureFields.height(Ae).height(),t=this.columnFields.height(Ae).height(),n=this.rowFields.height(Ae).innerHeight(),i=this.columnsHeader.height(Ae).innerHeight(),o=n-this.rowFields.height(),r=t>e?t:e,a=i>n?i:n;this.measureFields.height(r),this.columnFields.height(r),this.rowFields.height(a-o),this.columnsHeader.height(a);},_setContentWidth:function _setContentWidth(){var e=this.content.find("table"),t=this.columnsHeader.children("table"),n=e.children("colgroup").children().length,i=n*this.options.columnWidth,o=Math.ceil(i/this.content.width()*100);100>o&&(o=100),e.add(t).css("width",o+"%"),this._resetColspan(t);},_setContentHeight:function _setContentHeight(){var e=this,n=e.content,i=e.rowsHeader,o=e.wrapper.innerHeight(),r=fe.support.scrollbar(),a=n[0].offsetHeight===n[0].clientHeight,s=e.options.height;if(e.wrapper.is(":visible")){if(!o||!s)return a&&(r=0),n.height("auto"),i.height(n.height()-r),t;o-=e.columnFields.outerHeight(),o-=e.columnsHeader.outerHeight(),2*r>=o&&(o=2*r+1,a||(o+=r)),n.height(o),a&&(r=0),i.height(o-r);}},_resetColspan:function _resetColspan(e){var n=this,i=e.children("tbody").children(":first").children(":first");n._colspan===t&&(n._colspan=i.attr("colspan")),i.attr("colspan",1),clearTimeout(n._layoutTimeout),n._layoutTimeout=setTimeout(function(){i.attr("colspan",n._colspan),n._colspan=t;});},_axisMeasures:function _axisMeasures(e){var t=[],n=this.dataSource,i=n.measures(),o=i.length>1||i[0]&&i[0].type;return n.measuresAxis()===e&&(0===n[e]().length||o)&&(t=i),t;},items:function items(){return[];},refresh:function refresh(){var e,t=this,n=t.dataSource,i=n.axes(),o=(i.columns||{}).tuples||[],r=(i.rows||{}).tuples||[],a=t._columnBuilder,s=t._rowBuilder,l={},c={};t.trigger(Fe,{action:"rebind"})||(a.measures=t._axisMeasures("columns"),t.columnsHeaderTree.render(a.build(o)),t.rowsHeaderTree.render(s.build(r)),l={indexes:a._indexes,measures:a.measures,metadata:a.metadata},c={indexes:s._indexes,measures:this._axisMeasures("rows"),metadata:s.metadata},t.contentTree.render(t._contentBuilder.build(n.view(),l,c)),t._resize(),t.touchScroller?t.touchScroller.contentResized():(e=fe.touchScroller(t.content),e&&e.movable&&(t.touchScroller=e,e.movable.bind("change",function(e){t.columnsHeader.scrollLeft(-e.sender.x),t.rowsHeader.scrollTop(-e.sender.y);}))),t._progress(!1),t.trigger(Me));},_scrollable:function _scrollable(){var t=this,n=t.columnsHeader,i=t.rowsHeader;t.content.scroll(function(){n.scrollLeft(this.scrollLeft),i.scrollTop(this.scrollTop);}),i.bind("DOMMouseScroll"+Re+" mousewheel"+Re,e.proxy(t._wheelScroll,t));},_wheelScroll:function _wheelScroll(t){var n,i;t.ctrlKey||(n=fe.wheelDeltaY(t),i=this.content.scrollTop(),n&&(t.preventDefault(),e(t.currentTarget).one("wheel"+Re,!1),this.rowsHeader.scrollTop(i+-n),this.content.scrollTop(i+-n)));}}),oe=fe.dom.element,re=fe.dom.html,ae=function ae(e,t){return{maxChildren:0,children:0,maxMembers:0,members:0,measures:1,levelNum:e,parentMember:0!==t};},se=function se(e,t){for(var n=[],i=0;t>=i;i++){n.push(e.members[i].name);}return n;},le=function le(e,t){for(var n="",i=0;t>=i;i++){n+=e.members[i].name;}return n;},ce=me.extend({init:function init(){this.measures=1,this.metadata={};},build:function build(e){var t=this._tbody(e),n=this._colGroup();return[oe("table",null,[n,t])];},reset:function reset(){this.metadata={};},_colGroup:function _colGroup(){for(var e=this._rowLength(),t=[],n=0;e>n;n++){t.push(oe("col",null));}return oe("colgroup",null,t);},_tbody:function _tbody(e){var t=e[0];return this.map={},this.rows=[],this.rootTuple=t,this._indexes=[],t?(this._buildRows(t,0),this._normalize()):this.rows.push(oe("tr",null,[oe("th",null,[re("&nbsp;")])])),oe("tbody",null,this.rows);},_normalize:function _normalize(){for(var e,t,n,i,o,r=this.rows,a=r.length,s=0;a>s;s++){if(e=r[s],1!==e.rowSpan)for(i=e.children,n=0,t=i.length;t>n;n++){o=i[n],o.tupleAll&&(o.attr.rowSpan=e.rowSpan);}}},_rowIndex:function _rowIndex(e){for(var t=this.rows,n=t.length,i=0;n>i&&t[i]!==e;i++){}return i;},_rowLength:function _rowLength(){var e=this.rows[0]?this.rows[0].children:[],t=e.length,n=0,i=0;if(t)for(;t>i;i++){n+=e[i].attr.colSpan||1;}return n||(n=this.measures),n;},_row:function _row(e,t,n){var i,o,r=this.rootTuple.members[t].name,a=e.members[t].levelNum,s=r+a,l=this.map,c=l[s];return c?(c.notFirst=!1,c.parentMember&&c.parentMember===n||(c.parentMember=n,c.collapsed=0,c.colSpan=0)):(c=oe("tr",null,[]),c.parentMember=n,c.collapsed=0,c.colSpan=0,c.rowSpan=1,l[s]=c,i=l[r+(+a-1)],i&&(o=i.children,c.notFirst=o[1]&&-1===o[1].attr.className.indexOf("k-alt")?!0:i.notFirst),this.rows.splice(this._rowIndex(i)+1,0,c)),c;},_measures:function _measures(e,t,n){var i,o,r,a=this.map,s=a.measureRow;for(s||(s=oe("tr",null,[]),a.measureRow=s,this.rows.push(s)),o=0,r=e.length;r>o;o++){i=e[o],s.children.push(this._cell(n||"",[this._content(i,t)],i));}return r;},_content:function _content(e,t){return re(this.template({member:e,tuple:t}));},_cell:function _cell(e,t,n){var i=oe("th",{className:"k-header"+e},t);return i.value=n.caption||n.name,i;},_buildRows:function _buildRows(e,n,i){var o,r,a,s,l,c,d,u,h,f,p=e.members,m=p[n],g=p[n+1],v=[],_=0,b=0,w=0;if(m.measure)return this._measures(m.children,e),t;if(u=fe.stringify(se(e,n)),o=this._row(e,n,i),a=m.children,s=a.length,h=this.metadata[u],h||(this.metadata[u]=h=ae(+m.levelNum,n),h.rootLevelNum=+this.rootTuple.members[n].levelNum),this._indexes.push({path:u,tuple:e}),m.hasChildren&&(h.expanded===!1&&(b=h.maxChildren,o.collapsed+=b,h.children=0,s=0),d={className:"k-icon "+(s?Be:Le)},d[fe.attr("path")]=u,v.push(oe("span",d))),v.push(this._content(m,e)),l=this._cell(o.notFirst?" k-first":"",v,m),o.children.push(l),o.colSpan+=1,s){for(c=this._cell(" k-alt",[this._content(m,e)],m),o.children.push(c);s>_;_++){r=this._buildRows(a[_],n,m);}f=r.colSpan,b=r.collapsed,l.attr.colSpan=f,h.children=f,h.members=1,o.colSpan+=f,o.collapsed+=b,o.rowSpan=r.rowSpan+1,g&&(g.measure?f=this._measures(g.children,e," k-alt"):(r=this._buildRows(e,n+1),f=r.colSpan,o.collapsed+=r.collapsed,w=r.collapsed),c.attr.colSpan=f,f-=1,h.members+=f,o.colSpan+=f);}else g&&(g.measure?f=this._measures(g.children,e):(r=this._buildRows(e,n+1),f=r.colSpan,o.collapsed+=r.collapsed,w=r.collapsed),h.members=f,f>1&&(l.attr.colSpan=f,o.colSpan+=f-1));return h.members+w>h.maxMembers&&(h.maxMembers=h.members+w),a=h.children+b,a>h.maxChildren&&(h.maxChildren=a),(c||l).tupleAll=!0,o;}}),de=me.extend({init:function init(){this.metadata={};},build:function build(e){var t=this._tbody(e),n=this._colGroup();return[oe("table",null,[n,t])];},reset:function reset(){this.metadata={};},_rowLength:function _rowLength(){for(var e=this.rows[0].children,t=0,n=0,i=e[n];i;){t+=i.attr.colSpan||1,i=e[++n];}return t;},_colGroup:function _colGroup(){for(var e=this._rowLength(),t=[],n=0;e>n;n++){t.push(oe("col",null));}return oe("colgroup",null,t);},_tbody:function _tbody(e){var t=e[0];return this.rootTuple=t,this.rows=[],this.map={},this._indexes=[],t?(this._buildRows(t,0),this._normalize()):this.rows.push(oe("tr",null,[oe("td",null,[re("&nbsp;")])])),oe("tbody",null,this.rows);},_normalize:function _normalize(){for(var e,t,n,i,o=this.rows,r=o.length,a=0,s=this.rootTuple.members,l=s[0].name,c=s.length,d=0,u=this.map;r>a;a++){for(e=o[a],d=0;c>d;d++){n=this[s[d].name],t=e.colSpan["dim"+d],t&&n>t.colSpan&&(t.attr.colSpan=n-t.colSpan+1);}}e=u[l],i=u[l+"all"],e&&(e.children[0].attr.className="k-first"),i&&(i.children[0].attr.className+=" k-first");},_row:function _row(e){var t=oe("tr",null,e);return t.rowSpan=1,t.colSpan={},this.rows.push(t),t;},_content:function _content(e,t){return re(this.template({member:e,tuple:t}));},_cell:function _cell(e,t,n){var i=oe("td",{className:e},t);return i.value=n.caption||n.name,i;},_buildRows:function _buildRows(e,t){var n,i,o,r,a,s,l,c,d,u=this.map,h=e.members,f=h[t],p=h[t+1],m=f.children,g=m.length,v=+f.levelNum,_=this.rootTuple.members[t].name,b=se(e,t-1).join(""),w=+this.rootTuple.members[t].levelNum,y=b+(w===v?"":f.parentName||""),k=u[y+"all"]||u[y],x=v+1,C=[];if(!k||k.hasChild?k=this._row():k.hasChild=!0,f.measure){for(l=k.allCell?"k-grid-footer":"",k.children.push(this._cell(l,[this._content(m[0],e)],m[0])),k.rowSpan=g,d=1;g>d;d++){this._row([this._cell(l,[this._content(m[d],e)],m[d])]);}return k;}if(u[b+f.name]=k,n=fe.stringify(se(e,t)),s=this.metadata[n],s||(this.metadata[n]=s=ae(v,t),s.rootLevelNum=w),this._indexes.push({path:n,tuple:e}),f.hasChildren&&(s.expanded===!1&&(g=0,s.children=0),c={className:"k-icon "+(g?Be:Le)},c[fe.attr("path")]=n,C.push(oe("span",c))),C.push(this._content(f,e)),l=k.allCell&&!g?"k-grid-footer":"",i=this._cell(l,C,f),i.colSpan=x,k.children.push(i),k.colSpan["dim"+t]=i,(!this[_]||x>this[_])&&(this[_]=x),g){for(k.allCell=!1,k.hasChild=!1,d=0;g>d;d++){r=this._buildRows(m[d],t),k!==r&&(k.rowSpan+=r.rowSpan);}k.rowSpan>1&&(i.attr.rowSpan=k.rowSpan),s.children=k.rowSpan,o=this._cell("k-grid-footer",[this._content(f,e)],f),o.colSpan=x,a=this._row([o]),a.colSpan["dim"+t]=o,a.allCell=!0,u[b+f.name+"all"]=a,p&&(r=this._buildRows(e,t+1),o.attr.rowSpan=r.rowSpan),k.rowSpan+=a.rowSpan,s.members=a.rowSpan;}else p&&(k.hasChild=!1,this._buildRows(e,t+1),(o||i).attr.rowSpan=k.rowSpan,s.members=k.rowSpan);return s.children>s.maxChildren&&(s.maxChildren=s.children),s.members>s.maxMembers&&(s.maxMembers=s.members),k;}}),ue=me.extend({init:function init(){this.columnAxis={},this.rowAxis={};},build:function build(e,n,i){var o,r,a=n.indexes[0],s=n.metadata[a?a.path:t];return this.columnAxis=n,this.rowAxis=i,this.data=e,this.rowLength=s?s.maxChildren+s.maxMembers:n.measures.length||1,this.rowLength||(this.rowLength=1),o=this._tbody(),r=this._colGroup(),[oe("table",null,[r,o])];},_colGroup:function _colGroup(){var e=this.columnAxis.measures.length||1,t=[],n=0;for(this.rows[0]&&(e=this.rows[0].children.length);e>n;n++){t.push(oe("col",null));}return oe("colgroup",null,t);},_tbody:function _tbody(){return this.rows=[],this.data[0]?(this.columnIndexes=this._indexes(this.columnAxis,this.rowLength),this.rowIndexes=this._indexes(this.rowAxis,Math.ceil(this.data.length/this.rowLength)),this._buildRows()):this.rows.push(oe("tr",null,[oe("td",null,[re("&nbsp;")])])),oe("tbody",null,this.rows);},_indexes:function _indexes(e,n){var i,o,r,a,s,l,c=[],d=e.indexes,u=e.metadata,h=e.measures,f=h.length||1,p=0,m=0,g=0,v=d.length;if(!v){for(r=0;f>r;r++){c[r]={index:r,measure:h[r],tuple:null};}return c;}for(;v>g;g++){if(i=d[g],o=u[i.path],s=o.children+o.members,l=0,s&&(s-=f),o.expanded===!1&&o.children!==o.maxChildren&&(l=o.maxChildren),o.parentMember&&o.levelNum===o.rootLevelNum&&(s=-1),s>-1){for(r=0;f>r;r++){a=s+r,o.children||(a+=m),c[s+m+r]={children:s,index:p,measure:h[r],tuple:i.tuple},p+=1;}for(;c[m]!==t;){m+=1;}}if(m===n)break;p+=l;}return c;},_buildRows:function _buildRows(){for(var e=this.rowIndexes,t=e.length,n=0;t>n;n++){this.rows.push(this._buildRow(e[n]));}},_buildRow:function _buildRow(e){for(var t,n,i,o,r,a,s,l=e.index*this.rowLength,c=this.columnIndexes,d=c.length,u=[],h=0;d>h;h++){t=c[h],r={},t.children&&(r.className="k-alt"),o="",a=this.data[l+t.index],s=t.measure||e.measure,n={columnTuple:t.tuple,rowTuple:e.tuple,measure:s,dataItem:a},""!==a.value&&s&&s.type&&("status"===s.type?o=this.kpiStatusTemplate(n):"trend"===s.type&&(o=this.kpiTrendTemplate(n))),o||(o=this.dataTemplate(n)),i=oe("td",r,[re(o)]),i.value=a.value,u.push(i);}return r={},e.children&&(r.className="k-grid-footer"),oe("tr",r,u);}}),pe.plugin(ie),fe.PivotExcelExporter=fe.Class.extend({init:function init(e){this.options=e,this.widget=e.widget,this.dataSource=this.widget.dataSource;},_columns:function _columns(){var e,t=this.widget.columnsHeaderTree.children[0],n=this.widget.rowsHeaderTree.children[0],i=t.children[0].children.length,o=n.children[0].children.length,r=this.widget.options.columnWidth,a=[];if(o&&this.dataSource.data()[0])for(e=0;o>e;e++){a.push({autoWidth:!0});}for(e=0;i>e;e++){a.push({autoWidth:!1,width:r});}return a;},_cells:function _cells(e,t,n){for(var i,o,r,a,s,l=[],c=0,d=e.length;d>c;c++){for(o=[],r=e[c].children,i=r.length,a=0;i>a;a++){s=r[a],o.push({background:"#7a7a7a",color:"#fff",value:s.value,colSpan:s.attr.colSpan||1,rowSpan:s.attr.rowSpan||1});}n&&n(o,c),l.push({cells:o,type:t});}return l;},_rows:function _rows(){var e,t,n=this.widget.columnsHeaderTree.children[0],i=this.widget.rowsHeaderTree.children[0],o=n.children[0].children.length,r=i.children[0].children.length,a=n.children[1].children,s=i.children[1].children,l=this.widget.contentTree.children[0].children[1].children,c=this._cells(a,"header");return r&&c[0].cells.splice(0,0,{background:"#7a7a7a",color:"#fff",value:"",colSpan:r,rowSpan:a.length}),e=function e(_e4,t){for(var n,i,r=0,a=l[t].children;o>r;r++){n=a[r],i=+n.value,isNaN(i)&&(i=n.value),_e4.push({background:"#dfdfdf",color:"#333",value:i,colSpan:1,rowSpan:1});}},t=this._cells(s,"data",e),c.concat(t);},_freezePane:function _freezePane(){var e=this.widget.columnsHeaderTree.children[0],t=this.widget.rowsHeaderTree.children[0],n=t.children[0].children.length,i=e.children[1].children;return{colSplit:n,rowSplit:i.length};},workbook:function workbook(){var t;return this.dataSource.view()[0]?(t=e.Deferred(),t.resolve()):t=this.dataSource.fetch(),t.then(e.proxy(function(){return{sheets:[{columns:this._columns(),rows:this._rows(),freezePane:this._freezePane(),filter:null}]};},this));}}),he={extend:function extend(t){t.events.push("excelExport"),t.options.excel=e.extend(t.options.excel,this.options),t.saveAsExcel=this.saveAsExcel;},options:{proxyURL:"",filterable:!1,fileName:"Export.xlsx"},saveAsExcel:function saveAsExcel(){var t=this.options.excel||{},n=new fe.PivotExcelExporter({widget:this});n.workbook().then(e.proxy(function(e){if(!this.trigger("excelExport",{workbook:e})){var n=new fe.ooxml.Workbook(e);fe.saveAs({dataURI:n.toDataURL(),fileName:e.fileName||t.fileName,proxyURL:t.proxyURL,forceProxy:t.forceProxy});}},this));}},fe.PivotExcelMixin=he,fe.ooxml&&fe.ooxml.Workbook&&he.extend(ie.prototype),fe.PDFMixin&&(fe.PDFMixin.extend(ie.prototype),ie.fn._drawPDF=function(){return this._drawPDFShadow({width:this.wrapper.width()},{avoidLinks:this.options.pdf.avoidLinks});});}(window.kendo.jQuery),window.kendo;},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("kendo.treeview.draganddrop.min",["kendo.data.min","kendo.draganddrop.min"],e);}(function(){return function(e,t){var n=window.kendo,i=n.ui,o=e.proxy,r=e.extend,a="visibility",s="k-state-hover",l="input,a,textarea,.k-multiselect-wrap,select,button,a.k-button>.k-icon,button.k-button>.k-icon,span.k-icon.k-i-expand,span.k-icon.k-i-collapse";i.HierarchicalDragAndDrop=n.Class.extend({init:function init(t,a){this.element=t,this.hovered=t,this.options=r({dragstart:e.noop,drag:e.noop,drop:e.noop,dragend:e.noop},a),this._draggable=new i.Draggable(t,{ignore:l,filter:a.filter,autoScroll:a.autoScroll,cursorOffset:{left:10,top:n.support.mobileOS?-40/n.support.zoomLevel():10},hint:o(this._hint,this),dragstart:o(this.dragstart,this),dragcancel:o(this.dragcancel,this),drag:o(this.drag,this),dragend:o(this.dragend,this),$angular:a.$angular});},_hint:function _hint(e){return"<div class='k-header k-drag-clue'><span class='k-icon k-drag-status' />"+this.options.hintText(e)+"</div>";},_removeTouchHover:function _removeTouchHover(){n.support.touch&&this.hovered&&(this.hovered.find("."+s).removeClass(s),this.hovered=!1);},_hintStatus:function _hintStatus(n){var i=this._draggable.hint.find(".k-drag-status")[0];return n?(i.className="k-icon k-drag-status "+n,t):e.trim(i.className.replace(/k-(icon|drag-status)/g,""));},dragstart:function dragstart(t){this.source=t.currentTarget.closest(this.options.itemSelector),this.options.dragstart(this.source)&&t.preventDefault(),this.dropHint=this.options.reorderable?e("<div class='k-drop-hint' />").css(a,"hidden").appendTo(this.element):e();},drag:function drag(t){var i,o,r,l,c,d,u,h,f,p,m,g=this.options,v=this.source,_=this.dropTarget=e(n.eventTarget(t)),b=_.closest(g.allowedContainers);b.length?v[0]==_[0]||g.contains(v[0],_[0])?m="k-denied":(m="k-insert-middle",f=g.itemFromTarget(_),i=f.item,i.length?(this._removeTouchHover(),o=i.outerHeight(),l=f.content,g.reorderable?(c=o/(l.length>0?4:2),r=n.getOffset(i).top,d=r+c>t.y.location,u=t.y.location>r+o-c,h=l.length&&!d&&!u):(h=!0,d=!1,u=!1),this.hovered=h?b:!1,this.dropHint.css(a,h?"hidden":"visible"),this._lastHover&&this._lastHover[0]!=l[0]&&this._lastHover.removeClass(s),this._lastHover=l.toggleClass(s,h),h?m="k-add":(p=i.position(),p.top+=d?0:o,this.dropHint.css(p)[d?"prependTo":"appendTo"](g.dropHintContainer(i)),d&&f.first&&(m="k-insert-top"),u&&f.last&&(m="k-insert-bottom"))):_[0]!=this.dropHint[0]&&(this._lastHover&&this._lastHover.removeClass(s),m=e.contains(this.element[0],b[0])?"k-denied":"k-add")):(m="k-denied",this._removeTouchHover()),this.options.drag({originalEvent:t.originalEvent,source:v,target:_,pageY:t.y.location,pageX:t.x.location,status:m.substring(2),setStatus:function setStatus(e){m=e;}}),0!==m.indexOf("k-insert")&&this.dropHint.css(a,"hidden"),this._hintStatus(m);},dragcancel:function dragcancel(){this.dropHint.remove();},dragend:function dragend(e){var n,i,o,r="over",l=this.source,c=this.dropHint,d=this.dropTarget;return"visible"==c.css(a)?(r=this.options.dropPositionFrom(c),n=c.closest(this.options.itemSelector)):d&&(n=d.closest(this.options.itemSelector),n.length||(n=d.closest(this.options.allowedContainers))),i={originalEvent:e.originalEvent,source:l[0],destination:n[0],valid:"k-denied"!=this._hintStatus(),setValid:function setValid(e){this.valid=e;},dropTarget:d[0],position:r},o=this.options.drop(i),c.remove(),this._removeTouchHover(),this._lastHover&&this._lastHover.removeClass(s),!i.valid||o?(this._draggable.dropped=i.valid,t):(this._draggable.dropped=!0,this.options.dragend({originalEvent:e.originalEvent,source:l,destination:n,position:r}),t);},destroy:function destroy(){this._lastHover=this.hovered=null,this._draggable.destroy();}});}(window.kendo.jQuery),window.kendo;},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("kendo.treeview.min",["kendo.data.min","kendo.treeview.draganddrop.min"],e);}(function(){return function(e,t){function n(e){return function(t){var n=t.children(".k-animation-container");return n.length||(n=t),n.children(e);};}function i(e){return f.template(e,{useWithBlock:!1});}function o(e){return e.find("> div .k-checkbox-wrapper [type=checkbox]");}function r(e){return function(t,n){n=n.closest(W);var i,o=n.parent();return o.parent().is("li")&&(i=o.parent()),this._dataSourceMove(t,o,i,function(t,i){return this._insert(t.data(),i,n.index()+e);});};}function a(t,n){for(var i;t&&"ul"!=t.nodeName.toLowerCase();){i=t,t=t.nextSibling,3==i.nodeType&&(i.nodeValue=e.trim(i.nodeValue)),h.test(i.className)?n.insertBefore(i,n.firstChild):n.appendChild(i);}}function s(t){var n=t.children("div"),i=t.children("ul"),o=n.children(".k-icon"),r=t.children(":checkbox"),s=n.children(".k-in");t.hasClass("k-treeview")||(n.length||(n=e("<div />").prependTo(t)),!o.length&&i.length?o=e("<span class='k-icon' />").prependTo(n):i.length&&i.children().length||(o.remove(),i.remove()),r.length&&e("<span class='k-checkbox-wrapper' />").appendTo(n).append(r),s.length||(s=t.children("a").eq(0).addClass("k-in k-link"),s.length||(s=e("<span class='k-in' />")),s.appendTo(n),n.length&&a(n[0].nextSibling,s[0])));}var l,c,d,u,h,f=window.kendo,p=f.ui,m=f.data,g=e.extend,v=f.template,_=e.isArray,b=p.Widget,w=m.HierarchicalDataSource,y=e.proxy,k=f.keys,x=".kendoTreeView",C="select",S="check",T="navigate",D="expand",A="change",E="error",R="checked",I="indeterminate",F="collapse",M="dragstart",P="drag",z="drop",B="dragend",L="dataBound",H="click",N="undefined",O="k-state-hover",V="k-treeview",U=":visible",W=".k-item",j="string",q="aria-selected",G="aria-disabled",$={text:"dataTextField",url:"dataUrlField",spriteCssClass:"dataSpriteCssClassField",imageUrl:"dataImageUrlField"},Y=function Y(e){return"object"==(typeof HTMLElement==="undefined"?"undefined":_typeof(HTMLElement))?e instanceof HTMLElement:e&&"object"==(typeof e==="undefined"?"undefined":_typeof(e))&&1===e.nodeType&&_typeof(e.nodeName)===j;};c=n(".k-group"),d=n(".k-group,.k-content"),u=function u(e){return e.children("div").children(".k-icon");},h=/k-sprite/,l=f.ui.DataBoundWidget.extend({init:function init(e,t){var n,i=this,o=!1,r=t&&!!t.dataSource;_(t)&&(t={dataSource:t}),t&&_typeof(t.loadOnDemand)==N&&_(t.dataSource)&&(t.loadOnDemand=!1),b.prototype.init.call(i,e,t),e=i.element,t=i.options,n=e.is("ul")&&e||e.hasClass(V)&&e.children("ul"),o=!r&&n.length,o&&(t.dataSource.list=n),i._animation(),i._accessors(),i._templates(),e.hasClass(V)?(i.wrapper=e,i.root=e.children("ul").eq(0)):(i._wrapper(),n&&(i.root=e,i._group(i.wrapper))),i._tabindex(),i.root.attr("role","tree"),i._dataSource(o),i._attachEvents(),i._dragging(),o?i._syncHtmlAndDataSource():t.autoBind&&(i._progress(!0),i.dataSource.fetch()),t.checkboxes&&t.checkboxes.checkChildren&&i.updateIndeterminate(),i.element[0].id&&(i._ariaId=f.format("{0}_tv_active",i.element[0].id)),f.notify(i);},_attachEvents:function _attachEvents(){var t=this,n=".k-in:not(.k-state-selected,.k-state-disabled)",i="mouseenter";t.wrapper.on(i+x,".k-in.k-state-selected",function(e){e.preventDefault();}).on(i+x,n,function(){e(this).addClass(O);}).on("mouseleave"+x,n,function(){e(this).removeClass(O);}).on(H+x,n,y(t._click,t)).on("dblclick"+x,".k-in:not(.k-state-disabled)",y(t._toggleButtonClick,t)).on(H+x,".k-plus,.k-minus",y(t._toggleButtonClick,t)).on("keydown"+x,y(t._keydown,t)).on("focus"+x,y(t._focus,t)).on("blur"+x,y(t._blur,t)).on("mousedown"+x,".k-in,.k-checkbox-wrapper :checkbox,.k-plus,.k-minus",y(t._mousedown,t)).on("change"+x,".k-checkbox-wrapper :checkbox",y(t._checkboxChange,t)).on("click"+x,".k-checkbox-wrapper :checkbox",y(t._checkboxClick,t)).on("click"+x,".k-request-retry",y(t._retryRequest,t)).on("click"+x,function(n){e(n.target).is(":kendoFocusable")||t.focus();});},_checkboxClick:function _checkboxClick(t){var n=e(t.target);n.data(I)&&(n.data(I,!1).prop(I,!1).prop(R,!0),this._checkboxChange(t));},_syncHtmlAndDataSource:function _syncHtmlAndDataSource(e,t){e=e||this.root,t=t||this.dataSource;var n,i,r,a,s,l=t.view(),c=f.attr("uid"),d=f.attr("expanded"),u=this.options.checkboxes,h=e.children("li");for(n=0;h.length>n;n++){r=l[n],a=r.uid,i=h.eq(n),i.attr("role","treeitem").attr(c,a),r.expanded="true"===i.attr(d),u&&(s=o(i),r.checked=s.prop(R),s.attr("id","_"+a),s.next(".k-checkbox-label").attr("for","_"+a)),this._syncHtmlAndDataSource(i.children("ul"),r.children);}},_animation:function _animation(){var e=this.options,t=e.animation;t===!1?t={expand:{effects:{}},collapse:{hide:!0,effects:{}}}:t.collapse&&"effects"in t.collapse||(t.collapse=g({reverse:!0},t.expand)),g(t.collapse,{hide:!0}),e.animation=t;},_dragging:function _dragging(){var t,n=this.options.dragAndDrop,i=this.dragging;n&&!i?(t=this,this.dragging=new p.HierarchicalDragAndDrop(this.element,{reorderable:!0,$angular:this.options.$angular,autoScroll:this.options.autoScroll,filter:"div:not(.k-state-disabled) .k-in",allowedContainers:".k-treeview",itemSelector:".k-treeview .k-item",hintText:y(this._hintText,this),contains:function contains(t,n){return e.contains(t,n);},dropHintContainer:function dropHintContainer(e){return e;},itemFromTarget:function itemFromTarget(e){var t=e.closest(".k-top,.k-mid,.k-bot");return{item:t,content:e.closest(".k-in"),first:t.hasClass("k-top"),last:t.hasClass("k-bot")};},dropPositionFrom:function dropPositionFrom(e){return e.prevAll(".k-in").length>0?"after":"before";},dragstart:function dragstart(e){return t.trigger(M,{sourceNode:e[0]});},drag:function drag(e){t.trigger(P,{originalEvent:e.originalEvent,sourceNode:e.source[0],dropTarget:e.target[0],pageY:e.pageY,pageX:e.pageX,statusClass:e.status,setStatusClass:e.setStatus});},drop:function drop(e){return t.trigger(z,{originalEvent:e.originalEvent,sourceNode:e.source,destinationNode:e.destination,valid:e.valid,setValid:function setValid(t){this.valid=t,e.setValid(t);},dropTarget:e.dropTarget,dropPosition:e.position});},dragend:function dragend(e){function n(n){t.updateIndeterminate(),t.trigger(B,{originalEvent:e.originalEvent,sourceNode:n&&n[0],destinationNode:o[0],dropPosition:r});}var i=e.source,o=e.destination,r=e.position;"over"==r?t.append(i,o,n):("before"==r?i=t.insertBefore(i,o):"after"==r&&(i=t.insertAfter(i,o)),n(i));}})):!n&&i&&(i.destroy(),this.dragging=null);},_hintText:function _hintText(e){return this.templates.dragClue({item:this.dataItem(e),treeview:this.options});},_templates:function _templates(){var e=this,t=e.options,n=y(e._fieldAccessor,e);t.template&&_typeof(t.template)==j?t.template=v(t.template):t.template||(t.template=i("# var text = "+n("text")+"(data.item); ## if (typeof data.item.encoded != 'undefined' && data.item.encoded === false) {##= text ## } else { ##: text ## } #")),e._checkboxes(),e.templates={wrapperCssClass:function wrapperCssClass(e,t){var n="k-item",i=t.index;return e.firstLevel&&0===i&&(n+=" k-first"),i==e.length-1&&(n+=" k-last"),n;},cssClass:function cssClass(e,t){var n="",i=t.index,o=e.length-1;return e.firstLevel&&0===i&&(n+="k-top "),n+=0===i&&i!=o?"k-top":i==o?"k-bot":"k-mid";},textClass:function textClass(e,t){var n="k-in";return t&&(n+=" k-link"),e.enabled===!1&&(n+=" k-state-disabled"),e.selected===!0&&(n+=" k-state-selected"),n;},toggleButtonClass:function toggleButtonClass(e){var t="k-icon";return t+=e.expanded!==!0?" k-plus":" k-minus",e.enabled===!1&&(t+="-disabled"),t;},groupAttributes:function groupAttributes(e){var t="";return e.firstLevel||(t="role='group'"),t+(e.expanded!==!0?" style='display:none'":"");},groupCssClass:function groupCssClass(e){var t="k-group";return e.firstLevel&&(t+=" k-treeview-lines"),t;},dragClue:i("#= data.treeview.template(data) #"),group:i("<ul class='#= data.r.groupCssClass(data.group) #'#= data.r.groupAttributes(data.group) #>#= data.renderItems(data) #</ul>"),itemContent:i("# var imageUrl = "+n("imageUrl")+"(data.item); ## var spriteCssClass = "+n("spriteCssClass")+"(data.item); ## if (imageUrl) { #<img class='k-image' alt='' src='#= imageUrl #'># } ## if (spriteCssClass) { #<span class='k-sprite #= spriteCssClass #' /># } ##= data.treeview.template(data) #"),itemElement:i("# var item = data.item, r = data.r; ## var url = "+n("url")+"(item); #<div class='#= r.cssClass(data.group, item) #'># if (item.hasChildren) { #<span class='#= r.toggleButtonClass(item) #' role='presentation' /># } ## if (data.treeview.checkboxes) { #<span class='k-checkbox-wrapper' role='presentation'>#= data.treeview.checkboxes.template(data) #</span># } ## var tag = url ? 'a' : 'span'; ## var textAttr = url ? ' href=\\'' + url + '\\'' : ''; #<#=tag# class='#= r.textClass(item, !!url) #'#= textAttr #>#= r.itemContent(data) #</#=tag#></div>"),item:i("# var item = data.item, r = data.r; #<li role='treeitem' class='#= r.wrapperCssClass(data.group, item) #' "+f.attr("uid")+"='#= item.uid #' aria-selected='#= item.selected ? \"true\" : \"false \" #' #=item.enabled === false ? \"aria-disabled='true'\" : ''## if (item.expanded) { #data-expanded='true' aria-expanded='true'# } #>#= r.itemElement(data) #</li>"),loading:i("<div class='k-icon k-loading' /> #: data.messages.loading #"),retry:i("#: data.messages.requestFailed # <button class='k-button k-request-retry'>#: data.messages.retry #</button>")};},items:function items(){return this.element.find(".k-item > div:first-child");},setDataSource:function setDataSource(t){var n=this.options;n.dataSource=t,this._dataSource(),n.checkboxes&&n.checkboxes.checkChildren&&this.dataSource.one("change",e.proxy(this.updateIndeterminate,this,null)),this.options.autoBind&&this.dataSource.fetch();},_bindDataSource:function _bindDataSource(){this._refreshHandler=y(this.refresh,this),this._errorHandler=y(this._error,this),this.dataSource.bind(A,this._refreshHandler),this.dataSource.bind(E,this._errorHandler);},_unbindDataSource:function _unbindDataSource(){var e=this.dataSource;e&&(e.unbind(A,this._refreshHandler),e.unbind(E,this._errorHandler));},_dataSource:function _dataSource(e){function t(e){for(var n=0;e.length>n;n++){e[n]._initChildren(),e[n].children.fetch(),t(e[n].children.view());}}var n=this,i=n.options,o=i.dataSource;o=_(o)?{data:o}:o,n._unbindDataSource(),o.fields||(o.fields=[{field:"text"},{field:"url"},{field:"spriteCssClass"},{field:"imageUrl"}]),n.dataSource=o=w.create(o),e&&(o.fetch(),t(o.view())),n._bindDataSource();},events:[M,P,z,B,L,D,F,C,A,T,S],options:{name:"TreeView",dataSource:{},animation:{expand:{effects:"expand:vertical",duration:200},collapse:{duration:100}},messages:{loading:"Loading...",requestFailed:"Request failed.",retry:"Retry"},dragAndDrop:!1,checkboxes:!1,autoBind:!0,autoScroll:!1,loadOnDemand:!0,template:"",dataTextField:null},_accessors:function _accessors(){var e,t,n,i=this,o=i.options,r=i.element;for(e in $){t=o[$[e]],n=r.attr(f.attr(e+"-field")),!t&&n&&(t=n),t||(t=e),_(t)||(t=[t]),o[$[e]]=t;}},_fieldAccessor:function _fieldAccessor(t){var n=this.options[$[t]],i=n.length,o="(function(item) {";return 0===i?o+="return item['"+t+"'];":(o+="var levels = ["+e.map(n,function(e){return"function(d){ return "+f.expr(e)+"}";}).join(",")+"];",o+="return levels[Math.min(item.level(), "+i+"-1)](item)"),o+="})";},setOptions:function setOptions(e){b.fn.setOptions.call(this,e),this._animation(),this._dragging(),this._templates();},_trigger:function _trigger(e,t){return this.trigger(e,{node:t.closest(W)[0]});},_setChecked:function _setChecked(t,n){if(t&&e.isFunction(t.view))for(var i=0,o=t.view();o.length>i;i++){o[i][R]=n,o[i].children&&this._setChecked(o[i].children,n);}},_setIndeterminate:function _setIndeterminate(e){var t,n,i,r=c(e),a=!0;if(r.length&&(t=o(r.children()),n=t.length)){if(n>1){for(i=1;n>i;i++){if(t[i].checked!=t[i-1].checked||t[i].indeterminate||t[i-1].indeterminate){a=!1;break;}}}else a=!t[0].indeterminate;return o(e).data(I,!a).prop(I,!a).prop(R,a&&t[0].checked);}},updateIndeterminate:function updateIndeterminate(e){var t,n,i;if(e=e||this.wrapper,t=c(e).children(),t.length){for(n=0;t.length>n;n++){this.updateIndeterminate(t.eq(n));}i=this._setIndeterminate(e),i&&i.prop(R)&&(this.dataItem(e).checked=!0);}},_bubbleIndeterminate:function _bubbleIndeterminate(e){if(e.length){var t,n=this.parent(e);n.length&&(this._setIndeterminate(n),t=n.children("div").find(".k-checkbox-wrapper :checkbox"),t.prop(I)===!1?this.dataItem(n).set(R,t.prop(R)):delete this.dataItem(n).checked,this._bubbleIndeterminate(n));}},_checkboxChange:function _checkboxChange(t){var n=e(t.target),i=n.prop(R),o=n.closest(W),r=this.dataItem(o);r.checked!=i&&(r.set(R,i),this._trigger(S,o));},_toggleButtonClick:function _toggleButtonClick(t){this.toggle(e(t.target).closest(W));},_mousedown:function _mousedown(t){var n=e(t.currentTarget).closest(W);this._clickTarget=n,this.current(n);},_focusable:function _focusable(e){return e&&e.length&&e.is(":visible")&&!e.find(".k-in:first").hasClass("k-state-disabled");},_focus:function _focus(){var t=this.select(),n=this._clickTarget;f.support.touch||(n&&n.length&&(t=n),this._focusable(t)||(t=this.current()),this._focusable(t)||(t=this._nextVisible(e())),this.current(t));},focus:function focus(){var e,t=this.wrapper,n=t[0],i=[],o=[],r=document.documentElement;do{n=n.parentNode,n.scrollHeight>n.clientHeight&&(i.push(n),o.push(n.scrollTop));}while(n!=r);for(t.focus(),e=0;i.length>e;e++){i[e].scrollTop=o[e];}},_blur:function _blur(){this.current().find(".k-in:first").removeClass("k-state-focused");},_enabled:function _enabled(e){return!e.children("div").children(".k-in").hasClass("k-state-disabled");},parent:function parent(t){var n,i,o=/\bk-treeview\b/,r=/\bk-item\b/;(typeof t==="undefined"?"undefined":_typeof(t))==j&&(t=this.element.find(t)),Y(t)||(t=t[0]),i=r.test(t.className);do{t=t.parentNode,r.test(t.className)&&(i?n=t:i=!0);}while(!o.test(t.className)&&!n);return e(n);},_nextVisible:function _nextVisible(e){function t(e){for(;e.length&&!e.next().length;){e=i.parent(e);}return e.next().length?e.next():e;}var n,i=this,o=i._expanded(e);return e.length&&e.is(":visible")?o?(n=c(e).children().first(),n.length||(n=t(e))):n=t(e):n=i.root.children().eq(0),i._enabled(n)||(n=i._nextVisible(n)),n;},_previousVisible:function _previousVisible(e){var t,n,i=this;if(!e.length||e.prev().length)for(n=e.length?e.prev():i.root.children().last();i._expanded(n)&&(t=c(n).children().last(),t.length);){n=t;}else n=i.parent(e)||e;return i._enabled(n)||(n=i._previousVisible(n)),n;},_keydown:function _keydown(n){var i,o=this,r=n.keyCode,a=o.current(),s=o._expanded(a),l=a.find(".k-checkbox-wrapper:first :checkbox"),c=f.support.isRtl(o.element);n.target==n.currentTarget&&(!c&&r==k.RIGHT||c&&r==k.LEFT?s?i=o._nextVisible(a):o.expand(a):!c&&r==k.LEFT||c&&r==k.RIGHT?s?o.collapse(a):(i=o.parent(a),o._enabled(i)||(i=t)):r==k.DOWN?i=o._nextVisible(a):r==k.UP?i=o._previousVisible(a):r==k.HOME?i=o._nextVisible(e()):r==k.END?i=o._previousVisible(e()):r==k.ENTER?a.find(".k-in:first").hasClass("k-state-selected")||o._trigger(C,a)||o.select(a):r==k.SPACEBAR&&l.length&&(l.prop(R,!l.prop(R)).data(I,!1).prop(I,!1),o._checkboxChange({target:l}),i=a),i&&(n.preventDefault(),a[0]!=i[0]&&(o._trigger(T,i),o.current(i))));},_click:function _click(t){var n,i=this,o=e(t.currentTarget),r=d(o.closest(W)),a=o.attr("href");n=a?"#"==a||a.indexOf("#"+this.element.id+"-")>=0:r.length&&!r.children().length,n&&t.preventDefault(),o.hasClass(".k-state-selected")||i._trigger(C,o)||i.select(o);},_wrapper:function _wrapper(){var e,t,n=this,i=n.element,o="k-widget k-treeview";i.is("ul")?(e=i.wrap("<div />").parent(),t=i):(e=i,t=e.children("ul").eq(0)),n.wrapper=e.addClass(o),n.root=t;},_group:function _group(e){var t=this,n=e.hasClass(V),i={firstLevel:n,expanded:n||t._expanded(e)},o=e.children("ul");o.addClass(t.templates.groupCssClass(i)).css("display",i.expanded?"":"none"),t._nodes(o,i);},_nodes:function _nodes(t,n){var i,o=this,r=t.children("li");n=g({length:r.length},n),r.each(function(t,r){r=e(r),i={index:t,expanded:o._expanded(r)},s(r),o._updateNodeClasses(r,n,i),o._group(r);});},_checkboxes:function _checkboxes(){var e,t=this.options,n=t.checkboxes;n&&(e="<input type='checkbox' tabindex='-1' #= (item.enabled === false) ? 'disabled' : '' # #= item.checked ? 'checked' : '' #",n.name&&(e+=" name='"+n.name+"'"),e+=" id='_#= item.uid #' class='k-checkbox' /><label for='_#= item.uid #' class='k-checkbox-label'></label>",n=g({template:e},t.checkboxes),_typeof(n.template)==j&&(n.template=v(n.template)),t.checkboxes=n);},_updateNodeClasses:function _updateNodeClasses(e,t,n){var i,o,r=e.children("div"),a=e.children("ul"),s=this.templates;e.hasClass("k-treeview")||(n=n||{},n.expanded=_typeof(n.expanded)!=N?n.expanded:this._expanded(e),n.index=_typeof(n.index)!=N?n.index:e.index(),n.enabled=_typeof(n.enabled)!=N?n.enabled:!r.children(".k-in").hasClass("k-state-disabled"),t=t||{},t.firstLevel=_typeof(t.firstLevel)!=N?t.firstLevel:e.parent().parent().hasClass(V),t.length=_typeof(t.length)!=N?t.length:e.parent().children().length,e.removeClass("k-first k-last").addClass(s.wrapperCssClass(t,n)),r.removeClass("k-top k-mid k-bot").addClass(s.cssClass(t,n)),i=r.children(".k-in"),o=i[0]&&"a"==i[0].nodeName.toLowerCase(),i.removeClass("k-in k-link k-state-default k-state-disabled").addClass(s.textClass(n,o)),(a.length||"true"==e.attr("data-hasChildren"))&&(r.children(".k-icon").removeClass("k-plus k-minus k-plus-disabled k-minus-disabled").addClass(s.toggleButtonClass(n)),a.addClass("k-group")));},_processNodes:function _processNodes(t,n){var i=this;i.element.find(t).each(function(t,o){n.call(i,t,e(o).closest(W));});},dataItem:function dataItem(t){var n=e(t).closest(W).attr(f.attr("uid")),i=this.dataSource;return i&&i.getByUid(n);},_insertNode:function _insertNode(t,n,i,o,r){var a,l,d,u,h=this,f=c(i),p=f.children().length+1,m={firstLevel:i.hasClass(V),expanded:!r,length:p},g="",v=function v(e,t){e.appendTo(t);};for(d=0;t.length>d;d++){u=t[d],u.index=n+d,g+=h._renderItem({group:m,item:u});}if(l=e(g),l.length){for(h.angular("compile",function(){return{elements:l.get(),data:t.map(function(e){return{dataItem:e};})};}),f.length||(f=e(h._renderGroup({group:m})).appendTo(i)),o(l,f),i.hasClass("k-item")&&(s(i),h._updateNodeClasses(i)),h._updateNodeClasses(l.prev().first()),h._updateNodeClasses(l.next().last()),d=0;t.length>d;d++){u=t[d],u.hasChildren&&(a=u.children.data(),a.length&&h._insertNode(a,u.index,l.eq(d),v,!h._expanded(l.eq(d))));}return l;}},_updateNodes:function _updateNodes(t,n){function i(e,t){e.find(".k-checkbox-wrapper :checkbox").prop(R,t).data(I,!1).prop(I,!1);}var o,r,a,s,l,c,u,h=this,f={treeview:h.options,item:s},m="expanded"!=n&&"checked"!=n;if("selected"==n)s=t[0],r=h.findByUid(s.uid).find(".k-in:first").removeClass("k-state-hover").toggleClass("k-state-selected",s[n]).end(),s[n]&&h.current(r),r.attr(q,!!s[n]);else{for(u=e.map(t,function(e){return h.findByUid(e.uid).children("div");}),m&&h.angular("cleanup",function(){return{elements:u};}),o=0;t.length>o;o++){f.item=s=t[o],a=u[o],r=a.parent(),m&&a.children(".k-in").html(h.templates.itemContent(f)),n==R?(l=s[n],i(a,l),h.options.checkboxes.checkChildren&&(i(r.children(".k-group"),l),h._setChecked(s.children,l),h._bubbleIndeterminate(r))):"expanded"==n?h._toggle(r,s,s[n]):"enabled"==n&&(r.find(".k-checkbox-wrapper :checkbox").prop("disabled",!s[n]),c=!d(r).is(U),r.removeAttr(G),s[n]||(s.selected&&s.set("selected",!1),s.expanded&&s.set("expanded",!1),c=!0,r.attr(q,!1).attr(G,!0)),h._updateNodeClasses(r,{},{enabled:s[n],expanded:!c})),a.length&&this.trigger("itemChange",{item:a,data:s,ns:p});}m&&h.angular("compile",function(){return{elements:u,data:e.map(t,function(e){return[{dataItem:e}];})};});}},_appendItems:function _appendItems(e,t,n){var i=c(n),o=i.children(),r=!this._expanded(n);(typeof e==="undefined"?"undefined":_typeof(e))==N&&(e=o.length),this._insertNode(t,e,n,function(t,n){e>=o.length?t.appendTo(n):t.insertBefore(o.eq(e));},r),this._expanded(n)&&(this._updateNodeClasses(n),c(n).css("display","block"));},_refreshChildren:function _refreshChildren(e,t,n){var i,o,r,a=this.options,l=a.loadOnDemand,d=a.checkboxes&&a.checkboxes.checkChildren;if(c(e).empty(),t.length)for(this._appendItems(n,t,e),o=c(e).children(),l&&d&&this._bubbleIndeterminate(o.last()),i=0;o.length>i;i++){r=o.eq(i),this.trigger("itemChange",{item:r.children("div"),data:this.dataItem(r),ns:p});}else s(e);},_refreshRoot:function _refreshRoot(t){var n,i,o,r=this._renderGroup({items:t,group:{firstLevel:!0,expanded:!0}});for(this.root.length?(this._angularItems("cleanup"),n=e(r),this.root.attr("class",n.attr("class")).html(n.html())):this.root=this.wrapper.html(r).children("ul"),this.root.attr("role","tree"),i=this.root.children(".k-item"),o=0;t.length>o;o++){this.trigger("itemChange",{item:i.eq(o),data:t[o],ns:p});}this._angularItems("compile");},refresh:function refresh(e){var n,i,o=e.node,r=e.action,a=e.items,s=this.wrapper,l=this.options,c=l.loadOnDemand,d=l.checkboxes&&l.checkboxes.checkChildren;if(e.field){if(!a[0]||!a[0].level)return;return this._updateNodes(a,e.field);}if(o&&(s=this.findByUid(o.uid),this._progress(s,!1)),d&&"remove"!=r){for(i=!1,n=0;a.length>n;n++){if("checked"in a[n]){i=!0;break;}}if(!i&&o&&o.checked)for(n=0;a.length>n;n++){a[n].checked=!0;}}if("add"==r?this._appendItems(e.index,a,s):"remove"==r?this._remove(this.findByUid(a[0].uid),!1):"itemchange"==r?this._updateNodes(a):"itemloaded"==r?this._refreshChildren(s,a,e.index):this._refreshRoot(a),"remove"!=r)for(n=0;a.length>n;n++){c&&!a[n].expanded||a[n].load();}this.trigger(L,{node:o?s:t});},_error:function _error(e){var t=e.node&&this.findByUid(e.node.uid),n=this.templates.retry({messages:this.options.messages});t?(this._progress(t,!1),this._expanded(t,!1),u(t).addClass("k-i-refresh"),e.node.loaded(!1)):(this._progress(!1),this.element.html(n));},_retryRequest:function _retryRequest(e){e.preventDefault(),this.dataSource.fetch();},expand:function expand(e){this._processNodes(e,function(e,t){this.toggle(t,!0);});},collapse:function collapse(e){this._processNodes(e,function(e,t){this.toggle(t,!1);});},enable:function enable(e,t){t=2==arguments.length?!!t:!0,this._processNodes(e,function(e,n){this.dataItem(n).set("enabled",t);});},current:function current(n){var i=this,o=i._current,r=i.element,a=i._ariaId;return arguments.length>0&&n&&n.length?(o&&(o[0].id===a&&o.removeAttr("id"),o.find(".k-in:first").removeClass("k-state-focused")),o=i._current=e(n,r).closest(W),o.find(".k-in:first").addClass("k-state-focused"),a=o[0].id||a,a&&(i.wrapper.removeAttr("aria-activedescendant"),o.attr("id",a),i.wrapper.attr("aria-activedescendant",a)),t):(o||(o=i._nextVisible(e())),o);},select:function select(n){var i=this,o=i.element;return arguments.length?(n=e(n,o).closest(W),o.find(".k-state-selected").each(function(){var t=i.dataItem(this);t?(t.set("selected",!1),delete t.selected):e(this).removeClass("k-state-selected");}),n.length&&(i.dataItem(n).set("selected",!0),i._clickTarget=n),i.trigger(A),t):o.find(".k-state-selected").closest(W);},_toggle:function _toggle(e,t,n){var i,o=this.options,r=d(e),a=n?"expand":"collapse";r.data("animating")||this._trigger(a,e)||(this._expanded(e,n),i=t&&t.loaded(),n&&!i?(o.loadOnDemand&&this._progress(e,!0),r.remove(),t.load()):(this._updateNodeClasses(e,{},{expanded:n}),n||r.css("height",r.height()).css("height"),r.kendoStop(!0,!0).kendoAnimate(g({reset:!0},o.animation[a],{complete:function complete(){n&&r.css("height","");}}))));},toggle:function toggle(t,n){t=e(t),u(t).is(".k-minus,.k-plus,.k-minus-disabled,.k-plus-disabled")&&(1==arguments.length&&(n=!this._expanded(t)),this._expanded(t,n));},destroy:function destroy(){var e=this;b.fn.destroy.call(e),e.wrapper.off(x),e._unbindDataSource(),e.dragging&&e.dragging.destroy(),f.destroy(e.element),e.root=e.wrapper=e.element=null;},_expanded:function _expanded(e,n){var i=f.attr("expanded"),o=this.dataItem(e),r=n;return 1==arguments.length?"true"===e.attr(i)||o&&o.expanded:(d(e).data("animating")||(o&&(o.set("expanded",r),r=o.expanded),r?(e.attr(i,"true"),e.attr("aria-expanded","true")):(e.removeAttr(i),e.attr("aria-expanded","false"))),t);},_progress:function _progress(e,t){var n=this.element,i=this.templates.loading({messages:this.options.messages});1==arguments.length?(t=e,t?n.html(i):n.empty()):u(e).toggleClass("k-loading",t).removeClass("k-i-refresh");},text:function text(e,n){var i=this.dataItem(e),o=this.options[$.text],r=i.level(),a=o.length,s=o[Math.min(r,a-1)];return n?(i.set(s,n),t):i[s];},_objectOrSelf:function _objectOrSelf(t){return e(t).closest("[data-role=treeview]").data("kendoTreeView")||this;},_dataSourceMove:function _dataSourceMove(t,n,i,o){var r,a=this._objectOrSelf(i||n),s=a.dataSource,l=e.Deferred().resolve().promise();return i&&i[0]!=a.element[0]&&(r=a.dataItem(i),r.loaded()||(a._progress(i,!0),l=r.load()),i!=this.root&&(s=r.children,s&&s instanceof w||(r._initChildren(),r.loaded(!0),s=r.children))),t=this._toObservableData(t),o.call(a,s,t,l);},_toObservableData:function _toObservableData(t){var n,i,o=t;return(t instanceof window.jQuery||Y(t))&&(n=this._objectOrSelf(t).dataSource,i=e(t).attr(f.attr("uid")),o=n.getByUid(i),o&&(o=n.remove(o))),o;},_insert:function _insert(e,t,n){t instanceof f.data.ObservableArray?t=t.toJSON():_(t)||(t=[t]);var i=e.parent();return i&&i._initChildren&&(i.hasChildren=!0,i._initChildren()),e.splice.apply(e,[n,0].concat(t)),this.findByUid(e[n].uid);},insertAfter:r(1),insertBefore:r(0),append:function append(t,n,i){var o=this.root;return n&&(o=c(n)),this._dataSourceMove(t,o,n,function(t,o,r){function a(){n&&l._expanded(n,!0);var e=t.data(),i=Math.max(e.length,0);return l._insert(e,o,i);}var s,l=this;return r.then(function(){s=a(),(i=i||e.noop)(s);}),s||null;});},_remove:function _remove(t,n){var i,o,r,a=this;return t=e(t,a.element),this.angular("cleanup",function(){return{elements:t.get()};}),i=t.parent().parent(),o=t.prev(),r=t.next(),t[n?"detach":"remove"](),i.hasClass("k-item")&&(s(i),a._updateNodeClasses(i)),a._updateNodeClasses(o),a._updateNodeClasses(r),t;},remove:function remove(e){var t=this.dataItem(e);t&&this.dataSource.remove(t);},detach:function detach(e){return this._remove(e,!0);},findByText:function findByText(t){return e(this.element).find(".k-in").filter(function(n,i){return e(i).text()==t;}).closest(W);},findByUid:function findByUid(t){var n,i,o=this.element.find(".k-item"),r=f.attr("uid");for(i=0;o.length>i;i++){if(o[i].getAttribute(r)==t){n=o[i];break;}}return e(n);},expandPath:function expandPath(t,n){function i(){a.shift(),a.length?o(a[0]).then(i):s.call(r);}function o(t){var n=e.Deferred(),i=r.dataSource.get(t);return i?i.loaded()?(i.set("expanded",!0),n.resolve()):(r._progress(r.findByUid(i.uid),!0),i.load().then(function(){i.set("expanded",!0),n.resolve();})):n.resolve(),n.promise();}var r=this,a=t.slice(0),s=n||e.noop;o(a[0]).then(i);},_parentIds:function _parentIds(e){for(var t=e&&e.parentNode(),n=[];t&&t.parentNode;){n.unshift(t.id),t=t.parentNode();}return n;},expandTo:function expandTo(e){e instanceof f.data.Node||(e=this.dataSource.get(e));var t=this._parentIds(e);this.expandPath(t);},_renderItem:function _renderItem(e){return e.group||(e.group={}),e.treeview=this.options,e.r=this.templates,this.templates.item(e);},_renderGroup:function _renderGroup(e){var t=this;return e.renderItems=function(e){var n="",i=0,o=e.items,r=o?o.length:0,a=e.group;for(a.length=r;r>i;i++){e.group=a,e.item=o[i],e.item.index=i,n+=t._renderItem(e);}return n;},e.r=t.templates,t.templates.group(e);}}),p.plugin(l);}(window.kendo.jQuery),window.kendo;},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("kendo.pivot.fieldmenu.min",["kendo.pivotgrid.min","kendo.menu.min","kendo.window.min","kendo.treeview.min","kendo.dropdownlist.min"],e);}(function(){return function(e,t){function n(e,t){var n,i,o=[];for(n=0,i=e.length;i>n;n++){e[n].field!==t&&o.push(e[n]);}return o;}function i(e,t,n){var i,o,r,a;if(!e)return[];for(e=e.filters,i=0,o=[],r=e.length;r>i;i++){a=e[i].operator,(n||"in"===a)&&a!==n||e[i].field!==t||o.push(e[i]);}return o;}function o(t,n,o){var r,a=0,s=o.length;if(t=i(t,n,"in")[0])for(r=t.value.split(",");s>a;a++){o[a].checked=e.inArray(o[a].uniqueName,r)>=0;}else for(;s>a;a++){o[a].checked=!0;}}function r(e,t){var n,i=e.length;for(n=0;i>n;n++){e[n].checked&&0!==e[n].level()&&t.push(e[n].uniqueName),e[n].hasChildren&&r(e[n].children.view(),t);}}var a=window.kendo,s=a.ui,l="kendoContextMenu",c=e.proxy,d=".kendoPivotFieldMenu",u=s.Widget,h=u.extend({init:function init(e,t){u.fn.init.call(this,e,t),this._dataSource(),this._layout(),a.notify(this);},events:[],options:{name:"PivotFieldMenu",filter:null,filterable:!0,sortable:!0,messages:{info:"Show items with value that:",sortAscending:"Sort Ascending",sortDescending:"Sort Descending",filterFields:"Fields Filter",filter:"Filter",include:"Include Fields...",title:"Fields to include",clear:"Clear",ok:"OK",cancel:"Cancel",operators:{contains:"Contains",doesnotcontain:"Does not contain",startswith:"Starts with",endswith:"Ends with",eq:"Is equal to",neq:"Is not equal to"}}},_layout:function _layout(){var t=this.options;this.wrapper=e(a.template(p)({ns:a.ns,filterable:t.filterable,sortable:t.sortable,messages:t.messages})),this.menu=this.wrapper[l]({filter:t.filter,target:this.element,orientation:"vertical",showOn:"click",closeOnClick:!1,open:c(this._menuOpen,this),select:c(this._select,this),copyAnchorStyles:!1}).data(l),this._createWindow(),t.filterable&&this._initFilterForm();},_initFilterForm:function _initFilterForm(){var e=this.menu.element.find(".k-filter-item"),t=c(this._filter,this);this._filterOperator=new a.ui.DropDownList(e.find("select")),this._filterValue=e.find(".k-textbox"),e.on("submit"+d,t).on("click"+d,".k-button-filter",t).on("click"+d,".k-button-clear",c(this._reset,this));},_setFilterForm:function _setFilterForm(e){var t=this._filterOperator,n="",i="";e&&(n=e.operator,i=e.value),t.value(n),t.value()||t.select(0),this._filterValue.val(i);},_clearFilters:function _clearFilters(e){var t,n,o=this.dataSource.filter()||{},r=0;for(o.filters=o.filters||[],t=i(o,e),n=t.length;n>r;r++){o.filters.splice(o.filters.indexOf(t[r]),1);}return o;},_convert:function _convert(t){var n=this.dataSource.options.schema,i=((n.model||{}).fields||{})[this.currentMember];return i&&("number"===i.type?t=parseFloat(t):"boolean"===i.type&&(t=!!e.parseJSON(t))),t;},_filter:function _filter(e){var n,i,o=this,r=o._convert(o._filterValue.val());return e.preventDefault(),""===r?(o.menu.close(),t):(n={field:o.currentMember,operator:o._filterOperator.value(),value:r},i=o._clearFilters(o.currentMember),i.filters.push(n),o.dataSource.filter(i),o.menu.close(),t);},_reset:function _reset(e){var t=this,n=t._clearFilters(t.currentMember);e.preventDefault(),n.filters[0]||(n={}),t.dataSource.filter(n),t._setFilterForm(null),t.menu.close();},_sort:function _sort(e){var t=this.currentMember,i=this.dataSource.sort()||[];i=n(i,t),i.push({field:t,dir:e}),this.dataSource.sort(i),this.menu.close();},setDataSource:function setDataSource(e){this.options.dataSource=e,this._dataSource();},_dataSource:function _dataSource(){this.dataSource=a.data.PivotDataSource.create(this.options.dataSource);},_createWindow:function _createWindow(){var t=this.options.messages;this.includeWindow=e(a.template(m)({messages:t})).on("click"+d,".k-button-ok",c(this._applyIncludes,this)).on("click"+d,".k-button-cancel",c(this._closeWindow,this)),this.includeWindow=new s.Window(this.includeWindow,{title:t.title,visible:!1,resizable:!1,open:c(this._windowOpen,this)});},_applyIncludes:function _applyIncludes(e){var t,n=[],o=this.treeView.dataSource.view(),a=o[0].checked,s=this.dataSource.filter(),l=i(s,this.currentMember,"in")[0];r(o,n),l&&(a?(s.filters.splice(s.filters.indexOf(l),1),s.filters.length||(s={})):l.value=n.join(","),t=s),n.length&&(t||a||(t={field:this.currentMember,operator:"in",value:n.join(",")},s&&(s.filters.push(t),t=s))),t&&this.dataSource.filter(t),this._closeWindow(e);},_closeWindow:function _closeWindow(e){e.preventDefault(),this.includeWindow.close();},_treeViewDataSource:function _treeViewDataSource(){var e=this;return a.data.HierarchicalDataSource.create({schema:{model:{id:"uniqueName",hasChildren:function hasChildren(e){return parseInt(e.childrenCardinality,10)>0;}}},transport:{read:function read(t){var n={},i=e.treeView.dataSource.get(t.data.uniqueName),r=t.data.uniqueName;r?(n.memberUniqueName=i.uniqueName.replace(/\&/g,"&amp;"),n.treeOp=1):n.levelUniqueName=e.currentMember+".[(ALL)]",e.dataSource.schemaMembers(n).done(function(n){o(e.dataSource.filter(),e.currentMember,n),t.success(n);}).fail(t.error);}}});},_createTreeView:function _createTreeView(e){var t=this;t.treeView=new s.TreeView(e,{autoBind:!1,dataSource:t._treeViewDataSource(),dataTextField:"caption",template:"#: data.item.caption || data.item.name #",checkboxes:{checkChildren:!0},dataBound:function dataBound(){s.progress(t.includeWindow.element,!1);}});},_menuOpen:function _menuOpen(t){if(t.event){var n=a.attr("name");this.currentMember=e(t.event.target).closest("["+n+"]").attr(n),this.options.filterable&&this._setFilterForm(i(this.dataSource.filter(),this.currentMember)[0]);}},_select:function _select(t){var n=e(t.item);e(".k-pivot-filter-window").not(this.includeWindow.element).kendoWindow("close"),n.hasClass("k-include-item")?this.includeWindow.center().open():n.hasClass("k-sort-asc")?this._sort("asc"):n.hasClass("k-sort-desc")&&this._sort("desc");},_windowOpen:function _windowOpen(){this.treeView||this._createTreeView(this.includeWindow.element.find(".k-treeview")),s.progress(this.includeWindow.element,!0),this.treeView.dataSource.read();},destroy:function destroy(){u.fn.destroy.call(this),this.menu&&(this.menu.destroy(),this.menu=null),this.treeView&&(this.treeView.destroy(),this.treeView=null),this.includeWindow&&(this.includeWindow.destroy(),this.includeWindow=null),this.wrapper=null,this.element=null;}}),f='<div class="k-filterable k-content" tabindex="-1" data-role="fieldmenu"><form class="k-filter-menu"><div><div class="k-filter-help-text">#=messages.info#</div><select>#for(var op in messages.operators){#<option value="#=op#">#=messages.operators[op]#</option>#}#</select><input class="k-textbox" type="text" /><div><a class="k-button k-primary k-button-filter" href="\\#">#=messages.filter#</a><a class="k-button k-button-clear" href="\\#">#=messages.clear#</a></div></div></form></div>',p='<ul class="k-pivot-fieldmenu"># if (sortable) {#<li class="k-item k-sort-asc"><span class="k-link"><span class="k-icon k-i-sort-asc"></span>${messages.sortAscending}</span></li><li class="k-item k-sort-desc"><span class="k-link"><span class="k-icon k-i-sort-desc"></span>${messages.sortDescending}</span></li># if (filterable) {#<li class="k-separator"></li># } ## } ## if (filterable) {#<li class="k-item k-include-item"><span class="k-link"><span class="k-icon k-filter"></span>${messages.include}</span></li><li class="k-separator"></li><li class="k-item k-filter-item"><span class="k-link"><span class="k-icon k-filter"></span>${messages.filterFields}</span><ul><li>'+f+"</li></ul></li># } #</ul>",m='<div class="k-popup-edit-form k-pivot-filter-window"><div class="k-edit-form-container"><div class="k-treeview"></div><div class="k-edit-buttons k-state-default"><a class="k-button k-primary k-button-ok" href="\\#">${messages.ok}</a><a class="k-button k-button-cancel" href="\\#">${messages.cancel}</a></div></div>';s.plugin(h);}(window.kendo.jQuery),window.kendo;},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("kendo.filtercell.min",["kendo.autocomplete.min","kendo.datepicker.min","kendo.numerictextbox.min","kendo.combobox.min","kendo.dropdownlist.min"],e);}(function(){return function(e,t){function n(t){var n="string"==typeof t?t:t.operator;return e.inArray(n,v)>-1;}function i(t,n){var o,r,a=[];if(e.isPlainObject(t))if(t.hasOwnProperty("filters"))a=t.filters;else if(t.field==n)return t;for(e.isArray(t)&&(a=t),o=0;a.length>o;o++){if(r=i(a[o],n))return r;}}function o(t,n){t.filters&&(t.filters=e.grep(t.filters,function(e){return o(e,n),e.filters?e.filters.length:e.field!=n;}));}function r(e,t){var n=a.getter(t,!0);return function(t){for(var i,o,r=e(t),a=[],s=0,l={};r.length>s;){i=r[s++],o=n(i),l.hasOwnProperty(o)||(a.push(i),l[o]=!0);}return a;};}var a=window.kendo,s=a.ui,l=a.data.DataSource,c=s.Widget,d="change",u="boolean",h="enums",f="string",p="Is equal to",m="Is not equal to",g=e.proxy,v=["isnull","isnotnull","isempty","isnotempty"],_=c.extend({init:function init(i,o){var r,s,l,p,m,v,_,b,w,y,k,x;if(i=e(i).addClass("k-filtercell"),r=this.wrapper=e("<span/>").appendTo(i),s=this,m=o,b=s.operators=o.operators||{},w=s.input=e("<input/>").attr(a.attr("bind"),"value: value").appendTo(r),c.fn.init.call(s,i[0],o),o=s.options,l=s.dataSource=o.dataSource,s.model=l.reader.model,_=o.type=f,y=a.getter("reader.model.fields",!0)(l)||{},k=y[o.field],k&&k.type&&(_=o.type=k.type),o.values&&(o.type=_=h),b=b[_]||o.operators[_],!m.operator)for(v in b){o.operator=v;break;}s._parse=function(e){return null!=e?e+"":e;},s.model&&s.model.fields&&(x=s.model.fields[o.field],x&&x.parse&&(s._parse=g(x.parse,x))),s.defaultOperator=o.operator,s.viewModel=p=a.observable({operator:o.operator,value:null,operatorVisible:function operatorVisible(){var e=this.get("value");return null!==e&&e!==t&&"undefined"!=e||n(this.get("operator"))&&!s._clearInProgress;}}),p.bind(d,g(s.updateDsFilter,s)),_==f&&s.initSuggestDataSource(o),null!==o.inputWidth&&w.width(o.inputWidth),s._setInputType(o,_),_!=u&&o.showOperators!==!1?s._createOperatorDropDown(b):r.addClass("k-operator-hidden"),s._createClearIcon(),a.bind(this.wrapper,p),_==f&&(o.template||s.setAutoCompleteSource()),_==h&&s.setComboBoxSource(s.options.values),s._refreshUI(),s._refreshHandler=g(s._refreshUI,s),s.dataSource.bind(d,s._refreshHandler);},_setInputType:function _setInputType(t,n){var i,o,r,s,l,c=this,d=c.input;"function"==typeof t.template?(t.template.call(c.viewModel,{element:c.input,dataSource:c.suggestDataSource}),c._angularItems("compile")):n==f?d.attr(a.attr("role"),"autocomplete").attr(a.attr("text-field"),t.dataTextField||t.field).attr(a.attr("filter"),t.suggestionOperator).attr(a.attr("delay"),t.delay).attr(a.attr("min-length"),t.minLength).attr(a.attr("value-primitive"),!0):"date"==n?d.attr(a.attr("role"),"datepicker"):n==u?(d.remove(),i=e("<input type='radio'/>"),o=c.wrapper,r=a.guid(),s=e("<label/>").text(t.messages.isTrue).append(i),i.attr(a.attr("bind"),"checked:value").attr("name",r).val("true"),l=s.clone().text(t.messages.isFalse),i.clone().val("false").appendTo(l),o.append([s,l])):"number"==n?d.attr(a.attr("role"),"numerictextbox"):n==h&&d.attr(a.attr("role"),"combobox").attr(a.attr("text-field"),"text").attr(a.attr("suggest"),!0).attr(a.attr("filter"),"contains").attr(a.attr("value-field"),"value").attr(a.attr("value-primitive"),!0);},_createOperatorDropDown:function _createOperatorDropDown(t){var n,i,o=[];for(n in t){o.push({text:t[n],value:n});}i=e('<input class="k-dropdown-operator" '+a.attr("bind")+'="value: operator"/>').appendTo(this.wrapper),this.operatorDropDown=i.kendoDropDownList({dataSource:o,dataTextField:"text",dataValueField:"value",open:function open(){this.popup.element.width(150);},valuePrimitive:!0}).data("kendoDropDownList"),this.operatorDropDown.wrapper.find(".k-i-arrow-s").removeClass("k-i-arrow-s").addClass("k-filter");},initSuggestDataSource:function initSuggestDataSource(e){var n=e.suggestDataSource;n instanceof l||(!e.customDataSource&&n&&(n.group=t),n=this.suggestDataSource=l.create(n)),e.customDataSource||(n._pageSize=t,n.reader.data=r(n.reader.data,this.options.field)),this.suggestDataSource=n;},setAutoCompleteSource:function setAutoCompleteSource(){var e=this.input.data("kendoAutoComplete");e&&e.setDataSource(this.suggestDataSource);},setComboBoxSource:function setComboBoxSource(e){var t=l.create({data:e}),n=this.input.data("kendoComboBox");n&&n.setDataSource(t);},_refreshUI:function _refreshUI(){var t=this,n=i(t.dataSource.filter(),this.options.field)||{},o=t.viewModel;t.manuallyUpdatingVM=!0,n=e.extend(!0,{},n),t.options.type==u&&o.value!==n.value&&t.wrapper.find(":radio").prop("checked",!1),n.operator&&o.set("operator",n.operator),o.set("value",n.value),t.manuallyUpdatingVM=!1;},updateDsFilter:function updateDsFilter(i){var o,r,a,s=this,l=s.viewModel;s.manuallyUpdatingVM||"operator"==i.field&&l.value===t&&!n(l)||(o=e.extend({},s.viewModel.toJSON(),{field:s.options.field}),r={logic:"and",filters:[]},(o.value!==t&&null!==o.value||n(o)&&!this._clearInProgress)&&r.filters.push(o),a=s._merge(r),s.dataSource.filter(a.filters.length?a:{}));},_merge:function _merge(t){var i,r,a,s=this,l=t.logic||"and",c=t.filters,d=s.dataSource.filter()||{filters:[],logic:"and"};for(o(d,s.options.field),r=0,a=c.length;a>r;r++){i=c[r],i.value=s._parse(i.value);}return c=e.grep(c,function(e){return""!==e.value&&null!==e.value||n(e);}),c.length&&(d.filters.length?(t.filters=c,"and"!==d.logic&&(d.filters=[{logic:d.logic,filters:d.filters}],d.logic="and"),d.filters.push(c.length>1?t:c[0])):(d.filters=c,d.logic=l)),d;},_createClearIcon:function _createClearIcon(){var t=this;e("<button type='button' class='k-button k-button-icon' title = "+t.options.messages.clear+"/>").attr(a.attr("bind"),"visible:operatorVisible").html("<span class='k-icon k-i-close'/>").click(g(t.clearFilter,t)).appendTo(t.wrapper);},clearFilter:function clearFilter(){this._clearInProgress=!0,n(this.viewModel.operator)&&this.viewModel.set("operator",this.defaultOperator),this.viewModel.set("value",null),this._clearInProgress=!1;},_angularItems:function _angularItems(e){var t=this.wrapper.closest("th").get(),n=this.options.column;this.angular(e,function(){return{elements:t,data:[{column:n}]};});},destroy:function destroy(){var e=this;e.filterModel=null,e.operatorDropDown=null,e._angularItems("cleanup"),e._refreshHandler&&(e.dataSource.bind(d,e._refreshHandler),e._refreshHandler=null),a.unbind(e.element),c.fn.destroy.call(e),a.destroy(e.element);},events:[d],options:{name:"FilterCell",delay:200,minLength:1,inputWidth:null,values:t,customDataSource:!1,field:"",dataTextField:"",type:"string",suggestDataSource:null,suggestionOperator:"startswith",operator:"eq",showOperators:!0,template:null,messages:{isTrue:"is true",isFalse:"is false",filter:"Filter",clear:"Clear",operator:"Operator"},operators:{string:{eq:p,neq:m,startswith:"Starts with",contains:"Contains",doesnotcontain:"Does not contain",endswith:"Ends with",isnull:"Is null",isnotnull:"Is not null",isempty:"Is empty",isnotempty:"Is not empty"},number:{eq:p,neq:m,gte:"Is greater than or equal to",gt:"Is greater than",lte:"Is less than or equal to",lt:"Is less than",isnull:"Is null",isnotnull:"Is not null"},date:{eq:p,neq:m,gte:"Is after or equal to",gt:"Is after",lte:"Is before or equal to",lt:"Is before",isnull:"Is null",isnotnull:"Is not null"},enums:{eq:p,neq:m,isnull:"Is null",isnotnull:"Is not null"}}}});s.plugin(_);}(window.kendo.jQuery),window.kendo;},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("kendo.panelbar.min",["kendo.core.min"],e);}(function(){return function(e,t){function n(t){t=e(t),t.children(v).children(".k-icon").remove(),t.filter(":has(.k-panel),:has(.k-content)").children(".k-link:not(:has([class*=k-i-arrow]))").each(function(){var t=e(this),n=t.parent();t.append("<span class='k-icon "+(n.hasClass(F)?"k-i-arrow-n k-panelbar-collapse":"k-i-arrow-s k-panelbar-expand")+"'/>");});}function i(t){t=e(t),t.filter(".k-first:not(:first-child)").removeClass(x),t.filter(".k-last:not(:last-child)").removeClass(m),t.filter(":first-child").addClass(x),t.filter(":last-child").addClass(m);}var o=window.kendo,r=o.ui,a=o.keys,s=e.extend,l=e.each,c=o.template,d=r.Widget,u=/^(ul|a|div)$/i,h=".kendoPanelBar",f="img",p="href",m="k-last",g="k-link",v="."+g,_="error",b=".k-item",w=".k-group",y=w+":visible",k="k-image",x="k-first",C="expand",S="select",T="k-content",D="activate",A="collapse",E="mouseenter",R="mouseleave",I="contentLoad",F="k-state-active",M="> .k-panel",P="> .k-content",z="k-state-focused",B="k-state-disabled",L="k-state-selected",H="."+L,N="k-state-highlight",O=b+":not(.k-state-disabled)",V="> "+O+" > "+v+", .k-panel > "+O+" > "+v,U=b+".k-state-disabled > .k-link",W="> li > "+H+", .k-panel > li > "+H,j="k-state-default",q="aria-disabled",G="aria-expanded",$="aria-hidden",Y="aria-selected",K=":visible",Q=":empty",X="single",J={content:c("<div role='region' class='k-content'#= contentAttributes(data) #>#= content(item) #</div>"),group:c("<ul role='group' aria-hidden='true' class='#= groupCssClass(group) #'#= groupAttributes(group) #>#= renderItems(data) #</ul>"),itemWrapper:c("<#= tag(item) # class='#= textClass(item, group) #' #= contentUrl(item) ##= textAttributes(item) #>#= image(item) ##= sprite(item) ##= text(item) ##= arrow(data) #</#= tag(item) #>"),item:c("<li role='menuitem' #=aria(item)#class='#= wrapperCssClass(group, item) #'>#= itemWrapper(data) ## if (item.items) { ##= subGroup({ items: item.items, panelBar: panelBar, group: { expanded: item.expanded } }) ## } else if (item.content || item.contentUrl) { ##= renderContent(data) ## } #</li>"),image:c("<img class='k-image' alt='' src='#= imageUrl #' />"),arrow:c("<span class='#= arrowClass(item) #'></span>"),sprite:c("<span class='k-sprite #= spriteCssClass #'></span>"),empty:c("")},Z={aria:function aria(e){var t="";return(e.items||e.content||e.contentUrl)&&(t+=G+"='"+(e.expanded?"true":"false")+"' "),e.enabled===!1&&(t+=q+"='true'"),t;},wrapperCssClass:function wrapperCssClass(e,t){var n="k-item",i=t.index;return n+=t.enabled===!1?" "+B:t.expanded===!0?" "+F:" k-state-default",0===i&&(n+=" k-first"),i==e.length-1&&(n+=" k-last"),t.cssClass&&(n+=" "+t.cssClass),n;},textClass:function textClass(e,t){var n=g;return t.firstLevel&&(n+=" k-header"),n;},textAttributes:function textAttributes(e){return e.url?" href='"+e.url+"'":"";},arrowClass:function arrowClass(e){var t="k-icon";return t+=e.expanded?" k-i-arrow-n k-panelbar-collapse":" k-i-arrow-s k-panelbar-expand";},text:function text(e){return e.encoded===!1?e.text:o.htmlEncode(e.text);},tag:function tag(e){return e.url||e.contentUrl?"a":"span";},groupAttributes:function groupAttributes(e){return e.expanded!==!0?" style='display:none'":"";},groupCssClass:function groupCssClass(){return"k-group k-panel";},contentAttributes:function contentAttributes(e){return e.item.expanded!==!0?" style='display:none'":"";},content:function content(e){return e.content?e.content:e.contentUrl?"":"&nbsp;";},contentUrl:function contentUrl(e){return e.contentUrl?'href="'+e.contentUrl+'"':"";}},ee=d.extend({init:function init(t,n){var i,r=this;d.fn.init.call(r,t,n),t=r.wrapper=r.element.addClass("k-widget k-reset k-header k-panelbar"),n=r.options,t[0].id&&(r._itemId=t[0].id+"_pb_active"),r._tabindex(),r._initData(n),r._updateClasses(),r._animations(n),t.on("click"+h,V,function(t){r._click(e(t.currentTarget))&&t.preventDefault();}).on(E+h+" "+R+h,V,r._toggleHover).on("click"+h,U,!1).on("keydown"+h,e.proxy(r._keydown,r)).on("focus"+h,function(){var e=r.select();r._current(e[0]?e:r._first());}).on("blur"+h,function(){r._current(null);}).attr("role","menu"),i=t.find("li."+F+" > ."+T),i[0]&&r.expand(i.parent(),!1),n.dataSource&&r._angularCompile(),o.notify(r);},events:[C,A,S,D,_,I],options:{name:"PanelBar",animation:{expand:{effects:"expand:vertical",duration:200},collapse:{duration:200}},expandMode:"multiple"},_angularCompile:function _angularCompile(){var e=this;e.angular("compile",function(){return{elements:e.element.children("li"),data:[{dataItem:e.options.$angular}]};});},_angularCleanup:function _angularCleanup(){var e=this;e.angular("cleanup",function(){return{elements:e.element.children("li")};});},destroy:function destroy(){d.fn.destroy.call(this),this.element.off(h),this._angularCleanup(),o.destroy(this.element);},_initData:function _initData(e){var t=this;e.dataSource&&(t.element.empty(),t.append(e.dataSource,t.element));},setOptions:function setOptions(e){var t=this.options.animation;this._animations(e),e.animation=s(!0,t,e.animation),"dataSource"in e&&this._initData(e),d.fn.setOptions.call(this,e);},expand:function expand(n,i){var o=this,r={};return n=this.element.find(n),o._animating&&n.find("ul").is(":visible")?(o.one("complete",function(){setTimeout(function(){o.expand(n);});}),t):(o._animating=!0,i=i!==!1,n.each(function(t,a){a=e(a);var s=a.find(M).add(a.find(P));if(!a.hasClass(B)&&s.length>0){if(o.options.expandMode==X&&o._collapseAllExpanded(a))return o;n.find("."+N).removeClass(N),a.addClass(N),i||(r=o.options.animation,o.options.animation={expand:{effects:{}},collapse:{hide:!0,effects:{}}}),o._triggerEvent(C,a)||o._toggleItem(a,!1),i||(o.options.animation=r);}}),o);},collapse:function collapse(t,n){var i=this,o={};return i._animating=!0,n=n!==!1,t=i.element.find(t),t.each(function(t,r){r=e(r);var a=r.find(M).add(r.find(P));!r.hasClass(B)&&a.is(K)&&(r.removeClass(N),n||(o=i.options.animation,i.options.animation={expand:{effects:{}},collapse:{hide:!0,effects:{}}}),i._triggerEvent(A,r)||i._toggleItem(r,!0),n||(i.options.animation=o));}),i;},_toggleDisabled:function _toggleDisabled(e,t){e=this.element.find(e),e.toggleClass(j,t).toggleClass(B,!t).attr(q,!t);},select:function select(n){var i=this;return n===t?i.element.find(W).parent():(n=i.element.find(n),n.length?n.each(function(){var n=e(this),o=n.children(v);return n.hasClass(B)?i:(i._triggerEvent(S,n)||i._updateSelected(o),t);}):this._updateSelected(n),i);},clearSelection:function clearSelection(){this.select(e());},enable:function enable(e,t){return this._toggleDisabled(e,t!==!1),this;},disable:function disable(e){return this._toggleDisabled(e,!1),this;},append:function append(e,t){t=this.element.find(t);var o=this._insert(e,t,t.length?t.find(M):null);return l(o.items,function(){o.group.append(this),i(this);}),n(t),i(o.group.find(".k-first, .k-last")),o.group.height("auto"),this;},insertBefore:function insertBefore(e,t){t=this.element.find(t);var n=this._insert(e,t,t.parent());return l(n.items,function(){t.before(this),i(this);}),i(t),n.group.height("auto"),this;},insertAfter:function insertAfter(e,t){t=this.element.find(t);var n=this._insert(e,t,t.parent());return l(n.items,function(){t.after(this),i(this);}),i(t),n.group.height("auto"),this;},remove:function remove(e){e=this.element.find(e);var t=this,o=e.parentsUntil(t.element,b),r=e.parent("ul");return e.remove(),!r||r.hasClass("k-panelbar")||r.children(b).length||r.remove(),o.length&&(o=o.eq(0),n(o),i(o)),t;},reload:function reload(t){var n=this;t=n.element.find(t),t.each(function(){var t=e(this);n._ajaxRequest(t,t.children("."+T),!t.is(K));});},_first:function _first(){return this.element.children(O).first();},_last:function _last(){var e=this.element.children(O).last(),t=e.children(y);return t[0]?t.children(O).last():e;},_current:function _current(n){var i=this,o=i._focused,r=i._itemId;return n===t?o:(i.element.removeAttr("aria-activedescendant"),o&&o.length&&(o[0].id===r&&o.removeAttr("id"),o.children(v).removeClass(z)),e(n).length&&(r=n[0].id||r,n.attr("id",r).children(v).addClass(z),i.element.attr("aria-activedescendant",r)),i._focused=n,t);},_keydown:function _keydown(e){var t=this,n=e.keyCode,i=t._current();e.target==e.currentTarget&&(n==a.DOWN||n==a.RIGHT?(t._current(t._nextItem(i)),e.preventDefault()):n==a.UP||n==a.LEFT?(t._current(t._prevItem(i)),e.preventDefault()):n==a.ENTER||n==a.SPACEBAR?(t._click(i.children(v)),e.preventDefault()):n==a.HOME?(t._current(t._first()),e.preventDefault()):n==a.END&&(t._current(t._last()),e.preventDefault()));},_nextItem:function _nextItem(e){if(!e)return this._first();var t=e.children(y),n=e.nextAll(":visible").first();return t[0]&&(n=t.children("."+x)),n[0]||(n=e.parent(y).parent(b).next()),n[0]||(n=this._first()),n.hasClass(B)&&(n=this._nextItem(n)),n;},_prevItem:function _prevItem(e){if(!e)return this._last();var t,n=e.prevAll(":visible").first();if(n[0])for(t=n;t[0];){t=t.children(y).children("."+m),t[0]&&(n=t);}else n=e.parent(y).parent(b),n[0]||(n=this._last());return n.hasClass(B)&&(n=this._prevItem(n)),n;},_insert:function _insert(t,n,i){var r,a,l=this,c=e.isPlainObject(t),d=n&&n[0];return d||(i=l.element),a={firstLevel:i.hasClass("k-panelbar"),expanded:i.parent().hasClass(F),length:i.children().length},d&&!i.length&&(i=e(ee.renderGroup({group:a})).appendTo(n)),t instanceof o.Observable&&(t=t.toJSON()),c||e.isArray(t)?(r=e.map(c?[t]:t,function(t,n){return e("string"==typeof t?t:ee.renderItem({group:a,item:s(t,{index:n})}));}),d&&n.attr(G,!1)):(r="string"==typeof t&&"<"!=t.charAt(0)?l.element.find(t):e(t),l._updateItemsClasses(r)),{items:r,group:i};},_toggleHover:function _toggleHover(t){var n=e(t.currentTarget);n.parents("li."+B).length||n.toggleClass("k-state-hover",t.type==E);},_updateClasses:function _updateClasses(){var t,o,r=this;t=r.element.find("li > ul").not(function(){return e(this).parentsUntil(".k-panelbar","div").length;}).addClass("k-group k-panel").attr("role","group"),t.parent().attr(G,!1).not("."+F).children("ul").attr($,!0).hide(),o=r.element.add(t).children(),r._updateItemsClasses(o),n(o),i(o);},_updateItemsClasses:function _updateItemsClasses(e){for(var t=e.length,n=0;t>n;n++){this._updateItemClasses(e[n],n);}},_updateItemClasses:function _updateItemClasses(t,n){var i,r,a=this._selected,s=this.options.contentUrls,l=s&&s[n],c=this.element[0];t=e(t).addClass("k-item").attr("role","menuitem"),o.support.browser.msie&&t.css("list-style-position","inside").css("list-style-position",""),t.children(f).addClass(k),r=t.children("a").addClass(g),r[0]&&(r.attr("href",l),r.children(f).addClass(k)),t.filter(":not([disabled]):not([class*=k-state])").addClass("k-state-default"),t.filter("li[disabled]").addClass("k-state-disabled").attr(q,!0).removeAttr("disabled"),t.children("div").addClass(T).attr("role","region").attr($,!0).hide().parent().attr(G,!1),r=t.children(H),r[0]&&(a&&a.removeAttr(Y).children(H).removeClass(L),r.addClass(L),this._selected=t.attr(Y,!0)),t.children(v)[0]||(i="<span class='"+g+"'/>",s&&s[n]&&t[0].parentNode==c&&(i='<a class="k-link k-header" href="'+s[n]+'"/>'),t.contents().filter(function(){return!(this.nodeName.match(u)||3==this.nodeType&&!e.trim(this.nodeValue));}).wrapAll(i)),t.parent(".k-panelbar")[0]&&t.children(v).addClass("k-header");},_click:function _click(e){var t,n,i,o,r,a,s,l=this,c=l.element;if(!e.parents("li."+B).length&&e.closest(".k-widget")[0]==c[0]){if(r=e.closest(v),a=r.closest(b),l._updateSelected(r),n=a.find(M).add(a.find(P)),i=r.attr(p),o=i&&("#"==i.charAt(i.length-1)||-1!=i.indexOf("#"+l.element[0].id+"-")),t=!(!o&&!n.length),n.data("animating"))return t;if(l._triggerEvent(S,a)&&(t=!0),t!==!1)return l.options.expandMode==X&&l._collapseAllExpanded(a)?t:(n.length&&(s=n.is(K),l._triggerEvent(s?A:C,a)||(t=l._toggleItem(a,s))),t);}},_toggleItem:function _toggleItem(e,n){var i,o,r=this,a=e.find(M),s=e.find(v),l=s.attr(p);return a.length?(this._toggleGroup(a,n),i=!0):(o=e.children("."+T),o.length&&(i=!0,o.is(Q)&&l!==t?r._ajaxRequest(e,o,n):r._toggleGroup(o,n))),i;},_toggleGroup:function _toggleGroup(e,n){var i=this,o=i.options.animation,r=o.expand,a=s({},o.collapse),l=a&&"effects"in a;return e.is(K)!=n?(i._animating=!1,t):(e.parent().attr(G,!n).attr($,n).toggleClass(F,!n).find("> .k-link > .k-icon").toggleClass("k-i-arrow-n",!n).toggleClass("k-panelbar-collapse",!n).toggleClass("k-i-arrow-s",n).toggleClass("k-panelbar-expand",n),n?(r=s(l?a:s({reverse:!0},r),{hide:!0}),r.complete=function(){i._animationCallback();}):r=s({complete:function complete(e){i._triggerEvent(D,e.closest(b)),i._animationCallback();}},r),e.kendoStop(!0,!0).kendoAnimate(r),t);},_animationCallback:function _animationCallback(){var e=this;e.trigger("complete"),e._animating=!1;},_collapseAllExpanded:function _collapseAllExpanded(t){var n,i=this,o=!1,r=t.find(M).add(t.find(P));return r.is(K)&&(o=!0),r.is(K)||0===r.length||(n=t.siblings(),n.find(M).add(n.find(P)).filter(function(){return e(this).is(K);}).each(function(t,n){n=e(n),o=i._triggerEvent(A,n.closest(b)),o||i._toggleGroup(n,!0);})),o;},_ajaxRequest:function _ajaxRequest(t,n,i){var o=this,r=t.find(".k-panelbar-collapse, .k-panelbar-expand"),a=t.find(v),s=setTimeout(function(){r.addClass("k-loading");},100),l={},c=a.attr(p);e.ajax({type:"GET",cache:!1,url:c,dataType:"html",data:l,error:function error(e,t){r.removeClass("k-loading"),o.trigger(_,{xhr:e,status:t})&&this.complete();},complete:function complete(){clearTimeout(s),r.removeClass("k-loading");},success:function success(e){function r(){return{elements:n.get()};}try{o.angular("cleanup",r),n.html(e),o.angular("compile",r);}catch(a){var s=window.console;s&&s.error&&s.error(a.name+": "+a.message+" in "+c),this.error(this.xhr,"error");}o._toggleGroup(n,i),o.trigger(I,{item:t[0],contentElement:n[0]});}});},_triggerEvent:function _triggerEvent(e,t){var n=this;return n.trigger(e,{item:t[0]});},_updateSelected:function _updateSelected(e){var t=this,n=t.element,i=e.parent(b),o=t._selected;o&&o.removeAttr(Y),t._selected=i.attr(Y,!0),n.find(W).removeClass(L),n.find("> ."+N+", .k-panel > ."+N).removeClass(N),e.addClass(L),e.parentsUntil(n,b).filter(":has(.k-header)").addClass(N),t._current(i[0]?i:null);},_animations:function _animations(e){e&&"animation"in e&&!e.animation&&(e.animation={expand:{effects:{}},collapse:{hide:!0,effects:{}}});}});s(ee,{renderItem:function renderItem(e){e=s({panelBar:{},group:{}},e);var t=J.empty,n=e.item;return J.item(s(e,{image:n.imageUrl?J.image:t,sprite:n.spriteCssClass?J.sprite:t,itemWrapper:J.itemWrapper,renderContent:ee.renderContent,arrow:n.items||n.content||n.contentUrl?J.arrow:t,subGroup:ee.renderGroup},Z));},renderGroup:function renderGroup(e){return J.group(s({renderItems:function renderItems(e){for(var t="",n=0,i=e.items,o=i?i.length:0,r=s({length:o},e.group);o>n;n++){t+=ee.renderItem(s(e,{group:r,item:s({index:n},i[n])}));}return t;}},e,Z));},renderContent:function renderContent(e){return J.content(s(e,Z));}}),o.ui.plugin(ee);}(window.kendo.jQuery),window.kendo;},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("kendo.responsivepanel.min",["kendo.core.min"],e);}(function(){return function(e,t){var n=e.proxy,i=".kendoResponsivePanel",o="open",r="close",a="click"+i+" touchstart"+i,s=kendo.ui.Widget,l=s.extend({init:function init(t,o){s.fn.init.call(this,t,o),this._guid="_"+kendo.guid(),this._toggleHandler=n(this._toggleButtonClick,this),this._closeHandler=n(this._close,this),e(document.documentElement).on(a,this.options.toggleButton,this._toggleHandler),this._registerBreakpoint(),this.element.addClass("k-rpanel k-rpanel-"+this.options.orientation+" "+this._guid),this._resizeHandler=n(this.resize,this,!0),e(window).on("resize"+i,this._resizeHandler);},_mediaQuery:"@media (max-width: #= breakpoint-1 #px) {.#= guid #.k-rpanel-animate.k-rpanel-left,.#= guid #.k-rpanel-animate.k-rpanel-right {-webkit-transition: -webkit-transform .2s ease-out;-ms-transition: -ms-transform .2s ease-out;transition: transform .2s ease-out;} .#= guid #.k-rpanel-top {overflow: hidden;}.#= guid #.k-rpanel-animate.k-rpanel-top {-webkit-transition: max-height .2s linear;-ms-transition: max-height .2s linear;transition: max-height .2s linear;}} @media (min-width: #= breakpoint #px) {#= toggleButton # { display: none; } .#= guid #.k-rpanel-left { float: left; } .#= guid #.k-rpanel-right { float: right; } .#= guid #.k-rpanel-left, .#= guid #.k-rpanel-right {position: relative;-webkit-transform: translateX(0);-ms-transform: translateX(0);transform: translateX(0);-webkit-transform: translateX(0) translateZ(0);-ms-transform: translateX(0) translateZ(0);transform: translateX(0) translateZ(0);} .#= guid #.k-rpanel-top { max-height: none; }}",_registerBreakpoint:function _registerBreakpoint(){var e=this.options;this._registerStyle(kendo.template(this._mediaQuery)({breakpoint:e.breakpoint,toggleButton:e.toggleButton,guid:this._guid}));},_registerStyle:function _registerStyle(t){var n=e("head,body")[0],i=document.createElement("style");n.appendChild(i),i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t));},options:{name:"ResponsivePanel",orientation:"left",toggleButton:".k-rpanel-toggle",breakpoint:640,autoClose:!0},events:[o,r],_resize:function _resize(){this.element.removeClass("k-rpanel-animate k-rpanel-expanded"),e(document.documentElement).off(a,this._closeHandler);},_toggleButtonClick:function _toggleButtonClick(e){e.preventDefault(),this.element.hasClass("k-rpanel-expanded")?this.close():this.open();},open:function open(){this.trigger(o)||(this.element.addClass("k-rpanel-animate k-rpanel-expanded"),this.options.autoClose&&e(document.documentElement).on(a,this._closeHandler));},close:function close(){this.trigger(r)||(this.element.addClass("k-rpanel-animate").removeClass("k-rpanel-expanded"),e(document.documentElement).off(a,this._closeHandler));},_close:function _close(t){var n=t.isDefaultPrevented(),i=e(t.target).closest(this.options.toggleButton+",.k-rpanel");i.length||n||this.close();},destroy:function destroy(){s.fn.destroy.call(this),e(window).off("resize"+i,this._resizeHandler),e(document.documentElement).off(a,this._closeHandler);}});kendo.ui.plugin(l);}(window.kendo.jQuery),window.kendo;},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("kendo.tabstrip.min",["kendo.data.min"],e);}(function(){return function(e,t){function n(t){t.children(g).addClass(S),t.children("a").addClass(w).children(g).addClass(S),t.filter(":not([disabled]):not([class*=k-state-disabled])").addClass(z),t.filter("li[disabled]").addClass(P).removeAttr("disabled"),t.filter(":not([class*=k-state])").children("a").filter(":focus").parent().addClass(B+" "+N),t.attr("role","tab"),t.filter("."+B).attr("aria-selected",!0),t.each(function(){var t=e(this);t.children("."+w).length||t.contents().filter(function(){return!(this.nodeName.match(p)||3==this.nodeType&&!d(this.nodeValue));}).wrapAll("<span class='"+w+"'/>");});}function i(e){var t=e.children(".k-item");t.filter(".k-first:not(:first-child)").removeClass(T),t.filter(".k-last:not(:last-child)").removeClass(y),t.filter(":first-child").addClass(T),t.filter(":last-child").addClass(y);}function o(e,t){return"<span class='k-button k-button-icon k-button-bare k-tabstrip-"+e+"' unselectable='on'><span class='k-icon "+t+"'></span></span>";}var r=window.kendo,a=r.ui,s=r.keys,l=e.map,c=e.each,d=e.trim,u=e.extend,h=r.template,f=a.Widget,p=/^(a|div)$/i,m=".kendoTabStrip",g="img",v="href",_="prev",b="show",w="k-link",y="k-last",k="click",x="error",C=":empty",S="k-image",T="k-first",D="select",A="activate",E="k-content",R="contentUrl",I="mouseenter",F="mouseleave",M="contentLoad",P="k-state-disabled",z="k-state-default",B="k-state-active",L="k-state-focused",H="k-state-hover",N="k-tab-on-top",O=".k-item:not(."+P+")",V=".k-tabstrip-items > "+O+":not(."+B+")",U={content:h("<div class='k-content'#= contentAttributes(data) # role='tabpanel'>#= content(item) #</div>"),itemWrapper:h("<#= tag(item) # class='k-link'#= contentUrl(item) ##= textAttributes(item) #>#= image(item) ##= sprite(item) ##= text(item) #</#= tag(item) #>"),item:h("<li class='#= wrapperCssClass(group, item) #' role='tab' #=item.active ? \"aria-selected='true'\" : ''#>#= itemWrapper(data) #</li>"),image:h("<img class='k-image' alt='' src='#= imageUrl #' />"),sprite:h("<span class='k-sprite #= spriteCssClass #'></span>"),empty:h("")},W={wrapperCssClass:function wrapperCssClass(e,t){var n="k-item",i=t.index;return n+=t.enabled===!1?" k-state-disabled":" k-state-default",0===i&&(n+=" k-first"),i==e.length-1&&(n+=" k-last"),n;},textAttributes:function textAttributes(e){return e.url?" href='"+e.url+"'":"";},text:function text(e){return e.encoded===!1?e.text:r.htmlEncode(e.text);},tag:function tag(e){return e.url?"a":"span";},contentAttributes:function contentAttributes(e){return e.active!==!0?" style='display:none' aria-hidden='true' aria-expanded='false'":"";},content:function content(e){return e.content?e.content:e.contentUrl?"":"&nbsp;";},contentUrl:function contentUrl(e){return e.contentUrl?r.attr("content-url")+'="'+e.contentUrl+'"':"";}},j=f.extend({init:function init(t,n){var i,o,a,s=this;f.fn.init.call(s,t,n),s._animations(s.options),n=s.options,s._wrapper(),s._isRtl=r.support.isRtl(s.wrapper),s._tabindex(),s._updateClasses(),s._dataSource(),n.dataSource&&s.dataSource.fetch(),s._tabPosition(),s._scrollable(),s.options.contentUrls&&s.wrapper.find(".k-tabstrip-items > .k-item").each(function(t,n){e(n).find(">."+w).data(R,s.options.contentUrls[t]);}),s.wrapper.on(I+m+" "+F+m,V,s._toggleHover).on("focus"+m,e.proxy(s._active,s)).on("blur"+m,function(){s._current(null);}),s._keyDownProxy=e.proxy(s._keydown,s),n.navigatable&&s.wrapper.on("keydown"+m,s._keyDownProxy),s.options.value&&(i=s.options.value),s.wrapper.children(".k-tabstrip-items").on(k+m,".k-state-disabled .k-link",!1).on(k+m," > "+O,function(t){var n,i=s.wrapper[0];if(i!==document.activeElement)if(n=r.support.browser.msie)try{i.setActive();}catch(o){i.focus();}else i.focus();s._click(e(t.currentTarget))&&t.preventDefault();}),o=s.tabGroup.children("li."+B),a=s.contentHolder(o.index()),o[0]&&a.length>0&&0===a[0].childNodes.length&&s.activateTab(o.eq(0)),s.element.attr("role","tablist"),s.element[0].id&&(s._ariaId=s.element[0].id+"_ts_active"),s.value(i),r.notify(s);},_active:function _active(){var e=this.tabGroup.children().filter("."+B);e=e[0]?e:this._endItem("first"),e[0]&&this._current(e);},_endItem:function _endItem(e){return this.tabGroup.children(O)[e]();},_item:function _item(e,t){var n;return n=t===_?"last":"first",e?(e=e[t](),e[0]||(e=this._endItem(n)),e.hasClass(P)&&(e=this._item(e,t)),e):this._endItem(n);},_current:function _current(e){var n=this,i=n._focused,o=n._ariaId;return e===t?i:(i&&(i[0].id===o&&i.removeAttr("id"),i.removeClass(L)),e&&(e.hasClass(B)||e.addClass(L),n.element.removeAttr("aria-activedescendant"),o=e[0].id||o,o&&(e.attr("id",o),n.element.attr("aria-activedescendant",o))),n._focused=e,t);},_keydown:function _keydown(e){var n,i=this,o=e.keyCode,r=i._current(),a=i._isRtl;if(e.target==e.currentTarget){if(o==s.DOWN||o==s.RIGHT)n=a?_:"next";else if(o==s.UP||o==s.LEFT)n=a?"next":_;else if(o==s.ENTER||o==s.SPACEBAR)i._click(r),e.preventDefault();else{if(o==s.HOME)return i._click(i._endItem("first")),e.preventDefault(),t;if(o==s.END)return i._click(i._endItem("last")),e.preventDefault(),t;}n&&(i._click(i._item(r,n)),e.preventDefault());}},_dataSource:function _dataSource(){var t=this;t.dataSource&&t._refreshHandler?t.dataSource.unbind("change",t._refreshHandler):t._refreshHandler=e.proxy(t.refresh,t),t.dataSource=r.data.DataSource.create(t.options.dataSource).bind("change",t._refreshHandler);},setDataSource:function setDataSource(e){var t=this;t.options.dataSource=e,t._dataSource(),t.dataSource.fetch();},_animations:function _animations(e){e&&"animation"in e&&!e.animation&&(e.animation={open:{effects:{}},close:{effects:{}}});},refresh:function refresh(e){var t,n,i,o,a=this,s=a.options,l=r.getter(s.dataTextField),c=r.getter(s.dataContentField),d=r.getter(s.dataContentUrlField),u=r.getter(s.dataImageUrlField),h=r.getter(s.dataUrlField),f=r.getter(s.dataSpriteCssClass),p=[],m=a.dataSource.view();for(e=e||{},i=e.action,i&&(m=e.items),t=0,o=m.length;o>t;t++){n={text:l(m[t])},s.dataContentField&&(n.content=c(m[t])),s.dataContentUrlField&&(n.contentUrl=d(m[t])),s.dataUrlField&&(n.url=h(m[t])),s.dataImageUrlField&&(n.imageUrl=u(m[t])),s.dataSpriteCssClass&&(n.spriteCssClass=f(m[t])),p[t]=n;}if("add"==e.action)e.index<a.tabGroup.children().length?a.insertBefore(p,a.tabGroup.children().eq(e.index)):a.append(p);else if("remove"==e.action)for(t=0;m.length>t;t++){a.remove(e.index);}else"itemchange"==e.action?(t=a.dataSource.view().indexOf(m[0]),e.field===s.dataTextField&&a.tabGroup.children().eq(t).find(".k-link").text(m[0].get(e.field))):(a.trigger("dataBinding"),a.remove("li"),a.append(p),a.trigger("dataBound"));},value:function value(n){var i=this;return n===t?i.select().text():(n!=i.value()&&i.tabGroup.children().each(function(){e.trim(e(this).text())==n&&i.select(this);}),t);},items:function items(){return this.tabGroup[0].children;},setOptions:function setOptions(e){var t=this,n=t.options.animation;t._animations(e),e.animation=u(!0,n,e.animation),e.navigatable?t.wrapper.on("keydown"+m,t._keyDownProxy):t.wrapper.off("keydown"+m,t._keyDownProxy),f.fn.setOptions.call(t,e);},events:[D,A,b,x,M,"change","dataBinding","dataBound"],options:{name:"TabStrip",dataTextField:"",dataContentField:"",dataImageUrlField:"",dataUrlField:"",dataSpriteCssClass:"",dataContentUrlField:"",tabPosition:"top",animation:{open:{effects:"expand:vertical fadeIn",duration:200},close:{duration:200}},collapsible:!1,navigatable:!0,contentUrls:!1,scrollable:{distance:200}},destroy:function destroy(){var e=this,t=e.scrollWrap;f.fn.destroy.call(e),e._refreshHandler&&e.dataSource.unbind("change",e._refreshHandler),e.wrapper.off(m),e.wrapper.children(".k-tabstrip-items").off(m),e._scrollableModeActive&&(e._scrollPrevButton.off().remove(),e._scrollNextButton.off().remove()),r.destroy(e.wrapper),t.children(".k-tabstrip").unwrap();},select:function select(t){var n=this;return 0===arguments.length?n.tabGroup.children("li."+B):(isNaN(t)||(t=n.tabGroup.children().get(t)),t=n.tabGroup.find(t),e(t).each(function(t,i){i=e(i),i.hasClass(B)||n.trigger(D,{item:i[0],contentElement:n.contentHolder(i.index())[0]})||n.activateTab(i);}),n);},enable:function enable(e,t){return this._toggleDisabled(e,t!==!1),this;},disable:function disable(e){return this._toggleDisabled(e,!1),this;},reload:function reload(t){t=this.tabGroup.find(t);var n=this;return t.each(function(){var t=e(this),i=t.find("."+w).data(R),o=n.contentHolder(t.index());i&&n.ajaxRequest(t,o,null,i);}),n;},append:function append(e){var t=this,n=t._create(e);return c(n.tabs,function(e){var i=n.contents[e];t.tabGroup.append(this),"bottom"==t.options.tabPosition?t.tabGroup.before(i):t._scrollableModeActive?t._scrollPrevButton.before(i):t.wrapper.append(i),t.angular("compile",function(){return{elements:[i]};});}),i(t.tabGroup),t._updateContentElements(),t.resize(!0),t;},insertBefore:function insertBefore(t,n){n=this.tabGroup.find(n);var o=this,r=o._create(t),a=e(o.contentElement(n.index()));return c(r.tabs,function(e){var t=r.contents[e];n.before(this),a.before(t),o.angular("compile",function(){return{elements:[t]};});}),i(o.tabGroup),o._updateContentElements(),o.resize(!0),o;},insertAfter:function insertAfter(t,n){n=this.tabGroup.find(n);var o=this,r=o._create(t),a=e(o.contentElement(n.index()));return c(r.tabs,function(e){var t=r.contents[e];n.after(this),a.after(t),o.angular("compile",function(){return{elements:[t]};});}),i(o.tabGroup),o._updateContentElements(),o.resize(!0),o;},remove:function remove(t){var n,i=this,o=typeof t==="undefined"?"undefined":_typeof(t);return"string"===o?t=i.tabGroup.find(t):"number"===o&&(t=i.tabGroup.children().eq(t)),n=t.map(function(){var t=i.contentElement(e(this).index());return r.destroy(t),t;}),t.remove(),n.remove(),i._updateContentElements(),i.resize(!0),i;},_create:function _create(i){var o,r,a,s=e.isPlainObject(i),c=this;return s||e.isArray(i)?(i=e.isArray(i)?i:[i],o=l(i,function(t,n){return e(j.renderItem({group:c.tabGroup,item:u(t,{index:n})}));}),r=l(i,function(n,i){return"string"==typeof n.content||n.contentUrl?e(j.renderContent({item:u(n,{index:i})})):t;})):(o="string"==typeof i&&"<"!=i[0]?c.element.find(i):e(i),r=e(),o.each(function(){if(a=e("<div class='"+E+"'/>"),/k-tabstrip-items/.test(this.parentNode.className)){var t=parseInt(this.getAttribute("aria-controls").replace(/^.*-/,""),10)-1;a=e(c.contentElement(t));}r=r.add(a);}),n(o)),{tabs:o,contents:r};},_toggleDisabled:function _toggleDisabled(t,n){t=this.tabGroup.find(t),t.each(function(){e(this).toggleClass(z,n).toggleClass(P,!n);});},_updateClasses:function _updateClasses(){var o,r,a,s=this;s.wrapper.addClass("k-widget k-header k-tabstrip"),s.tabGroup=s.wrapper.children("ul").addClass("k-tabstrip-items k-reset"),s.tabGroup[0]||(s.tabGroup=e("<ul class='k-tabstrip-items k-reset'/>").appendTo(s.wrapper)),o=s.tabGroup.find("li").addClass("k-item"),o.length&&(r=o.filter("."+B).index(),a=r>=0?r:t,s.tabGroup.contents().filter(function(){return 3==this.nodeType&&!d(this.nodeValue);}).remove()),r>=0&&o.eq(r).addClass(N),s.contentElements=s.wrapper.children("div"),s.contentElements.addClass(E).eq(a).addClass(B).css({display:"block"}),o.length&&(n(o),i(s.tabGroup),s._updateContentElements());},_updateContentElements:function _updateContentElements(){var t=this,n=t.options.contentUrls||[],i=t.tabGroup.find(".k-item"),o=(t.element.attr("id")||r.guid())+"-",a=t.wrapper.children("div");a.length&&i.length>a.length?(a.each(function(e){var t=parseInt(this.id.replace(o,""),10),n=i.filter("[aria-controls="+o+t+"]"),r=o+(e+1);n.data("aria",r),this.setAttribute("id",r);}),i.each(function(){var t=e(this);this.setAttribute("aria-controls",t.data("aria")),t.removeData("aria");})):i.each(function(i){var r=a.eq(i),s=o+(i+1);this.setAttribute("aria-controls",s),!r.length&&n[i]?e("<div class='"+E+"'/>").appendTo(t.wrapper).attr("id",s):(r.attr("id",s),e(this).children(".k-loading")[0]||n[i]||e("<span class='k-loading k-complete'/>").prependTo(this)),r.attr("role","tabpanel"),r.filter(":not(."+B+")").attr("aria-hidden",!0).attr("aria-expanded",!1),r.filter("."+B).attr("aria-expanded",!0);}),t.contentElements=t.contentAnimators=t.wrapper.children("div"),t.tabsHeight=t.tabGroup.outerHeight()+parseInt(t.wrapper.css("border-top-width"),10)+parseInt(t.wrapper.css("border-bottom-width"),10),r.kineticScrollNeeded&&r.mobile.ui.Scroller&&(r.touchScroller(t.contentElements),t.contentElements=t.contentElements.children(".km-scroll-container"));},_wrapper:function _wrapper(){var e=this;e.wrapper=e.element.is("ul")?e.element.wrapAll("<div />").parent():e.element,e.scrollWrap=e.wrapper.parent(".k-tabstrip-wrapper"),e.scrollWrap[0]||(e.scrollWrap=e.wrapper.wrapAll("<div class='k-tabstrip-wrapper' />").parent());},_tabPosition:function _tabPosition(){var e=this,t=e.options.tabPosition;e.wrapper.addClass("k-floatwrap k-tabstrip-"+t),"bottom"==t&&e.tabGroup.appendTo(e.wrapper),e.resize(!0);},_setContentElementsDimensions:function _setContentElementsDimensions(){var e,t,n,i,o,r,a=this,s=a.options.tabPosition;"left"!=s&&"right"!=s||(e=a.wrapper.children(".k-content"),t=e.filter(":visible"),n="margin-"+s,i=a.tabGroup,o=i.outerWidth(),r=Math.ceil(i.height())-parseInt(t.css("padding-top"),10)-parseInt(t.css("padding-bottom"),10)-parseInt(t.css("border-top-width"),10)-parseInt(t.css("border-bottom-width"),10),setTimeout(function(){e.css(n,o).css("min-height",r);}));},_resize:function _resize(){this._setContentElementsDimensions(),this._scrollable();},_sizeScrollWrap:function _sizeScrollWrap(e){var t,n;e.is(":visible")&&(t=this.options.tabPosition,n=Math.floor(e.outerHeight(!0))+("left"===t||"right"===t?2:this.tabsHeight),this.scrollWrap.css("height",n).css("height"));},_toggleHover:function _toggleHover(t){e(t.currentTarget).toggleClass(H,t.type==I);},_click:function _click(e){var t,n,i=this,o=e.find("."+w),r=o.attr(v),a=i.options.collapsible,s=i.contentHolder(e.index());if(e.closest(".k-widget")[0]==i.wrapper[0]){if(e.is("."+P+(a?"":",."+B)))return!0;if(n=o.data(R)||r&&("#"==r.charAt(r.length-1)||-1!=r.indexOf("#"+i.element[0].id+"-")),t=!r||n,i.tabGroup.children("[data-animating]").length)return t;if(i.trigger(D,{item:e[0],contentElement:s[0]}))return!0;if(t!==!1)return a&&e.is("."+B)?(i.deactivateTab(e),!0):(i.activateTab(e)&&(t=!0),t);}},_scrollable:function _scrollable(){var e,t,n,i,a=this,s=a.options;a._scrollableAllowed()&&(a.wrapper.addClass("k-tabstrip-scrollable"),e=a.wrapper[0].offsetWidth,t=a.tabGroup[0].scrollWidth,t>e&&!a._scrollableModeActive?(a._nowScrollingTabs=!1,a._isRtl=r.support.isRtl(a.element),a.wrapper.append(o("prev","k-i-arrow-w")+o("next","k-i-arrow-e")),n=a._scrollPrevButton=a.wrapper.children(".k-tabstrip-prev"),i=a._scrollNextButton=a.wrapper.children(".k-tabstrip-next"),a.tabGroup.css({marginLeft:n.outerWidth()+9,marginRight:i.outerWidth()+12}),n.on("mousedown"+m,function(){a._nowScrollingTabs=!0,a._scrollTabsByDelta(s.scrollable.distance*(a._isRtl?1:-1));}),i.on("mousedown"+m,function(){a._nowScrollingTabs=!0,a._scrollTabsByDelta(s.scrollable.distance*(a._isRtl?-1:1));}),n.add(i).on("mouseup"+m,function(){a._nowScrollingTabs=!1;}),a._scrollableModeActive=!0,a._toggleScrollButtons()):a._scrollableModeActive&&e>=t?(a._scrollableModeActive=!1,a.wrapper.removeClass("k-tabstrip-scrollable"),a._scrollPrevButton.off().remove(),a._scrollNextButton.off().remove(),a.tabGroup.css({marginLeft:"",marginRight:""})):a._scrollableModeActive?a._toggleScrollButtons():a.wrapper.removeClass("k-tabstrip-scrollable"));},_scrollableAllowed:function _scrollableAllowed(){var e=this.options;return e.scrollable&&!isNaN(e.scrollable.distance)&&("top"==e.tabPosition||"bottom"==e.tabPosition);},_scrollTabsToItem:function _scrollTabsToItem(e){var t,n=this,i=n.tabGroup,o=i.scrollLeft(),r=e.outerWidth(),a=n._isRtl?e.position().left:e.position().left-i.children().first().position().left,s=i[0].offsetWidth,l=Math.ceil(parseFloat(i.css("padding-left")));n._isRtl?0>a?t=o+a-(s-o)-l:a+r>s&&(t=o+a-r+2*l):a+r>o+s?t=a+r-s+2*l:o>a&&(t=a-l),i.finish().animate({scrollLeft:t},"fast","linear",function(){n._toggleScrollButtons();});},_scrollTabsByDelta:function _scrollTabsByDelta(e){var t=this,n=t.tabGroup,i=n.scrollLeft();n.finish().animate({scrollLeft:i+e},"fast","linear",function(){t._nowScrollingTabs?t._scrollTabsByDelta(e):t._toggleScrollButtons();});},_toggleScrollButtons:function _toggleScrollButtons(){var e=this,t=e.tabGroup,n=t.scrollLeft();e._scrollPrevButton.toggle(e._isRtl?t[0].scrollWidth-t[0].offsetWidth-1>n:0!==n),e._scrollNextButton.toggle(e._isRtl?0!==n:t[0].scrollWidth-t[0].offsetWidth-1>n);},deactivateTab:function deactivateTab(e){var t=this,n=t.options.animation,i=n.open,o=u({},n.close),a=o&&"effects"in o;e=t.tabGroup.find(e),o=u(a?o:u({reverse:!0},i),{hide:!0}),r.size(i.effects)?(e.kendoAddClass(z,{duration:i.duration}),e.kendoRemoveClass(B,{duration:i.duration})):(e.addClass(z),e.removeClass(B)),e.removeAttr("aria-selected"),t.contentAnimators.filter("."+B).kendoStop(!0,!0).kendoAnimate(o).removeClass(B).attr("aria-hidden",!0);},activateTab:function activateTab(e){var t,n,i,o,a,s,l,c,d,h,f,p,m,g,v;if(!this.tabGroup.children("[data-animating]").length)return e=this.tabGroup.find(e),t=this,n=t.options.animation,i=n.open,o=u({},n.close),a=o&&"effects"in o,s=e.parent().children(),l=s.filter("."+B),c=s.index(e),o=u(a?o:u({reverse:!0},i),{hide:!0}),r.size(i.effects)?(l.kendoRemoveClass(B,{duration:o.duration}),e.kendoRemoveClass(H,{duration:o.duration})):(l.removeClass(B),e.removeClass(H)),d=t.contentAnimators,t.inRequest&&(t.xhr.abort(),t.inRequest=!1),0===d.length?(t.tabGroup.find("."+N).removeClass(N),e.addClass(N).css("z-index"),e.addClass(B),t._current(e),t.trigger("change"),t._scrollableModeActive&&t._scrollTabsToItem(e),!1):(h=d.filter("."+B),f=t.contentHolder(c),p=f.closest(".k-content"),t.tabsHeight=t.tabGroup.outerHeight()+parseInt(t.wrapper.css("border-top-width"),10)+parseInt(t.wrapper.css("border-bottom-width"),10),t._sizeScrollWrap(h),0===f.length?(h.removeClass(B).attr("aria-hidden",!0).kendoStop(!0,!0).kendoAnimate(o),!1):(e.attr("data-animating",!0),m=(e.children("."+w).data(R)||!1)&&f.is(C),g=function g(){t.tabGroup.find("."+N).removeClass(N),e.addClass(N).css("z-index"),r.size(i.effects)?(l.kendoAddClass(z,{duration:i.duration}),e.kendoAddClass(B,{duration:i.duration})):(l.addClass(z),e.addClass(B)),l.removeAttr("aria-selected"),e.attr("aria-selected",!0),t._current(e),t._sizeScrollWrap(p),p.addClass(B).removeAttr("aria-hidden").kendoStop(!0,!0).attr("aria-expanded",!0).kendoAnimate(u({init:function init(){t.trigger(b,{item:e[0],contentElement:f[0]}),r.resize(f);}},i,{complete:function complete(){e.removeAttr("data-animating"),t.trigger(A,{item:e[0],contentElement:f[0]}),r.resize(f),t.scrollWrap.css("height","").css("height");}}));},v=function v(){m?(e.removeAttr("data-animating"),t.ajaxRequest(e,f,function(){e.attr("data-animating",!0),g(),t.trigger("change");})):(g(),t.trigger("change")),t._scrollableModeActive&&t._scrollTabsToItem(e);},h.removeClass(B),h.attr("aria-hidden",!0),h.attr("aria-expanded",!1),h.length?h.kendoStop(!0,!0).kendoAnimate(u({complete:v},o)):v(),!0));},contentElement:function contentElement(e){var n,i,o,a;if(isNaN(e-0))return t;if(n=this.contentElements&&this.contentElements[0]&&!r.kineticScrollNeeded?this.contentElements:this.contentAnimators,e=n&&0>e?n.length+e:e,i=RegExp("-"+(e+1)+"$"),n)for(o=0,a=n.length;a>o;o++){if(i.test(n.eq(o).closest(".k-content")[0].id))return n[o];}return t;},contentHolder:function contentHolder(t){var n=e(this.contentElement(t)),i=n.children(".km-scroll-container");return r.support.touch&&i[0]?i:n;},ajaxRequest:function ajaxRequest(t,n,i,o){var a,s,l,c,d,u,h,f,_p;t=this.tabGroup.find(t),a=this,s=e.ajaxSettings.xhr,l=t.find("."+w),c={},d=t.width()/2,u=!1,h=t.find(".k-loading").removeClass("k-complete"),h[0]||(h=e("<span class='k-loading'/>").prependTo(t)),f=2*d-h.width(),_p=function p(){h.animate({marginLeft:(parseInt(h.css("marginLeft"),10)||0)<d?f:0},500,_p);},r.support.browser.msie&&10>r.support.browser.version&&setTimeout(_p,40),o=o||l.data(R)||l.attr(v),a.inRequest=!0,a.xhr=e.ajax({type:"GET",cache:!1,url:o,dataType:"html",data:c,xhr:function xhr(){var t=this,n=s(),i=t.progressUpload?"progressUpload":t.progress?"progress":!1;return n&&e.each([n,n.upload],function(){this.addEventListener&&this.addEventListener("progress",function(e){i&&t[i](e);},!1);}),t.noProgress=!(window.XMLHttpRequest&&"upload"in new XMLHttpRequest()),n;},progress:function progress(e){if(e.lengthComputable){var t=parseInt(e.loaded/e.total*100,10)+"%";h.stop(!0).addClass("k-progress").css({width:t,marginLeft:0});}},error:function error(e,t){a.trigger("error",{xhr:e,status:t})&&this.complete();},stopProgress:function stopProgress(){clearInterval(u),h.stop(!0).addClass("k-progress")[0].style.cssText="";},complete:function complete(e){a.inRequest=!1,this.noProgress?setTimeout(this.stopProgress,500):this.stopProgress(),"abort"==e.statusText&&h.remove();},success:function success(e){var s,l,c;h.addClass("k-complete");try{s=this,l=10,s.noProgress&&(h.width(l+"%"),u=setInterval(function(){s.progress({lengthComputable:!0,loaded:Math.min(l,100),total:100}),l+=10;},40)),a.angular("cleanup",function(){return{elements:n.get()};}),r.destroy(n),n.html(e);}catch(d){c=window.console,c&&c.error&&c.error(d.name+": "+d.message+" in "+o),this.error(this.xhr,"error");}i&&i.call(a,n),a.angular("compile",function(){return{elements:n.get()};}),a.trigger(M,{item:t[0],contentElement:n[0]});}});}});u(j,{renderItem:function renderItem(e){e=u({tabStrip:{},group:{}},e);var t=U.empty,n=e.item;return U.item(u(e,{image:n.imageUrl?U.image:t,sprite:n.spriteCssClass?U.sprite:t,itemWrapper:U.itemWrapper},W));},renderContent:function renderContent(e){return U.content(u(e,W));}}),r.ui.plugin(j);}(window.kendo.jQuery),window.kendo;},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("kendo.timepicker.min",["kendo.popup.min"],e);}(function(){return function(e,t){function n(e,t,n){var i,o=e.getTimezoneOffset();e.setTime(e.getTime()+t),n||(i=e.getTimezoneOffset()-o,e.setTime(e.getTime()+i*M));}function i(){var e=new G(),t=new G(e.getFullYear(),e.getMonth(),e.getDate(),0,0,0),n=new G(e.getFullYear(),e.getMonth(),e.getDate(),12,0,0);return-1*(t.getTimezoneOffset()-n.getTimezoneOffset());}function o(e){return 60*e.getHours()*M+e.getMinutes()*M+1e3*e.getSeconds()+e.getMilliseconds();}function r(e,t,n){var i,r=o(t),a=o(n);return e&&r!=a?(i=o(e),r>i&&(i+=P),r>a&&(a+=P),i>=r&&a>=i):!0;}function a(e){var t=e.parseFormats;e.format=p(e.format||d.getCulture(e.culture).calendars.standard.patterns.t),t=W(t)?t:[t],t.splice(0,0,e.format),e.parseFormats=t;}function s(e){e.preventDefault();}var l,c,d=window.kendo,u=d.keys,h=d.parseDate,f=d._activeElement,p=d._extractFormat,m=d.support,g=m.browser,v=d.ui,_=v.Widget,b="open",w="close",y="change",k=".kendoTimePicker",x="click"+k,C="k-state-default",S="disabled",T="readonly",D="li",A="<span/>",E="k-state-focused",R="k-state-hover",I="mouseenter"+k+" mouseleave"+k,F="mousedown"+k,M=6e4,P=864e5,z="k-state-selected",B="k-state-disabled",L="aria-selected",H="aria-expanded",N="aria-hidden",O="aria-disabled",V="aria-activedescendant",U="id",W=e.isArray,j=e.extend,q=e.proxy,G=Date,$=new G();$=new G($.getFullYear(),$.getMonth(),$.getDate(),0,0,0),l=function l(t){var n=this,i=t.id;n.options=t,n._dates=[],n.ul=e('<ul tabindex="-1" role="listbox" aria-hidden="true" unselectable="on" class="k-list k-reset"/>').css({overflow:m.kineticScrollNeeded?"":"auto"}).on(x,D,q(n._click,n)).on("mouseenter"+k,D,function(){e(this).addClass(R);}).on("mouseleave"+k,D,function(){e(this).removeClass(R);}),n.list=e("<div class='k-list-container k-list-scroller' unselectable='on'/>").append(n.ul).on(F,s),i&&(n._timeViewID=i+"_timeview",n._optionID=i+"_option_selected",n.ul.attr(U,n._timeViewID)),n._popup(),n._heightHandler=q(n._height,n),n.template=d.template('<li tabindex="-1" role="option" class="k-item" unselectable="on">#=data#</li>',{useWithBlock:!1});},l.prototype={current:function current(n){var i=this,o=i.options.active;return n===t?i._current:(i._current&&i._current.removeClass(z).removeAttr(L).removeAttr(U),n&&(n=e(n).addClass(z).attr(U,i._optionID).attr(L,!0),i.scroll(n[0])),i._current=n,o&&o(n),t);},close:function close(){this.popup.close();},destroy:function destroy(){var e=this;e.ul.off(k),e.list.off(k),e.popup.destroy();},open:function open(){var e=this;e.ul[0].firstChild||e.bind(),e.popup.open(),e._current&&e.scroll(e._current[0]);},dataBind:function dataBind(e){for(var t,n=this,i=n.options,o=i.format,a=d.toString,s=n.template,l=e.length,c=0,u="";l>c;c++){t=e[c],r(t,i.min,i.max)&&(u+=s(a(t,o,i.culture)));}n._html(u);},refresh:function refresh(){var e,t,r,a=this,s=a.options,l=s.format,c=i(),u=0>c,h=s.min,f=s.max,p=o(h),m=o(f),g=s.interval*M,v=d.toString,_=a.template,b=new G(+h),w=b.getDate(),y=0,k="";for(r=u?(P+c*M)/g:P/g,p!=m&&(p>m&&(m+=P),r=(m-p)/g+1),t=parseInt(r,10);r>y;y++){y&&n(b,g,u),m&&t==y&&(e=o(b),w<b.getDate()&&(e+=P),e>m&&(b=new G(+f))),a._dates.push(o(b)),k+=_(v(b,l,s.culture));}a._html(k);},bind:function bind(){var e=this,t=e.options.dates;t&&t[0]?e.dataBind(t):e.refresh();},_html:function _html(e){var t=this;t.ul[0].innerHTML=e,t.popup.unbind(b,t._heightHandler),t.popup.one(b,t._heightHandler),t.current(null),t.select(t._value);},scroll:function scroll(e){if(e){var t=this.list[0],n=e.offsetTop,i=e.offsetHeight,o=t.scrollTop,r=t.clientHeight,a=n+i;o>n?o=n:a>o+r&&(o=a-r),t.scrollTop=o;}},select:function select(t){var n,i=this,o=i.options,r=i._current;t instanceof Date&&(t=d.toString(t,o.format,o.culture)),"string"==typeof t&&(r&&r.text()===t?t=r:(t=e.grep(i.ul[0].childNodes,function(e){return(e.textContent||e.innerText)==t;}),t=t[0]?t:null)),n=i._distinctSelection(t),i.current(n);},_distinctSelection:function _distinctSelection(t){var n,i,r=this;return t&&t.length>1&&(n=o(r._value),i=e.inArray(n,r._dates),t=r.ul.children()[i]),t;},setOptions:function setOptions(e){var t=this.options;e.min=h(e.min),e.max=h(e.max),this.options=j(t,e,{active:t.active,change:t.change,close:t.close,open:t.open}),this.bind();},toggle:function toggle(){var e=this;e.popup.visible()?e.close():e.open();},value:function value(e){var t=this;t._value=e,t.ul[0].firstChild&&t.select(e);},_click:function _click(t){var n=this,i=e(t.currentTarget),o=i.text(),r=n.options.dates;r&&r.length>0&&(o=r[i.index()]),t.isDefaultPrevented()||(n.select(i),n.options.change(o,!0),n.close());},_height:function _height(){var e=this,t=e.list,n=t.parent(".k-animation-container"),i=e.options.height;e.ul[0].children.length&&t.add(n).show().height(e.ul[0].scrollHeight>i?i:"auto").hide();},_parse:function _parse(e){var t=this,n=t.options,i=t._value||$;return e instanceof G?e:(e=h(e,n.parseFormats,n.culture),e&&(e=new G(i.getFullYear(),i.getMonth(),i.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())),e);},_adjustListWidth:function _adjustListWidth(){var e,t,n=this.list,i=n[0].style.width,o=this.options.anchor;!n.data("width")&&i||(e=window.getComputedStyle?window.getComputedStyle(o[0],null):0,t=e?parseFloat(e.width):o.outerWidth(),e&&(g.mozilla||g.msie)&&(t+=parseFloat(e.paddingLeft)+parseFloat(e.paddingRight)+parseFloat(e.borderLeftWidth)+parseFloat(e.borderRightWidth)),i=t-(n.outerWidth()-n.width()),n.css({fontFamily:o.css("font-family"),width:i}).data("width",i));},_popup:function _popup(){var e=this,t=e.list,n=e.options,i=n.anchor;e.popup=new v.Popup(t,j(n.popup,{anchor:i,open:n.open,close:n.close,animation:n.animation,isRtl:m.isRtl(n.anchor)}));},move:function move(e){var n=this,i=e.keyCode,o=n.ul[0],r=n._current,a=i===u.DOWN;if(i===u.UP||a){if(e.altKey)return n.toggle(a),t;r=a?r?r[0].nextSibling:o.firstChild:r?r[0].previousSibling:o.lastChild,r&&n.select(r),n.options.change(n._current.text()),e.preventDefault();}else i!==u.ENTER&&i!==u.TAB&&i!==u.ESC||(e.preventDefault(),r&&n.options.change(r.text(),!0),n.close());}},l.getMilliseconds=o,d.TimeView=l,c=_.extend({init:function init(t,n){var i,o,r,s=this;_.fn.init.call(s,t,n),t=s.element,n=s.options,n.min=h(t.attr("min"))||h(n.min),n.max=h(t.attr("max"))||h(n.max),a(n),s._initialOptions=j({},n),s._wrapper(),s.timeView=o=new l(j({},n,{id:t.attr(U),anchor:s.wrapper,format:n.format,change:function change(e,n){n?s._change(e):t.val(e);},open:function open(e){s.timeView._adjustListWidth(),s.trigger(b)?e.preventDefault():(t.attr(H,!0),i.attr(N,!1));},close:function close(e){s.trigger(w)?e.preventDefault():(t.attr(H,!1),i.attr(N,!0));},active:function active(e){t.removeAttr(V),e&&t.attr(V,o._optionID);}})),i=o.ul,s._icon(),s._reset();try{t[0].setAttribute("type","text");}catch(c){t[0].type="text";}t.addClass("k-input").attr({role:"combobox","aria-expanded":!1,"aria-owns":o._timeViewID}),r=t.is("[disabled]")||e(s.element).parents("fieldset").is(":disabled"),r?s.enable(!1):s.readonly(t.is("[readonly]")),s._old=s._update(n.value||s.element.val()),s._oldText=t.val(),d.notify(s);},options:{name:"TimePicker",min:$,max:$,format:"",dates:[],parseFormats:[],value:null,interval:30,height:200,animation:{}},events:[b,w,y],setOptions:function setOptions(e){var t=this,n=t._value;_.fn.setOptions.call(t,e),e=t.options,a(e),t.timeView.setOptions(e),n&&t.element.val(d.toString(n,e.format,e.culture));},dataBind:function dataBind(e){W(e)&&this.timeView.dataBind(e);},_editable:function _editable(e){var t=this,n=e.disable,i=e.readonly,o=t._arrow.off(k),r=t.element.off(k),a=t._inputWrapper.off(k);i||n?(a.addClass(n?B:C).removeClass(n?C:B),r.attr(S,n).attr(T,i).attr(O,n)):(a.addClass(C).removeClass(B).on(I,t._toggleHover),r.removeAttr(S).removeAttr(T).attr(O,!1).on("keydown"+k,q(t._keydown,t)).on("focusout"+k,q(t._blur,t)).on("focus"+k,function(){t._inputWrapper.addClass(E);}),o.on(x,q(t._click,t)).on(F,s));},readonly:function readonly(e){this._editable({readonly:e===t?!0:e,disable:!1});},enable:function enable(e){this._editable({readonly:!1,disable:!(e=e===t?!0:e)});},destroy:function destroy(){var e=this;_.fn.destroy.call(e),e.timeView.destroy(),e.element.off(k),e._arrow.off(k),e._inputWrapper.off(k),e._form&&e._form.off("reset",e._resetHandler);},close:function close(){this.timeView.close();},open:function open(){this.timeView.open();},min:function min(e){return this._option("min",e);},max:function max(e){return this._option("max",e);},value:function value(e){var n=this;return e===t?n._value:(n._old=n._update(e),null===n._old&&n.element.val(""),n._oldText=n.element.val(),t);},_blur:function _blur(){var e=this,t=e.element.val();e.close(),t!==e._oldText&&e._change(t),e._inputWrapper.removeClass(E);},_click:function _click(){var e=this,t=e.element;e.timeView.toggle(),m.touch||t[0]===f()||t.focus();},_change:function _change(e){var t=this;e=t._update(e),+t._old!=+e&&(t._old=e,t._oldText=t.element.val(),t._typing||t.element.trigger(y),t.trigger(y)),t._typing=!1;},_icon:function _icon(){var t,n=this,i=n.element;t=i.next("span.k-select"),t[0]||(t=e('<span unselectable="on" class="k-select"><span unselectable="on" class="k-icon k-i-clock">select</span></span>').insertAfter(i)),n._arrow=t.attr({role:"button","aria-controls":n.timeView._timeViewID});},_keydown:function _keydown(e){var t=this,n=e.keyCode,i=t.timeView,o=t.element.val();i.popup.visible()||e.altKey?i.move(e):n===u.ENTER&&o!==t._oldText?t._change(o):t._typing=!0;},_option:function _option(e,n){var i=this,o=i.options;return n===t?o[e]:(n=i.timeView._parse(n),n&&(n=new G(+n),o[e]=n,i.timeView.options[e]=n,i.timeView.bind()),t);},_toggleHover:function _toggleHover(t){e(t.currentTarget).toggleClass(R,"mouseenter"===t.type);},_update:function _update(e){var t=this,n=t.options,i=t.timeView,o=i._parse(e);return r(o,n.min,n.max)||(o=null),t._value=o,t.element.val(o?d.toString(o,n.format,n.culture):e),i.value(o),o;},_wrapper:function _wrapper(){var t,n=this,i=n.element;t=i.parents(".k-timepicker"),t[0]||(t=i.wrap(A).parent().addClass("k-picker-wrap k-state-default"),t=t.wrap(A).parent()),t[0].style.cssText=i[0].style.cssText,n.wrapper=t.addClass("k-widget k-timepicker k-header").addClass(i[0].className),i.css({width:"100%",height:i[0].style.height}),n._inputWrapper=e(t[0].firstChild);},_reset:function _reset(){var t=this,n=t.element,i=n.attr("form"),o=i?e("#"+i):n.closest("form");o[0]&&(t._resetHandler=function(){t.value(n[0].defaultValue),t.max(t._initialOptions.max),t.min(t._initialOptions.min);},t._form=o.on("reset",t._resetHandler));}}),v.plugin(c);}(window.kendo.jQuery),window.kendo;},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("kendo.toolbar.min",["kendo.core.min","kendo.userevents.min","kendo.popup.min"],e);}(function(){return function(e,t){function n(){var e,t=this.options.anchor,n=t.outerWidth();x.wrap(this.element).addClass("k-split-wrapper"),e="border-box"!==this.element.css("box-sizing")?n-(this.element.outerWidth()-this.element.width()):n,this.element.css({fontFamily:t.css("font-family"),"min-width":e});}function i(e){e.target.is(".k-toggle-button")||e.target.toggleClass(H,"press"==e.type);}function o(t){return t=e(t),t.hasClass("km-actionsheet")?t.closest(".km-popup-wrapper"):t.addClass("km-widget km-actionsheet").wrap('<div class="km-actionsheet-wrapper km-actionsheet-tablet km-widget km-popup"></div>').parent().wrap('<div class="km-popup-wrapper k-popup"></div>').parent();}function r(e){e.preventDefault();}function a(t,n){var i="next"===n?e.fn.next:e.fn.prev,o="next"===n?e.fn.first:e.fn.last,r=i.call(t);return r.is(":kendoFocusable")||!r.length?r:r.find(":kendoFocusable").length?o.call(r.find(":kendoFocusable")):a(r,n);}var s,l,c,d,u,h,f,p,m,g,v,_,b,w,y,k,x=window.kendo,C=x.Class,S=x.ui.Widget,T=e.proxy,D=x.isFunction,A=x.keys,E="k-toolbar",R="k-button",I="k-overflow-button",F="k-toggle-button",M="k-button-group",P="k-split-button",z="k-separator",B="k-popup",L="k-toolbar-resizable",H="k-state-active",N="k-state-disabled",O="k-state-hidden",V="k-group-start",U="k-group-end",W="k-primary",j="k-icon",q="k-i-",G="k-button-icon",$="k-button-icontext",Y="k-list-container k-split-container",K="k-split-button-arrow",Q="k-overflow-anchor",X="k-overflow-container",J="k-toolbar-first-visible",Z="k-toolbar-last-visible",ee="click",te="toggle",ne="open",ie="close",oe="overflowOpen",re="overflowClose",ae="never",se="auto",le="always",ce="k-overflow-hidden",de=x.attr("uid");x.toolbar={},s={overflowAnchor:'<div tabindex="0" class="k-overflow-anchor"></div>',overflowContainer:'<ul class="k-overflow-container k-list-container"></ul>'},x.toolbar.registerComponent=function(e,t,n){s[e]={toolbar:t,overflow:n};},l=x.Class.extend({addOverflowAttr:function addOverflowAttr(){this.element.attr(x.attr("overflow"),this.options.overflow||se);},addUidAttr:function addUidAttr(){this.element.attr(de,this.options.uid);},addIdAttr:function addIdAttr(){this.options.id&&this.element.attr("id",this.options.id);},addOverflowIdAttr:function addOverflowIdAttr(){this.options.id&&this.element.attr("id",this.options.id+"_overflow");},attributes:function attributes(){this.options.attributes&&this.element.attr(this.options.attributes);},show:function show(){this.element.removeClass(O).show(),this.options.hidden=!1;},hide:function hide(){this.element.addClass(O).hide(),this.options.hidden=!0;},remove:function remove(){this.element.remove();},enable:function enable(e){e===t&&(e=!0),this.element.toggleClass(N,!e),this.options.enable=e;},twin:function twin(){var e=this.element.attr(de);return this.overflow?this.toolbar.element.find("["+de+"='"+e+"']").data(this.options.type):this.toolbar.options.resizable?this.toolbar.popup.element.find("["+de+"='"+e+"']").data(this.options.type):t;}}),x.toolbar.Item=l,c=l.extend({init:function init(n,i){var o=e(n.useButtonTag?'<button tabindex="0"></button>':'<a href tabindex="0"></a>');this.element=o,this.options=n,this.toolbar=i,this.attributes(),n.primary&&o.addClass(W),n.togglable&&(o.addClass(F),this.toggle(n.selected)),n.url===t||n.useButtonTag||(o.attr("href",n.url),n.mobile&&o.attr(x.attr("role"),"button")),n.group&&(o.attr(x.attr("group"),n.group),this.group=this.toolbar.addToGroup(this,n.group)),!n.togglable&&n.click&&D(n.click)&&(this.clickHandler=n.click),n.togglable&&n.toggle&&D(n.toggle)&&(this.toggleHandler=n.toggle);},toggle:function toggle(e,t){e=!!e,this.group&&e?this.group.select(this):this.group||this.select(e),t&&this.twin()&&this.twin().toggle(e);},getParentGroup:function getParentGroup(){return this.options.isChild?this.element.closest("."+M).data("buttonGroup"):t;},_addGraphics:function _addGraphics(){var t,n,i,o=this.element,r=this.options.icon,a=this.options.spriteCssClass,s=this.options.imageUrl;(a||s||r)&&(t=!0,o.contents().not("span.k-sprite,span."+j+",img.k-image").each(function(n,i){(1==i.nodeType||3==i.nodeType&&e.trim(i.nodeValue).length>0)&&(t=!1);}),o.addClass(t?G:$)),r?(n=o.children("span."+j).first(),n[0]||(n=e('<span class="'+j+'"></span>').prependTo(o)),n.addClass(q+r)):a?(n=o.children("span.k-sprite").first(),n[0]||(n=e('<span class="k-sprite"></span>').prependTo(o)),n.addClass(a)):s&&(i=o.children("img.k-image").first(),i[0]||(i=e('<img alt="icon" class="k-image" />').prependTo(o)),i.attr("src",s));}}),x.toolbar.Button=c,d=c.extend({init:function init(e,t){c.fn.init.call(this,e,t);var n=this.element;n.addClass(R),this.addIdAttr(),e.align&&n.addClass("k-align-"+e.align),"overflow"!=e.showText&&e.text&&n.html(e.mobile?'<span class="km-text">'+e.text+"</span>":e.text),e.hasIcon="overflow"!=e.showIcon&&(e.icon||e.spriteCssClass||e.imageUrl),e.hasIcon&&this._addGraphics(),this.addUidAttr(),this.addOverflowAttr(),this.enable(e.enable),e.hidden&&this.hide(),this.element.data({type:"button",button:this});},select:function select(e){e===t&&(e=!1),this.element.toggleClass(H,e),this.options.selected=e;}}),x.toolbar.ToolBarButton=d,u=c.extend({init:function init(e,t){this.overflow=!0,c.fn.init.call(this,e,t);var n=this.element;"toolbar"!=e.showText&&e.text&&n.html(e.mobile?'<span class="km-text">'+e.text+"</span>":'<span class="k-text">'+e.text+"</span>"),e.hasIcon="toolbar"!=e.showIcon&&(e.icon||e.spriteCssClass||e.imageUrl),e.hasIcon&&this._addGraphics(),e.isChild||this._wrap(),this.addOverflowIdAttr(),this.attributes(),this.addUidAttr(),this.addOverflowAttr(),this.enable(e.enable),n.addClass(I+" "+R),e.hidden&&this.hide(),this.element.data({type:"button",button:this});},_wrap:function _wrap(){this.element=this.element.wrap("<li></li>").parent();},overflowHidden:function overflowHidden(){this.element.addClass(ce);},select:function select(e){e===t&&(e=!1),this.options.isChild?this.element.toggleClass(H,e):this.element.find(".k-button").toggleClass(H,e),this.options.selected=e;}}),x.toolbar.OverflowButton=u,x.toolbar.registerComponent("button",d,u),h=l.extend({createButtons:function createButtons(t){var n,i,o=this.options,r=o.buttons||[];for(i=0;r.length>i;i++){r[i].uid||(r[i].uid=x.guid()),n=new t(e.extend({mobile:o.mobile,isChild:!0,type:"button"},r[i]),this.toolbar),n.element.appendTo(this.element);}},refresh:function refresh(){this.element.children().filter(":not('."+O+"'):first").addClass(V),this.element.children().filter(":not('."+O+"'):last").addClass(U);}}),x.toolbar.ButtonGroup=h,f=h.extend({init:function init(t,n){var i=this.element=e("<div></div>");this.options=t,this.toolbar=n,this.addIdAttr(),t.align&&i.addClass("k-align-"+t.align),this.createButtons(d),this.attributes(),this.addUidAttr(),this.addOverflowAttr(),this.refresh(),i.addClass(M),this.element.data({type:"buttonGroup",buttonGroup:this});}}),x.toolbar.ToolBarButtonGroup=f,p=h.extend({init:function init(t,n){var i=this.element=e("<li></li>");this.options=t,this.toolbar=n,this.overflow=!0,this.addOverflowIdAttr(),this.createButtons(u),this.attributes(),this.addUidAttr(),this.addOverflowAttr(),this.refresh(),i.addClass((t.mobile?"":M)+" k-overflow-group"),this.element.data({type:"buttonGroup",buttonGroup:this});},overflowHidden:function overflowHidden(){this.element.addClass(ce);}}),x.toolbar.OverflowButtonGroup=p,x.toolbar.registerComponent("buttonGroup",f,p),m=l.extend({init:function init(t,n){var i=this.element=e('<div class="'+P+'" tabindex="0"></div>');this.options=t,this.toolbar=n,this.mainButton=new d(e.extend({},t,{hidden:!1}),n),this.arrowButton=e('<a class="'+R+" "+K+'"><span class="'+(t.mobile?"km-icon km-arrowdown":"k-icon k-i-arrow-s")+'"></span></a>'),this.popupElement=e('<ul class="'+Y+'"></ul>'),this.mainButton.element.removeAttr("href tabindex").appendTo(i),this.arrowButton.appendTo(i),this.popupElement.appendTo(i),t.align&&i.addClass("k-align-"+t.align),t.id||(t.id=t.uid),i.attr("id",t.id+"_wrapper"),this.addOverflowAttr(),this.addUidAttr(),this.createMenuButtons(),this.createPopup(),this._navigatable(),this.mainButton.main=!0,this.enable(t.enable),t.hidden&&this.hide(),i.data({type:"splitButton",splitButton:this,kendoPopup:this.popup});},_navigatable:function _navigatable(){var t=this;t.popupElement.on("keydown","."+R,function(n){var i=e(n.target).parent();n.preventDefault(),n.keyCode===A.ESC||n.keyCode===A.TAB||n.altKey&&n.keyCode===A.UP?(t.toggle(),t.focus()):n.keyCode===A.DOWN?a(i,"next").focus():n.keyCode===A.UP?a(i,"prev").focus():n.keyCode!==A.SPACEBAR&&n.keyCode!==A.ENTER||t.toolbar.userEvents.trigger("tap",{target:e(n.target)});});},createMenuButtons:function createMenuButtons(){var t,n,i=this.options,o=i.menuButtons;for(n=0;o.length>n;n++){t=new d(e.extend({mobile:i.mobile,type:"button",click:i.click},o[n]),this.toolbar),t.element.wrap("<li></li>").parent().appendTo(this.popupElement);}},createPopup:function createPopup(){var t=this.options,i=this.element;this.popupElement.attr("id",t.id+"_optionlist").attr(de,t.rootUid),t.mobile&&(this.popupElement=o(this.popupElement)),this.popup=this.popupElement.kendoPopup({appendTo:t.mobile?e(t.mobile).children(".km-pane"):null,anchor:i,isRtl:this.toolbar._isRtl,copyAnchorStyles:!1,animation:t.animation,open:n,activate:function activate(){this.element.find(":kendoFocusable").first().focus();},close:function close(){i.focus();}}).data("kendoPopup"),this.popup.element.on(ee,"a.k-button",r);},remove:function remove(){this.popup.element.off(ee,"a.k-button"),this.popup.destroy(),this.element.remove();},toggle:function toggle(){this.popup.toggle();},enable:function enable(e){e===t&&(e=!0),this.mainButton.enable(e),this.options.enable=e;},focus:function focus(){this.element.focus();},hide:function hide(){this.popup&&this.popup.close(),this.element.addClass(O).hide(),this.options.hidden=!0;},show:function show(){this.element.removeClass(O).hide(),this.options.hidden=!1;}}),x.toolbar.ToolBarSplitButton=m,g=l.extend({init:function init(t,n){var i,o,r=this.element=e('<li class="'+P+'"></li>'),a=t.menuButtons;for(this.options=t,this.toolbar=n,this.overflow=!0,this.mainButton=new u(e.extend({isChild:!0},t)),this.mainButton.element.appendTo(r),o=0;a.length>o;o++){i=new u(e.extend({mobile:t.mobile,isChild:!0},a[o]),this.toolbar),i.element.appendTo(r);}this.addUidAttr(),this.addOverflowAttr(),this.mainButton.main=!0,r.data({type:"splitButton",splitButton:this});},overflowHidden:function overflowHidden(){this.element.addClass(ce);}}),x.toolbar.OverflowSplitButton=g,x.toolbar.registerComponent("splitButton",m,g),v=l.extend({init:function init(t,n){var i=this.element=e("<div>&nbsp;</div>");this.element=i,this.options=t,this.toolbar=n,this.attributes(),this.addIdAttr(),this.addUidAttr(),this.addOverflowAttr(),i.addClass(z),i.data({type:"separator",separator:this});}}),_=l.extend({init:function init(t,n){var i=this.element=e("<li>&nbsp;</li>");this.element=i,this.options=t,this.toolbar=n,this.overflow=!0,this.attributes(),this.addUidAttr(),this.addOverflowIdAttr(),i.addClass(z),i.data({type:"separator",separator:this});},overflowHidden:function overflowHidden(){this.element.addClass(ce);}}),x.toolbar.registerComponent("separator",v,_),b=l.extend({init:function init(t,n,i){var o=D(t)?t(n):t;o=o instanceof jQuery?o.wrap("<div></div>").parent():e("<div></div>").html(o),this.element=o,this.options=n,this.options.type="template",this.toolbar=i,this.attributes(),this.addUidAttr(),this.addIdAttr(),this.addOverflowAttr(),o.data({type:"template",template:this});}}),x.toolbar.TemplateItem=b,w=l.extend({init:function init(t,n,i){var o=e(D(t)?t(n):t);o=o instanceof jQuery?o.wrap("<li></li>").parent():e("<li></li>").html(o),this.element=o,this.options=n,this.options.type="template",this.toolbar=i,this.overflow=!0,this.attributes(),this.addUidAttr(),this.addOverflowIdAttr(),this.addOverflowAttr(),o.data({type:"template",template:this});},overflowHidden:function overflowHidden(){this.element.addClass(ce);}}),x.toolbar.OverflowTemplateItem=w,y=C.extend({init:function init(e){this.name=e,this.buttons=[];},add:function add(e){this.buttons[this.buttons.length]=e;},remove:function remove(t){var n=e.inArray(t,this.buttons);this.buttons.splice(n,1);},select:function select(e){var t,n;for(n=0;this.buttons.length>n;n++){t=this.buttons[n],t.select(!1);}e.select(!0),e.twin()&&e.twin().select(!0);}}),k=S.extend({init:function init(t,n){var o,a=this;if(S.fn.init.call(a,t,n),n=a.options,t=a.wrapper=a.element,t.addClass(E+" k-widget"),this.uid=x.guid(),this._isRtl=x.support.isRtl(t),this._groups={},t.attr(de,this.uid),a.isMobile="boolean"==typeof n.mobile?n.mobile:a.element.closest(".km-root")[0],a.animation=a.isMobile?{open:{effects:"fade"}}:{},a.isMobile&&(t.addClass("km-widget"),j="km-icon",q="km-",R="km-button",M="km-buttongroup km-widget",H="km-state-active",N="km-state-disabled"),n.resizable?(a._renderOverflow(),t.addClass(L),a.overflowUserEvents=new x.UserEvents(a.element,{threshold:5,allowSelection:!0,filter:"."+Q,tap:T(a._toggleOverflow,a)}),a._resizeHandler=x.onResize(function(){a.resize();})):a.popup={element:e([])},n.items&&n.items.length)for(o=0;n.items.length>o;o++){a.add(n.items[o]);}a.userEvents=new x.UserEvents(document,{threshold:5,allowSelection:!0,filter:"["+de+"="+this.uid+"] a."+R+", ["+de+"="+this.uid+"] ."+I,tap:T(a._buttonClick,a),press:i,release:i}),a.element.on(ee,"a.k-button",r),a._navigatable(),n.resizable&&a.popup.element.on(ee,NaN,r),n.resizable&&this._toggleOverflowAnchor(),x.notify(a);},events:[ee,te,ne,ie,oe,re],options:{name:"ToolBar",items:[],resizable:!0,mobile:null},addToGroup:function addToGroup(e,t){var n;return n=this._groups[t]?this._groups[t]:this._groups[t]=new y(),n.add(e),n;},destroy:function destroy(){var t=this;t.element.find("."+P).each(function(t,n){e(n).data("kendoPopup").destroy();}),t.element.off(ee,"a.k-button"),t.userEvents.destroy(),t.options.resizable&&(x.unbindResize(t._resizeHandler),t.overflowUserEvents.destroy(),t.popup.element.off(ee,"a.k-button"),t.popup.destroy()),S.fn.destroy.call(t);},add:function add(t){var n,i,o,r=s[t.type],a=t.template,l=this,c=l.isMobile?"":"k-item k-state-default",d=t.overflowTemplate;if(e.extend(t,{uid:x.guid(),animation:l.animation,mobile:l.isMobile,rootUid:l.uid}),t.menuButtons)for(o=0;t.menuButtons.length>o;o++){e.extend(t.menuButtons[o],{uid:x.guid()});}a&&!d?t.overflow=ae:t.overflow||(t.overflow=se),t.overflow!==ae&&l.options.resizable&&(d?i=new w(d,t,l):r&&(i=new r.overflow(t,l),i.element.addClass(c)),i&&(t.overflow===se&&i.overflowHidden(),i.element.appendTo(l.popup.container),l.angular("compile",function(){return{elements:i.element.get()};}))),t.overflow!==le&&(a?n=new b(a,t,l):r&&(n=new r.toolbar(t,l)),n&&(l.options.resizable?(n.element.appendTo(l.element).css("visibility","hidden"),l._shrink(l.element.innerWidth()),n.element.css("visibility","visible")):n.element.appendTo(l.element),l.angular("compile",function(){return{elements:n.element.get()};})));},_getItem:function _getItem(t){var n,i,o,r,a=this.options.resizable;return n=this.element.find(t),n.length||(n=e(".k-split-container[data-uid="+this.uid+"]").find(t)),r=n.length?n.data("type"):"",i=n.data(r),i?(i.main&&(n=n.parent("."+P),r="splitButton",i=n.data(r)),a&&(o=i.twin())):a&&(n=this.popup.element.find(t),r=n.length?n.data("type"):"",o=n.data(r),o&&o.main&&(n=n.parent("."+P),r="splitButton",o=n.data(r))),{type:r,toolbar:i,overflow:o};},remove:function remove(e){var t=this._getItem(e);t.toolbar&&t.toolbar.remove(),t.overflow&&t.overflow.remove(),this.resize(!0);},hide:function hide(e){var t=this._getItem(e);t.toolbar&&("button"===t.toolbar.options.type&&t.toolbar.options.isChild?(t.toolbar.hide(),t.toolbar.getParentGroup().refresh()):t.toolbar.options.hidden||t.toolbar.hide()),t.overflow&&("button"===t.overflow.options.type&&t.overflow.options.isChild?(t.overflow.hide(),t.overflow.getParentGroup().refresh()):t.toolbar.options.hidden||t.overflow.hide()),this.resize(!0);},show:function show(e){var t=this._getItem(e);t.toolbar&&("button"===t.toolbar.options.type&&t.toolbar.options.isChild?(t.toolbar.show(),t.toolbar.getParentGroup().refresh()):t.toolbar.options.hidden&&t.toolbar.show()),t.overflow&&("button"===t.overflow.options.type&&t.overflow.options.isChild?(t.toolbar.show(),t.overflow.getParentGroup().refresh()):t.overflow.options.hidden&&t.overflow.show()),this.resize(!0);},enable:function enable(e,n){var i=this._getItem(e);t===n&&(n=!0),i.toolbar&&i.toolbar.enable(n),i.overflow&&i.overflow.enable(n);},getSelectedFromGroup:function getSelectedFromGroup(e){return this.element.find("."+F+"[data-group='"+e+"']").filter("."+H);},toggle:function toggle(n,i){var o=e(n),r=o.data("button");r.options.togglable&&(i===t&&(i=!0),r.toggle(i,!0));},_renderOverflow:function _renderOverflow(){var t=this,n=s.overflowContainer,i=t._isRtl,r=i?"left":"right";t.overflowAnchor=e(s.overflowAnchor).addClass(R),t.element.append(t.overflowAnchor),t.isMobile?(t.overflowAnchor.append('<span class="km-icon km-more"></span>'),n=o(n)):t.overflowAnchor.append('<span class="k-icon k-i-arrow-s"></span>'),t.popup=new x.ui.Popup(n,{origin:"bottom "+r,position:"top "+r,anchor:t.overflowAnchor,isRtl:i,animation:t.animation,appendTo:t.isMobile?e(t.isMobile).children(".km-pane"):null,copyAnchorStyles:!1,open:function open(n){var o=x.wrap(t.popup.element).addClass("k-overflow-wrapper");t.isMobile?t.popup.container.css("max-height",parseFloat(e(".km-content:visible").innerHeight())-15+"px"):o.css("margin-left",(i?-1:1)*((o.outerWidth()-o.width())/2+1)),t.trigger(oe)&&n.preventDefault();},activate:function activate(){this.element.find(":kendoFocusable").first().focus();},close:function close(e){t.trigger(re)&&e.preventDefault(),this.element.focus();}}),t.popup.element.on("keydown","."+R,function(n){var i,o=e(n.target),r=o.parent(),s=r.is("."+M)||r.is("."+P);n.preventDefault(),n.keyCode===A.ESC||n.keyCode===A.TAB||n.altKey&&n.keyCode===A.UP?(t._toggleOverflow(),t.overflowAnchor.focus()):n.keyCode===A.DOWN?(i=!s||s&&o.is(":last-child")?r:o,a(i,"next").focus()):n.keyCode===A.UP?(i=!s||s&&o.is(":first-child")?r:o,a(i,"prev").focus()):n.keyCode!==A.SPACEBAR&&n.keyCode!==A.ENTER||t.userEvents.trigger("tap",{target:e(n.target)});}),t.popup.container=t.isMobile?t.popup.element.find("."+X):t.popup.element,t.popup.container.attr(de,this.uid);},_toggleOverflowAnchor:function _toggleOverflowAnchor(){var e=!1;e=this.options.mobile?this.popup.element.find("."+X).children(":not(."+ce+", ."+B+")").length>0:this.popup.element.children(":not(."+ce+", ."+B+")").length>0,this.overflowAnchor.css(e?{visibility:"visible",width:""}:{visibility:"hidden",width:"1px"});},_buttonClick:function _buttonClick(n){var i,o,r,a,s,l,c,d=this,u=n.target.closest("."+K).length;return n.preventDefault(),u?(d._toggle(n),t):(o=e(n.target).closest("."+R,d.element),o.hasClass(Q)||(r=o.data("button"),!r&&d.popup&&(o=e(n.target).closest("."+I,d.popup.container),r=o.parent("li").data("button")),r&&r.options.enable&&(r.options.togglable?(s=D(r.toggleHandler)?r.toggleHandler:null,r.toggle(!r.options.selected,!0),l={target:o,group:r.options.group,checked:r.options.selected,id:r.options.id},s&&s.call(d,l),d.trigger(te,l)):(s=D(r.clickHandler)?r.clickHandler:null,l={sender:d,target:o,id:r.options.id},s&&s.call(d,l),d.trigger(ee,l)),r.options.url&&(r.options.attributes&&r.options.attributes.target&&(c=r.options.attributes.target),window.open(r.options.url,c||"_self")),o.hasClass(I)&&d.popup.close(),a=o.closest(".k-split-container"),a[0]&&(i=a.data("kendoPopup"),(i?i:a.parents(".km-popup-wrapper").data("kendoPopup")).close()))),t);},_navigatable:function _navigatable(){var t=this;t.element.attr("tabindex",0).focus(function(){var t=e(this).find(":kendoFocusable:first");t.is("."+Q)&&(t=a(t,"next")),t[0].focus();}).on("keydown",T(t._keydown,t));},_keydown:function _keydown(n){var i,o,r,a,s,l=e(n.target),c=n.keyCode,d=this.element.children(":not(.k-separator):visible");return c===A.TAB&&(i=l.parentsUntil(this.element).last(),o=!1,r=!1,i.length||(i=l),i.is("."+Q)&&(n.shiftKey&&n.preventDefault(),d.last().is(":kendoFocusable")?d.last().focus():d.last().find(":kendoFocusable").last().focus()),n.shiftKey||d.index(i)!==d.length-1||(o=i.is("."+M)?l.is(":last-child"):!0),n.shiftKey&&1===d.index(i)&&(r=i.is("."+M)?l.is(":first-child"):!0),o&&this.overflowAnchor&&"hidden"!==this.overflowAnchor.css("visibility")&&(n.preventDefault(),this.overflowAnchor.focus()),r&&(n.preventDefault(),this.wrapper.prev(":kendoFocusable").focus())),n.altKey&&c===A.DOWN?(a=e(document.activeElement).data("splitButton"),s=e(document.activeElement).is("."+Q),a?a.toggle():s&&this._toggleOverflow(),t):c!==A.SPACEBAR&&c!==A.ENTER||l.is("input, checkbox")?t:(n.preventDefault(),l.is("."+P)&&(l=l.children().first()),this.userEvents.trigger("tap",{target:l}),t);},_toggle:function _toggle(t){var n,i=e(t.target).closest("."+P).data("splitButton");t.preventDefault(),i.options.enable&&(n=i.popup.element.is(":visible")?this.trigger(ie,{target:i.element}):this.trigger(ne,{target:i.element}),n||i.toggle());},_toggleOverflow:function _toggleOverflow(){this.popup.toggle();},_resize:function _resize(e){var t=e.width;this.options.resizable&&(this.popup.close(),this._shrink(t),this._stretch(t),this._markVisibles(),this._toggleOverflowAnchor());},_childrenWidth:function _childrenWidth(){var t=0;return this.element.children(":visible:not('."+O+"')").each(function(){t+=e(this).outerWidth(!0);}),Math.ceil(t);},_shrink:function _shrink(e){var t,n,i;if(e<this._childrenWidth())for(n=this.element.children(":visible:not([data-overflow='never'], ."+Q+")"),i=n.length-1;i>=0&&(t=n.eq(i),!(e>this._childrenWidth()));i--){this._hideItem(t);}},_stretch:function _stretch(e){var t,n,i;if(e>this._childrenWidth())for(n=this.element.children(":hidden:not('."+O+"')"),i=0;n.length>i&&(t=n.eq(i),!(e<this._childrenWidth())&&this._showItem(t,e));i++){}},_hideItem:function _hideItem(e){e.hide(),this.popup&&this.popup.container.find(">li[data-uid='"+e.data("uid")+"']").removeClass(ce);},_showItem:function _showItem(e,t){return e.length&&t>this._childrenWidth()+e.outerWidth(!0)?(e.show(),this.popup&&this.popup.container.find(">li[data-uid='"+e.data("uid")+"']").addClass(ce),!0):!1;},_markVisibles:function _markVisibles(){var e=this.popup.container.children(),t=this.element.children(":not(.k-overflow-anchor)"),n=e.filter(":not(.k-overflow-hidden)"),i=t.filter(":visible");e.add(t).removeClass(J+" "+Z),n.first().add(i.first()).addClass(J),n.last().add(i.last()).addClass(Z);}}),x.ui.plugin(k);}(window.kendo.jQuery),window.kendo;},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("kendo.datetimepicker.min",["kendo.datepicker.min","kendo.timepicker.min"],e);}(function(){return function(e,t){function n(e){var t=new Date(2100,0,1);return t.setMinutes(-e),t;}function i(e){e.preventDefault();}function o(t){var n,i=r.getCulture(t.culture).calendars.standard.patterns,o=!t.parseFormats.length;t.format=c(t.format||i.g),t.timeFormat=n=c(t.timeFormat||i.t),r.DateView.normalize(t),o&&t.parseFormats.unshift("yyyy-MM-ddTHH:mm:ss"),-1===e.inArray(n,t.parseFormats)&&t.parseFormats.splice(1,0,n);}var r=window.kendo,a=r.TimeView,s=r.parseDate,l=r._activeElement,c=r._extractFormat,d=r.calendar,u=d.isInRange,h=d.restrictValue,f=d.isEqualDatePart,p=a.getMilliseconds,m=r.ui,g=m.Widget,v="open",_="close",b="change",w=".kendoDateTimePicker",y="click"+w,k="disabled",x="readonly",C="k-state-default",S="k-state-focused",T="k-state-hover",D="k-state-disabled",A="mouseenter"+w+" mouseleave"+w,E="mousedown"+w,R="month",I="<span/>",F="aria-activedescendant",M="aria-expanded",P="aria-hidden",z="aria-owns",B="aria-disabled",L=Date,H=new L(1800,0,1),N=new L(2099,11,31),O={view:"date"},V={view:"time"},U=e.extend,W=g.extend({init:function init(t,n){var i,a=this;g.fn.init.call(a,t,n),t=a.element,n=a.options,n.disableDates=r.calendar.disabled(n.disableDates),n.min=s(t.attr("min"))||s(n.min),n.max=s(t.attr("max"))||s(n.max),o(n),a._initialOptions=U({},n),a._wrapper(),a._views(),a._icons(),a._reset(),a._template();try{t[0].setAttribute("type","text");}catch(l){t[0].type="text";}t.addClass("k-input").attr({role:"combobox","aria-expanded":!1}),a._midnight=a._calculateMidnight(n.min,n.max),i=t.is("[disabled]")||e(a.element).parents("fieldset").is(":disabled"),i?a.enable(!1):a.readonly(t.is("[readonly]")),a._old=a._update(n.value||a.element.val()),a._oldText=t.val(),r.notify(a);},options:{name:"DateTimePicker",value:null,format:"",timeFormat:"",culture:"",parseFormats:[],dates:[],min:new L(H),max:new L(N),interval:30,height:200,footer:"",start:R,depth:R,animation:{},month:{},ARIATemplate:'Current focused date is #=kendo.toString(data.current, "d")#'},events:[v,_,b],setOptions:function setOptions(e){var t,n,i,a=this,l=a._value;g.fn.setOptions.call(a,e),e=a.options,e.min=t=s(e.min),e.max=n=s(e.max),o(e),a._midnight=a._calculateMidnight(e.min,e.max),i=e.value||a._value||a.dateView._current,t&&!f(t,i)&&(t=new L(H)),n&&!f(n,i)&&(n=new L(N)),a.dateView.setOptions(e),a.timeView.setOptions(U({},e,{format:e.timeFormat,min:t,max:n})),l&&(a.element.val(r.toString(l,e.format,e.culture)),a._updateARIA(l));},_editable:function _editable(t){var n=this,o=n.element.off(w),a=n._dateIcon.off(w),s=n._timeIcon.off(w),c=n._inputWrapper.off(w),d=t.readonly,u=t.disable;d||u?(c.addClass(u?D:C).removeClass(u?C:D),o.attr(k,u).attr(x,d).attr(B,u)):(c.addClass(C).removeClass(D).on(A,n._toggleHover),o.removeAttr(k).removeAttr(x).attr(B,!1).on("keydown"+w,e.proxy(n._keydown,n)).on("focus"+w,function(){n._inputWrapper.addClass(S);}).on("focusout"+w,function(){n._inputWrapper.removeClass(S),o.val()!==n._oldText&&n._change(o.val()),n.close("date"),n.close("time");}),a.on(E,i).on(y,function(){n.toggle("date"),r.support.touch||o[0]===l()||o.focus();}),s.on(E,i).on(y,function(){n.toggle("time"),r.support.touch||o[0]===l()||o.focus();}));},readonly:function readonly(e){this._editable({readonly:e===t?!0:e,disable:!1});},enable:function enable(e){this._editable({readonly:!1,disable:!(e=e===t?!0:e)});},destroy:function destroy(){var e=this;g.fn.destroy.call(e),e.dateView.destroy(),e.timeView.destroy(),e.element.off(w),e._dateIcon.off(w),e._timeIcon.off(w),e._inputWrapper.off(w),e._form&&e._form.off("reset",e._resetHandler);},close:function close(e){"time"!==e&&(e="date"),this[e+"View"].close();},open:function open(e){"time"!==e&&(e="date"),this[e+"View"].open();},min:function min(e){return this._option("min",e);},max:function max(e){return this._option("max",e);},toggle:function toggle(e){var t="timeView";"time"!==e?e="date":t="dateView",this[e+"View"].toggle(),this[t].close();},value:function value(e){var n=this;return e===t?n._value:(n._old=n._update(e),null===n._old&&n.element.val(""),n._oldText=n.element.val(),t);},_change:function _change(e){var t,n,i,o=this,r=o.element.val();e=o._update(e),t=+o._old!=+e,n=t&&!o._typing,i=r!==o.element.val(),(n||i)&&o.element.trigger(b),t&&(o._old=e,o._oldText=o.element.val(),o.trigger(b)),o._typing=!1;},_option:function _option(e,i){var o,r,a=this,l=a.options,c=a.timeView,d=c.options,u=a._value||a._old;if(i===t)return l[e];if(i=s(i,l.parseFormats,l.culture)){if(l.min.getTime()===l.max.getTime()&&(d.dates=[]),l[e]=new L(i.getTime()),a.dateView[e](i),a._midnight=a._calculateMidnight(l.min,l.max),u&&(o=f(l.min,u),r=f(l.max,u)),o||r){if(d[e]=i,o&&!r&&(d.max=n(l.interval)),r){if(a._midnight)return c.dataBind([N]),t;o||(d.min=H);}}else d.max=N,d.min=H;c.bind();}},_toggleHover:function _toggleHover(t){e(t.currentTarget).toggleClass(T,"mouseenter"===t.type);},_update:function _update(t){var i,o,a,l,c,d=this,p=d.options,m=p.min,g=p.max,v=p.dates,_=d.timeView,w=d._value,y=s(t,p.parseFormats,p.culture),k=null===y&&null===w||y instanceof Date&&w instanceof Date;return p.disableDates&&p.disableDates(y)&&(y=null,d._old||d.element.val()||(t=null)),+y===+w&&k?(c=r.toString(y,p.format,p.culture),c!==t&&(d.element.val(null===y?t:c),t instanceof String&&d.element.trigger(b)),y):(null!==y&&f(y,m)?y=h(y,m,g):u(y,m,g)||(y=null),d._value=y,_.value(y),d.dateView.value(y),y&&(a=d._old,o=_.options,v[0]&&(v=e.grep(v,function(e){return f(y,e);}),v[0]&&(_.dataBind(v),l=!0)),l||(f(y,m)&&(o.min=m,o.max=n(p.interval),i=!0),f(y,g)&&(d._midnight?(_.dataBind([N]),l=!0):(o.max=g,i||(o.min=H),i=!0))),!l&&(!a&&i||a&&!f(a,y))&&(i||(o.max=N,o.min=H),_.bind())),d.element.val(y?r.toString(y,p.format,p.culture):t),d._updateARIA(y),y);},_keydown:function _keydown(e){var t=this,n=t.dateView,i=t.timeView,o=t.element.val(),a=n.popup.visible();e.altKey&&e.keyCode===r.keys.DOWN?t.toggle(a?"time":"date"):a?(n.move(e),t._updateARIA(n._current)):i.popup.visible()?i.move(e):e.keyCode===r.keys.ENTER&&o!==t._oldText?t._change(o):t._typing=!0;},_views:function _views(){var e,t,n,i,o,l,c=this,d=c.element,h=c.options,f=d.attr("id");c.dateView=e=new r.DateView(U({},h,{id:f,anchor:c.wrapper,change:function change(){var t,n,i=e.calendar.value(),o=+i,a=+h.min,s=+h.max;o!==a&&o!==s||(t=o===a?a:s,t=new L(c._value||t),t.setFullYear(i.getFullYear(),i.getMonth(),i.getDate()),u(t,a,s)&&(i=t)),c._value&&(n=r.date.setHours(new Date(i),c._value),u(n,a,s)&&(i=n)),c._change(i),c.close("date");},close:function close(e){c.trigger(_,O)?e.preventDefault():(d.attr(M,!1),n.attr(P,!0),t.popup.visible()||d.removeAttr(z));},open:function open(t){c.trigger(v,O)?t.preventDefault():(d.val()!==c._oldText&&(l=s(d.val(),h.parseFormats,h.culture),c.dateView[l?"current":"value"](l)),n.attr(P,!1),d.attr(M,!0).attr(z,e._dateViewID),c._updateARIA(l));}})),n=e.div,o=h.min.getTime(),c.timeView=t=new a({id:f,value:h.value,anchor:c.wrapper,animation:h.animation,format:h.timeFormat,culture:h.culture,height:h.height,interval:h.interval,min:new L(H),max:new L(N),dates:o===h.max.getTime()?[new Date(o)]:[],parseFormats:h.parseFormats,change:function change(n,i){n=t._parse(n),h.min>n?(n=new L(+h.min),t.options.min=n):n>h.max&&(n=new L(+h.max),t.options.max=n),i?(c._timeSelected=!0,c._change(n)):(d.val(r.toString(n,h.format,h.culture)),e.value(n),c._updateARIA(n));},close:function close(t){c.trigger(_,V)?t.preventDefault():(i.attr(P,!0),d.attr(M,!1),e.popup.visible()||d.removeAttr(z));},open:function open(e){t._adjustListWidth(),c.trigger(v,V)?e.preventDefault():(d.val()!==c._oldText&&(l=s(d.val(),h.parseFormats,h.culture),c.timeView.value(l)),i.attr(P,!1),d.attr(M,!0).attr(z,t._timeViewID),t.options.active(t.current()));},active:function active(e){d.removeAttr(F),e&&d.attr(F,t._optionID);}}),i=t.ul;},_icons:function _icons(){var t,n=this,i=n.element;t=i.next("span.k-select"),t[0]||(t=e('<span unselectable="on" class="k-select"><span unselectable="on" class="k-icon k-i-calendar">select</span><span unselectable="on" class="k-icon k-i-clock">select</span></span>').insertAfter(i)),t=t.children(),n._dateIcon=t.eq(0).attr({role:"button","aria-controls":n.dateView._dateViewID}),n._timeIcon=t.eq(1).attr({role:"button","aria-controls":n.timeView._timeViewID});},_wrapper:function _wrapper(){var t,n=this,i=n.element;t=i.parents(".k-datetimepicker"),t[0]||(t=i.wrap(I).parent().addClass("k-picker-wrap k-state-default"),t=t.wrap(I).parent()),t[0].style.cssText=i[0].style.cssText,i.css({width:"100%",height:i[0].style.height}),n.wrapper=t.addClass("k-widget k-datetimepicker k-header").addClass(i[0].className),n._inputWrapper=e(t[0].firstChild);},_reset:function _reset(){var t=this,n=t.element,i=n.attr("form"),o=i?e("#"+i):n.closest("form");o[0]&&(t._resetHandler=function(){t.value(n[0].defaultValue),t.max(t._initialOptions.max),t.min(t._initialOptions.min);},t._form=o.on("reset",t._resetHandler));},_template:function _template(){this._ariaTemplate=r.template(this.options.ARIATemplate);},_calculateMidnight:function _calculateMidnight(e,t){return p(e)+p(t)===0;},_updateARIA:function _updateARIA(e){var t,n=this,i=n.dateView.calendar;n.element.removeAttr(F),i&&(t=i._cell,t.attr("aria-label",n._ariaTemplate({current:e||i.current()})),n.element.attr(F,t.attr("id")));}});m.plugin(W);}(window.kendo.jQuery),window.kendo;},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("kendo.splitter.min",["kendo.resizable.min"],e);}(function(){return function(e,t){function n(e){return v.test(e);}function i(e){return g.test(e)||/^\d+$/.test(e);}function o(e){return!n(e)&&!i(e);}function r(e,t){var i=parseInt(e,10);return n(e)&&(i=Math.floor(i*t/100)),i;}function a(e,n){return function(i,o){var r,a=this.element.find(i).data(E);return 1==arguments.length?a[e]:(a[e]=o,n&&(r=this.element.data("kendo"+this.options.name),r.resize(!0)),t);};}function s(e){var t=this,n=e.orientation;t.owner=e,t._element=e.element,t.orientation=n,f(t,n===S?c:l),t._resizable=new d.ui.Resizable(e.element,{orientation:n,handle:".k-splitbar-draggable-"+n+"[data-marker="+e._marker+"]",hint:p(t._createHint,t),start:p(t._start,t),max:p(t._max,t),min:p(t._min,t),invalidClass:"k-restricted-size-"+n,resizeend:p(t._stop,t)});}var l,c,d=window.kendo,u=d.ui,h=d.keys,f=e.extend,p=e.proxy,m=u.Widget,g=/^\d+(\.\d+)?px$/i,v=/^\d+(\.\d+)?%$/i,_=".kendoSplitter",b="expand",w="collapse",y="contentLoad",k="error",x="resize",C="layoutChange",S="horizontal",T="vertical",D="mouseenter",A="click",E="pane",R="mouseleave",I="k-state-focused",F="k-"+E,M="."+F,P=m.extend({init:function init(e,t){var n,i=this;m.fn.init.call(i,e,t),i.wrapper=i.element,n=i.options.orientation.toLowerCase()!=T,i.orientation=n?S:T,i._dimension=n?"width":"height",i._keys={decrease:n?h.LEFT:h.UP,increase:n?h.RIGHT:h.DOWN},i._resizeStep=10,i._marker=d.guid().substring(0,8),i._initPanes(),i.resizing=new s(i),i.element.triggerHandler("init"+_);},events:[b,w,y,k,x,C],_addOverlays:function _addOverlays(){this._panes().append("<div class='k-splitter-overlay k-overlay' />");},_removeOverlays:function _removeOverlays(){this._panes().children(".k-splitter-overlay").remove();},_attachEvents:function _attachEvents(){var t=this,n=t.options.orientation;t.element.children(".k-splitbar-draggable-"+n).on("keydown"+_,p(t._keydown,t)).on("mousedown"+_,function(e){e.currentTarget.focus();}).on("focus"+_,function(t){e(t.currentTarget).addClass(I);}).on("blur"+_,function(n){e(n.currentTarget).removeClass(I),t.resizing&&t.resizing.end();}).on(D+_,function(){e(this).addClass("k-splitbar-"+t.orientation+"-hover");}).on(R+_,function(){e(this).removeClass("k-splitbar-"+t.orientation+"-hover");}).on("mousedown"+_,p(t._addOverlays,t)).end().children(".k-splitbar").on("dblclick"+_,p(t._togglePane,t)).children(".k-collapse-next, .k-collapse-prev").on(A+_,t._arrowClick(w)).end().children(".k-expand-next, .k-expand-prev").on(A+_,t._arrowClick(b)).end().end(),e(window).on("resize"+_+t._marker,p(t.resize,t,!1)),e(document).on("mouseup"+_+t._marker,p(t._removeOverlays,t));},_detachEvents:function _detachEvents(){var t=this;t.element.children(".k-splitbar-draggable-"+t.orientation).off(_).end().children(".k-splitbar").off("dblclick"+_).children(".k-collapse-next, .k-collapse-prev, .k-expand-next, .k-expand-prev").off(_),e(window).off(_+t._marker),e(document).off(_+t._marker);},options:{name:"Splitter",orientation:S,panes:[]},destroy:function destroy(){m.fn.destroy.call(this),this._detachEvents(),this.resizing&&this.resizing.destroy(),d.destroy(this.element),this.wrapper=this.element=null;},_keydown:function _keydown(t){var n,i=this,o=t.keyCode,r=i.resizing,a=e(t.currentTarget),s=i._keys,l=o===s.increase,c=o===s.decrease;l||c?(t.ctrlKey?(n=a[c?"next":"prev"](),r&&r.isResizing()&&r.end(),n[i._dimension]()?i._triggerAction(w,a[c?"prev":"next"]()):i._triggerAction(b,n)):r&&r.move((c?-1:1)*i._resizeStep,a),t.preventDefault()):o===h.ENTER&&r&&(r.end(),t.preventDefault());},_initPanes:function _initPanes(){var e=this.options.panes||[],t=this;this.element.addClass("k-widget").addClass("k-splitter").children().each(function(n,i){"script"!=i.nodeName.toLowerCase()&&t._initPane(i,e[n]);}),this.resize();},_initPane:function _initPane(t,n){t=e(t).attr("role","group").addClass(F),t.data(E,n?n:{}).toggleClass("k-scrollable",n?n.scrollable!==!1:!0),this.ajaxRequest(t);},ajaxRequest:function ajaxRequest(e,t,n){var i,o=this;e=o.element.find(e),i=e.data(E),t=t||i.contentUrl,t&&(e.append("<span class='k-icon k-loading k-pane-loading' />"),d.isLocalUrl(t)?jQuery.ajax({url:t,data:n||{},type:"GET",dataType:"html",success:function success(t){o.angular("cleanup",function(){return{elements:e.get()};}),e.html(t),o.angular("compile",function(){return{elements:e.get()};}),o.trigger(y,{pane:e[0]});},error:function error(t,n){o.trigger(k,{pane:e[0],status:n,xhr:t});}}):e.removeClass("k-scrollable").html("<iframe src='"+t+"' frameborder='0' class='k-content-frame'>This page requires frames in order to show content</iframe>"));},_triggerAction:function _triggerAction(e,t){this.trigger(e,{pane:t[0]})||this[e](t[0]);},_togglePane:function _togglePane(t){var n,i=this,o=e(t.target);o.closest(".k-splitter")[0]==i.element[0]&&(n=o.children(".k-icon:not(.k-resize-handle)"),1===n.length&&(n.is(".k-collapse-prev")?i._triggerAction(w,o.prev()):n.is(".k-collapse-next")?i._triggerAction(w,o.next()):n.is(".k-expand-prev")?i._triggerAction(b,o.prev()):n.is(".k-expand-next")&&i._triggerAction(b,o.next())));},_arrowClick:function _arrowClick(t){var n=this;return function(i){var o,r=e(i.target);r.closest(".k-splitter")[0]==n.element[0]&&(o=r.is(".k-"+t+"-prev")?r.parent().prev():r.parent().next(),n._triggerAction(t,o));};},_updateSplitBar:function _updateSplitBar(e,t,n){var i=function i(e,t){return t?"<div class='k-icon "+e+"' />":"";},o=this.orientation,r=t.resizable!==!1&&n.resizable!==!1,a=t.collapsible,s=t.collapsed,l=n.collapsible,c=n.collapsed;e.addClass("k-splitbar k-state-default k-splitbar-"+o).attr("role","separator").attr("aria-expanded",!(s||c)).removeClass("k-splitbar-"+o+"-hover").toggleClass("k-splitbar-draggable-"+o,r&&!s&&!c).toggleClass("k-splitbar-static-"+o,!r&&!a&&!l).html(i("k-collapse-prev",a&&!s&&!c)+i("k-expand-prev",a&&s&&!c)+i("k-resize-handle",r)+i("k-collapse-next",l&&!c&&!s)+i("k-expand-next",l&&c&&!s)),r||a||l||e.removeAttr("tabindex");},_updateSplitBars:function _updateSplitBars(){var t=this;this.element.children(".k-splitbar").each(function(){var n=e(this),i=n.prevAll(M).first().data(E),o=n.nextAll(M).first().data(E);o&&t._updateSplitBar(n,i,o);});},_removeSplitBars:function _removeSplitBars(){this.element.children(".k-splitbar").remove();},_panes:function _panes(){return this.element?this.element.children(M):e();},_resize:function _resize(){var n,i,a,s,l,c,u,h,f,p,m=this,g=m.element,v=g.children(M),_=m.orientation==S,b=g.children(".k-splitbar"),w=b.length,y=_?"width":"height",k=g[y]();m.wrapper.addClass("k-splitter-resizing"),0===w?(w=v.length-1,v.slice(0,w).after("<div tabindex='0' class='k-splitbar' data-marker='"+m._marker+"' />"),m._updateSplitBars(),b=g.children(".k-splitbar")):m._updateSplitBars(),b.each(function(){k-=this[_?"offsetWidth":"offsetHeight"];}),n=0,i=0,a=e(),v.css({position:"absolute",top:0})[y](function(){var s,l=e(this),c=l.data(E)||{};if(l.removeClass("k-state-collapsed"),c.collapsed)s=c.collapsedSize?r(c.collapsedSize,k):0,l.css("overflow","hidden").addClass("k-state-collapsed");else{if(o(c.size))return a=a.add(this),t;s=r(c.size,k);}return i++,n+=s,s;}),k-=n,s=a.length,l=Math.floor(k/s),a.slice(0,s-1).css(y,l).end().eq(s-1).css(y,k-(s-1)*l),c=0,u=_?"height":"width",h=_?"left":"top",f=_?"offsetWidth":"offsetHeight",0===s&&(p=v.filter(function(){return!(e(this).data(E)||{}).collapsed;}).last(),p[y](k+p[0][f])),g.children().css(u,g[u]()).each(function(e,t){"script"!=t.tagName.toLowerCase()&&(t.style[h]=Math.floor(c)+"px",c+=t[f]);}),m._detachEvents(),m._attachEvents(),m.wrapper.removeClass("k-splitter-resizing"),d.resize(v),m.trigger(C);},toggle:function toggle(e,n){var i,o=this;e=o.element.find(e),i=e.data(E),(n||i.collapsible)&&(1==arguments.length&&(n=i.collapsed===t?!1:i.collapsed),i.collapsed=!n,i.collapsed?e.css("overflow","hidden"):e.css("overflow",""),o.resize(!0));},collapse:function collapse(e){this.toggle(e,!1);},expand:function expand(e){this.toggle(e,!0);},_addPane:function _addPane(e,t,n){var i=this;return n.length&&(i.options.panes.splice(t,0,e),i._initPane(n,e),i._removeSplitBars(),i.resize(!0)),n;},append:function append(t){t=t||{};var n=this,i=e("<div />").appendTo(n.element);return n._addPane(t,n.options.panes.length,i);},insertBefore:function insertBefore(t,n){n=e(n),t=t||{};var i=this,o=i.wrapper.children(".k-pane").index(n),r=e("<div />").insertBefore(e(n));return i._addPane(t,o,r);},insertAfter:function insertAfter(t,n){n=e(n),t=t||{};var i=this,o=i.wrapper.children(".k-pane").index(n),r=e("<div />").insertAfter(e(n));return i._addPane(t,o+1,r);},remove:function remove(t){t=e(t);var n=this;return t.length&&(d.destroy(t),t.each(function(t,i){n.options.panes.splice(n.wrapper.children(".k-pane").index(i),1),e(i).remove();}),n._removeSplitBars(),n.options.panes.length&&n.resize(!0)),n;},size:a("size",!0),min:a("min"),max:a("max")});u.plugin(P),l={sizingProperty:"height",sizingDomProperty:"offsetHeight",alternateSizingProperty:"width",positioningProperty:"top",mousePositioningProperty:"pageY"},c={sizingProperty:"width",sizingDomProperty:"offsetWidth",alternateSizingProperty:"height",positioningProperty:"left",mousePositioningProperty:"pageX"},s.prototype={press:function press(e){this._resizable.press(e);},move:function move(e,t){this.pressed||(this.press(t),this.pressed=!0),this._resizable.target||this._resizable.press(t),this._resizable.move(e);},end:function end(){this._resizable.end(),this.pressed=!1;},destroy:function destroy(){this._resizable.destroy(),this._resizable=this._element=this.owner=null;},isResizing:function isResizing(){return this._resizable.resizing;},_createHint:function _createHint(t){var n=this;return e("<div class='k-ghost-splitbar k-ghost-splitbar-"+n.orientation+" k-state-default' />").css(n.alternateSizingProperty,t[n.alternateSizingProperty]());},_start:function _start(t){var n=this,o=e(t.currentTarget),r=o.prev(),a=o.next(),s=r.data(E),l=a.data(E),c=parseInt(r[0].style[n.positioningProperty],10),d=parseInt(a[0].style[n.positioningProperty],10)+a[0][n.sizingDomProperty]-o[0][n.sizingDomProperty],u=parseInt(n._element.css(n.sizingProperty),10),h=function h(e){var t=parseInt(e,10);return(i(e)?t:u*t/100)||0;},f=h(s.min),p=h(s.max)||d-c,m=h(l.min),g=h(l.max)||d-c;n.previousPane=r,n.nextPane=a,n._maxPosition=Math.min(d-m,c+p),n._minPosition=Math.max(c+f,d-g);},_max:function _max(){return this._maxPosition;},_min:function _min(){return this._minPosition;},_stop:function _stop(t){var n,i,r,a,s,l,c,u,h=this,f=e(t.currentTarget),p=h.owner;return p._panes().children(".k-splitter-overlay").remove(),t.keyCode!==d.keys.ESC&&(n=t.position,i=f.prev(),r=f.next(),a=i.data(E),s=r.data(E),l=n-parseInt(i[0].style[h.positioningProperty],10),c=parseInt(r[0].style[h.positioningProperty],10)+r[0][h.sizingDomProperty]-n-f[0][h.sizingDomProperty],u=h._element.children(M).filter(function(){return o(e(this).data(E).size);}).length,(!o(a.size)||u>1)&&(o(a.size)&&u--,a.size=l+"px"),(!o(s.size)||u>1)&&(s.size=c+"px"),p.resize(!0)),!1;}};}(window.kendo.jQuery),window.kendo;},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("kendo.virtuallist.min",["kendo.data.min"],e);}(function(){return function(e,t){function n(e){return e[e.length-1];}function i(e){return e instanceof Array?e:[e];}function o(e){return"string"==typeof e||"number"==typeof e||"boolean"==typeof e;}function r(e,t,n){return Math.ceil(e*t/n);}function a(e,t,n){var i=document.createElement(n||"div");return t&&(i.className=t),e.appendChild(i),i;}function s(){var t,n=e('<div class="k-popup"><ul class="k-list"><li class="k-item"><li></ul></div>');return n.css({position:"absolute",left:"-200000px",visibility:"hidden"}),n.appendTo(document.body),t=parseFloat(v.getComputedStyles(n.find(".k-item")[0],["line-height"])["line-height"]),n.remove(),t;}function l(e,t,n){return{down:e*n,up:e*(t-1-n)};}function c(e,t){var n=(e.listScreens-1-e.threshold)*t,i=e.threshold*t;return function(e,t,o){return t>o?n>t-e.top:0===e.top||t-e.top>i;};}function d(e,t){return function(n){return t(e.scrollTop,n);};}function u(e){return function(t,n){return e(t.items,t.index,n),t;};}function h(e,t){v.support.browser.msie&&10>v.support.browser.version?e.style.top=t+"px":(e.style.webkitTransform="translateY("+t+"px)",e.style.transform="translateY("+t+"px)");}function f(t,n){return function(i,o){for(var r=0,a=i.length;a>r;r++){t(i[r],o[r],n),o[r].item&&this.trigger(L,{item:e(i[r]),data:o[r].item,ns:v.ui});}};}function p(e,t){var n;return t>0?(n=e.splice(0,t),e.push.apply(e,n)):(n=e.splice(t,-t),e.unshift.apply(e,n)),n;}function m(n,i,o){var r=o.template;n=e(n),i.item||(r=o.placeholderTemplate),this.angular("cleanup",function(){return{elements:[n]};}),n.attr("data-uid",i.item?i.item.uid:"").attr("data-offset-index",i.index).html(r(i.item||{})),n.toggleClass(F,i.current),n.toggleClass(I,i.selected),n.toggleClass("k-first",i.newGroup),n.toggleClass("k-loading-item",!i.item),0!==i.index&&i.newGroup&&e("<div class="+R+"></div>").appendTo(n).html(o.groupTemplate(i.group)),i.top!==t&&h(n[0],i.top),this.angular("compile",function(){return{elements:[n],data:[{dataItem:i.item,group:i.group,newGroup:i.newGroup}]};});}function g(e,t){var n,i,o,r,a=t.length,s=e.length,l=[],c=[];if(s)for(o=0;s>o;o++){for(n=e[o],i=!1,r=0;a>r;r++){if(n===t[r]){i=!0,l.push({index:o,item:n});break;}}i||c.push(n);}return{changed:l,unchanged:c};}var v=window.kendo,_=v.ui,b=_.Widget,w=_.DataBoundWidget,y=e.proxy,k="k-virtual-wrap",x="k-virtual-list",C="k-virtual-content",S="k-list",T="k-group-header",D="k-virtual-item",A="k-item",E="k-height-container",R="k-group",I="k-state-selected",F="k-state-focused",M="k-state-hover",P="change",z="click",B="listBound",L="itemChange",H="activate",N="deactivate",O=".VirtualList",V=w.extend({init:function init(t,n){var o=this;o.bound(!1),o._fetching=!1,b.fn.init.call(o,t,n),o.options.itemHeight||(o.options.itemHeight=s()),n=o.options,o.element.addClass(S+" "+x).attr("role","listbox"),o.content=o.element.wrap("<div unselectable='on' class='"+C+"'></div>").parent(),o.wrapper=o.content.wrap("<div class='"+k+"'></div>").parent(),o.header=o.content.before("<div class='"+T+"'></div>").prev(),o.element.on("mouseenter"+O,"li:not(.k-loading-item)",function(){e(this).addClass(M);}).on("mouseleave"+O,"li",function(){e(this).removeClass(M);}),o._values=i(o.options.value),o._selectedDataItems=[],o._selectedIndexes=[],o._rangesList={},o._activeDeferred=null,o._promisesList=[],o._optionID=v.guid(),o.setDataSource(n.dataSource),o.content.on("scroll"+O,v.throttle(function(){o._renderItems(),o._triggerListBound();},n.delay)),o._selectable();},options:{name:"VirtualList",autoBind:!0,delay:100,height:null,listScreens:4,threshold:.5,itemHeight:null,oppositeBuffer:1,type:"flat",selectable:!1,value:[],dataValueField:null,template:"#:data#",placeholderTemplate:"loading...",groupTemplate:"#:data#",fixedGroupTemplate:"fixed header template",valueMapper:null},events:[P,z,B,L,H,N],setOptions:function setOptions(e){b.fn.setOptions.call(this,e),this._selectProxy&&this.options.selectable===!1?this.element.off(z,"."+D,this._selectProxy):!this._selectProxy&&this.options.selectable&&this._selectable(),this.refresh();},items:function items(){return e(this._items);},destroy:function destroy(){this.wrapper.off(O),this.dataSource.unbind(P,this._refreshHandler),b.fn.destroy.call(this);},setDataSource:function setDataSource(t){var n,i=this,o=t||{};o=e.isArray(o)?{data:o}:o,o=v.data.DataSource.create(o),i.dataSource?(i.dataSource.unbind(P,i._refreshHandler),i._clean(),i.bound(!1),i._deferValueSet=!0,n=i.value(),i.value([]),i.mute(function(){i.value(n);})):i._refreshHandler=e.proxy(i.refresh,i),i.dataSource=o.bind(P,i._refreshHandler),i.setDSFilter(o.filter()),0!==o.view().length?i.refresh():i.options.autoBind&&o.fetch();},skip:function skip(){return this.dataSource.currentRangeStart();},_triggerListBound:function _triggerListBound(){var e=this,t=e.skip();e.bound()&&!e._selectingValue&&e._skip!==t&&(e._skip=t,e.trigger(B));},_getValues:function _getValues(t){var n=this._valueGetter;return e.map(t,function(e){return n(e);});},refresh:function refresh(e){var t,n=this,i=e&&e.action,o="itemchange"===i,r=this.isFiltered();n._mute||(n._deferValueSet=!1,n._fetching?(n._renderItems&&n._renderItems(!0),n._triggerListBound()):(r&&n.focus(0),n._createList(),i||!n._values.length||r||n.options.skipUpdateOnBind?(n.bound(!0),n._triggerListBound()):(n._selectingValue=!0,n.value(n._values,!0).done(function(){n.bound(!0),n._selectingValue=!1,n._triggerListBound();}))),(o||"remove"===i)&&(t=g(n._selectedDataItems,e.items),t.changed.length&&(o?n.trigger("selectedItemChange",{items:t.changed}):n.value(n._getValues(t.unchanged)))),n._fetching=!1);},removeAt:function removeAt(e){return this._selectedIndexes.splice(e,1),this._values.splice(e,1),{position:e,dataItem:this._selectedDataItems.splice(e,1)[0]};},setValue:function setValue(e){this._values=i(e);},value:function value(n,o){var r=this;return n===t?r._values.slice():(null===n&&(n=[]),n=i(n),"multiple"===r.options.selectable&&r.select().length&&n.length&&r.select(-1),r._valueDeferred&&"resolved"!==r._valueDeferred.state()||(r._valueDeferred=e.Deferred()),n.length||r.select(-1),r._values=n,(r.bound()&&!r._mute&&!r._deferValueSet||o)&&r._prefetchByValue(n),r._valueDeferred);},_prefetchByValue:function _prefetchByValue(e){var n,r,a,s=this,l=s._dataView,c=s._valueGetter,d=!1,u=[];for(r=0;e.length>r;r++){for(a=0;l.length>a;a++){n=l[a].item,n&&(d=o(n)?e[r]===n:e[r]===c(n),d&&u.push(l[a].index));}}if(u.length===e.length)return s._values=[],s.select(u),t;if("function"!=typeof s.options.valueMapper)throw Error("valueMapper is not provided");s.options.valueMapper({value:"multiple"===this.options.selectable?e:e[0],success:function success(e){e=e===t||-1===e||null===e?[]:i(e),e.length?(s._values=[],s._selectedIndexes=[],s._selectedDataItems=[]):e=[-1],s.select(e);}});},deferredRange:function deferredRange(t){var n=this.dataSource,i=this.itemCount,o=this._rangesList,r=e.Deferred(),a=[],s=Math.floor(t/i)*i,l=Math.ceil(t/i)*i,c=l===s?[l]:[s,l];return e.each(c,function(t,r){var s,l=r+i,c=o[r];c&&c.end===l?s=c.deferred:(s=e.Deferred(),o[r]={end:l,deferred:s},n._multiplePrefetch(r,i,function(){s.resolve();})),a.push(s);}),e.when.apply(e,a).then(function(){r.resolve();}),r;},prefetch:function prefetch(t){var n=this,i=this.itemCount,o=!n._promisesList.length;return n._activeDeferred||(n._activeDeferred=e.Deferred(),n._promisesList=[]),e.each(t,function(e,t){var o=Math.floor(t/i)*i;t===o&&o>i&&(o-=i),n._promisesList.push(n.deferredRange(o));}),o&&e.when.apply(e,n._promisesList).done(function(){n._activeDeferred.resolve(),n._activeDeferred=null,n._promisesList=[];}),n._activeDeferred;},_findDataItem:function _findDataItem(e){var t,n,i=this.dataSource.view();if("group"===this.options.type)for(n=0;i.length>n;n++){if(t=i[n].items,!(e>=t.length))return t[e];e-=t.length;}return i[e];},selectedDataItems:function selectedDataItems(){return this._selectedDataItems.slice();},scrollTo:function scrollTo(e){this.content.scrollTop(e);},scrollToIndex:function scrollToIndex(e){this.scrollTo(e*this.options.itemHeight);},focus:function focus(i){var o,r,a,s,l,c,d=this.options.itemHeight,u=this._optionID,h=!0;if(i===t)return s=this.element.find("."+F),s.length?s:null;if("function"==typeof i)for(a=this.dataSource.flatView(),l=0;a.length>l;l++){if(i(a[l])){i=l;break;}}return i instanceof Array&&(i=n(i)),isNaN(i)?(o=e(i),r=parseInt(e(o).attr("data-offset-index"),10)):(r=i,o=this._getElementByIndex(r)),-1===r?(this.element.find("."+F).removeClass(F),this._focusedIndex=t,t):(o.length?(o.hasClass(F)&&(h=!1),this._focusedIndex!==t&&(s=this._getElementByIndex(this._focusedIndex),s.removeClass(F).removeAttr("id"),h&&this.trigger(N)),this._focusedIndex=r,o.addClass(F).attr("id",u),c=this._getElementLocation(r),"top"===c?this.scrollTo(r*d):"bottom"===c?this.scrollTo(r*d+d-this.screenHeight):"outScreen"===c&&this.scrollTo(r*d),h&&this.trigger(H)):(this._focusedIndex=r,this.items().removeClass(F),this.scrollToIndex(r)),t);},focusIndex:function focusIndex(){return this._focusedIndex;},focusFirst:function focusFirst(){this.scrollTo(0),this.focus(0);},focusLast:function focusLast(){var e=this.dataSource.total();this.scrollTo(this.heightContainer.offsetHeight),this.focus(e);},focusPrev:function focusPrev(){var e,t=this._focusedIndex;return!isNaN(t)&&t>0?(t-=1,this.focus(t),e=this.focus(),e&&e.hasClass("k-loading-item")&&(t+=1,this.focus(t)),t):(t=this.dataSource.total()-1,this.focus(t),t);},focusNext:function focusNext(){var e,t=this._focusedIndex,n=this.dataSource.total()-1;return!isNaN(t)&&n>t?(t+=1,this.focus(t),e=this.focus(),e&&e.hasClass("k-loading-item")&&(t-=1,this.focus(t)),t):(t=0,this.focus(t),t);},_triggerChange:function _triggerChange(e,t){e=e||[],t=t||[],(e.length||t.length)&&this.trigger(P,{removed:e,added:t});},select:function select(e){var i,o,r,a,s,l=this,c="multiple"!==l.options.selectable,d=!!l._activeDeferred,u=this.isFiltered(),h=[];return e===t?l._selectedIndexes.slice():(i=l._getIndecies(e),o=c&&!u&&n(i)===n(this._selectedIndexes),h=l._deselectCurrentValues(i),h.length||!i.length||o?(l._triggerChange(h),l._valueDeferred&&l._valueDeferred.resolve(),t):(1===i.length&&-1===i[0]&&(i=[]),a=l._deselect(i),h=a.removed,i=a.indices,c&&(l._activeDeferred=null,d=!1,i.length&&(i=[n(i)])),s=function s(){var e=l._select(i);l.focus(i),l._triggerChange(h,e),l._valueDeferred&&l._valueDeferred.resolve();},r=l.prefetch(i),d||(r?r.done(s):s()),t));},bound:function bound(e){return e===t?this._listCreated:(this._listCreated=e,t);},mute:function mute(e){this._mute=!0,y(e(),this),this._mute=!1;},setDSFilter:function setDSFilter(t){this._lastDSFilter=e.extend({},t);},isFiltered:function isFiltered(){return this._lastDSFilter||this.setDSFilter(this.dataSource.filter()),!v.data.Query.compareFilters(this.dataSource.filter(),this._lastDSFilter);},skipUpdate:e.noop,_getElementByIndex:function _getElementByIndex(t){return this.items().filter(function(n,i){return t===parseInt(e(i).attr("data-offset-index"),10);});},_clean:function _clean(){this.result=t,this._lastScrollTop=t,this._skip=t,e(this.heightContainer).remove(),this.heightContainer=t,this.element.empty();},_height:function _height(){var e=!!this.dataSource.view().length,t=this.options.height,n=this.options.itemHeight,i=this.dataSource.total();return e?t/n>i&&(t=i*n):t=0,t;},_screenHeight:function _screenHeight(){var e=this._height(),t=this.content;t.height(e),this.screenHeight=e;},_getElementLocation:function _getElementLocation(e){var t,n=this.content.scrollTop(),i=this.screenHeight,o=this.options.itemHeight,r=e*o,a=r+o,s=n+i;return t=r===n-o||a>n&&n>r?"top":r===s||s>r&&a>s?"bottom":r>=n&&n+(i-o)>=r?"inScreen":"outScreen";},_templates:function _templates(){var e,t={template:this.options.template,placeholderTemplate:this.options.placeholderTemplate,groupTemplate:this.options.groupTemplate,fixedGroupTemplate:this.options.fixedGroupTemplate};for(e in t){"function"!=typeof t[e]&&(t[e]=v.template(t[e]));}this.templates=t;},_generateItems:function _generateItems(e,t){for(var n,i=[],o=this.options.itemHeight+"px";t-->0;){n=document.createElement("li"),n.tabIndex=-1,n.className=D+" "+A,n.setAttribute("role","option"),n.style.height=o,n.style.minHeight=o,e.appendChild(n),i.push(n);}return i;},_saveInitialRanges:function _saveInitialRanges(){var t,n=this.dataSource._ranges,i=e.Deferred();for(i.resolve(),this._rangesList={},t=0;n.length>t;t++){this._rangesList[n[t].start]={end:n[t].end,deferred:i};}},_createList:function _createList(){var t=this,n=t.content.get(0),i=t.options,o=t.dataSource;t.bound()&&t._clean(),t._saveInitialRanges(),t._screenHeight(),t._buildValueGetter(),t.itemCount=r(t.screenHeight,i.listScreens,i.itemHeight),t.itemCount>o.total()&&(t.itemCount=o.total()),t._templates(),t._items=t._generateItems(t.element[0],t.itemCount),t._setHeight(i.itemHeight*o.total()),t.options.type=(o.group()||[]).length?"group":"flat","flat"===t.options.type?t.header.hide():t.header.show(),t.getter=t._getter(function(){t._renderItems(!0);}),t._onScroll=function(e,n){var i=t._listItems(t.getter);return t._fixedHeader(e,i(e,n));},t._renderItems=t._whenChanged(d(n,t._onScroll),u(t._reorderList(t._items,e.proxy(m,t)))),t._renderItems(),t._calculateGroupPadding(t.screenHeight);},_setHeight:function _setHeight(e){var t,n,i=this.heightContainer;if(i?t=i.offsetHeight:i=this.heightContainer=a(this.content[0],E),e!==t)for(i.innerHTML="";e>0;){n=Math.min(e,25e4),a(i).style.height=n+"px",e-=n;}},_getter:function _getter(){var e=null,t=this.dataSource,n=t.skip(),i=this.options.type,o=this.itemCount,r={};return t.pageSize()<o&&this.mute(function(){t.pageSize(o);}),function(a,s){var l,c,d,u,h,f,p,m,g=this;if(t.inRange(s,o)){if(n!==s&&this.mute(function(){t.range(s,o),n=s;}),"group"===i){if(!r[s])for(c=r[s]=[],d=t.view(),u=0,h=d.length;h>u;u++){for(f=d[u],p=0,m=f.items.length;m>p;p++){c.push({item:f.items[p],group:f.value});}}l=r[s][a-s];}else l=t.view()[a-s];return l;}return e!==s&&(e=s,n=s,g._getterDeferred&&g._getterDeferred.reject(),g._getterDeferred=g.deferredRange(s),g._getterDeferred.then(function(){var e=g._indexConstraint(g.content[0].scrollTop);g._getterDeferred=null,e>=s&&s+o>=e&&(g._fetching=!0,t.range(s,o));})),null;};},_fixedHeader:function _fixedHeader(e,t){var n,i=this.currentVisibleGroup,o=this.options.itemHeight,r=Math.floor((e-t.top)/o),a=t.items[r];return a&&a.item&&(n=a.group,n!==i&&(this.header[0].innerHTML=n||"",this.currentVisibleGroup=n)),t;},_itemMapper:function _itemMapper(e,t,n){var i,r=this.options.type,a=this.options.itemHeight,s=this._focusedIndex,l=!1,c=!1,d=!1,u=null,h=!1,f=this._valueGetter;if("group"===r&&(e&&(d=0===t||this._currentGroup&&this._currentGroup!==e.group,this._currentGroup=e.group),u=e?e.group:null,e=e?e.item:null),!this.isFiltered()&&n.length&&e)for(i=0;n.length>i;i++){if(h=o(e)?n[i]===e:n[i]===f(e)){n.splice(i,1),l=!0;break;}}return s===t&&(c=!0),{item:e?e:null,group:u,newGroup:d,selected:l,current:c,index:t,top:t*a};},_range:function _range(e){var t,n,i,o=this.itemCount,r=this._values.slice(),a=[];for(this._view={},this._currentGroup=null,n=e,i=e+o;i>n;n++){t=this._itemMapper(this.getter(n,e),n,r),a.push(t),this._view[t.index]=t;}return this._dataView=a,a;},_getDataItemsCollection:function _getDataItemsCollection(e,t){var n=this._range(this._listIndex(e,t));return{index:n.length?n[0].index:0,top:n.length?n[0].top:0,items:n};},_listItems:function _listItems(){var t=this.screenHeight,n=this.options,i=c(n,t);return e.proxy(function(e,t){var n=this.result,o=this._lastScrollTop;return!t&&n&&i(n,e,o)||(n=this._getDataItemsCollection(e,o)),this._lastScrollTop=e,this.result=n,n;},this);},_whenChanged:function _whenChanged(e,t){var n;return function(i){var o=e(i);o!==n&&(n=o,t(o,i));};},_reorderList:function _reorderList(t,n){var i=this,o=t.length,r=-(1/0);return n=e.proxy(f(n,this.templates),this),function(e,a,s){var l,c,d=a-r;s||Math.abs(d)>=o?(l=t,c=e):(l=p(t,d),c=d>0?e.slice(-d):e.slice(0,-d)),n(l,c,i.bound()),r=a;};},_bufferSizes:function _bufferSizes(){var e=this.options;return l(this.screenHeight,e.listScreens,e.oppositeBuffer);},_indexConstraint:function _indexConstraint(e){var t=this.itemCount,n=this.options.itemHeight,i=this.dataSource.total();return Math.min(Math.max(i-t,0),Math.max(0,Math.floor(e/n)));},_listIndex:function _listIndex(e,t){var n,i=this._bufferSizes();return n=e-(e>t?i.down:i.up),this._indexConstraint(n);},_selectable:function _selectable(){this.options.selectable&&(this._selectProxy=e.proxy(this,"_clickHandler"),this.element.on(z+O,"."+D,this._selectProxy));},_getIndecies:function _getIndecies(e){var t,n,i=[];if("function"==typeof e)for(t=this.dataSource.flatView(),n=0;t.length>n;n++){if(e(t[n])){i.push(n);break;}}return"number"==typeof e&&i.push(e),e instanceof jQuery&&(e=parseInt(e.attr("data-offset-index"),10),isNaN(e)||i.push(e)),e instanceof Array&&(i=e),i;},_deselect:function _deselect(n){var i,o,r,a,s,l=[],c=this._selectedIndexes,d=0,u=this.options.selectable,h=0;if(n=n.slice(),u!==!0&&n.length){if("multiple"===u)for(s=0;n.length>s;s++){if(d=e.inArray(n[s],c),i=c[d],i!==t){if(r=this._getElementByIndex(i),!r.hasClass("k-state-selected"))continue;r.removeClass(I),this._values.splice(d,1),this._selectedIndexes.splice(d,1),o=this._selectedDataItems.splice(d,1)[0],n.splice(s,1),l.push({index:i,position:d+h,dataItem:o}),h++,s--;}}}else{for(a=0;c.length>a;a++){c[a]!==t&&(this._getElementByIndex(c[a]).removeClass(I),l.push({index:c[a],position:a,dataItem:this._selectedDataItems[a]}));}this._values=[],this._selectedDataItems=[],this._selectedIndexes=[];}return{indices:n,removed:l};},_deselectCurrentValues:function _deselectCurrentValues(t){var n,i,o,r,a=this.element[0].children,s=this._values,l=[],c=0;if("multiple"!==this.options.selectable||!this.isFiltered())return[];for(;t.length>c;c++){for(o=-1,i=t[c],n=this._valueGetter(this._view[i].item),r=0;s.length>r;r++){if(n==s[r]){o=r;break;}}o>-1&&(l.push(this.removeAt(o)),e(a[i]).removeClass("k-state-selected"));}return l;},_select:function _select(t){var n,i,r=this,a="multiple"!==this.options.selectable,s=this.dataSource,l=this.itemCount,c=this._valueGetter,d=[];return a&&(r._selectedIndexes=[],r._selectedDataItems=[],r._values=[]),i=s.skip(),e.each(t,function(e,t){var a=l>t?1:Math.floor(t/l)+1,u=(a-1)*l;r.mute(function(){s.range(u,l),n=r._findDataItem([t-u]),r._selectedIndexes.push(t),r._selectedDataItems.push(n),r._values.push(o(n)?n:c(n)),d.push({index:t,dataItem:n}),r._getElementByIndex(t).addClass(I),s.range(i,l);});}),d;},_clickHandler:function _clickHandler(t){var n=e(t.currentTarget);!t.isDefaultPrevented()&&n.attr("data-uid")&&this.trigger(z,{item:n});},_buildValueGetter:function _buildValueGetter(){this._valueGetter=v.getter(this.options.dataValueField);},_calculateGroupPadding:function _calculateGroupPadding(e){var t=this.items().first(),n=this.header,i=0;n[0]&&"none"!==n[0].style.display&&("auto"!==e&&(i=v.support.scrollbar()),i+=parseFloat(t.css("border-right-width"),10)+parseFloat(t.children(".k-group").css("right"),10),n.css("padding-right",i));}});v.ui.VirtualList=V,v.ui.plugin(V);}(window.kendo.jQuery),window.kendo;},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("kendo.scheduler.view.min",["kendo.core.min"],e);}(function(){return function(e){function t(e,t){function n(e,o){var r,a;if(o=o[t])for(r=i[e]=i[e]||[],a=0;o.length>a;a++){r.push(o[a]),n(e+1,o[a]);}}var i=[];return n(0,e),i;}function n(){return R.support.cssBorderSpacing?"":'cellspacing="0"';}function i(t,i){return t.length?"<table "+n()+' class="'+e.trim("k-scheduler-table "+(i||""))+'"><tr>'+t.join("</tr><tr>")+"</tr></table>":"";}function o(e,t){return e.length?"<div style='position:relative'>"+i(e,t)+"</div>":"";}function r(t,n,o){var r,a=[];if(o>0)for(r=0;t>r;r++){a.push("<th>&nbsp;</th>");}return n&&a.push('<th class="k-scheduler-times-all-day">'+n.text+"</th>"),1>o?e():e('<div class="k-scheduler-times">'+i(a)+"</div>");}function a(t,n,r){var a,s,l,c,d,u,h,f,p,m,g=[];for(s=0;t.length>s;s++){for(l=t[s],c=[],d=n/l.length,a=0;l.length>a;a++){u=l[a],c.push('<th colspan="'+(u.colspan||d)+'" class="'+(u.className||"")+'">'+u.text+"</th>");}g.push(c.join(""));}if(h=[],r){for(f=t[t.length-1],p=[],m=r.cellContent,a=0;f.length>a;a++){p.push('<td class="'+(f[a].className||"")+'">'+(m?m(a):"&nbsp;")+"</th>");}h.push(p.join(""));}return e('<div class="k-scheduler-header k-state-default"><div class="k-scheduler-header-wrap">'+i(g)+o(h,"k-scheduler-header-all-day")+"</div></div>");}function s(t,n){var o,r,a,s,l,c=Array(n).join().split(","),d=[];for(r=0;t.length>r;r++){for(a=t[r],s=n/a.length,o=0;a.length>o;o++){l=a[o].className||"",a[o].allDay&&(l="k-scheduler-times-all-day"),c[s*o]+='<th class="'+l+'" rowspan="'+s+'">'+a[o].text+"</th>";}}for(o=0;n>o;o++){d.push(c[o]);}return 1>n?e():e('<div class="k-scheduler-times">'+i(d)+"</div>");}function l(){return e('<div class="k-scheduler-content"><table '+n()+' class="k-scheduler-table"/></div>');}function c(){return D=D?D:R.support.scrollbar();}function d(e,t,n){var i,o,r,a,s;for(i=e.length-1;i>=0;i--){o=u(e[i]),r=o.start,s=o.end,a=t>=r&&s>=t,(a||r>=t&&n>=s||r>=t&&n>=r)&&(t>r&&(t=r),s>n&&(n=s));}return h(e,t,n);}function u(e){return{start:e.start,end:e.end};}function h(e,t,n){var i,o,r=[];for(i=0;e.length>i;i++){o=u(e[i]),(t>o.start&&o.end>t||o.start>=t&&n>=o.end)&&r.push(e[i]);}return r;}function f(e){return m(e);}function p(e){return m(e);}function m(e){var t,n,i,o,r,a,s,l=[];for(t=0;e.length>t;t++){for(n=e[t],i=u(n),o=null,r=0,a=l.length;a>r;r++){if(s=i.start>l[r].end,l[r].start>i.start||s){o=l[r],i.end>o.end&&(o.end=i.end);break;}}o||(o={start:i.start,end:i.end,events:[]},l.push(o)),o.events.push(n);}return l;}function g(e,t,n,i){var o,r,a,s,l=t[0];if(l){for(o=[],r=l.dataSource.view(),a=0;r.length>a;a++){s={text:i({text:R.htmlEncode(R.getter(l.dataTextField)(r[a])),color:R.getter(l.dataColorField)(r[a]),field:l.field,title:l.title,name:l.name,value:R.getter(l.dataValueField)(r[a])}),className:"k-slot-cell"},s[e]=g(e,t.slice(1),n,i),o.push(s);}return o;}return n;}function v(t){return function(n){if(e.isArray(n)||n instanceof R.data.ObservableArray){for(var i=0;n.length>i;i++){if(n[i]==t)return!0;}return!1;}return n==t;};}function _(e){e.className=e.className.replace(E,"")+" k-state-selected";}var b,w,y,k,x,C,S,T,D,_A,E,R=window.kendo,I=R.ui,F=I.Widget,M=R.keys,P=".kendoSchedulerView",z=Math,B='<div class="k-marquee k-scheduler-marquee"><div class="k-marquee-color"></div><div class="k-marquee-text"><div class="k-label-top"></div><div class="k-label-bottom"></div></div></div>';R.ui.scheduler={},b=R.Class.extend({init:function init(e,t){this._index=e,this._timeSlotCollections=[],this._daySlotCollections=[],this._isRtl=t;},addTimeSlotCollection:function addTimeSlotCollection(e,t){return this._addCollection(e,t,this._timeSlotCollections);},addDaySlotCollection:function addDaySlotCollection(e,t){return this._addCollection(e,t,this._daySlotCollections);},_addCollection:function _addCollection(e,t,n){var i=new x(e,t,this._index,n.length);return n.push(i),i;},timeSlotCollectionCount:function timeSlotCollectionCount(){return this._timeSlotCollections.length;},daySlotCollectionCount:function daySlotCollectionCount(){return this._daySlotCollections.length;},daySlotByPosition:function daySlotByPosition(e,t){return this._slotByPosition(e,t,this._daySlotCollections);},timeSlotByPosition:function timeSlotByPosition(e,t){return this._slotByPosition(e,t,this._timeSlotCollections);},_slotByPosition:function _slotByPosition(e,t,n){var i,o,r,a,s,l,c,d,u;for(i=0;n.length>i;i++){for(o=n[i],r=0;r<o.count();r++){if(a=o.at(r),s=a.offsetWidth,l=a.offsetHeight,c=a.offsetLeft+s,d=a.offsetTop+l,u=o.at(r+1),u&&(u.offsetLeft!=a.offsetLeft?c=this._isRtl?a.offsetLeft+(a.offsetLeft-u.offsetLeft):u.offsetLeft:d=u.offsetTop),e>=a.offsetLeft&&c>e&&t>=a.offsetTop&&d>t)return a;}}},refresh:function refresh(){var e;for(e=0;this._daySlotCollections.length>e;e++){this._daySlotCollections[e].refresh();}for(e=0;this._timeSlotCollections.length>e;e++){this._timeSlotCollections[e].refresh();}},timeSlotRanges:function timeSlotRanges(e,t){var n,i=this._timeSlotCollections,o=this._startSlot(e,i);return!o.inRange&&e>=o.slot.end&&(o=null),n=o,t>e&&(n=this._endSlot(t,i)),n&&!n.inRange&&n.slot.start>=t&&(n=null),null===o&&null===n?[]:(null===o&&(o={inRange:!0,slot:i[n.slot.collectionIndex].first()}),null===n&&(n={inRange:!0,slot:i[o.slot.collectionIndex].last()}),this._continuousRange(y,i,o,n));},daySlotRanges:function daySlotRanges(e,t,n){var i,o=this._daySlotCollections,r=this._startSlot(e,o,n);if(!r.inRange&&e>=r.slot.end&&(r=null),i=r,t>e&&(i=this._endSlot(t,o,n)),i&&!i.inRange&&i.slot.start>=t&&(i=null),null===r&&null===i)return[];if(null===r)do{e+=R.date.MS_PER_DAY,r=this._startSlot(e,o,n);}while(!r.inRange&&e>=r.slot.end);if(null===i)do{t-=R.date.MS_PER_DAY,i=this._endSlot(t,o,n);}while(!i.inRange&&i.slot.start>=t);return this._continuousRange(k,o,r,i);},_continuousRange:function _continuousRange(e,t,n,i){var o,r,a,s,l,c,d=n.slot,u=i.slot,h=d.collectionIndex,f=u.collectionIndex,p=[];for(o=h;f>=o;o++){r=t[o],a=r.first(),s=r.last(),l=!1,c=!1,o==h&&(c=!n.inRange),o==f&&(l=!i.inRange),d.start>a.start&&(a=d),s.start>u.start&&(s=u),f>h&&(o==h?l=!0:o==f?c=!0:l=c=!0),p.push(new e({start:a,end:s,collection:r,head:l,tail:c}));}return p;},slotRanges:function slotRanges(e,t){var n=e._startTime||R.date.toUtcTime(e.start),i=e._endTime||R.date.toUtcTime(e.end);return void 0===t&&(t=e.isMultiDay()),t?this.daySlotRanges(n,i,e.isAllDay):this.timeSlotRanges(n,i);},ranges:function ranges(e,t,n,i){return"number"!=typeof e&&(e=R.date.toUtcTime(e)),"number"!=typeof t&&(t=R.date.toUtcTime(t)),n?this.daySlotRanges(e,t,i):this.timeSlotRanges(e,t);},_startCollection:function _startCollection(e,t){var n,i;for(n=0;t.length>n;n++){if(i=t[n],i.startInRange(e))return i;}return null;},_endCollection:function _endCollection(e,t,n){var i,o;for(i=0;t.length>i;i++){if(o=t[i],o.endInRange(e,n))return o;}return null;},_getCollections:function _getCollections(e){return e?this._daySlotCollections:this._timeSlotCollections;},continuousSlot:function continuousSlot(e,t){var n=t?-1:1,i=this._getCollections(e.isDaySlot),o=i[e.collectionIndex+n];return o?o[t?"last":"first"]():void 0;},firstSlot:function firstSlot(){var e=this._getCollections(this.daySlotCollectionCount());return e[0].first();},lastSlot:function lastSlot(){var e=this._getCollections(this.daySlotCollectionCount());return e[e.length-1].last();},upSlot:function upSlot(e,t){var n=this,i=function i(e,_i4,o){var r=0===o;return!t&&!e&&r&&n.daySlotCollectionCount()?n._daySlotCollections[0].at(_i4):void 0;};return this.timeSlotCollectionCount()||(t=!0),this._verticalSlot(e,-1,i);},downSlot:function downSlot(e,t){var n=this,i=function i(e,_i5,o){return!t&&e&&n.timeSlotCollectionCount()?n._timeSlotCollections[o].at(0):void 0;};return this.timeSlotCollectionCount()||(t=!0),this._verticalSlot(e,1,i);},leftSlot:function leftSlot(e){return this._horizontalSlot(e,-1);},rightSlot:function rightSlot(e){return this._horizontalSlot(e,1);},_horizontalSlot:function _horizontalSlot(e,t){var n,i=e.index,o=e.isDaySlot,r=e.collectionIndex,a=this._getCollections(o);return o?i+=t:r+=t,n=a[r],n?n.at(i):void 0;},_verticalSlot:function _verticalSlot(e,t,n){var i,o=e.index,r=e.isDaySlot,a=e.collectionIndex,s=this._getCollections(r);return(e=n(r,a,o))?e:(r?a+=t:o+=t,i=s[a],i?i.at(o):void 0);},_collection:function _collection(e,t){var n=t?this._daySlotCollections:this._timeSlotCollections;return n[e];},_startSlot:function _startSlot(e,t,n){var i,o=this._startCollection(e,t),r=!0;return o||(o=t[0],r=!1),i=o.slotByStartDate(e,n),i||(i=o.first(),r=!1),{slot:i,inRange:r};},_endSlot:function _endSlot(e,t,n){var i,o=this._endCollection(e,t,n),r=!0;return o||(o=t[t.length-1],r=!1),i=o.slotByEndDate(e,n),i||(i=o.last(),r=!1),{slot:i,inRange:r};},getSlotCollection:function getSlotCollection(e,t){return this[t?"getDaySlotCollection":"getTimeSlotCollection"](e);},getTimeSlotCollection:function getTimeSlotCollection(e){return this._timeSlotCollections[e];},getDaySlotCollection:function getDaySlotCollection(e){return this._daySlotCollections[e];}}),w=R.Class.extend({init:function init(t){e.extend(this,t);},innerHeight:function innerHeight(){var e,t=this.collection,n=this.start.index,i=this.end.index,o=0;for(e=n;i>=e;e++){o+=t.at(e).offsetHeight;}return o;},events:function events(){return this.collection.events();},addEvent:function addEvent(e){this.events().push(e);},startSlot:function startSlot(){return this.start.offsetLeft>this.end.offsetLeft?this.end:this.start;},endSlot:function endSlot(){return this.start.offsetLeft>this.end.offsetLeft?this.start:this.end;}}),y=w.extend({innerHeight:function innerHeight(){var e,t=this.collection,n=this.start.index,i=this.end.index,o=0;for(e=n;i>=e;e++){o+=t.at(e).offsetHeight;}return o;},outerRect:function outerRect(e,t,n){return this._rect("offset",e,t,n);},_rect:function _rect(e,t,n,i){var o,r,a,s,l,c,d,u,h=this.start,f=this.end,p=R.support.isRtl(h.element);return"number"!=typeof t&&(t=R.date.toUtcTime(t)),"number"!=typeof n&&(n=R.date.toUtcTime(n)),i?(o=h.offsetTop,r=f.offsetTop+f[e+"Height"],p?(a=f.offsetLeft,s=h.offsetLeft+h[e+"Width"]):(a=h.offsetLeft,s=f.offsetLeft+f[e+"Width"])):(l=t-h.start,0>l&&(l=0),c=h.end-h.start,o=h.offsetTop+h[e+"Height"]*l/c,d=f.end-n,0>d&&(d=0),u=f.end-f.start,r=f.offsetTop+f[e+"Height"]-f[e+"Height"]*d/u,p?(a=Math.round(f.offsetLeft+f[e+"Width"]*d/u),s=Math.round(h.offsetLeft+h[e+"Width"]-h[e+"Width"]*l/c)):(a=Math.round(h.offsetLeft+h[e+"Width"]*l/c),s=Math.round(f.offsetLeft+f[e+"Width"]-f[e+"Width"]*d/u))),{top:o,bottom:r,left:0===a?a:a+1,right:s};},innerRect:function innerRect(e,t,n){return this._rect("client",e,t,n);}}),k=w.extend({innerWidth:function innerWidth(){var e,t=this.collection,n=this.start.index,i=this.end.index,o=0,r=n!==i?"offsetWidth":"clientWidth";for(e=n;i>=e;e++){o+=t.at(e)[r];}return o;}}),x=R.Class.extend({init:function init(e,t,n,i){this._slots=[],this._events=[],this._start=R.date.toUtcTime(e),this._end=R.date.toUtcTime(t),this._groupIndex=n,this._collectionIndex=i;},refresh:function refresh(){for(var e=0;this._slots.length>e;e++){this._slots[e].refresh();}},startInRange:function startInRange(e){return e>=this._start&&this._end>e;},endInRange:function endInRange(e,t){var n=t?this._end>e:this._end>=e;return e>=this._start&&n;},slotByStartDate:function slotByStartDate(e){var t,n,i=e;for("number"!=typeof i&&(i=R.date.toUtcTime(e)),t=0;this._slots.length>t;t++){if(n=this._slots[t],n.startInRange(i))return n;}return null;},slotByEndDate:function slotByEndDate(e,t){var n,i,o=e;if("number"!=typeof o&&(o=R.date.toUtcTime(e)),t)return this.slotByStartDate(e,!1);for(n=0;this._slots.length>n;n++){if(i=this._slots[n],i.endInRange(o))return i;}return null;},count:function count(){return this._slots.length;},events:function events(){return this._events;},addTimeSlot:function addTimeSlot(e,t,n,i){var o=new S(e,t,n,this._groupIndex,this._collectionIndex,this._slots.length,i);this._slots.push(o);},addDaySlot:function addDaySlot(e,t,n,i){var o=new T(e,t,n,this._groupIndex,this._collectionIndex,this._slots.length,i);this._slots.push(o);},first:function first(){return this._slots[0];},last:function last(){return this._slots[this._slots.length-1];},at:function at(e){return this._slots[e];}}),C=R.Class.extend({init:function init(e,t,n,i,o,r){this.element=e,this.clientWidth=e.clientWidth,this.clientHeight=e.clientHeight,this.offsetWidth=e.offsetWidth,this.offsetHeight=e.offsetHeight,this.offsetTop=e.offsetTop,this.offsetLeft=e.offsetLeft,this.start=t,this.end=n,this.element=e,this.groupIndex=i,this.collectionIndex=o,this.index=r,this.isDaySlot=!1;},refresh:function refresh(){var e=this.element;this.clientWidth=e.clientWidth,this.clientHeight=e.clientHeight,this.offsetWidth=e.offsetWidth,this.offsetHeight=e.offsetHeight,this.offsetTop=e.offsetTop,this.offsetLeft=e.offsetLeft;},startDate:function startDate(){return R.timezone.toLocalDate(this.start);},endDate:function endDate(){return R.timezone.toLocalDate(this.end);},startInRange:function startInRange(e){return e>=this.start&&this.end>e;},endInRange:function endInRange(e){return e>this.start&&this.end>=e;},startOffset:function startOffset(){return this.start;},endOffset:function endOffset(){return this.end;}}),S=C.extend({init:function init(e,t,n,i,o,r,a){C.fn.init.apply(this,arguments),this.isHorizontal=!!a;},offsetX:function offsetX(e,t){return e?this.offsetLeft+t:this.offsetLeft+t;},startInRange:function startInRange(e){return e>=this.start&&this.end>e;},endInRange:function endInRange(e){return e>this.start&&this.end>=e;},startOffset:function startOffset(t,n,i){var o,r,a,s,l;if(i)return this.start;if(o=e(this.element).offset(),r=this.end-this.start,this.isHorizontal){if(l=R.support.isRtl(this.element),a=t-o.left,s=Math.floor(r*(a/this.offsetWidth)),l)return this.start+r-s;}else a=n-o.top,s=Math.floor(r*(a/this.offsetHeight));return this.start+s;},endOffset:function endOffset(t,n,i){var o,r,a,s,l;if(i)return this.end;if(o=e(this.element).offset(),r=this.end-this.start,this.isHorizontal){if(l=R.support.isRtl(this.element),a=t-o.left,s=Math.floor(r*(a/this.offsetWidth)),l)return this.start+r-s;}else a=n-o.top,s=Math.floor(r*(a/this.offsetHeight));return this.start+s;}}),T=C.extend({init:function init(e,t,n,i,o,r,a){C.fn.init.apply(this,arguments),this.eventCount=a,this.isDaySlot=!0,this.element.children.length?(this.firstChildHeight=this.element.children[0].offsetHeight+3,this.firstChildTop=this.element.children[0].offsetTop):(this.firstChildHeight=3,this.firstChildTop=0);},startDate:function startDate(){var e=new Date(this.start);return R.timezone.apply(e,"Etc/UTC");},endDate:function endDate(){var e=new Date(this.end);return R.timezone.apply(e,"Etc/UTC");},startInRange:function startInRange(e){return e>=this.start&&this.end>e;},endInRange:function endInRange(e){return e>this.start&&this.end>=e;}}),R.ui.SchedulerView=F.extend({init:function init(t,n){F.fn.init.call(this,t,n),this._normalizeOptions(),this._scrollbar=c(),this._isRtl=R.support.isRtl(t),this._resizeHint=e(),this._moveHint=e(),this._cellId=R.guid(),this._resourcesForGroups(),this._selectedSlots=[];},_normalizeOptions:function _normalizeOptions(){var e=this.options;e.startTime&&e.startTime.setMilliseconds(0),e.endTime&&e.endTime.setMilliseconds(0),e.workDayStart&&e.workDayStart.setMilliseconds(0),e.workDayEnd&&e.workDayEnd.setMilliseconds(0);},_isMobile:function _isMobile(){var e=this.options;return e.mobile===!0&&R.support.mobileOS||"phone"===e.mobile||"tablet"===e.mobile;},_isMobilePhoneView:function _isMobilePhoneView(){var e=this.options;return e.mobile===!0&&R.support.mobileOS&&!R.support.mobileOS.tablet||"phone"===e.mobile;},_addResourceView:function _addResourceView(){var e=new b(this.groups.length,this._isRtl);return this.groups.push(e),e;},dateForTitle:function dateForTitle(){return R.format(this.options.selectedDateFormat,this.startDate(),this.endDate());},shortDateForTitle:function shortDateForTitle(){return R.format(this.options.selectedShortDateFormat,this.startDate(),this.endDate());},_changeGroup:function _changeGroup(e,t){var n=t?"prevGroupSlot":"nextGroupSlot",i=this[n](e.start,e.groupIndex,e.isAllDay);return i&&(e.groupIndex+=t?-1:1),i;},_changeGroupContinuously:function _changeGroupContinuously(){return null;},_changeViewPeriod:function _changeViewPeriod(){return!1;},_horizontalSlots:function _horizontalSlots(e,t,n,i){var o,r,a=i?"leftSlot":"rightSlot",s=t[0].start,l=t[t.length-1].end,c=this.groups[e.groupIndex];return n||(o=this._normalizeHorizontalSelection(e,t,i),o&&(s=l=o)),s=c[a](s),l=c[a](l),n||this._isVerticallyGrouped()||s&&l||(s=l=this._changeGroup(e,i)),s&&l||(r=this._continuousSlot(e,t,i),r=this._changeGroupContinuously(e,r,n,i),r&&(s=l=r)),{startSlot:s,endSlot:l};},_verticalSlots:function _verticalSlots(e,t,n,i){var o,r,a=t[0].start,s=t[t.length-1].end,l=this.groups[e.groupIndex];return n||(o=this._normalizeVerticalSelection(e,t,i),o&&(a=s=o)),r=i?"upSlot":"downSlot",a=l[r](a,n),s=l[r](s,n),n||!this._isVerticallyGrouped()||a&&s||(a=s=this._changeGroup(e,i)),{startSlot:a,endSlot:s};},_normalizeHorizontalSelection:function _normalizeHorizontalSelection(){return null;},_normalizeVerticalSelection:function _normalizeVerticalSelection(e,t,n){var i;return i=n?t[0].start:t[t.length-1].end;},_continuousSlot:function _continuousSlot(){return null;},constrainSelection:function constrainSelection(e){var t,n=this.groups[0];this.inRange(e)?n.daySlotCollectionCount()?n.timeSlotCollectionCount()||(e.isAllDay=!0):e.isAllDay=!1:(t=n.firstSlot(),e.isAllDay=t.isDaySlot,e.start=t.startDate(),e.end=t.endDate()),this.groups[e.groupIndex]||(e.groupIndex=0);},move:function move(e,t,n){var i,o,r,a,s,l,c=!1,d=this.groups[e.groupIndex];if(d.timeSlotCollectionCount()||(e.isAllDay=!0),i=d.ranges(e.start,e.end,e.isAllDay,!1),t===M.DOWN||t===M.UP){if(c=!0,a=t===M.UP,this._updateDirection(e,i,n,a,!0),s=this._verticalSlots(e,i,n,a),!s.startSlot&&!n&&this._changeViewPeriod(e,a,!0))return c;}else if((t===M.LEFT||t===M.RIGHT)&&(c=!0,a=t===M.LEFT,this._updateDirection(e,i,n,a,!1),s=this._horizontalSlots(e,i,n,a),!s.startSlot&&!n&&this._changeViewPeriod(e,a,!1)))return c;return c&&(o=s.startSlot,r=s.endSlot,n?(l=e.backward,l&&o?e.start=o.startDate():!l&&r&&(e.end=r.endDate())):o&&r&&(e.isAllDay=o.isDaySlot,e.start=o.startDate(),e.end=r.endDate()),e.events=[]),c;},moveToEventInGroup:function moveToEventInGroup(t,n,i,o){for(var r,a,s=t._continuousEvents||[],l=o?-1:1,c=s.length,d=o?c-1:0;c>d&&d>-1;){if(a=s[d],(!o&&a.start.startDate()>=n.startDate()||o&&a.start.startDate()<=n.startDate())&&(i.length&&(a=s[d+l]),a&&-1===e.inArray(a.uid,i))){r=!!a;break;}d+=l;}return a;},moveToEvent:function moveToEvent(e,t){for(var n,i=e.groupIndex,o=this.groups[i],r=o.ranges(e.start,e.end,e.isAllDay,!1)[0].start,a=this.groups.length,s=t?-1:1,l=e.events;a>i&&i>-1&&(n=this.moveToEventInGroup(o,r,l,t),i+=s,o=this.groups[i],o&&!n);){l=[],r=t?o.lastSlot():o.firstSlot(!0);}return n&&(e.events=[n.uid],e.start=n.start.startDate(),e.end=n.end.endDate(),e.isAllDay=n.start.isDaySlot,e.groupIndex=n.start.groupIndex),!!n;},current:function current(e){return void 0===e?this._current:(this._current=e,void(this.content.has(e)&&this._scrollTo(e,this.content[0])));},select:function select(e){this.clearSelection(),this._selectEvents(e)||this._selectSlots(e);},_selectSlots:function _selectSlots(e){var t,n,i,o,r,a,s,l=e.isAllDay,c=this.groups[e.groupIndex];for(c.timeSlotCollectionCount()||(l=!0),this._selectedSlots=[],t=c.ranges(e.start,e.end,l,!1),o=0;t.length>o;o++){for(r=t[o],a=r.collection,s=r.start.index;r.end.index>=s;s++){i=a.at(s),n=i.element,n.setAttribute("aria-selected",!0),_(n),this._selectedSlots.push({start:i.startDate(),end:i.endDate(),element:n});}}e.backward&&(n=t[0].start.element),this.current(n);},_selectEvents:function _selectEvents(t){var n,i,o=!1,r=t.events,a=this.groups[t.groupIndex]._continuousEvents||[],s=a.length;if(!r[0]||!a[0])return o;for(i=e(),t.events=[],n=0;s>n;n++){e.inArray(a[n].uid,r)>-1&&(i=i.add(a[n].element),t.events.push(a[n].uid));}return i[0]&&(i.addClass("k-state-selected").attr("aria-selected",!0),this.current(i.last()[0]),this._selectedSlots=[],o=!0),o;},inRange:function inRange(e){var t=this.startDate(),n=R.date.addDays(this.endDate(),1),i=e.start,o=e.end;return i>=t&&n>i&&o>t&&n>=o;},_resourceValue:function _resourceValue(e,t){return e.valuePrimitive&&(t=R.getter(e.dataValueField)(t)),t;},_resourceBySlot:function _resourceBySlot(e){var t,n,i,o,r,a=this.groupedResources,s={};if(a.length)for(t=e.groupIndex,n=a.length-1;n>=0;n--){i=a[n],o=this._resourceValue(i,i.dataSource.view()[t%i.dataSource.total()]),i.multiple&&(o=[o]),r=R.setter(i.field),r(s,o),t=Math.floor(t/i.dataSource.total());}return s;},_createResizeHint:function _createResizeHint(t,n,i,o){return e(B).css({left:t,top:n,width:i,height:o});},_removeResizeHint:function _removeResizeHint(){this._resizeHint.remove(),this._resizeHint=e();},_removeMoveHint:function _removeMoveHint(){this._moveHint.remove(),this._moveHint=e();},_scrollTo:function _scrollTo(e,t){var n=e.offsetTop,i=e.offsetHeight,o=t.scrollTop,r=t.clientHeight,a=n+i,s=0;s=o>n?n:a>o+r?r>=i?a-r:n:o,t.scrollTop=s;},_shouldInverseResourceColor:function _shouldInverseResourceColor(e){var t=new _A(e.color).isDark(),n=this.element.css("color"),i=new _A(n).isDark();return t==i;},_eventTmpl:function _eventTmpl(t,n){var i,o=this.options,r=e.extend({},R.Template,o.templateSettings),a=r.paramName,s="",l=typeof t==="undefined"?"undefined":_typeof(t),c={storage:{},count:0};return"function"===l?(c.storage["tmpl"+c.count]=t,s+="#=this.tmpl"+c.count+"("+a+")#",c.count++):"string"===l&&(s+=t),i=R.template(R.format(n,s),r),c.count>0&&(i=e.proxy(i,c.storage)),i;},eventResources:function eventResources(e){var t,n,i,o,r,a,s,l,c,d,u=[],h=this.options;if(!h.resources)return u;for(t=0;h.resources.length>t;t++){if(n=h.resources[t],i=n.field,o=R.getter(i)(e),null!=o)for(n.multiple||(o=[o]),r=n.dataSource.view(),a=0;o.length>a;a++){for(s=null,l=o[a],n.valuePrimitive||(l=R.getter(n.dataValueField)(l)),c=0;r.length>c;c++){if(r[c].get(n.dataValueField)==l){s=r[c];break;}}null!==s&&(d=R.getter(n.dataColorField)(s),u.push({field:n.field,title:n.title,name:n.name,text:R.getter(n.dataTextField)(s),value:l,color:d}));}}return u;},createLayout:function createLayout(i){var o,r,a,s,l,c=-1;for(i.rows||(i.rows=[]),o=0;i.rows.length>o;o++){if(i.rows[o].allDay){c=o;break;}}r=i.rows[c],c>=0&&i.rows.splice(c,1),a=this.columnLevels=t(i,"columns"),s=this.rowLevels=t(i,"rows"),this.table=e("<table "+n()+' class="k-scheduler-layout k-scheduler-'+this.name+'view"/>'),l=s[s.length-1].length,this.table.append(this._topSection(a,r,l)),this.table.append(this._bottomSection(a,s,l)),this.element.append(this.table),this._scroller();},refreshLayout:function refreshLayout(){var t,n,i,o,r,a,s=this,l=s.element.find(">.k-scheduler-toolbar"),c=s.element.innerHeight(),d=this._scrollbar,u=0,h=this._isRtl?"left":"right";for(t=0;l.length>t;t++){c-=l.eq(t).outerHeight();}s.datesHeader&&(u=s.datesHeader.outerHeight()),s.timesHeader&&s.timesHeader.outerHeight()>u&&(u=s.timesHeader.outerHeight()),s.datesHeader&&s.timesHeader&&(n=s.datesHeader.find("table:first tr"),s.timesHeader.find("tr").height(function(t){e(this).height(n.eq(t).height());})),u&&(c-=u),s.footer&&(c-=s.footer.outerHeight()),i=function i(e){var t,n;return e[0].style.height?!0:(t=e.height(),e.height("auto"),n=e.height(),t!=n?(e.height(""),!0):(e.height(""),!1));},o=s.content[0],r=R.support.kineticScrollNeeded?0:d,i(s.element)&&(s.content.height(c>2*d?c:2*d+1),s.times.height(o.clientHeight),a=s.times.find("table"),a.length&&a.height(s.content.find("table")[0].clientHeight)),o.offsetWidth-o.clientWidth>0?(s.table.addClass("k-scrollbar-v"),s.datesHeader.css("padding-"+h,r-parseInt(s.datesHeader.children().css("border-"+h+"-width"),10))):s.datesHeader.css("padding-"+h,""),o.offsetHeight-o.clientHeight>0||o.clientHeight>s.content.children(".k-scheduler-table").height()?s.table.addClass("k-scrollbar-h"):s.table.removeClass("k-scrollbar-h");},_topSection:function _topSection(t,n,i){this.timesHeader=r(t.length,n,i);var o=t[t.length-1].length;return this.datesHeader=a(t,o,n),e("<tr>").append(this.timesHeader.add(this.datesHeader).wrap("<td>").parent());},_bottomSection:function _bottomSection(t,n,i){return this.times=s(n,i),this.content=l(t[t.length-1],n[n.length-1]),e("<tr>").append(this.times.add(this.content).wrap("<td>").parent());},_scroller:function _scroller(){var t,n=this;this.content.bind("scroll"+P,function(){n.datesHeader.find(">.k-scheduler-header-wrap").scrollLeft(this.scrollLeft),n.times.scrollTop(this.scrollTop);}),t=R.touchScroller(this.content,{avoidScrolling:function avoidScrolling(t){return e(t.event.target).closest(".k-event.k-event-active").length>0;}}),t&&t.movable&&(this._touchScroller=t,this.content=t.scrollElement,t.movable.bind("change",function(e){n.datesHeader.find(">.k-scheduler-header-wrap").scrollLeft(-e.sender.x),n.times.scrollTop(-e.sender.y);}));},_resourcesForGroups:function _resourcesForGroups(){var e,t,n,i,o=[],r=this.options.group,a=this.options.resources;if(r=r&&r.resources?r.resources:[],a&&r.length)for(e=0,t=a.length;t>e;e++){for(n=0,i=r.length;i>n;n++){a[e].name===r[n]&&o.push(a[e]);}}this.groupedResources=o;},_createColumnsLayout:function _createColumnsLayout(e,t,n){return g("columns",e,t,n);},_groupOrientation:function _groupOrientation(){var e=this.options.group;return e&&e.resources?e.orientation:"horizontal";},_isVerticallyGrouped:function _isVerticallyGrouped(){return this.groupedResources.length&&"vertical"===this._groupOrientation();},_createRowsLayout:function _createRowsLayout(e,t,n){return g("rows",e,t,n);},selectionByElement:function selectionByElement(){return null;},clearSelection:function clearSelection(){this.content.find(".k-state-selected").removeAttr("id").attr("aria-selected",!1).removeClass("k-state-selected");},destroy:function destroy(){var e=this;F.fn.destroy.call(this),e.table&&(R.destroy(e.table),e.table.remove()),e.groups=null,e.table=null,e.content=null,e.times=null,e.datesHeader=null,e.timesHeader=null,e.footer=null,e._resizeHint=null,e._moveHint=null;},calendarInfo:function calendarInfo(){return R.getCulture().calendars.standard;},prevGroupSlot:function prevGroupSlot(e,t,n){var i,o=this.groups[t],r=o.ranges(e,e,n,!1)[0].start;if(!(0>=t))return this._isVerticallyGrouped()?o.timeSlotCollectionCount()?(i=o._collection(n?r.index:r.collectionIndex,!1),i.last()):(i=o._collection(o.daySlotCollectionCount()-1,!0),i.at(r.index)):o.timeSlotCollectionCount()?(i=o._collection(n?0:o.timeSlotCollectionCount()-1,n),n?i.last():i.at(r.index)):(i=o._collection(r.collectionIndex,!0),i.last());},nextGroupSlot:function nextGroupSlot(e,t,n){var i,o,r=this.groups[t],a=r.ranges(e,e,n,!1)[0].start;if(!(t>=this.groups.length-1))return this._isVerticallyGrouped()?r.timeSlotCollectionCount()?(o=r.daySlotCollectionCount(),i=r._collection(o?0:a.collectionIndex,o),n?i.first():i.at(a.collectionIndex)):(i=r._collection(0,!0),i.at(a.index)):r.timeSlotCollectionCount()?(i=r._collection(0,n),n?i.first():i.at(a.index)):(i=r._collection(a.collectionIndex,!0),i.first());},_eventOptionsForMove:function _eventOptionsForMove(){return{};},_updateEventForResize:function _updateEventForResize(){},_updateEventForSelection:function _updateEventForSelection(e){return e;}}),_A=function A(e){var t,n,i,o,r,a=this,s=_A.formats;if(1===arguments.length)for(e=a.resolveColor(e),o=0;s.length>o;o++){t=s[o].re,n=s[o].process,i=t.exec(e),i&&(r=n(i),a.r=r[0],a.g=r[1],a.b=r[2]);}else a.r=arguments[0],a.g=arguments[1],a.b=arguments[2];a.r=a.normalizeByte(a.r),a.g=a.normalizeByte(a.g),a.b=a.normalizeByte(a.b);},_A.prototype={resolveColor:function resolveColor(e){return e=e||"#000","#"==e.charAt(0)&&(e=e.substr(1,6)),e=e.replace(/ /g,""),e=e.toLowerCase(),e=_A.namedColors[e]||e;},normalizeByte:function normalizeByte(e){return 0>e||isNaN(e)?0:e>255?255:e;},percBrightness:function percBrightness(){var e=this;return z.sqrt(.241*e.r*e.r+.691*e.g*e.g+.068*e.b*e.b);},isDark:function isDark(){var e=this,t=e.percBrightness();return 180>t;}},_A.formats=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,process:function process(e){return[parseInt(e[1],10),parseInt(e[2],10),parseInt(e[3],10)];}},{re:/^(\w{2})(\w{2})(\w{2})$/,process:function process(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)];}},{re:/^(\w{1})(\w{1})(\w{1})$/,process:function process(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)];}}],_A.namedColors={aqua:"00ffff",azure:"f0ffff",beige:"f5f5dc",black:"000000",blue:"0000ff",brown:"a52a2a",coral:"ff7f50",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgray:"a9a9a9",darkgreen:"006400",darkorange:"ff8c00",darkred:"8b0000",dimgray:"696969",fuchsia:"ff00ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lightblue:"add8e6",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumblue:"0000cd",navy:"000080",olive:"808000",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",pink:"ffc0cb",plum:"dda0dd",purple:"800080",red:"ff0000",royalblue:"4169e1",salmon:"fa8072",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",steelblue:"4682b4",tan:"d2b48c",teal:"008080",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"},E=/\s*k-state-selected/,e.extend(I.SchedulerView,{createColumns:f,createRows:p,rangeIndex:u,collidingEvents:d,groupEqFilter:v});}(window.kendo.jQuery),window.kendo;},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("kendo.scheduler.dayview.min",["kendo.scheduler.view.min"],e);}(function(){return function(e,t){function n(e){var t=new Date(1980,1,1,0,0,0);return c(t,b(e)),t;}function i(e,t,n){return e>=t&&n>=e;}function o(e,t,n,i){return i=i?n>=e:n>e,e>t&&i;}function r(e,t,n,i){var o,r=e._continuousEvents,a=r[r.length-1],l=f(t.start.startDate()).getTime();if(i&&a&&f(a.start.startDate()).getTime()==l){for(o=r.length-1;o>-1&&!(r[o].isAllDay||f(r[o].start.startDate()).getTime()<l);o--){}r.splice(o+1,0,{element:n,isAllDay:!0,uid:n.attr(s.attr("uid")),start:t.start,end:t.end});}else r.push({element:n,isAllDay:i,uid:n.attr(s.attr("uid")),start:t.start,end:t.end});}function a(e){var t=[],n=e.workWeekStart;for(t.push(n);e.workWeekEnd!=n;){n>6?n-=7:n++,t.push(n);}return t;}var s=window.kendo,l=s.ui,c=s.date.setTime,d=l.SchedulerView,u=e.extend,h=e.proxy,f=s.date.getDate,p=s.date.MS_PER_MINUTE,m=s.date.MS_PER_DAY,g="k-current-time",v="k-current-time-arrow",_=.8666,b=s.date.getMilliseconds,w=".kendoMultiDayView",y=s.template('<div title="(#=kendo.format("{0:t} - {1:t}", start, end)#): #=title.replace(/"/g,"&\\#34;")#"><div class="k-event-template k-event-time">#:kendo.format("{0:t} - {1:t}", start, end)#</div><div class="k-event-template">${title}</div></div>'),k=s.template('<div title="(#=kendo.format("{0:t}", start)#): #=title.replace(/"/g,"&\\#34;")#"><div class="k-event-template">${title}</div></div>'),x=s.template("<span class='k-link k-nav-day'>#=kendo.toString(date, 'ddd M/dd')#</span>"),C='<div role="gridcell" aria-selected="false" data-#=ns#uid="#=uid#"#if (resources[0]) { #style="background-color:#=resources[0].color#; border-color: #=resources[0].color#"class="k-event#=inverseColor ? " k-event-inverse" : ""#" #} else {#class="k-event"#}#><span class="k-event-actions"># if(data.tail || data.middle) {#<span class="k-icon k-i-arrow-w"></span>#}## if(data.isException()) {#<span class="k-icon k-i-exception"></span># } else if(data.isRecurring()) {#<span class="k-icon k-i-refresh"></span># } #</span>{0}<span class="k-event-actions">#if (showDelete) {#<a href="\\#" class="k-link k-event-delete"><span class="k-icon k-si-close"></span></a>#}## if(data.head || data.middle) {#<span class="k-icon k-i-arrow-e"></span>#}#</span>#if(resizable && !singleDay && !data.tail && !data.middle){#<span class="k-resize-handle k-resize-w"></span>#}##if(resizable && !singleDay && !data.head && !data.middle){#<span class="k-resize-handle k-resize-e"></span>#}#</div>',S='<div role="gridcell" aria-selected="false" data-#=ns#uid="#=uid#" #if (resources[0]) { #style="background-color:#=resources[0].color #; border-color: #=resources[0].color#"class="k-event#=inverseColor ? " k-event-inverse" : ""#"#} else {#class="k-event"#}#><span class="k-event-actions"># if(data.isException()) {#<span class="k-icon k-i-exception"></span># } else if(data.isRecurring()) {#<span class="k-icon k-i-refresh"></span># } #</span>{0}<span class="k-event-actions">#if (showDelete) {#<a href="\\#" class="k-link k-event-delete"><span class="k-icon k-si-close"></span></a>#}#</span><span class="k-event-top-actions"># if(data.tail || data.middle) {#<span class="k-icon k-i-arrow-n"></span># } #</span><span class="k-event-bottom-actions"># if(data.head || data.middle) {#<span class="k-icon k-i-arrow-s"></span># } #</span># if(resizable && !data.tail && !data.middle) {#<span class="k-resize-handle k-resize-n"></span># } ## if(resizable && !data.head && !data.middle) {#<span class="k-resize-handle k-resize-s"></span># } #</div>',T=d.extend({init:function init(e,t){var n=this;d.fn.init.call(n,e,t),n.title=n.options.title||n.options.name,n._workDays=a(n.options),n._templates(),n._editable(),n.calculateDateRange(),n._groups(),n._currentTime(!0);},_currentTimeMarkerUpdater:function _currentTimeMarkerUpdater(){this._updateCurrentTimeMarker(new Date());},_updateCurrentTimeMarker:function _updateCurrentTimeMarker(t){var n,i,o,r,a,l,c,d,u,h,f,p,m,b,w,y=this.options;for(y.currentTimeMarker.useLocalTimezone===!1&&(n=y.dataSource.options.schema.timezone,y.dataSource&&n&&(i=s.timezone.offset(t,n),t=s.timezone.convert(t,t.getTimezoneOffset(),i))),this.times.find("."+g).remove(),this.content.find("."+g).remove(),o=y.group&&"horizontal"!=y.group.orientation?this.groups.length:1,r=this.times.find("tr:first th:first"),a=this.times.find("tr:first th:last"),l=0;o>l;l++){if(c=this.groups[l],!c)return;if(d=s.date.toUtcTime(t),u=c.timeSlotRanges(d,d+1),0===u.length)return;h=u[0].collection,f=h.slotByStartDate(t),f&&(p="<div class='"+g+"'></div>",m=e(p).prependTo(this.times),b=Math.round(u[0].innerRect(t,new Date(t.getTime()+1),!1).top),w={},this._isRtl?(w.right=r.position().left+r.outerHeight()-a.outerHeight(),m.addClass(v+"-left")):(w.left=a.position().left,m.addClass(v+"-right")),w.top=b-m.outerWidth()*_/2,m.css(w),e(p).prependTo(this.content).css({top:b,height:"1px",right:"1px",width:this.content[0].scrollWidth,left:0}));}},_currentTime:function _currentTime(e){var n=this,i=n.options.currentTimeMarker;i!==!1&&i.updateInterval!==t&&(n._currentTimeMarkerUpdater(),e&&(n._currentTimeUpdateTimer=setInterval(h(this._currentTimeMarkerUpdater,n),i.updateInterval)));},_updateResizeHint:function _updateResizeHint(e,t,n,i){var o,r,a,l,c,u,h,f,p,m,g=e.isMultiDay(),v=this.groups[t],_=v.ranges(n,i,g,e.isAllDay);for(this._removeResizeHint(),o=0;_.length>o;o++){r=_[o],a=r.startSlot(),l=a.offsetWidth,c=a.clientHeight,u=a.offsetTop,g?l=r.innerWidth():(h=r.outerRect(n,i,this.options.snap),u=h.top,c=h.bottom-h.top),f=d.fn._createResizeHint.call(this,a.offsetLeft,u,l,c),this._resizeHint=this._resizeHint.add(f);}p="t",m=this.content,g&&(p="M/dd",m=this.element.find(".k-scheduler-header-wrap:has(.k-scheduler-header-all-day) > div"),m.length||(m=this.content)),this._resizeHint.appendTo(m),this._resizeHint.find(".k-label-top,.k-label-bottom").text(""),this._resizeHint.first().addClass("k-first").find(".k-label-top").text(s.toString(s.timezone.toLocalDate(n),p)),this._resizeHint.last().addClass("k-last").find(".k-label-bottom").text(s.toString(s.timezone.toLocalDate(i),p));},_updateMoveHint:function _updateMoveHint(e,t,n){var i,o,r,a,l,c,d,u=e.isMultiDay(),h=this.groups[t],f=s.date.toUtcTime(e.start)+n,p=f+e.duration(),m=h.ranges(f,p,u,e.isAllDay);for(f=s.timezone.toLocalDate(f),p=s.timezone.toLocalDate(p),this._removeMoveHint(),!u&&(0===b(p)||b(p)<b(this.startTime()))&&m.length>1&&m.pop(),i=0;m.length>i;i++){o=m[i],r=o.start,a=this._createEventElement(e.clone({start:f,end:p}),!u),a.addClass("k-event-drag-hint"),l={left:r.offsetLeft+2,top:r.offsetTop},this._isRtl&&(l.left=.1*r.clientWidth+r.offsetLeft+2),u?l.width=o.innerWidth()-4:(c=o.outerRect(f,p,this.options.snap),l.top=c.top,l.height=c.bottom-c.top,l.width=.9*r.clientWidth-4),a.css(l),this._moveHint=this._moveHint.add(a);}d=this.content,u&&(d=this.element.find(".k-scheduler-header-wrap:has(.k-scheduler-header-all-day) > div"),d.length||(d=this.content)),this._moveHint.appendTo(d);},_slotByPosition:function _slotByPosition(e,t){var n,i,o,r;for(this._isVerticallyGrouped()?(i=this.content.offset(),t+=this.content[0].scrollTop,e+=this.content[0].scrollLeft):i=this.element.find(".k-scheduler-header-wrap:has(.k-scheduler-header-all-day)").find(">div").offset(),i&&(e-=i.left,t-=i.top),e=Math.ceil(e),t=Math.ceil(t),r=0;this.groups.length>r;r++){if(o=this.groups[r],n=o.daySlotByPosition(e,t))return n;}for(i&&(e+=i.left,t+=i.top),i=this.content.offset(),e-=i.left,t-=i.top,this._isVerticallyGrouped()||(t+=this.content[0].scrollTop,e+=this.content[0].scrollLeft),e=Math.ceil(e),t=Math.ceil(t),r=0;this.groups.length>r;r++){if(o=this.groups[r],n=o.timeSlotByPosition(e,t))return n;}return null;},_groupCount:function _groupCount(){var e=this.groupedResources;return e.length?"vertical"===this._groupOrientation()?this._rowCountForLevel(e.length-1):this._columnCountForLevel(e.length)/this._columnOffsetForResource(e.length):1;},_columnCountInResourceView:function _columnCountInResourceView(){var e=this.groupedResources;return!e.length||this._isVerticallyGrouped()?this._columnCountForLevel(0):this._columnOffsetForResource(e.length);},_timeSlotGroups:function _timeSlotGroups(e,t){var n,i,o,r,a,s,l,c,d,u,h,f,p,m,g,v,_=this._timeSlotInterval(),w=this.content.find("tr:not(.k-scheduler-header-all-day)");for(w.attr("role","row"),n=w.length,this._isVerticallyGrouped()&&(n=Math.floor(n/e)),i=0;e>i;i++){for(o=0,this._isVerticallyGrouped()&&(o=i),r=o*n,s=0,this._isVerticallyGrouped()||(s=i);(o+1)*n>r;){for(l=w[r].children,c=this.groups[i],r%n===0&&(a=b(new Date(+this.startTime()))),d=s*t;(s+1)*t>d;d++){u=l[d],h=d%t,f=c.getTimeSlotCollection(h),p=this._dates[h],m=Date.UTC(p.getFullYear(),p.getMonth(),p.getDate()),g=m+a,v=g+_,u.setAttribute("role","gridcell"),u.setAttribute("aria-selected",!1),f.addTimeSlot(u,g,v);}a+=_,r++;}}},_daySlotGroups:function _daySlotGroups(e,t){var n,i,o,r,a,l,c,d,u,h,f,p;for(n=this.element.find(this._isVerticallyGrouped()?".k-scheduler-header-all-day":".k-scheduler-header-all-day tr"),n.attr("role","row"),i=0;e>i;i++){for(o=0,this._isVerticallyGrouped()&&(o=i),r=this.groups[i],a=r.getDaySlotCollection(0),l=n[o].children,c=0,this._isVerticallyGrouped()||(c=i),d=0,u=c*t;(c+1)*t>u;u++){h=l[u],u%t===0&&(d=0),f=this._dates[d],p=Date.UTC(f.getFullYear(),f.getMonth(),f.getDate()),d++,h.setAttribute("role","gridcell"),h.setAttribute("aria-selected",!1),a.addDaySlot(h,p,p+s.date.MS_PER_DAY);}}},_groups:function _groups(){var e,t,n,i=this._groupCount(),o=this._columnCountInResourceView();for(this.groups=[],e=0;i>e;e++){for(t=this._addResourceView(e),n=0;o>n;n++){t.addTimeSlotCollection(this._dates[n],s.date.addDays(this._dates[n],1));}this.options.allDaySlot&&t.addDaySlotCollection(this._dates[0],s.date.addDays(this._dates[this._dates.length-1],1));}this._timeSlotGroups(i,o),this.options.allDaySlot&&this._daySlotGroups(i,o);},options:{name:"MultiDayView",selectedDateFormat:"{0:D}",selectedShortDateFormat:"{0:d}",allDaySlot:!0,showWorkHours:!1,title:"",startTime:s.date.today(),endTime:s.date.today(),minorTickCount:2,majorTick:60,majorTimeHeaderTemplate:"#=kendo.toString(date, 't')#",minorTimeHeaderTemplate:"&nbsp;",groupHeaderTemplate:"#=text#",slotTemplate:"&nbsp;",allDaySlotTemplate:"&nbsp;",eventTemplate:y,allDayEventTemplate:k,dateHeaderTemplate:x,editable:!0,workDayStart:new Date(1980,1,1,8,0,0),workDayEnd:new Date(1980,1,1,17,0,0),workWeekStart:1,workWeekEnd:5,footer:{command:"workDay"},messages:{allDay:"all day",showFullDay:"Show full day",showWorkDay:"Show business hours"},currentTimeMarker:{updateInterval:1e4,useLocalTimezone:!0}},events:["remove","add","edit"],_templates:function _templates(){var e=this.options,t=u({},s.Template,e.templateSettings);this.eventTemplate=this._eventTmpl(e.eventTemplate,S),this.allDayEventTemplate=this._eventTmpl(e.allDayEventTemplate,C),this.majorTimeHeaderTemplate=s.template(e.majorTimeHeaderTemplate,t),this.minorTimeHeaderTemplate=s.template(e.minorTimeHeaderTemplate,t),this.dateHeaderTemplate=s.template(e.dateHeaderTemplate,t),this.slotTemplate=s.template(e.slotTemplate,t),this.allDaySlotTemplate=s.template(e.allDaySlotTemplate,t),this.groupHeaderTemplate=s.template(e.groupHeaderTemplate,t);},_editable:function _editable(){this.options.editable&&(this._isMobile()?this._touchEditable():this._mouseEditable());},_mouseEditable:function _mouseEditable(){var t=this;t.element.on("click"+w,".k-event a:has(.k-si-close)",function(n){t.trigger("remove",{uid:e(this).closest(".k-event").attr(s.attr("uid"))}),n.preventDefault();}),t.options.editable.create!==!1&&t.element.on("dblclick"+w,".k-scheduler-content td",function(n){var i,o;e(this).parent().hasClass("k-scheduler-header-all-day")||(i=t._slotByPosition(n.pageX,n.pageY),i&&(o=t._resourceBySlot(i),t.trigger("add",{eventInfo:u({start:i.startDate(),end:i.endDate()},o)})),n.preventDefault());}).on("dblclick"+w,".k-scheduler-header-all-day td",function(e){var n,i=t._slotByPosition(e.pageX,e.pageY);i&&(n=t._resourceBySlot(i),t.trigger("add",{eventInfo:u({},{isAllDay:!0,start:s.date.getDate(i.startDate()),end:s.date.getDate(i.startDate())},n)})),e.preventDefault();}),t.options.editable.update!==!1&&t.element.on("dblclick"+w,".k-event",function(n){t.trigger("edit",{uid:e(this).closest(".k-event").attr(s.attr("uid"))}),n.preventDefault();});},_touchEditable:function _touchEditable(){var n=this,i=0;s.support.mobileOS.android&&(i=5),n.options.editable.create!==!1&&(n._addUserEvents=new s.UserEvents(n.element,{threshold:i,filter:".k-scheduler-content td",tap:function tap(i){var o,r,a,s;e(i.target).parent().hasClass("k-scheduler-header-all-day")||(o=i.x.location!==t?i.x.location:i.x,r=i.y.location!==t?i.y.location:i.y,a=n._slotByPosition(o,r),a&&(s=n._resourceBySlot(a),n.trigger("add",{eventInfo:u({start:a.startDate(),end:a.endDate()},s)})),i.preventDefault());}}),n._allDayUserEvents=new s.UserEvents(n.element,{threshold:i,filter:".k-scheduler-header-all-day td",tap:function tap(e){var i,o=e.x.location!==t?e.x.location:e.x,r=e.y.location!==t?e.y.location:e.y,a=n._slotByPosition(o,r);a&&(i=n._resourceBySlot(a),n.trigger("add",{eventInfo:u({},{isAllDay:!0,start:s.date.getDate(a.startDate()),end:s.date.getDate(a.startDate())},i)})),e.preventDefault();}})),n.options.editable.update!==!1&&(n._editUserEvents=new s.UserEvents(n.element,{threshold:i,filter:".k-event",tap:function tap(t){var i=e(t.target).closest(".k-event");i.hasClass("k-event-active")||n.trigger("edit",{uid:i.attr(s.attr("uid"))}),t.preventDefault();}}));},_layout:function _layout(e){var t,n,i,o=[],r=[],a=this.options,l=this;for(t=0;e.length>t;t++){n={},n.text=l.dateHeaderTemplate({date:e[t]}),s.date.isToday(e[t])&&(n.className="k-today"),o.push(n);}return i=this.groupedResources,a.allDaySlot&&r.push({text:a.messages.allDay,allDay:!0,cellContent:function cellContent(t){var n=t;return t=i.length&&"vertical"!==l._groupOrientation()?t%e.length:t,l.allDaySlotTemplate({date:e[t],resources:function resources(){return l._resourceBySlot({groupIndex:n});}});}}),this._forTimeRange(this.startTime(),this.endTime(),function(e,t,n,i){var o=t?l.majorTimeHeaderTemplate:l.minorTimeHeaderTemplate,a={text:o({date:e}),className:i?"k-slot-cell":""};r.push(a);}),i.length&&("vertical"===this._groupOrientation()?r=this._createRowsLayout(i,r,this.groupHeaderTemplate):o=this._createColumnsLayout(i,o,this.groupHeaderTemplate)),{columns:o,rows:r};},_footer:function _footer(){var t,n,i,o=this.options;o.footer!==!1&&(t='<div class="k-header k-scheduler-footer">',n=o.footer.command,n&&"workDay"===n?(t+='<ul class="k-reset k-header">',t+='<li class="k-state-default k-scheduler-fullday"><a href="#" class="k-link"><span class="k-icon k-i-clock"></span>',t+=(o.showWorkHours?o.messages.showFullDay:o.messages.showWorkDay)+"</a></li>",t+="</ul>"):t+="&nbsp;",t+="</div>",this.footer=e(t).appendTo(this.element),i=this,this.footer.on("click"+w,".k-scheduler-fullday",function(e){e.preventDefault(),i.trigger("navigate",{view:i.name||o.name,date:i.startDate(),isWorkDay:!o.showWorkHours});}));},_forTimeRange:function _forTimeRange(e,t,i,o){var r,a,s,l,d,u,h,f,g,v,_,w,y,k,x,C;for(e=n(e),t=n(t),r=this,a=b(e),s=b(t),l=r.options.minorTickCount,d=r.options.majorTick*p,u=d/l||1,h=new Date(+e),f=h.getDate(),v=0,w="",_=m/u,a!=s&&(a>s&&(s+=m),_=(s-a)/u),_=Math.round(_);_>v;v++){y=v%(d/u),k=0===y,x=l-1>y,C=y===l-1,w+=i(h,k,x,C),c(h,u,!1);}return s&&(g=b(h),f<h.getDate()&&(g+=m),g>s&&(h=new Date(+t))),o&&(w+=o(h)),w;},_content:function _content(e){var t,n,i,o=this,r=o.options,a=o.startTime(),l=this.endTime(),c=1,d=1,u=e.length,h="",f=this.groupedResources,p=this.slotTemplate,m=this.allDaySlotTemplate,g=!1;for(f.length&&(g="vertical"===o._groupOrientation(),g?(d=this._rowCountForLevel(this.rowLevels.length-2),r.allDaySlot&&(t=function t(_t5){var n,i,r='<tr class="k-scheduler-header-all-day">',a=function a(){return o._resourceBySlot({groupIndex:_t5});};for(n=0,i=e.length;i>n;n++){r+="<td>"+m({date:e[n],resources:a})+"</td>";}return r+"</tr>";})):c=this._columnCountForLevel(this.columnLevels.length-2)),h+="<tbody>",n=function n(t,_n4){var r,a,l,d,h="",f="",m=0;for(h="<tr"+(_n4?' class="k-middle-row"':"")+">",d=function d(e){return function(){return o._resourceBySlot({groupIndex:e});};};c>m;m++){for(r=0,a=u;a>r;r++){f="",s.date.isToday(e[r])&&(f+="k-today"),(s.date.getMilliseconds(t)<s.date.getMilliseconds(o.options.workDayStart)||s.date.getMilliseconds(t)>=s.date.getMilliseconds(o.options.workDayEnd)||!o._isWorkDay(e[r]))&&(f+=" k-nonwork-hour"),h+="<td"+(""!==f?' class="'+f+'"':"")+">",l=s.date.getDate(e[r]),s.date.setTime(l,s.date.getMilliseconds(t)),h+=p({date:l,resources:d(g?i:m)}),h+="</td>";}}return h+="</tr>";},i=0;d>i;i++){h+=t?t(i):"",h+=this._forTimeRange(a,l,n);}h+="</tbody>",this.content.find("table").append(h);},_isWorkDay:function _isWorkDay(e){var t,n=e.getDay(),i=this._workDays;for(t=0;i.length>t;t++){if(i[t]===n)return!0;}return!1;},_render:function _render(t){var n,i=this;t=t||[],this._dates=t,this._startDate=t[0],this._endDate=t[t.length-1||0],this.createLayout(this._layout(t)),this._content(t),this._footer(),this.refreshLayout(),n=this.element.find(".k-scheduler-header-all-day td"),n.length&&(this._allDayHeaderHeight=n.first()[0].clientHeight),i.datesHeader.on("click"+w,".k-nav-day",function(t){var n=e(t.currentTarget).closest("th"),o=n.offset(),r=i._slotByPosition(o.left,o.top+n.outerHeight());i.trigger("navigate",{view:"day",date:r.startDate()});});},startTime:function startTime(){var e=this.options;return e.showWorkHours?e.workDayStart:e.startTime;},endTime:function endTime(){var e=this.options;return e.showWorkHours?e.workDayEnd:e.endTime;},startDate:function startDate(){return this._startDate;},endDate:function endDate(){return this._endDate;},_end:function _end(e){var t=b(this.endTime())||m;return e&&(t=0),new Date(this._endDate.getTime()+t);},nextDate:function nextDate(){return s.date.nextDay(this.endDate());},previousDate:function previousDate(){return s.date.previousDay(this.startDate());},calculateDateRange:function calculateDateRange(){this._render([this.options.date]);},destroy:function destroy(){var e=this;e._currentTimeUpdateTimer&&clearInterval(e._currentTimeUpdateTimer),e.datesHeader&&e.datesHeader.off(w),e.element&&e.element.off(w),e.footer&&e.footer.remove(),d.fn.destroy.call(this),this._isMobile()&&e.options.editable&&(e.options.editable.create!==!1&&(e._addUserEvents.destroy(),e._allDayUserEvents.destroy()),e.options.editable.update!==!1&&e._editUserEvents.destroy());},inRange:function inRange(e){var t=d.fn.inRange.call(this,e),n=b(this.startTime()),i=b(this.endTime())||s.date.MS_PER_DAY,o=b(e.start),r=b(e.end)||s.date.MS_PER_DAY;return t&&o>=n&&i>=r;},selectionByElement:function selectionByElement(e){var t=e.offset();return this._slotByPosition(t.left,t.top);},_timeSlotInterval:function _timeSlotInterval(){var e=this.options;return e.majorTick/e.minorTickCount*p;},_timeSlotIndex:function _timeSlotIndex(e){var t=this.options,n=b(e),i=b(this.startTime()),o=t.majorTick/t.minorTickCount*p;return(n-i)/o;},_slotIndex:function _slotIndex(e,t){return t?this._dateSlotIndex(e):this._timeSlotIndex(e);},_dateSlotIndex:function _dateSlotIndex(e,t){var n,o,r,a,l=this._dates||[],c=1;for(n=0,o=l.length;o>n;n++){if(r=s.date.getDate(l[n]),a=new Date(s.date.getDate(l[n]).getTime()+m-(t?0:1)),i(e,r,a))return n*c;}return-1;},_positionAllDayEvent:function _positionAllDayEvent(t,n){var i,o,r,a,s,l,c,u=n.innerWidth(),h=n.start.index,f=n.end.index,p=d.collidingEvents(n.events(),h,f),m=this._headerColumnCount||0,g=2,v=h!==f?5:4,_=this._allDayHeaderHeight,b=n.startSlot();for(t.css({left:b.offsetLeft+g,width:u-v}),n.addEvent({slotIndex:h,start:h,end:f,element:t}),p.push({slotIndex:h,start:h,end:f,element:t}),i=d.createRows(p),i.length&&i.length>m&&(this._headerColumnCount=i.length),o=n.start.offsetTop,r=0,a=i.length;a>r;r++){for(s=i[r].events,l=0,c=s.length;c>l;l++){e(s[l].element).css({top:o+r*_});}}},_arrangeColumns:function _arrangeColumns(e,t,n,i){var o,r,a,s,l,c,u,h,f,p,m,g=i.start;for(e={element:e,slotIndex:g.index,start:t,end:t+n},r=g.clientWidth,a=.1*r,l=i.events(),c=d.collidingEvents(l,e.start,e.end),i.addEvent(e),c.push(e),o=d.createColumns(c),u=(r-a)/o.length,h=0,f=o.length;f>h;h++){for(s=o[h].events,p=0,m=s.length;m>p;p++){s[p].element[0].style.width=u-4+"px",s[p].element[0].style.left=(this._isRtl?a:0)+g.offsetLeft+h*u+2+"px";}}},_positionEvent:function _positionEvent(e,t,n){var i=e._startTime||e.start,o=e._endTime||e.end,r=n.innerRect(i,o,!1),a=r.bottom-r.top-2;0>a&&(a=0),t.css({top:r.top,height:a}),this._arrangeColumns(t,r.top,t[0].clientHeight,n);},_createEventElement:function _createEventElement(t,n,o,r){var a,l,c,d,h,p,g=n?this.eventTemplate:this.allDayEventTemplate,v=this.options,_=v.editable,w=this._isMobile(),y=_&&_.destroy!==!1&&!w,k=_&&_.resize!==!1,x=f(this.startDate()),C=f(this.endDate()),S=b(this.startTime()),T=b(this.endTime()),D=t._time("start"),A=t._time("end");return S>=T&&(T=b(new Date(this.endTime().getTime()+m-1))),n||t.isAllDay||(C=new Date(C.getTime()+m)),l=t.start,c=t.end,t.isAllDay&&(c=f(t.end)),!i(f(l),x,C)&&!i(c,x,C)||n&&S>D&&A>T?a=!0:f(l)<x||n&&S>D?r=!0:(c>C&&!n||n&&A>T)&&(o=!0),d=this.eventResources(t),t._startTime&&D!==s.date.getMilliseconds(t.start)&&(l=new Date(D),l=s.timezone.apply(l,"Etc/UTC")),t._endTime&&A!==s.date.getMilliseconds(t.end)&&(c=new Date(A),c=s.timezone.apply(c,"Etc/UTC")),h=u({},{ns:s.ns,resizable:k,showDelete:y,middle:a,head:o,tail:r,singleDay:1==this._dates.length,resources:d,inverseColor:d&&d[0]?this._shouldInverseResourceColor(d[0]):!1},t,{start:l,end:c}),p=e(g(h)),this.angular("compile",function(){return{elements:p,data:[{dataItem:h}]};}),p;},_isInTimeSlot:function _isInTimeSlot(e){var t,n=this.startTime(),i=this.endTime(),r=e._startTime||e.start,a=e._endTime||e.end;return b(i)===b(s.date.getDate(i))&&(i=s.date.getDate(i),c(i,m-1)),e._date("end")>e._date("start")&&(a=+e._date("end")+(m-1)),a-=e._date("end"),r-=e._date("start"),i=b(i),n=b(n),n===r&&r===a?!0:(t=r!==i,o(r,n,i,t)||o(a,n,i,t)||o(n,r,a)||o(i,r,a));},_isInDateSlot:function _isInDateSlot(e){var t=this.groups[0],n=t.firstSlot().start,o=t.lastSlot().end-1,r=s.date.toUtcTime(e.start),a=s.date.toUtcTime(e.end);return(i(r,n,o)||i(a,n,o)||i(n,r,a)||i(o,r,a))&&(!i(a,n,n)||i(a,r,r)||e.isAllDay);},_updateAllDayHeaderHeight:function _updateAllDayHeaderHeight(e){var t,n;if(this._height!==e&&(this._height=e,t=this.element.find(".k-scheduler-header-all-day td"),t.length))for(t.parent().add(this.element.find(".k-scheduler-times-all-day").parent()).height(e),n=0;this.groups.length>n;n++){this.groups[n].refresh();}},_renderEvents:function _renderEvents(e,t){var n,i,o,a,s,l,c,d,u,h,f,p,g,v,_,b=this.datesHeader.find(".k-scheduler-header-wrap > div");for(i=0,o=e.length;o>i;i++){if(n=e[i],this._isInDateSlot(n))if(a=n.isAllDay||n.end.getTime()-n.start.getTime()>=m,s=a&&!this._isVerticallyGrouped()?b:this.content,a)this.options.allDaySlot&&(d=this.groups[t],d._continuousEvents||(d._continuousEvents=[]),c=d.slotRanges(n),c.length&&(l=this._createEventElement(n,!a),this._positionAllDayEvent(l,c[0]),r(d,c[0],l,!0),l.appendTo(s)));else if(this._isInTimeSlot(n))for(d=this.groups[t],d._continuousEvents||(d._continuousEvents=[]),c=d.slotRanges(n),u=c.length,h=0;u>h;h++){f=c[h],p=n.start,g=n.end,u>1&&(0===h?g=f.end.endDate():h==u-1?p=f.start.startDate():(p=f.start.startDate(),g=f.end.endDate())),v=n.clone({start:p,end:g,_startTime:n._startTime,_endTime:n.endTime}),this._isInTimeSlot(v)&&(_=f.head,l=this._createEventElement(n,!a,_,f.tail),l.appendTo(s),this._positionEvent(v,l,f),r(d,f,l,!1));}}},render:function render(t){var n,o,r,a;for(this._headerColumnCount=0,this._groups(),this.element.find(".k-event").remove(),t=new s.data.Query(t).sort([{field:"start",dir:"asc"},{field:"end",dir:"desc"}]).toArray(),n=[],this._eventsByResource(t,this.groupedResources,n),o=e.map(this._dates,function(t){return Math.max.apply(null,e.map(n,function(n){return e.grep(n,function(e){return e.isMultiDay()&&i(t,f(e.start),f(e.end));}).length;}));}),r=Math.max.apply(null,o),this._updateAllDayHeaderHeight((r+1)*this._allDayHeaderHeight),a=0;n.length>a;a++){this._renderEvents(n[a],a);}this.refreshLayout(),this._currentTime(!1),this.trigger("activate");},_eventsByResource:function _eventsByResource(e,t,n){var i,o,r,a,l=t[0];if(l)for(i=l.dataSource.view(),o=0;i.length>o;o++){r=this._resourceValue(l,i[o]),a=new s.data.Query(e).filter({field:l.field,operator:d.groupEqFilter(r)}).toArray(),t.length>1?this._eventsByResource(a,t.slice(1),n):n.push(a);}else n.push(e);},_columnOffsetForResource:function _columnOffsetForResource(e){return this._columnCountForLevel(e)/this._columnCountForLevel(e-1);},_columnCountForLevel:function _columnCountForLevel(e){var t=this.columnLevels[e];return t?t.length:0;},_rowCountForLevel:function _rowCountForLevel(e){var t=this.rowLevels[e];return t?t.length:0;},clearSelection:function clearSelection(){this.content.add(this.datesHeader).find(".k-state-selected").removeAttr("id").attr("aria-selected",!1).removeClass("k-state-selected");},_updateDirection:function _updateDirection(e,t,n,i,o){var r=e.isAllDay,a=t[0].start,s=t[t.length-1].end;n&&(o?r||a.index!==s.index||a.collectionIndex!==s.collectionIndex||(e.backward=i):(r&&a.index===s.index||!r&&a.collectionIndex===s.collectionIndex)&&(e.backward=i));},_changeViewPeriod:function _changeViewPeriod(e,n,i){var o,r,a,s;return i?t:(o=n?this.previousDate():this.nextDate(),r=e.start,a=e.end,e.start=new Date(o),e.end=new Date(o),s=e.isAllDay?m:b(a),c(e.start,b(r)),c(e.end,s),this._isVerticallyGrouped()||(e.groupIndex=n?this.groups.length-1:0),e.events=[],!0);}});u(!0,l,{MultiDayView:T,DayView:T.extend({options:{name:"DayView",title:"Day"},name:"day"}),WeekView:T.extend({options:{name:"WeekView",title:"Week",selectedDateFormat:"{0:D} - {1:D}",selectedShortDateFormat:"{0:d} - {1:d}"},name:"week",calculateDateRange:function calculateDateRange(){var e,t,n=this.options.date,i=s.date.dayOfWeek(n,this.calendarInfo().firstDay,-1),o=[];for(e=0,t=7;t>e;e++){o.push(i),i=s.date.nextDay(i);}this._render(o);}}),WorkWeekView:T.extend({options:{name:"WorkWeekView",title:"Work Week",selectedDateFormat:"{0:D} - {1:D}",selectedShortDateFormat:"{0:d} - {1:d}"},name:"workWeek",nextDate:function nextDate(){return s.date.dayOfWeek(s.date.nextDay(this.startDate()),this.calendarInfo().firstDay,1);},previousDate:function previousDate(){var e=s.date.dayOfWeek(this.startDate(),this.calendarInfo().firstDay,-1);return s.date.previousDay(e);},calculateDateRange:function calculateDateRange(){for(var e=this.options.date,t=s.date.dayOfWeek,n=t(e,this.calendarInfo().firstDay,-1),i=t(n,this.options.workWeekStart,1),o=t(i,this.options.workWeekEnd,1),r=[];o>=i;){r.push(i),i=s.date.nextDay(i);}this._render(r);}})});}(window.kendo.jQuery),window.kendo;},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("kendo.scheduler.agendaview.min",["kendo.scheduler.view.min"],e);}(function(){return function(e){function t(e){var t,n,i=0;for(t=0,n=e.length;n>t;t++){i+=e[t].items.length;}return i;}function n(e,t){return e.valuePrimitive&&(t=r.getter(e.dataValueField)(t)),t;}function i(e){for(var t,n=0,i=e.length,r=[];i>n;n++){t=e[n],t.groups?(t=o(t.groups),r=r.concat(t)):r=r.concat(o(t.items));}return r;}function o(e){for(var t=[].concat(e),n=t.shift(),i=[],o=[].push;n;){n.groups?o.apply(t,n.groups):n.items?o.apply(t,n.items):o.call(i,n),n=t.shift();}return i;}var r=window.kendo,a=r.ui,s=".kendoAgendaView",l='<div class="k-task" title="#:title.replace(/"/g,"\'")#" data-#=kendo.ns#uid="#=uid#"># if (resources[0]) {#<span class="k-scheduler-mark" style="background-color:#=resources[0].color#"></span># } ## if (data.isException()) { #<span class="k-icon k-i-exception"></span># } else if (data.isRecurring()) {#<span class="k-icon k-i-refresh"></span># } #{0}#if (showDelete) {#<a href="\\#" class="k-link k-event-delete"><span class="k-icon k-si-close"></span></a>#}#</div>';a.AgendaView=a.SchedulerView.extend({init:function init(t,n){a.SchedulerView.fn.init.call(this,t,n),n=this.options,n.editable&&(n.editable=e.extend({"delete":!0},n.editable,{create:!1,update:!1})),this.title=n.title,this._eventTemplate=this._eventTmpl(n.eventTemplate,l),this._dateTemplate=r.template(n.eventDateTemplate),this._groupTemplate=r.template(n.eventGroupTemplate),this._timeTemplate=r.template(n.eventTimeTemplate),this.element.on("mouseenter"+s,".k-scheduler-agenda .k-scheduler-content tr","_mouseenter").on("mouseleave"+s,".k-scheduler-agenda .k-scheduler-content tr","_mouseleave").on("click"+s,".k-scheduler-agenda .k-scheduler-content .k-link:has(.k-si-close)","_remove"),this._renderLayout(n.date);},name:"agenda",_mouseenter:function _mouseenter(t){e(t.currentTarget).addClass("k-state-hover");},_mouseleave:function _mouseleave(t){e(t.currentTarget).removeClass("k-state-hover");},_remove:function _remove(t){t.preventDefault(),this.trigger("remove",{uid:e(t.currentTarget).closest(".k-task").attr(r.attr("uid"))});},nextDate:function nextDate(){return r.date.nextDay(this.startDate());},startDate:function startDate(){return this._startDate;},endDate:function endDate(){return this._endDate;},previousDate:function previousDate(){return r.date.previousDay(this.startDate());},_renderLayout:function _renderLayout(e){this._startDate=e,this._endDate=r.date.addDays(e,7),this.createLayout(this._layout()),this.table.addClass("k-scheduler-agenda");},_layout:function _layout(){var e,t,n,i=[{text:this.options.messages.time,className:"k-scheduler-timecolumn"},{text:this.options.messages.event}];if(this._isMobilePhoneView()||i.splice(0,0,{text:this.options.messages.date,className:"k-scheduler-datecolumn"}),e=this.groupedResources,e.length){for(t=[],n=0;e.length>n;n++){t.push({text:"",className:"k-scheduler-groupcolumn"});}i=t.concat(i);}return{columns:i};},_tasks:function _tasks(e){var t,n,i,o,a,s,l,c=[];for(t=0;e.length>t;t++){if(n=e[t],i=n.start,o=n.end,a=Math.ceil((o-r.date.getDate(i))/r.date.MS_PER_DAY),s=n.clone(),s.startDate=r.date.getDate(i),s.startDate>=this.startDate()&&c.push(s),a>1)for(s.end=r.date.nextDay(i),s.head=!0,l=1;a>l;l++){i=s.end,s=n.clone(),s.start=i,s.startDate=r.date.getDate(i),s.end=r.date.nextDay(i),l==a-1?(s.end=new Date(s.start.getFullYear(),s.start.getMonth(),s.start.getDate(),o.getHours(),o.getMinutes(),o.getSeconds(),o.getMilliseconds()),s.tail=!0):(s.isAllDay=!0,s.middle=!0),(r.date.getDate(s.end)<=this.endDate()&&s.start>=this.startDate()||r.date.getDate(s.start).getTime()==this.endDate().getTime())&&c.push(s);}}return new r.data.Query(c).sort([{field:"start",dir:"asc"},{field:"end",dir:"asc"}]).groupBy({field:"startDate"}).toArray();},_renderTaskGroups:function _renderTaskGroups(e,t){var n,i,o,a,s,l,c,d,u,h=[],f=this.options.editable,p=f&&f.destroy!==!1&&!this._isMobile(),m=this._isMobilePhoneView();for(n=0;e.length>n;n++){for(i=e[n].value,o=e[n].items,a=r.date.isToday(i),s=0;o.length>s;s++){if(l=o[s],c=[],d=m?[]:c,0===n&&0===s&&t.length)for(u=0;t.length>u;u++){d.push(r.format('<td class="k-scheduler-groupcolumn{2}" rowspan="{0}">{1}</td>',t[u].rowSpan,this._groupTemplate({value:t[u].text}),t[u].className));}0===s&&(m?(d.push(r.format('<td class="k-scheduler-datecolumn" colspan="2">{0}</td>',this._dateTemplate({date:i}))),h.push('<tr role="row" aria-selected="false"'+(a?' class="k-today">':">")+d.join("")+"</tr>")):c.push(r.format('<td class="k-scheduler-datecolumn{3}{2}" rowspan="{0}">{1}</td>',o.length,this._dateTemplate({date:i}),n!=e.length-1||t.length?"":" k-last",t.length?"":" k-first"))),l.format=l.head?"{0:t}":l.tail?"{1:t}":"{0:t}-{1:t}",l.resources=this.eventResources(l),c.push(r.format('<td class="k-scheduler-timecolumn"><div>{0}{1}{2}</div></td><td>{3}</td>',l.tail||l.middle?'<span class="k-icon k-i-arrow-w"></span>':"",this._timeTemplate(l.clone({start:l._startTime||l.start,end:l.endTime||l.end})),l.head||l.middle?'<span class="k-icon k-i-arrow-e"></span>':"",this._eventTemplate(l.clone({showDelete:p})))),h.push('<tr role="row" aria-selected="false"'+(a?' class="k-today">':">")+c.join("")+"</tr>");}}return h.join("");},render:function render(e){var t,n,o=this.content.find("table").empty(),r=[];e.length>0&&(t=this.groupedResources,t.length?(r=this._createGroupConfiguration(e,t,null),this._renderGroups(r,o,[])):(r=this._tasks(e),o.append(this._renderTaskGroups(r,[])))),n=this._eventsList=i(r),this._angularItems(o,n),this.refreshLayout(),this.trigger("activate");},_angularItems:function _angularItems(e,t){this.angular("compile",function(){var n=[],i=t.map(function(t){return n.push({dataItem:t}),e.find(".k-task["+r.attr("uid")+"="+t.uid+"]");});return{elements:i,data:n};});},_renderGroups:function _renderGroups(e,t,n){var i,o,r;for(i=0,o=e.length;o>i;i++){r=n.splice(0),r.push(e[i]),e[i].groups?this._renderGroups(e[i].groups,t,r):t.append(this._renderTaskGroups(e[i].items,r));}},_createGroupConfiguration:function _createGroupConfiguration(e,i,o){var s,l,c,d,u,h,f,p=i[0],m=[],g=p.dataSource.view(),v=this._isMobilePhoneView();for(s=0;g.length>s;s++){l=n(p,g[s]),c=new r.data.Query(e).filter({field:p.field,operator:a.SchedulerView.groupEqFilter(l)}).toArray(),c.length&&(d=this._tasks(c),u=o?"":" k-first",s===g.length-1&&(!o||o.className.indexOf("k-last")>-1)&&(u+=" k-last"),h={text:r.getter(p.dataTextField)(g[s]),value:l,rowSpan:0,className:u},i.length>1?(h.groups=this._createGroupConfiguration(c,i.slice(1),h),o&&(o.rowSpan+=h.rowSpan)):(h.items=d,f=t(h.items),v&&(f+=h.items.length),h.rowSpan=f,o&&(o.rowSpan+=f)),m.push(h));}return m;},selectionByElement:function selectionByElement(t){var n,i,o;return t=e(t),!t.hasClass("k-scheduler-datecolumn")&&this._eventsList.length?(t.is(".k-task")&&(t=t.closest("td")),this._isMobile()?(o=t.parent(),n=o.parent().children().filter(function(){return e(this).children(":not(.k-scheduler-datecolumn)").length;}).index(o)):n=t.parent().index(),i=this._eventsList[n],{index:n,start:i.start,end:i.end,isAllDay:i.isAllDay,uid:i.uid}):void 0;},select:function select(e){this.clearSelection();var t=this.table.find(".k-task").eq(e.index).closest("tr").addClass("k-state-selected").attr("aria-selected",!0)[0];this.current(t);},move:function move(e,t){var n,i=!1,o=e.index;return t==r.keys.UP?(o--,i=!0):t==r.keys.DOWN&&(o++,i=!0),i&&(n=this._eventsList[o],n&&(e.start=n.start,e.end=n.end,e.isAllDay=n.isAllDay,e.events=[n.uid],e.index=o)),i;},moveToEvent:function moveToEvent(){return!1;},constrainSelection:function constrainSelection(e){var t=this._eventsList[0];t&&(e.start=t.start,e.end=t.end,e.isAllDay=t.isAllDay,e.events=[t.uid],e.index=0);},isInRange:function isInRange(){return!0;},destroy:function destroy(){this.element&&this.element.off(s),a.SchedulerView.fn.destroy.call(this);},options:{title:"Agenda",name:"agenda",editable:!0,selectedDateFormat:"{0:D}-{1:D}",selectedShortDateFormat:"{0:d} - {1:d}",eventTemplate:"#:title#",eventTimeTemplate:"#if(data.isAllDay) {##=this.options.messages.allDay##} else { ##=kendo.format(format, start, end)## } #",eventDateTemplate:'<strong class="k-scheduler-agendaday">#=kendo.toString(date, "dd")#</strong><em class="k-scheduler-agendaweek">#=kendo.toString(date,"dddd")#</em><span class="k-scheduler-agendadate">#=kendo.toString(date, "y")#</span>',eventGroupTemplate:'<strong class="k-scheduler-adgendagroup">#=value#</strong>',messages:{event:"Event",date:"Date",time:"Time",allDay:"all day"}}});}(window.kendo.jQuery),window.kendo;},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("kendo.scheduler.monthview.min",["kendo.scheduler.view.min"],e);}(function(){return function(e){function t(e,t){return e.slice(t).concat(e.slice(0,t));}function n(e,t){for(var n=t.firstDay,i=new Date(e.getFullYear(),e.getMonth(),0,e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds());i.getDay()!=n;){o.date.setTime(i,-1*d);}return i;}function i(e,t,n){var i,o=t,r=n;return i=e,i>=o&&r>=i;}var o=window.kendo,r=o.ui,a=r.SchedulerView,s=".kendoMonthView",l=e.extend,c=o.date.getDate,d=o.date.MS_PER_DAY,u=6,h=7,f=o.template('<span class="k-link k-nav-day">#:kendo.toString(date, "dd")#</span>'),p='<div role="gridcell" aria-selected="false" data-#=ns#uid="#=uid#"#if (resources[0]) { #style="background-color:#=resources[0].color #; border-color: #=resources[0].color#"class="k-event#=inverseColor ? " k-event-inverse" : ""#"#} else {#class="k-event"#}#><span class="k-event-actions"># if(data.tail || data.middle) {#<span class="k-icon k-i-arrow-w"></span>#}## if(data.isException()) {#<span class="k-icon k-i-exception"></span># } else if(data.isRecurring()) {#<span class="k-icon k-i-refresh"></span>#}#</span>{0}<span class="k-event-actions">#if (showDelete) {#<a href="\\#" class="k-link k-event-delete"><span class="k-icon k-si-close"></span></a>#}## if(data.head || data.middle) {#<span class="k-icon k-i-arrow-e"></span>#}#</span># if(resizable && !data.tail && !data.middle) {#<span class="k-resize-handle k-resize-w"></span>#}## if(resizable && !data.head && !data.middle) {#<span class="k-resize-handle k-resize-e"></span>#}#</div>',m=o.template('<div title="#=title.replace(/"/g,"&\\#34;")#"><div class="k-event-template">#:title#</div></div>'),g=o.template('<div style="width:#=width#px;left:#=left#px;top:#=top#px" class="k-more-events k-button"><span>...</span></div>');r.MonthView=a.extend({init:function init(e,t){var n=this;a.fn.init.call(n,e,t),n.title=n.options.title,n._templates(),n._editable(),n._renderLayout(n.options.date),n._groups();},name:"month",_updateDirection:function _updateDirection(e,t,n,i,o){var r,a,s,l,c;n&&(r=t[0].start,a=t[t.length-1].end,s=r.index===a.index,l=r.collectionIndex===a.collectionIndex,c=o?s&&l||l:s&&l,c&&(e.backward=i));},_changeViewPeriod:function _changeViewPeriod(e,t,n){var i=n?7:1;return t&&(i*=-1),e.start=o.date.addDays(e.start,i),e.end=o.date.addDays(e.end,i),(!n||n&&this._isVerticallyGrouped())&&(e.groupIndex=t?this.groups.length-1:0),e.events=[],!0;},_continuousSlot:function _continuousSlot(e,t,n){var i=e.backward?0:t.length-1,o=this.groups[e.groupIndex];return o.continuousSlot(t[i].start,n);},_changeGroupContinuously:function _changeGroupContinuously(e,t,n,i){var o,r,a,s;return n||(o=e.groupIndex,r=this.groups.length-1,a=this._isVerticallyGrouped(),s=this.groups[o],!t&&a?(t=s[i?"lastSlot":"firstSlot"](),o+=i?-1:1):t&&!a&&(o=i?r:0),(0>o||o>r)&&(o=i?r:0,t=null),e.groupIndex=o),t;},_normalizeHorizontalSelection:function _normalizeHorizontalSelection(e,t,n){var i;return i=n?t[0].start:t[t.length-1].end;},_normalizeVerticalSelection:function _normalizeVerticalSelection(e,t){var n;return n=e.backward?t[0].start:t[t.length-1].end;},_templates:function _templates(){var e=this.options,t=l({},o.Template,e.templateSettings);this.eventTemplate=this._eventTmpl(e.eventTemplate,p),this.dayTemplate=o.template(e.dayTemplate,t),this.groupHeaderTemplate=o.template(e.groupHeaderTemplate,t);},dateForTitle:function dateForTitle(){return o.format(this.options.selectedDateFormat,this._firstDayOfMonth,this._lastDayOfMonth);},shortDateForTitle:function shortDateForTitle(){return o.format(this.options.selectedShortDateFormat,this._firstDayOfMonth,this._lastDayOfMonth);},nextDate:function nextDate(){return o.date.nextDay(this._lastDayOfMonth);},previousDate:function previousDate(){return o.date.previousDay(this._firstDayOfMonth);},startDate:function startDate(){return this._startDate;},endDate:function endDate(){return this._endDate;},_renderLayout:function _renderLayout(t){var i=this;this._firstDayOfMonth=o.date.firstDayOfMonth(t),this._lastDayOfMonth=o.date.lastDayOfMonth(t),this._startDate=n(t,this.calendarInfo()),this.createLayout(this._layout()),this._content(),this.refreshLayout(),this.content.on("click"+s,".k-nav-day,.k-more-events",function(t){var n=e(t.currentTarget).offset(),o=i._slotByPosition(n.left,n.top);t.preventDefault(),i.trigger("navigate",{view:"day",date:o.startDate()});});},_editable:function _editable(){this.options.editable&&!this._isMobilePhoneView()&&(this._isMobile()?this._touchEditable():this._mouseEditable());},_mouseEditable:function _mouseEditable(){var t=this;t.element.on("click"+s,".k-scheduler-monthview .k-event a:has(.k-si-close)",function(n){t.trigger("remove",{uid:e(this).closest(".k-event").attr(o.attr("uid"))}),n.preventDefault();}),t.options.editable.create!==!1&&t.element.on("dblclick"+s,".k-scheduler-monthview .k-scheduler-content td",function(n){var i,o=e(n.currentTarget).offset(),r=t._slotByPosition(o.left,o.top);r&&(i=t._resourceBySlot(r),t.trigger("add",{eventInfo:l({isAllDay:!0,start:r.startDate(),end:r.startDate()},i)})),n.preventDefault();}),t.options.editable.update!==!1&&t.element.on("dblclick"+s,".k-scheduler-monthview .k-event",function(n){t.trigger("edit",{uid:e(this).closest(".k-event").attr(o.attr("uid"))}),n.preventDefault();});},_touchEditable:function _touchEditable(){var t=this,n=0;o.support.mobileOS.android&&(n=5),t.options.editable.create!==!1&&(t._addUserEvents=new o.UserEvents(t.element,{threshold:n,filter:".k-scheduler-monthview .k-scheduler-content td",tap:function tap(n){var i,o=e(n.target).offset(),r=t._slotByPosition(o.left,o.top);r&&(i=t._resourceBySlot(r),t.trigger("add",{eventInfo:l({isAllDay:!0,start:r.startDate(),end:r.startDate()},i)})),n.preventDefault();}})),t.options.editable.update!==!1&&(t._editUserEvents=new o.UserEvents(t.element,{threshold:n,filter:".k-scheduler-monthview .k-event",tap:function tap(n){0===e(n.event.target).closest("a:has(.k-si-close)").length&&(t.trigger("edit",{uid:e(n.target).closest(".k-event").attr(o.attr("uid"))}),n.preventDefault());}}));},selectionByElement:function selectionByElement(t){var n=e(t).offset();return this._slotByPosition(n.left,n.top);},_columnCountForLevel:function _columnCountForLevel(e){var t=this.columnLevels[e];return t?t.length:0;},_rowCountForLevel:function _rowCountForLevel(e){var t=this.rowLevels[e];return t?t.length:0;},_content:function _content(){var e,t="<tbody>",n=1,i=this.groupedResources;for(i.length&&this._isVerticallyGrouped()&&(n=this._rowCountForLevel(i.length-1)),e=0;n>e;e++){t+=this._createCalendar(e);}t+="</tbody>",this.content.find("table").html(t);},_createCalendar:function _createCalendar(e){var t,n,i,r,a=this.startDate(),s=h*u,l=h,c=[a],d="",f=1,p=this._isVerticallyGrouped(),m=this.groupedResources;for(m.length&&(p||(f=this._columnCountForLevel(m.length-1))),this._slotIndices={},t=0,n=s/l;n>t;t++){for(d+="<tr>",c.push(a),i=t*l,r=0;f>r;r++){d+=this._createRow(a,i,l,p?e:r);}a=o.date.addDays(a,l),d+="</tr>";}return this._weekStartDates=c,this._endDate=o.date.previousDay(a),d;},_createRow:function _createRow(e,t,n,i){var r,a=this,s=a._firstDayOfMonth,l=a._lastDayOfMonth,d=a.dayTemplate,u="",h="",f=function f(){return a._resourceBySlot({groupIndex:i});};for(r=0;n>r;r++){u="",o.date.isToday(e)&&(u+="k-today"),o.date.isInDateRange(e,s,l)||(u+=" k-other-month"),h+="<td ",""!==u&&(h+='class="'+u+'"'),h+=">",h+=d({date:e,resources:f}),h+="</td>",a._slotIndices[c(e).getTime()]=t+r,e=o.date.nextDay(e);}return h;},_layout:function _layout(){var n,i,o,r=this.calendarInfo(),a=this._isMobile()?r.days.namesShort:r.days.names,s=t(a,r.firstDay),l=e.map(s,function(e){return{text:e};}),c=this.groupedResources;if(c.length)if(this._isVerticallyGrouped()){for(i=[],o=0;6>o;o++){i.push({text:"<div>&nbsp;</div>",className:"k-hidden k-slot-cell"});}n=this._createRowsLayout(c,i,this.groupHeaderTemplate);}else l=this._createColumnsLayout(c,l,this.groupHeaderTemplate);return{columns:l,rows:n};},_createEventElement:function _createEventElement(t){var n,i=this.options,r=i.editable,a=this._isMobile();return t.showDelete=r&&r.destroy!==!1&&!a,t.resizable=r&&r.resize!==!1&&!a,t.ns=o.ns,t.resources=this.eventResources(t),t.inverseColor=t.resources&&t.resources[0]?this._shouldInverseResourceColor(t.resources[0]):!1,n=e(this.eventTemplate(t)),this.angular("compile",function(){return{elements:n,data:[{dataItem:t}]};}),n;},_isInDateSlot:function _isInDateSlot(e){var t=this.groups[0],n=t.firstSlot().start,r=t.lastSlot().end-1,a=o.date.toUtcTime(e.start),s=o.date.toUtcTime(e.end);return(i(a,n,r)||i(s,n,r)||i(n,a,s)||i(r,a,s))&&(!i(s,n,n)||i(s,a,a)||e.isAllDay);},_slotIndex:function _slotIndex(e){return this._slotIndices[c(e).getTime()];},_positionMobileEvent:function _positionMobileEvent(t,n,i){var r,s,l,c,d,u,h,f=t.start;t.start.offsetLeft>t.end.offsetLeft&&(f=t.end),r=t.start.index,s=r,l=3,c=a.collidingEvents(t.events(),r,s),c.push({element:n,start:r,end:s}),d=a.createRows(c),u=t.collection.at(r),h=u.container,h||(h=e(o.format('<div class="k-events-container" style="top:{0};left:{1};width:{2}"/>',f.offsetTop+f.firstChildTop+f.firstChildHeight-3+"px",f.offsetLeft+"px",f.offsetWidth+"px")),u.container=h,this.content[0].appendChild(h[0])),l>=d.length&&(t.addEvent({element:n,start:r,end:s,groupIndex:f.groupIndex}),i._continuousEvents.push({element:n,uid:n.attr(o.attr("uid")),start:t.start,end:t.end}),h[0].appendChild(n[0]));},_positionEvent:function _positionEvent(t,n,i){var r,s,l,c,d,u,h,f,p,m,v,_,b,w,y,k=this.options.eventHeight,x=t.start;for(t.start.offsetLeft>t.end.offsetLeft&&(x=t.end),r=t.start.index,s=t.end.index,l=x.eventCount,c=a.collidingEvents(t.events(),r,s),d=r!==s?5:4,c.push({element:n,start:r,end:s}),u=a.createRows(c),h=0,f=Math.min(u.length,l);f>h;h++){for(p=u[h].events,m=x.offsetTop+x.firstChildHeight+h*k+3*h+"px",v=0,_=p.length;_>v;v++){p[v].element[0].style.top=m;}}if(u.length>l)for(b=r;s>=b;b++){if(w=t.collection,y=w.at(b),y.more)return;y.more=e(g({ns:o.ns,start:b,end:b,width:y.clientWidth-2,left:y.offsetLeft+2,top:y.offsetTop+y.firstChildHeight+l*k+3*l})),this.content[0].appendChild(y.more[0]);}else t.addEvent({element:n,start:r,end:s,groupIndex:x.groupIndex}),n[0].style.width=t.innerWidth()-d+"px",n[0].style.left=x.offsetLeft+2+"px",n[0].style.height=k+"px",i._continuousEvents.push({element:n,uid:n.attr(o.attr("uid")),start:t.start,end:t.end}),n.appendTo(this.content);},_slotByPosition:function _slotByPosition(e,t){var n,i,o=this.content.offset();for(e-=o.left,t-=o.top,t+=this.content[0].scrollTop,e+=this.content[0].scrollLeft,e=Math.ceil(e),t=Math.ceil(t),n=0;this.groups.length>n;n++){if(i=this.groups[n].daySlotByPosition(e,t))return i;}return null;},_createResizeHint:function _createResizeHint(e){var t=e.startSlot().offsetLeft,n=e.start.offsetTop,i=e.innerWidth(),o=e.start.clientHeight-2,r=a.fn._createResizeHint.call(this,t,n,i,o);r.appendTo(this.content),this._resizeHint=this._resizeHint.add(r);},_updateResizeHint:function _updateResizeHint(e,t,n,i){var r,a,s;for(this._removeResizeHint(),r=this.groups[t],a=r.ranges(n,i,!0,e.isAllDay),s=0;a.length>s;s++){this._createResizeHint(a[s]);}this._resizeHint.find(".k-label-top,.k-label-bottom").text(""),this._resizeHint.first().addClass("k-first").find(".k-label-top").text(o.toString(o.timezone.toLocalDate(n),"M/dd")),this._resizeHint.last().addClass("k-last").find(".k-label-bottom").text(o.toString(o.timezone.toLocalDate(i),"M/dd"));},_updateMoveHint:function _updateMoveHint(e,t,n){var i,r,a,s,l,c=o.date.toUtcTime(e.start)+n,d=c+e.duration(),u=this.groups[t],h=u.ranges(c,d,!0,e.isAllDay);for(this._removeMoveHint(),i=0;h.length>i;i++){r=h[i],a=r.startSlot(),s=r.endSlot(),l=this._createEventElement(e.clone({head:r.head,tail:r.tail})),l.css({left:a.offsetLeft+2,top:a.offsetTop+a.firstChildHeight,height:this.options.eventHeight,width:r.innerWidth()-(a.index!==s.index?5:4)}),l.addClass("k-event-drag-hint"),l.appendTo(this.content),this._moveHint=this._moveHint.add(l);}},_groups:function _groups(){var e,t,n,i,r,a,s,l,c,d,f,p,m,g,v,_,b,w,y,k=this._groupCount(),x=h,C=u;for(this.groups=[],e=0;k>e;e++){this._addResourceView(e);}for(t=this.content[0].getElementsByTagName("tr"),n=this.startDate(),i=0;k>i;i++){for(r=0,a=0,this._isVerticallyGrouped()&&(a=i),s=a*C;(a+1)*C>s;s++){for(l=this.groups[i],c=l.addDaySlotCollection(o.date.addDays(n,r),o.date.addDays(this.startDate(),r+x)),d=t[s],f=d.children,p=0,d.setAttribute("role","row"),this._isVerticallyGrouped()||(p=i),m=p*x;(p+1)*x>m;m++){g=f[m],v=g.clientHeight,_=g.children.length?g.children[0].offsetHeight+3:0,b=o.date.addDays(n,r),w=o.date.MS_PER_DAY,n.getHours()!==b.getHours()&&(w+=(n.getHours()-b.getHours())*o.date.MS_PER_HOUR),b=o.date.toUtcTime(b),w+=b,r++,y=Math.floor((v-_-this.options.moreButtonHeight)/(this.options.eventHeight+3)),g.setAttribute("role","gridcell"),g.setAttribute("aria-selected",!1),c.addDaySlot(g,b,w,y);}}}},render:function render(e){this.content.children(".k-event,.k-more-events,.k-events-container").remove(),this._groups(),e=new o.data.Query(e).sort([{field:"start",dir:"asc"},{field:"end",dir:"desc"}]).toArray();var t=this.groupedResources;t.length?this._renderGroups(e,t,0,1):this._renderEvents(e,0),this.refreshLayout(),this.trigger("activate");},_renderEvents:function _renderEvents(e,t){var n,i,o,r,a,s,l,c,d,u,h,f=this._isMobilePhoneView();for(i=0,o=e.length;o>i;i++){if(n=e[i],this._isInDateSlot(n))for(r=this.groups[t],r._continuousEvents||(r._continuousEvents=[]),a=r.slotRanges(n,!0),s=a.length,l=0;s>l;l++){c=a[l],d=n.start,u=n.end,s>1&&(0===l?u=c.end.endDate():l==s-1?d=c.start.startDate():(d=c.start.startDate(),u=c.end.endDate())),h=n.clone({start:d,end:u,head:c.head,tail:c.tail}),f?this._positionMobileEvent(c,this._createEventElement(h),r):this._positionEvent(c,this._createEventElement(h),r);}}},_renderGroups:function _renderGroups(e,t,n,i){var r,s,l,c,d=t[0];if(d)for(r=d.dataSource.view(),s=0;r.length>s;s++){l=this._resourceValue(d,r[s]),c=new o.data.Query(e).filter({field:d.field,operator:a.groupEqFilter(l)}).toArray(),t.length>1?n=this._renderGroups(c,t.slice(1),n++,i+1):this._renderEvents(c,n++);}return n;},_groupCount:function _groupCount(){var e=this.groupedResources;return e.length?this._isVerticallyGrouped()?this._rowCountForLevel(e.length-1):this._columnCountForLevel(e.length)/this._columnOffsetForResource(e.length):1;},_columnOffsetForResource:function _columnOffsetForResource(e){return this._columnCountForLevel(e)/this._columnCountForLevel(e-1);},destroy:function destroy(){this.table&&this.table.removeClass("k-scheduler-monthview"),this.content&&this.content.off(s),this.element&&this.element.off(s),a.fn.destroy.call(this),this._isMobile()&&!this._isMobilePhoneView()&&this.options.editable&&(this.options.editable.create!==!1&&this._addUserEvents.destroy(),this.options.editable.update!==!1&&this._editUserEvents.destroy());},events:["remove","add","edit","navigate"],options:{title:"Month",name:"month",eventHeight:25,moreButtonHeight:13,editable:!0,selectedDateFormat:"{0:y}",selectedShortDateFormat:"{0:y}",groupHeaderTemplate:"#=text#",dayTemplate:f,eventTemplate:m}});}(window.kendo.jQuery),window.kendo;},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("kendo.scheduler.recurrence.min",["kendo.dropdownlist.min","kendo.datepicker.min","kendo.numerictextbox.min"],e);}(function(){return function(e,t){function n(e,t){var n;return 0!==e&&t>e?n=t-e:(n=e%t,n&&(n=t-n)),n;}function i(e){var t=e.getMonth(),n=g(e)?te[t]:ne[t];return n+e.getDate();}function o(e,n){var i,o;return e=new Date(e.getFullYear(),e.getMonth(),e.getDate()),J(e,0),i=e.getFullYear(),n!==t?(X(e,n,-1),e.setDate(e.getDate()+4)):e.setDate(e.getDate()+(4-(e.getDay()||7))),J(e,0),o=Math.floor((e.getTime()-new Date(i,0,1,-6))/864e5),1+Math.floor(o/7);}function r(e,t){var n=Z(e).getDay(),i=7-(n+7-(t||7))||7;return 0>i&&(i+=7),Math.ceil((e.getDate()-i)/7)+1;}function a(e,t){return e+(t>e?7:0);}function s(e,t,n){var i,o,s,l,c,d=t.offset;return d?(i=new Date(e.getFullYear(),e.getMonth()+1,0),o=r(i,n),s=a(t.day,n),l=s<a(new Date(e.getFullYear(),e.getMonth(),1).getDay(),n),c=s>a(i.getDay(),n),0>d?d=o+(d+1-(c?1:0)):l&&(d+=1),o-=c?1:0,(l?1:0)>d||d>o?null:d):r(e,n);}function l(e,t){return r(new Date(e.getFullYear(),e.getMonth()+1,0),t);}function c(e,t,n){return r(e,n)===s(e,t,n);}function d(e,t,n){for(var i,o,l,c,d=a(t.getDay(),n),u=e.length,h=[],f=0;u>f;f++){if(o=e[f],c=r(t,n),i=s(t,o,n),null!==i)if(i>c)h.push(o);else if(c===i)if(l=a(o.day,n),l>d)h.push(o);else if(d===l)return null;}return h;}function u(e,t,n){for(var i,o=0,r=e.length,a=[];r>o;o++){if(i=e[o],n&&(i=n(i)),t===i)return null;i>t&&a.push(i);}return a;}function h(e,t){for(var n,i=0,o=e.length;o>i;i++){if(n=parseInt(e[i],10),isNaN(n)||t.start>n||n>t.end||0===n&&0>t.start)return null;e[i]=n;}return e.sort(v);}function f(e){for(var n,i,o,r=0,a=e.length;a>r;r++){if(n=e[r],i=n.length,o=n.substring(i-2).toUpperCase(),o=re[o],o===t)return null;e[r]={offset:parseInt(n.substring(0,i-2),10)||0,day:o};}return e;}function p(e){for(var t,n,i=0,o=e.length,r=[];o>i;i++){t=e[i],"string"==typeof t?n=t:(n=""+oe[t.day],t.offset&&(n=t.offset+n)),r.push(n);}return""+r;}function m(e){var t=e.getMonth();return 1===t?1===new Date(e.getFullYear(),1,29).getMonth()?29:28:ie[t];}function g(e){return e=e.getFullYear(),e%4===0&&e%100!==0||e%400===0;}function v(e,t){return e-t;}function _(e,t){var n,i,o=0,r=[];if(e)for(e=e.split(-1!==e.indexOf(";")?";":","),n=e.length;n>o;o++){i=T(e[o],t),i&&r.push(i);}return r;}function b(t,n,i){for(var o=e.isArray(t)?t:_(t,i),r=n.getTime()-n.getMilliseconds(),a=0,s=o.length;s>a;a++){if(o[a].getTime()===r)return!0;}return!1;}function w(e,t){var n,i,o=0,r=[].concat(e);for(n=r.length;n>o;o++){i=r[o],i=W.timezone.convert(i,t||i.getTimezoneOffset(),"Etc/UTC"),r[o]=W.toString(i,ce);}return r.join(",");}function y(e,t){var n=new Date(e);switch(t.freq){case"yearly":n.setFullYear(n.getFullYear(),0,1);break;case"monthly":n.setFullYear(n.getFullYear(),n.getMonth(),1);break;case"weekly":X(n,t.weekStart,-1);}return t.hours&&n.setHours(0),t.minutes&&n.setMinutes(0),t.seconds&&n.setSeconds(0),n;}function k(e,t){var n=new Date(e);switch(t.freq){case"yearly":n.setFullYear(n.getFullYear(),11,31);break;case"monthly":n.setFullYear(n.getFullYear(),n.getMonth()+1,0);break;case"weekly":X(n,t.weekStart,-1),n.setDate(n.getDate()+6);}return t.hours&&n.setHours(23),t.minutes&&n.setMinutes(59),t.seconds&&n.setSeconds(59),n;}function x(e,t,n){var i,o,r,a,s=e.length,l=[];for(r=0,a=n.length;a>r;r++){i=n[r],0>i?i=s+i:i-=1,o=e[i],o&&o.start>=t&&l.push(o);}return l;}function C(e,t,n){var i,o,r=[];for(o=0;e.length>o;o++){i=e[o],b(t,i.start,n)||r.push(i);}return r;}function S(e,n,i,o){var r,a,s,l,c,d,u,h,f,p,m,g,v,S,T,D,E,R,I,F,M,P,z,B=A(e.recurrenceRule,o),L=[];if(!B)return[e];for(F=B.positions,M=F?0:1,p=B.start,m=B.end,(p||m)&&(e=e.clone({start:p?new Date(p.value[0]):t,end:m?new Date(m.value[0]):t})),E=e.start,D=E.getTime(),T=ee(E),S=_(e.recurrenceException,o),!S[0]&&B.exdates&&(S=B.exdates.value,e.set("recurrenceException",w(S,o))),h=n=new Date(n),i=new Date(i),v=B.freq,I=ve[v],R=B.count,B.until&&i>B.until&&(i=new Date(B.until)),g="yearly"===v||"monthly"===v||"weekly"===v,D>n||R||B.interval>1||g?n=new Date(D):(l=n.getHours(),c=n.getMinutes(),d=n.getSeconds(),B.hours||(l=E.getHours()),B.minutes||(c=E.getMinutes()),B.seconds||(d=E.getSeconds()),n.setHours(l,c,d,E.getMilliseconds())),B._startPeriod=new Date(n),F&&(n=y(n,B),i=k(i,B),z=ee(i)-ee(n),0>z&&(l=n.getHours(),i.setHours(l,n.getMinutes(),n.getSeconds(),n.getMilliseconds()),K.adjustDST(i,l)),B._startPeriod=new Date(n),B._endPeriod=k(n,B)),u=e.duration(),B._startTime=r=K.toInvariantTime(n),I.setup&&I.setup(B,E,n),I.limit(n,i,B);i>=n;){if(s=new Date(n),Q(s,u),f=n>=h||s>h,(f&&!b(S,n,o)||F)&&(r=K.toUtcTime(K.getDate(n))+ee(B._startTime),a=r+u,D!==n.getTime()||T!==ee(B._startTime)?L.push(e.toOccurrence({start:new Date(n),end:s,_startTime:r,_endTime:a})):(e._startTime=r,e._endTime=a,L.push(e))),F){if(I.next(n,B),I.limit(n,i,B),n>B._endPeriod&&(P=x(L.slice(M),E,F),P=C(P,S,o),L=L.slice(0,M).concat(P),B._endPeriod=k(n,B),M=L.length),R&&R===M)break;}else{if(R&&R===M)break;M+=1,I.next(n,B),I.limit(n,i,B);}}return L;}function T(e,t){return e=W.parseDate(e,ae),e&&t&&(e=j.convert(e,e.getTimezoneOffset(),t)),e;}function D(e,n){var i,o,r,a,s,l,c,d,u=e.split(";");for(c=0,d=u.length;d>c;c++){if(i=u[c].split(":"),o=i[0],r=i[1],-1!==o.indexOf("TZID")&&(a=o.substring(o.indexOf("TZID")).split("=")[1]),r)for(r=r.split(","),s=0,l=r.length;l>s;s++){r[s]=T(r[s],a||n);}}return r?{value:r,tzid:a}:t;}function A(n,i){var o,r,a,s,l,c,d,u,p,m={},g=0,v=!1,_=function _(e,t){var n=e.day,i=t.day;return u>n&&(n+=7),u>i&&(i+=7),n-i;};if(!n)return null;for(c=n.split("\n"),c[1]||-1===n.indexOf("DTSTART")&&-1===n.indexOf("DTEND")&&-1===n.indexOf("EXDATE")||(c=n.split(" ")),g=0,a=c.length;a>g;g++){l=e.trim(c[g]),-1!==l.indexOf("DTSTART")?m.start=D(l,i):-1!==l.indexOf("DTEND")?m.end=D(l,i):-1!==l.indexOf("EXDATE")?m.exdates=D(l,i):-1!==l.indexOf("RRULE")?s=l.substring(6):e.trim(l)&&(s=l);}for(s=s.split(";"),g=0,a=s.length;a>g;g++){switch(d=s[g],o=d.split("="),r=e.trim(o[1]).split(","),e.trim(o[0]).toUpperCase()){case"FREQ":m.freq=r[0].toLowerCase();break;case"UNTIL":m.until=T(r[0],i);break;case"COUNT":m.count=parseInt(r[0],10);break;case"INTERVAL":m.interval=parseInt(r[0],10);break;case"BYSECOND":m.seconds=h(r,{start:0,end:60}),v=!0;break;case"BYMINUTE":m.minutes=h(r,{start:0,end:59}),v=!0;break;case"BYHOUR":m.hours=h(r,{start:0,end:23}),v=!0;break;case"BYMONTHDAY":m.monthDays=h(r,{start:-31,end:31}),v=!0;break;case"BYYEARDAY":m.yearDays=h(r,{start:-366,end:366}),v=!0;break;case"BYMONTH":m.months=h(r,{start:1,end:12}),v=!0;break;case"BYDAY":m.weekDays=p=f(r),v=!0;break;case"BYWEEKNO":m.weeks=h(r,{start:-53,end:53}),v=!0;break;case"BYSETPOS":m.positions=h(r,{start:-366,end:366});break;case"WKST":m.weekStart=u=re[r[0]];}}return m.freq===t||m.count!==t&&m.until?null:(m.interval||(m.interval=1),u===t&&(m.weekStart=u=W.culture().calendar.firstDay),p&&(m.weekDays=p.sort(_)),m.positions&&!v&&(m.positions=null),m._hasRuleValue=v,m);}function E(e,t){for(var n,i=e.value,o=e.tzid||"",r=i.length,a=0;r>a;a++){n=i[a],n=j.convert(n,o||t||n.getTimezoneOffset(),"Etc/UTC"),i[a]=W.toString(n,"yyyyMMddTHHmmssZ");}return o&&(o=";TZID="+o),o+":"+i.join(",")+" ";}function R(e,n){var i=e.weekStart,o="FREQ="+e.freq.toUpperCase(),r=e.exdates||"",a=e.start||"",s=e.end||"",l=e.until;return e.interval>1&&(o+=";INTERVAL="+e.interval),e.count&&(o+=";COUNT="+e.count),l&&(l=j.convert(l,n||l.getTimezoneOffset(),"Etc/UTC"),o+=";UNTIL="+W.toString(l,"yyyyMMddTHHmmssZ")),e.months&&(o+=";BYMONTH="+e.months),e.weeks&&(o+=";BYWEEKNO="+e.weeks),e.yearDays&&(o+=";BYYEARDAY="+e.yearDays),e.monthDays&&(o+=";BYMONTHDAY="+e.monthDays),e.weekDays&&(o+=";BYDAY="+p(e.weekDays)),e.hours&&(o+=";BYHOUR="+e.hours),e.minutes&&(o+=";BYMINUTE="+e.minutes),e.seconds&&(o+=";BYSECOND="+e.seconds),e.positions&&(o+=";BYSETPOS="+e.positions),i!==t&&(o+=";WKST="+oe[i]),a&&(a="DTSTART"+E(a,n)),s&&(s="DTEND"+E(s,n)),r&&(r="EXDATE"+E(r,n)),(a||s||r)&&(o=a+s+r+"RRULE:"+o),o;}var I,F,M,P,z,B,L,H,N,O,V,U,W=window.kendo,j=W.timezone,q=W.Class,G=W.ui,$=G.Widget,Y=G.DropDownList,K=W.date,Q=K.setTime,X=K.setDayOfWeek,J=K.adjustDST,Z=K.firstDayOfMonth,ee=K.getMilliseconds,te=[0,31,60,91,121,152,182,213,244,274,305,335,366],ne=[0,31,59,90,120,151,181,212,243,273,304,334,365],ie=[31,28,30,31,30,31,30,31,30,31,30,31],oe={0:"SU",1:"MO",2:"TU",3:"WE",4:"TH",5:"FR",6:"SA"},re={SU:0,MO:1,TU:2,WE:3,TH:4,FR:5,SA:6},ae=["yyyy-MM-ddTHH:mm:ss.fffzzz","yyyy-MM-ddTHH:mm:sszzz","yyyy-MM-ddTHH:mm:ss","yyyy-MM-ddTHH:mm","yyyy-MM-ddTHH","yyyy-MM-dd","yyyyMMddTHHmmssfffzzz","yyyyMMddTHHmmsszzz","yyyyMMddTHHmmss","yyyyMMddTHHmm","yyyyMMddTHH","yyyyMMdd"],se=["months","weeks","yearDays","monthDays","weekDays","hours","minutes","seconds"],le=se.length,ce="yyyyMMddTHHmmssZ",de={months:function months(e,t,n){var i=n.months,o=u(i,e.getMonth()+1),r=!1;return null!==o&&(o.length?e.setMonth(o[0]-1,1):e.setFullYear(e.getFullYear()+1,i[0]-1,1),r=!0),r;},monthDays:function monthDays(e,t,n){for(var i,o,r,a=!1,s=e.getHours(),l=function l(e){return 0>e&&(e=i+e),e;};t>=e;){if(o=e.getMonth(),i=m(e),r=u(n.monthDays,e.getDate(),l),null===r)return a;if(a=!0,r.length){if(e.setMonth(o,r.sort(v)[0]),J(e,s),o===e.getMonth())break;}else e.setMonth(o+1,1);}return a;},yearDays:function yearDays(e,t,n){for(var o,r,a=!1,s=e.getHours(),l=function l(e){return 0>e&&(e=o+e),e;};t>e;){if(o=g(e)?366:365,r=u(n.yearDays,i(e),l),null===r)return a;if(a=!0,o=e.getFullYear(),r.length){e.setFullYear(o,0,r.sort(v)[0]),J(e,s);break;}e.setFullYear(o+1,0,1);}return a;},weeks:function weeks(e,t,n){for(var i,r,a,s=n.weekStart,l=!1,c=e.getHours(),d=function d(e){return 0>e&&(e=53+e),e;};t>e;){if(r=u(n.weeks,o(e,s),d),null===r)return l;if(l=!0,i=e.getFullYear(),r.length){a=7*r.sort(v)[0]-1,e.setFullYear(i,0,a),X(e,s,-1),J(e,c);break;}e.setFullYear(i+1,0,1);}return l;},weekDays:function weekDays(e,t,n){var i,o,a=n.weekDays,s=n.weekStart,u=d(a,e,s),h=e.getHours();if(null===u)return!1;if(i=u[0],i||(i=a[0],X(e,s)),o=i.day,i.offset)for(;t>=e&&!c(e,i,s);){r(e,s)===l(e,s)?(e.setMonth(e.getMonth()+1,1),J(e,h)):(e.setDate(e.getDate()+7),J(e,h),X(e,s,-1));}return e.getDay()!==o&&X(e,o),!0;},hours:function hours(e,t,n){var i=n.hours,o=n._startTime,r=o.getHours(),a=u(i,r),s=!1;return null!==a&&(s=!0,e.setHours(r),J(e,r),a.length?(a=a[0],e.setHours(a)):(a=e.getHours(),e.setDate(e.getDate()+1),J(e,a),a=i[0],e.setHours(a),J(e,a)),n.minutes&&e.setMinutes(0),o.setHours(a,e.getMinutes())),s;},minutes:function minutes(e,t,n){var i=n.minutes,o=e.getMinutes(),r=u(i,o),a=n._startTime.getHours(),s=!1;return null!==r&&(s=!0,r.length?r=r[0]:(a+=1,r=i[0]),n.seconds&&e.setSeconds(0),e.setHours(a,r),a%=24,J(e,a),n._startTime.setHours(a,r,e.getSeconds())),s;},seconds:function seconds(e,t,n){var i=n.seconds,o=n._startTime.getHours(),r=u(i,e.getSeconds()),a=e.getMinutes(),s=!1;return null!==r&&(s=!0,r.length?e.setSeconds(r[0]):(a+=1,e.setMinutes(a,i[0]),a>59&&(a%=60,o=(o+1)%24)),n._startTime.setHours(o,a,e.getSeconds())),s;}},ue=q.extend({next:function next(e,t){var n,i,o=t._startTime,r=o.getDate();if(t.seconds)i=e.getSeconds()+1,e.setSeconds(i),o.setSeconds(i),o.setDate(r);else{if(!t.minutes)return!1;n=e.getMinutes()+1,e.setMinutes(n),o.setMinutes(n),o.setDate(r);}return!0;},normalize:function normalize(e){var t=e.rule;4===e.idx&&t.hours&&(t._startTime.setHours(0),this._hour(e.date,t));},limit:function limit(e,n,i){for(var o,r,a,s,l,c=i.interval;n>=e;){for(a=r=t,l=e.getDate(),s=0;le>s;s++){if(o=se[s],i[o]){if(a=de[o](e,n,i),r!==t&&a)break;r=a;}a&&this.normalize({date:e,rule:i,day:l,idx:s});}if((1===c||!this.interval(i,e))&&s===le)break;}},interval:function interval(e,t){var i,r,a=new Date(e._startPeriod),s=new Date(t),l=t.getHours(),c=e.weekStart,d=e.interval,u=e.freq,h=!1,f=0,p=0,m=1;return"hourly"===u?(i=s.getTimezoneOffset()-a.getTimezoneOffset(),r=e._startTime.getHours(),s=s.getTime(),l!==r&&(s+=(r-l)*K.MS_PER_HOUR),s-=a,i&&(s-=i*K.MS_PER_MINUTE),i=Math.floor(s/K.MS_PER_HOUR),f=n(i,d),0!==f&&(this._hour(t,e,f),h=!0)):"daily"===u?(K.setTime(s,-a,!0),i=Math.ceil(s/K.MS_PER_DAY),f=n(i,d),0!==f&&(this._date(t,e,f),h=!0)):"weekly"===u?(i=52*(t.getFullYear()-a.getFullYear()),f=o(t,c)-o(a,c)+i,f=n(f,d),0!==f&&(K.setDayOfWeek(t,e.weekStart,-1),t.setDate(t.getDate()+7*f),J(t,l),h=!0)):"monthly"===u?(i=t.getFullYear()-a.getFullYear(),i=t.getMonth()-a.getMonth()+12*i,f=n(i,d),0!==f&&(m=e._hasRuleValue?1:t.getDate(),t.setFullYear(t.getFullYear(),t.getMonth()+f,m),J(t,l),h=!0)):"yearly"===u&&(i=t.getFullYear()-a.getFullYear(),f=n(i,d),e.months||(p=t.getMonth()),e.yearDays||e.monthDays||e.weekDays||(m=t.getDate()),0!==f&&(t.setFullYear(t.getFullYear()+f,p,m),J(t,l),h=!0)),h;},_hour:function _hour(e,t,n){var i=t._startTime,o=i.getHours();n&&(o+=n),e.setHours(o),o%=24,i.setHours(o),J(e,o);},_date:function _date(e,t,n){var i=e.getHours();e.setDate(e.getDate()+n),J(e,i)||this._hour(e,t);}}),he=ue.extend({next:function next(e,t){ue.fn.next(e,t)||this._hour(e,t,1);},normalize:function normalize(e){var t=e.rule;4===e.idx&&(t._startTime.setHours(0),this._hour(e.date,t));}}),fe=ue.extend({next:function next(e,t){ue.fn.next(e,t)||this[t.hours?"_hour":"_date"](e,t,1);}}),pe=fe.extend({setup:function setup(e,t){e.weekDays||(e.weekDays=[{day:t.getDay(),offset:0}]);}}),me=ue.extend({next:function next(e,t){var n,i;if(!ue.fn.next(e,t))if(t.hours)this._hour(e,t,1);else if(t.monthDays||t.weekDays||t.yearDays||t.weeks)this._date(e,t,1);else{for(n=e.getDate(),i=e.getHours(),e.setMonth(e.getMonth()+1),J(e,i);e.getDate()!==n;){e.setDate(n),J(e,i);}this._hour(e,t);}},normalize:function normalize(e){var t=e.rule,n=e.date,i=n.getHours();0!==e.idx||t.monthDays||t.weekDays?ue.fn.normalize(e):(n.setDate(e.day),J(n,i));},setup:function setup(e,t,n){e.monthDays||e.weekDays||n.setDate(t.getDate());}}),ge=me.extend({next:function next(e,t){var n,i=e.getHours();if(!ue.fn.next(e,t))if(t.hours)this._hour(e,t,1);else if(t.monthDays||t.weekDays||t.yearDays||t.weeks)this._date(e,t,1);else if(t.months){for(n=e.getDate(),e.setMonth(e.getMonth()+1),J(e,i);e.getDate()!==n;){e.setDate(n),J(e,i);}this._hour(e,t);}else e.setFullYear(e.getFullYear()+1),J(e,i),this._hour(e,t);},setup:function setup(){}}),ve={hourly:new he(),daily:new fe(),weekly:new pe(),monthly:new me(),yearly:new ge()},_e="click";W.recurrence={rule:{parse:A,serialize:R},expand:S,dayInYear:i,weekInYear:o,weekInMonth:r,numberOfWeeks:l,isException:b,toExceptionString:w},I=function I(e){for(var t=W.culture().calendar.days.namesShort,n=t.length,i="",o=0,r=[];n>o;o++){r.push(o);}for(t=t.slice(e).concat(t.slice(0,e)),r=r.slice(e).concat(r.slice(0,e)),o=0;n>o;o++){i+='<label class="k-check"><input class="k-recur-weekday-checkbox" type="checkbox" value="'+r[o]+'" /> '+t[o]+"</label>";}return i;},F=W.template('# if (frequency !== "never") { #<div class="k-edit-label"><label>#:messages.repeatEvery#</label></div><div class="k-edit-field"><input class="k-recur-interval"/>#:messages.interval#</div># } ## if (frequency === "weekly") { #<div class="k-edit-label"><label>#:messages.repeatOn#</label></div><div class="k-edit-field">#=weekDayCheckBoxes(firstWeekDay)#</div># } else if (frequency === "monthly") { #<div class="k-edit-label"><label>#:messages.repeatOn#</label></div><div class="k-edit-field"><ul class="k-reset"><li><label><input class="k-recur-month-radio" type="radio" name="month" value="monthday" />#:messages.day#</label><input class="k-recur-monthday" /></li><li><input class="k-recur-month-radio" type="radio" name="month" value="weekday" /><input class="k-recur-weekday-offset" /><input class="k-recur-weekday" /></li></ul></div># } else if (frequency === "yearly") { #<div class="k-edit-label"><label>#:messages.repeatOn#</label></div><div class="k-edit-field"><ul class="k-reset"><li><input class="k-recur-year-radio" type="radio" name="year" value="monthday" /><input class="k-recur-month" /><input class="k-recur-monthday" /></li><li><input class="k-recur-year-radio" type="radio" name="year" value="weekday" /><input class="k-recur-weekday-offset" /><input class="k-recur-weekday" />#:messages.of#<input class="k-recur-month" /></li></ul></div># } ## if (frequency !== "never") { #<div class="k-edit-label"><label>#:end.label#</label></div><div class="k-edit-field"><ul class="k-reset"><li><label><input class="k-recur-end-never" type="radio" name="end" value="never" />#:end.never#</label></li><li><label><input class="k-recur-end-count" type="radio" name="end" value="count" />#:end.after#</label><input class="k-recur-count" />#:end.occurrence#</li><li><label><input class="k-recur-end-until" type="radio" name="end" value="until" />#:end.on#</label><input class="k-recur-until" /></li></ul></div># } #'),M=[{day:0,offset:0},{day:1,offset:0},{day:2,offset:0},{day:3,offset:0},{day:4,offset:0},{day:5,offset:0},{day:6,offset:0}],P=[{day:1,offset:0},{day:2,offset:0},{day:3,offset:0},{day:4,offset:0},{day:5,offset:0}],z=[{day:0,offset:0},{day:6,offset:0}],B=$.extend({init:function init(e,t){var n,i=this,o=t&&t.frequencies;$.fn.init.call(i,e,t),i.wrapper=i.element,t=i.options,t.start=n=t.start||K.today(),o&&(t.frequencies=o),"string"==typeof n&&(t.start=W.parseDate(n,"yyyyMMddTHHmmss")),null===t.firstWeekDay&&(t.firstWeekDay=W.culture().calendar.firstDay),i._namespace="."+t.name;},options:{value:"",start:"",timezone:"",spinners:!0,firstWeekDay:null,frequencies:["never","daily","weekly","monthly","yearly"],mobile:!1,messages:{frequencies:{never:"Never",hourly:"Hourly",daily:"Daily",weekly:"Weekly",monthly:"Monthly",yearly:"Yearly"},hourly:{repeatEvery:"Repeat every: ",interval:" hour(s)"},daily:{repeatEvery:"Repeat every: ",interval:" day(s)"},weekly:{interval:" week(s)",repeatEvery:"Repeat every: ",repeatOn:"Repeat on: "},monthly:{repeatEvery:"Repeat every: ",repeatOn:"Repeat on: ",interval:" month(s)",day:"Day "},yearly:{repeatEvery:"Repeat every: ",repeatOn:"Repeat on: ",interval:" year(s)",of:" of "},end:{label:"End:",mobileLabel:"Ends",never:"Never",after:"After ",occurrence:" occurrence(s)",on:"On "},offsetPositions:{first:"first",second:"second",third:"third",fourth:"fourth",last:"last"},weekdays:{day:"day",weekday:"weekday",weekend:"weekend day"}}},events:["change"],_initInterval:function _initInterval(){var e=this,t=e._value;e._container.find(".k-recur-interval").kendoNumericTextBox({spinners:e.options.spinners,value:t.interval||1,decimals:0,format:"#",min:1,change:function change(){t.interval=this.value(),e._trigger();}});},_weekDayRule:function _weekDayRule(e){var t=this,n=(t._weekDay.element||t._weekDay).val(),i=+(t._weekDayOffset.element||t._weekDayOffset).val(),o=null,r=null;e||("day"===n?(o=M,r=i):"weekday"===n?(o=P,r=i):"weekend"===n?(o=z,r=i):o=[{offset:i,day:+n}]),t._value.weekDays=o,t._value.positions=r;},_weekDayView:function _weekDayView(){var e,t,n,i,o=this,r=o._value.weekDays,a=o._value.positions,s=o._weekDayOffset;r&&(n=r.length,a&&(7===n?(t="day",e=a):5===n?(t="weekday",e=a):2===n&&(t="weekend",e=a)),t||(r=r[0],t=r.day,e=r.offset||""),i=s.value?"value":"val",s[i](e),o._weekDay[i](t));},_initWeekDay:function _initWeekDay(){var t,n=this,i=n.options.messages.weekdays,o=n.options.messages.offsetPositions,r=n._container.find(".k-recur-weekday"),a=function a(){n._weekDayRule(),n._trigger();};r[0]&&(n._weekDayOffset=new Y(n._container.find(".k-recur-weekday-offset"),{change:a,dataTextField:"text",dataValueField:"value",dataSource:[{text:o.first,value:"1"},{text:o.second,value:"2"},{text:o.third,value:"3"},{text:o.fourth,value:"4"},{text:o.last,value:"-1"}]}),t=[{text:i.day,value:"day"},{text:i.weekday,value:"weekday"},{text:i.weekend,value:"weekend"}],n._weekDay=new Y(r,{value:n.options.start.getDay(),change:a,dataTextField:"text",dataValueField:"value",dataSource:t.concat(e.map(W.culture().calendar.days.names,function(e,t){return{text:e,value:t};}))}),n._weekDayView());},_initWeekDays:function _initWeekDays(){var t,n,i,o,r,a=this,s=a._value,l=a._container.find(".k-recur-weekday-checkbox");if(l[0]&&(l.on(_e+a._namespace,function(){s.weekDays=e.map(l.filter(":checked"),function(e){return{day:+e.value,offset:0};}),a.options.mobile||a._trigger();}),s.weekDays))for(i=0,o=l.length,r=s.weekDays.length;o>i;i++){for(n=l[i],t=0;r>t;t++){n.value==s.weekDays[t].day&&(n.checked=!0);}}},_initMonthDay:function _initMonthDay(){var e=this,t=e._value,n=e._container.find(".k-recur-monthday");n[0]&&(e._monthDay=new W.ui.NumericTextBox(n,{spinners:e.options.spinners,min:1,max:31,decimals:0,format:"#",value:t.monthDays?t.monthDays[0]:e.options.start.getDate(),change:function change(){var n=this.value();t.monthDays=n?[n]:n,e._trigger();}}));},_initCount:function _initCount(){var e=this,t=e._container.find(".k-recur-count"),n=e._value;e._count=t.kendoNumericTextBox({spinners:e.options.spinners,value:n.count||1,decimals:0,format:"#",min:1,change:function change(){n.count=this.value(),e._trigger();}}).data("kendoNumericTextBox");},_initUntil:function _initUntil(){var e=this,t=e._container.find(".k-recur-until"),n=e.options.start,i=e._value,o=i.until;e._until=t.kendoDatePicker({min:o&&n>o?o:n,value:o||new Date(n.getFullYear(),n.getMonth(),n.getDate(),23,59,59),change:function change(){var t=this.value();i.until=new Date(t.getFullYear(),t.getMonth(),t.getDate(),23,59,59),e._trigger();}}).data("kendoDatePicker");},_trigger:function _trigger(){this.options.mobile||this.trigger("change");}}),L=B.extend({init:function init(e,t){var n=this;B.fn.init.call(n,e,t),n._initFrequency(),n._initContainer(),n.value(n.options.value);},options:{name:"RecurrenceEditor"},events:["change"],destroy:function destroy(){var e=this;e._frequency.destroy(),e._container.find("input[type=radio],input[type=checkbox]").off(_e+e._namespace),W.destroy(e._container),B.fn.destroy.call(e);},value:function value(e){var n,i=this,o=i.options.timezone;return e===t?i._value.freq?R(i._value,o):"":(i._value=A(e,o)||{},n=i._value.freq,n?i._frequency.value(n):i._frequency.select(0),i._initView(i._frequency.value()),t);},_initContainer:function _initContainer(){var t=this.element,n=e('<div class="k-recur-view" />'),i=t.parent(".k-edit-field");i[0]?n.insertAfter(i):t.append(n),this._container=n;},_initFrequency:function _initFrequency(){var t,n=this,i=n.options,o=i.frequencies,r=i.messages.frequencies,a=e("<input />");o=e.map(o,function(e){return{text:r[e],value:e};}),t=o[0],t&&"never"===t.value&&(t.value=""),n.element.append(a),n._frequency=new Y(a,{dataTextField:"text",dataValueField:"value",dataSource:o,change:function change(){n._value={},n._initView(n._frequency.value()),n.trigger("change");}});},_initView:function _initView(e){var n=this,i=n._value,o=n.options,r={frequency:e||"never",weekDayCheckBoxes:I,firstWeekDay:o.firstWeekDay,messages:o.messages[e],end:o.messages.end};return W.destroy(n._container),n._container.html(F(r)),e?(i.freq=e,"weekly"!==e||i.weekDays||(i.weekDays=[{day:o.start.getDay(),offset:0}]),n._initInterval(),n._initWeekDays(),n._initMonthDay(),n._initWeekDay(),n._initMonth(),n._initCount(),n._initUntil(),n._period(),n._end(),t):(n._value={},t);},_initMonth:function _initMonth(){var t,n=this,i=n._value,o=i.months||[n.options.start.getMonth()+1],r=n._container.find(".k-recur-month");r[0]&&(t={change:function change(){i.months=[+this.value()],n.trigger("change");},dataTextField:"text",dataValueField:"value",dataSource:e.map(W.culture().calendar.months.names,function(e,t){return{text:e,value:t+1};})},n._month1=new Y(r[0],t),n._month2=new Y(r[1],t),o&&(o=o[0],n._month1.value(o),n._month2.value(o)));},_end:function _end(){var e,t=this,n=t._value,i=t._container,o=t._namespace,r=function r(e){t._toggleEnd(e.currentTarget.value),t.trigger("change");};t._buttonNever=i.find(".k-recur-end-never").on(_e+o,r),t._buttonCount=i.find(".k-recur-end-count").on(_e+o,r),t._buttonUntil=i.find(".k-recur-end-until").on(_e+o,r),n.count?e="count":n.until&&(e="until"),t._toggleEnd(e);},_period:function _period(){var e=this,t=e._value,n="monthly"===t.freq,i=n?e._toggleMonthDay:e._toggleYear,o=".k-recur-"+(n?"month":"year")+"-radio",r=e._container.find(o);(n||"yearly"===t.freq)&&(r.on(_e+e._namespace,function(t){i.call(e,t.currentTarget.value),e.trigger("change");}),e._buttonMonthDay=r.eq(0),e._buttonWeekDay=r.eq(1),i.call(e,t.weekDays?"weekday":"monthday"));},_toggleEnd:function _toggleEnd(e){var t,n,i,o,r=this;"count"===e?(r._buttonCount.prop("checked",!0),i=!0,o=!1,t=r._count.value(),n=null):"until"===e?(r._buttonUntil.prop("checked",!0),i=!1,o=!0,t=null,n=r._until.value()):(r._buttonNever.prop("checked",!0),i=o=!1,t=n=null),r._count.enable(i),r._until.enable(o),r._value.count=t,r._value.until=n;},_toggleMonthDay:function _toggleMonthDay(e){var t,n=this,i=!1,o=!0,r=!1;"monthday"===e?(n._buttonMonthDay.prop("checked",!0),t=[n._monthDay.value()],i=!0,o=!1,r=!0):(n._buttonWeekDay.prop("checked",!0),t=null),n._weekDay.enable(o),n._weekDayOffset.enable(o),n._monthDay.enable(i),n._value.monthDays=t,n._weekDayRule(r);},_toggleYear:function _toggleYear(e){var t,n=this,i=!1,o=!0;"monthday"===e?(i=!0,o=!1,t=n._month1.value()):t=n._month2.value(),n._month1.enable(i),n._month2.enable(o),n._value.months=[t],n._toggleMonthDay(e);}}),G.plugin(L),H=W.template('<div class="k-edit-label"><label>#:headerTitle#</label></div><div class="k-edit-field k-recur-pattern k-scheduler-toolbar"></div><div class="k-recur-view"></div>'),N=W.template('# if (frequency !== "never") { #<div class="k-edit-label"><label>#:messages.repeatEvery#</label></div><div class="k-edit-field"><input class="k-recur-interval" pattern="\\\\d*"/>#:messages.interval#</div># } ## if (frequency === "weekly") { #<div class="k-edit-label"><label>#:messages.repeatOn#</label></div><div class="k-edit-field">#=weekDayCheckBoxes(firstWeekDay)#</div># } else if (frequency === "monthly") { #<div class="k-edit-label"><label>#:messages.repeatBy#</label></div><div class="k-edit-field k-scheduler-toolbar k-repeat-rule"></div><div class="k-monthday-view" style="display:none"><div class="k-edit-label"><label>#:messages.day#</label></div><div class="k-edit-field"><input class="k-recur-monthday" pattern="\\\\d*"/></div></div><div class="k-weekday-view" style="display:none"><div class="k-edit-label"><label>#:messages.every#</label></div><div class="k-edit-field"><select class="k-recur-weekday-offset"></select></div><div class="k-edit-label"><label>#:messages.day#</label></div><div class="k-edit-field"><select class="k-recur-weekday"></select></div></div># } else if (frequency === "yearly") { #<div class="k-edit-label"><label>#:messages.repeatBy#</label></div><div class="k-edit-field k-scheduler-toolbar k-repeat-rule"></div><div class="k-monthday-view" style="display:none"><div class="k-edit-label"><label>#:messages.day#</label></div><div class="k-edit-field"><input class="k-recur-monthday" pattern="\\\\d*"/></div></div><div class="k-weekday-view" style="display:none"><div class="k-edit-label"><label>#:messages.every#</label></div><div class="k-edit-field"><select class="k-recur-weekday-offset"></select></div><div class="k-edit-label"><label>#:messages.day#</label></div><div class="k-edit-field"><select class="k-recur-weekday"></select></div></div><div class="k-edit-label"><label>#:messages.month#</label></div><div class="k-edit-field"><select class="k-recur-month"></select></div># } #'),O=W.template('# if (endPattern === "count") { #<div class="k-edit-label"><label>#:messages.after#</label></div><div class="k-edit-field"><input class="k-recur-count" pattern="\\\\d*" /></div># } else if (endPattern === "until") { #<div class="k-edit-label"><label>#:messages.on#</label></div><div class="k-edit-field"><input type="date" class="k-recur-until" /></div># } #'),V=W.template('<ul class="k-reset k-header k-scheduler-navigation">#for (var i = 0, length = dataSource.length; i < length; i++) {#<li class="k-state-default #= value === dataSource[i].value ? "k-state-selected" : "" #"><a role="button" href="\\#" class="k-link" data-#=ns#value="#=dataSource[i].value#">#:dataSource[i].text#</a></li>#}#</ul>'),U=B.extend({init:function init(e,t){var n=this;B.fn.init.call(n,e,t),t=n.options,n._optionTemplate=W.template('<option value="#:value#">#:text#</option>'),n.value(t.value),n._pane=t.pane,n._initRepeatButton(),n._initRepeatEnd(),n._defaultValue=n._value;},options:{name:"MobileRecurrenceEditor",animations:{left:"slide",right:"slide:right"},mobile:!0,messages:{cancel:"Cancel",update:"Save",endTitle:"Repeat ends",repeatTitle:"Repeat pattern",headerTitle:"Repeat event",end:{patterns:{never:"Never",after:"After...",on:"On..."},never:"Never",after:"End repeat after",on:"End repeat on"},daily:{interval:""},hourly:{interval:""},weekly:{interval:""},monthly:{interval:"",repeatBy:"Repeat by: ",dayOfMonth:"Day of the month",dayOfWeek:"Day of the week",repeatEvery:"Repeat every",every:"Every",day:"Day "},yearly:{interval:"",repeatBy:"Repeat by: ",dayOfMonth:"Day of the month",dayOfWeek:"Day of the week",repeatEvery:"Repeat every: ",every:"Every",month:"Month",day:"Day"}}},events:["change"],value:function value(e){var n=this,i=n.options.timezone;return e===t?n._value.freq?R(n._value,i):"":(n._value=A(e,i)||{},t);},destroy:function destroy(){this._destroyView(),W.destroy(this._endFields),this._repeatButton.off(_e+this._namespace),B.fn.destroy.call(this);},_initRepeatButton:function _initRepeatButton(){var t=this,n=t.options.messages.frequencies[this._value.freq||"never"];t._repeatButton=e('<a href="#" class="k-button k-scheduler-recur">'+n+"</a>").on(_e+t._namespace,function(e){e.preventDefault(),t._createView("repeat"),t._pane.navigate("recurrence",t.options.animations.left);}),t.element.append(t._repeatButton);},_initRepeatEnd:function _initRepeatEnd(){var t=this,n=e('<div class="k-edit-label"><label>'+t.options.messages.end.mobileLabel+"</label></div>").insertAfter(t.element.parent(".k-edit-field")),i=e('<div class="k-edit-field"><a href="#" class="k-button k-scheduler-recur-end"></a></div>').on(_e+t._namespace,function(e){e.preventDefault(),t._value.freq&&(t._createView("end"),t._pane.navigate("recurrence",t.options.animations.left));}).insertAfter(n);t._endFields=n.add(i).toggleClass("k-state-disabled",!t._value.freq),t._endButton=i.find(".k-scheduler-recur-end").text(t._endText());},_endText:function _endText(){var e=this._value,t=this.options.messages.end,n=t.never;return e.count?n=W.format("{0} {1}",t.after,e.count):e.until&&(n=W.format("{0} {1:d}",t.on,e.until)),n;},_initFrequency:function _initFrequency(){var t=this,n=t.options.messages.frequencies,i=V({dataSource:e.map(this.options.frequencies,function(e){return{text:n[e],value:"never"!==e?e:""};}),value:t._value.freq||"",ns:W.ns});t._view.element.find(".k-recur-pattern").append(i).on(_e+t._namespace,".k-scheduler-navigation li",function(n){var i=e(this);n.preventDefault(),i.addClass("k-state-selected").siblings().removeClass("k-state-selected"),t._value={freq:i.children("a").attr(W.attr("value"))},t._initRepeatView();});},_initEndNavigation:function _initEndNavigation(){var t,n=this,i=n.options.messages.end.patterns,o=n._value,r="";o.count?r="count":o.until&&(r="until"),t=V({dataSource:[{text:i.never,value:""},{text:i.after,value:"count"},{text:i.on,value:"until"}],value:r,ns:W.ns}),n._view.element.find(".k-recur-pattern").append(t).on(_e+n._namespace,".k-scheduler-navigation li",function(t){var i=e(this),r=null,a=null;t.preventDefault(),i.addClass("k-state-selected").siblings().removeClass("k-state-selected"),n._initEndView(i.children("a").attr(W.attr("value"))),n._count?(r=n._count.value(),a=null):n._until&&(r=null,a=n._until.val?W.parseDate(n._until.val(),"yyyy-MM-dd"):n._until.value()),o.count=r,o.until=a;});},_createView:function _createView(t){var n=this,i=n.options,o=i.messages,r=o["repeat"===t?"repeatTitle":"endTitle"],a='<div data-role="view" class="k-popup-edit-form k-scheduler-edit-form k-mobile-list" id="recurrence"><div data-role="header" class="k-header"><a href="#" class="k-button k-scheduler-cancel">'+o.cancel+"</a>"+o.headerTitle+'<a href="#" class="k-button k-scheduler-update">'+o.update+"</a></div>",s=n._pane.view().id;n._view=n._pane.append(a+H({headerTitle:r})),n._view.element.on(_e+n._namespace,"a.k-scheduler-cancel, a.k-scheduler-update",function(t){t.preventDefault(),t.stopPropagation(),e(this).hasClass("k-scheduler-update")?(n.trigger("change"),n._defaultValue=e.extend({},n._value)):n._value=n._defaultValue;var i=n._value.freq;n._endButton.text(n._endText()),n._endFields.toggleClass("k-state-disabled",!i),n._repeatButton.text(o.frequencies[i||"never"]),n._pane.one("viewShow",function(){n._destroyView();}),n._pane.navigate(s,n.options.animations.right);}),n._container=n._view.element.find(".k-recur-view"),"repeat"===t?(n._initFrequency(),n._initRepeatView()):(n._initEndNavigation(),n._initEndView());},_destroyView:function _destroyView(){this._view&&(this._view.destroy(),this._view.element.remove()),this._view=null;},_initRepeatView:function _initRepeatView(){var e=this,n=e._value.freq||"never",i={frequency:n,weekDayCheckBoxes:I,firstWeekDay:e.options.firstWeekDay,messages:e.options.messages[n]},o=N(i),r=e._container,a=e._value;return W.destroy(r),r.html(o),o?("weekly"!==n||a.weekDays||(a.weekDays=[{day:e.options.start.getDay(),offset:0}]),e._initInterval(),e._initMonthDay(),e._initWeekDays(),e._initWeekDay(),e._initMonth(),e._period(),t):(e._value={},t);},_initEndView:function _initEndView(e){var n,i=this,o=i._value;e===t&&(o.count?e="count":o.until&&(e="until")),n={endPattern:e,messages:i.options.messages.end},W.destroy(i._container),i._container.html(O(n)),i._initCount(),i._initUntil();},_initWeekDay:function _initWeekDay(){var t,n=this,i=n.options.messages.weekdays,o=n.options.messages.offsetPositions,r=n._container.find(".k-recur-weekday"),a=function a(){n._weekDayRule(),n.trigger("change");};r[0]&&(n._weekDayOffset=n._container.find(".k-recur-weekday-offset").html(n._options([{text:o.first,value:"1"},{text:o.second,value:"2"},{text:o.third,value:"3"},{text:o.fourth,value:"4"},{text:o.last,value:"-1"}])).change(a),t=[{text:i.day,value:"day"},{text:i.weekday,value:"weekday"},{text:i.weekend,value:"weekend"}],t=t.concat(e.map(W.culture().calendar.days.names,function(e,t){return{text:e,value:t};})),n._weekDay=r.html(n._options(t)).change(a).val(n.options.start.getDay()),n._weekDayView());},_initMonth:function _initMonth(){var t,n=this,i=n._value,o=n.options.start,r=i.months||[o.getMonth()+1],a=n._container.find(".k-recur-month"),s=W.culture().calendar.months.names;a[0]&&(t=e.map(s,function(e,t){return{text:e,value:t+1};}),a.html(n._options(t)).change(function(){i.months=[+this.value];}),n._monthSelect=a,r&&a.val(r[0]));},_period:function _period(){var t,n,i,o=this,r=o._value,a=o._container,s=o.options.messages[r.freq],l=a.find(".k-repeat-rule"),c=a.find(".k-weekday-view"),d=a.find(".k-monthday-view");l[0]&&(t=r.weekDays?"weekday":"monthday",n=V({value:t,dataSource:[{text:s.dayOfMonth,value:"monthday"},{text:s.dayOfWeek,value:"weekday"}],ns:W.ns}),i=function i(e){var t=o._weekDay.val(),n=o._weekDayOffset.val(),i=o._monthDay.value(),a=o._monthSelect?o._monthSelect.val():null;"monthday"===e?(r.weekDays=null,r.monthDays=i?[i]:i,r.months=a?[+a]:a,c.hide(),d.show()):(r.monthDays=null,r.months=a?[+a]:a,r.weekDays=[{offset:+n,day:+t}],c.show(),d.hide());},l.append(n).on(_e+o._namespace,".k-scheduler-navigation li",function(t){var n,o=e(this).addClass("k-state-selected");t.preventDefault(),o.siblings().removeClass("k-state-selected"),n=o.children("a").attr(W.attr("value")),i(n);}),i(t));},_initUntil:function _initUntil(){var e=this,t=e._container.find(".k-recur-until"),n=e.options.start,i=e._value,o=i.until,r=o&&n>o?o:n;e._until=W.support.input.date?t.attr("min",W.toString(r,"yyyy-MM-dd")).val(W.toString(o||n,"yyyy-MM-dd")).on("change",function(){i.until=W.parseDate(this.value,"yyyy-MM-dd");}):t.kendoDatePicker({min:r,value:o||n,change:function change(){i.until=this.value();}}).data("kendoDatePicker");},_options:function _options(e,t){var n=0,i="",o=e.length,r=this._optionTemplate;for(t&&(i+=r({value:"",text:t}));o>n;n++){i+=r(e[n]);}return i;}}),G.plugin(U);}(window.kendo.jQuery),window.kendo;},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("kendo.scheduler.timelineview.min",["kendo.scheduler.view.min"],e);}(function(){return function(e,t){function n(e){var t=new Date(1980,1,1,0,0,0);return c(t,p(e)),t;}function i(e){var t=[],n=e.workWeekStart;for(t.push(n);e.workWeekEnd!=n;){n>6?n-=7:n++,t.push(n);}return t;}function o(e){var t,n=0;if(e.columns){for(t=0;e.columns.length>t;t++){n+=o(e.columns[t]);}return e.colspan=n,n;}return e.colspan=1,1;}function r(e,t,n){var i,o,r,s;for(i=e.length-1;i>=0;i--){o=e[i].rectLeft,s=e[i].rectRight,r=t>=o&&s>=t,(r||o>=t&&n>=s||o>=t&&n>=o)&&(t>o&&(t=o),s>n&&(n=s));}return a(e,t,n);}function a(e,t,n){var i,o,r=[];for(i=0;e.length>i;i++){o={rectLeft:e[i].rectLeft,rectRight:e[i].rectRight},(t>o.rectLeft&&o.rectRight>t||o.rectLeft>=t&&n>=o.rectRight)&&r.push(e[i]);}return r;}var s=window.kendo,l=s.ui,c=s.date.setTime,d=l.SchedulerView,u=e.extend,h=e.proxy,f=s.date.getDate,p=s.date.getMilliseconds,m=s.date.MS_PER_DAY,g=s.date.MS_PER_MINUTE,v="k-current-time",_="k-current-time-arrow",b="k-scheduler-header-wrap",w=.8666,y=".kendoTimelineView",k=s.template('<div><div class="k-event-template k-event-time">#:kendo.format("{0:t} - {1:t}", start, end)#</div><div class="k-event-template">${title}</div></div>'),x=s.template("<span class='k-link k-nav-day'>#=kendo.format('{0:m}', date)#</span>"),C='<div role="gridcell" aria-selected="false" data-#=ns#uid="#=uid#"#if (resources[0]) { #style="background-color:#=resources[0].color#; border-color: #=resources[0].color#"class="k-event#=inverseColor ? " k-event-inverse" : ""#" #} else {#class="k-event"#}#><span class="k-event-actions"># if(data.tail) {#<span class="k-icon k-i-arrow-w"></span>#}## if(data.isException()) {#<span class="k-icon k-i-exception"></span># } else if(data.isRecurring()) {#<span class="k-icon k-i-refresh"></span># } #</span>{0}<span class="k-event-actions">#if (showDelete) {#<a href="\\#" class="k-link k-event-delete"><span class="k-icon k-si-close"></span></a>#}## if(data.head) {#<span class="k-icon k-i-arrow-e"></span>#}#</span>#if(resizable && !data.tail){#<span class="k-resize-handle k-resize-w"></span>#}##if(resizable && !data.head){#<span class="k-resize-handle k-resize-e"></span>#}#</div>',S=d.extend({init:function init(e,t){var n=this;d.fn.init.call(n,e,t),n.title=n.options.title||n.options.name,n._workDays=i(n.options),n._templates(),n._editable(),n.calculateDateRange(),n._groups(),n._currentTime(!0);},name:"timeline",_currentTimeMarkerUpdater:function _currentTimeMarkerUpdater(){this._updateCurrentTimeMarker(new Date());},_updateCurrentTimeMarker:function _updateCurrentTimeMarker(t){var n,i,o,r,a,l,c,d,u,h,f,p,m,g=this.options;if(this.datesHeader.find("."+v).remove(),this.content.find("."+v).remove(),this._isInDateSlot({start:t,end:t}))for(g.currentTimeMarker.useLocalTimezone===!1&&(n=g.dataSource.options.schema.timezone,g.dataSource&&n&&(i=s.timezone.offset(t,n),t=s.timezone.convert(t,t.getTimezoneOffset(),i))),o=g.group&&"vertical"!=g.group.orientation?this.groups.length:1,r=0;o>r;r++){if(a=this.groups[r],!a)return;if(l=s.date.toUtcTime(t),c=a.timeSlotRanges(l,l+1),0===c.length)return;d=c[0].collection,u=d.slotByStartDate(t),u&&(h="<div class='"+v+"'></div>",f=this.datesHeader.find("."+b),p=Math.round(c[0].innerRect(t,new Date(t.getTime()+1),!1).left),m=e(h).prependTo(f).addClass(_+"-down"),m.css({left:this._adjustLeftPosition(p-m.outerWidth()*w/2),top:f.find("tr:last").prev().position().top}),e(h).prependTo(this.content).css({left:this._adjustLeftPosition(p),width:"1px",height:this.content[0].scrollHeight-1,top:0}));}},_adjustLeftPosition:function _adjustLeftPosition(e){return this._isRtl&&(e-=this.content[0].scrollWidth-this.content[0].offsetWidth),e;},_currentTime:function _currentTime(e){var n=this,i=n.options.currentTimeMarker;i!==!1&&i.updateInterval!==t&&(n._currentTimeMarkerUpdater(),e&&(n._currentTimeUpdateTimer=setInterval(h(this._currentTimeMarkerUpdater,n),i.updateInterval)));},_editable:function _editable(){this.options.editable&&(this._isMobile()?this._touchEditable():this._mouseEditable());},_mouseEditable:function _mouseEditable(){var t=this;t.element.on("click"+y,".k-event a:has(.k-si-close)",function(n){t.trigger("remove",{uid:e(this).closest(".k-event").attr(s.attr("uid"))}),n.preventDefault();}),t.options.editable.create!==!1&&t.element.on("dblclick"+y,".k-scheduler-content td",function(e){var n,i=t._slotByPosition(e.pageX,e.pageY);i&&(n=t._resourceBySlot(i),t.trigger("add",{eventInfo:u({start:i.startDate(),end:i.endDate()},n)})),e.preventDefault();}),t.options.editable.update!==!1&&t.element.on("dblclick"+y,".k-event",function(n){t.trigger("edit",{uid:e(this).closest(".k-event").attr(s.attr("uid"))}),n.preventDefault();});},_touchEditable:function _touchEditable(){var n=this,i=0;s.support.mobileOS.android&&(i=5),n.options.editable.create!==!1&&(n._addUserEvents=new s.UserEvents(n.element,{threshold:i,filter:".k-scheduler-content td",tap:function tap(e){var i,o=e.x.location!==t?e.x.location:e.x,r=e.y.location!==t?e.y.location:e.y,a=n._slotByPosition(o,r);a&&(i=n._resourceBySlot(a),n.trigger("add",{eventInfo:u({start:a.startDate(),end:a.endDate()},i)})),e.preventDefault();}})),n.options.editable.update!==!1&&(n._editUserEvents=new s.UserEvents(n.element,{threshold:i,filter:".k-event",tap:function tap(t){var i=e(t.target).closest(".k-event");i.hasClass("k-event-active")||n.trigger("edit",{uid:i.attr(s.attr("uid"))}),t.preventDefault();}}));},_slotByPosition:function _slotByPosition(e,t){var n,i,o,r,a=this.content,l=a.offset();for(e-=l.left,t-=l.top,this._isRtl?(r=s.support.browser,r.mozilla?(e+=a[0].scrollWidth-a[0].offsetWidth,e+=a[0].scrollLeft):r.msie?(e-=a.scrollLeft(),e+=a[0].scrollWidth-a[0].offsetWidth):r.webkit&&(e+=a[0].scrollLeft)):e+=a[0].scrollLeft,t+=a[0].scrollTop,e=Math.ceil(e),t=Math.ceil(t),o=0;this.groups.length>o;o++){if(i=this.groups[o],n=i.timeSlotByPosition(e,t))return n;}return null;},options:{name:"TimelineView",title:"Timeline",selectedDateFormat:"{0:D}",selectedShortDateFormat:"{0:d}",date:s.date.today(),startTime:s.date.today(),endTime:s.date.today(),showWorkHours:!1,minorTickCount:2,editable:!0,workDayStart:new Date(1980,1,1,8,0,0),workDayEnd:new Date(1980,1,1,17,0,0),workWeekStart:1,workWeekEnd:5,majorTick:60,eventHeight:25,eventMinWidth:0,columnWidth:100,groupHeaderTemplate:"#=text#",majorTimeHeaderTemplate:"#=kendo.toString(date, 't')#",slotTemplate:"&nbsp;",eventTemplate:k,dateHeaderTemplate:x,footer:{command:"workDay"},currentTimeMarker:{updateInterval:1e4,useLocalTimezone:!0},messages:{defaultRowText:"All events",showFullDay:"Show full day",showWorkDay:"Show business hours"}},events:["remove","add","edit"],_templates:function _templates(){var e=this.options,t=u({},s.Template,e.templateSettings);this.eventTemplate=this._eventTmpl(e.eventTemplate,C),this.majorTimeHeaderTemplate=s.template(e.majorTimeHeaderTemplate,t),this.dateHeaderTemplate=s.template(e.dateHeaderTemplate,t),this.slotTemplate=s.template(e.slotTemplate,t),this.groupHeaderTemplate=s.template(e.groupHeaderTemplate,t);},_render:function _render(t){var n=this;t=t||[],n._dates=t,n._startDate=t[0],n._endDate=t[t.length-1||0],n._calculateSlotRanges(),n.createLayout(n._layout(t)),n._content(t),n._footer(),n._setContentWidth(),n.refreshLayout(),n.datesHeader.on("click"+y,".k-nav-day",function(t){var i=e(t.currentTarget).closest("th"),o=n._slotByPosition(i.offset().left,n.content.offset().top);n.trigger("navigate",{view:"timeline",date:o.startDate()});}),n.timesHeader.find("table tr:last").hide(),n.datesHeader.find("table tr:last").hide();},_setContentWidth:function _setContentWidth(){var e=this.content,t=e.width(),n=this.content.find("table"),i=n.find("tr:first").children().length,o=100,r=i*this.options.columnWidth;r>t&&(o=Math.ceil(r/t*100)),n.add(this.datesHeader.find("table")).css("width",o+"%");},_calculateSlotRanges:function _calculateSlotRanges(){var e,t,n,i,o=this._dates,r=this.startTime(),a=this.endTime();for(p(a)===p(s.date.getDate(a))&&(a=s.date.getDate(a),c(a,m-1)),a=p(a),r=p(r),e=[],t=0;o.length>t;t++){n=f(o[t]),c(n,r),i=f(o[t]),c(i,a),e.push({start:s.date.toUtcTime(n),end:s.date.toUtcTime(i)});}this._slotRanges=e;},_forTimeRange:function _forTimeRange(e,t,i,o){var r,a,s,l,d,u,h,f,v,_,b,w,y,k,x,C,S,T;for(e=n(e),t=n(t),r=this,a=p(e),s=p(t),l=r.options.minorTickCount,d=r.options.majorTick*g,u=d/l||1,h=new Date(+e),f=h.getDate(),_=0,w="",b=m/u,a!=s&&(a>s&&(s+=m),b=(s-a)/u),b=Math.round(b);b>_;_++){y=_%(d/u),k=0===y,x=l-1>y,C=y===l-1,S=l,b%l!==0&&(T=l>b-(_+1),k&&T&&(S=b%l)),w+=i(h,k,x,C,S),c(h,u,!1);}return s&&(v=p(h),f<h.getDate()&&(v+=m),v>s&&(h=new Date(+t))),o&&(w+=o(h)),w;},_layout:function _layout(e){var t,n,i,r=[],a=[],s=this,l=[{text:s.options.messages.defaultRowText}],c=[];for(t=0;s.options.minorTickCount>t;t++){c.push({text:"",className:""});}for(this._forTimeRange(s.startTime(),s.endTime(),function(e,t,n,i,a){var l,d=s.majorTimeHeaderTemplate;t&&(l={text:d({date:e}),className:i?"k-slot-cell":"",columns:c.slice(0,a)},o(l),r.push(l));}),n=0;e.length>n;n++){a.push({text:s.dateHeaderTemplate({date:e[n]}),className:"k-slot-cell",columns:r.slice(0)});}return i=this.groupedResources,i.length&&("vertical"===this._groupOrientation()?l=s._createRowsLayout(i,null,this.groupHeaderTemplate):a=s._createColumnsLayout(i,a,this.groupHeaderTemplate)),{columns:a,rows:l};},_footer:function _footer(){var t,n,i,o=this.options;o.footer!==!1&&(t='<div class="k-header k-scheduler-footer">',n=o.footer.command,n&&"workDay"===n?(t+='<ul class="k-reset k-header">',t+='<li class="k-state-default k-scheduler-fullday"><a href="#" class="k-link"><span class="k-icon k-i-clock"></span>',t+=(o.showWorkHours?o.messages.showFullDay:o.messages.showWorkDay)+"</a></li>",t+="</ul>"):t+="&nbsp;",t+="</div>",this.footer=e(t).appendTo(this.element),i=this,this.footer.on("click"+y,".k-scheduler-fullday",function(e){e.preventDefault(),i.trigger("navigate",{view:i.name||o.name,date:i.startDate(),isWorkDay:!o.showWorkHours});}));},_columnCountForLevel:function _columnCountForLevel(e){var t=this.columnLevels[e];return t?t.length:0;},_rowCountForLevel:function _rowCountForLevel(e){var t=this.rowLevels[e];return t?t.length:0;},_isWorkDay:function _isWorkDay(e){var t,n=e.getDay(),i=this._workDays;for(t=0;i.length>t;t++){if(i[t]===n)return!0;}return!1;},_content:function _content(e){var t,n,i,o,r,a=this,l=a.options,c=a.startTime(),d=this.endTime(),u=1,h=1,f=e.length,p="",m=this.groupedResources,g=this.slotTemplate,v=!1;for(m.length&&(v="vertical"===a._groupOrientation(),v?h=a._groupCount():u=a._groupCount()),p+="<tbody>",t=function t(_t6){var r,c="",d="",u=function u(e){return function(){return a._resourceBySlot({groupIndex:e});};};return s.date.isToday(e[o])&&(d+="k-today"),(s.date.getMilliseconds(_t6)<s.date.getMilliseconds(l.workDayStart)||s.date.getMilliseconds(_t6)>=s.date.getMilliseconds(l.workDayEnd)||!a._isWorkDay(e[o]))&&(d+=" k-nonwork-hour"),c+="<td"+(""!==d?' class="'+d+'"':"")+">",r=s.date.getDate(e[o]),s.date.setTime(r,s.date.getMilliseconds(_t6)),c+=g({date:r,resources:u(v?n:i)}),c+="</td>";},n=0;h>n;n++){for(p+="<tr>",i=0;u>i;i++){for(o=0,r=f;r>o;o++){p+=this._forTimeRange(c,d,t);}}p+="</tr>";}p+="</tbody>",this.content.find("table").append(p);},_groups:function _groups(){var e,t,n,i,o=this._groupCount(),r=this._dates,a=r.length;for(this.groups=[],e=0;o>e;e++){t=this._addResourceView(e),n=r[0],i=r[r.length-1||0],t.addTimeSlotCollection(n,s.date.addDays(i,1));}this._timeSlotGroups(o,a);},_isVerticallyGrouped:function _isVerticallyGrouped(){return this.groupedResources.length&&"vertical"===this._groupOrientation();},_isHorizontallyGrouped:function _isHorizontallyGrouped(){return this.groupedResources.length&&"horizontal"===this._groupOrientation();},_timeSlotGroups:function _timeSlotGroups(e,t){var n,i,o,r,a,s,l,c,d,u,h,f,m,g,v,_,b,w,y=this._timeSlotInterval(),k=this._isVerticallyGrouped(),x=this.content.find("tr"),C=x.length;for(x.attr("role","row"),k&&(C=Math.floor(C/e)),n=0;e>n;n++){for(i=0,o=this.groups[n],k&&(i=n),a=i*C,s=0,k||(s=n),l=x[a].children,c=l.length/(k?1:e),d=c/t,u=0;t>u;u++){for(h=u*d+c*s,r=p(new Date(+this.startTime())),f=0;d>f;f++){m=l[f+h],g=o.getTimeSlotCollection(0),v=this._dates[u],_=Date.UTC(v.getFullYear(),v.getMonth(),v.getDate()),b=_+r,w=b+y,m.setAttribute("role","gridcell"),m.setAttribute("aria-selected",!1),g.addTimeSlot(m,b,w,!0),r+=y;}}}},startDate:function startDate(){return this._startDate;},endDate:function endDate(){return this._endDate;},startTime:function startTime(){var e=this.options;return e.showWorkHours?e.workDayStart:e.startTime;},endTime:function endTime(){var e=this.options;return e.showWorkHours?e.workDayEnd:e.endTime;},_timeSlotInterval:function _timeSlotInterval(){var e=this.options;return e.majorTick/e.minorTickCount*g;},nextDate:function nextDate(){return s.date.nextDay(this.endDate());},previousDate:function previousDate(){return s.date.previousDay(this.startDate());},calculateDateRange:function calculateDateRange(){this._render([this.options.date]);},render:function render(e){var t,n,i,o,r;for(this._headerColumnCount=0,this._groups(),this.element.find(".k-event").remove(),e=new s.data.Query(e).sort([{field:"start",dir:"asc"},{field:"end",dir:"desc"}]).toArray(),t=[],this._eventsByResource(e,this.groupedResources,t),n=[],i=0,o=0;t.length>o;o++){r={groupIndex:o,maxRowCount:0,events:{}},n.push(r),this._renderEvents(t[o],o,r),r.maxRowCount>i&&(i=r.maxRowCount);}this._setRowsHeight(n,t.length,i),this._positionEvents(n,t.length),this._currentTime(!1),this.trigger("activate");},_positionEvents:function _positionEvents(e,t){var n,i,o,r;for(n=0;t>n;n++){i=e[n].events;for(o in i){r=i[o],this._positionEvent(r);}}},_setRowsHeight:function _setRowsHeight(t,n,i){var o,r,a,s,l,c=this.options.eventHeight+2,d=this._getBottomRowOffset();for(n=this._isVerticallyGrouped()?n:1,o=0;n>o;o++){r=this._isVerticallyGrouped()?t[o].maxRowCount:i,r=r?r:1,a=(c+2)*r+d,s=e(this.times.find("tr")[o]),l=e(this.content.find("tr")[o]),s.height(a),l.height(a);}this._setContentWidth(),this.refreshLayout(),this._refreshSlots();},_getBottomRowOffset:function _getBottomRowOffset(){var e,t,n=.5*this.options.eventHeight,i=this._isMobile();return i?(e=30,t=60):(e=15,t=30),n>t?n=t:e>n&&(n=e),n;},_positionEvent:function _positionEvent(e){var t,n,i,o=this.options.eventHeight+2,r=e.slotRange.innerRect(e.start,e.end,!1),a=this._adjustLeftPosition(r.left),s=r.right-r.left-2;0>s&&(s=0),this.options.eventMinWidth>s&&(t=e.slotRange.collection,n=t._slots[t._slots.length-1],i=n.offsetLeft+n.offsetWidth,s=this.options.eventMinWidth,a+s>i&&(s=i-r.left-2)),e.element.css({top:e.slotRange.start.offsetTop+e.rowIndex*(o+2)+"px",left:a,width:s});},_refreshSlots:function _refreshSlots(){for(var e=0;this.groups.length>e;e++){this.groups[e].refresh();}},_eventsByResource:function _eventsByResource(e,t,n){var i,o,r,a,l=t[0];if(l)for(i=l.dataSource.view(),o=0;i.length>o;o++){r=this._resourceValue(l,i[o]),a=new s.data.Query(e).filter({field:l.field,operator:d.groupEqFilter(r)}).toArray(),t.length>1?this._eventsByResource(a,t.slice(1),n):n.push(a);}else n.push(e);},_isInDateSlot:function _isInDateSlot(e){var t=e.start,n=e.end,i=f(this._startDate),o=s.date.addDays(f(this._endDate),1);return o>t&&n>=i;},_isInTimeSlot:function _isInTimeSlot(e){var t,n=e._startTime||s.date.toUtcTime(e.start),i=e._endTime||s.date.toUtcTime(e.end),o=this._slotRanges;for(n===i&&(i+=1),t=0;o.length>t;t++){if(o[t].end>n&&i>o[t].start)return!0;}return!1;},_adjustEvent:function _adjustEvent(e){var t,n=e.start,i=e.end,o=e._time("start"),r=e._time("end"),a=p(this.startTime()),l=p(this.endTime()),d=null,u=null,h=!1,g=!1;return e.isAllDay?(d=f(n),a>o&&(c(d,a),g=!0),u=f(i),l===p(f(this.endTime()))?u=s.date.addDays(u,1):(c(u,l),h=!0)):(l=0===l?m:l,a>o?(d=f(n),c(d,a),g=!0):o>l&&(d=f(n),d=s.date.addDays(d,1),c(d,a),g=!0),r>l?(u=f(i),c(u,l),h=!0):a>r&&(u=f(i),u=s.date.addDays(u,-1),c(u,l),h=!0)),t=e.clone({start:d?d:n,end:u?u:i,_startTime:d?s.date.toUtcTime(d):e._startTime,_endTime:u?s.date.toUtcTime(u):e._endTime,isAllDay:!1}),{occurrence:t,head:h,tail:g};},_renderEvents:function _renderEvents(e,t,n){var i,o,r,a,s,l,c,d,u,h,f;for(o=0,r=e.length;r>o;o++){i=e[o],this._isInDateSlot(i)&&(a=i.isAllDay||i.end.getTime()-i.start.getTime()>=m,s=this.content,(a||this._isInTimeSlot(i))&&(l=this._adjustEvent(i),c=this.groups[t],c._continuousEvents||(c._continuousEvents=[]),d=c.slotRanges(l.occurrence,!1),u=d[0],this._isInTimeSlot(l.occurrence)&&(h=this._createEventElement(l.occurrence,i,u.head||l.head,u.tail||l.tail),h.appendTo(s).css({top:0,height:this.options.eventHeight}),f={start:l.occurrence._startTime||l.occurrence.start,end:l.occurrence._endTime||l.occurrence.end,element:h,uid:i.uid,slotRange:u,rowIndex:0,offsetTop:0},n.events[i.uid]=f,this.addContinuousEvent(c,u,h,i.isAllDay),this._arrangeRows(f,u,n))));}},addContinuousEvent:function addContinuousEvent(e,t,n,i){var o=e._continuousEvents;o.push({element:n,isAllDay:i,uid:n.attr(s.attr("uid")),start:t.start,end:t.end});},_createEventElement:function _createEventElement(t,n,i,o){var r,a,l=this.eventTemplate,c=this.options.editable,d=this._isMobile(),h=c&&c.destroy!==!1&&!d,f=c&&c.resize!==!1,p=n._time("start"),m=n._time("end"),g=n.start,v=n.end,_=this.eventResources(n);return n._startTime&&p!==s.date.getMilliseconds(n.start)&&(g=new Date(p),g=s.timezone.apply(g,"Etc/UTC")),n._endTime&&m!==s.date.getMilliseconds(n.end)&&(v=new Date(m),v=s.timezone.apply(v,"Etc/UTC")),r=u({},{ns:s.ns,resizable:f,showDelete:h,head:i,tail:o,singleDay:1==this._dates.length,resources:_,inverseColor:_&&_[0]?this._shouldInverseResourceColor(_[0]):!1},n,{start:g,end:v}),a=e(l(r)),this.angular("compile",function(){return{elements:a,data:[{dataItem:r}]};}),a;},_arrangeRows:function _arrangeRows(e,t,n){var i,o,a,s,l,c,u=t.start.index,h=t.end.index,f=e.slotRange.innerRect(e.start,e.end,!1),p=f.right+this.options.eventMinWidth,m=r(t.events(),f.left,p);for(t.addEvent({slotIndex:u,start:u,end:h,rectLeft:f.left,rectRight:p,element:e.element,uid:e.uid}),m.push({start:u,end:h,uid:e.uid}),i=d.createRows(m),i.length>n.maxRowCount&&(n.maxRowCount=i.length),o=0,a=i.length;a>o;o++){for(s=i[o].events,l=0,c=s.length;c>l;l++){n.events[s[l].uid].rowIndex=o;}}},_groupCount:function _groupCount(){var e=this.groupedResources;return e.length?"vertical"===this._groupOrientation()?this._rowCountForLevel(e.length-1):this._columnCountForLevel(e.length-1):1;},_updateEventForSelection:function _updateEventForSelection(e){var t=this._adjustEvent(e.clone());return t.occurrence;},_eventOptionsForMove:function _eventOptionsForMove(e){return e.isAllDay?{isAllDay:!1}:{};},_updateEventForResize:function _updateEventForResize(e){e.isAllDay&&e.set("isAllDay",!1);},_updateMoveHint:function _updateMoveHint(e,t,n){var i,o,r,a,s,l,c,d,u,h,f,p=this.groups[t],m=e.clone({start:e.start,end:e.end}),g=m.duration();for(m.start=new Date(m.start.getTime()+n),m.end=new Date(+m.start+g),i=this._adjustEvent(m),o=p.slotRanges(i.occurrence,!1),this._removeMoveHint(),r=0;o.length>r;r++){a=o[r],s=a.start,l=this._createEventElement(i.occurrence,i.occurrence,!1,!1),l.addClass("k-event-drag-hint"),c=a.innerRect(i.occurrence.start,i.occurrence.end,this.options.snap),d=c.right-c.left-2,0>d&&(d=0),u=this._adjustLeftPosition(c.left),h={left:u,top:s.offsetTop,height:s.offsetHeight-2,width:d},l.css(h),this._moveHint=this._moveHint.add(l);}f=this.content,this._moveHint.appendTo(f);},_updateResizeHint:function _updateResizeHint(e,t,n,i){var o,r,a,l,c,u,h,f,p,m,g=this.groups[t],v=g.ranges(n,i,!1,!1);for(this._removeResizeHint(),o=0;v.length>o;o++){r=v[o],a=r.startSlot(),l=r.innerRect(n,i,!1),l.top=a.offsetTop,c=l.right-l.left,u=a.offsetHeight,h=this._adjustLeftPosition(l.left),f=d.fn._createResizeHint.call(this,h,l.top,c,u),this._resizeHint=this._resizeHint.add(f);}p="t",m=this.content,this._resizeHint.appendTo(m),this._resizeHint.find(".k-label-top,.k-label-bottom").text(""),this._resizeHint.first().addClass("k-first").find(".k-label-top").text(s.toString(s.timezone.toLocalDate(n),p)),this._resizeHint.last().addClass("k-last").find(".k-label-bottom").text(s.toString(s.timezone.toLocalDate(i),p));},selectionByElement:function selectionByElement(e){var t=e.offset();return this._slotByPosition(t.left,t.top);},_updateDirection:function _updateDirection(e,t,n,i,o){var r=t[0].start,a=t[t.length-1].end;n&&!o&&r.index===a.index&&r.collectionIndex===a.collectionIndex&&(e.backward=i);},_changeGroup:function _changeGroup(e,t){var n=t?"prevGroupSlot":"nextGroupSlot",i=this[n](e.start,e.groupIndex,!1);return i&&(e.groupIndex+=t?-1:1),i;},prevGroupSlot:function prevGroupSlot(e,t,n){var i,o=this.groups[t],r=o.ranges(e,e,n,!1)[0].start;if(!(0>=t))return this._isVerticallyGrouped()?r:(i=o._collection(0,n),i.last());},nextGroupSlot:function nextGroupSlot(e,t,n){var i,o=this.groups[t],r=o.ranges(e,e,n,!1)[0].start;if(!(t>=this.groups.length-1))return this._isVerticallyGrouped()?r:(i=o._collection(0,n),i.first());},_verticalSlots:function _verticalSlots(e,t,n,i){var o=i?"leftSlot":"rightSlot",r=t[0].start,a=t[t.length-1].end,s=this.groups[e.groupIndex];return r=s[o](r),a=s[o](a),n||!this._isVerticallyGrouped()||r&&a||(r=a=this._changeGroup(e,i)),{startSlot:r,endSlot:a};},_horizontalSlots:function _horizontalSlots(e,t,n,i){var o=i?"upSlot":"downSlot",r=t[0].start,a=t[t.length-1].end,s=this.groups[e.groupIndex];return r=s[o](r),a=s[o](a),n||!this._isHorizontallyGrouped()||r&&a||(r=a=this._changeGroup(e,i)),{startSlot:r,endSlot:a};},_changeViewPeriod:function _changeViewPeriod(e,t){var n,i=t?this.previousDate():this.nextDate(),o=e.start,r=e.end;return e.start=new Date(i),e.end=new Date(i),this._isHorizontallyGrouped()&&(e.groupIndex=t?this.groups.length-1:0),n=r-o,t?(r=p(this.endTime()),r=0===r?m:r,c(e.start,r-n),c(e.end,r)):(o=p(this.startTime()),c(e.start,o),c(e.end,o+n)),e.events=[],!0;},move:function move(e,t,n){var i,o,r,a,l,c=!1,d=this.groups[e.groupIndex],u=s.keys,h=d.ranges(e.start,e.end,!1,!1);if(t===u.DOWN||t===u.UP)c=!0,r=t===u.UP,this._updateDirection(e,h,n,r,!0),a=this._verticalSlots(e,h,n,r);else if((t===u.LEFT||t===u.RIGHT)&&(c=!0,r=t===u.LEFT,this._updateDirection(e,h,n,r,!1),a=this._horizontalSlots(e,h,n,r),(!a.startSlot||!a.endSlot)&&!n&&this._changeViewPeriod(e,r,!1)))return c;return c&&(i=a.startSlot,o=a.endSlot,n?(l=e.backward,l&&i?e.start=i.startDate():!l&&o&&(e.end=o.endDate())):i&&o&&(e.start=i.startDate(),e.end=o.endDate()),e.events=[]),c;},destroy:function destroy(){var e=this;e.element&&e.element.off(y),e.footer&&e.footer.remove(),e._currentTimeUpdateTimer&&clearInterval(e._currentTimeUpdateTimer),d.fn.destroy.call(this),this._isMobile()&&e.options.editable&&(e.options.editable.create!==!1&&e._addUserEvents.destroy(),e.options.editable.update!==!1&&e._editUserEvents.destroy());}});u(!0,l,{TimelineView:S,TimelineWeekView:S.extend({options:{name:"TimelineWeekView",title:"Timeline Week",selectedDateFormat:"{0:D} - {1:D}",selectedShortDateFormat:"{0:d} - {1:d}",majorTick:120},name:"timelineWeek",calculateDateRange:function calculateDateRange(){var e,t,n=this.options.date,i=s.date.dayOfWeek(n,this.calendarInfo().firstDay,-1),o=[];for(e=0,t=7;t>e;e++){o.push(i),i=s.date.nextDay(i);}this._render(o);}}),TimelineWorkWeekView:S.extend({options:{name:"TimelineWorkWeekView",title:"Timeline Work Week",selectedDateFormat:"{0:D} - {1:D}",selectedShortDateFormat:"{0:d} - {1:d}",majorTick:120},name:"timelineWorkWeek",nextDate:function nextDate(){return s.date.dayOfWeek(s.date.nextDay(this.endDate()),this.options.workWeekStart,1);},previousDate:function previousDate(){return s.date.previousDay(this.startDate());},calculateDateRange:function calculateDateRange(){for(var e=this.options.date,t=s.date.dayOfWeek(e,this.options.workWeekStart,-1),n=s.date.dayOfWeek(t,this.options.workWeekEnd,1),i=[];n>=t;){i.push(t),t=s.date.nextDay(t);}this._render(i);}}),TimelineMonthView:S.extend({options:{name:"TimelineMonthView",title:"Timeline Month",selectedDateFormat:"{0:D} - {1:D}",selectedShortDateFormat:"{0:d} - {1:d}",workDayStart:new Date(1980,1,1,0,0,0),workDayEnd:new Date(1980,1,1,23,59,59),footer:!1,majorTick:1440,minorTickCount:1},name:"timelineMonth",calculateDateRange:function calculateDateRange(){var e,t,n=this.options.date,i=s.date.firstDayOfMonth(n),o=s.date.lastDayOfMonth(n),r=[];for(e=0,t=o.getDate();t>e;e++){r.push(i),i=s.date.nextDay(i);}this._render(r);}})});}(window.kendo.jQuery),window.kendo;},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("kendo.scheduler.min",["kendo.dropdownlist.min","kendo.editable.min","kendo.multiselect.min","kendo.window.min","kendo.datetimepicker.min","kendo.scheduler.recurrence.min","kendo.scheduler.view.min","kendo.scheduler.dayview.min","kendo.scheduler.agendaview.min","kendo.scheduler.monthview.min","kendo.scheduler.timelineview.min","kendo.mobile.actionsheet.min","kendo.mobile.pane.min","kendo.pdf.min"],e);}(function(){return function(e,t){function n(e,t){return t=t||"",e.startTimezone&&(t=e.startTimezone,e.endTimezone&&(t+=" | "+e.endTimezone)),t;}function i(e,t){var n=t.timezone;n&&(e[I.attr("timezone")]=n);}function o(e,t){var n,i=t.model.fields[t.field].validation;i&&(n=i.dateCompare,n&&G(n)&&n.message&&(e[I.attr("dateCompare-msg")]=n.message));}function r(e,t){return function(n){return n=e(n),s(n,"apply",t),n||[];};}function a(e,t){return function(n){return n&&("[object Array]"===K.call(n)||n instanceof I.data.ObservableArray||(n=[n])),s(n,"remove",t,!0),n=e(n),n||[];};}function s(e,t,n,i){var o,r,a;for(e=e||[],r=0,a=e.length;a>r;r++){o=e[r],i?o.startTimezone||o.endTimezone?n?(o.start=I.timezone.convert(o.start,o.startTimezone||o.endTimezone,n),o.end=I.timezone.convert(o.end,o.endTimezone||o.startTimezone,n),o.start=I.timezone[t](o.start,n),o.end=I.timezone[t](o.end,n)):(o.start=I.timezone[t](o.start,o.startTimezone||o.endTimezone),o.end=I.timezone[t](o.end,o.endTimezone||o.startTimezone)):n&&(o.start=I.timezone[t](o.start,n),o.end=I.timezone[t](o.end,n)):o.startTimezone||o.endTimezone?(o.start=I.timezone[t](o.start,o.startTimezone||o.endTimezone),o.end=I.timezone[t](o.end,o.endTimezone||o.startTimezone),n&&(o.start=I.timezone.convert(o.start,o.startTimezone||o.endTimezone,n),o.end=I.timezone.convert(o.end,o.endTimezone||o.startTimezone,n))):n&&(o.start=I.timezone[t](o.start,n),o.end=I.timezone[t](o.end,n)),i&&delete o.uid;}return e;}function l(e,t){for(var n,i=e.length,o=0;i>o;o++){if(n=e[o],n.uid===t)return n;}}function c(e,t,n){return e=n?I.timezone.convert(e,t,n):I.timezone.remove(e,t);}function d(e){var t,n,i,o,r,a,s,l,d,u,h,f;return e.filter("[name=end]").length&&(t=e.closest(".k-scheduler-edit-form"),n=t.find("[name=start]:visible"),i=t.find("[name=end]:visible"),i[0]&&n[0]&&(a=I.widgetInstance(n,I.ui),s=I.widgetInstance(i,I.ui),l=t.data("kendoEditable"),d=l?l.options.model:null,a&&s?(o=a.value(),r=s.value()):(o=I.parseDate(n.val()),r=I.parseDate(i.val())),o&&r))?(d&&(u=n.attr(I.attr("timezone")),h=d.startTimezone,f=d.endTimezone,h=h||f,f=f||h,h&&(o=c(o,h,u),r=c(r,f,u))),r>=o):!0;}function u(e,t,n,i){for(var o=e.length,r=[],a=0;o>a;a++){r=r.concat(e[a].expand(t,n,i));}return r;}function h(e){return delete e.name,delete e.prefix,delete e.remove,delete e.edit,delete e.add,delete e.navigate,e;}function f(t,n){var i,o,r=(t.fields||t)[n],a=["url","email","number","date","boolean"],s=r?r.validation:{},l=I.attr("type"),c=e.inArray,d={};for(i in s){o=s[i],c(i,a)>=0?d[l]=i:I.isFunction(o)||(d[i]=G(o)?o.value||i:o),d[I.attr(i+"-msg")]=o.message;}return d;}function p(t,n){var i=f(n,t.field);return function(n){e(I.format('<select data-{0}bind="value:{1}">',I.ns,t.field)).appendTo(n).attr(i).kendoDropDownList({dataTextField:t.dataTextField,dataValueField:t.dataValueField,dataSource:t.dataSource,valuePrimitive:t.valuePrimitive,optionLabel:"None",template:I.format('<span class="k-scheduler-mark" style="background-color:#= data.{0}?{0}:"none" #"></span>#={1}#',t.dataColorField,t.dataTextField)});};}function m(t){var n=f(t.model,t.field);return function(t){e('<textarea name="description" class="k-textbox"/>').attr(n).appendTo(t);};}function g(t,n){var i=f(n,t.field);return function(n){e(I.format('<select data-{0}bind="value:{1}">',I.ns,t.field)).appendTo(n).attr(i).kendoMultiSelect({dataTextField:t.dataTextField,dataValueField:t.dataValueField,dataSource:t.dataSource,valuePrimitive:t.valuePrimitive,itemTemplate:I.format('<span class="k-scheduler-mark" style="background-color:#= data.{0}?{0}:"none" #"></span>#={1}#',t.dataColorField,t.dataTextField),tagTemplate:I.format('<span class="k-scheduler-mark" style="background-color:#= data.{0}?{0}:"none" #"></span>#={1}#',t.dataColorField,t.dataTextField)});};}function v(t,n){var i=f(n,t.field);return function(n){var o,r,a="",s=t.dataSource.view();for(o=0,r=s.length;r>o;o++){a+=I.format('<option value="{0}">{1}</option>',I.getter(t.dataValueField)(s[o]),I.getter(t.dataTextField)(s[o]));}e(I.format('<select data-{0}bind="value:{1}" multiple="multiple" data-{0}value-primitive="{3}">{2}</select>',I.ns,t.field,a,t.valuePrimitive)).appendTo(n).attr(i);};}function _(e,t){var n,i=e.end.getTime()-e.start.getTime(),o=new Date(e.start.getTime());return I.date.setTime(o,t),n=new Date(o.getTime()),I.date.setTime(n,i,!0),{start:o,end:n};}var b,w,y,k,x,C,S,T,D,A,E,R,I=window.kendo,F=I.date,M=I.support.input,P=F.MS_PER_DAY,z=F.getDate,B=I.date.getMilliseconds,L=I.recurrence,H=I.keys,N=I.ui,O=N.Widget,V=N.DataBoundWidget,U="string",W=N.Popup,j=N.Calendar,q=I.data.DataSource,G=e.isPlainObject,$=e.extend,Y=e.proxy,K=Object.prototype.toString,Q=e.isArray,X=".kendoScheduler",J="click",Z="change",ee="cancel",te="remove",ne="save",ie="add",oe="edit",re=/(?:value:start|value:end)(?:,|$)/,ae=z(new Date()),se=",",le=/\;/g,ce="recurrenceException",de="Are you sure you want to delete this event?",ue="Do you want to delete only this event occurrence or the whole series?",he="Do you want to edit only this event occurrence or the whole series?",fe="Are you sure you want to delete this event occurrence?",pe="Are you sure you want to delete the whole series?",me='<a class="k-button #=className#" #=attr# href="\\#">#=text#</a>',ge=I.template('<li class="k-current-view" data-#=ns#name="#=view#"><a role="button" href="\\#" class="k-link">${views[view].title}</a></li>'),ve=I.template('<div class="k-floatwrap k-header k-scheduler-toolbar"># if (pdf) { #<ul class="k-reset k-scheduler-tools"><li><a role="button" href="\\#" class="k-button k-pdf"><span class="k-icon k-i-pdf"></span>${messages.pdf}</a></li></ul># } #<ul class="k-reset k-scheduler-navigation"><li class="k-state-default k-header k-nav-today"><a role="button" href="\\#" class="k-link">${messages.today}</a></li><li class="k-state-default k-header k-nav-prev"><a role="button" href="\\#" class="k-link"><span class="k-icon k-i-arrow-w"></span></a></li><li class="k-state-default k-header k-nav-next"><a role="button" href="\\#" class="k-link"><span class="k-icon k-i-arrow-e"></span></a></li><li class="k-state-default k-nav-current"><a role="button" href="\\#" class="k-link"><span class="k-icon k-i-calendar"></span><span class="k-sm-date-format" data-#=ns#bind="text: formattedShortDate"></span><span class="k-lg-date-format" data-#=ns#bind="text: formattedDate"></span></a></li></ul>#if(viewsCount === 1){#<a role="button" data-#=ns#name="#=view#" href="\\#" class="k-link k-scheduler-refresh"><span class="k-icon k-i-refresh"></span></a>#}else{#<ul class="k-reset k-header k-scheduler-views">#for(var view in views){#<li class="k-state-default k-view-#= view.toLowerCase() #" data-#=ns#name="#=view#"><a role="button" href="\\#" class="k-link">${views[view].title}</a></li>#}#</ul>#}#</div>'),_e=I.template('<div class="k-floatwrap k-header k-scheduler-toolbar"><ul class="k-reset k-header k-scheduler-navigation"><li class="k-state-default k-nav-today"><a role="button" href="\\#" class="k-link">${messages.today}</a></li></ul>#if(viewsCount === 1){#<a role="button" data-#=ns#name="#=view#" href="\\#" class="k-link k-scheduler-refresh"><span class="k-icon k-i-refresh"></span></a>#}else{#<ul class="k-reset k-header k-scheduler-views">#for(var view in views){#<li class="k-state-default k-view-#= view.toLowerCase() #" data-#=ns#name="#=view#"><a role="button" href="\\#" class="k-link">${views[view].title}</a></li>#}#</ul>#}#</div><div class="k-floatwrap k-header k-scheduler-toolbar"><ul class="k-reset k-header k-scheduler-navigation"><li class="k-state-default k-nav-prev"><a role="button" href="\\#" class="k-link"><span class="k-icon k-i-arrow-w"></span></a></li><li class="k-state-default k-nav-current"><span class="k-sm-date-format" data-#=ns#bind="text: formattedShortDate"></span><span class="k-lg-date-format" data-#=ns#bind="text: formattedDate"></span></li><li class="k-state-default k-nav-next"><a role="button" href="\\#" class="k-link"><span class="k-icon k-i-arrow-e"></span></a></li></ul></div>'),be=function be(t,n){var r={name:n.field},a=M.date?"":I.attr("role")+'="datepicker" ',s=I.attr("role")+'="datetimepicker" ',l=n.model.isAllDay,c=I.attr("validate")+"='"+!l+"'",d=I.attr("validate")+"='"+l+"'";i(r,n),o(r,n),e('<input type="datetime-local" required '+I.attr("type")+'="date" '+s+I.attr("bind")+'="value:'+n.field+',invisible:isAllDay" '+c+"/>").attr(r).appendTo(t),e('<input type="date" required '+I.attr("type")+'="date" '+a+I.attr("bind")+'="value:'+n.field+',visible:isAllDay" '+d+"/>").attr(r).appendTo(t),e("<span "+I.attr("for")+'="'+n.field+'" class="k-invalid-msg"/>').hide().appendTo(t);},we=function we(t,n){var r={name:n.field},a=n.model.isAllDay,s=I.attr("validate")+"='"+!a+"' ",l=I.attr("validate")+"='"+a+"' ";i(r,n),o(r,n),e('<input type="text" required '+I.attr("type")+'="date" '+I.attr("role")+'="datetimepicker" '+I.attr("bind")+'="value:'+n.field+',invisible:isAllDay" '+s+"/>").attr(r).appendTo(t),e('<input type="text" required '+I.attr("type")+'="date" '+I.attr("role")+'="datepicker" '+I.attr("bind")+'="value:'+n.field+',visible:isAllDay" '+l+"/>").attr(r).appendTo(t),e("<span "+I.attr("bind")+'="text: '+n.field+'Timezone"></span>').appendTo(t),"end"===n.field&&e("<span "+I.attr("bind")+'="text: startTimezone, invisible: endTimezone"></span>').appendTo(t),e("<span "+I.attr("for")+'="'+n.field+'" class="k-invalid-msg"/>').hide().appendTo(t);},ye=function ye(t,n){e("<div "+I.attr("bind")+'="value:'+n.field+'" />').attr({name:n.field}).appendTo(t).kendoRecurrenceEditor({start:n.model.start,timezone:n.timezone,messages:n.messages});},ke=function ke(t,n){e("<div "+I.attr("bind")+'="value:'+n.field+'" />').attr({name:n.field}).appendTo(t).kendoMobileRecurrenceEditor({start:n.model.start,timezone:n.timezone,messages:n.messages,pane:n.pane,value:n.model[n.field]});},xe=function xe(t,i){var o=n(i.model,i.messages.noTimezone);e('<a href="#" class="k-button k-timezone-button" data-bind="invisible:isAllDay">'+o+"</a>").click(i.click).appendTo(t);},Ce=function Ce(t,n){e('<a href="#" class="k-button" data-bind="invisible:isAllDay">'+n.messages.timezoneEditorButton+"</a>").click(n.click).appendTo(t);},Se=function Se(t,n){e("<div "+I.attr("bind")+'="value:'+n.field+'" />').attr({name:n.field}).toggle(n.visible).appendTo(t).kendoMobileTimezoneEditor({optionLabel:n.noTimezone});},Te=function Te(t,n){e("<div "+I.attr("bind")+'="value:'+n.field+'" />').attr({name:n.field}).toggle(n.visible).appendTo(t).kendoTimezoneEditor({optionLabel:n.noTimezone});},De=I.Class.extend({init:function init(t,n){var i=t.timezone;this.reader=n,n.model&&(this.model=n.model),this.timezone=i,this.data=r(e.proxy(this.data,this),i),this.serialize=a(e.proxy(this.serialize,this),i);},errors:function errors(e){return this.reader.errors(e);},parse:function parse(e){return this.reader.parse(e);},data:function data(e){return this.reader.data(e);},total:function total(e){return this.reader.total(e);},groups:function groups(e){return this.reader.groups(e);},aggregates:function aggregates(e){return this.reader.aggregates(e);},serialize:function serialize(e){return this.reader.serialize(e);}}),Ae=I.data.Model.define({init:function init(e){var t=this;I.data.Model.fn.init.call(t,e),t._defaultId=t.defaults[t.idField];},_time:function _time(e){var t=this[e],n="_"+e+"Time";return this[n]?this[n]-I.date.toUtcTime(I.date.getDate(t)):B(t);},_date:function _date(e){var t="_"+e+"Time";return this[t]?this[t]-this._time(e):I.date.getDate(this[e]);},clone:function clone(t,n){var i=this.uid,o=new this.constructor(e.extend({},this.toJSON(),t));return n||(o.uid=i),o;},duration:function duration(){var e=this.end,t=this.start,n=(e.getTimezoneOffset()-t.getTimezoneOffset())*I.date.MS_PER_MINUTE;return e-t-n;},expand:function expand(e,t,n){return L?L.expand(this,e,t,n):[this];},update:function update(e){for(var t in e){this.set(t,e[t]);}this._startTime&&this.set("_startTime",I.date.toUtcTime(this.start)),this._endTime&&this.set("_endTime",I.date.toUtcTime(this.end));},isMultiDay:function isMultiDay(){return this.isAllDay||this.duration()>=I.date.MS_PER_DAY;},isException:function isException(){return!this.isNew()&&this.recurrenceId;},isOccurrence:function isOccurrence(){return this.isNew()&&this.recurrenceId;},isRecurring:function isRecurring(){return!(!this.recurrenceRule&&!this.recurrenceId);},isRecurrenceHead:function isRecurrenceHead(){return!(!this.id||!this.recurrenceRule);},toOccurrence:function toOccurrence(t){return t=e.extend(t,{recurrenceException:null,recurrenceRule:null,recurrenceId:this.id||this.recurrenceId}),t[this.idField]=this.defaults[this.idField],this.clone(t,!0);},toJSON:function toJSON(){var e=I.data.Model.fn.toJSON.call(this);return e.uid=this.uid,delete e._startTime,delete e._endTime,e;},shouldSerialize:function shouldSerialize(e){return I.data.Model.fn.shouldSerialize.call(this,e)&&"_defaultId"!==e;},set:function set(e,t){var n,i,o,r=this.isAllDay||!1;I.data.Model.fn.set.call(this,e,t),"isAllDay"==e&&t!=r&&(n=I.date.getDate(this.start),i=new Date(this.end),o=I.date.getMilliseconds(i),0===o&&t&&(o=P),this.set("start",n),t===!0?(I.date.setTime(i,-o),n>i&&(i=n)):I.date.setTime(i,P-o),this.set("end",i));},id:"id",fields:{id:{type:"number"},title:{defaultValue:"",type:"string"},start:{type:"date",validation:{required:!0}},startTimezone:{type:"string"},end:{type:"date",validation:{required:!0,dateCompare:{value:d}}},endTimezone:{type:"string"},recurrenceRule:{defaultValue:"",type:"string"},recurrenceException:{defaultValue:"",type:"string"},isAllDay:{type:"boolean",defaultValue:!1},description:{type:"string"}}}),Ee=q.extend({init:function init(e){q.fn.init.call(this,$(!0,{},{schema:{modelBase:Ae,model:Ae}},e)),this.reader=new De(this.options.schema,this.reader);},expand:function expand(e,t){var n=this.view(),i={};return e&&t&&(t=new Date(t.getTime()+P-1),i={logic:"or",filters:[{logic:"and",filters:[{field:"start",operator:"gte",value:e},{field:"end",operator:"gte",value:e},{field:"start",operator:"lte",value:t}]},{logic:"and",filters:[{field:"start",operator:"lte",value:new Date(e.getTime()+P-1)},{field:"end",operator:"gte",value:e}]}]},n=new I.data.Query(u(n,e,t,this.reader.timezone)).filter(i).toArray()),n;},cancelChanges:function cancelChanges(e){e&&e.isOccurrence()&&this._removeExceptionDate(e),q.fn.cancelChanges.call(this,e);},insert:function insert(e,t){if(t){if(!(t instanceof Ae)){var n=t;t=this._createNewModel(),t.accept(n);}return(!this._pushCreated&&t.isRecurrenceHead()||t.recurrenceId)&&(t=t.recurrenceId?t:t.toOccurrence(),this._addExceptionDate(t)),q.fn.insert.call(this,e,t);}},pushCreate:function pushCreate(e){this._pushCreated=!0,q.fn.pushCreate.call(this,e),this._pushCreated=!1;},remove:function remove(e){return e.isRecurrenceHead()?this._removeExceptions(e):e.isRecurring()&&this._addExceptionDate(e),q.fn.remove.call(this,e);},_removeExceptions:function _removeExceptions(e){for(var t=this.data().slice(0),n=t.shift(),i=e.id;n;){n.recurrenceId===i&&q.fn.remove.call(this,n),n=t.shift();}e.set(ce,"");},_removeExceptionDate:function _removeExceptionDate(e){var t,n,i,o;e.recurrenceId&&(t=this.get(e.recurrenceId),t&&(n=e.start,i=RegExp("(\\"+se+"?)"+L.toExceptionString(n,this.reader.timezone)),o=(t.recurrenceException||"").replace(le,se).replace(/\,$/,""),t.set(ce,o.replace(i,""))));},_addExceptionDate:function _addExceptionDate(e){var t,n=e.start,i=this.reader.timezone,o=this.get(e.recurrenceId),r=(o.recurrenceException||"").replace(le,se).replace(/\,$/,"");L.isException(r,n,i)||(t=L.toExceptionString(n,i),o.set(ce,r+(r&&t?se:"")+t));}});Ee.create=function(e){(Q(e)||e instanceof I.data.ObservableArray)&&(e={data:e});var t=e||{},n=t.data;if(t.data=n,!(t instanceof Ee)&&t instanceof I.data.DataSource)throw Error("Incorrect DataSource type. Only SchedulerDataSource instances are supported");return t instanceof Ee?t:new Ee(t);},$(!0,I.data,{SchedulerDataSource:Ee,SchedulerDataReader:De,SchedulerEvent:Ae}),b={update:{text:"Save",className:"k-primary k-scheduler-update"},canceledit:{text:"Cancel",className:"k-scheduler-cancel"},destroy:{text:"Delete",imageClass:"k-delete",className:"k-primary k-scheduler-delete",iconClass:"k-icon"}},w={mobile:{dateRange:be,timezonePopUp:xe,timezone:Se,recurrence:ke,description:m,multipleResources:v,resources:p},desktop:{dateRange:we,timezonePopUp:Ce,timezone:Te,recurrence:ye,description:m,multipleResources:g,resources:p}},y=I.Observable.extend({init:function init(e,t){I.Observable.fn.init.call(this),this.element=e,this.options=$(!0,{},this.options,t),this.createButton=this.options.createButton,this.toggleDateValidationHandler=Y(this._toggleDateValidation,this);},_toggleDateValidation:function _toggleDateValidation(t){if("isAllDay"==t.field){var n,i,o,r=this.container,a=this.editable.options.model.isAllDay,s=I.attr("bind");r.find("["+s+"*=end],["+s+"*=start]").each(function(){n=e(this),re.test(n.attr(s))&&(i=n.is("["+I.attr("role")+"=datetimepicker],[type*=datetime]"),o=a!==i,n.attr(I.attr("validate"),o));});}},fields:function fields(e,t){var n,i,o=this,r=o.options.messages,a=o.options.timezone,s=function s(e){e.preventDefault(),o._initTimezoneEditor(t,this);},l=[{field:"title",title:r.editor.title},{field:"start",title:r.editor.start,editor:e.dateRange,timezone:a},{field:"end",title:r.editor.end,editor:e.dateRange,timezone:a},{field:"isAllDay",title:r.editor.allDayEvent}];I.timezone.windows_zones&&(l.push({field:"timezone",title:r.editor.timezone,editor:e.timezonePopUp,click:s,messages:r.editor,model:t}),l.push({field:"startTimezone",title:r.editor.startTimezone,editor:e.timezone,noTimezone:r.editor.noTimezone}),l.push({field:"endTimezone",title:r.editor.endTimezone,editor:e.timezone,noTimezone:r.editor.noTimezone})),t.recurrenceId||l.push({field:"recurrenceRule",title:r.editor.repeat,editor:e.recurrence,timezone:a,messages:r.recurrenceEditor,pane:this.pane}),"description"in t&&l.push({field:"description",title:r.editor.description,editor:e.description({model:t,field:"description"})});for(n=0;this.options.resources.length>n;n++){i=this.options.resources[n],l.push({field:i.field,title:i.title,editor:i.multiple?e.multipleResources(i,t):e.resources(i,t)});}return l;},end:function end(){return this.editable.end();},_buildEditTemplate:function _buildEditTemplate(e,t,n){var i,o,r,a,s=this.options.messages,l=$({},I.Template,this.options.templateSettings),c=l.paramName,d=this.options.editable.template,u="";if(d)(typeof d==="undefined"?"undefined":_typeof(d))===U&&(d=window.unescape(d)),u+=I.template(d,l)(e);else for(i=0,o=t.length;o>i;i++){r=t[i],"startTimezone"===r.field&&(u+='<div class="k-popup-edit-form k-scheduler-edit-form k-scheduler-timezones" style="display:none">',u+='<div class="k-edit-form-container">',u+='<div class="k-edit-label"></div>',u+='<div class="k-edit-field"><label class="k-check"><input class="k-timezone-toggle" type="checkbox" />'+s.editor.separateTimezones+"</label></div>"),u+='<div class="k-edit-label"><label for="'+r.field+'">'+(r.title||r.field||"")+"</label></div>",!e.editable||e.editable(r.field)?(n.push(r),u+="<div "+I.attr("container-for")+'="'+r.field+'" class="k-edit-field"></div>'):(a="#:",r.field?(r=I.expr(r.field,c),a+=r+"==null?'':"+r):a+="''",a+="#",a=I.template(a,l),u+='<div class="k-edit-field">'+a(e)+"</div>"),"endTimezone"===r.field&&(u+=this._createEndTimezoneButton());}return u;},_createEndTimezoneButton:function _createEndTimezoneButton(){return"</div></div>";},_revertTimezones:function _revertTimezones(e){e.set("startTimezone",this._startTimezone),e.set("endTimezone",this._endTimezone),delete this._startTimezone,delete this._endTimezone;}}),k=y.extend({init:function init(){y.fn.init.apply(this,arguments),this.pane=I.mobile.ui.Pane.wrap(this.element),this.pane.element.parent().css("height",this.options.height),this.view=this.pane.view(),this._actionSheetButtonTemplate=I.template('<li><a #=attr# class="k-button #=className#" href="\\#">#:text#</a></li>'),this._actionSheetPopupOptions=e(document.documentElement).hasClass("km-root")?{modal:!1}:{align:"bottom center",position:"bottom center",effect:"slideIn:up"};},options:{animations:{left:"slide",right:"slide:right"}},destroy:function destroy(){this.close(),this.unbind(),this.pane.destroy();},_initTimezoneEditor:function _initTimezoneEditor(t){var i,o=this,r=o.pane,a=o.options.messages,s=o.timezoneView,l=o.container.find(".k-scheduler-timezones"),c=l.find(".k-timezone-toggle"),d=l.find(".k-edit-label:last").add(l.find(".k-edit-field:last")),u=function u(e){if("startTimezone"===e.field){var n=t.startTimezone;c.prop("disabled",!n),n||(d.hide(),t.set("endTimezone",""),c.prop("checked",!1));}};o._startTimezone=t.startTimezone||"",o._endTimezone=t.endTimezone||"",s||(i='<div data-role="view" class="k-popup-edit-form k-scheduler-edit-form k-mobile-list"><div data-role="header" class="k-header"><a href="#" class="k-button k-scheduler-cancel">'+a.cancel+"</a>"+a.editor.timezoneTitle+'<a href="#" class="k-button k-scheduler-update">'+a.save+"</a></div></div>",this.timezoneView=s=r.append(i),s.contentElement().append(l.show()),s.element.on(J+X,".k-scheduler-cancel, .k-scheduler-update",function(i){var s,l;i.preventDefault(),i.stopPropagation(),e(this).hasClass("k-scheduler-cancel")&&o._revertTimezones(t),t.unbind("change",u),s=r.element.find("#edit").data("kendoMobileView"),l=n(t,a.editor.noTimezone),s.contentElement().find(".k-timezone-button").text(l),r.navigate(s,o.options.animations.right);}),c.click(function(){d.toggle(c.prop("checked")),t.set("endTimezone","");}),t.bind("change",u)),c.prop("checked",t.endTimezone).prop("disabled",!t.startTimezone),t.endTimezone?d.show():d.hide(),r.navigate(s,o.options.animations.left);},_createActionSheetButton:function _createActionSheetButton(e){return e.template=this._actionSheetButtonTemplate,this.createButton(e);},showDialog:function showDialog(t){var n,i,o="",r='<ul><li class="km-actionsheet-title">'+t.title+"</li>",a=this.element.find(".k-event["+I.attr("uid")+"='"+t.model.uid+"']");for(this.container&&(a=this.container.find(".k-scheduler-delete"),a[0]&&(o="phone")),n=0;t.buttons.length>n;n++){r+=this._createActionSheetButton(t.buttons[n]);}r+="</ul>",i=e(r).appendTo(this.pane.view().element).kendoMobileActionSheet({type:o,cancel:this.options.messages.cancel,cancelTemplate:'<li class="km-actionsheet-cancel"><a class="k-button" href="\\#">#:cancel#</a></li>',close:function close(){this.destroy();},command:function command(n){var o=i.element.find("li:not(.km-actionsheet-cancel) > .k-button").index(e(n.currentTarget));o>-1&&(i.close(),t.buttons[o].click());},popup:this._actionSheetPopupOptions}).data("kendoMobileActionSheet"),i.open(a);},editEvent:function editEvent(t){var n,i,o,r,a,s=this.pane,l="",c=this.options.messages,d=c.save,u=c.destroy,h=c.cancel,f=c.editor.editorTitle;return l+='<div data-role="view" class="k-popup-edit-form k-scheduler-edit-form k-mobile-list" id="edit" '+I.attr("uid")+'="'+t.uid+'"><div data-role="header" class="k-header"><a href="#" class="k-button k-scheduler-cancel">'+h+"</a>"+f+'<a href="#" class="k-button k-scheduler-update">'+d+"</a></div>",n=this.fields(w.mobile,t),i=this,o=[],l+=this._buildEditTemplate(t,n,o),!t.isNew()&&this.options.editable&&this.options.editable.destroy!==!1&&(l+='<div class="k-edit-buttons"><a href="#" class="k-scheduler-delete k-button">'+u+"</a></div>"),l+="</div>",r=s.append(l),a=this.container=r.element,this.editable=a.kendoEditable({fields:o,model:t,clearContainer:!1,target:i.options.target,validateOnBlur:!0}).data("kendoEditable"),a.find("input[type=checkbox],input[type=radio]").parent(".k-edit-field").addClass("k-check").prev(".k-edit-label").addClass("k-check").click(function(){e(this).next().children("input").click();}),this.trigger("edit",{container:a,model:t})?this.trigger("cancel",{container:a,model:t}):(a.on(J+X,"a.k-scheduler-edit, a.k-scheduler-cancel, a.k-scheduler-update, a.k-scheduler-delete",function(n){var o,r;n.preventDefault(),n.stopPropagation(),o=e(this),o.hasClass("k-scheduler-edit")?s.navigate("#edit",i.options.animations.right):(r="cancel",o.hasClass("k-scheduler-update")?r="save":o.hasClass("k-scheduler-delete")&&(r="remove"),i.trigger(r,{container:a,model:t}));}),s.navigate(r,i.options.animations.left),t.bind("change",i.toggleDateValidationHandler)),this.editable;},_views:function _views(){return this.pane.element.find(I.roleSelector("view")).not(this.view.element);},close:function close(){var e,t,n,i;if(this.container){for(this.pane.navigate("",this.options.animations.right),e=this._views(),n=0,i=e.length;i>n;n++){t=e.eq(n).data("kendoMobileView"),t&&t.purge();}e.remove(),this.container=null,this.editable&&(this.editable.options.model.unbind("change",this.toggleDateValidationHandler),this.editable.destroy(),this.editable=null),this.timezoneView=null;}}}),x=y.extend({destroy:function destroy(){this.close(),this.unbind();},editEvent:function editEvent(t){var n,i,o,r=this,a=r.options.editable,s="<div "+I.attr("uid")+'="'+t.uid+'" class="k-popup-edit-form k-scheduler-edit-form"><div class="k-edit-form-container">',l=r.options.messages,c=l.save,d=l.cancel,u=l.destroy,h=this.fields(w.desktop,t),f=[];return s+=this._buildEditTemplate(t,h,f),i=G(a)?a.window:{},s+='<div class="k-edit-buttons k-state-default">',s+=this.createButton({name:"update",text:c,attr:n})+this.createButton({name:"canceledit",text:d,attr:n}),t.isNew()||a.destroy===!1||(s+=this.createButton({name:"delete",text:u,attr:n})),s+="</div></div></div>",o=this.container=e(s).appendTo(r.element).eq(0).kendoWindow($({modal:!0,resizable:!1,draggable:!0,title:l.editor.editorTitle,visible:!1,close:function close(e){e.userTriggered&&r.trigger(ee,{container:o,model:t})&&e.preventDefault();}},i)),r.editable=o.kendoEditable({fields:f,model:t,clearContainer:!1,validateOnBlur:!0,target:r.options.target}).data("kendoEditable"),r.trigger(oe,{container:o,model:t})?r.trigger(ee,{container:o,model:t}):(o.data("kendoWindow").center().open(),o.on(J+X,"a.k-scheduler-cancel",function(e){e.preventDefault(),e.stopPropagation(),r.trigger(ee,{container:o,model:t});}),o.on(J+X,"a.k-scheduler-update",function(e){e.preventDefault(),e.stopPropagation(),r.trigger("save",{container:o,model:t});}),o.on(J+X,"a.k-scheduler-delete",function(e){e.preventDefault(),e.stopPropagation(),r.trigger(te,{container:o,model:t});}),I.cycleForm(o),t.bind("change",r.toggleDateValidationHandler)),r.editable;},close:function close(){var e=this,t=function t(){e.editable&&(e.editable.options.model.unbind("change",e.toggleDateValidationHandler),e.editable.destroy(),e.editable=null,e.container=null),e.popup&&(e.popup.destroy(),e.popup=null);};e.editable?(e._timezonePopup&&e._timezonePopup.data("kendoWindow")&&(e._timezonePopup.data("kendoWindow").destroy(),e._timezonePopup=null),e.container.is(":visible")?e.container.data("kendoWindow").bind("deactivate",t).close():t()):t();},_createEndTimezoneButton:function _createEndTimezoneButton(){var e=this.options.messages,t="";return t+='<div class="k-edit-buttons k-state-default">',t+=this.createButton({name:"savetimezone",text:e.save})+this.createButton({name:"canceltimezone",text:e.cancel}),t+="</div></div></div>";},showDialog:function showDialog(t){var n,i,o,r=I.format("<div class='k-popup-edit-form'><div class='k-edit-form-container'><p class='k-popup-message'>{0}</p>",t.text);for(r+='<div class="k-edit-buttons k-state-default">',n=0;t.buttons.length>n;n++){r+=this.createButton(t.buttons[n]);}r+="</div></div></div>",i=this.element,this.popup&&this.popup.destroy(),o=this.popup=e(r).appendTo(i).eq(0).on("click",".k-button",function(n){n.preventDefault(),o.close();var i=e(n.currentTarget).index();t.buttons[i].click();}).kendoWindow({modal:!0,resizable:!1,draggable:!1,title:t.title,visible:!1,close:function close(){this.destroy(),i.focus();}}).getKendoWindow(),o.center().open();},_initTimezoneEditor:function _initTimezoneEditor(e,t){var n,i=this,o=i.container.find(".k-scheduler-timezones"),r=o.find(".k-timezone-toggle"),a=o.find(".k-edit-label:last").add(o.find(".k-edit-field:last")),s=o.find(".k-scheduler-savetimezone"),l=o.find(".k-scheduler-canceltimezone"),c=i._timezonePopup,d=function d(t){if("startTimezone"===t.field){var n=e.startTimezone;r.prop("disabled",!n),n||(a.hide(),e.set("endTimezone",""),r.prop("checked",!1));}};i._startTimezone=e.startTimezone,i._endTimezone=e.endTimezone,c||(i._timezonePopup=c=o.kendoWindow({modal:!0,resizable:!1,draggable:!0,title:i.options.messages.editor.timezoneEditorTitle,visible:!1,close:function close(n){e.unbind("change",d),n.userTriggered&&i._revertTimezones(e),t&&t.focus();}}),r.click(function(){a.toggle(r.prop("checked")),e.set("endTimezone","");}),s.click(function(e){e.preventDefault(),n.close();}),l.click(function(t){t.preventDefault(),i._revertTimezones(e),n.close();}),e.bind("change",d)),r.prop("checked",e.endTimezone).prop("disabled",!e.startTimezone),e.endTimezone?a.show():a.hide(),n=c.data("kendoWindow"),n.center().open();}}),C=V.extend({init:function init(t,n){var i=this;O.fn.init.call(i,t,n),i.options.views&&i.options.views.length||(i.options.views=["day","week"]),i.resources=[],i._initModel(),i._wrapper(),i._views(),i._toolbar(),i._dataSource(),i._resources(),i._resizeHandler=function(){i.resize();},i.wrapper.on("mousedown"+X+" selectstart"+X,function(t){e(t.target).is(":kendoFocusable")||t.preventDefault();}),i.options.editable&&i.options.editable.resize!==!1&&i._resizable(),i._movable(),i._bindResize(),i.options.messages&&i.options.messages.recurrence&&(L.options=i.options.messages.recurrence),i._selectable(),i._ariaId=I.guid(),i._createEditor();},_bindResize:function _bindResize(){e(window).on("resize"+X,this._resizeHandler);},_unbindResize:function _unbindResize(){e(window).off("resize"+X,this._resizeHandler);},dataItems:function dataItems(){var n,i,o,r,a,s=this,l=s.items(),c=s._data,d=e.map(l,function(t){return e(t).attr("data-uid");}),u={},h=d.length;for(n=0;h>n;n++){u[d[n]]=null;}for(o=c.length,n=0;o>n;n++){r=c[n],u[r.uid]!==t&&(u[r.uid]=r);}a=[];for(i in u){a.push(u[i]);}return a;},_isMobile:function _isMobile(){var e=this.options;return e.mobile===!0&&I.support.mobileOS||"phone"===e.mobile||"tablet"===e.mobile;},_isMobilePhoneView:function _isMobilePhoneView(){var e=this.options;return e.mobile===!0&&I.support.mobileOS&&!I.support.mobileOS.tablet||"phone"===e.mobile;},_groupsByResource:function _groupsByResource(e,t,n,i,o){var r,a,s,l,c,d,u;if(n||(n=[]),r=e[0]){for(s=r.dataSource.view(),l=0,c=0;s.length>c;c++){d=I.getter(r.dataValueField)(s[c]),u=t+l+c,a=this._groupsByResource(e.slice(1),u,n,d,r.field),a[r.field]=d,l=a.groupIndex,o&&i&&(a[o]=i),1===e.length&&(a.groupIndex=t+c,n.push(a));}return a;}return{};},data:function data(){return this._data;},select:function select(n){var i,o,r,a,s,l,c,d,u,h,f=this,p=f.view(),m=f._selection,g=p.groups;if(n===t)return r=p._selectedSlots,m?(m&&m.events&&(o=f._selectedEvents()),{start:m.start,end:m.end,events:o,slots:r,resources:p._resourceBySlot(m)}):[];if(!n)return f._selection=null,f._old=null,p.clearSelection(),t;if(e.isArray(n)&&(n={events:n.splice(0)}),n.resources){s=[],l=[],p.groupedResources&&f._groupsByResource(p.groupedResources,0,l);for(a in n.resources){s.push({field:a,operator:"eq",value:n.resources[a]});}i=new I.data.Query(l).filter(s).toArray();}return n.events&&n.events.length?(f._selectEvents(n.events,i),f._select(),t):(g&&n.start&&n.end&&(c=z(p._startDate),d=I.date.addDays(z(p._endDate),1),d>n.start&&n.end>=c&&(u=i&&i.length?g[i[0].groupIndex]:g[0],h=u.ranges(n.start,n.end,n.isAllDay,!1),h.length&&(f._selection={start:I.timezone.toLocalDate(h[0].start.start),end:I.timezone.toLocalDate(h[h.length-1].end.end),groupIndex:h[0].start.groupIndex,index:h[0].start.index,isAllDay:h[0].start.isDaySlot,events:[]},f._select()))),t);},_selectEvents:function _selectEvents(e,t){var n,i,o,r,a,s,l,c,d=this,u=d.view(),h=u.groups,f=e.length,p=t&&t.length;for(n=0;f>n;n++){if(h&&p){for(i=h[t[0].groupIndex],o=[],r=i.timeSlotCollectionCount(),a=i.daySlotCollectionCount(),s=0;r>s;s++){o=o.concat(i.getTimeSlotCollection(s).events());}for(l=0;a>l;l++){o=o.concat(i.getDaySlotCollection(l).events());}o=new I.data.Query(o).filter({field:"element[0].getAttribute('data-uid')",operator:"eq",value:e[n]}).toArray(),o[0]&&d._createSelection(o[0].element);}else c=u.element.find(I.format(".k-event[data-uid={0}], .k-task[data-uid={0}]",e[n])),c.length&&d._createSelection(c[0]);}},_selectable:function _selectable(){var t,n=this,i=n.wrapper,o=I.support.mobileOS?"touchend":"mousedown";n.options.selectable&&(n._tabindex(),i.on(o+X,".k-scheduler-header-all-day td, .k-scheduler-content td, .k-event",function(e){var t=e.which,o=e.button,r=I.support.browser,a=t&&3===t||o&&2==o;I.support.mobileOS&&e.isDefaultPrevented()||(a||n._createSelection(e.currentTarget),i.focus(),r.msie&&9>r.version&&setTimeout(function(){i.focus();}));}),t=e.proxy(n._mouseMove,n),i.on("mousedown"+X,".k-scheduler-header-all-day td, .k-scheduler-content td",function(e){var n=e.which,o=e.button,r=n&&3===n||o&&2==o;r||i.on("mousemove"+X,".k-scheduler-header-all-day td, .k-scheduler-content td",t);}),i.on("mouseup"+X+" mouseleave"+X,function(){i.off("mousemove"+X,".k-scheduler-header-all-day td, .k-scheduler-content td",t);}),i.on("focus"+X,function(){n._selection||n._selectFirstSlot(),n._select();}),i.on("focusout"+X,function(){n._ctrlKey=n._shiftKey=!1;}),i.on("keydown"+X,Y(n._keydown,n)),i.on("keyup"+X,function(e){n._ctrlKey=e.ctrlKey,n._shiftKey=e.shiftKey;}));},_selectFirstSlot:function _selectFirstSlot(){this._createSelection(this.wrapper.find(".k-scheduler-content").find("td:first"));},_select:function _select(){var t,n,i,o,r,a=this,s=a.view(),l=a.wrapper,c=s.current(),d=a._selection;if(d&&(c&&(c.removeAttribute("id"),c.removeAttribute("aria-label"),l.removeAttr("aria-activedescendant")),s.select(d),c=s.current(),c&&a._old!==c)){if(t=e(c).data("uid"),a._old&&t&&t===e(a._old).data("uid"))return;i=d,o=a._selectedEvents(),r=s._selectedSlots,o[0]?(i=o[0]||d,n=I.format(a.options.messages.ariaEventLabel,i.title,i.start,i.start)):n=I.format(a.options.messages.ariaSlotLabel,i.start,i.end),c.setAttribute("id",a._ariaId),c.setAttribute("aria-label",n),l.attr("aria-activedescendant",a._ariaId),a._old=c,a.trigger("change",{start:d.start,end:d.end,events:o,slots:r,resources:s._resourceBySlot(d)});}},_selectedEvents:function _selectedEvents(){for(var e,t=this._selection.events,n=t.length,i=0,o=[];n>i;i++){e=this.occurrenceByUid(t[i]),e&&o.push(e);}return o;},_mouseMove:function _mouseMove(t){var n=this;clearTimeout(n._moveTimer),n._moveTimer=setTimeout(function(){var i,o,r,a=n.view(),s=n._selection;s&&(i=a.selectionByElement(e(t.currentTarget)),i&&s.groupIndex===i.groupIndex&&(o=i.startDate(),r=i.endDate(),o>=s.end?s.backward=!1:s.start>=r&&(s.backward=!0),s.backward?s.start=o:s.end=r,n._select()));},5);},_viewByIndex:function _viewByIndex(e){var t,n=this.views;for(t in n){if(!e)return t;e--;}},_keydown:function _keydown(n){var i=this,o=n.keyCode,r=i.view(),a=r.options.editable,s=i._selection,l=n.shiftKey;return i._ctrlKey=n.ctrlKey,i._shiftKey=n.shiftKey,s?(o===H.TAB?r.moveToEvent(s,l)&&(i._select(),n.preventDefault()):a&&o===H.ENTER?s.events.length?a.update!==!1&&i.editEvent(s.events[0]):a.create!==!1&&(s.isAllDay&&(s=e.extend({},s,{end:I.date.addDays(s.end,-1)})),i.addEvent($({},s,r._resourceBySlot(s)))):o===H.DELETE&&a!==!1&&a.destroy!==!1?i.removeEvent(s.events[0]):o>=49&&57>=o?i.view(i._viewByIndex(o-49)):r.move(s,o,l)&&(r.inRange(s)?i._select():i.date(s.start),n.preventDefault()),i._adjustSelectedDate(),t):(i._selectFirstSlot(),i._select(),t);},_createSelection:function _createSelection(t){var n,i,o;this._selection&&(this._ctrlKey||this._shiftKey)||(this._selection={events:[],groupIndex:0}),t=e(t),o=this._selection,t.is(".k-event")&&(n=t.attr(I.attr("uid"))),i=this.view().selectionByElement(t),i&&(o.groupIndex=i.groupIndex||0),n&&(i=l(this._data,n)),i&&i.uid&&(n=[i.uid]),this._updateSelection(i,n),this._adjustSelectedDate();},_updateSelection:function _updateSelection(e,n,i){var o,r,a=this._selection;e&&a&&(o=this.view(),e.uid&&(e=o._updateEventForSelection(e)),this._shiftKey&&a.start&&a.end?(r=a.end>e.end,a.end=e.endDate?e.endDate():e.end,r&&o._timeSlotInterval&&I.date.setTime(a.end,-o._timeSlotInterval())):(a.start=e.startDate?e.startDate():e.start,a.end=e.endDate?e.endDate():e.end),a.isAllDay="isDaySlot"in e?e.isDaySlot:e.isAllDay,null!==i&&i!==t&&(a.groupIndex=i),a.index=e.index,a.events=this._ctrlKey?a.events.concat(n||[]):n||[]);},options:{name:"Scheduler",date:ae,editable:!0,autoBind:!0,snap:!0,mobile:!1,timezone:"",allDaySlot:!0,min:new Date(1900,0,1),max:new Date(2099,11,31),toolbar:null,footer:{},messages:{today:"Today",pdf:"Export to PDF",save:"Save",cancel:"Cancel",destroy:"Delete",deleteWindowTitle:"Delete event",ariaSlotLabel:"Selected from {0:t} to {1:t}",ariaEventLabel:"{0} on {1:D} at {2:t}",views:{day:"Day",week:"Week",workWeek:"Work Week",agenda:"Agenda",month:"Month",timeline:"Timeline",timelineWeek:"Timeline Week",timelineWorkWeek:"Timeline Work Week",timelineMonth:"Timeline Month"},recurrenceMessages:{deleteWindowTitle:"Delete Recurring Item",deleteWindowOccurrence:"Delete current occurrence",deleteWindowSeries:"Delete the series",editWindowTitle:"Edit Recurring Item",editWindowOccurrence:"Edit current occurrence",editWindowSeries:"Edit the series"},editable:{confirmation:de},editor:{title:"Title",start:"Start",end:"End",allDayEvent:"All day event",description:"Description",repeat:"Repeat",timezone:" ",startTimezone:"Start timezone",endTimezone:"End timezone",separateTimezones:"Use separate start and end time zones",timezoneEditorTitle:"Timezones",timezoneEditorButton:"Time zone",timezoneTitle:"Time zones",noTimezone:"No timezone",editorTitle:"Event"}},height:null,width:null,resources:[],group:{resources:[],orientation:"horizontal"},views:[],selectable:!1},events:[te,oe,ee,ne,"add","dataBinding","dataBound","moveStart","move","moveEnd","resizeStart","resize","resizeEnd","navigate","change"],destroy:function destroy(){var t,n=this;O.fn.destroy.call(n),n.dataSource&&(n.dataSource.unbind(Z,n._refreshHandler),n.dataSource.unbind("progress",n._progressHandler),n.dataSource.unbind("error",n._errorHandler)),n.calendar&&(n.calendar.destroy(),n.popup.destroy()),n.view()&&n.view().destroy(),n._editor&&n._editor.destroy(),this._moveDraggable&&this._moveDraggable.destroy(),this._resizeDraggable&&this._resizeDraggable.destroy(),t=n.element.add(n.wrapper).add(n.toolbar).add(n.popup),t.off(X),clearTimeout(n._moveTimer),n._model=null,n.toolbar=null,n.element=null,e(window).off("resize"+X,n._resizeHandler),I.destroy(n.wrapper);},setDataSource:function setDataSource(e){this.options.dataSource=e,this._dataSource(),this.options.autoBind&&e.fetch();},items:function items(){var e=this.wrapper.find(".k-scheduler-content"),t=this.view();return t&&"agenda"===t.options.name?e.find(".k-task"):e.find(".k-event").add(this.wrapper.find(".k-scheduler-header-wrap").find(".k-scheduler-header-all-day").siblings());},_movable:function _movable(){var n,i,o,r,a,s,l,c=this,d=0,u=c._isMobile(),h=c.options.editable&&c.options.editable.move!==!1,f=c.options.editable&&c.options.editable.resize!==!1;(h||f&&u)&&(u&&I.support.mobileOS.android&&(d=5),c._moveDraggable=new I.ui.Draggable(c.element,{distance:d,filter:".k-event",ignore:".k-resize-handle",holdToDrag:u,autoScroll:!0}),h&&c._moveDraggable.bind("dragstart",function(e){var r=c.view(),d=e.currentTarget;return r.options.editable&&r.options.editable.move!==!1?u&&!d.hasClass("k-event-active")?(c.element.find(".k-event-active").removeClass("k-event-active"),e.preventDefault(),t):(a=c.occurrenceByUid(d.attr(I.attr("uid"))),s=a.clone(),s.update(r._eventOptionsForMove(s)),n=r._slotByPosition(e.x.startLocation,e.y.startLocation),o=n.startOffset(e.x.startLocation,e.y.startLocation,c.options.snap),i=n,l=n,n&&!c.trigger("moveStart",{event:a})||e.preventDefault(),t):(e.preventDefault(),t);}).bind("drag",function(e){var t,l,d=c.view(),u=d._slotByPosition(e.x.location,e.y.location);u&&(r=u.startOffset(e.x.location,e.y.location,c.options.snap),u.isDaySlot!==n.isDaySlot?(n=d._slotByPosition(e.x.location,e.y.location),o=n.startOffset(e.x.location,e.y.location,c.options.snap),t=r-o,s.isAllDay=u.isDaySlot,s.start=I.timezone.toLocalDate(o),s.end=I.timezone.toLocalDate(r),d._updateMoveHint(s,u.groupIndex,t),l={start:s.start,end:s.end}):(t=r-o,d._updateMoveHint(s,u.groupIndex,t),l=_(s,t)),c.trigger("move",{event:a,slot:{element:u.element,start:u.startDate(),end:u.endDate(),isDaySlot:u.isDaySlot},resources:d._resourceBySlot(u),start:l.start,end:l.end})?d._updateMoveHint(s,u.groupIndex,t):i=u);}).bind("dragend",function(t){var d,u,h,f,p,m,g,v,b;c.view()._removeMoveHint(),d=r-o,u=_(s,d),h=u.start,f=u.end,p=c.view()._resourceBySlot(i),m=c.view()._resourceBySlot(n),g=c.trigger("moveEnd",{event:a,slot:{element:i.element,start:i.startDate(),end:i.endDate()},start:h,end:f,resources:p}),g||a.start.getTime()===h.getTime()&&a.end.getTime()===f.getTime()&&l.isDaySlot===i.isDaySlot&&I.stringify(p)===I.stringify(m)||(v=c.view()._eventOptionsForMove(a),b=l.isDaySlot!==i.isDaySlot?i.isDaySlot?e.extend({start:i.startDate(),end:i.startDate(),isAllDay:i.isDaySlot},v,p):e.extend({isAllDay:i.isDaySlot,start:h,end:f},v,p):e.extend({isAllDay:a.isAllDay,start:h,end:f},v,p),c._updateEvent(null,a,b,i.groupIndex)),t.currentTarget.removeClass("k-event-active"),this.cancelHold();}).bind("dragcancel",function(){c.view()._removeMoveHint(),this.cancelHold();}),u&&(c._moveDraggable.bind("hold",function(e){c.element.find(".k-scheduler-monthview").length&&e.preventDefault(),c.element.find(".k-event-active").removeClass("k-event-active"),e.currentTarget.addClass("k-event-active");}),I.support.mobileOS.android||c._moveDraggable.userEvents.bind("press",function(e){e.preventDefault();})));},_resizable:function _resizable(){function t(e){var t,n={"k-resize-e":"east","k-resize-w":"west","k-resize-n":"north","k-resize-s":"south"};for(t in n){if(e.hasClass(t))return n[t];}}var n,i,o,r,a,s=this,l=0;s._isMobile()&&I.support.mobileOS.android&&(l=5),s._resizeDraggable=new I.ui.Draggable(s.element,{distance:l,filter:".k-resize-handle",autoScroll:!0,dragstart:function dragstart(t){var l=e(t.currentTarget),c=l.closest(".k-event"),d=c.attr(I.attr("uid")),u=s.view();o=s.occurrenceByUid(d),r=o.clone(),u._updateEventForResize(r),a=u._slotByPosition(t.x.startLocation,t.y.startLocation),s.trigger("resizeStart",{event:o})&&t.preventDefault(),n=I.date.toUtcTime(r.start),i=I.date.toUtcTime(r.end);},drag:function drag(l){var c,d,u,h,f,p;a&&(c=e(l.currentTarget),d=t(c),u=s.view(),h=u._slotByPosition(l.x.location,l.y.location),h&&a.groupIndex==h.groupIndex&&(a=h,f=n,p=i,"south"==d?!a.isDaySlot&&a.end-I.date.toUtcTime(r.start)>=u._timeSlotInterval()&&(i=r.isAllDay?a.startOffset(l.x.location,l.y.location,s.options.snap):a.endOffset(l.x.location,l.y.location,s.options.snap)):"north"==d?!a.isDaySlot&&I.date.toUtcTime(r.end)-a.start>=u._timeSlotInterval()&&(n=a.startOffset(l.x.location,l.y.location,s.options.snap)):"east"==d?a.isDaySlot&&I.date.toUtcTime(I.date.getDate(a.endDate()))>=I.date.toUtcTime(I.date.getDate(r.start))?i=r.isAllDay?a.startOffset(l.x.location,l.y.location,s.options.snap):a.endOffset(l.x.location,l.y.location,s.options.snap):!a.isDaySlot&&a.end-I.date.toUtcTime(r.start)>=u._timeSlotInterval()&&(i=a.endOffset(l.x.location,l.y.location,s.options.snap)):"west"==d&&(a.isDaySlot&&I.date.toUtcTime(I.date.getDate(r.end))>=I.date.toUtcTime(I.date.getDate(a.startDate()))?n=a.startOffset(l.x.location,l.y.location,s.options.snap):!a.isDaySlot&&I.date.toUtcTime(r.end)-a.start>=u._timeSlotInterval()&&(n=a.startOffset(l.x.location,l.y.location,s.options.snap))),s.trigger("resize",{event:o,slot:{element:a.element,start:a.startDate(),end:a.endDate()},start:I.timezone.toLocalDate(n),end:I.timezone.toLocalDate(i),resources:u._resourceBySlot(a)})?(n=f,i=p):u._updateResizeHint(r,a.groupIndex,n,i)));},dragend:function dragend(l){var c,d=e(l.currentTarget),u=new Date(r.start.getTime()),h=new Date(r.end.getTime()),f=t(d);s.view()._removeResizeHint(),"south"==f?h=I.timezone.toLocalDate(i):"north"==f?u=I.timezone.toLocalDate(n):"east"==f?h=a.isDaySlot?I.date.getDate(I.timezone.toLocalDate(i)):I.timezone.toLocalDate(i):"west"==f&&(a.isDaySlot?(u=new Date(I.timezone.toLocalDate(n)),u.setHours(0),u.setMinutes(0)):u=I.timezone.toLocalDate(n)),c=s.trigger("resizeEnd",{event:o,slot:{element:a.element,start:a.startDate(),end:a.endDate()},start:u,end:h,resources:s.view()._resourceBySlot(a)}),!c&&h.getTime()>=u.getTime()&&(r.start.getTime()==u.getTime()&&r.end.getTime()==h.getTime()||(s.view()._updateEventForResize(o),s._updateEvent(f,o,{start:u,end:h}))),a=null,o=null;},dragcancel:function dragcancel(){s.view()._removeResizeHint(),a=null,o=null;}});},_updateEvent:function _updateEvent(e,t,n,i){var o,r=this,a=function a(e,t){try{r._preventRefresh=!0,e.update(n),r._convertDates(e);}finally{r._preventRefresh=!1;}r.trigger(ne,{event:e})||(t&&t(),r._updateSelection(e,[e.uid],i),r.dataSource.sync());},s=function s(e){return e.recurrenceRule?r.dataSource.getByUid(e.uid):r.dataSource.get(e.recurrenceId);},l=function l(){var i,o,l=s(t);"south"!=e&&"north"!=e||(n.start&&(i=I.date.getDate(l.start),I.date.setTime(i,B(n.start)),n.start=i),n.end&&(o=I.date.getDate(l.end),I.date.setTime(o,B(n.end)),n.end=o)),r.dataSource._removeExceptions(l),a(l);},c=function c(){var e=s(t),n=function n(){r._convertDates(e);},i=e.toOccurrence({start:t.start,end:t.end});a(r.dataSource.add(i),n);};t.recurrenceRule||t.isOccurrence()?(o=r.options.messages.recurrenceMessages,r._showRecurringDialog(t,c,l,{title:o.editWindowTitle,text:o.editRecurring?o.editRecurring:he,occurrenceText:o.editWindowOccurrence,seriesText:o.editWindowSeries})):a(r.dataSource.getByUid(t.uid));},_modelForContainer:function _modelForContainer(t){return t=e(t).closest("["+I.attr("uid")+"]"),this.dataSource.getByUid(t.attr(I.attr("uid")));},showDialog:function showDialog(e){this._editor.showDialog(e);},focus:function focus(){this.wrapper.focus();},_confirmation:function _confirmation(e,t){var n,i,o,r,a,s=this.options.editable;s===!0||s.confirmation!==!1?(n=this.options.messages,i=n.deleteWindowTitle,o=_typeof(s.confirmation)===U?s.confirmation:n.editable.confirmation,this._isEditorOpened()&&t.isRecurring()&&(r=this.options.messages.recurrenceMessages,i=r.deleteWindowTitle,o=t.isException()?r.deleteRecurringConfirmation?r.deleteRecurringConfirmation:fe:r.deleteSeriesConfirmation?r.deleteSeriesConfirmation:pe),a=[{name:"destroy",text:n.destroy,click:function click(){e();}}],this._isMobile()&&I.mobile.ui.Pane||a.push({name:"canceledit",text:n.cancel,click:function click(){e(!0);}}),this._unbindResize(),this.showDialog({model:t,text:o,title:i,buttons:a}),this._bindResize()):e();},addEvent:function addEvent(e){var t,n,i=this._editor.editable,o=this.dataSource;e=e||{},n=this.trigger("add",{event:e}),!n&&(i&&i.end()||!i)&&(this.cancelEvent(),e&&e.toJSON&&(e=e.toJSON()),t=o.add(e),t&&(this.cancelEvent(),this._editEvent(t)));},saveEvent:function saveEvent(){var e,t,n,i=this._editor;i&&(e=i.editable,t=i.container,n=this._modelForContainer(t),t&&e&&e.end()&&!this.trigger(ne,{container:t,event:n})&&(n.isRecurrenceHead()&&this.dataSource._removeExceptions(n),n.dirty||n.isOccurrence()||this._convertDates(n,"remove"),this.dataSource.sync()));},cancelEvent:function cancelEvent(){var e,t=this._editor,n=t.container;n&&(e=this._modelForContainer(n),e&&e.isOccurrence()&&(this._convertDates(e,"remove"),this._convertDates(this.dataSource.get(e.recurrenceId),"remove")),this.dataSource.cancelChanges(e),t.close());},editEvent:function editEvent(e){var t="string"==typeof e?this.occurrenceByUid(e):e;t&&(this.cancelEvent(),t.isRecurring()?this._editRecurringDialog(t):this._editEvent(t));},_editEvent:function _editEvent(e){this._unbindResize(),this._createPopupEditor(e),this._bindResize();},_editRecurringDialog:function _editRecurringDialog(e){var t=this,n=function n(){e.isException()?t._editEvent(e):t.addEvent(e);},i=function i(){e.recurrenceId&&(e=t.dataSource.get(e.recurrenceId)),t._editEvent(e);},o=t.options.messages.recurrenceMessages;t._showRecurringDialog(e,n,i,{title:o.editWindowTitle,text:o.editRecurring?o.editRecurring:he,occurrenceText:o.editWindowOccurrence,seriesText:o.editWindowSeries});},_showRecurringDialog:function _showRecurringDialog(e,t,n,i){var o=this,r=o.options.editable,a=G(r)?r.editRecurringMode:"dialog";"series"===a?n():"occurrence"===a?t():(this._unbindResize(),o.showDialog({model:e,title:i.title,text:i.text,buttons:[{text:i.occurrenceText,click:t},{text:i.seriesText,click:n}]}),this._bindResize());},_createButton:function _createButton(e){var t=e.template||me,n=(typeof e==="undefined"?"undefined":_typeof(e))===U?e:e.name||e.text,i={className:"k-scheduler-"+(n||"").replace(/\s/g,""),text:n,attr:""};if(!(n||G(e)&&e.template))throw Error("Custom commands should have name specified");return G(e)?(e.className&&(e.className+=" "+i.className),"edit"===n&&G(e.text)&&(e=$(!0,{},e),e.text=e.text.edit),i=$(!0,i,b[n],e)):i=$(!0,i,b[n]),I.template(t)(i);},_convertDates:function _convertDates(e,t){var n=this.dataSource.reader.timezone,i=e.startTimezone,o=e.endTimezone,r=e.start,a=e.start;t=t||"apply",i=i||o,o=o||i,i&&(n?"apply"===t?(r=I.timezone.convert(e.start,n,i),a=I.timezone.convert(e.end,n,o)):(r=I.timezone.convert(e.start,i,n),a=I.timezone.convert(e.end,o,n)):(r=I.timezone[t](e.start,i),a=I.timezone[t](e.end,o)),e._set("start",r),e._set("end",a));},_createEditor:function _createEditor(){var e,n=this;e=n._editor=this._isMobile()&&I.mobile.ui.Pane?new k(this.wrapper,$({},this.options,{target:this,timezone:n.dataSource.reader.timezone,resources:n.resources,createButton:Y(this._createButton,this)})):new x(this.wrapper,$({},this.options,{target:this,createButton:Y(this._createButton,this),timezone:n.dataSource.reader.timezone,resources:n.resources})),e.bind("cancel",function(e){return n.trigger("cancel",{container:e.container,event:e.model})?(e.preventDefault(),t):(n.cancelEvent(),n.focus(),t);}),e.bind("edit",function(e){n.trigger(oe,{container:e.container,event:e.model})&&e.preventDefault();}),e.bind("save",function(){n.saveEvent();}),e.bind("remove",function(e){n.removeEvent(e.model);});},_createPopupEditor:function _createPopupEditor(e){var t=this._editor;e.isNew()&&!e.isOccurrence()||(e.isOccurrence()&&this._convertDates(e.recurrenceId?this.dataSource.get(e.recurrenceId):e),this._convertDates(e)),this.editable=t.editEvent(e);},removeEvent:function removeEvent(e){var t=this,n="string"==typeof e?t.occurrenceByUid(e):e;n&&(n.isRecurring()?t._deleteRecurringDialog(n):t._confirmation(function(e){e||t._removeEvent(n);},n));},occurrenceByUid:function occurrenceByUid(e){var t=this.dataSource.getByUid(e);return t||(t=l(this._data,e)),t;},occurrencesInRange:function occurrencesInRange(e,t){return new I.data.Query(this._data).filter({logic:"or",filters:[{logic:"and",filters:[{field:"start",operator:"gte",value:e},{field:"end",operator:"gte",value:e},{field:"start",operator:"lt",value:t}]},{logic:"and",filters:[{field:"start",operator:"lte",value:e},{field:"end",operator:"gt",value:e}]}]}).toArray();},_removeEvent:function _removeEvent(e){this.trigger(te,{event:e})||this.dataSource.remove(e)&&this.dataSource.sync();},_deleteRecurringDialog:function _deleteRecurringDialog(e){var t,n,i,o,r,a=this,s=e,l=a.options.editable,c=G(l)?l.editRecurringMode:"dialog",d=function d(){var e=s.recurrenceId?s:s.toOccurrence(),t=a.dataSource.get(e.recurrenceId);a._convertDates(t),a._removeEvent(e);},u=function u(){s.recurrenceId&&(s=a.dataSource.get(s.recurrenceId)),a._removeEvent(s);};("dialog"!=c||a._isEditorOpened())&&(t=function t(){a._confirmation(function(e){e||d();},s);},n=function n(){a._confirmation(function(e){e||u();},s);}),i=n||u,o=t||d,a._isEditorOpened()?e.isException()?o():i():(r=a.options.messages.recurrenceMessages,a._showRecurringDialog(e,o,i,{title:r.deleteWindowTitle,text:r.deleteRecurring?r.deleteRecurring:ue,occurrenceText:r.deleteWindowOccurrence,seriesText:r.deleteWindowSeries}));},_isEditorOpened:function _isEditorOpened(){return!!this._editor.container;},_unbindView:function _unbindView(e){var t=this;t.angular("cleanup",function(){return{elements:t.items()};}),e.destroy();},_bindView:function _bindView(e){var t=this;t.options.editable&&(t._viewRemoveHandler&&e.unbind(te,t._viewRemoveHandler),t._viewRemoveHandler=function(e){t.removeEvent(e.uid);},e.bind(te,t._viewRemoveHandler),t._viewAddHandler&&e.unbind(ie,t._viewAddHandler),t._viewAddHandler=function(e){t.addEvent(e.eventInfo);},e.bind(ie,this._viewAddHandler),t._viewEditHandler&&e.unbind(oe,t._viewEditHandler),t._viewEditHandler=function(e){t.editEvent(e.uid);},e.bind(oe,this._viewEditHandler)),t._viewNavigateHandler&&e.unbind("navigate",t._viewNavigateHandler),t._viewNavigateHandler=function(e){var n,i;e.view&&(n="isWorkDay"in e,i=n?"changeWorkDay":"changeView",t.trigger("navigate",{view:e.view,isWorkDay:e.isWorkDay,action:i,date:e.date})||(n&&(t._workDayMode=e.isWorkDay),t._selectView(e.view),t.date(e.date)));},e.bind("navigate",t._viewNavigateHandler),t._viewActivateHandler&&e.unbind("activate",t._viewActivateHandler),t._viewActivateHandler=function(){var e=this;t._selection&&(e.constrainSelection(t._selection),t._select(),t._adjustSelectedDate());},e.bind("activate",t._viewActivateHandler);},_selectView:function _selectView(e){var t,n,i,o=this;e&&o.views[e]&&(o._selectedView&&o._unbindView(o._selectedView),o._selectedView=o._renderView(e),o._selectedViewName=e,o._viewsCount>1&&(t=ge({views:o.views,view:e,ns:I.ns}),n=o.toolbar.find(".k-scheduler-views li:first-child"),n.is(".k-current-view")?n.replaceWith(t):o.toolbar.find(".k-scheduler-views").prepend(t),i=o.toolbar.find(".k-scheduler-views li").removeClass("k-state-selected"),i.end().find(".k-view-"+e.replace(/\./g,"\\.").toLowerCase()).addClass("k-state-selected")));},view:function view(e){var n=this;return e?(n._selectView(e),n.rebind(),t):n._selectedView;},viewName:function viewName(){return this.view().name;},_renderView:function _renderView(e){var t=this._initializeView(e);return this._bindView(t),this._model.set("formattedDate",t.dateForTitle()),this._model.set("formattedShortDate",t.shortDateForTitle()),t;},resize:function resize(e){var t=this.getSize(),n=this._size,i=this.view();i&&i.groups&&(!e&&n&&t.width===n.width&&t.height===n.height||(this.refresh({action:"resize"}),this._size=t));},_adjustSelectedDate:function _adjustSelectedDate(){var e=this._model.selectedDate,t=this._selection,n=t.start;n&&!I.date.isInDateRange(e,z(n),z(t.end))&&e.setFullYear(n.getFullYear(),n.getMonth(),n.getDate());},_initializeView:function _initializeView(e){var t,n,i=this.views[e];if(i){if(t=G(i),n=i.type,(typeof n==="undefined"?"undefined":_typeof(n))===U&&(n=I.getter(i.type)(window)),!n)throw Error("There is no such view");i=new n(this.wrapper,h($(!0,{},this.options,t?i:{},{resources:this.resources,date:this.date(),showWorkHours:this._workDayMode})));}return i;},_views:function _views(){var e,t,n,i,o,r,a,s,l,c=this.options.views;for(this.views={},this._viewsCount=0,a=0,s=c.length;s>a;a++){l=!1,e=c[a],i=G(e),i?(r=o=e.type?e.type:e,(typeof r==="undefined"?"undefined":_typeof(r))!==U&&(o=e.name||e.title,l=!0)):r=o=e,t=S[o],t&&!l&&(e.type=t.type,t.title=this.options.messages.views[o],"day"===t.type?t.messages={allDay:this.options.messages.allDay}:"agenda"===t.type&&(t.messages={event:this.options.messages.event,date:this.options.messages.date,time:this.options.messages.time})),e=$({title:o},t,i?e:{}),o&&(this.views[o]=e,this._viewsCount++,n&&!e.selected||(n=o));}n&&(this._selectedViewName=n);},rebind:function rebind(){this.dataSource.fetch();},_dataSource:function _dataSource(){var e=this,t=e.options,n=t.dataSource;n=Q(n)?{data:n}:n,!t.timezone||n instanceof Ee?n instanceof Ee&&(t.timezone=n.options.schema?n.options.schema.timezone:""):n=$(!0,n,{schema:{timezone:t.timezone}}),e.dataSource&&e._refreshHandler?e.dataSource.unbind(Z,e._refreshHandler).unbind("progress",e._progressHandler).unbind("error",e._errorHandler):(e._refreshHandler=Y(e.refresh,e),e._progressHandler=Y(e._requestStart,e),e._errorHandler=Y(e._error,e)),e.dataSource=I.data.SchedulerDataSource.create(n).bind(Z,e._refreshHandler).bind("progress",e._progressHandler).bind("error",e._errorHandler),e.options.dataSource=e.dataSource;},_error:function _error(){this._progress(!1);},_requestStart:function _requestStart(){this._progress(!0);},_progress:function _progress(e){var t=this.element.find(".k-scheduler-content");I.ui.progress(t,e);},_resources:function _resources(){var t,n,i,o,r,a=this,s=a.options.resources;for(t=0;s.length>t;t++){if(n=s[t],i=n.field,o=n.dataSource,!i||!o)throw Error('The "field" and "dataSource" options of the scheduler resource are mandatory.');a.resources.push({field:i,name:n.name||i,title:n.title||i,dataTextField:n.dataTextField||"text",dataValueField:n.dataValueField||"value",dataColorField:n.dataColorField||"color",valuePrimitive:null!=n.valuePrimitive?n.valuePrimitive:!0,multiple:n.multiple||!1,dataSource:I.data.DataSource.create(o)});}r=e.map(a.resources,function(e){return e.dataSource.fetch();}),e.when.apply(null,r).then(function(){a.options.autoBind?a.view(a._selectedViewName):a._selectView(a._selectedViewName);});},_initModel:function _initModel(){var e=this;e._model=I.observable({selectedDate:new Date(this.options.date),formattedDate:"",formattedShortDate:""}),e._model.bind("change",function(t){"selectedDate"===t.field&&e.view(e._selectedViewName);});},_wrapper:function _wrapper(){var e=this,t=e.options,n=t.height,i=t.width;e.wrapper=e.element.addClass("k-widget k-scheduler k-floatwrap").attr("role","grid").attr("aria-multiselectable",!0),e._isMobile()&&e.wrapper.addClass("k-scheduler-mobile"),e._isMobilePhoneView()&&e.wrapper.addClass("k-scheduler-phone"),n&&e.wrapper.height(n),i&&e.wrapper.width(i);},date:function date(e){return null!=e&&z(e)>=z(this.options.min)&&z(e)<=z(this.options.max)&&this._model.set("selectedDate",e),z(this._model.get("selectedDate"));},_toolbar:function _toolbar(){var n,i,o=this,r=o.options,a=[];r.toolbar&&(a=e.isArray(r.toolbar)?r.toolbar:[r.toolbar]),n=this._isMobilePhoneView()?_e:ve,i=e(n({messages:r.messages,pdf:e.grep(a,function(e){return"pdf"==e||"pdf"==e.name;}).length>0,ns:I.ns,views:o.views,viewsCount:o._viewsCount})),o.wrapper.append(i),o.toolbar=i,I.bind(o.toolbar,o._model),i.on(J+X,".k-pdf",function(e){e.preventDefault(),o.saveAsPDF();}),i.on(J+X,".k-scheduler-navigation li",function(n){var i=e(this),r=new Date(o.date()),a="";if(n.preventDefault(),i.hasClass("k-nav-today"))a="today",r=new Date();else if(i.hasClass("k-nav-next"))a="next",r=o.view().nextDate();else if(i.hasClass("k-nav-prev"))a="previous",r=o.view().previousDate();else if(i.hasClass("k-nav-current")&&!o._isMobilePhoneView())return o._showCalendar(),t;o.trigger("navigate",{view:o._selectedViewName,action:a,date:r})||o.date(r);}),i.on(J+X,".k-scheduler-views li, .k-scheduler-refresh",function(t){t.preventDefault();var n=e(this).attr(I.attr("name"));o.trigger("navigate",{view:n,action:"changeView",date:o.date()})||(o.view(n),o.element.find(".k-state-expanded").removeClass("k-state-expanded"));}),i.on(J+X,".k-scheduler-views li.k-current-view",function(){o.element.find(".k-scheduler-views").toggleClass("k-state-expanded");}),i.find("li").hover(function(){e(this).addClass("k-state-hover");},function(){e(this).removeClass("k-state-hover");});},_showCalendar:function _showCalendar(){var t=this,n=t.toolbar.find(".k-nav-current"),i=e('<div class="k-calendar-container"><div class="k-scheduler-calendar"/></div>');t.popup||(t.popup=new W(i,{anchor:n,open:function open(){t.calendar||(t.calendar=new j(this.element.find(".k-scheduler-calendar"),{change:function change(){var e=this.value();t.trigger("navigate",{view:t._selectedViewName,action:"changeDate",date:e})||(t.date(e),t.popup.close());},min:t.options.min,max:t.options.max})),t.calendar.value(t.date());},copyAnchorStyles:!1})),t.popup.open();},refresh:function refresh(e){var t=this,n=this.view();this._progress(!1),this.angular("cleanup",function(){return{elements:t.items()};}),e=e||{},n&&(e&&"itemchange"===e.action&&(this._editor.editable||this._preventRefresh)||this.trigger("dataBinding",{action:e.action||"rebind",index:e.index,items:e.items})||(e&&"resize"===e.action||!this._editor||this._editor.close(),this._data=this.dataSource.expand(n.startDate(),n.endDate()),n.refreshLayout(),n.render(this._data),this.trigger("dataBound")));},slotByPosition:function slotByPosition(e,t){var n,i=this.view();return i._slotByPosition?(n=i._slotByPosition(e,t),n?{startDate:n.startDate(),endDate:n.endDate(),groupIndex:n.groupIndex,element:n.element,isDaySlot:n.isDaySlot}:null):null;},slotByElement:function slotByElement(t){var n=e(t).offset();return this.slotByPosition(n.left,n.top);},resourcesBySlot:function resourcesBySlot(e){return this.view()._resourceBySlot(e);}}),S={day:{type:"kendo.ui.DayView"},week:{type:"kendo.ui.WeekView"},workWeek:{type:"kendo.ui.WorkWeekView"},agenda:{type:"kendo.ui.AgendaView"},month:{type:"kendo.ui.MonthView"},timeline:{type:"kendo.ui.TimelineView"},timelineWeek:{type:"kendo.ui.TimelineWeekView"},timelineWorkWeek:{type:"kendo.ui.TimelineWorkWeekView"},timelineMonth:{type:"kendo.ui.TimelineMonthView"}},N.plugin(C),I.PDFMixin&&(I.PDFMixin.extend(C.prototype),T="k-scheduler-pdf-export",C.fn._drawPDF=function(t){var n,i,o,r=this.wrapper,a=r[0].style.cssText;return r.css({width:r.width(),height:r.height()}),r.addClass(T),n=this,i=new e.Deferred(),o=r.find(".k-scheduler-content").find("table").css("table-layout","auto"),setTimeout(function(){o.css("table-layout","fixed"),n.resize(!0),n._drawPDFShadow({},{avoidLinks:n.options.pdf.avoidLinks}).done(function(e){var n={page:e,pageNumber:1,progress:1,totalPages:1};t.notify(n),i.resolve(n.page);}).fail(function(e){i.reject(e);}).always(function(){r[0].style.cssText=a,r.removeClass(T),n.resize(!0),n.resize(!0);});}),i;}),D=O.extend({init:function init(e,t){var n=this,i=I.timezone.windows_zones;if(!i||!I.timezone.zones_titles)throw Error("kendo.timezones.min.js is not included.");O.fn.init.call(n,e,t),n.wrapper=n.element,n._zonesQuery=new I.data.Query(i),n._zoneTitleId=I.guid(),n._zoneTitlePicker(),n._zonePicker(),n._zoneTitle.bind("cascade",function(){this.value()||n._zone.wrapper.hide();}),n._zone.bind("cascade",function(){n._value=this.value(),n.trigger("change");}),n.value(n.options.value);},options:{name:"TimezoneEditor",value:"",optionLabel:"No timezone"},events:["change"],_zoneTitlePicker:function _zoneTitlePicker(){var t=this,n=e('<input id="'+t._zoneTitleId+'"/>').appendTo(t.wrapper);t._zoneTitle=new I.ui.DropDownList(n,{dataSource:I.timezone.zones_titles,dataValueField:"other_zone",dataTextField:"name",optionLabel:t.options.optionLabel});},_zonePicker:function _zonePicker(){var t=this,n=e("<input />").appendTo(this.wrapper);t._zone=new I.ui.DropDownList(n,{dataValueField:"zone",dataTextField:"territory",dataSource:t._zonesQuery.data,cascadeFrom:t._zoneTitleId,dataBound:function dataBound(){t._value=this.value(),this.wrapper.toggle(this.dataSource.view().length>1);}}),t._zone.wrapper.hide();},destroy:function destroy(){O.fn.destroy.call(this),I.destroy(this.wrapper);},value:function value(e){var n,i=this;return e===t?i._value:(n=i._zonesQuery.filter({field:"zone",operator:"eq",value:e}).data[0],n?(i._zoneTitle.value(n.other_zone),i._zone.value(n.zone)):i._zoneTitle.select(0),t);}}),N.plugin(D),A=I.template('<option value="#=other_zone#">#=name#</option>'),E=I.template('<option value="#=zone#">#=territory#</option>'),R=O.extend({init:function init(e,t){var n=this,i=I.timezone.windows_zones;if(!i||!I.timezone.zones_titles)throw Error("kendo.timezones.min.js is not included.");O.fn.init.call(n,e,t),n.wrapper=n.element,n._zonesQuery=new I.data.Query(i),n._zoneTitlePicker(),n._zonePicker(),n.value(n.options.value);},options:{name:"MobileTimezoneEditor",optionLabel:"No timezone",value:""},events:["change"],_bindZones:function _bindZones(e){var t=e?this._filter(e):[];this._zone.html(this._options(t,E));},_filter:function _filter(e){return this._zonesQuery.filter({field:"other_zone",operator:"eq",value:e}).data;},_options:function _options(e,t,n){var i=0,o="",r=e.length;for(n&&(o+=t({other_zone:"",name:n}));r>i;i++){o+=t(e[i]);}return o;},_zoneTitlePicker:function _zoneTitlePicker(){var t=this,n=t._options(I.timezone.zones_titles,A,t.options.optionLabel);t._zoneTitle=e("<select>"+n+"</select>").appendTo(t.wrapper).change(function(){var e=this.value,n=t._zone;t._bindZones(e),e&&n[0].children.length>1?n.show():n.hide(),t._value=n[0].value,t.trigger("change");});},_zonePicker:function _zonePicker(){var t=this;t._zone=e('<select style="display:none"></select>').appendTo(this.wrapper).change(function(){t._value=this.value,t.trigger("change");}),t._bindZones(t._zoneTitle.val()),t._value=t._zone[0].value;},destroy:function destroy(){O.fn.destroy.call(this),I.destroy(this.wrapper);},value:function value(e){var n,i=this,o=i._zone,r="",a="";return e===t?i._value:(n=i._zonesQuery.filter({field:"zone",operator:"eq",value:e}).data[0],n&&(a=n.zone,r=n.other_zone),i._zoneTitle.val(r),i._bindZones(r),o.val(a),a=o[0].value,a&&o[0].children.length>1?o.show():o.hide(),i._value=a,t);}}),N.plugin(R);}(window.kendo.jQuery),window.kendo;},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("kendo.touch.min",["kendo.core.min","kendo.userevents.min"],e);}(function(){return function(e,t){var n=window.kendo,i=n.ui.Widget,o=e.proxy,r=Math.abs,a=20,s=i.extend({init:function init(e,t){function r(e){return function(t){s._triggerTouch(e,t);};}function a(e){return function(t){s.trigger(e,{touches:t.touches,distance:t.distance,center:t.center,event:t.event});};}var s=this;i.fn.init.call(s,e,t),t=s.options,e=s.element,s.wrapper=e,s.events=new n.UserEvents(e,{filter:t.filter,surface:t.surface,minHold:t.minHold,multiTouch:t.multiTouch,allowSelection:!0,fastTap:t.fastTap,press:r("touchstart"),hold:r("hold"),tap:o(s,"_tap"),gesturestart:a("gesturestart"),gesturechange:a("gesturechange"),gestureend:a("gestureend")}),t.enableSwipe?(s.events.bind("start",o(s,"_swipestart")),s.events.bind("move",o(s,"_swipemove"))):(s.events.bind("start",o(s,"_dragstart")),s.events.bind("move",r("drag")),s.events.bind("end",r("dragend"))),n.notify(s);},events:["touchstart","dragstart","drag","dragend","tap","doubletap","hold","swipe","gesturestart","gesturechange","gestureend"],options:{name:"Touch",surface:null,global:!1,fastTap:!1,filter:null,multiTouch:!1,enableSwipe:!1,minXDelta:30,maxYDelta:20,maxDuration:1e3,minHold:800,doubleTapTimeout:800},cancel:function cancel(){this.events.cancel();},destroy:function destroy(){this.events.destroy();},_triggerTouch:function _triggerTouch(e,t){this.trigger(e,{touch:t.touch,event:t.event})&&t.preventDefault();},_tap:function _tap(e){var t=this,i=t.lastTap,o=e.touch;i&&t.options.doubleTapTimeout>o.endTime-i.endTime&&n.touchDelta(o,i).distance<a?(t._triggerTouch("doubletap",e),t.lastTap=null):(t._triggerTouch("tap",e),t.lastTap=o);},_dragstart:function _dragstart(e){this._triggerTouch("dragstart",e);},_swipestart:function _swipestart(e){2*r(e.x.velocity)>=r(e.y.velocity)&&e.sender.capture();},_swipemove:function _swipemove(e){var t=this,n=t.options,i=e.touch,o=e.event.timeStamp-i.startTime,a=i.x.initialDelta>0?"right":"left";r(i.x.initialDelta)>=n.minXDelta&&r(i.y.initialDelta)<n.maxYDelta&&n.maxDuration>o&&(t.trigger("swipe",{direction:a,touch:e.touch}),i.cancel());}});n.ui.plugin(s);}(window.kendo.jQuery),window.kendo;},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("kendo.gantt.list.min",["kendo.dom.min","kendo.touch.min","kendo.draganddrop.min","kendo.columnsorter.min","kendo.datetimepicker.min","kendo.editable.min"],e);}(function(){return function(e){function t(e){var t,n,i=[],o=e.className;for(t=0,n=e.level;n>t;t++){i.push(r("span",{className:o}));}return i;}function n(){var t=i._activeElement();t&&"body"!==t.nodeName.toLowerCase()&&e(t).blur();}var i=window.kendo,o=i.dom,r=o.element,a=o.text,s=i.support.browser,l=i.support.mobileOS,c=i.ui,d=c.Widget,u=e.extend,h=e.map,f=e.isFunction,p=s.msie&&9>s.version,m=i.keys,g={title:"Title",start:"Start Time",end:"End Time",percentComplete:"% Done",parentId:"Predecessor ID",id:"ID",orderId:"Order ID"},v="string",_=".kendoGanttList",b="click",w=".",y="<table style='visibility: hidden;'><tbody><tr style='height:{0}'><td>&nbsp;</td></tr></tbody></table>",k={wrapper:"k-treelist k-grid k-widget",header:"k-header",alt:"k-alt",rtl:"k-rtl",editCell:"k-edit-cell",group:"k-treelist-group",gridHeader:"k-grid-header",gridHeaderWrap:"k-grid-header-wrap",gridContent:"k-grid-content",gridContentWrap:"k-grid-content",selected:"k-state-selected",icon:"k-icon",iconCollapse:"k-i-collapse",iconExpand:"k-i-expand",iconHidden:"k-i-none",iconPlaceHolder:"k-icon k-i-none",input:"k-input",link:"k-link",resizeHandle:"k-resize-handle",resizeHandleInner:"k-resize-handle-inner",dropPositions:"k-insert-top k-insert-bottom k-add k-insert-middle",dropTop:"k-insert-top",dropBottom:"k-insert-bottom",dropAdd:"k-add",dropMiddle:"k-insert-middle",dropDenied:"k-denied",dragStatus:"k-drag-status",dragClue:"k-drag-clue",dragClueText:"k-clue-text"},x=c.GanttList=d.extend({init:function init(t,n){d.fn.init.call(this,t,n),0===this.options.columns.length&&this.options.columns.push("title"),this.dataSource=this.options.dataSource,this._columns(),this._layout(),this._domTrees(),this._header(),this._sortable(),this._editable(),this._selectable(),this._draggable(),this._resizable(),this._attachEvents(),this._adjustHeight(),this.bind("render",function(){var t,n;this.options.resizable&&(t=this.header.find("col"),n=this.content.find("col"),this.header.find("th").not(":last").each(function(i){var o=e(this).outerWidth();t.eq(i).width(o),n.eq(i).width(o);}),t.last().css("width","auto"),n.last().css("width","auto"));},!0);},_adjustHeight:function _adjustHeight(){this.content.height(this.element.height()-this.header.parent().outerHeight());},destroy:function destroy(){d.fn.destroy.call(this),this._reorderDraggable&&this._reorderDraggable.destroy(),this._tableDropArea&&this._tableDropArea.destroy(),this._contentDropArea&&this._contentDropArea.destroy(),this._columnResizable&&this._columnResizable.destroy(),this.touch&&this.touch.destroy(),this.timer&&clearTimeout(this.timer),this.content.off(_),this.header.find("thead").off(_),this.header.find(w+x.link).off(_),this.header=null,this.content=null,this.levels=null,i.destroy(this.element);},options:{name:"GanttList",selectable:!0,editable:!0,resizable:!1},_attachEvents:function _attachEvents(){var t=this,n=x.styles;t.content.on(b+_,"td > span."+n.icon+":not(."+n.iconHidden+")",function(n){var i=e(this),o=t._modelFromElement(i);o.set("expanded",!o.get("expanded")),n.stopPropagation();});},_domTrees:function _domTrees(){this.headerTree=new o.Tree(this.header[0]),this.contentTree=new o.Tree(this.content[0]);},_columns:function _columns(){var e=this.options.columns,t=function t(){this.field="",this.title="",this.editable=!1,this.sortable=!1;};this.columns=h(e,function(e){return e=(typeof e==="undefined"?"undefined":_typeof(e))===v?{field:e,title:g[e]}:e,u(new t(),e);});},_layout:function _layout(){var t=this,n=this.options,o=this.element,r=x.styles,a=function a(){var o,r=_typeof(n.rowHeight)===v?n.rowHeight:n.rowHeight+"px",a=e(i.format(y,r));return t.content.append(a),o=a.find("tr").outerHeight(),a.remove(),o;};o.addClass(r.wrapper).append("<div class='"+r.gridHeader+"'><div class='"+r.gridHeaderWrap+"'></div></div>").append("<div class='"+r.gridContentWrap+"'></div>"),this.header=o.find(w+r.gridHeaderWrap),this.content=o.find(w+r.gridContent),n.rowHeight&&(this._rowHeight=a());},_header:function _header(){var e=this.headerTree,t=r("colgroup",null,this._cols()),n=r("thead",{role:"rowgroup"},[r("tr",{role:"row"},this._ths())]),i=r("table",{style:{minWidth:this.options.listWidth+"px"},role:"grid"},[t,n]);e.render([i]);},_render:function _render(e){var t,n,i,o={style:{minWidth:this.options.listWidth+"px"},tabIndex:0,role:"treegrid"};this._rowHeight&&(o.style.height=e.length*this._rowHeight+"px"),this.levels=[{field:null,value:0}],t=r("colgroup",null,this._cols()),n=r("tbody",{role:"rowgroup"},this._trs(e)),i=r("table",o,[t,n]),this.contentTree.render([i]),this.trigger("render");},_ths:function _ths(){var e,t,n,i,o=this.columns,s=[];for(n=0,i=o.length;i>n;n++){e=o[n],t={"data-field":e.field,"data-title":e.title,className:x.styles.header,role:"columnheader"},s.push(r("th",t,[a(e.title)]));}return this.options.resizable&&s.push(r("th",{className:x.styles.header,role:"columnheader"})),s;},_cols:function _cols(){var e,t,n,i,o,a=this.columns,s=[];for(i=0,o=a.length;o>i;i++){e=a[i],n=e.width,t=n&&0!==parseInt(n,10)?{style:{width:(typeof n==="undefined"?"undefined":_typeof(n))===v?n:n+"px"}}:null,s.push(r("col",t,[]));}return this.options.resizable&&s.push(r("col",{style:{width:"1px"}})),s;},_trs:function _trs(e){var t,n,i,o,r,a=[],s=[],l=x.styles;for(o=0,r=e.length;r>o;o++){t=e[o],i=this._levels({idx:t.parentId,id:t.id,summary:t.summary}),n={"data-uid":t.uid,"data-level":i,role:"row"},t.summary&&(n["aria-expanded"]=t.expanded),o%2!==0&&s.push(l.alt),t.summary&&s.push(l.group),s.length&&(n.className=s.join(" ")),a.push(this._tds({task:t,attr:n,level:i})),s=[];}return a;},_tds:function _tds(e){var t,n,i,o=[],a=this.columns;for(n=0,i=a.length;i>n;n++){t=a[n],o.push(this._td({task:e.task,column:t,level:e.level}));}return this.options.resizable&&o.push(r("td",{role:"gridcell"})),r("tr",e.attr,o);},_td:function _td(e){var n,o,s,l=[],c=this.options.resourcesField,d=x.styles,u=e.task,h=e.column,f=u.get(h.field);if(h.field==c){for(f=f||[],n=[],s=0;f.length>s;s++){n.push(i.format("{0} [{1}]",f[s].get("name"),f[s].get("formatedValue")));}n=n.join(", ");}else n=h.format?i.format(h.format,f):f;return"title"===h.field&&(l=t({level:e.level,className:d.iconPlaceHolder}),l.push(r("span",{className:d.icon+" "+(u.summary?u.expanded?d.iconCollapse:d.iconExpand:d.iconHidden)})),o=i.format("{0}, {1:P0}",n,u.percentComplete)),l.push(r("span",{"aria-label":o},[a(n)])),r("td",{role:"gridcell"},l);},_levels:function _levels(e){var t,n,i,o=this.levels,r=e.summary,a=e.idx,s=e.id;for(n=0,i=o.length;i>n;n++){if(t=o[n],t.field==a)return r&&o.push({field:s,value:t.value+1}),t.value;}},_sortable:function _sortable(){var e,t,n,o,r,a=this,s=this.options.resourcesField,l=this.columns,c=this.header.find("th["+i.attr("field")+"]"),d=function d(e){(0===a.dataSource.total()||a.editable&&a.editable.trigger("validate"))&&(e.preventDefault(),e.stopImmediatePropagation());};for(o=0,r=c.length;r>o;o++){e=l[o],e.sortable&&e.field!==s&&(n=c.eq(o),t=n.data("kendoColumnSorter"),t&&t.destroy(),n.attr("data-"+i.ns+"field",e.field).kendoColumnSorter({dataSource:this.dataSource}).find(w+x.styles.link).on("click"+_,d));}c=null;},_selectable:function _selectable(){var t=this,n=this.options.selectable;n&&this.content.on(b+_,"tr",function(n){var i=e(this);t.editable&&t.editable.trigger("validate"),n.ctrlKey?t.clearSelection():t.select(i);});},select:function select(e){var t=this.content.find(e),n=x.styles.selected;return t.length?(t.siblings(w+n).removeClass(n).attr("aria-selected",!1).end().addClass(n).attr("aria-selected",!0),void this.trigger("change")):this.content.find(w+n);},clearSelection:function clearSelection(){var e=this.select();e.length&&(e.removeClass(x.styles.selected),this.trigger("change"));},_setDataSource:function _setDataSource(e){this.dataSource=e;},_editable:function _editable(){var t=this,i=x.styles,o="span."+i.icon+":not("+i.iconHidden+")",r=function r(){var e=t.editable;e&&(e.end()?t._closeCell():e.trigger("validate"));},a=function a(t){var o=e(t.currentTarget);o.hasClass(i.editCell)||n();};this.options.editable&&(this._startEditHandler=function(n){var i=n.currentTarget?e(n.currentTarget):n,o=t._columnFromElement(i);t.editable||o&&o.editable&&t._editCell({cell:i,column:o});},t.content.on("focusin"+_,function(){clearTimeout(t.timer),t.timer=null;}).on("focusout"+_,function(){t.timer=setTimeout(r,1);}).on("keydown"+_,function(e){e.keyCode===m.ENTER&&e.preventDefault();}).on("keyup"+_,function(e){var i,o,a=e.keyCode;switch(a){case m.ENTER:n(),r();break;case m.ESC:t.editable&&(i=t._editableContainer,o=t._modelFromElement(i),t.trigger("cancel",{model:o,cell:i})||t._closeCell(!0));}}),l?t.touch=t.content.kendoTouch({filter:"td",touchstart:function touchstart(e){a(e.touch);},doubletap:function doubletap(n){e(n.touch.initialTouch).is(o)||t._startEditHandler(n.touch);}}).data("kendoTouch"):t.content.on("mousedown"+_,"td",function(e){a(e);}).on("dblclick"+_,"td",function(n){e(n.target).is(o)||t._startEditHandler(n);}));},_editCell:function _editCell(t){var n,o=this.options.resourcesField,r=x.styles,a=t.cell,s=t.column,l=this._modelFromElement(a),c=this.dataSource._createNewModel(l.toJSON()),d=c.fields[s.field]||c[s.field],u=d.validation,h=i.attr("type"),m=i.attr("bind"),g=i.attr("format"),v={name:s.field,required:d.validation?d.validation.required===!0:!1};return s.field===o?void s.editor(a,c):(this._editableContent=a.children().detach(),this._editableContainer=a,a.data("modelCopy",c),"date"!==d.type&&"date"!==e.type(d)||s.format&&!/H|m|s|F|g|u/.test(s.format)||(v[m]="value:"+s.field,v[h]="date",s.format&&(v[g]=i._extractFormat(s.format)),n=function n(t,_n5){e('<input type="text"/>').attr(v).appendTo(t).kendoDateTimePicker({format:_n5.format});}),this.editable=a.addClass(r.editCell).kendoEditable({fields:{field:s.field,format:s.format,editor:s.editor||n},model:c,clearContainer:!1}).data("kendoEditable"),u&&u.dateCompare&&f(u.dateCompare)&&u.message&&(e("<span "+i.attr("for")+'="'+s.field+'" class="k-invalid-msg"/>').hide().appendTo(a),a.find("[name="+s.field+"]").attr(i.attr("dateCompare-msg"),u.message)),this.editable.bind("validate",function(e){var t=this.element.find(":kendoFocusable:first").focus();p&&t.focus(),e.preventDefault();}),void(this.trigger("edit",{model:l,cell:a})&&this._closeCell(!0)));},_closeCell:function _closeCell(e){var t=x.styles,n=this._editableContainer,i=this._modelFromElement(n),o=this._columnFromElement(n),r=o.field,a=n.data("modelCopy"),s={};s[r]=a.get(r),n.empty().removeData("modelCopy").removeClass(t.editCell).append(this._editableContent),this.editable.unbind(),this.editable.destroy(),this.editable=null,this._editableContainer=null,this._editableContent=null,e||("start"===r&&(s.end=new Date(s.start.getTime()+i.duration())),this.trigger("update",{task:i,updateInfo:s}));},_draggable:function _draggable(){var t,n=this,o=null,r=!0,a=x.styles,s=i.support.isRtl(this.element),c="tr["+i.attr("level")+" = 0]:last",d={},h=function h(){o=null,t=null,r=!0,d={};},f=function f(e){for(var t=e;t;){if(o.get("id")===t.get("id")){r=!1;break;}t=n.dataSource.taskParent(t);}},p=function p(){var n=e(t).height(),o=i.getOffset(t).top;u(t,{beforeLimit:o+.25*n,afterLimit:o+.75*n});},m=function m(e){var n,o,r,s,l;t&&(n=e.location,o=a.dropAdd,r="add",s=parseInt(t.attr(i.attr("level")),10),t.beforeLimit>=n?(l=t.prev(),o=a.dropTop,r="insert-before"):n>=t.afterLimit&&(l=t.next(),o=a.dropBottom,r="insert-after"),l&&parseInt(l.attr(i.attr("level")),10)===s&&(o=a.dropMiddle),d.className=o,d.command=r);},g=function g(){return n._reorderDraggable.hint.children(w+a.dragStatus).removeClass(a.dropPositions);};this.options.editable&&(this._reorderDraggable=this.content.kendoDraggable({distance:10,holdToDrag:l,group:"listGroup",filter:"tr[data-uid]",ignore:w+a.input,hint:function hint(t){return e('<div class="'+a.header+" "+a.dragClue+'"/>').css({width:300,paddingLeft:t.css("paddingLeft"),paddingRight:t.css("paddingRight"),lineHeight:t.height()+"px",paddingTop:t.css("paddingTop"),paddingBottom:t.css("paddingBottom")}).append('<span class="'+a.icon+" "+a.dragStatus+'" /><span class="'+a.dragClueText+'"/>');},cursorOffset:{top:-20,left:0},container:this.content,dragstart:function dragstart(e){return n.editable&&n.editable.trigger("validate")?void e.preventDefault():(o=n._modelFromElement(e.currentTarget),this.hint.children(w+a.dragClueText).text(o.get("title")),void(s&&this.hint.addClass(a.rtl)));},drag:function drag(e){r&&(m(e.y),g().addClass(d.className));},dragend:function dragend(){h();},dragcancel:function dragcancel(){h();}}).data("kendoDraggable"),this._tableDropArea=this.content.kendoDropTargetArea({distance:0,group:"listGroup",filter:"tr[data-uid]",dragenter:function dragenter(e){t=e.dropTarget,f(n._modelFromElement(t)),p(),g().toggleClass(a.dropDenied,!r);},dragleave:function dragleave(){r=!0,g();},drop:function drop(){var e=n._modelFromElement(t),i=e.orderId,a={parentId:e.parentId};if(r){switch(d.command){case"add":a.parentId=e.id;break;case"insert-before":a.orderId=e.parentId===o.parentId&&e.orderId>o.orderId?i-1:i;break;case"insert-after":a.orderId=e.parentId===o.parentId&&e.orderId>o.orderId?i:i+1;}n.trigger("update",{task:o,updateInfo:a});}}}).data("kendoDropTargetArea"),this._contentDropArea=this.element.kendoDropTargetArea({distance:0,group:"listGroup",filter:w+a.gridContent,drop:function drop(){var e=n._modelFromElement(n.content.find(c)),t=e.orderId,i={parentId:null,orderId:null!==o.parentId?t+1:t};n.trigger("update",{task:o,updateInfo:i});}}).data("kendoDropTargetArea"));},_resizable:function _resizable(){var t=this,n=x.styles,i=function i(_i6){var o,r,a=e(_i6.currentTarget),s=t.resizeHandle,l=a.position(),c=l.left,d=a.outerWidth(),u=a.closest("div"),h=_i6.clientX+e(window).scrollLeft(),f=t.options.columnResizeHandleWidth;return c+=u.scrollLeft(),s||(s=t.resizeHandle=e('<div class="'+n.resizeHandle+'"><div class="'+n.resizeHandleInner+'" /></div>')),o=a.offset().left+d,(r=h>o-f&&o+f>h)?(u.append(s),void s.show().css({top:l.top,left:c+d-f-1,height:a.outerHeight(),width:3*f}).data("th",a)):void s.hide();};this.options.resizable&&(this._columnResizable&&this._columnResizable.destroy(),this.header.find("thead").on("mousemove"+_,"th",i),this._columnResizable=this.header.kendoResizable({handle:w+n.resizeHandle,start:function start(n){var i=e(n.currentTarget).data("th"),o="col:eq("+i.index()+")",r=t.header.find("table"),a=t.content.find("table");t.element.addClass("k-grid-column-resizing"),this.col=a.children("colgroup").find(o).add(r.find(o)),this.th=i,this.startLocation=n.x.location,this.columnWidth=i.outerWidth(),this.table=r.add(a),this.totalWidth=this.table.width()-r.find("th:last").outerWidth();},resize:function resize(e){var t=11,n=e.x.location-this.startLocation;t>this.columnWidth+n&&(n=t-this.columnWidth),this.table.css({minWidth:this.totalWidth+n}),this.col.width(this.columnWidth+n);},resizeend:function resizeend(){var e,n,i;t.element.removeClass("k-grid-column-resizing"),e=Math.floor(this.columnWidth),n=Math.floor(this.th.outerWidth()),i=t.columns[this.th.index()],t.trigger("columnResize",{column:i,oldWidth:e,newWidth:n}),this.table=this.col=this.th=null;}}).data("kendoResizable"));},_modelFromElement:function _modelFromElement(e){var t=e.closest("tr"),n=this.dataSource.getByUid(t.attr(i.attr("uid")));return n;},_columnFromElement:function _columnFromElement(e){var t=e.closest("td"),n=t.parent(),i=n.children().index(t);return this.columns[i];}});u(!0,c.GanttList,{styles:k});}(window.kendo.jQuery),window.kendo;},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("kendo.gantt.timeline.min",["kendo.dom.min","kendo.touch.min","kendo.draganddrop.min"],e);}(function(){return function(e){function t(e){return delete e.name,delete e.prefix,delete e.views,e;}function n(e){var t=[],n=e.workWeekStart;for(t.push(n);e.workWeekEnd!=n;){n>6?n-=7:n++,t.push(n);}return t;}function i(){var t=kendo._activeElement();t&&"body"!==t.nodeName.toLowerCase()&&e(t).blur();}var o,r,a=kendo.ui.Widget,s=kendo.dom.element,l=kendo.dom.text,c=kendo.dom.html,d=e.isPlainObject,u=e.extend,h=e.proxy,f=kendo.support.browser,p=!1,m=kendo.keys,g=kendo.data.Query,v="string",_=".kendoGanttTimeline",b="click",w="dblclick",y="mousemove",k="mouseenter",x="mouseleave",C="keydown",S=".",T=kendo.template("#=kendo.toString(start, 't')#"),D=kendo.template("#=kendo.toString(start, 'ddd M/dd')#"),A=kendo.template("#=kendo.toString(start, 'ddd M/dd')# - #=kendo.toString(kendo.date.addDays(end, -1), 'ddd M/dd')#"),E=kendo.template("#=kendo.toString(start, 'MMM')#"),R=kendo.template("#=kendo.toString(start, 'yyyy')#"),I=kendo.template('<div class="#=styles.marquee#"><div class="#=styles.marqueeColor#"></div></div>'),F=kendo.template('<div style="z-index: 100002;" class="#=styles.tooltipWrapper#"><div class="#=styles.tooltipContent#"><div>#=messages.start#: #=kendo.toString(start, format)#</div><div>#=messages.end#: #=kendo.toString(end, format)#</div></div></div>'),M=kendo.template('<div style="z-index: 100002;" class="#=styles.tooltipWrapper#" ><div class="#=styles.tooltipContent#">#=text#%</div><div class="#=styles.tooltipCallout#" style="left:13px;"></div></div>'),P=kendo.template('<div class="#=styles.taskDetails#"><strong>#=task.title#</strong><div class="#=styles.taskDetailsPercent#">#=kendo.toString(task.percentComplete, "p0")#</div><ul class="#=styles.reset#"><li>#=messages.start#: #=kendo.toString(task.start, "h:mm tt ddd, MMM d")#</li><li>#=messages.end#: #=kendo.toString(task.end, "h:mm tt ddd, MMM d")#</li></ul></div>'),z="<table style='visibility: hidden;'><tbody><tr style='height:{0}'><td>&nbsp;</td></tr></tbody></table>",B={day:{type:"kendo.ui.GanttDayView"},week:{type:"kendo.ui.GanttWeekView"},month:{type:"kendo.ui.GanttMonthView"},year:{type:"kendo.ui.GanttYearView"}},L={alt:"k-alt",reset:"k-reset",nonWorking:"k-nonwork-hour",header:"k-header",gridHeader:"k-grid-header",gridHeaderWrap:"k-grid-header-wrap",gridContent:"k-grid-content",tasksWrapper:"k-gantt-tables",rowsTable:"k-gantt-rows",columnsTable:"k-gantt-columns",tasksTable:"k-gantt-tasks",dependenciesWrapper:"k-gantt-dependencies",resource:"k-resource",resourceAlt:"k-resource k-alt",task:"k-task",taskSingle:"k-task-single",taskMilestone:"k-task-milestone",taskSummary:"k-task-summary",taskWrap:"k-task-wrap",taskMilestoneWrap:"k-milestone-wrap",resourcesWrap:"k-resources-wrap",taskDot:"k-task-dot",taskDotStart:"k-task-start",taskDotEnd:"k-task-end",taskDragHandle:"k-task-draghandle",taskContent:"k-task-content",taskTemplate:"k-task-template",taskActions:"k-task-actions",taskDelete:"k-task-delete",taskComplete:"k-task-complete",taskDetails:"k-task-details",taskDetailsPercent:"k-task-pct",link:"k-link",icon:"k-icon",iconDelete:"k-si-close",taskResizeHandle:"k-resize-handle",taskResizeHandleWest:"k-resize-w",taskResizeHandleEast:"k-resize-e",taskSummaryProgress:"k-task-summary-progress",taskSummaryComplete:"k-task-summary-complete",line:"k-line",lineHorizontal:"k-line-h",lineVertical:"k-line-v",arrowWest:"k-arrow-w",arrowEast:"k-arrow-e",dragHint:"k-drag-hint",dependencyHint:"k-dependency-hint",tooltipWrapper:"k-widget k-tooltip k-popup k-group k-reset",tooltipContent:"k-tooltip-content",tooltipCallout:"k-callout k-callout-s",callout:"k-callout",marquee:"k-marquee k-gantt-marquee",marqueeColor:"k-marquee-color"},H=kendo.ui.GanttView=a.extend({init:function init(e,t){a.fn.init.call(this,e,t),this.title=this.options.title||this.options.name,this.header=this.element.find(S+H.styles.gridHeader),this.content=this.element.find(S+H.styles.gridContent),this.contentWidth=this.content.width(),this._workDays=n(this.options),this._headerTree=t.headerTree,this._taskTree=t.taskTree,this._taskTemplate=t.taskTemplate?kendo.template(t.taskTemplate,u({},kendo.Template,t.templateSettings)):null,this._dependencyTree=t.dependencyTree,this._taskCoordinates={},this._currentTime();},destroy:function destroy(){a.fn.destroy.call(this),clearTimeout(this._tooltipTimeout),this.headerRow=null,this.header=null,this.content=null,this._dragHint=null,this._resizeHint=null,this._resizeTooltip=null,this._taskTooltip=null,this._percentCompleteResizeTooltip=null,this._headerTree=null,this._taskTree=null,this._dependencyTree=null;},options:{showWorkHours:!1,showWorkDays:!1,workDayStart:new Date(1980,1,1,8,0,0),workDayEnd:new Date(1980,1,1,17,0,0),workWeekStart:1,workWeekEnd:5,hourSpan:1,slotSize:100,currentTimeMarker:{updateInterval:1e4}},renderLayout:function renderLayout(){this._slots=this._createSlots(),this._tableWidth=this._calculateTableWidth(),this.createLayout(this._layout()),this._slotDimensions(),this._adjustHeight(),this.content.find(S+H.styles.dependenciesWrapper).width(this._tableWidth);},_adjustHeight:function _adjustHeight(){this.content.height(this.element.height()-this.header.outerHeight());},createLayout:function createLayout(e){var t=this._headers(e),n=this._colgroup(),i=this._headerTree,o=s("thead",null,t),r=s("table",{style:{width:this._tableWidth+"px"}},[n,o]);i.render([r]),this.headerRow=this.header.find("table:first tr").last();},_slotDimensions:function _slotDimensions(){var e,t,n,i,o=this.headerRow[0].children,r=this._timeSlots();for(n=0,i=o.length;i>n;n++){t=o[n],e=r[n],e.offsetLeft=t.offsetLeft,e.offsetWidth=t.offsetWidth;}},render:function render(e){var t,n,i=e.length,o=H.styles,r=this._rowsTable(i),a=this._columnsTable(i),s=this._tasksTable(e),l=this.options.currentTimeMarker,c=this.options.calculatedSize;this._taskTree.render([r,a,s]),t=this.content.find(S+o.rowsTable),c&&(n=c.row*e.length,this.content.find(S+o.tasksTable).height(n),t.height(n)),this._contentHeight=t.height(),this._rowHeight=c?c.row:this._contentHeight/t.find("tr").length,this.content.find(S+o.columnsTable).height(this._contentHeight),l!==!1&&void 0!==l.updateInterval&&this._renderCurrentTime();},_rowsTable:function _rowsTable(e){var t,n,i=[],o=H.styles,r=[null,{className:o.alt}];for(n=0;e>n;n++){t=s("tr",r[n%2],[s("td",null,[l("")])]),i.push(t);}return this._createTable(1,i,{className:o.rowsTable});},_columnsTable:function _columnsTable(){var e,t,n,i,o,r=[],a=H.styles,c=this._timeSlots(),d=c.length,u=0;for(o=0;d>o;o++){t=c[o],i={},n=t.span,u+=n,1!==n&&(i.colspan=n),t.isNonWorking&&(i.className=a.nonWorking),r.push(s("td",i,[l("")]));}return e=s("tr",null,r),this._createTable(u,[e],{className:a.columnsTable});},_tasksTable:function _tasksTable(e){var t,n,i,o,r,a,l,c,d=[],u=H.styles,h=this._taskCoordinates={},f=this._calculateMilestoneWidth(),m=Math.round(f.width),g=this.options.resourcesField,v=[u.resource,u.resourceAlt],_=this.options.calculatedSize,b=this._calculateResourcesMargin(),w=this._calculateTaskBorderWidth(),y=function y(e){var t=i.left,n=t+i.width;o.isMilestone()&&(t-=m/2,n=t+m),h[o.id]={start:t,end:n,rowIndex:e};};for(l=0,c=e.length;c>l;l++){o=e[l],i=this._taskPosition(o),i.borderWidth=w,t=s("tr",null),n=s("td",null,[this._renderTask(e[l],i)]),o[g]&&o[g].length&&(r=p?this._tableWidth-i.left:Math.max(i.width||f.clientWidth,0)+i.left,a={width:this._tableWidth-(r+b)+"px"},a[p?"right":"left"]=r+"px",_&&(a.height=_.cell+"px"),n.children.push(s("div",{className:u.resourcesWrap,style:a},this._renderResources(o[g],v[l%2])))),t.children.push(n),d.push(t),y(l);}return this._createTable(1,d,{className:H.styles.tasksTable});},_createTable:function _createTable(e,t,n){var i,o,r,a=[];for(r=0;e>r;r++){a.push(s("col"));}return i=s("colgroup",null,a),o=s("tbody",null,t),n.style||(n.style={}),n.style.width=this._tableWidth+"px",s("table",n,[i,o]);},_calculateTableWidth:function _calculateTableWidth(){var e,t,n,i,o=this._timeSlots(),r=0,a=0;for(n=0,i=o.length;i>n;n++){e=o[n].span,a+=e,e>r&&(r=e);}return t=Math.round(a*this.options.slotSize/r);},_calculateMilestoneWidth:function _calculateMilestoneWidth(){var t,n,i=H.styles.task+" "+H.styles.taskMilestone,o=e("<div class='"+i+"' style='visibility: hidden; position: absolute'>");return this.content.append(o),n=o[0].getBoundingClientRect(),t={width:n.right-n.left,clientWidth:o[0].clientWidth},o.remove(),t;},_calculateResourcesMargin:function _calculateResourcesMargin(){var t,n=e("<div class='"+H.styles.resourcesWrap+"' style='visibility: hidden; position: absolute'>");return this.content.append(n),t=parseInt(n.css(p?"margin-right":"margin-left"),10),n.remove(),t;},_calculateTaskBorderWidth:function _calculateTaskBorderWidth(){var t,n,i=H.styles.task+" "+H.styles.taskSingle,o=e("<div class='"+i+"' style='visibility: hidden; position: absolute'>");return this.content.append(o),n=kendo.getComputedStyles(o[0],["border-left-width"]),t=parseFloat(n["border-left-width"],10),o.remove(),t;},_renderTask:function _renderTask(e,t){var n,i,o,r=this.options.editable,a=t.left,l=H.styles,c=l.taskWrap,d=this.options.calculatedSize,u={},h={className:c,style:{left:a+"px"}};return d&&(h.style.height=d.cell+"px"),e.summary?i=this._renderSummary(e,t):e.isMilestone()?(i=this._renderMilestone(e,t),h.className+=" "+l.taskMilestoneWrap):i=this._renderSingleTask(e,t),n=s("div",h,[i]),r&&(n.children.push(s("div",{className:l.taskDot+" "+l.taskDotStart})),n.children.push(s("div",{className:l.taskDot+" "+l.taskDotEnd}))),e.summary||e.isMilestone()||!r||null!==this._taskTemplate||(o=Math.round(t.width*e.percentComplete),u[p?"right":"left"]=o+"px",n.children.push(s("div",{className:l.taskDragHandle,style:u}))),n;},_renderSingleTask:function _renderSingleTask(e,t){var n,i,o,r=H.styles,a=Math.round(t.width*e.percentComplete),d=[];return null!==this._taskTemplate?n=c(this._taskTemplate(e)):(n=l(e.title),d.push(s("div",{className:r.taskComplete,style:{width:a+"px"}}))),i=s("div",{className:r.taskContent},[s("div",{className:r.taskTemplate},[n])]),d.push(i),this.options.editable&&(i.children.push(s("span",{className:r.taskActions},[s("a",{className:r.link+" "+r.taskDelete,href:"#"},[s("span",{className:r.icon+" "+r.iconDelete})])])),i.children.push(s("span",{className:r.taskResizeHandle+" "+r.taskResizeHandleWest})),i.children.push(s("span",{className:r.taskResizeHandle+" "+r.taskResizeHandleEast}))),o=s("div",{className:r.task+" "+r.taskSingle,"data-uid":e.uid,style:{width:Math.max(t.width-2*t.borderWidth,0)+"px"}},d);},_renderMilestone:function _renderMilestone(e){var t=H.styles,n=s("div",{className:t.task+" "+t.taskMilestone,"data-uid":e.uid});return n;},_renderSummary:function _renderSummary(e,t){var n=H.styles,i=Math.round(t.width*e.percentComplete),o=s("div",{className:n.task+" "+n.taskSummary,"data-uid":e.uid,style:{width:t.width+"px"}},[s("div",{className:n.taskSummaryProgress,style:{width:i+"px"}},[s("div",{className:n.taskSummaryComplete,style:{width:t.width+"px"}})])]);return o;},_renderResources:function _renderResources(e,t){var n,i,o,r=[];for(i=0,o=e.length;o>i;i++){n=e[i],r.push(s("span",{className:t,style:{color:n.get("color")}},[l(n.get("name"))]));}return p&&r.reverse(),r;},_taskPosition:function _taskPosition(e){var t=Math.round,n=t(this._offset(p?e.end:e.start)),i=t(this._offset(p?e.start:e.end));return{left:n,width:i-n};},_offset:function _offset(e){var t,n,i,o,r=this._timeSlots(),a=0;return r.length?(o=this._slotIndex("start",e),t=r[o],e>t.end?a=t.offsetWidth:e>=t.start&&(n=e-t.start,i=t.end-t.start,a=n/i*t.offsetWidth),p&&(a=t.offsetWidth+1-a),t.offsetLeft+a):0;},_slotIndex:function _slotIndex(e,t,n){var i,o=this._timeSlots(),r=0,a=o.length-1;n&&(o=[].slice.call(o).reverse());do{i=Math.ceil((a+r)/2),t>o[i][e]?r=i:(i===a&&i--,a=i);}while(r!==a);return n&&(r=o.length-1-r),r;},_timeByPosition:function _timeByPosition(t,n,i){var o,r,a,s=this._slotByPosition(t);return n?i?s.end:s.start:(o=t-e(S+H.styles.tasksTable).offset().left,r=s.end-s.start,a=o-s.offsetLeft,p&&(a=s.offsetWidth-a),new Date(s.start.getTime()+r*(a/s.offsetWidth)));},_slotByPosition:function _slotByPosition(t){var n=t-e(S+H.styles.tasksTable).offset().left,i=this._slotIndex("offsetLeft",n,p);return this._timeSlots()[i];},_renderDependencies:function _renderDependencies(e){var t,n,i=[],o=this._dependencyTree;for(t=0,n=e.length;n>t;t++){i.push.apply(i,this._renderDependency(e[t]));}o.render(i);},_renderDependency:function _renderDependency(e){var t,n,i,o,r=this._taskCoordinates[e.predecessorId],a=this._taskCoordinates[e.successorId];if(!r||!a)return[];for(n="_render"+["FF","FS","SF","SS"][p?3-e.type:e.type],t=this[n](r,a),i=0,o=t.length;o>i;i++){t[i].attr["data-uid"]=e.uid;}return t;},_renderFF:function _renderFF(e,t){var n=this._dependencyFF(e,t,!1);return n[n.length-1].children[0]=this._arrow(!0),n;},_renderSS:function _renderSS(e,t){var n=this._dependencyFF(t,e,!0);return n[0].children[0]=this._arrow(!1),n.reverse();},_renderFS:function _renderFS(e,t){var n=this._dependencyFS(e,t,!1);return n[n.length-1].children[0]=this._arrow(!1),n;},_renderSF:function _renderSF(e,t){var n=this._dependencyFS(t,e,!0);return n[0].children[0]=this._arrow(!0),n.reverse();},_dependencyFF:function _dependencyFF(e,t,n){var i,o=this,r=[],a=0,s=0,l=0,c=0,d=n?"start":"end",u=2,h=1,f=this._rowHeight,p=10,m=e.rowIndex*f+Math.floor(f/2)-1,g=t.rowIndex*f+Math.floor(f/2)-1,v=H.styles,_=function _(){r.push(o._line(v.line+" "+v.lineHorizontal,{left:a+"px",top:s+"px",width:l+"px"}));},b=function b(){r.push(o._line(v.line+" "+v.lineVertical,{left:a+"px",top:s+"px",height:c+"px"}));};return a=e[d],s=m,l=p,i=t[d]-e[d],i>0!==n&&(l=Math.abs(i)+p),n?(a-=l,l-=h,_()):(_(),a+=l-u),s>g?(c=s-g,c+=u,s=g,b()):(c=g-s,c+=u,b(),s+=c-u),l=Math.abs(a-t[d]),n||(l-=h,a-=l),_(),r;},_dependencyFS:function _dependencyFS(e,t,n){var i=this,o=[],r=0,a=0,s=0,l=0,c=this._rowHeight,d=Math.floor(c/2),u=10,h=2*u,f=t.start-e.end,p=2,m=1,g=e.rowIndex*c+Math.floor(c/2)-1,v=t.rowIndex*c+Math.floor(c/2)-1,_=H.styles,b=function b(){o.push(i._line(_.line+" "+_.lineHorizontal,{left:r+"px",top:a+"px",width:s+"px"}));},w=function w(){o.push(i._line(_.line+" "+_.lineVertical,{left:r+"px",top:a+"px",height:l+"px"}));};return r=e.end,a=g,s=u,n&&(r+=m,f>h&&(s=f-(u-p)),s-=m),b(),r+=s-p,h>=f&&(l=n?Math.abs(v-g)-d:d,g>v?(a-=l,l+=p,w()):(w(),a+=l),s=e.end-t.start+h,u>s&&(s=u),r-=s-p,b()),g>v?(l=a-v,a=v,l+=p,w()):(l=v-a,w(),a+=l),s=t.start-r,n||(s-=m),b(),o;},_line:function _line(e,t){return s("div",{className:e,style:t});},_arrow:function _arrow(e){return s("span",{className:e?H.styles.arrowWest:H.styles.arrowEast});},_colgroup:function _colgroup(){var e,t,n,i=this._timeSlots(),o=i.length,r=[];for(e=0;o>e;e++){for(t=0,n=i[e].span;n>t;t++){r.push(s("col"));}}return s("colgroup",null,r);},_createDragHint:function _createDragHint(e){this._dragHint=e.clone().addClass(H.styles.dragHint).css("cursor","move"),e.parent().append(this._dragHint);},_updateDragHint:function _updateDragHint(e){var t=this._offset(e);this._dragHint.css({left:t});},_removeDragHint:function _removeDragHint(){this._dragHint.remove(),this._dragHint=null;},_createResizeHint:function _createResizeHint(t){var n,i,o=H.styles,r=this._taskCoordinates[t.id].rowIndex*this._rowHeight,a=this.options,s=a.messages;this._resizeHint=e(I({styles:o})).css({top:0,height:this._contentHeight}),this.content.append(this._resizeHint),this._resizeTooltip=e(F({styles:o,start:t.start,end:t.end,messages:s.views,format:a.resizeTooltipFormat})).css({top:0,left:0}),this.content.append(this._resizeTooltip),this._resizeTooltipWidth=this._resizeTooltip.outerWidth(),n=this._resizeTooltip.outerHeight(),i=r-n,0>i&&(i=r+this._rowHeight),this._resizeTooltipTop=i;},_updateResizeHint:function _updateResizeHint(t,n,i){var o=this._offset(p?n:t),r=this._offset(p?t:n),a=r-o,s=i!==p?o:r,l=this._tableWidth-kendo.support.scrollbar(),c=this._resizeTooltipWidth,d=this.options,u=d.messages,h=e(S+H.styles.tasksTable).offset().left-e(S+H.styles.tasksWrapper).offset().left;p&&(o+=h),this._resizeHint.css({left:o,width:a}),this._resizeTooltip&&this._resizeTooltip.remove(),s-=Math.round(c/2),0>s?s=0:s+c>l&&(s=l-c),p&&(s+=h),this._resizeTooltip=e(F({styles:H.styles,start:t,end:n,messages:u.views,format:d.resizeTooltipFormat})).css({top:this._resizeTooltipTop,left:s,"min-width":c}).appendTo(this.content);},_removeResizeHint:function _removeResizeHint(){this._resizeHint.remove(),this._resizeHint=null,this._resizeTooltip.remove(),this._resizeTooltip=null;},_updatePercentCompleteTooltip:function _updatePercentCompleteTooltip(t,n,i){var o,r,a,s;this._removePercentCompleteTooltip(),o=this._percentCompleteResizeTooltip=e(M({styles:H.styles,text:i})).appendTo(this.element),r=Math.round(o.outerWidth()/2),a=o.find(S+H.styles.callout),s=Math.round(a.outerWidth()/2),o.css({top:t-(o.outerHeight()+s),left:n-r}),a.css("left",r-s);},_removePercentCompleteTooltip:function _removePercentCompleteTooltip(){this._percentCompleteResizeTooltip&&this._percentCompleteResizeTooltip.remove(),this._percentCompleteResizeTooltip=null;},_updateDependencyDragHint:function _updateDependencyDragHint(e,t,n){this._removeDependencyDragHint(),n?this._creteVmlDependencyDragHint(e,t):this._creteDependencyDragHint(e,t);},_creteDependencyDragHint:function _creteDependencyDragHint(t,n){var i=H.styles,o=n.x-t.x,r=n.y-t.y,a=Math.sqrt(o*o+r*r),s=Math.atan(r/o);0>o&&(s+=Math.PI),e("<div class='"+i.line+" "+i.lineHorizontal+" "+i.dependencyHint+"'></div>").css({top:t.y,left:t.x,width:a,"transform-origin":"0% 0","-ms-transform-origin":"0% 0","-webkit-transform-origin":"0% 0",transform:"rotate("+s+"rad)","-ms-transform":"rotate("+s+"rad)","-webkit-transform":"rotate("+s+"rad)"}).appendTo(this.content);},_creteVmlDependencyDragHint:function _creteVmlDependencyDragHint(t,n){var i=e("<kvml:line class='"+H.styles.dependencyHint+"' style='position:absolute; top: 0px; left: 0px;' strokecolor='black' strokeweight='2px' from='"+t.x+"px,"+t.y+"px' to='"+n.x+"px,"+n.y+"px'></kvml:line>").appendTo(this.content);i[0].outerHTML=i[0].outerHTML;},_removeDependencyDragHint:function _removeDependencyDragHint(){this.content.find(S+H.styles.dependencyHint).remove();},_createTaskTooltip:function _createTaskTooltip(t,n,i){var o,r=H.styles,a=this.options,s=this.content,l=s.offset(),c=s.width(),d=kendo.scrollLeft(s),u=e(n).parents("tr").first(),h=u.offset(),f=a.tooltip&&a.tooltip.template?kendo.template(a.tooltip.template):P,m=p?i-(l.left+d+kendo.support.scrollbar()):i-(l.left-d),g=h.top+u.outerHeight()-l.top+s.scrollTop(),v=this._taskTooltip=e('<div style="z-index: 100002;" class="'+r.tooltipWrapper+'" ><div class="'+r.taskContent+'"></div></div>');v.css({left:m,top:g}).appendTo(s).find(S+r.taskContent).append(f({styles:r,task:t,messages:a.messages.views})),v.outerHeight()<h.top-l.top&&v.css("top",h.top-l.top-v.outerHeight()+s.scrollTop()),o=v.outerWidth(),o+m-d>c&&(m-=o,d>m&&(m=d+c-(o+17)),v.css("left",m));},_removeTaskTooltip:function _removeTaskTooltip(){this._taskTooltip&&this._taskTooltip.remove(),this._taskTooltip=null;},_scrollTo:function _scrollTo(e){var t=e.offset().left,n=e.width(),i=t+n,o=e.closest("tr"),r=o.offset().top,a=o.height(),s=r+a,l=this.content,c=l.offset(),d=c.top,u=l.height(),h=d+u,f=c.left,p=l.width(),m=f+p,g=kendo.support.scrollbar();d>r?l.scrollTop(l.scrollTop()+(r-d)):s>h&&l.scrollTop(l.scrollTop()+(s+g-h)),f>t&&n>p&&m>i||i>m&&p>n?l.scrollLeft(l.scrollLeft()+(i+g-m)):(i>m&&n>p&&t>f||f>t&&p>n)&&l.scrollLeft(l.scrollLeft()+(t-f));},_timeSlots:function _timeSlots(){return this._slots&&this._slots.length?this._slots[this._slots.length-1]:[];},_headers:function _headers(e){var t,n,i,o,r,a,c,d,u=[],h=H.styles;for(r=0,a=e.length;a>r;r++){for(t=e[r],n=[],c=0,d=t.length;d>c;c++){i=t[c],o=l(i.text),n.push(s("th",{colspan:i.span,className:h.header+(i.isNonWorking?" "+h.nonWorking:"")},[o]));}u.push(s("tr",null,n));}return u;},_hours:function _hours(e,t){var n,i,o,r=[],a=this.options,s=a.workDayStart.getHours(),l=a.workDayEnd.getHours(),c=a.hourSpan;for(e=new Date(e),t=new Date(t);t>e;){n=new Date(e),o=n.getHours(),i=o>=s&&l>o,n.setHours(n.getHours()+c),o==n.getHours()&&n.setHours(n.getHours()+2*c),a.showWorkHours&&!i||r.push({start:e,end:n,isNonWorking:!i,span:1}),e=n;}return r;},_days:function _days(e,t){var n,i,o=[];for(e=new Date(e),t=new Date(t);t>e;){n=kendo.date.nextDay(e),i=this._isWorkDay(e),this.options.showWorkDays&&!i||o.push({start:e,end:n,isNonWorking:!i,span:1}),e=n;}return o;},_weeks:function _weeks(e,t){var n,i,o,r=[],a=this.calendarInfo().firstDay;for(e=new Date(e),t=new Date(t);t>e;){n=kendo.date.dayOfWeek(kendo.date.addDays(e,1),a,1),n>t&&(n=t),i=this._days(e,n),o=i.length,o>0&&r.push({start:i[0].start,end:i[o-1].end,span:o}),e=n;}return r;},_months:function _months(e,t){var n,i,o,r=[];for(e=new Date(e),t=new Date(t);t>e;){n=new Date(e),n.setMonth(n.getMonth()+1),i=this._days(e,n),o=i.length,o>0&&r.push({start:i[0].start,end:i[o-1].end,span:o}),e=n;}return r;},_years:function _years(e,t){var n,i=[];for(e=new Date(e),t=new Date(t);t>e;){n=new Date(e),n.setFullYear(n.getFullYear()+1),i.push({start:e,end:n,span:12}),e=n;}return i;},_slotHeaders:function _slotHeaders(e,t){var n,i,o,r=[];for(i=0,o=e.length;o>i;i++){n=e[i],r.push({text:t(n),isNonWorking:!!n.isNonWorking,span:n.span});}return r;},_isWorkDay:function _isWorkDay(e){var t,n,i=e.getDay(),o=this._workDays;for(t=0,n=o.length;n>t;t++){if(o[t]===i)return!0;}return!1;},calendarInfo:function calendarInfo(){return kendo.getCulture().calendars.standard;},_renderCurrentTime:function _renderCurrentTime(){var t,n=this._getCurrentTime(),i=this._offset(n),o=e("<div class='k-current-time'></div>"),r=H.styles,a=e(S+r.tasksWrapper),s=e(S+r.tasksTable);this.content&&this._timeSlots().length&&(this.content.find(".k-current-time").remove(),t=this._timeSlots()[this._slotIndex("start",n)],t.start>n||n>t.end||(a.length&&s.length&&(i+=s.offset().left-a.offset().left),o.css({left:i+"px",top:"0px",width:"1px",height:this._contentHeight+"px"}).appendTo(this.content)));},_getCurrentTime:function _getCurrentTime(){return new Date();},_currentTime:function _currentTime(){var e=this.options.currentTimeMarker;e!==!1&&void 0!==e.updateInterval&&(this._renderCurrentTime(),this._currentTimeUpdateTimer=setInterval(h(this._renderCurrentTime,this),e.updateInterval));}});u(!0,H,{styles:L}),kendo.ui.GanttDayView=H.extend({name:"day",options:{timeHeaderTemplate:T,dayHeaderTemplate:D,resizeTooltipFormat:"h:mm tt ddd, MMM d"},range:function range(e){this.start=kendo.date.getDate(e.start),this.end=kendo.date.getDate(e.end),(kendo.date.getMilliseconds(e.end)>0||this.end.getTime()===this.start.getTime())&&(this.end=kendo.date.addDays(this.end,1));},_createSlots:function _createSlots(){var e,t,n,i,o=[],r=this._days(this.start,this.end),a=[];for(n=0,i=r.length;i>n;n++){e=r[n],t=this._hours(e.start,e.end),e.span=t.length,a.push.apply(a,t);}return o.push(r),o.push(a),o;},_layout:function _layout(){var e=[],t=this.options;return e.push(this._slotHeaders(this._slots[0],kendo.template(t.dayHeaderTemplate))),e.push(this._slotHeaders(this._slots[1],kendo.template(t.timeHeaderTemplate))),e;}}),kendo.ui.GanttWeekView=H.extend({name:"week",options:{dayHeaderTemplate:D,weekHeaderTemplate:A,resizeTooltipFormat:"h:mm tt ddd, MMM d"},range:function range(e){var t=this.calendarInfo(),n=t.firstDay,i=e.end;n===i.getDay()&&i.setDate(i.getDate()+7),this.start=kendo.date.getDate(kendo.date.dayOfWeek(e.start,n,-1)),this.end=kendo.date.getDate(kendo.date.dayOfWeek(i,n,1));},_createSlots:function _createSlots(){var e=[];return e.push(this._weeks(this.start,this.end)),e.push(this._days(this.start,this.end)),e;},_layout:function _layout(){var e=[],t=this.options;return e.push(this._slotHeaders(this._slots[0],kendo.template(t.weekHeaderTemplate))),e.push(this._slotHeaders(this._slots[1],kendo.template(t.dayHeaderTemplate))),e;}}),kendo.ui.GanttMonthView=H.extend({name:"month",options:{weekHeaderTemplate:A,monthHeaderTemplate:E,resizeTooltipFormat:"dddd, MMM d, yyyy"},range:function range(e){this.start=kendo.date.firstDayOfMonth(e.start),this.end=kendo.date.addDays(kendo.date.getDate(kendo.date.lastDayOfMonth(e.end)),1);},_createSlots:function _createSlots(){var e=[];return e.push(this._months(this.start,this.end)),e.push(this._weeks(this.start,this.end)),e;},_layout:function _layout(){var e=[],t=this.options;return e.push(this._slotHeaders(this._slots[0],kendo.template(t.monthHeaderTemplate))),e.push(this._slotHeaders(this._slots[1],kendo.template(t.weekHeaderTemplate))),e;}}),kendo.ui.GanttYearView=H.extend({name:"year",options:{yearHeaderTemplate:R,monthHeaderTemplate:E,resizeTooltipFormat:"dddd, MMM d, yyyy"},range:function range(e){this.start=kendo.date.firstDayOfMonth(new Date(e.start.setMonth(0))),this.end=kendo.date.firstDayOfMonth(new Date(e.end.setMonth(12)));},_createSlots:function _createSlots(){var t=[],n=this._months(this.start,this.end);return e(n).each(function(e,t){t.span=1;}),t.push(this._years(this.start,this.end)),t.push(n),t;},_layout:function _layout(){var e=[],t=this.options;return e.push(this._slotHeaders(this._slots[0],kendo.template(t.yearHeaderTemplate))),e.push(this._slotHeaders(this._slots[1],kendo.template(t.monthHeaderTemplate))),e;}}),o={wrapper:"k-timeline k-grid k-widget",gridHeader:"k-grid-header",gridHeaderWrap:"k-grid-header-wrap",gridContent:"k-grid-content",gridContentWrap:"k-grid-content",tasksWrapper:"k-gantt-tables",dependenciesWrapper:"k-gantt-dependencies",task:"k-task",line:"k-line",taskResizeHandle:"k-resize-handle",taskResizeHandleWest:"k-resize-w",taskDragHandle:"k-task-draghandle",taskComplete:"k-task-complete",taskDelete:"k-task-delete",taskWrapActive:"k-task-wrap-active",taskWrap:"k-task-wrap",taskDot:"k-task-dot",taskDotStart:"k-task-start",taskDotEnd:"k-task-end",hovered:"k-state-hover",selected:"k-state-selected",origin:"k-origin"},r=kendo.ui.GanttTimeline=a.extend({init:function init(e,t){a.fn.init.call(this,e,t),this.options.views&&this.options.views.length||(this.options.views=["day","week","month"]),p=kendo.support.isRtl(e),this._wrapper(),this._domTrees(),this._views(),this._selectable(),this._draggable(),this._resizable(),this._percentResizeDraggable(),this._createDependencyDraggable(),this._attachEvents(),this._tooltip();},options:{name:"GanttTimeline",messages:{views:{day:"Day",week:"Week",month:"Month",year:"Year",start:"Start",end:"End"}},snap:!0,selectable:!0,editable:!0},destroy:function destroy(){a.fn.destroy.call(this),clearTimeout(this._tooltipTimeout),this._currentTimeUpdateTimer&&clearInterval(this._currentTimeUpdateTimer),this._unbindView(this._selectedView),this._moveDraggable&&this._moveDraggable.destroy(),this._resizeDraggable&&this._resizeDraggable.destroy(),this._percentDraggable&&this._percentDraggable.destroy(),this._dependencyDraggable&&this._dependencyDraggable.destroy(),this.touch&&this.touch.destroy(),this._headerTree=null,this._taskTree=null,this._dependencyTree=null,this.wrapper.off(_),kendo.destroy(this.wrapper);},_wrapper:function _wrapper(){var t=r.styles,n=this,i=this.options,o=function o(){var o,r,a=_typeof(i.rowHeight)===v?i.rowHeight:i.rowHeight+"px",s=e(kendo.format(z,a)),l=n.wrapper.find(S+t.tasksWrapper);return l.append(s),o=s.find("tr").outerHeight(),r=s.find("td").height(),s.remove(),{row:o,cell:r};};this.wrapper=this.element.addClass(t.wrapper).append("<div class='"+t.gridHeader+"'><div class='"+t.gridHeaderWrap+"'></div></div>").append("<div class='"+t.gridContentWrap+"'><div class='"+t.tasksWrapper+"'></div><div class='"+t.dependenciesWrapper+"'></div></div>"),i.rowHeight&&(this._calculatedSize=o());},_domTrees:function _domTrees(){var e=r.styles,t=kendo.dom.Tree,n=this.wrapper;this._headerTree=new t(n.find(S+e.gridHeaderWrap)[0]),this._taskTree=new t(n.find(S+e.tasksWrapper)[0]),this._dependencyTree=new t(n.find(S+e.dependenciesWrapper)[0]);},_views:function _views(){var e,t,n,i,o,r,a,s=this.options.views;for(this.views={},r=0,a=s.length;a>r;r++){e=s[r],t=d(e),t&&e.selectable===!1||(n=t?"string"!=typeof e.type?e.title:e.type:e,i=B[n],i&&(t&&(e.type=i.type),i.title=this.options.messages.views[n]),e=u({title:n},i,t?e:{}),n&&(this.views[n]=e,o&&!e.selected||(o=n)));}o&&(this._selectedViewName=o);},view:function view(e){return e&&(this._selectView(e),this.trigger("navigate",{view:e,action:"changeView"})),this._selectedView;},_selectView:function _selectView(e){e&&this.views[e]&&(this._selectedView&&this._unbindView(this._selectedView),this._selectedView=this._initializeView(e),this._selectedViewName=e);},_viewByIndex:function _viewByIndex(e){var t,n=this.views;for(t in n){if(!e)return t;e--;}},_initializeView:function _initializeView(e){var n,i=this.views[e];if(i){if(n=i.type,"string"==typeof n&&(n=kendo.getter(i.type)(window)),!n)throw Error("There is no such view");i=new n(this.wrapper,t(u(!0,{headerTree:this._headerTree,taskTree:this._taskTree,dependencyTree:this._dependencyTree,calculatedSize:this._calculatedSize},i,this.options)));}return i;},_unbindView:function _unbindView(e){e&&e.destroy();},_range:function _range(e){var t,n,i={field:"start",dir:"asc"},o={field:"end",dir:"desc"};return e&&e.length?(t=new g(e).sort(i).toArray()[0].start||new Date(),n=new g(e).sort(o).toArray()[0].end||new Date(),{start:new Date(t),end:new Date(n)}):{start:new Date(),end:new Date()};},_render:function _render(e){var t=this.view(),n=this._range(e);this._tasks=e,t.range(n),t.renderLayout(),t.render(e);},_renderDependencies:function _renderDependencies(e){this.view()._renderDependencies(e);},_taskByUid:function _taskByUid(e){var t,n,i=this._tasks,o=i.length;for(n=0;o>n;n++){if(t=i[n],t.uid===e)return t;}},_draggable:function _draggable(){var e,t,n,o,a=this,s=this.options.snap,l=r.styles,c=function c(){a.view()._removeDragHint(),e&&e.css("opacity",1),e=null,t=null,a.dragInProgress=!1;};this.options.editable&&(this._moveDraggable=new kendo.ui.Draggable(this.wrapper,{distance:0,filter:S+l.task,holdToDrag:kendo.support.mobileOS,ignore:S+l.taskResizeHandle}),this._moveDraggable.bind("dragstart",function(i){var r=a.view();return e=i.currentTarget.parent(),t=a._taskByUid(i.currentTarget.attr("data-uid")),a.trigger("moveStart",{task:t})?void i.preventDefault():(n=t.start,o=r._timeByPosition(i.x.location,s)-n,r._createDragHint(e),e.css("opacity",.5),clearTimeout(a._tooltipTimeout),void(a.dragInProgress=!0));}).bind("drag",kendo.throttle(function(e){var i,r,l;a.dragInProgress&&(i=a.view(),r=new Date(i._timeByPosition(e.x.location,s)-o),l=r,a.trigger("move",{task:t,start:r})||(n=r,p&&(l=new Date(n.getTime()+t.duration())),i._updateDragHint(l)));},15)).bind("dragend",function(){a.trigger("moveEnd",{task:t,start:n}),c();}).bind("dragcancel",function(){c();}).userEvents.bind("select",function(){i();}));},_resizable:function _resizable(){var e,t,n,o,a,s=this,l=this.options.snap,c=r.styles,d=function d(){s.view()._removeResizeHint(),e=null,t=null,s.dragInProgress=!1;};this.options.editable&&(this._resizeDraggable=new kendo.ui.Draggable(this.wrapper,{distance:0,filter:S+c.taskResizeHandle,holdToDrag:!1}),this._resizeDraggable.bind("dragstart",function(i){return a=i.currentTarget.hasClass(c.taskResizeHandleWest),p&&(a=!a),e=i.currentTarget.closest(S+c.task),t=s._taskByUid(e.attr("data-uid")),s.trigger("resizeStart",{task:t})?void i.preventDefault():(n=t.start,o=t.end,s.view()._createResizeHint(t),clearTimeout(s._tooltipTimeout),void(s.dragInProgress=!0));}).bind("drag",kendo.throttle(function(e){var i,r;s.dragInProgress&&(i=s.view(),r=i._timeByPosition(e.x.location,l,!a),a?n=o>r?r:o:o=r>n?r:n,s.trigger("resize",{task:t,start:n,end:o})||i._updateResizeHint(n,o,a));},15)).bind("dragend",function(){s.trigger("resizeEnd",{task:t,resizeStart:a,start:n,end:o}),d();}).bind("dragcancel",function(){d();}).userEvents.bind("select",function(){i();}));},_percentResizeDraggable:function _percentResizeDraggable(){var e,t,n,o,a,s,l,c,d,u,h=this,f=r.styles,m=function m(){h.view()._removePercentCompleteTooltip(),t=null,e=null,h.dragInProgress=!1;},g=function g(e){t.find(S+f.taskComplete).width(e).end().siblings(S+f.taskDragHandle).css(p?"right":"left",e);};this.options.editable&&(this._percentDraggable=new kendo.ui.Draggable(this.wrapper,{distance:0,filter:S+f.taskDragHandle,holdToDrag:!1}),this._percentDraggable.bind("dragstart",function(i){return h.trigger("percentResizeStart")?void i.preventDefault():(t=i.currentTarget.siblings(S+f.task),e=h._taskByUid(t.attr("data-uid")),l=e.percentComplete,n=t.offset(),o=this.element.offset(),a=t.find(S+f.taskComplete).width(),s=t.outerWidth(),clearTimeout(h._tooltipTimeout),void(h.dragInProgress=!0));}).bind("drag",kendo.throttle(function(e){if(h.dragInProgress){u=p?-e.x.initialDelta:e.x.initialDelta;var t=Math.max(0,Math.min(s,a+u));l=Math.round(t/s*100),g(t),c=n.top-o.top,d=n.left+t-o.left,p&&(d+=s-2*t),h.view()._updatePercentCompleteTooltip(c,d,l);}},15)).bind("dragend",function(){h.trigger("percentResizeEnd",{task:e,percentComplete:l/100}),m();}).bind("dragcancel",function(){g(a),m();}).userEvents.bind("select",function(){i();}));},_createDependencyDraggable:function _createDependencyDraggable(){var t,n,o,a=this,s=e(),l=e(),c=f.msie&&9>f.version,d=r.styles,u=function u(){t.css("display","").removeClass(d.hovered),t.parent().removeClass(d.origin),t=null,h(!1),l=e(),s=e(),a.view()._removeDependencyDragHint(),a.dragInProgress=!1;},h=function h(e){l.hasClass(d.origin)||(l.find(S+d.taskDot).css("display",e?"block":""),s.toggleClass(d.hovered,e));};this.options.editable&&(c&&document.namespaces&&document.namespaces.add("kvml","urn:schemas-microsoft-com:vml","#default#VML"),this._dependencyDraggable=new kendo.ui.Draggable(this.wrapper,{distance:0,filter:S+d.taskDot,holdToDrag:!1}),this._dependencyDraggable.bind("dragstart",function(e){var i,r;return a.trigger("dependencyDragStart")?void e.preventDefault():(t=e.currentTarget.css("display","block").addClass(d.hovered),t.parent().addClass(d.origin),i=t.offset(),r=a.wrapper.find(S+d.tasksWrapper).offset(),n=Math.round(i.left-r.left+t.outerHeight()/2),o=Math.round(i.top-r.top+t.outerWidth()/2),clearTimeout(a._tooltipTimeout),void(a.dragInProgress=!0));}).bind("drag",kendo.throttle(function(t){var i,r,u,f;a.dragInProgress&&(a.view()._removeDependencyDragHint(),i=e(kendo.elementUnderCursor(t)),r=a.wrapper.find(S+d.tasksWrapper).offset(),u=t.x.location-r.left,f=t.y.location-r.top,a.view()._updateDependencyDragHint({x:n,y:o},{x:u,y:f},c),h(!1),s=i.hasClass(d.taskDot)?i:e(),l=i.closest(S+d.taskWrap),h(!0));},15)).bind("dragend",function(){var e,n,i,o,r;s.length&&(e=t.hasClass(d.taskDotStart),n=s.hasClass(d.taskDotStart),i=e?n?3:2:n?1:0,o=a._taskByUid(t.siblings(S+d.task).attr("data-uid")),r=a._taskByUid(s.siblings(S+d.task).attr("data-uid")),o!==r&&a.trigger("dependencyDragEnd",{type:i,predecessor:o,successor:r})),u();}).bind("dragcancel",function(){u();}).userEvents.bind("select",function(){i();}));},_selectable:function _selectable(){var t=this,n=r.styles;this.options.selectable&&this.wrapper.on(b+_,S+n.task,function(n){n.stopPropagation(),n.ctrlKey?t.trigger("clear"):t.trigger("select",{uid:e(this).attr("data-uid")});}).on(b+_,S+n.taskWrap,function(t){t.stopPropagation(),e(this).css("z-index","0");var i=e(document.elementFromPoint(t.clientX,t.clientY));i.hasClass(n.line)&&i.click(),e(this).css("z-index","");}).on(b+_,S+n.tasksWrapper,function(){t.selectDependency().length>0?t.clearSelection():t.trigger("clear");}).on(b+_,S+n.line,function(e){e.stopPropagation(),t.selectDependency(this);});},select:function select(e){var t=this.wrapper.find(e),n=r.styles;return t.length?(this.clearSelection(),t.addClass(n.selected),void(kendo.support.mobileOS&&t.parent().addClass(n.taskWrapActive))):this.wrapper.find(S+n.task+S+n.selected);},selectDependency:function selectDependency(t){var n,i=this.wrapper.find(t),o=r.styles;return i.length?(this.clearSelection(),this.trigger("clear"),n=e(i).attr("data-uid"),void this.wrapper.find(S+o.line+"[data-uid='"+n+"']").addClass(o.selected)):this.wrapper.find(S+o.line+S+o.selected);},clearSelection:function clearSelection(){var e=r.styles;this.wrapper.find(S+e.selected).removeClass(e.selected),kendo.support.mobileOS&&this.wrapper.find(S+e.taskWrapActive).removeClass(e.taskWrapActive);},_attachEvents:function _attachEvents(){var t=this,n=r.styles;this.options.editable&&(this._tabindex(),this.wrapper.on(b+_,S+n.taskDelete,function(i){t.trigger("removeTask",{uid:e(this).closest(S+n.task).attr("data-uid")}),i.stopPropagation(),i.preventDefault();}).on(C+_,function(e){var n;e.keyCode===m.DELETE&&(n=t.selectDependency(),n.length&&(t.trigger("removeDependency",{uid:n.attr("data-uid")}),t.clearSelection()));}),kendo.support.mobileOS?this.touch=this.wrapper.kendoTouch({filter:S+n.task,doubletap:function doubletap(n){t.trigger("editTask",{uid:e(n.touch.currentTarget).attr("data-uid")});}}).data("kendoTouch"):this.wrapper.on(w+_,S+n.task,function(n){t.trigger("editTask",{uid:e(this).attr("data-uid")}),n.stopPropagation(),n.preventDefault();}));},_tooltip:function _tooltip(){var t,n=this,i=this.options.tooltip,o=r.styles,a=function a(e){t=e.clientX;};i&&i.visible===!1||(kendo.support.mobileOS?(this.wrapper.on(b+_,S+o.taskDelete,function(e){e.stopPropagation(),n.view()._removeTaskTooltip();}).on(x+_,S+o.task,function(t){var i=e(t.relatedTarget).parents(S+o.taskWrap,S+o.task);0===i.length&&n.view()._removeTaskTooltip();}),this.touch&&this.touch.bind("tap",function(t){var i=t.touch.target,o=n._taskByUid(e(i).attr("data-uid")),r=t.touch.x.client;n.view()._taskTooltip&&n.view()._removeTaskTooltip(),n.view()._createTaskTooltip(o,i,r);}).bind("doubletap",function(){n.view()._removeTaskTooltip();})):this.wrapper.on(k+_,S+o.task,function(){var i=this,o=n._taskByUid(e(this).attr("data-uid"));n.dragInProgress||(n._tooltipTimeout=setTimeout(function(){n.view()._createTaskTooltip(o,i,t);},800),e(this).on(y,a));}).on(x+_,S+o.task,function(){clearTimeout(n._tooltipTimeout),n.view()._removeTaskTooltip(),e(this).off(y,a);}));}}),u(!0,r,{styles:o});}(window.kendo.jQuery),window.kendo;},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("kendo.gantt.min",["kendo.data.min","kendo.popup.min","kendo.window.min","kendo.resizable.min","kendo.gantt.list.min","kendo.gantt.timeline.min","kendo.grid.min","kendo.pdf.min"],e);}(function(){return function(e,t){function n(e){return"["+m.attr("uid")+(e?"='"+e+"']":"]");}function i(e){return delete e.name,delete e.prefix,delete e.remove,delete e.edit,delete e.add,delete e.navigate,e;}function o(e){var t,n,i,o,r,a;if(e.filter("[name=end], [name=start]").length){for(t=e.attr("name"),n=m.widgetInstance(e,m.ui),i={},o=e;o!==window&&!r;){o=o.parent(),r=o.data("kendoEditable");}return(a=r?r.options.model:null)?(i.start=a.start,i.end=a.end,i[t]=n?n.value():m.parseDate(e.value()),i.end>=i.start):!0;}return!0;}function r(t,n){var i=t.parents("["+m.attr("role")+'="gantt"]'),o=[],r=a(i);t.attr(B,0),n&&r.each(function(t,n){o[t]=e(n).scrollTop();});try{t[0].setActive();}catch(s){t[0].focus();}n&&r.each(function(t,n){e(n).scrollTop(o[t]);});}function a(t){return e(t).parentsUntil("body").filter(function(e,t){var n=m.getComputedStyles(t,["overflow"]);return"visible"!=n.overflow;}).add(window);}var s,l,c,d,u,h,f,p,m=window.kendo,g="matchMedia"in window,v=m.support.browser,_=m.support.mobileOS,b=m.Observable,w=m.ui.Widget,y=m.data.DataSource,k=m.data.ObservableObject,x=m.data.ObservableArray,C=m.data.Query,S=e.isArray,T=e.inArray,D=m.isFunction,A=e.proxy,E=e.extend,R=e.isPlainObject,I=e.map,F=m.keys,M=3,P=".kendoGantt",z="p0",B="tabIndex",L="click",H="width",N="string",O={down:{origin:"bottom left",position:"top left"},up:{origin:"top left",position:"bottom left"}},V="aria-activedescendant",U="gantt_active_cell",W="action-option-focused",j=".",q="Are you sure you want to delete this task?",G="Are you sure you want to delete this dependency?",$=m.template('<button class="#=styles.buttonToggle#"><span class="#=styles.iconToggle#">&nbps;</span></button>'),Y='<button class="#=styles.button# #=className#" #if (action) {#data-action="#=action#"#}#><span class="#=iconClass#"></span><span>#=text#</span></button>',K='<a class="#=className#" #=attr# href="\\#">#=text#</a>',Q=m.template('<li class="#=styles.currentView# #=styles.viewButtonDefault#"><a href="\\#" class="#=styles.link#">&nbps;</a></li>'),X=m.template('<ul class="#=styles.viewsWrapper#">#for(var view in views){#<li class="#=styles.viewButtonDefault# #=styles.viewButton#-#= view.toLowerCase() #" data-#=ns#name="#=view#"><a href="\\#" class="#=styles.link#">#=views[view].title#</a></li>#}#</ul>'),J=m.template('<div class="#=styles.popupWrapper#"><ul class="#=styles.popupList#" role="listbox">#for(var i = 0, l = actions.length; i < l; i++){#<li class="#=styles.item#" data-action="#=actions[i].data#" role="option">#=actions[i].text#</span>#}#</ul></div>'),Z=function Z(t,n){var i={name:n.field},o=n.model.fields[n.field].validation;o&&R(o)&&o.message&&(i[m.attr("dateCompare-msg")]=o.message),e('<input type="text" required '+m.attr("type")+'="date" '+m.attr("role")+'="datetimepicker" '+m.attr("bind")+'="value:'+n.field+'" '+m.attr("validate")+"='true' />").attr(i).appendTo(t),e("<span "+m.attr("for")+'="'+n.field+'" class="k-invalid-msg"/>').hide().appendTo(t);},ee=function ee(t,n){e('<a href="#" class="'+n.styles.button+'">'+n.messages.assignButton+"</a>").click(n.click).appendTo(t);},te={wrapper:"k-widget k-gantt",rowHeight:"k-gantt-rowheight",listWrapper:"k-gantt-layout k-gantt-treelist",list:"k-gantt-treelist",timelineWrapper:"k-gantt-layout k-gantt-timeline",timeline:"k-gantt-timeline",splitBarWrapper:"k-splitbar k-state-default k-splitbar-horizontal k-splitbar-draggable-horizontal k-gantt-layout",splitBar:"k-splitbar",splitBarHover:"k-splitbar-horizontal-hover",popupWrapper:"k-list-container",popupList:"k-list k-reset",resizeHandle:"k-resize-handle",icon:"k-icon",item:"k-item",line:"k-line",buttonDelete:"k-gantt-delete",buttonCancel:"k-gantt-cancel",buttonSave:"k-gantt-update",buttonToggle:"k-gantt-toggle",primary:"k-primary",hovered:"k-state-hover",selected:"k-state-selected",focused:"k-state-focused",gridHeader:"k-grid-header",gridHeaderWrap:"k-grid-header-wrap",gridContent:"k-grid-content",popup:{form:"k-popup-edit-form",editForm:"k-gantt-edit-form",formContainer:"k-edit-form-container",resourcesFormContainer:"k-resources-form-container",message:"k-popup-message",buttonsContainer:"k-edit-buttons k-state-default",button:"k-button",editField:"k-edit-field",editLabel:"k-edit-label",resourcesField:"k-gantt-resources"},toolbar:{headerWrapper:"k-floatwrap k-header k-gantt-toolbar",footerWrapper:"k-floatwrap k-header k-gantt-toolbar",toolbar:"k-gantt-toolbar",expanded:"k-state-expanded",views:"k-gantt-views",viewsWrapper:"k-reset k-header k-gantt-views",actions:"k-gantt-actions",button:"k-button k-button-icontext",buttonToggle:"k-button k-button-icon k-gantt-toggle",iconPlus:"k-icon k-i-plus",iconPdf:"k-icon k-i-pdf",iconToggle:"k-icon k-i-gantt-toggle",viewButtonDefault:"k-state-default",viewButton:"k-view",currentView:"k-current-view",link:"k-link",pdfButton:"k-gantt-pdf",appendButton:"k-gantt-create"}},ne=b.extend({init:function init(e,t){b.fn.init.call(this),this.element=e,this.options=E(!0,{},this.options,t),this._popup();},options:{direction:"down",navigatable:!1},_current:function _current(e){var t=p.styles,n=this.list.find(j+t.focused),i=n[e]();i.length&&(n.removeClass(t.focused).removeAttr("id"),i.addClass(t.focused).attr("id",W),this.list.find("ul").removeAttr(V).attr(V,W));},_popup:function _popup(){var t=this,n=p.styles,i="li"+j+n.item,o=j+n.toolbar.appendButton,r=this.options.messages.actions,a=this.options.navigatable;this.list=e(J({styles:n,actions:[{data:"add",text:r.addChild},{data:"insert-before",text:r.insertBefore},{data:"insert-after",text:r.insertAfter}]})),this.element.append(this.list),this.popup=new m.ui.Popup(this.list,E({anchor:this.element.find(o),open:function open(){t._adjustListWidth();},animation:this.options.animation},O[this.options.direction])),this.element.on(L+P,o,function(i){var o=e(this),r=o.attr(m.attr("action"));i.preventDefault(),r?t.trigger("command",{type:r}):(t.popup.open(),a&&t.list.find("li:first").addClass(n.focused).attr("id",W).end().find("ul").attr({TABINDEX:0,"aria-activedescendant":W}).focus());}),this.list.find(i).hover(function(){e(this).addClass(n.hovered);},function(){e(this).removeClass(n.hovered);}).end().on(L+P,i,function(){t.trigger("command",{type:e(this).attr(m.attr("action"))}),t.popup.close();}),a&&(this.popup.bind("close",function(){t.list.find(i).removeClass(n.focused).end().find("ul").attr(B,0),t.element.parents("["+m.attr("role")+'="gantt"]').find(j+n.gridContent+" > table:first").focus();}),this.list.find("ul").on("keydown"+P,function(e){var i=e.keyCode;switch(i){case F.UP:e.preventDefault(),t._current("prev");break;case F.DOWN:e.preventDefault(),t._current("next");break;case F.ENTER:t.list.find(j+n.focused).click();break;case F.ESC:e.preventDefault(),t.popup.close();}}));},_adjustListWidth:function _adjustListWidth(){var e,t,n=this.list,i=p.styles,o=n[0].style.width,r=this.element.find(j+i.toolbar.appendButton),a=n.outerWidth();!n.data(H)&&o||(e=window.getComputedStyle?window.getComputedStyle(r[0],null):0,t=e?parseFloat(e.width):r.outerWidth(),e&&(v.mozilla||v.msie)&&(t+=parseFloat(e.paddingLeft)+parseFloat(e.paddingRight)+parseFloat(e.borderLeftWidth)+parseFloat(e.borderRightWidth)),o="border-box"!==n.css("box-sizing")?t-(n.outerWidth()-n.width()):t,a>o&&(o=a),n.css({fontFamily:r.css("font-family"),width:o}).data(H,o));},destroy:function destroy(){clearTimeout(this._focusTimeout),this.popup.destroy(),this.element.off(P),this.list.off(P),this.unbind();}}),ie=function ie(e,t){return function(n){var i,o;if(n=S(n)?{data:n}:n,i=n||{},o=i.data,i.data=o,!(i instanceof e)&&i instanceof y)throw Error("Incorrect DataSource type. Only "+t+" instances are supported");return i instanceof e?i:new e(i);};},oe=m.data.Model.define({id:"id",fields:{id:{type:"number"},predecessorId:{type:"number"},successorId:{type:"number"},type:{type:"number"}}}),re=y.extend({init:function init(e){y.fn.init.call(this,E(!0,{},{schema:{modelBase:oe,model:oe}},e));},successors:function successors(e){return this._dependencies("predecessorId",e);},predecessors:function predecessors(e){return this._dependencies("successorId",e);},dependencies:function dependencies(e){var t=this.predecessors(e),n=this.successors(e);return t.push.apply(t,n),t;},_dependencies:function _dependencies(e,t){var n=this.view(),i={field:e,operator:"eq",value:t};return n=new C(n).filter(i).toArray();}});re.create=ie(re,"GanttDependencyDataSource"),l=m.data.Model.define({duration:function duration(){var e=this.end,t=this.start;return e-t;},isMilestone:function isMilestone(){return 0===this.duration();},_offset:function _offset(e){var t,n,i=["start","end"];for(n=0;i.length>n;n++){t=new Date(this.get(i[n]).getTime()+e),this.set(i[n],t);}},id:"id",fields:{id:{type:"number"},parentId:{type:"number",defaultValue:null,validation:{required:!0}},orderId:{type:"number",validation:{required:!0}},title:{type:"string",defaultValue:"New task"},start:{type:"date",validation:{required:!0}},end:{type:"date",validation:{required:!0,dateCompare:o,message:"End date should be after or equal to the start date"}},percentComplete:{type:"number",validation:{required:!0,min:0,max:1,step:.01}},summary:{type:"boolean"},expanded:{type:"boolean",defaultValue:!0}}}),c=y.extend({init:function init(e){y.fn.init.call(this,E(!0,{},{schema:{modelBase:l,model:l}},e));},remove:function remove(e){var t=e.get("parentId"),n=this.taskAllChildren(e);return this._removeItems(n),e=y.fn.remove.call(this,e),this._childRemoved(t,e.get("orderId")),e;},add:function add(e){return e?(e=this._toGanttTask(e),this.insert(this.taskSiblings(e).length,e)):t;},insert:function insert(e,n){return n?(n=this._toGanttTask(n),n.set("orderId",e),n=y.fn.insert.call(this,e,n),this._reorderSiblings(n,this.taskSiblings(n).length-1),this._resolveSummaryFields(this.taskParent(n)),n):t;},taskChildren:function taskChildren(e){var n,i=this.view(),o={field:"parentId",operator:"eq",value:null},r=this._sort&&this._sort.length?this._sort:{field:"orderId",dir:"asc"};if(e){if(n=e.get("id"),n===t||null===n||""===n)return[];o.value=n;}return i=new C(i).filter(o).sort(r).toArray();},taskAllChildren:function taskAllChildren(e){var t=[],n=this,i=function i(e){var o=n.taskChildren(e);t.push.apply(t,o),I(o,i);};return e?i(e):t=this.view(),t;},taskSiblings:function taskSiblings(e){if(!e)return null;var t=this.taskParent(e);return this.taskChildren(t);},taskParent:function taskParent(e){return e&&null!==e.get("parentId")?this.get(e.parentId):null;},taskLevel:function taskLevel(e){for(var t=0,n=this.taskParent(e);null!==n;){t+=1,n=this.taskParent(n);}return t;},taskTree:function taskTree(e){var t,n,i,o,r=[],a=this.taskChildren(e);for(n=0,i=a.length;i>n;n++){t=a[n],r.push(t),t.get("expanded")&&(o=this.taskTree(t),r.push.apply(r,o));}return r;},update:function update(e,n){var i,o,r=this,a=function a(e,t){var n,i,o=r.taskAllChildren(e);for(n=0,i=o.length;i>n;n++){o[n]._offset(t);}},s=function s(e){var t=e.field,n=e.sender;switch(t){case"start":r._resolveSummaryStart(r.taskParent(n)),a(n,n.get(t).getTime()-i.getTime());break;case"end":r._resolveSummaryEnd(r.taskParent(n));break;case"percentComplete":r._resolveSummaryPercentComplete(r.taskParent(n));break;case"orderId":r._reorderSiblings(n,i);}};n.parentId!==t&&(i=e.get("parentId"),i!==n.parentId&&(e.set("parentId",n.parentId),r._childRemoved(i,e.get("orderId")),e.set("orderId",r.taskSiblings(e).length-1),r._resolveSummaryFields(r.taskParent(e))),delete n.parentId),e.bind("change",s);for(o in n){i=e.get(o),e.set(o,n[o]);}e.unbind("change",s);},_resolveSummaryFields:function _resolveSummaryFields(e){e&&(this._updateSummary(e),this.taskChildren(e).length&&(this._resolveSummaryStart(e),this._resolveSummaryEnd(e),this._resolveSummaryPercentComplete(e)));},_resolveSummaryStart:function _resolveSummaryStart(e){var t=this,n=function n(e){var n,i,o,r=t.taskChildren(e),a=r[0].start.getTime();for(i=1,o=r.length;o>i;i++){n=r[i].start.getTime(),a>n&&(a=n);}return new Date(a);};this._updateSummaryRecursive(e,"start",n);},_resolveSummaryEnd:function _resolveSummaryEnd(e){var t=this,n=function n(e){var n,i,o,r=t.taskChildren(e),a=r[0].end.getTime();for(i=1,o=r.length;o>i;i++){n=r[i].end.getTime(),n>a&&(a=n);}return new Date(a);};this._updateSummaryRecursive(e,"end",n);},_resolveSummaryPercentComplete:function _resolveSummaryPercentComplete(e){var t=this,n=function n(e){var n=t.taskChildren(e),i=new C(n).aggregate([{field:"percentComplete",aggregate:"average"}]);return i.percentComplete.average;};this._updateSummaryRecursive(e,"percentComplete",n);},_updateSummaryRecursive:function _updateSummaryRecursive(e,t,n){var i,o;e&&(i=n(e),e.set(t,i),o=this.taskParent(e),o&&this._updateSummaryRecursive(o,t,n));},_childRemoved:function _childRemoved(e,t){var n,i,o=null===e?null:this.get(e),r=this.taskChildren(o);for(n=t,i=r.length;i>n;n++){r[n].set("orderId",n);}this._resolveSummaryFields(o);},_reorderSiblings:function _reorderSiblings(e,t){var n,i=e.get("orderId"),o=i>t,r=o?t:i,a=o?i:t,s=o?r:r+1,l=this.taskSiblings(e);for(a=Math.min(a,l.length-1),n=r;a>=n;n++){l[n]!==e&&(l[n].set("orderId",s),s+=1);}},_updateSummary:function _updateSummary(e){if(null!==e){var t=this.taskChildren(e).length;e.set("summary",t>0);}},_toGanttTask:function _toGanttTask(e){if(!(e instanceof l)){var t=e;e=this._createNewModel(),e.accept(t);}return e;}}),c.create=ie(c,"GanttDataSource"),E(!0,m.data,{GanttDataSource:c,GanttTask:l,GanttDependencyDataSource:re,GanttDependency:oe}),d={desktop:{dateRange:Z,resources:ee}},u=m.Observable.extend({init:function init(e,t){m.Observable.fn.init.call(this),this.element=e,this.options=E(!0,{},this.options,t),this.createButton=this.options.createButton;},fields:function fields(t,n){var i,o=this,r=this.options,a=r.messages.editor,s=r.resources,l=function l(e){e.preventDefault(),s.editor(o.container.find(j+p.styles.popup.resourcesField),n);};return r.editable.template?i=e.map(n.fields,function(e,t){return{field:t};}):(i=[{field:"title",title:a.title},{field:"start",title:a.start,editor:t.dateRange},{field:"end",title:a.end,editor:t.dateRange},{field:"percentComplete",title:a.percentComplete,format:z}],n.get(s.field)&&i.push({field:s.field,title:a.resources,messages:a,editor:t.resources,click:l,styles:p.styles.popup})),i;},_buildEditTemplate:function _buildEditTemplate(e,t,n){var i,o,r,a,s=this.options.resources,l=this.options.editable.template,c=E({},m.Template,this.options.templateSettings),d=c.paramName,u=p.styles.popup,h="";if(l)(typeof l==="undefined"?"undefined":_typeof(l))===N&&(l=window.unescape(l)),h+=m.template(l,c)(e);else for(i=0,o=t.length;o>i;i++){r=t[i],h+='<div class="'+u.editLabel+'"><label for="'+r.field+'">'+(r.title||r.field||"")+"</label></div>",r.field===s.field&&(h+='<div class="'+u.resourcesField+'" style="display:none"></div>'),!e.editable||e.editable(r.field)?(n.push(r),h+="<div "+m.attr("container-for")+'="'+r.field+'" class="'+u.editField+'"></div>'):(a="#:",r.field?(r=m.expr(r.field,d),a+=r+"==null?'':"+r):a+="''",a+="#",a=m.template(a,c),h+='<div class="'+u.editField+'">'+a(e)+"</div>");}return h;}}),h=u.extend({destroy:function destroy(){this.close(),this.unbind();},editTask:function editTask(e){this.editable=this._createPopupEditor(e);},close:function close(){var e=this,t=function t(){e.editable&&(e.editable.destroy(),e.editable=null,e.container=null),e.popup&&(e.popup.destroy(),e.popup=null);};this.editable&&this.container.is(":visible")?(e.trigger("close",{window:e.container}),this.container.data("kendoWindow").bind("deactivate",t).close()):t();},showDialog:function showDialog(t){var n,i,o,r,a=t.buttons,s=p.styles.popup,l=m.format('<div class="{0}"><div class="{1}"><p class="{2}">{3}</p><div class="{4}">',s.form,s.formContainer,s.message,t.text,s.buttonsContainer);for(n=0,i=a.length;i>n;n++){l+=this.createButton(a[n]);}l+="</div></div></div>",o=this.element,this.popup&&this.popup.destroy(),r=this.popup=e(l).appendTo(o).eq(0).on("click",j+s.button,function(t){t.preventDefault(),r.close();var n=e(t.currentTarget).index();a[n].click();}).kendoWindow({modal:!0,resizable:!1,draggable:!1,title:t.title,visible:!1,deactivate:function deactivate(){this.destroy(),o.focus();}}).getKendoWindow(),r.center().open();},_createPopupEditor:function _createPopupEditor(t){var n,i,o=this,r={},a=this.options.messages,s=p.styles,l=s.popup,c=m.format('<div {0}="{1}" class="{2} {3}"><div class="{4}">',m.attr("uid"),t.uid,l.form,l.editForm,l.formContainer),u=this.fields(d.desktop,t),h=[];return c+=this._buildEditTemplate(t,u,h),c+='<div class="'+l.buttonsContainer+'">',c+=this.createButton({name:"update",text:a.save,className:p.styles.primary}),c+=this.createButton({name:"cancel",text:a.cancel}),c+=this.createButton({name:"delete",text:a.destroy}),c+="</div></div></div>",n=this.container=e(c).appendTo(this.element).eq(0).kendoWindow(E({modal:!0,resizable:!1,draggable:!0,title:a.editor.editorTitle,visible:!1,close:function close(e){e.userTriggered&&o.trigger("cancel",{container:n,model:t})&&e.preventDefault();}},r)),i=n.kendoEditable({fields:h,model:t,clearContainer:!1,validateOnBlur:!0,target:o.options.target}).data("kendoEditable"),m.cycleForm(n),this.trigger("edit",{container:n,model:t})?o.trigger("cancel",{container:n,model:t}):(n.data("kendoWindow").center().open(),n.on(L+P,j+s.buttonCancel,function(e){e.preventDefault(),e.stopPropagation(),o.trigger("cancel",{container:n,model:t});}),n.on(L+P,j+s.buttonSave,function(e){var i,r,a,s,l;for(e.preventDefault(),e.stopPropagation(),i=o.fields(d.desktop,t),r={},s=0,l=i.length;l>s;s++){a=i[s].field,r[a]=t.get(a);}o.trigger("save",{container:n,model:t,updateInfo:r});}),n.on(L+P,j+s.buttonDelete,function(e){e.preventDefault(),e.stopPropagation(),o.trigger("remove",{container:n,model:t});})),i;}}),f=w.extend({init:function init(e,t){w.fn.init.call(this,e,t),this.wrapper=this.element,this.model=this.options.model,this.resourcesField=this.options.resourcesField,this.createButton=this.options.createButton,this._initContainer(),this._attachHandlers();},events:["save"],open:function open(){this.window.center().open(),this.grid.resize(!0);},close:function close(){this.window.bind("deactivate",A(this.destroy,this)).close();},destroy:function destroy(){this._dettachHandlers(),this.grid.destroy(),this.grid=null,this.window.destroy(),this.window=null,w.fn.destroy.call(this),m.destroy(this.wrapper),this.element=this.wrapper=null;},_attachHandlers:function _attachHandlers(){var t=p.styles,n=this.grid,i=this._cancelProxy=A(this._cancel,this);this.container.on(L+P,j+t.buttonCancel,this._cancelProxy),this._saveProxy=A(this._save,this),this.container.on(L+P,j+t.buttonSave,this._saveProxy),this.window.bind("close",function(e){e.userTriggered&&i(e);}),n.wrapper.on(L+P,"input[type='checkbox']",function(){var t=e(this),i=e(t).closest("tr"),o=n.dataSource.getByUid(i.attr(m.attr("uid"))),r=e(t).is(":checked")?1:"";o.set("value",r);});},_dettachHandlers:function _dettachHandlers(){this._cancelProxy=null,this._saveProxy=null,this.container.off(P),this.grid.wrapper.off();},_cancel:function _cancel(e){e.preventDefault(),this.close();},_save:function _save(e){e.preventDefault(),this._updateModel(),this.wrapper.is(j+p.styles.popup.resourcesField)||this.trigger("save",{container:this.wrapper,model:this.model}),this.close();},_initContainer:function _initContainer(){var t=p.styles.popup,n=m.format('<div class="{0} {1}"><div class="{2} {3}"/></div>"',t.form,t.editForm,t.formContainer,t.resourcesFormContainer);n=e(n),this.container=n.find(j+t.resourcesFormContainer),this.window=n.kendoWindow({modal:!0,resizable:!1,draggable:!0,visible:!1,title:this.options.messages.resourcesEditorTitle}).data("kendoWindow"),this._resourceGrid(),this._createButtons();},_resourceGrid:function _resourceGrid(){var t=this,n=this.options.messages,i=e('<div id="resources-grid"/>').appendTo(this.container);this.grid=new m.ui.Grid(i,{columns:[{field:"name",title:n.resourcesHeader,template:"<label><input type='checkbox' value='#=name#'# if (value > 0 && value !== null) {#checked='checked'# } #/>#=name#</labe>"},{field:"value",title:n.unitsHeader,template:function template(e){var t=e.format,n=null!==e.value?e.value:"";return t?m.toString(n,t):n;}}],height:280,sortable:!0,editable:!0,filterable:!0,dataSource:{data:t.options.data,schema:{model:{id:"id",fields:{id:{from:"id"},name:{from:"name",type:"string",editable:!1},value:{from:"value",type:"number",defaultValue:""},format:{from:"format",type:"string"}}}}},save:function save(e){var t=!!e.values.value;e.container.parent().find("input[type='checkbox']").prop("checked",t);}});},_createButtons:function _createButtons(){var e,t,n=this.options.buttons,i='<div class="'+p.styles.popup.buttonsContainer+'">';for(e=0,t=n.length;t>e;e++){i+=this.createButton(n[e]);}i+="</div>",this.container.append(i);},_updateModel:function _updateModel(){var e,t,n,i=[],o=this.grid.dataSource.data();for(t=0,n=o.length;n>t;t++){e=o[t].get("value"),null!==e&&e>0&&i.push(o[t]);}this.model[this.resourcesField]=i;}}),p=w.extend({init:function init(e,t,n){S(t)&&(t={dataSource:t}),s={append:{text:"Add Task",action:"add",className:p.styles.toolbar.appendButton,iconClass:p.styles.toolbar.iconPlus},pdf:{text:"Export to PDF",className:p.styles.toolbar.pdfButton,iconClass:p.styles.toolbar.iconPdf}},w.fn.init.call(this,e,t),n&&(this._events=n),this._wrapper(),this._resources(),this.options.views&&this.options.views.length||(this.options.views=["day","week","month"]),this._timeline(),this._toolbar(),this._footer(),this._adjustDimensions(),this._preventRefresh=!0,this.view(this.timeline._selectedViewName),this._preventRefresh=!1,this._dataSource(),this._assignments(),this._dropDowns(),this._list(),this._dependencies(),this._resizable(),this._scrollable(),this._dataBind(),this._attachEvents(),this._createEditor(),m.notify(this);},events:["dataBinding","dataBound","add","edit","remove","cancel","save","change","navigate","moveStart","move","moveEnd","resizeStart","resize","resizeEnd","columnResize"],options:{name:"Gantt",autoBind:!0,navigatable:!1,selectable:!0,editable:!0,resizable:!1,columnResizeHandleWidth:M,columns:[],views:[],dataSource:{},dependencies:{},resources:{},assignments:{},taskTemplate:null,messages:{save:"Save",cancel:"Cancel",destroy:"Delete",deleteTaskConfirmation:q,deleteDependencyConfirmation:G,deleteTaskWindowTitle:"Delete task",deleteDependencyWindowTitle:"Delete dependency",views:{day:"Day",week:"Week",month:"Month",year:"Year",start:"Start",end:"End"},actions:{append:"Add Task",addChild:"Add Child",insertBefore:"Add Above",insertAfter:"Add Below",pdf:"Export to PDF"},editor:{editorTitle:"Task",resourcesEditorTitle:"Resources",title:"Title",start:"Start",end:"End",percentComplete:"Complete",resources:"Resources",assignButton:"Assign",resourcesHeader:"Resources",unitsHeader:"Units"}},showWorkHours:!0,showWorkDays:!0,toolbar:null,workDayStart:new Date(1980,1,1,8,0,0),workDayEnd:new Date(1980,1,1,17,0,0),workWeekStart:1,workWeekEnd:5,hourSpan:1,snap:!0,height:600,listWidth:"30%",rowHeight:null},select:function select(e){var n=this.list;return e?(n.select(e),t):n.select();},clearSelection:function clearSelection(){this.list.clearSelection();},destroy:function destroy(){w.fn.destroy.call(this),this.dataSource&&(this.dataSource.unbind("change",this._refreshHandler),this.dataSource.unbind("progress",this._progressHandler),this.dataSource.unbind("error",this._errorHandler)),this.dependencies&&(this.dependencies.unbind("change",this._dependencyRefreshHandler),this.dependencies.unbind("error",this._dependencyErrorHandler)),this.timeline&&(this.timeline.unbind(),this.timeline.destroy()),this.list&&(this.list.unbind(),this.list.destroy()),this.footerDropDown&&this.footerDropDown.destroy(),this.headerDropDown&&this.headerDropDown.destroy(),this._editor&&this._editor.destroy(),this._resizeDraggable&&this._resizeDraggable.destroy(),this.toolbar.off(P),g&&(this._mediaQuery.removeListener(this._mediaQueryHandler),this._mediaQuery=null),e(window).off("resize"+P,this._resizeHandler),e(this.wrapper).off(P),this.toolbar=null,this.footer=null;},setOptions:function setOptions(t){var n,i=m.deepExtend({},this.options,t),o=this._events;t.views||(n=this.view().name,i.views=e.map(this.options.views,function(e){var t=R(e),i=t?"string"!=typeof e.type?e.title:e.type:e;return n===i?t?e.selected=!0:e={type:i,selected:!0}:t&&(e.selected=!1),e;})),t.dataSource||(i.dataSource=this.dataSource),t.dependencies||(i.dependencies=this.dependencies),t.resources||(i.resources=this.resources),t.assignments||(i.assignments=this.assignments),this.destroy(),this.element.empty(),this.options=null,this.init(this.element,i,o),w.fn._setEvents.call(this,i);},_attachEvents:function _attachEvents(){this._resizeHandler=A(this.resize,this,!1),e(window).on("resize"+P,this._resizeHandler);},_wrapper:function _wrapper(){var e=p.styles,t=[e.icon,e.resizeHandle].join(" "),n=this.options,i=n.height,o=n.width;this.wrapper=this.element.addClass(e.wrapper).append("<div class='"+e.listWrapper+"'><div></div></div>").append("<div class='"+e.splitBarWrapper+"'><div class='"+t+"'></div></div>").append("<div class='"+e.timelineWrapper+"'><div></div></div>"),this.wrapper.find(j+e.list).width(n.listWidth),i&&this.wrapper.height(i),o&&this.wrapper.width(o),n.rowHeight&&this.wrapper.addClass(e.rowHeight);},_toolbar:function _toolbar(){var t,n,i,o=this,r=p.styles,a=j+r.toolbar.views+" > li",s=j+r.toolbar.pdfButton,l=j+r.buttonToggle,c=j+r.gridContent,d=e(j+r.list),u=e(j+r.timeline),h=r.hovered,f=this.options.toolbar,v=e("<div class='"+r.toolbar.actions+"'>"),_=function _(e){e.matches?d.css({display:"none","max-width":0}):(d.css({display:"inline-block",width:"30%","max-width":"none"}),u.css("display","inline-block"),o.refresh(),u.find(c).scrollTop(o.scrollTop)),o._resize();};D(f)||(f=(typeof f==="undefined"?"undefined":_typeof(f))===N?f:this._actions(f),f=A(m.template(f),this)),i=e($({styles:r.toolbar})),n=e(X({ns:m.ns,views:this.timeline.views,styles:r.toolbar})),v.append(f({})),t=e("<div class='"+r.toolbar.headerWrapper+"'>").append(i).append(n).append(v),n.find("li").length>1&&n.prepend(Q({styles:r.toolbar})),this.wrapper.prepend(t),this.toolbar=t,g&&(this._mediaQueryHandler=A(_,this),this._mediaQuery=window.matchMedia("(max-width: 480px)"),this._mediaQuery.addListener(this._mediaQueryHandler)),t.on(L+P,a,function(t){var i,a,s;t.preventDefault(),i=o.list,a=e(this).attr(m.attr("name")),s=n.find(j+r.toolbar.currentView),s.is(":visible")&&s.parent().toggleClass(r.toolbar.expanded),i.editable&&i.editable.trigger("validate")||o.trigger("navigate",{view:a})||o.view(a);}).on(L+P,s,function(e){e.preventDefault(),o.saveAsPDF();}).on(L+P,l,function(e){e.preventDefault(),d.is(":visible")?(d.css({display:"none",width:"0"}),u.css({display:"inline-block",width:"100%"}),o.refresh(),u.find(c).scrollTop(o.scrollTop)):(u.css({display:"none",width:0}),d.css({display:"inline-block",width:"100%","max-width":"none"}).find(c).scrollTop(o.scrollTop)),o._resize();}),this.wrapper.find(j+r.toolbar.toolbar+" li").hover(function(){e(this).addClass(h);},function(){e(this).removeClass(h);});},_actions:function _actions(){var e,t,n=this.options,i=n.toolbar,o="";if(!S(i)){if(!n.editable)return o;i=["append"];}for(e=0,t=i.length;t>e;e++){o+=this._createButton(i[e]);}return o;},_footer:function _footer(){var t,n,i,o,r;this.options.editable&&(t=p.styles.toolbar,n=this.options.messages.actions,i=e(m.template(Y)(E(!0,{styles:t},s.append,{text:n.append}))),o=e("<div class='"+t.actions+"'>").append(i),r=e("<div class='"+t.footerWrapper+"'>").append(o),this.wrapper.append(r),this.footer=r);},_createButton:function _createButton(e){var t=e.template||Y,n=this.options.messages.actions,i=(typeof e==="undefined"?"undefined":_typeof(e))===N?e:e.name||e.text,o=s[i]?s[i].className:"k-gantt-"+(i||"").replace(/\s/g,""),r={iconClass:"",action:"",text:i,className:o,styles:p.styles.toolbar};if(!(i||R(e)&&e.template))throw Error("Custom commands should have name specified");return r=E(!0,r,s[i],{text:n[i]}),R(e)&&(e.className&&T(r.className,e.className.split(" "))<0&&(e.className+=" "+r.className),r=E(!0,r,e)),m.template(t)(r);},_adjustDimensions:function _adjustDimensions(){var e=this.element,t=p.styles,n=j+t.list,i=j+t.timeline,o=j+t.splitBar,r=this.toolbar.outerHeight(),a=this.footer?this.footer.outerHeight():0,s=e.height(),l=e.width(),c=e.find(o).outerWidth(),d=e.find(n).outerWidth();e.children([n,i,o].join(",")).height(s-(r+a)).end().children(i).width(l-(c+d)),d+c>l&&e.find(n).width(l-c);},_scrollTo:function _scrollTo(e){var t,i,o=this.timeline.view(),r=this.list,a=m.attr("uid"),s="string"==typeof e?e:e.closest("tr"+n()).attr(a),l=function l(){0!==i.length&&t();};o.content.is(":visible")?(i=o.content.find(n(s)),t=function t(){o._scrollTo(i);}):(i=r.content.find(n(s)),t=function t(){i.get(0).scrollIntoView();}),l();},_dropDowns:function _dropDowns(){var e=this,t=j+p.styles.toolbar.actions,n=this.options.messages.actions,i=this.timeline,o=function o(t){var n,o=t.type,r=e.dataSource,a=r._createNewModel(),s=e.dataItem(e.select()),l=r.taskParent(s),c=i.view()._timeSlots()[0],d="add"===o?s:l,u=e.list.editable;u&&u.trigger("validate")||(a.set("title","New task"),d?(a.set("parentId",d.get("id")),a.set("start",d.get("start")),a.set("end",d.get("end"))):(a.set("start",c.start),a.set("end",c.end)),"add"!==o&&(n=s.get("orderId"),n="insert-before"===o?n:n+1),e._createTask(a,n));};this.options.editable&&(this.footerDropDown=new ne(this.footer.children(t).eq(0),{messages:{actions:n},direction:"up",animation:{open:{effects:"slideIn:up"}},navigatable:e.options.navigatable}),this.headerDropDown=new ne(this.toolbar.children(t).eq(0),{messages:{actions:n},navigatable:e.options.navigatable}),this.footerDropDown.bind("command",o),this.headerDropDown.bind("command",o));},_list:function _list(){var e,t,n=this,i=n.options.navigatable,o=p.styles,a=this.wrapper.find(j+o.list),s=a.find("> div"),l=this.wrapper.find(j+o.toolbar.actions+" > button"),c={columns:this.options.columns||[],dataSource:this.dataSource,selectable:this.options.selectable,editable:this.options.editable,resizable:this.options.resizable,columnResizeHandleWidth:this.options.columnResizeHandleWidth,listWidth:a.outerWidth(),resourcesField:this.resources.field,rowHeight:this.options.rowHeight},d=c.columns,u=function u(){i&&(n._current(n._cachedCurrent),r(n.list.content.find("table"),!0)),delete n._cachedCurrent;};for(t=0;d.length>t;t++){e=d[t],e.field===this.resources.field&&"function"!=typeof e.editor&&(e.editor=A(this._createResourceEditor,this));}this.list=new m.ui.GanttList(s,c),this.list.bind("render",function(){n._navigatable();},!0).bind("edit",function(e){n._cachedCurrent=e.cell,n.trigger("edit",{task:e.model,container:e.cell})&&e.preventDefault();}).bind("cancel",function(e){n.trigger("cancel",{task:e.model,container:e.cell})&&e.preventDefault(),u();}).bind("update",function(e){n._updateTask(e.task,e.updateInfo),u();}).bind("change",function(){n.trigger("change");var e=n.list.select();e.length?(l.removeAttr("data-action","add"),n.timeline.select("[data-uid='"+e.attr("data-uid")+"']")):(l.attr("data-action","add"),n.timeline.clearSelection());}).bind("columnResize",function(e){n.trigger("columnResize",{column:e.column,oldWidth:e.oldWidth,newWidth:e.newWidth});});},_timeline:function _timeline(){var e=this,n=p.styles,o=i(E(!0,{resourcesField:this.resources.field},this.options)),r=this.wrapper.find(j+n.timeline+" > div"),a=j+n.toolbar.currentView+" > "+j+n.toolbar.link;this.timeline=new m.ui.GanttTimeline(r,o),this.timeline.bind("navigate",function(t){var i=t.view.replace(/\./g,"\\.").toLowerCase(),o=e.toolbar.find(j+n.toolbar.views+" > li").removeClass(n.selected).end().find(j+n.toolbar.viewButton+"-"+i).addClass(n.selected).find(j+n.toolbar.link).text();e.toolbar.find(a).text(o),e.refresh();}).bind("moveStart",function(n){var i=e.list.editable;return i&&i.trigger("validate")?(n.preventDefault(),t):(e.trigger("moveStart",{task:n.task})&&n.preventDefault(),t);}).bind("move",function(t){var n=t.task,i=t.start,o=new Date(i.getTime()+n.duration());e.trigger("move",{task:n,start:i,end:o})&&t.preventDefault();}).bind("moveEnd",function(t){var n=t.task,i=t.start,o=new Date(i.getTime()+n.duration());e.trigger("moveEnd",{task:n,start:i,end:o})||e._updateTask(e.dataSource.getByUid(n.uid),{start:i,end:o});}).bind("resizeStart",function(n){var i=e.list.editable;return i&&i.trigger("validate")?(n.preventDefault(),t):(e.trigger("resizeStart",{task:n.task})&&n.preventDefault(),t);}).bind("resize",function(t){e.trigger("resize",{task:t.task,start:t.start,end:t.end})&&t.preventDefault();}).bind("resizeEnd",function(t){var n=t.task,i={};t.resizeStart?i.start=t.start:i.end=t.end,e.trigger("resizeEnd",{task:n,start:t.start,end:t.end})||e._updateTask(e.dataSource.getByUid(n.uid),i);}).bind("percentResizeStart",function(t){var n=e.list.editable;n&&n.trigger("validate")&&t.preventDefault();}).bind("percentResizeEnd",function(t){e._updateTask(e.dataSource.getByUid(t.task.uid),{percentComplete:t.percentComplete});}).bind("dependencyDragStart",function(t){var n=e.list.editable;n&&n.trigger("validate")&&t.preventDefault();}).bind("dependencyDragEnd",function(t){var n=e.dependencies._createNewModel({type:t.type,predecessorId:t.predecessor.id,successorId:t.successor.id});e._createDependency(n);}).bind("select",function(t){var n=e.list.editable;n&&n.trigger("validate"),e.select("[data-uid='"+t.uid+"']");}).bind("editTask",function(t){var n=e.list.editable;n&&n.trigger("validate")||e.editTask(t.uid);}).bind("clear",function(){e.clearSelection();}).bind("removeTask",function(t){var n=e.list.editable;n&&n.trigger("validate")||e.removeTask(e.dataSource.getByUid(t.uid));}).bind("removeDependency",function(t){var n=e.list.editable;n&&n.trigger("validate")||e.removeDependency(e.dependencies.getByUid(t.uid));});},_dataSource:function _dataSource(){var e=this.options,t=e.dataSource;t=S(t)?{data:t}:t,this.dataSource&&this._refreshHandler?this.dataSource.unbind("change",this._refreshHandler).unbind("progress",this._progressHandler).unbind("error",this._errorHandler):(this._refreshHandler=A(this.refresh,this),this._progressHandler=A(this._requestStart,this),this._errorHandler=A(this._error,this)),this.dataSource=m.data.GanttDataSource.create(t).bind("change",this._refreshHandler).bind("progress",this._progressHandler).bind("error",this._errorHandler);},_dependencies:function _dependencies(){var e=this.options.dependencies||{},t=S(e)?{data:e}:e;this.dependencies&&this._dependencyRefreshHandler?this.dependencies.unbind("change",this._dependencyRefreshHandler).unbind("error",this._dependencyErrorHandler):(this._dependencyRefreshHandler=A(this.refreshDependencies,this),this._dependencyErrorHandler=A(this._error,this)),this.dependencies=m.data.GanttDependencyDataSource.create(t).bind("change",this._dependencyRefreshHandler).bind("error",this._dependencyErrorHandler);},_resources:function _resources(){var e=this.options.resources,t=e.dataSource||{};this.resources={field:"resources",dataTextField:"name",dataColorField:"color",dataFormatField:"format"},E(this.resources,e),this.resources.dataSource=m.data.DataSource.create(t);},_assignments:function _assignments(){var e=this.options.assignments,t=e.dataSource||{};this.assignments?this.assignments.dataSource.unbind("change",this._assignmentsRefreshHandler):this._assignmentsRefreshHandler=A(this.refresh,this),this.assignments={dataTaskIdField:"taskId",dataResourceIdField:"resourceId",dataValueField:"value"},E(this.assignments,e),this.assignments.dataSource=m.data.DataSource.create(t),this.assignments.dataSource.bind("change",this._assignmentsRefreshHandler);},_createEditor:function _createEditor(){var e=this,n=this._editor=new h(this.wrapper,E({},this.options,{target:this,resources:{field:this.resources.field,editor:A(this._createResourceEditor,this)},createButton:A(this._createPopupButton,this)}));n.bind("cancel",function(n){var i=e.dataSource.getByUid(n.model.uid);return e.trigger("cancel",{container:n.container,task:i})?(n.preventDefault(),t):(e.cancelTask(),t);}).bind("edit",function(t){var n=e.dataSource.getByUid(t.model.uid);e.trigger("edit",{container:t.container,task:n})&&t.preventDefault();}).bind("save",function(t){var n=e.dataSource.getByUid(t.model.uid);e.saveTask(n,t.updateInfo);}).bind("remove",function(t){e.removeTask(t.model.uid);}).bind("close",e._onDialogClose);},_onDialogClose:function _onDialogClose(){},_createResourceEditor:function _createResourceEditor(e,t){var n=this,i=t instanceof k?t:t.model,o=i.get("id"),r=this.options.messages,a=n.resources.field,s=this._resourceEditor=new f(e,{resourcesField:a,data:this._wrapResourceData(o),model:i,messages:E({},r.editor),buttons:[{name:"update",text:r.save,className:p.styles.primary},{name:"cancel",text:r.cancel}],createButton:A(this._createPopupButton,this),save:function save(e){n._updateAssignments(e.model.get("id"),e.model.get(a));}});s.open();},_createPopupButton:function _createPopupButton(e){var t=e.name||e.text,n={className:p.styles.popup.button+" k-gantt-"+(t||"").replace(/\s/g,""),text:t,attr:""};if(!(t||R(e)&&e.template))throw Error("Custom commands should have name specified");return R(e)&&(e.className&&(e.className+=" "+n.className),n=E(!0,n,e)),m.template(K)(n);},view:function view(e){return this.timeline.view(e);},dataItem:function dataItem(e){var t,n;return e?(t=this.list,n=t.content.find(e),t._modelFromElement(n)):null;},setDataSource:function setDataSource(e){this.options.dataSource=e,this._dataSource(),this.list._setDataSource(this.dataSource),this.options.autoBind&&e.fetch();},setDependenciesDataSource:function setDependenciesDataSource(e){this.options.dependencies=e,this._dependencies(),this.options.autoBind&&e.fetch();},items:function items(){return this.wrapper.children(".k-task");},_updateAssignments:function _updateAssignments(e,t){for(var n,i,o,r,a,s,l,c=this.assignments.dataSource,d=this.assignments.dataTaskIdField,u=this.assignments.dataResourceIdField,h=!1,f=new C(c.view()).filter({field:d,operator:"eq",value:e}).toArray();f.length;){for(n=f[0],r=0,a=t.length;a>r;r++){if(i=t[r],n.get(u)===i.get("id")){o=t[r].get("value"),this._updateAssignment(n,o),t.splice(r,1),h=!0;break;}}h||this._removeAssignment(n),h=!1,f.shift();}for(s=0,l=t.length;l>s;s++){i=t[s],this._createAssignment(i,e);}c.sync();},cancelTask:function cancelTask(){var e=this._editor,t=e.container;t&&e.close();},editTask:function editTask(e){var t,n="string"==typeof e?this.dataSource.getByUid(e):e;n&&(t=this.dataSource._createNewModel(n.toJSON()),t.uid=n.uid,this.cancelTask(),this._editTask(t));},_editTask:function _editTask(e){this._editor.editTask(e);},saveTask:function saveTask(e,t){var n=this._editor,i=n.container,o=n.editable;i&&o&&o.end()&&this._updateTask(e,t);},_updateTask:function _updateTask(e,t){var n=this.resources.field;this.trigger("save",{task:e,values:t})||(this._preventRefresh=!0,this.dataSource.update(e,t),t[n]&&this._updateAssignments(e.get("id"),t[n]),this._syncDataSource());},_updateAssignment:function _updateAssignment(e,t){var n=this.assignments.dataValueField;e.set(n,t);},removeTask:function removeTask(e){var t=this,n="string"==typeof e?this.dataSource.getByUid(e):e;n&&this._taskConfirm(function(e){e||t._removeTask(n);},n);},_createTask:function _createTask(e,n){if(!this.trigger("add",{task:e,dependency:null})){var i=this.dataSource;this._preventRefresh=!0,n===t?i.add(e):i.insert(n,e),this._scrollToUid=e.uid,this._syncDataSource();}},_createDependency:function _createDependency(e){this.trigger("add",{task:null,dependency:e})||(this._preventDependencyRefresh=!0,this.dependencies.add(e),this._preventDependencyRefresh=!1,this.dependencies.sync());},_createAssignment:function _createAssignment(e,t){var n=this.assignments,i=n.dataSource,o=n.dataTaskIdField,r=n.dataResourceIdField,a=n.dataValueField,s=i._createNewModel();s[o]=t,s[r]=e.get("id"),s[a]=e.get("value"),i.add(s);},removeDependency:function removeDependency(e){var t=this,n="string"==typeof e?this.dependencies.getByUid(e):e;n&&this._dependencyConfirm(function(e){e||t._removeDependency(n);},n);},_removeTaskDependencies:function _removeTaskDependencies(e,t){this._preventDependencyRefresh=!0;for(var n=0,i=t.length;i>n;n++){this.dependencies.remove(t[n]);}this._preventDependencyRefresh=!1,this.dependencies.sync();},_removeTaskAssignments:function _removeTaskAssignments(e){var t,n,i=this.assignments.dataSource,o=i.view(),r={field:this.assignments.dataTaskIdField,operator:"eq",value:e.get("id")};for(o=new C(o).filter(r).toArray(),this._preventRefresh=!0,t=0,n=o.length;n>t;t++){i.remove(o[t]);}this._preventRefresh=!1,i.sync();},_removeTask:function _removeTask(e){var t=this.dependencies.dependencies(e.id);this.trigger("remove",{task:e,dependencies:t})||(this._removeTaskDependencies(e,t),this._removeTaskAssignments(e),this._preventRefresh=!0,this.dataSource.remove(e)&&this._syncDataSource(),this._preventRefresh=!1);},_removeDependency:function _removeDependency(e){this.trigger("remove",{task:null,dependencies:[e]})||this.dependencies.remove(e)&&this.dependencies.sync();},_removeAssignment:function _removeAssignment(e){this.assignments.dataSource.remove(e);},_taskConfirm:function _taskConfirm(e,t){var n=this.options.messages;this._confirm(e,{model:t,text:n.deleteTaskConfirmation,title:n.deleteTaskWindowTitle});},_dependencyConfirm:function _dependencyConfirm(e,t){var n=this.options.messages;this._confirm(e,{model:t,text:n.deleteDependencyConfirmation,title:n.deleteDependencyWindowTitle});},_confirm:function _confirm(e,t){var n,i,o=this.options.editable;o===!0||o.confirmation!==!1?(n=this.options.messages,i=[{name:"delete",text:n.destroy,className:p.styles.primary,click:function click(){e();}},{name:"cancel",text:n.cancel,click:function click(){e(!0);}}],this.showDialog(E(!0,{},t,{buttons:i}))):e();},showDialog:function showDialog(e){this._editor.showDialog(e);},refresh:function refresh(){var e,t,i,o,r,a;this._preventRefresh||this.list.editable||(this._progress(!1),e=this.dataSource,t=e.taskTree(),i=this._scrollToUid,a=-1,this.current&&(r=this.current.closest("tr").attr(m.attr("uid")),a=this.current.index()),this.trigger("dataBinding")||(0!==this.resources.dataSource.data().length&&this._assignResources(t),this._editor&&this._editor.close(),this.clearSelection(),this.list._render(t),this.timeline._render(t),this.timeline._renderDependencies(this.dependencies.view()),i&&(this._scrollTo(i),this.select(n(i))),(i||r)&&a>=0&&(o=this.list.content.find("tr"+n(i||r)+" > td:eq("+a+")"),this._current(o)),this._scrollToUid=null,this.trigger("dataBound")));},refreshDependencies:function refreshDependencies(){this._preventDependencyRefresh||this.trigger("dataBinding")||(this.timeline._renderDependencies(this.dependencies.view()),this.trigger("dataBound"));},_assignResources:function _assignResources(e){var t,n,i=this.resources,o=this.assignments,r=function r(){var e=o.dataSource.view(),t={field:o.dataTaskIdField};return e=new C(e).group(t).toArray();},a=r(),s=function s(e,t){var n,o,r=e.get("id");for(m.setter(i.field)(e,new x([])),n=0,o=a.length;o>n;n++){a[n].value===r&&t(e,a[n].items);}},l=function l(e,t){var n,r,a,s,l,c,d,u;for(n=0,r=t.length;r>n;n++){a=t[n],s=i.dataSource.get(a.get(o.dataResourceIdField)),l=a.get(o.dataValueField),c=a.get(o.dataResourceIdField),d=s.get(i.dataFormatField)||z,u=m.toString(l,d),e[i.field].push(new k({id:c,name:s.get(i.dataTextField),color:s.get(i.dataColorField),value:l,formatedValue:u}));}};for(t=0,n=e.length;n>t;t++){s(e[t],l);}},_wrapResourceData:function _wrapResourceData(e){var t,n,i,o=this,r=[],a=this.resources.dataSource.view(),s=this.assignments.dataSource.view(),l=new C(s).filter({field:o.assignments.dataTaskIdField,operator:"eq",value:e}).toArray(),c=function c(e){var t=null;return new C(l).filter({field:o.assignments.dataResourceIdField,operator:"eq",value:e}).select(function(e){t+=e.get(o.assignments.dataValueField);}),t;};for(n=0,i=a.length;i>n;n++){t=a[n],r.push({id:t.get("id"),name:t.get(o.resources.dataTextField),format:t.get(o.resources.dataFormatField)||z,value:c(t.id)});}return r;},_syncDataSource:function _syncDataSource(){this._preventRefresh=!1,this._requestStart(),this.dataSource.sync();},_requestStart:function _requestStart(){this._progress(!0);},_error:function _error(){this._progress(!1);},_progress:function _progress(e){m.ui.progress(this.element,e);},_resizable:function _resizable(){var t,n,i,o=this,r=this.wrapper,a=p.styles,s=j+a.gridContent,l=r.find(j+a.list),c=r.find(j+a.timeline);this._resizeDraggable=r.find(j+a.splitBar).height(l.height()).hover(function(){e(this).addClass(a.splitBarHover);},function(){e(this).removeClass(a.splitBarHover);}).end().kendoResizable({orientation:"horizontal",handle:j+a.splitBar,start:function start(){t=l.width(),n=c.width(),i=c.find(s).scrollLeft();},resize:function resize(e){var a=e.x.initialDelta;m.support.isRtl(r)&&(a*=-1),0>t+a||0>n-a||(l.width(t+a),c.width(n-a),c.find(s).scrollLeft(i+a),o.timeline.view()._renderCurrentTime());}}).data("kendoResizable");},_scrollable:function _scrollable(){var t=this,n=p.styles,i=j+n.gridContent,o=j+n.gridHeaderWrap,r=this.timeline.element.find(o),a=this.timeline.element.find(i),s=this.list.element.find(o),l=this.list.element.find(i);_&&l.css("overflow-y","auto"),a.on("scroll",function(){t.scrollTop=this.scrollTop,r.scrollLeft(this.scrollLeft),l.scrollTop(this.scrollTop);}),l.on("scroll",function(){s.scrollLeft(this.scrollLeft);}).on("DOMMouseScroll"+P+" mousewheel"+P,function(t){var n=a.scrollTop(),i=m.wheelDeltaY(t);i&&(t.preventDefault(),e(t.currentTarget).one("wheel"+P,!1),a.scrollTop(n+-i));});},_navigatable:function _navigatable(){var i,o=this,a=this.options.navigatable,s=this.options.editable,l=this.list.header.find("table"),c=this.list.content.find("table"),d=p.styles,u=m.support.isRtl(this.wrapper),h=this.timeline.element.find(j+d.gridContent),f=l.add(c),g=n(),v={collapse:!1,expand:!0},_=function _(e){var t=o.timeline.view()._timeSlots()[0].offsetWidth;h.scrollLeft(h.scrollLeft()+(e?-t:t));},b=function b(e){var t=o.current.parent("tr"+n()),i=o.current.index(),a=t[e]();0!==o.select().length&&o.clearSelection(),0!==a.length?(o._current(a.children("td:eq("+i+")")),o._scrollTo(o.current)):o.current.is("td")&&"prev"==e?r(l):o.current.is("th")&&"next"==e&&r(c);},w=function w(e){var t=o.current[e]();0!==t.length&&(o._current(t),i=o.current.index());},y=function y(e){var t=o.dataItem(o.current);t.summary&&t.expanded!==e&&t.set("expanded",e);},k=function k(){var e,t;o.options.editable&&!o.list.editable&&(e=o.select(),t=m.attr("uid"),e.length&&o.removeTask(e.attr(t)));};return e(this.wrapper).on("mousedown"+P,"tr"+g+", div"+g+":not("+j+d.line+")",function(t){var i,l=e(t.currentTarget),c=e(t.target).is(":button,a,:input,a>.k-icon,textarea,span.k-icon,span.k-link,.k-input,.k-multiselect-wrap");t.ctrlKey||(a&&(i=l.is("tr")?e(t.target).closest("td"):o.list.content.find("tr"+n(l.attr(m.attr("uid")))+" > td:first"),o._current(i)),!a&&!s||c||(o._focusTimeout=setTimeout(function(){r(o.list.content.find("table"),!0);},2)));}),a!==!0?(c.on("keydown"+P,function(e){e.keyCode==F.DELETE&&k();}),t):(f.on("focus"+P,function(){var t=this===c.get(0)?"td":"th",n=o.select(),r=o.current||e(n.length?n:this).find(t+":eq("+(i||0)+")");o._current(r);}).on("blur"+P,function(){o._current(),this==l&&e(this).attr(B,-1);}).on("keydown"+P,function(t){var n,i=t.keyCode;if(o.current)switch(n=o.current.is("td"),i){case F.RIGHT:t.preventDefault(),t.altKey?_():t.ctrlKey?y(u?v.collapse:v.expand):w(u?"prev":"next");break;case F.LEFT:t.preventDefault(),t.altKey?_(!0):t.ctrlKey?y(u?v.expand:v.collapse):w(u?"next":"prev");break;case F.UP:t.preventDefault(),b("prev");break;case F.DOWN:t.preventDefault(),b("next");break;case F.SPACEBAR:t.preventDefault(),n&&o.select(o.current.closest("tr"));break;case F.ENTER:t.preventDefault(),n?o.options.editable&&(o._cachedCurrent=o.current,o.list._startEditHandler(o.current),e(this).one("keyup",function(e){e.stopPropagation();})):o.current.children("a.k-link").click();break;case F.ESC:t.stopPropagation();break;case F.DELETE:n&&k();break;default:i>=49&&57>=i&&o.view(o.timeline._viewByIndex(i-49));}}),t);},_current:function _current(t){var n,i=p.styles;this.current&&this.current.length&&this.current.removeClass(i.focused).removeAttr("id"),t&&t.length?(this.current=t.addClass(i.focused).attr("id",U),n=e(m._activeElement()),n.is("table")&&this.wrapper.find(n).length>0&&n.removeAttr(V).attr(V,U)):this.current=null;},_dataBind:function _dataBind(){var t,n=this;n.options.autoBind&&(this._preventRefresh=!0,this._preventDependencyRefresh=!0,t=e.map([this.dataSource,this.dependencies,this.resources.dataSource,this.assignments.dataSource],function(e){return e.fetch();}),e.when.apply(null,t).done(function(){n._preventRefresh=!1,n._preventDependencyRefresh=!1,n.refresh();}));},_resize:function _resize(){this._adjustDimensions(),this.timeline.view()._adjustHeight(),this.timeline.view()._renderCurrentTime(),this.list._adjustHeight();}}),m.PDFMixin&&(m.PDFMixin.extend(p.fn),p.fn._drawPDF=function(){var e=p.styles,t="."+e.list,n=this.wrapper.find(t).width(),i=this.wrapper.clone();return i.find(t).css("width",n),this._drawPDFShadow({content:i},{avoidLinks:this.options.pdf.avoidLinks});}),m.ui.plugin(p),E(!0,p,{styles:te});}(window.kendo.jQuery),window.kendo;},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("kendo.treelist.min",["kendo.dom.min","kendo.data.min","kendo.columnsorter.min","kendo.editable.min","kendo.window.min","kendo.filtermenu.min","kendo.selectable.min","kendo.resizable.min","kendo.treeview.draganddrop.min"],e);}(function(){return function(e,t){function n(e){return function(t){return t[e];};}function i(e){return function(t){return!e(t);};}function o(){return"none"!==this.style.display;}function r(n){var i,o=n.find(">tr:not(.k-filter-row)"),r=function r(){var t=e(this);return!t.hasClass("k-group-cell")&&!t.hasClass("k-hierarchy-cell");},a=e();return o.length>1&&(a=o.find("th").filter(r).filter(function(){return this.rowSpan>1;})),a=a.add(o.last().find("th").filter(r)),i=kendo.attr("index"),a.sort(function(n,o){var r,a;return n=e(n),o=e(o),r=n.attr(i),a=o.attr(i),r===t&&(r=e(n).index()),a===t&&(a=e(o).index()),r=parseInt(r,10),a=parseInt(a,10),r>a?1:a>r?-1:0;}),a;}function a(e){var t,n,i=[],o=e.className;for(t=0,n=e.level;n>t;t++){i.push(g("span",{className:o}));}return i;}function s(e){var t,n,i,o=0;for(n=0,i=e.length;i>n;n++){t=e[n].style.width,t&&-1==t.indexOf("%")&&(o+=parseInt(t,10));}return o;}function l(e,t){var n,i,o,r;e=e[0],t=t[0],e.rows.length!==t.rows.length&&(n=e.offsetHeight,i=t.offsetHeight,n>i?(o=t.rows[t.rows.length-1],r=n-i):(o=e.rows[e.rows.length-1],r=i-n),o.style.height=o.offsetHeight+r+"px");}var c,d,u,h,f=kendo.data,p=e.extend,m=kendo.dom,g=m.element,v=m.text,_=m.html,b=kendo.ui,w=b.DataBoundWidget,y=f.DataSource,k=f.ObservableArray,x=f.Query,C=f.Model,S=e.proxy,T=e.map,D=e.grep,A=e.inArray,E=e.isPlainObject,R=Array.prototype.push,I="string",F="change",M="error",P="progress",z=".",B=".kendoTreeList",L="click",H="mousedown",N="edit",O="save",V="expand",U="collapse",W="remove",j="dataBinding",q="dataBound",G="cancel",$="filterMenuInit",Y="columnHide",K="columnShow",Q="th.k-header",X="columnReorder",J="columnResize",Z="columnMenuInit",ee="columnLock",te="columnUnlock",ne="parentId",ie="dragstart",oe="drag",re="drop",ae="dragend",se={wrapper:"k-treelist k-grid k-widget",header:"k-header",button:"k-button",alt:"k-alt",editCell:"k-edit-cell",group:"k-treelist-group",gridToolbar:"k-grid-toolbar",gridHeader:"k-grid-header",gridHeaderWrap:"k-grid-header-wrap",gridContent:"k-grid-content",gridContentWrap:"k-grid-content",gridFilter:"k-grid-filter",footerTemplate:"k-footer-template",loading:"k-loading",refresh:"k-i-refresh",retry:"k-request-retry",selected:"k-state-selected",status:"k-status",link:"k-link",withIcon:"k-with-icon",filterable:"k-filterable",icon:"k-icon",iconFilter:"k-filter",iconCollapse:"k-i-collapse",iconExpand:"k-i-expand",iconHidden:"k-i-none",iconPlaceHolder:"k-icon k-i-none",input:"k-input",dropPositions:"k-insert-top k-insert-bottom k-add k-insert-middle",dropTop:"k-insert-top",dropBottom:"k-insert-bottom",dropAdd:"k-add",dropMiddle:"k-insert-middle",dropDenied:"k-denied",dragStatus:"k-drag-status",dragClue:"k-drag-clue",dragClueText:"k-clue-text"},le={create:{imageClass:"k-add",className:"k-grid-add",methodName:"addRow"},createchild:{imageClass:"k-add",className:"k-grid-add",methodName:"addRow"},destroy:{imageClass:"k-delete",className:"k-grid-delete",methodName:"removeRow"},edit:{imageClass:"k-edit",className:"k-grid-edit",methodName:"editRow"},update:{imageClass:"k-update",className:"k-primary k-grid-update",methodName:"saveRow"},canceledit:{imageClass:"k-cancel",className:"k-grid-cancel",methodName:"_cancelEdit"},excel:{imageClass:"k-i-excel",className:"k-grid-excel",methodName:"saveAsExcel"},pdf:{imageClass:"k-i-pdf",className:"k-grid-pdf",methodName:"saveAsPDF"}},ce=C.define({id:"id",parentId:ne,fields:{id:{type:"number"},parentId:{type:"number",nullable:!0}},init:function init(e){C.fn.init.call(this,e),this._loaded=!1,this.parentIdField||(this.parentIdField=ne),this.parentId=this.get(this.parentIdField);},accept:function accept(e){C.fn.accept.call(this,e),this.parentId=this.get(this.parentIdField);},set:function set(e,t,n){e==ne&&this.parentIdField!=ne&&(this[this.parentIdField]=t),C.fn.set.call(this,e,t,n),e==this.parentIdField&&(this.parentId=this.get(this.parentIdField));},loaded:function loaded(e){return e===t?this._loaded:(this._loaded=e,t);},shouldSerialize:function shouldSerialize(e){return C.fn.shouldSerialize.call(this,e)&&"_loaded"!==e&&"_error"!=e&&"_edit"!=e&&!("parentId"!==this.parentIdField&&"parentId"===e);}});ce.parentIdField=ne,ce.define=function(e,n){var i,o;return n===t&&(n=e,e=ce),i=n.parentId||ne,n.parentIdField=i,o=C.define(e,n),i&&(o.parentIdField=i),o;},c=y.extend({init:function init(e){y.fn.init.call(this,p(!0,{},{schema:{modelBase:ce,model:ce}},e));},_createNewModel:function _createNewModel(e){var t={},n=e instanceof C;return n&&(t=e),t=y.fn._createNewModel.call(this,t),n||(e.parentId&&(e[t.parentIdField]=e.parentId),t.accept(e)),t;},_shouldWrap:function _shouldWrap(){return!0;},_push:function _push(e,t){var n=y.fn._readData.call(this,e);n||(n=e),this[t](n);},_readData:function _readData(e){var t=this.data();return e=y.fn._readData.call(this,e),this._replaceData(t.toJSON().concat(e),t),e instanceof k?e:t;},_replaceData:function _replaceData(e,t){var n,i=e.length;for(n=0;i>n;n++){t[n]=e[n];}t.length=i;},_readAggregates:function _readAggregates(e){var t=p(this._aggregateResult,this.reader.aggregates(e));return""in t&&(t[this._defaultParentId()]=t[""],delete t[""]),t;},remove:function remove(e){var t=this._subtree(this._childrenMap(this.data()),e.id);this._removeItems(t),y.fn.remove.call(this,e);},_filterCallback:function _filterCallback(e){var t,n,i={},o=[],r=e.toArray();for(t=0;r.length>t;t++){for(n=r[t];n&&(i[n.id]||(i[n.id]=!0,o.push(n)),!i[n.parentId]);){i[n.parentId]=!0,n=this.parentNode(n),n&&o.push(n);}}return new x(o);},_subtree:function _subtree(e,t){var n,i,o=e[t]||[],r=this._defaultParentId();for(n=0,i=o.length;i>n;n++){o[n].id!==r&&(o=o.concat(this._subtree(e,o[n].id)));}return o;},_childrenMap:function _childrenMap(e){var t,n,i,o,r={};for(e=this._observeView(e),t=0;e.length>t;t++){n=e[t],i=n.id,o=n.parentId,r[i]=r[i]||[],r[o]=r[o]||[],r[o].push(n);}return r;},_calculateAggregates:function _calculateAggregates(e,t){var n,i,o,r,a,s;for(t=t||{},n={},a=t.filter,a&&(e=x.process(e,{filter:a,filterCallback:S(this._filterCallback,this)}).data),s=this._childrenMap(e),n[this._defaultParentId()]=new x(this._subtree(s,this._defaultParentId())).aggregate(t.aggregate),r=0;e.length>r;r++){i=e[r],o=this._subtree(s,i.id),n[i.id]=new x(o).aggregate(t.aggregate);}return n;},_queryProcess:function _queryProcess(e,t){var n,i,o,r,a,s,l;for(t=t||{},t.filterCallback=S(this._filterCallback,this),n=this._defaultParentId(),i=x.process(e,t),o=this._childrenMap(i.data),e=o[n]||[],a=0;e.length>a;a++){s=e[a],s.id!==n&&(l=o[s.id],r=!(!l||!l.length),s.loaded()||s.loaded(r||!s.hasChildren),(s.loaded()||s.hasChildren!==!0)&&(s.hasChildren=r),r&&(e=e.slice(0,a+1).concat(l,e.slice(a+1))));}return i.data=e,i;},_queueRequest:function _queueRequest(e,t){t.call(this);},_modelLoaded:function _modelLoaded(e){var t=this.get(e);t.loaded(!0),t.hasChildren=this.childNodes(t).length>0;},_modelError:function _modelError(e,t){this.get(e)._error=t;},success:function success(e,n){return n&&t!==n.id||(this._data=this._observe([])),y.fn.success.call(this,e,n);},load:function load(t){var n="_query",i=this.options.serverSorting||this.options.serverPaging||this.options.serverFiltering||this.options.serverGrouping||this.options.serverAggregates,o=e.Deferred().resolve().promise();if(t.loaded()){if(i)return o;}else t.hasChildren&&(n="read");return this[n]({id:t.id}).then(S(this._modelLoaded,this,t.id),S(this._modelError,this,t.id));},contains:function contains(e,t){for(var n=e.id;t;){if(t.parentId===n)return!0;t=this.parentNode(t);}return!1;},_byParentId:function _byParentId(e,t){var n,i,o=[],r=this.view();if(e===t)return[];for(i=0;r.length>i;i++){n=r.at(i),n.parentId==e&&o.push(n);}return o;},_defaultParentId:function _defaultParentId(){return this.reader.model.fn.defaults[this.reader.model.parentIdField];},childNodes:function childNodes(e){return this._byParentId(e.id,this._defaultParentId());},rootNodes:function rootNodes(){return this._byParentId(this._defaultParentId());},parentNode:function parentNode(e){return this.get(e.parentId);},level:function level(e){var t=-1;e instanceof ce||(e=this.get(e));do{e=this.parentNode(e),t++;}while(e);return t;},filter:function filter(e){var n=y.fn.filter;return e===t?n.call(this,e):(n.call(this,e),t);}}),c.create=function(t){return e.isArray(t)?t={data:t}:t instanceof k&&(t={data:t.toJSON()}),t instanceof c?t:new c(t);},d=kendo.Observable.extend({init:function init(e,t){kendo.Observable.fn.init.call(this),t=this.options=p(!0,{},this.options,t),this.element=e,this.bind(this.events,t),this.model=this.options.model,this.fields=this._fields(this.options.columns),this._initContainer(),this.createEditable();},events:[],_initContainer:function _initContainer(){this.wrapper=this.element;},createEditable:function createEditable(){var e=this.options;this.editable=new b.Editable(this.wrapper,{fields:this.fields,target:e.target,clearContainer:e.clearContainer,model:this.model});},_isEditable:function _isEditable(e){return e.field&&this.model.editable(e.field);},_fields:function _fields(e){var t,n,i,o=[];for(t=0,n=e.length;n>t;t++){i=e[t],this._isEditable(i)&&o.push({field:i.field,format:i.format,editor:i.editor});}return o;},end:function end(){return this.editable.end();},close:function close(){this.destroy();},destroy:function destroy(){this.editable.destroy(),this.editable.element.find("["+kendo.attr("container-for")+"]").empty().end().removeAttr(kendo.attr("role")),this.model=this.wrapper=this.element=this.columns=this.editable=null;}}),u=d.extend({init:function init(e,t){d.fn.init.call(this,e,t),this._attachHandlers(),kendo.cycleForm(this.wrapper),this.open();},events:[G,O],options:{window:{modal:!0,resizable:!1,draggable:!0,title:"Edit",visible:!1}},_initContainer:function _initContainer(){var t=this.options,n=[];this.wrapper=e('<div class="k-popup-edit-form"/>').attr(kendo.attr("uid"),this.model.uid).append('<div class="k-edit-form-container"/>'),t.template?(this._appendTemplate(n),this.fields=[]):this._appendFields(n),this._appendButtons(n),new m.Tree(this.wrapper.children()[0]).render(n),this.wrapper.appendTo(t.appendTo),this.window=new b.Window(this.wrapper,t.window);},_appendTemplate:function _appendTemplate(e){var t=this.options.template;(typeof t==="undefined"?"undefined":_typeof(t))===I&&(t=window.unescape(t)),t=kendo.template(t)(this.model),e.push(_(t));},_appendFields:function _appendFields(e){var t,n,i,o=this.options.columns;for(t=0,n=o.length;n>t;t++){i=o[t],i.command||(e.push(_('<div class="k-edit-label"><label for="'+i.field+'">'+(i.title||i.field||"")+"</label></div>")),e.push(this._isEditable(i)?_("<div "+kendo.attr("container-for")+'="'+i.field+'" class="k-edit-field"></div>'):g("div",{"class":"k-edit-field"},[this.options.fieldRenderer(i,this.model)])));}},_appendButtons:function _appendButtons(e){e.push(g("div",{"class":"k-edit-buttons k-state-default"},this.options.commandRenderer()));},_attachHandlers:function _attachHandlers(){var e=this._cancelProxy=S(this._cancel,this);this.wrapper.on(L+B,".k-grid-cancel",this._cancelProxy),this._saveProxy=S(this._save,this),this.wrapper.on(L+B,".k-grid-update",this._saveProxy),this.window.bind("close",function(t){t.userTriggered&&e(t);});},_dettachHandlers:function _dettachHandlers(){this._cancelProxy=null,this._saveProxy=null,this.wrapper.off(B);},_cancel:function _cancel(e){this.trigger(G,e);},_save:function _save(){this.trigger(O);},open:function open(){this.window.center().open();},close:function close(){this.window.bind("deactivate",S(this.destroy,this)).close();},destroy:function destroy(){this.window.destroy(),this.window=null,this._dettachHandlers(),d.fn.destroy.call(this);}}),h=w.extend({init:function init(t,n){if(w.fn.init.call(this,t,n),this._dataSource(this.options.dataSource),this._columns(),this._layout(),this._selectable(),this._sortable(),this._resizable(),this._filterable(),this._attachEvents(),this._toolbar(),this._scrollable(),this._reorderable(),this._columnMenu(),this._minScreenSupport(),this._draggable(),this.options.autoBind&&this.dataSource.fetch(),this._hasLockedColumns){var i=this;this.wrapper.addClass("k-grid-lockedcolumns"),this._resizeHandler=function(){i.resize();},e(window).on("resize"+B,this._resizeHandler);}kendo.notify(this);},_draggable:function _draggable(){var t=this.options.editable;t&&t.move&&(this._dragging=new kendo.ui.HierarchicalDragAndDrop(this.wrapper,{$angular:this.$angular,autoScroll:!0,filter:"tbody>tr",itemSelector:"tr",allowedContainers:this.wrapper,hintText:function hintText(t){var n=function n(){return e(this).text();},i="<span class='k-header k-drag-separator' />";return t.children("td").map(n).toArray().join(i);},contains:S(function(e,t){var n=this.dataItem(t),i=this.dataItem(e);return i==n||this.dataSource.contains(i,n);},this),itemFromTarget:function itemFromTarget(e){var t=e.closest("tr");return{item:t,content:t};},dragstart:S(function(e){this.wrapper.addClass("k-treelist-dragging");var t=this.dataItem(e);return this.trigger(ie,{source:t});},this),drag:S(function(e){e.source=this.dataItem(e.source),this.trigger(oe,e);},this),drop:S(function(e){return e.source=this.dataItem(e.source),e.destination=this.dataItem(e.destination),this.wrapper.removeClass("k-treelist-dragging"),this.trigger(re,e);},this),dragend:S(function(e){var t=this.dataItem(e.destination),n=this.dataItem(e.source);n.set("parentId",t?t.id:null),e.source=n,e.destination=t,this.trigger(ae,e);},this),reorderable:!1,dropHintContainer:function dropHintContainer(e){return e.children("td:eq(1)");},dropPositionFrom:function dropPositionFrom(e){return e.prevAll(".k-i-none").length>0?"after":"before";}}));},itemFor:function itemFor(e){return"number"==typeof e&&(e=this.dataSource.get(e)),this.tbody.find("["+kendo.attr("uid")+"="+e.uid+"]");},_scrollable:function _scrollable(){var t,n,i;this.options.scrollable&&(t=this.thead.closest(".k-grid-header-wrap"),n=e(this.lockedContent).bind("DOMMouseScroll"+B+" mousewheel"+B,S(this._wheelScroll,this)),this.content.bind("scroll"+B,function(){t.scrollLeft(this.scrollLeft),n.scrollTop(this.scrollTop);}),i=kendo.touchScroller(this.content),i&&i.movable&&(this._touchScroller=i,i.movable.bind("change",function(e){t.scrollLeft(-e.sender.x),n&&n.scrollTop(-e.sender.y);})));},_wheelScroll:function _wheelScroll(t){if(!t.ctrlKey){var n=kendo.wheelDeltaY(t);n&&(t.preventDefault(),e(t.currentTarget).one("wheel"+B,!1),this.content.scrollTop(this.content.scrollTop()+-n));}},_progress:function _progress(){var e=this.options.messages;this.tbody.find("tr").length||this._showStatus(kendo.template("<span class='#= className #' /> #: messages.loading #")({className:se.icon+" "+se.loading,messages:e}));},_error:function _error(e){this.dataSource.rootNodes().length||this._render({error:e});},refresh:function refresh(e){e=e||{},"itemchange"==e.action&&this.editor||this.trigger(j)||(this._cancelEditor(),this._render(),this._adjustHeight(),this.trigger(q));},_angularFooters:function _angularFooters(e){var t,n,i,o=this.dataSource.aggregates(),r=this._footerItems();for(t=0;r.length>t;t++){n=r.eq(t),i=o[n.attr("data-parentId")],this._angularFooter(e,n.find("td").get(),i);}},_angularFooter:function _angularFooter(e,t,n){var i=this.columns;this.angular(e,function(){return{elements:t,data:T(i,function(e){return{column:e,aggregate:n&&n[e.field]};})};});},items:function items(){return this._hasLockedColumns?this._items(this.tbody).add(this._items(this.lockedTable)):this._items(this.tbody);},_items:function _items(t){return t.find("tr").filter(function(){return!e(this).hasClass(se.footerTemplate);});},_footerItems:function _footerItems(){var t=this.tbody;return this._hasLockedColumns&&(t=t.add(this.lockedTable)),t.find("tr").filter(function(){return e(this).hasClass(se.footerTemplate);});},dataItems:function dataItems(){var e,t,n,i=kendo.ui.DataBoundWidget.fn.dataItems.call(this);if(this._hasLockedColumns){for(e=i.length,t=Array(2*e),n=e;--n>=0;){t[n]=t[n+e]=i[n];}i=t;}return i;},_showStatus:function _showStatus(t){var n=this.element.find(".k-status"),i=e(this.content).add(this.lockedContent);n.length||(n=e("<div class='k-status' />").appendTo(this.element)),this._contentTree.render([]),this._hasLockedColumns&&this._lockedContentTree.render([]),i.hide(),n.html(t);},_hideStatus:function _hideStatus(){this.element.find(".k-status").remove(),e(this.content).add(this.lockedContent).show();},_adjustHeight:function _adjustHeight(){var e,t,n=this.element,i=n.find(z+se.gridContentWrap),o=n.find(z+se.gridHeader),r=n.find(z+se.gridToolbar),a=kendo.support.scrollbar();n.height(this.options.height),t=function t(e){var t,n;return e[0].style.height?!0:(t=e.height(),e.height("auto"),n=e.height(),e.height(""),t!=n);},t(n)&&(e=n.height()-o.outerHeight()-r.outerHeight(),i.height(e),this._hasLockedColumns&&(a=this.table[0].offsetWidth>this.table.parent()[0].clientWidth?a:0,this.lockedContent.height(e-a)));},_resize:function _resize(){this._applyLockedContainersWidth(),this._adjustHeight();},_minScreenSupport:function _minScreenSupport(){var t=this.hideMinScreenCols();t&&(this.minScreenResizeHandler=S(this.hideMinScreenCols,this),e(window).on("resize",this.minScreenResizeHandler));},hideMinScreenCols:function hideMinScreenCols(){var e,n,i,o=this.columns,r=!1,a=window.innerWidth>0?window.innerWidth:screen.width;for(e=0;o.length>e;e++){n=o[e],i=n.minScreenWidth,i!==t&&null!==i&&(r=!0,i>a?this.hideColumn(n):this.showColumn(n));}return r;},destroy:function destroy(){w.fn.destroy.call(this);var t=this.dataSource;t.unbind(F,this._refreshHandler),t.unbind(M,this._errorHandler),t.unbind(P,this._progressHandler),this._resizeHandler&&e(window).off("resize"+B,this._resizeHandler),this._dragging&&(this._dragging.destroy(),this._dragging=null),this.resizable&&(this.resizable.destroy(),this.resizable=null),this.reorderable&&(this.reorderable.destroy(),this.reorderable=null),this._draggableInstance&&this._draggableInstance.element&&(this._draggableInstance.destroy(),this._draggableInstance=null),this.minScreenResizeHandler&&e(window).off("resize",this.minScreenResizeHandler),this._destroyEditor(),this.element.off(B),this._touchScroller&&this._touchScroller.destroy(),this._autoExpandable=null,this._refreshHandler=this._errorHandler=this._progressHandler=this._dataSourceFetchProxy=null,this.thead=this.content=this.tbody=this.table=this.element=this.lockedHeader=this.lockedContent=null,this._statusTree=this._headerTree=this._contentTree=this._lockedHeaderColsTree=this._lockedContentColsTree=this._lockedHeaderTree=this._lockedContentTree=null;},options:{name:"TreeList",columns:[],autoBind:!0,scrollable:!0,selectable:!1,sortable:!1,toolbar:null,height:null,columnMenu:!1,messages:{noRows:"No records to display",loading:"Loading...",requestFailed:"Request failed.",retry:"Retry",commands:{edit:"Edit",update:"Update",canceledit:"Cancel",create:"Add new record",createchild:"Add child record",destroy:"Delete",excel:"Export to Excel",pdf:"Export to PDF"}},excel:{hierarchy:!0},resizable:!1,filterable:!1,editable:!1,reorderable:!1},events:[F,N,O,W,V,U,j,q,G,ie,oe,re,ae,$,Y,K,X,J,Z,ee,te],_toggle:function _toggle(n,i){var o=e.Deferred().resolve().promise(),r=n.loaded();return n._error&&(n.expanded=!1,n._error=t),!r&&n.expanded?o:(t===i&&(i=!n.expanded),n.expanded=i,r||(o=this.dataSource.load(n).always(S(function(){this._render(),this._syncLockedContentHeight();},this))),this._render(),this._syncLockedContentHeight(),o);},expand:function expand(e){return this._toggle(this.dataItem(e),!0);},collapse:function collapse(e){return this._toggle(this.dataItem(e),!1);},_toggleChildren:function _toggleChildren(t){var n=e(t.currentTarget),i=this.dataItem(n),o=i.expanded?U:V;this.trigger(o,{model:i})||this._toggle(i),t.preventDefault();},_attachEvents:function _attachEvents(){var e=z+se.iconCollapse+", ."+se.iconExpand+", ."+se.refresh,t=z+se.retry;this.element.on(H+B,e,S(this._toggleChildren,this)).on(L+B,t,this._dataSourceFetchProxy).on(L+B,".k-button[data-command]",S(this._commandClick,this));},_commandByName:function _commandByName(t){var n,i,o,r,a=this.columns,s=e.isArray(this.options.toolbar)?this.options.toolbar:[];if(t=t.toLowerCase(),le[t])return le[t];for(n=0;a.length>n;n++){if(o=a[n].command)for(i=0;o.length>i;i++){if(r=o[i].name,r&&r.toLowerCase()==t)return o[i];}}for(n=0;s.length>n;n++){if(r=s[n].name,r&&r.toLowerCase()==t)return s[n];}},_commandClick:function _commandClick(n){var i=e(n.currentTarget),o=i.attr("data-command"),r=this._commandByName(o),a=i.parentsUntil(this.wrapper,"tr");a=a.length?a:t,r&&(r.methodName?this[r.methodName](a):r.click&&r.click.call(this,n),n.preventDefault());},_ensureExpandableColumn:function _ensureExpandableColumn(){var e,t;this._autoExpandable&&delete this._autoExpandable.expandable,e=D(this.columns,i(n("hidden"))),t=D(e,n("expandable")),this.columns.length&&!t.length&&(this._autoExpandable=e[0],e[0].expandable=!0);},_columns:function _columns(){var e,t=this.options.columns||[];this.columns=T(t,function(e){return e="string"==typeof e?{field:e}:e,p({encoded:!0},e);}),e=this._lockedColumns(),e.length>0&&(this._hasLockedColumns=!0,this.columns=e.concat(this._nonLockedColumns())),this._ensureExpandableColumn(),this._columnTemplates(),this._columnAttributes();},_columnTemplates:function _columnTemplates(){var e,t,n,i=this.columns;for(e=0,t=i.length;t>e;e++){n=i[e],n.template&&(n.template=kendo.template(n.template)),n.headerTemplate&&(n.headerTemplate=kendo.template(n.headerTemplate)),n.footerTemplate&&(n.footerTemplate=kendo.template(n.footerTemplate));}},_columnAttributes:function _columnAttributes(){function t(t){var n,i,o,r;if(t&&t.style)for(n=t.style.split(";"),t.style={},i=0;n.length>i;i++){o=n[i].split(":"),r=e.trim(o[0]),r&&(t.style[e.camelCase(r)]=e.trim(o[1]));}}var n,i,o=this.columns;for(n=0,i=o.length;i>n;n++){t(o[n].attributes),t(o[n].headerAttributes);}},_layout:function _layout(){var e,t,n,i=this.columns,o=this.element,r="";this.wrapper=o.addClass(se.wrapper),r="<div class='#= gridHeader #'>",this._hasLockedColumns&&(r+="<div class='k-grid-header-locked'><table role='grid'><colgroup></colgroup><thead role='rowgroup' /></table></div>"),r+="<div class='#= gridHeaderWrap #'><table role='grid'><colgroup></colgroup><thead role='rowgroup' /></table></div></div>",this._hasLockedColumns&&(r+="<div class='k-grid-content-locked'><table role='treegrid' tabindex='0'><colgroup></colgroup><tbody /></table></div>"),r+="<div class='#= gridContentWrap # k-auto-scrollable'><table role='treegrid' tabindex='0'><colgroup></colgroup><tbody /></table></div>",this.options.scrollable||(r="<table role='treegrid' tabindex='0'><colgroup></colgroup><thead class='#= gridHeader #' role='rowgroup' /><tbody /></table>"),this.options.toolbar&&(r="<div class='#= header # #= gridToolbar #' />"+r),o.append(kendo.template(r)(se)+"<div class='k-status' />"),this.toolbar=o.find(z+se.gridToolbar),e=o.find(z+se.gridHeader).find("thead").addBack().filter("thead"),this.thead=e.last(),this.options.scrollable&&(t=kendo.support.isRtl(o),o.find("div."+se.gridHeader).css(t?"padding-left":"padding-right",kendo.support.scrollbar())),n=o.find(z+se.gridContentWrap),n.length?this.content=n:n=o,this.table=n.find(">table"),this.tbody=this.table.find(">tbody"),this._hasLockedColumns&&(this.lockedHeader=e.first().closest(".k-grid-header-locked"),this.lockedContent=o.find(".k-grid-content-locked"),this.lockedTable=this.lockedContent.children()),this._initVirtualTrees(),this._renderCols(),this._renderHeader(),this.angular("compile",function(){return{elements:e.find("th.k-header").get(),data:T(i,function(e){return{column:e};})};});},_initVirtualTrees:function _initVirtualTrees(){this._headerColsTree=new m.Tree(this.thead.prev()[0]),this._contentColsTree=new m.Tree(this.tbody.prev()[0]),this._headerTree=new m.Tree(this.thead[0]),this._contentTree=new m.Tree(this.tbody[0]),this._statusTree=new m.Tree(this.element.children(".k-status")[0]),this.lockedHeader&&(this._lockedHeaderColsTree=new m.Tree(this.lockedHeader.find("colgroup")[0]),this._lockedContentColsTree=new m.Tree(this.lockedTable.find(">colgroup")[0]),this._lockedHeaderTree=new m.Tree(this.lockedHeader.find("thead")[0]),this._lockedContentTree=new m.Tree(this.lockedTable.find(">tbody")[0]));},_toolbar:function _toolbar(){var t,n=this.options.toolbar,i=this.toolbar;n&&(e.isArray(n)?(t=this._buildCommands(n),new m.Tree(i[0]).render(t)):i.append(kendo.template(n)({})),this.angular("compile",function(){return{elements:i.get()};}));},_lockedColumns:function _lockedColumns(){return D(this.columns,n("locked"));},_nonLockedColumns:function _nonLockedColumns(){return D(this.columns,i(n("locked")));},_templateColumns:function _templateColumns(){return D(this.columns,n("template"));},_flushCache:function _flushCache(){this.options.$angular&&this._templateColumns().length&&(this._contentTree.render([]),this._hasLockedColumns&&this._lockedContentTree.render([]));},_render:function _render(t){var n,i,o,r;t=t||{},n=this.options.messages,i=this.dataSource.rootNodes(),o=kendo.attr("uid"),r=this.select().removeClass("k-state-selected").map(function(t,n){return e(n).attr(o);}),this._absoluteIndex=0,this._angularItems("cleanup"),this._angularFooters("cleanup"),this._flushCache(),t.error?this._showStatus(kendo.template("#: messages.requestFailed # <button class='#= buttonClass #'>#: messages.retry #</button>")({buttonClass:[se.button,se.retry].join(" "),messages:n})):i.length?(this._hideStatus(),this._contentTree.render(this._trs({columns:this._nonLockedColumns(),aggregates:t.aggregates,selected:r,data:i,visible:!0,level:0})),this._hasLockedColumns&&(this._absoluteIndex=0,this._lockedContentTree.render(this._trs({columns:this._lockedColumns(),aggregates:t.aggregates,selected:r,data:i,visible:!0,level:0})))):this._showStatus(kendo.htmlEncode(n.noRows)),this._touchScroller&&this._touchScroller.contentResized(),this._muteAngularRebind(function(){this._angularItems("compile"),this._angularFooters("compile");}),this.items().filter(function(){return e.inArray(e(this).attr(o),r)>=0;}).addClass("k-state-selected"),this._adjustRowsHeight();},_adjustRowsHeight:function _adjustRowsHeight(){var e,t,n,i,o,r,a,s,l,c,d,u,h,f;if(this._hasLockedColumns){for(e=this.table,t=this.lockedTable,n=e[0].rows,i=n.length,r=t[0].rows,a=e.add(t),s=a.length,l=[],c=this.lockedHeader.find("tr"),d=this.thead.find("tr"),c.add(d).height("auto").height(Math.max(c.height(),d.height())),o=0;i>o&&r[o];o++){n[o].style.height&&(n[o].style.height=r[o].style.height="");}for(o=0;i>o&&r[o];o++){u=n[o].offsetHeight,h=r[o].offsetHeight,f=0,u>h?f=u:h>u&&(f=h),l.push(f);}for(o=0;s>o;o++){a[o].style.display="none";}for(o=0;i>o;o++){l[o]&&(n[o].style.height=r[o].style.height=l[o]+1+"px");}for(o=0;s>o;o++){a[o].style.display="";}}},_ths:function _ths(e){var t,n,i,o,r,a,s,l,c=[];for(s=0,l=e.length;l>s;s++){t=e[s],i=[],o=[se.header],n=t.headerTemplate?t.headerTemplate({}):t.title||t.field||"",a=t.headerTemplate?_(n):v(n),i.push(t.sortable?g("a",{href:"#",className:se.link},[a]):a),r={"data-field":t.field,"data-title":t.title,style:t.hidden===!0?{display:"none"}:{},className:o.join(" "),role:"columnheader"},r=p(!0,{},r,t.headerAttributes),c.push(g("th",r,i));}return c;},_cols:function _cols(e){var t,n,i,o=[];for(i=0;e.length>i;i++){e[i].hidden!==!0&&(t=e[i].width,n={},t&&0!==parseInt(t,10)&&(n.style={width:"string"==typeof t?t:t+"px"}),o.push(g("col",n)));}return o;},_renderCols:function _renderCols(){var e=this._nonLockedColumns();this._headerColsTree.render(this._cols(e)),this.options.scrollable&&this._contentColsTree.render(this._cols(e)),this._hasLockedColumns&&(e=this._lockedColumns(),this._lockedHeaderColsTree.render(this._cols(e)),this._lockedContentColsTree.render(this._cols(e)));},_renderHeader:function _renderHeader(){var e=this._nonLockedColumns();this._headerTree.render([g("tr",{role:"row"},this._ths(e))]),this._hasLockedColumns&&(e=this._lockedColumns(),this._lockedHeaderTree.render([g("tr",{role:"row"},this._ths(e))]),this._applyLockedContainersWidth());},_applyLockedContainersWidth:function _applyLockedContainersWidth(){var e,t,n,i,o,r;this._hasLockedColumns&&(e=s(this.lockedHeader.find(">table>colgroup>col")),t=this.thead.parent(),n=s(t.find(">colgroup>col")),i=this.wrapper[0].clientWidth,o=kendo.support.scrollbar(),e>=i&&(e=i-3*o),this.lockedHeader.add(this.lockedContent).width(e),t.add(this.table).width(n),r=i-e-2,this.content.width(r),t.parent().width(r-o));},_trs:function _trs(t){var n,i,o,r,a,s,l,c=[],d=t.level,u=t.data,h=this.dataSource,f=h.aggregates()||{},p=t.columns;for(s=0,l=u.length;l>s;s++){o=[],n=u[s],a=n.loaded()&&h.childNodes(n),r=a&&a.length,i={role:"row"},i[kendo.attr("uid")]=n.uid,r&&(i["aria-expanded"]=!!n.expanded),t.visible?(this._absoluteIndex%2!==0&&o.push(se.alt),this._absoluteIndex++):i.style={display:"none"},e.inArray(n.uid,t.selected)>=0&&o.push(se.selected),r&&o.push(se.group),n._edit&&o.push("k-grid-edit-row"),i.className=o.join(" "),c.push(this._tds({model:n,attr:i,level:d},p,S(this._td,this))),r&&(c=c.concat(this._trs({columns:p,aggregates:f,selected:t.selected,visible:t.visible&&!!n.expanded,data:a,level:d+1})));}return this._hasFooterTemplate()&&(i={className:se.footerTemplate,"data-parentId":n.parentId},t.visible||(i.style={display:"none"}),c.push(this._tds({model:f[n.parentId],attr:i,level:d},p,this._footerTd))),c;},_footerTd:function _footerTd(t){var n=[],i=t.column,o=t.column.footerTemplate||e.noop,r=t.model[i.field]||{},s={role:"gridcell",style:i.hidden===!0?{display:"none"}:{}};return i.expandable&&(n=n.concat(a({level:t.level+1,className:se.iconPlaceHolder}))),i.attributes&&p(s,i.attributes),n.push(_(o(r)||"")),g("td",s,n);},_hasFooterTemplate:function _hasFooterTemplate(){return!!D(this.columns,function(e){return e.footerTemplate;}).length;},_tds:function _tds(e,t,n){var i,o,r,a=[];for(o=0,r=t.length;r>o;o++){i=t[o],a.push(n({model:e.model,column:i,level:e.level}));}return g("tr",e.attr,a);},_td:function _td(e){var t,n=[],i=e.model,o=e.column,r={role:"gridcell",style:o.hidden===!0?{display:"none"}:{}};return i._edit&&o.field&&i.editable(o.field)?r[kendo.attr("container-for")]=o.field:(o.expandable&&(n=a({level:e.level,className:se.iconPlaceHolder}),t=[se.icon],t.push(i.hasChildren?i.expanded?se.iconCollapse:se.iconExpand:se.iconHidden),i._error?t.push(se.refresh):!i.loaded()&&i.expanded&&t.push(se.loading),n.push(g("span",{className:t.join(" ")})),r.style["white-space"]="nowrap"),o.attributes&&p(!0,r,o.attributes),o.command?n=this._buildCommands(i._edit?["update","canceledit"]:o.command):n.push(this._cellContent(o,i))),g("td",r,n);},_cellContent:function _cellContent(e,n){var i;return e.template?i=e.template(n):e.field&&(i=n.get(e.field),null!==i&&e.format&&(i=kendo.format(e.format,i))),null!==i&&t!==i||(i=""),e.template||!e.encoded?_(i):v(i);},_buildCommands:function _buildCommands(e){var t,n=[];for(t=0;e.length>t;t++){n.push(this._button(e[t]));}return n;},_button:function _button(e){var t=(e.name||e).toLowerCase(),n=this.options.messages.commands[t],i=[];return e=p({},le[t],{text:n},e),e.imageClass&&i.push(g("span",{className:["k-icon",e.imageClass].join(" ")})),g("button",{type:"button","data-command":t,className:["k-button k-button-icontext",e.className].join(" ")},i.concat([v(e.text||e.name)]));},_positionResizeHandle:function _positionResizeHandle(n){var i,o,r,a=e(n.currentTarget),s=this.resizeHandle,l=a.position(),c=l.left,d=a.outerWidth(),u=a.closest("div"),h=n.clientX+e(window).scrollLeft(),f=this.options.columnResizeHandleWidth||3;return c+=u.scrollLeft(),s||(s=this.resizeHandle=e('<div class="k-resize-handle"><div class="k-resize-handle-inner" /></div>')),i=a.offset().left+d,(o=h>i-f&&i+f>h)?(u.append(s),s.show().css({top:l.top,left:c+d-f-1,height:a.outerHeight(),width:3*f}).data("th",a),r=this,s.off("dblclick"+B).on("dblclick"+B,function(){var t=a.index();e.contains(r.thead[0],a[0])&&(t+=D(r.columns,function(e){return e.locked&&!e.hidden;}).length),r.autoFitColumn(t);}),t):(s.hide(),t);},autoFitColumn:function autoFitColumn(t){var n,i,a,s,l,c,d,u,h,f,p,m,g,v,_,b,w,y=this,k=y.options,x=y.columns,C=kendo.support.browser,S=y.lockedHeader?r(y.lockedHeader.find(">table>thead")).filter(o).length:0;if(t="number"==typeof t?x[t]:E(t)?D(x,function(e){return e===t;})[0]:D(x,function(e){return e.field===t;})[0],t&&!t.hidden){for(n=A(t,x),s=t.locked,a=s?y.lockedHeader.children("table"):y.thead.parent(),i=a.find("[data-index='"+n+"']"),c=s?y.lockedTable:y.table,d=y.footer||e(),y.footer&&y.lockedContent&&(d=y.footer.children(s?".k-grid-footer-locked":".k-grid-footer-wrap")),u=d.find("table").first(),y.lockedHeader&&S>=n&&!s&&(n-=S),h=0;x.length>h&&x[h]!==t;h++){x[h].hidden&&n--;}if(l=k.scrollable?a.find("col:not(.k-group-col):not(.k-hierarchy-col):eq("+n+")").add(c.children("colgroup").find("col:not(.k-group-col):not(.k-hierarchy-col):eq("+n+")")).add(u.find("colgroup").find("col:not(.k-group-col):not(.k-hierarchy-col):eq("+n+")")):c.children("colgroup").find("col:not(.k-group-col):not(.k-hierarchy-col):eq("+n+")"),f=a.add(c).add(u),p=i.outerWidth(),l.width(""),f.css("table-layout","fixed"),l.width("auto"),f.addClass("k-autofitting"),f.css("table-layout",""),m=Math.ceil(Math.max(i.outerWidth(),c.find("tr").eq(0).children("td:visible").eq(n).outerWidth(),u.find("tr").eq(0).children("td:visible").eq(n).outerWidth())),l.width(m),t.width=m,k.scrollable){for(g=a.find("col"),_=0,b=0,w=g.length;w>b;b+=1){if(v=g[b].style.width,!v||-1!=v.indexOf("%")){_=0;break;}_+=parseInt(v,10);}_&&f.each(function(){this.style.width=_+"px";});}C.msie&&8==C.version&&(f.css("display","inline-table"),setTimeout(function(){f.css("display","table");},1)),f.removeClass("k-autofitting"),y.trigger(J,{column:t,oldWidth:p,newWidth:m}),y._applyLockedContainersWidth(),y._syncLockedContentHeight(),y._syncLockedHeaderHeight();}},_adjustLockedHorizontalScrollBar:function _adjustLockedHorizontalScrollBar(){var e=this.table,t=e.parent(),n=e[0].offsetWidth>t[0].clientWidth?kendo.support.scrollbar():0;this.lockedContent.height(t.height()-n);},_syncLockedContentHeight:function _syncLockedContentHeight(){this.lockedTable&&(this._touchScroller||this._adjustLockedHorizontalScrollBar(),this._adjustRowsHeight(this.table,this.lockedTable));},_syncLockedHeaderHeight:function _syncLockedHeaderHeight(){var e,t;this.lockedHeader&&(e=this.lockedHeader.children("table"),t=this.thead.parent(),this._adjustRowsHeight(e,t),l(e,t));},_resizable:function _resizable(){if(this.options.resizable){this.resizable&&this.resizable.destroy();var t=this;e(this.lockedHeader).find("thead").add(this.thead).on("mousemove"+B,"th",e.proxy(this._positionResizeHandle,this)),this.resizable=new kendo.ui.Resizable(this.wrapper,{handle:".k-resize-handle",start:function start(n){var i,o,r=e(n.currentTarget).data("th"),a="col:eq("+e.inArray(r[0],r.parent().children().filter(":visible"))+")";t.wrapper.addClass("k-grid-column-resizing"),t.lockedHeader&&e.contains(t.lockedHeader[0],r[0])?(i=t.lockedHeader,o=t.lockedTable):(i=t.thead.parent(),o=t.table),this.col=o.children("colgroup").find(a).add(i.find(a)),this.th=r,this.startLocation=n.x.location,this.columnWidth=r.outerWidth(),this.table=this.col.closest("table"),this.totalWidth=this.table.width();},resize:function resize(e){var t=11,n=e.x.location-this.startLocation;t>this.columnWidth+n&&(n=t-this.columnWidth),this.table.width(this.totalWidth+n),this.col.width(this.columnWidth+n);},resizeend:function resizeend(){var e,n,i;t.wrapper.removeClass("k-grid-column-resizing"),e=this.th.attr("data-field"),n=D(t.columns,function(t){return t.field==e;}),i=Math.floor(this.th.outerWidth()),n[0].width=i,t._resize(),t._adjustRowsHeight(),t.trigger(J,{column:n,oldWidth:this.columnWidth,newWidth:i}),this.table=this.col=this.th=null;}});}},_sortable:function _sortable(){var t,n,i,o,r,a=this.columns,s=e(this.lockedHeader).add(this.thead).find("th"),l=kendo.attr("field"),c=this.options.sortable;if(c)for(o=0,r=s.length;r>o;o++){t=a[o],t.sortable!==!1&&!t.command&&t.field&&(i=s.eq(o),n=i.data("kendoColumnSorter"),n&&n.destroy(),i.attr(l,t.field).kendoColumnSorter(p({},c,t.sortable,{dataSource:this.dataSource})));}},_filterable:function _filterable(){var t,n,i,o,r,a,s=e(this.lockedHeader).add(this.thead).find("th"),l=this.options.filterable;if(l&&!this.options.columnMenu)for(a=S(function(e){this.trigger($,{field:e.field,container:e.container});},this),t=0,n=s.length;n>t;t++){i=this.columns[t],o=s.eq(t),r=o.data("kendoFilterMenu"),r&&r.destroy(),i.command||i.filterable===!1||o.kendoFilterMenu(p(!0,{},l,i.filterable,{dataSource:this.dataSource,init:a}));}},_change:function _change(){this.trigger(F);},_selectable:function _selectable(){var e,n,i=this.options.selectable,o=this.table;i&&(i=kendo.ui.Selectable.parseOptions(i),this._hasLockedColumns&&(o=o.add(this.lockedTable),n=i.multiple&&i.cell),e=">tbody>tr:not(.k-footer-template)",i.cell&&(e+=">td"),this.selectable=new kendo.ui.Selectable(o,{filter:e,aria:!0,multiple:i.multiple,change:S(this._change,this),useAllItems:n,continuousItems:S(this._continuousItems,this,e,i.cell),relatedTarget:!i.cell&&this._hasLockedColumns?S(this._selectableTarget,this):t}));},_continuousItems:function _continuousItems(t,n){var i,o,r,a,s,l;if(this.lockedContent){for(i=e(t,this.lockedTable),o=e(t,this.table),r=n?this._lockedColumns().length:1,a=n?this.columns.length-r:1,s=[],l=0;i.length>l;l+=r){R.apply(s,i.slice(l,l+r)),R.apply(s,o.splice(0,a));}return s;}},_selectableTarget:function _selectableTarget(t){var n,i,o,r=e();for(i=0,o=t.length;o>i;i++){n=this._relatedRow(t[i]),A(n[0],t)<0&&(r=r.add(n));}return r;},_relatedRow:function _relatedRow(t){var n,i,o=this.lockedTable;return t=e(t),o?(n=t.closest(this.table.add(this.lockedTable)),i=n.find(">tbody>tr").index(t),n=n[0]===this.table[0]?o:this.table,n.find(">tbody>tr").eq(i)):t;},select:function select(n){var i=this.selectable;return i?(t!==n&&(i.options.multiple||(i.clear(),n=n.first()),this._hasLockedColumns&&(n=n.add(e.map(n,S(this._relatedRow,this))))),i.value(n)):e();},clearSelection:function clearSelection(){var e=this.select();e.length&&(this.selectable.clear(),this.trigger(F));},_dataSource:function _dataSource(e){var t=this.dataSource;t&&(t.unbind(F,this._refreshHandler),t.unbind(M,this._errorHandler),t.unbind(P,this._progressHandler)),this._refreshHandler=S(this.refresh,this),this._errorHandler=S(this._error,this),this._progressHandler=S(this._progress,this),t=this.dataSource=c.create(e),t.bind(F,this._refreshHandler),t.bind(M,this._errorHandler),t.bind(P,this._progressHandler),this._dataSourceFetchProxy=S(function(){this.dataSource.fetch();},this);},setDataSource:function setDataSource(e){this._dataSource(e),this._sortable(),this._filterable(),this._contentTree.render([]),this.options.autoBind&&this.dataSource.fetch();},dataItem:function dataItem(t){var n,i;return t instanceof ce?t:(n=e(t).closest("tr"),i=this.dataSource.getByUid(n.attr(kendo.attr("uid"))));},editRow:function editRow(e){var t;(typeof e==="undefined"?"undefined":_typeof(e))===I&&(e=this.tbody.find(e)),t=this.dataItem(e),t&&("popup"!=this._editMode()&&(t._edit=!0),this._cancelEditor(),this._render(),this._createEditor(t),this.trigger(N,{container:this.editor.wrapper,model:t}));},_cancelEdit:function _cancelEdit(e){e=p(e,{container:this.editor.wrapper,model:this.editor.model}),this.trigger(G,e)||this.cancelRow();},cancelRow:function cancelRow(){this._cancelEditor(),this._render();},saveRow:function saveRow(){var e,t=this.editor;t&&(e={model:t.model,container:t.wrapper},t.end()&&!this.trigger(O,e)&&this.dataSource.sync());},addRow:function addRow(e){var n=this.editor,i=0,o={};if(!n||n.end())return e?(e instanceof ce||(e=this.dataItem(e)),o[e.parentIdField]=e.id,i=this.dataSource.indexOf(e)+1,this.expand(e).then(S(this._insertAt,this,o,i)),t):(this._insertAt(o,i),t);},_insertAt:function _insertAt(e,t){e=this.dataSource.insert(t,e);var n=this.itemFor(e);this.editRow(n);},removeRow:function removeRow(e){var t=this.dataItem(e),n={model:t,row:e};t&&!this.trigger(W,n)&&(this.dataSource.remove(t),this.dataSource.sync());},_cancelEditor:function _cancelEditor(){var e,t=this.editor;t&&(e=t.model,this._destroyEditor(),this.dataSource.cancelChanges(e),e._edit=!1);},_destroyEditor:function _destroyEditor(){this.editor&&(this.editor.close(),this.editor=null);},_createEditor:function _createEditor(e){var t,n,i=this.itemFor(e);i=i.add(this._relatedRow(i)),t=this._editMode(),n={columns:this.columns,model:e,target:this,clearContainer:!1,template:this.options.editable.template},"inline"==t?this.editor=new d(i,n):(p(n,{window:this.options.editable.window,commandRenderer:S(function(){return this._buildCommands(["update","canceledit"]);},this),fieldRenderer:this._cellContent,save:S(this.saveRow,this),cancel:S(this._cancelEdit,this),appendTo:this.wrapper}),this.editor=new u(i,n));},_editMode:function _editMode(){var e="inline",t=this.options.editable;return t!==!0&&(e="string"==typeof t?t:t.mode||e),e.toLowerCase();},hideColumn:function hideColumn(e){this._toggleColumnVisibility(e,!0);},showColumn:function showColumn(e){this._toggleColumnVisibility(e,!1);},_toggleColumnVisibility:function _toggleColumnVisibility(e,t){e=this._findColumn(e),e&&e.hidden!==t&&(e.hidden=t,this._ensureExpandableColumn(),this._renderCols(),this._renderHeader(),this._render(),this._adjustTablesWidth(),this.trigger(t?Y:K,{column:e}),t||e.width||this.table.add(this.thead.closest("table")).width(""));},_findColumn:function _findColumn(e){return e="number"==typeof e?this.columns[e]:E(e)?D(this.columns,function(t){return t===e;})[0]:D(this.columns,function(t){return t.field===e;})[0];},_adjustTablesWidth:function _adjustTablesWidth(){var e,t,n,i=this.thead.prev().children(),o=0;for(e=0,t=i.length;t>e;e++){if(n=i[e].style.width,!n||-1!=n.indexOf("%")){o=0;break;}o+=parseInt(n,10);}o&&this.table.add(this.thead.closest("table")).width(o);},_reorderable:function _reorderable(){var t,n,i;this.options.reorderable&&(t=this.options.scrollable===!0,n=(t?".k-grid-header:first ":"table:first>.k-grid-header ")+Q,i=this,this._draggableInstance=new b.Draggable(this.wrapper,{group:kendo.guid(),filter:n,hint:function hint(t){return e('<div class="k-header k-drag-clue" />').css({width:t.width(),paddingLeft:t.css("paddingLeft"),paddingRight:t.css("paddingRight"),lineHeight:t.height()+"px",paddingTop:t.css("paddingTop"),paddingBottom:t.css("paddingBottom")}).html(t.attr(kendo.attr("title"))||t.attr(kendo.attr("field"))||t.text()).prepend('<span class="k-icon k-drag-status k-denied" />');}}),this.reorderable=new b.Reorderable(this.wrapper,{draggable:this._draggableInstance,dragOverContainers:S(this._allowDragOverContainers,this),inSameContainer:function inSameContainer(t){return e(t.source).parent()[0]===e(t.target).parent()[0];},change:function change(e){var t=e.newIndex,n=e.oldIndex,o="before"===e.position,r=i.columns[n];i.trigger(X,{newIndex:t,oldIndex:n,column:r}),i.reorderColumn(t,r,o);}}));},_allowDragOverContainers:function _allowDragOverContainers(e){return this.columns[e].lockable!==!1;},reorderColumn:function reorderColumn(n,i,o){var r,a,s,l=this.columns,c=A(i,l),d=l[n],u=!!d.locked,h=this._nonLockedColumns().length;c!==n&&(u&&!i.locked&&1==h||!u&&i.locked&&l.length-h==1||(o===t&&(o=c>n),r=!!i.locked,r=r!=u,i.locked=u,l.splice(o?n:n+1,0,i),l.splice(n>c?c:c+1,1),this._renderCols(),a=e(this.lockedHeader).add(this.thead).find("th"),a.eq(c)[o?"insertBefore":"insertAfter"](a.eq(n)),s=this._headerTree.children[0].children,this._hasLockedColumns&&(s=this._lockedHeaderTree.children[0].children.concat(s)),s.splice(o?n:n+1,0,s[c]),s.splice(n>c?c:c+1,1),this._hasLockedColumns&&(this._lockedHeaderTree.children[0].children=s.splice(0,this._lockedColumns().length),this._headerTree.children[0].children=s),this._applyLockedContainersWidth(),this.refresh(),r&&(u?this.trigger(ee,{column:i}):this.trigger(te,{column:i}))));},lockColumn:function lockColumn(e){var t,n=this.columns;e="number"==typeof e?n[e]:D(n,function(t){return t.field===e;})[0],e&&!e.hidden&&(t=this._lockedColumns().length-1,this.reorderColumn(t,e,!1));},unlockColumn:function unlockColumn(e){var t,n=this.columns;e="number"==typeof e?n[e]:D(n,function(t){return t.field===e;})[0],e&&!e.hidden&&(t=this._lockedColumns().length,this.reorderColumn(t,e,!0));},_columnMenu:function _columnMenu(){var t,n,i,o,r,a,s=e(this.lockedHeader).add(this.thead).find("th"),l=this.columns,c=this.options,d=c.columnMenu,u=S(this._columnMenuInit,this),h=this._lockedColumns().length;if(d)for("boolean"==typeof d&&(d={}),a=0;s.length>a;a++){t=l[a],t.field&&(n=s.eq(a).data("kendoColumnMenu"),n&&n.destroy(),o=!1,t.sortable!==!1&&d.sortable!==!1&&c.sortable!==!1&&(o=p({},c.sortable,{compare:(t.sortable||{}).compare})),r=!1,c.filterable&&t.filterable!==!1&&d.filterable!==!1&&(r=p({pane:this.pane},t.filterable,c.filterable)),i={dataSource:this.dataSource,values:t.values,columns:d.columns,sortable:o,filterable:r,messages:d.messages,owner:this,closeCallback:e.noop,init:u,pane:this.pane,lockedColumns:t.lockable!==!1&&h>0},c.$angular&&(i.$angular=c.$angular),s.eq(a).kendoColumnMenu(i));}},_columnMenuInit:function _columnMenuInit(e){this.trigger(Z,{field:e.field,container:e.container});}}),kendo.ExcelMixin&&kendo.ExcelMixin.extend(h.prototype),kendo.PDFMixin&&(kendo.PDFMixin.extend(h.prototype),h.fn._drawPDF=function(t){var n=new e.Deferred();return this._drawPDFShadow({width:this.wrapper.width()},{avoidLinks:this.options.pdf.avoidLinks}).done(function(e){var i={page:e,pageNumber:1,progress:1,totalPages:1};t.notify(i),n.resolve(i.page);}).fail(function(e){n.reject(e);}),n;}),p(!0,kendo.data,{TreeListDataSource:c,TreeListModel:ce}),p(!0,kendo.ui,{TreeList:h}),b.plugin(h);}(window.kendo.jQuery),window.kendo;},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("util/parse-xml.min",["kendo.core.min","util/main.min"],e);}(function(){"use strict";function e(e){var t,n=[];for(t=0;e.length>t;++t){n.push(e.charCodeAt(t));}return n;}function t(e,t){t>65535?(t-=65536,e.push(t>>>10&1023|55296,56320|1023&t)):e.push(t);}function n(e,n){function C(n){var i=e[q++];240&i^240?224&i^224?192&i^192?n.push(i):t(n,(31&i)<<6|63&e[q++]):t(n,(15&i)<<12|(63&e[q++])<<6|63&e[q++]):t(n,(3&i)<<18|(63&e[q++])<<12|(63&e[q++])<<6|63&e[q++]);}function S(e){throw Error(e+", at "+q);}function T(t){for(var n=[];e.length>q&&t(e[q]);){n.push(e[q++]);}return n;}function D(e){return i.apply(0,T(e));}function A(){T(I);}function E(t){var n,i=q;for(n=0;t.length>n;++n){if(e[q++]!=t[n])return q=i,!1;}return t;}function R(e){E(e)||S("Expecting "+e.join(", "));}function I(e){return 9==e||10==e||13==e||32==e;}function F(e){return e>=48&&57>=e;}function M(e){return e>=48&&57>=e||(e|=32)>=97&&102>=e;}function P(e){return 58==e||95==e||(e|=32)>=97&&122>=e;}function z(e){return 45==e||F(e)||P(e);}function B(){for(var t=[];e.length>q;){if(E(s))return j("comment",i.apply(0,t));C(t);}}function L(){var e,t;E(h)?U():E(l)?B():(e=N(),t=W(e),G.push(t),E(c)?j("enter",e,t,!0):(R(p),j("enter",e,t),H(e),e!=N()&&S("Bad closing tag"),j("leave",e,t),A(),R(p)),G.pop());}function H(t){for(var n=[];e.length>q;){if(E(d))return n.length&&j("text",i.apply(0,n));if(E(r))for(;e.length>q&&!E(a);){C(n);}else E(f)?(n.length&&j("text",i.apply(0,n)),L(),n=[]):E(v)?V(n):C(n);}S("Unclosed tag "+t);}function N(){return P(e[q])||S("Expecting XML name"),D(z);}function O(){var t,n=E(_)||E(b);for(n||S("Expecting string"),t=[];e.length>q;){if(E(n))return i.apply(0,t);E(v)?V(t):C(t);}S("Unfinished string");}function V(e){var n,i;E(w)?(n=E(y)||E(k)?parseInt(D(M),16):parseInt(D(F),10),isNaN(n)&&S("Bad numeric entity")):(i=N(),n=o[i],void 0===n&&S("Unknown entity "+i)),t(e,n),R(m);}function U(){j("decl",N(),W()),R(u);}function W(t){for(var n,i={$tag:t};e.length>q&&(A(),n=e[q],63!=n&&62!=n&&47!=n);){i[N()]=(R(g),O());}return i;}function j(e,t,i,o){var r=n&&n[e];r&&r.call($,t,i,o);}var q=0,G=[],$={is:function is(e){for(var t=G.length,n=e.length;--t>=0&&--n>=0;){if(G[t].$tag!=e[n]&&"*"!=e[n])return!1;}return 0>n?G[G.length-1]:null;},exit:function exit(){throw x;},stack:G},Y=[];for(C(Y),65279!=Y[0]&&(q=0);e.length>q;){A(),R(f),L(),A();}}var i=String.fromCharCode,o={amp:38,lt:60,gt:62,quot:34,apos:39,nbsp:160},r=e("<![CDATA["),a=e("]]>"),s=e("-->"),l=e("!--"),c=e("/>"),d=e("</"),u=e("?>"),h=e("?"),f=e("<"),p=e(">"),m=e(";"),g=e("="),v=e("&"),_=e('"'),b=e("'"),w=e("#"),y=e("x"),k=e("X"),x={};kendo.util.parseXML=function(){try{return n.apply(this,arguments);}catch(e){if(e!==x)throw e;}};},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("spreadsheet/commands.min",["kendo.core.min","kendo.binder.min","kendo.window.min","kendo.list.min","kendo.tabstrip.min"],e);}(function(){!function(e){function t(e){var t=document.createElement("textarea");n(t).addClass("k-spreadsheet-clipboard").val(e).appendTo(document.body).focus().select(),document.execCommand("copy"),n(t).remove();}var n,i,o,r,a,s,l;e.support.browser.msie&&9>e.support.browser.version||(n=e.jQuery,i=e.spreadsheet.Command=e.Class.extend({init:function init(e){this.options=e,this._workbook=e.workbook,this._property=e&&e.property,this._state={};},range:function range(e){return void 0!==e&&this._setRange(e),this._range;},_setRange:function _setRange(e){this._range=e;},redo:function redo(){this.exec();},undo:function undo(){this.setState(this._state);},getState:function getState(){this._state=this.range().getState(this._property);},setState:function setState(e){this.range().setState(e);},_forEachCell:function _forEachCell(e){var t=this.range(),n=t._ref;n.forEach(function(n){t.sheet().forEach(n.toRangeRef(),e.bind(this));}.bind(this));}}),o=i.extend({init:function init(e){i.fn.init.call(this,e),this._target=e.target,this._value=e.value;},exec:function exec(){this.getState(),this.setState(this._value);}}),e.spreadsheet.ColumnWidthCommand=o.extend({getState:function getState(){this._state=this.range().sheet().columnWidth(this._target);},setState:function setState(e){this.range().sheet().columnWidth(this._target,e);}}),e.spreadsheet.RowHeightCommand=o.extend({getState:function getState(){this._state=this.range().sheet().rowHeight(this._target);},setState:function setState(e){this.range().sheet().rowHeight(this._target,e);}}),e.spreadsheet.HyperlinkCommand=i.extend({init:function init(e){i.fn.init.call(this,e),this._link=e.link;},exec:function exec(){var e=this.range();this._prevLink=e.link(),e.link(this._link),null==e.value()&&(this._hasSetValue=!0,e.value(this._link));},undo:function undo(){var e=this.range();e.link(this._prevLink),this._hasSetValue&&e.value(null);}}),e.spreadsheet.GridLinesChangeCommand=o.extend({getState:function getState(){this._state=this._range.sheet().showGridLines();},setState:function setState(e){this._range.sheet().showGridLines(e);}}),r=e.spreadsheet.PropertyChangeCommand=i.extend({_setRange:function _setRange(e){i.prototype._setRange.call(this,e.skipHiddenCells());},init:function init(e){i.fn.init.call(this,e),this._value=e.value;},exec:function exec(){var e=this.range();e.enable()&&(this.getState(),e[this._property](this._value));}}),e.spreadsheet.ClearContentCommand=i.extend({exec:function exec(){this.getState(),this.range().clearContent();}}),e.spreadsheet.EditCommand=r.extend({init:function init(e){e.property="input",r.fn.init.call(this,e);},rejectState:function rejectState(e){return this.undo(),{title:e.title,body:e.message,reason:"error",type:"validationError"};},getState:function getState(){this._state=this.range().getState();},exec:function exec(){var t,n=this.range(),i=this._value;this.getState();try{if(n.link(null),n.input(i),n._adjustRowHeight(),t=n._getValidationState())return this.rejectState(t);}catch(o){if(!(o instanceof e.spreadsheet.calc.ParseError))throw o;try{if(n.input(i+")"),t=n._getValidationState())return this.rejectState(t);}catch(r){if(r instanceof e.spreadsheet.calc.ParseError)return n.input("'"+i),{title:"Error in formula",body:o+"",reason:"error"};}}}}),e.spreadsheet.TextWrapCommand=r.extend({init:function init(e){e.property="wrap",r.fn.init.call(this,e),this._value=e.value;},getState:function getState(){var e={};this.range().forEachRow(function(t){var n=t.topLeft().row;e[n]=t.sheet().rowHeight(n);}),this._state=this.range().getState(this._property),this._rowHeight=e;},undo:function undo(){var e,t=this.range().sheet(),n=this._rowHeight;this.range().setState(this._state);for(e in n){t.rowHeight(e,n[e]);}}}),e.spreadsheet.AdjustDecimalsCommand=i.extend({init:function init(e){this._decimals=e.value,e.property="format",i.fn.init.call(this,e);},exec:function exec(){var t=this.range().sheet(),n=this._decimals,i=e.spreadsheet.formatting;this.getState(),t.batch(function(){this.range().forEachCell(function(e,o,r){var a=r.format;(a||n>0)&&(a=i.adjustDecimals(a||"#",n),t.range(e,o).format(a));});}.bind(this));}}),e.spreadsheet.BorderChangeCommand=i.extend({init:function init(e){e.property="border",i.fn.init.call(this,e),this._type=e.border,this._style=e.style;},exec:function exec(){this.getState(),this[this._type](this._style);},noBorders:function noBorders(){var e=this.range();e.sheet().batch(function(){e.borderLeft(null).borderTop(null).borderRight(null).borderBottom(null);}.bind(this),{});},allBorders:function allBorders(e){var t=this.range();t.sheet().batch(function(){t.borderLeft(e).borderTop(e).borderRight(e).borderBottom(e);}.bind(this),{});},leftBorder:function leftBorder(e){this.range().leftColumn().borderLeft(e);},rightBorder:function rightBorder(e){this.range().rightColumn().borderRight(e);},topBorder:function topBorder(e){this.range().topRow().borderTop(e);},bottomBorder:function bottomBorder(e){this.range().bottomRow().borderBottom(e);},outsideBorders:function outsideBorders(e){var t=this.range();t.sheet().batch(function(){t.leftColumn().borderLeft(e),t.topRow().borderTop(e),t.rightColumn().borderRight(e),t.bottomRow().borderBottom(e);}.bind(this),{});},insideBorders:function insideBorders(e){this.range().sheet().batch(function(){this.allBorders(e),this.outsideBorders(null);}.bind(this),{});},insideHorizontalBorders:function insideHorizontalBorders(e){var t=this.range();t.sheet().batch(function(){t.borderBottom(e),t.bottomRow().borderBottom(null);}.bind(this),{});},insideVerticalBorders:function insideVerticalBorders(e){var t=this.range();t.sheet().batch(function(){t.borderRight(e),t.rightColumn().borderRight(null);}.bind(this),{});}}),e.spreadsheet.MergeCellCommand=i.extend({init:function init(e){i.fn.init.call(this,e),this._type=e.value;},exec:function exec(){this.getState(),this[this._type]();},activate:function activate(e){this.range().sheet().activeCell(e);},getState:function getState(){this._state=this.range().getState();},undo:function undo(){"unmerge"!==this._type&&(this.range().unmerge(),this.activate(this.range().topLeft())),this.range().setState(this._state);},cells:function cells(){var e=this.range(),t=e._ref;e.merge(),this.activate(t);},horizontally:function horizontally(){var e=this.range().topRow()._ref;this.range().forEachRow(function(e){e.merge();}),this.activate(e);},vertically:function vertically(){var e=this.range().leftColumn()._ref;this.range().forEachColumn(function(e){e.merge();}),this.activate(e);},unmerge:function unmerge(){var e=this.range(),t=e._ref.topLeft;e.unmerge(),this.activate(t);}}),e.spreadsheet.FreezePanesCommand=i.extend({init:function init(e){i.fn.init.call(this,e),this._type=e.value;},exec:function exec(){this.getState(),this._topLeft=this.range().topLeft(),this[this._type]();},getState:function getState(){this._state=this.range().sheet().getState();},undo:function undo(){this.range().sheet().setState(this._state);},panes:function panes(){var e=this._topLeft,t=this.range().sheet();t.frozenColumns(e.col).frozenRows(e.row);},rows:function rows(){var e=this._topLeft,t=this.range().sheet();t.frozenRows(e.row);},columns:function columns(){var e=this._topLeft,t=this.range().sheet();t.frozenColumns(e.col);},unfreeze:function unfreeze(){var e=this.range().sheet();e.frozenRows(0).frozenColumns(0);}}),e.spreadsheet.PasteCommand=i.extend({init:function init(e){i.fn.init.call(this,e),this._clipboard=this._workbook.clipboard();},getState:function getState(){this._range=this._workbook.activeSheet().range(this._clipboard.pasteRef()),this._state=this._range.getState();},exec:function exec(){var e,t=this._clipboard.canPaste();return this._clipboard.menuInvoked=!0,t.canPaste?(this.getState(),this._clipboard.paste(),e=this._workbook.activeSheet().range(this._clipboard.pasteRef()),void e._adjustRowHeight()):t.menuInvoked?{reason:"error",type:"useKeyboard"}:t.pasteOnMerged?{reason:"error",type:"modifyMerged"}:t.overflow?{reason:"error",type:"overflow"}:{reason:"error"};}}),e.spreadsheet.AdjustRowHeightCommand=i.extend({exec:function exec(){var e=this.options,t=this._workbook.activeSheet(),n=e.range||t.range(e.rowIndex);n._adjustRowHeight();}}),e.spreadsheet.ToolbarPasteCommand=i.extend({exec:function exec(){return e.support.clipboard.paste?(this._workbook._view.clipboard.focus().select(),void document.execCommand("paste")):{reason:"error",type:"useKeyboard"};}}),e.spreadsheet.CopyCommand=i.extend({init:function init(e){i.fn.init.call(this,e),this._clipboard=e.workbook.clipboard();},undo:n.noop,exec:function exec(){var e=this._clipboard.canCopy();if(this._clipboard.menuInvoked=!0,e.canCopy)this._clipboard.copy();else{if(e.menuInvoked)return{reason:"error",type:"useKeyboard"};if(e.multiSelection)return{reason:"error",type:"unsupportedSelection"};}}}),e.spreadsheet.ToolbarCopyCommand=i.extend({init:function init(e){i.fn.init.call(this,e),this._clipboard=e.workbook.clipboard();},undo:n.noop,exec:function exec(){if(!e.support.clipboard.copy)return{reason:"error",type:"useKeyboard"};var n=this._workbook._view.clipboard;t(n.html()),n.trigger("copy");}}),e.spreadsheet.CutCommand=i.extend({init:function init(e){i.fn.init.call(this,e),this._clipboard=e.workbook.clipboard();},exec:function exec(){this.range().enable()&&this._clipboard.canCopy()&&(this.getState(),this._clipboard.cut());}}),e.spreadsheet.AutoFillCommand=i.extend({init:function init(e){i.fn.init.call(this,e);},origin:function origin(e){this._origin=e;},exec:function exec(){this.getState();try{this.range().fillFrom(this._origin);}catch(t){if(t instanceof e.spreadsheet.Range.FillError)return{reason:"error",body:t+""};throw t;}}}),e.spreadsheet.ToolbarCutCommand=i.extend({init:function init(e){i.fn.init.call(this,e),this._clipboard=e.workbook.clipboard();},exec:function exec(){if(!e.support.clipboard.copy)return{reason:"error",type:"useKeyboard"};var n=this._workbook._view.clipboard;t(n.html()),n.trigger("cut");}}),e.spreadsheet.FilterCommand=i.extend({undo:function undo(){this.range().filter(this._state);},exec:function exec(){var e=this.range();if(this._state=e.hasFilter(),e.hasFilter())e.filter(!1);else{if(e.intersectingMerged().length)return{reason:"error",type:"filterRangeContainingMerges"};e.filter(!0);}}}),e.spreadsheet.SortCommand=i.extend({undo:function undo(){var e=this.range().sheet();e.setState(this._state);},exec:function exec(){var e=this.range(),t=e.sheet(),n=t.activeCell(),i=this.options.sheet?n.topLeft.col:this.options.column||0,o="asc"===this.options.value;return this._state=t.getState(),this.options.sheet&&(e=this.expandRange()),e.intersectingMerged().length?{reason:"error",type:"sortRangeContainingMerges"}:void e.sort({column:i,ascending:o});},expandRange:function expandRange(){var t=this.range().sheet();return new e.spreadsheet.Range(t._sheetRef,t);}}),a=e.spreadsheet.ApplyFilterCommand=i.extend({column:function column(){return this.options.column||0;},undo:function undo(){var e=this.range().sheet();e.clearFilter(this.column()),this._state.length&&this.range().filter(this._state);},getState:function getState(){var e=this.range().sheet(),t=e.filter();t&&(this._state=t.columns.filter(function(e){return e.index==this.column();}.bind(this)));},exec:function exec(){var t,n,i=this.range(),o=this.column(),r=i.sheet().filter(),a=!1;this.options.valueFilter?n={column:o,filter:new e.spreadsheet.ValueFilter(this.options.valueFilter)}:this.options.customFilter&&(n={column:o,filter:new e.spreadsheet.CustomFilter(this.options.customFilter)}),this.getState(),r&&r.ref.eq(i._ref)&&r.columns.length?(r.columns.forEach(function(e){e.index===o&&(a=!0);}),t=r.columns.map(function(e){return e.index===o?n:{column:e.index,filter:e.filter};}),a||t.push(n)):t=n,i.filter(t);}}),e.spreadsheet.ClearFilterCommand=a.extend({exec:function exec(){var e=this.range(),t=this.column();this.getState(),e.clearFilter(t);}}),e.spreadsheet.HideLineCommand=i.extend({init:function init(e){i.fn.init.call(this,e),this.axis=e.axis;},undo:function undo(){var e=this.range().sheet();e.setAxisState(this._state);},exec:function exec(){var e=this.range().sheet();this._state=e.getAxisState(),"row"==this.axis?e.axisManager().hideSelectedRows():e.axisManager().hideSelectedColumns();}}),e.spreadsheet.UnHideLineCommand=e.spreadsheet.HideLineCommand.extend({exec:function exec(){var e=this.range().sheet();this._state=e.getAxisState(),"row"==this.axis?e.axisManager().unhideSelectedRows():e.axisManager().unhideSelectedColumns();}}),s=e.spreadsheet.DeleteCommand=i.extend({undo:function undo(){var e=this.range().sheet();e.setState(this._state);}}),e.spreadsheet.DeleteRowCommand=s.extend({exec:function exec(){var e=this.range().sheet();this._state=e.getState(),e.axisManager().deleteSelectedRows();}}),e.spreadsheet.DeleteColumnCommand=s.extend({exec:function exec(){var e=this.range().sheet();this._state=e.getState(),e.axisManager().deleteSelectedColumns();}}),l=i.extend({init:function init(e){i.fn.init.call(this,e),this._value=e.value;},undo:function undo(){var e=this.range().sheet();e.setState(this._state);}}),e.spreadsheet.AddColumnCommand=l.extend({exec:function exec(){var e=this.range().sheet();this._state=e.getState(),"left"===this._value?e.axisManager().addColumnLeft():e.axisManager().addColumnRight();}}),e.spreadsheet.AddRowCommand=l.extend({exec:function exec(){var e=this.range().sheet();return e.axisManager().canAddRow()?(this._state=e.getState(),void("above"===this._value?e.axisManager().addRowAbove():e.axisManager().addRowBelow())):{reason:"error",type:"shiftingNonblankCells"};}}),e.spreadsheet.EditValidationCommand=i.extend({init:function init(e){i.fn.init.call(this,e),this._value=e.value;},exec:function exec(){this.range().validation(this._value);}}),e.spreadsheet.OpenCommand=i.extend({exec:function exec(){var e=this.options.file;return null===e.name.match(/.xlsx$/i)?{reason:"error",type:"openUnsupported"}:void this.options.workbook.fromFile(this.options.file);}}),e.spreadsheet.SaveAsCommand=i.extend({exec:function exec(){var e=this.options.name+this.options.extension;".xlsx"===this.options.extension?this.options.workbook.saveAsExcel({fileName:e}):".pdf"===this.options.extension&&this.options.workbook.saveAsPDF(n.extend(this.options.pdf,{workbook:this.options.workbook,fileName:e}));}}));}(kendo);},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("spreadsheet/formulabar.min",["kendo.core.min"],e);}(function(){!function(e){var t,n,i;e.support.browser.msie&&9>e.support.browser.version||(t=e.jQuery,n={wrapper:"k-spreadsheet-formula-bar"},i=e.ui.Widget.extend({init:function init(n,o){e.ui.Widget.call(this,n,o),n=this.element.addClass(i.classNames.wrapper),this.formulaInput=new e.spreadsheet.FormulaInput(t("<div/>").appendTo(n));},destroy:function destroy(){this.formulaInput&&this.formulaInput.destroy(),this.formulaInput=null;}}),e.spreadsheet.FormulaBar=i,t.extend(!0,i,{classNames:n}));}(window.kendo);},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("spreadsheet/formulainput.min",["kendo.core.min"],e);}(function(){!function(e,t){function n(e){return"("==e||"["==e||"{"==e;}function i(e){return")"==e||"]"==e||"}"==e;}function o(e,t){return"("==t?")"==e:"["==t?"]"==e:"{"==t?"}"==e:!1;}function r(e,t){return t.begin>=e.begin&&e.end>=t.end;}function a(t){return e.spreadsheet.calc.runtime.FUNCS[t.toLowerCase()];}function s(e,t){return e&&t?"ref"==e.type&&"ref"==t.type?e.ref.eq(t.ref):e.value===t.value:!1;}var l,c,d,u,h,f,p,m,g;e.support.browser.msie&&9>e.support.browser.version||(l=e.jQuery,c=e.ui.Widget,d=".kendoFormulaInput",u=e.keys,h={wrapper:"k-spreadsheet-formula-input",listWrapper:"k-spreadsheet-formula-list"},f=["font-family","font-size","font-stretch","font-style","font-weight","letter-spacing","text-transform","line-height"],p={27:"esc",37:"left",39:"right",35:"end",36:"home",32:"spacebar"},m=/(^_|[^a-z0-9]$)/i,g=c.extend({init:function init(e,t){c.call(this,e,t),e=this.element,e.addClass(g.classNames.wrapper).attr("contenteditable",!0).attr("spellcheck",!1).css("white-space","pre"),this.options.autoScale&&e.on("input",this.scale.bind(this)),this._highlightedRefs=[],this._staticTokens=[],this._formulaSource(),this._formulaList(),this._popup(),this._tooltip(),e.on("keydown",this._keydown.bind(this)).on("keyup",this._keyup.bind(this)).on("blur",this._blur.bind(this)).on("input click",this._input.bind(this)).on("focus",this._focus.bind(this)).on("paste",this._paste.bind(this));},options:{name:"FormulaInput",autoScale:!1,filterOperator:"startswith",scalePadding:30,minLength:1},events:["keyup","focus"],enable:function enable(e){return void 0===e?"true"===this.element.attr("contenteditable"):(this.enableEditing(e),void this.element.toggleClass("k-state-disabled",!e));},enableEditing:function enableEditing(e){e?this.element.attr("contenteditable",e):this.element.removeAttr("contenteditable");},getPos:function getPos(){function e(e,t){try{!function o(n){if(n===e)throw t;if(1==n.nodeType)for(var i=n.firstChild;i;i=i.nextSibling){o(i);}else 3==n.nodeType&&(t+=n.nodeValue.length);}(i);}catch(n){return n;}}var n,i=this.element[0],o=t.getSelection(),r=e(o.focusNode,o.focusOffset),a=e(o.anchorNode,o.anchorOffset);return null!=r&&null!=a?(r>a&&(n=r,r=a,a=n),{begin:r,end:a,collapsed:r==a}):void 0;},setPos:function setPos(e,n){function i(e,t){return e.startOffset!=t.startOffset||e.endOffset!=t.endOffset||e.startContainer!=t.endContainer||e.endContainer!=t.endContainer;}function o(e,t){try{!function i(e){var n,o;if(3==e.nodeType){if(n=e.nodeValue.length,n>=t)throw e;t-=n;}else if(1==e.nodeType)for(o=e.firstChild;o;o=o.nextSibling){i(o);}}(e);}catch(n){return{node:n,pos:t};}}var r,a,s,l=this.element[0];e=o(l,e),n=null!=n?o(l,n):e,e&&n&&(r=document.createRange(),r.setStart(e.node,e.pos),r.setEnd(n.node,n.pos),a=t.getSelection(),s=a.getRangeAt(0),i(r,s)&&(a.removeAllRanges(),a.addRange(r)));},end:function end(){this.setPos(this.length());},home:function home(){this.setPos(0);},length:function length(){return this.value().length;},_formulaSource:function _formulaSource(){var t,n,i=[];for(n in e.spreadsheet.calc.runtime.FUNCS){m.test(n)||(t=n.toUpperCase(),i.push({value:t,text:t}));}this.formulaSource=new e.data.DataSource({data:i});},_formulaList:function _formulaList(){this.list=new e.ui.StaticList(l("<ul />").addClass(g.classNames.listWrapper).insertAfter(this.element),{autoBind:!1,selectable:!0,change:this._formulaListChange.bind(this),dataSource:this.formulaSource,dataValueField:"value",template:"#:data.value#"}),this.list.element.on("mousedown",function(e){e.preventDefault();});},_formulaListChange:function _formulaListChange(){var e,t,n,i=this._tokenContext();i&&!this._mute&&(e=i.token,t=this.list.value()[0],n={replace:!0,token:e,end:e.end},i.nextToken&&"("==i.nextToken.value||(t+="("),this._replaceAt(n,t),this.popup.close());},_popup:function _popup(){this.popup=new e.ui.Popup(this.list.element,{anchor:this.element});},_blur:function _blur(){this.popup.close(),clearTimeout(this._focusId),this.trigger("blur");},_isFormula:function _isFormula(){return /^=/.test(this.value());},_keydown:function _keydown(e){var t=e.keyCode;p[t]?(this.popup.close(),this._navigated=!0):this._move(t)&&(this._navigated=!0,e.preventDefault()),this._keyDownTimeout=setTimeout(this._syntaxHighlight.bind(this));},_keyup:function _keyup(){var e,t=this.popup;this._isFormula()&&!this._navigated&&(e=((this._tokenContext()||{}).token||{}).value,this.filter(e),e&&this.formulaSource.view().length?(t[t.visible()?"position":"open"](),this.list.focusFirst()):t.close()),this._navigated=!1,this._syntaxHighlight(),this.trigger("keyup");},_input:function _input(){this._syntaxHighlight();},_focus:function _focus(){this._focusTimeout=setTimeout(this._syntaxHighlight.bind(this)),this.trigger("focus");},_paste:function _paste(e){var t,n,i,o;e.preventDefault(),t=this.getPos(),n=e.originalEvent.clipboardData,i=n.getData("text/plain"),o=this.value(),o=o.substr(0,t.begin)+i+o.substr(t.end),this.value(o),this.setPos(t.begin+i.length),this.scale();},_move:function _move(e){var t=this.list,n=!1,i=this.popup;return e===u.DOWN?(t.focusNext(),t.focus()||t.focusFirst(),n=!0):e===u.UP?(t.focusPrev(),t.focus()||t.focusLast(),n=!0):e===u.ENTER?(i.visible()&&t.select(t.focus()),i.close(),n=!0):e===u.TAB?(t.select(t.focus()),i.close(),n=!0):e===u.PAGEUP?(t.focusFirst(),n=!0):e===u.PAGEDOWN&&(t.focusLast(),n=!0),n;},_tokenContext:function _tokenContext(){var t,n,i,o=this.getPos(),a=this.value();if(!a||!o||!o.collapsed)return null;for(t=e.spreadsheet.calc.tokenize(a,this.row(),this.col()),i=0;t.length>i;++i){if(n=t[i],r(n,o)&&/^(?:str|sym|func)$/.test(n.type))return{token:n,nextToken:t[i+1]};}return null;},_sync:function _sync(){this._editorToSync&&this.isActive()&&this._editorToSync.value(this.value());},_textContainer:function _textContainer(){var t=e.getComputedStyles(this.element[0],f);t.position="absolute",t.visibility="hidden",t.whiteSpace="pre",t.top=-3333,t.left=-3333,this._span=l("<span style='white-space: pre'/>").css(t).insertAfter(this.element);},_tooltip:function _tooltip(){this._cellTooltip=l('<div class="k-widget k-tooltip" style="position:absolute; display:none">A1</div>').insertAfter(this.element);},tooltip:function tooltip(e){this._cellTooltip.text(e);},toggleTooltip:function toggleTooltip(e){this._cellTooltip.toggle(e);},isActive:function isActive(){return this.element[0]===e._activeElement();},filter:function filter(e){!e||this.options.minLength>e.length||(this._mute=!0,this.list.select(-1),this._mute=!1,this.formulaSource.filter({field:this.list.options.dataValueField,operator:this.options.filterOperator,value:e}));},hide:function hide(){this.enableEditing(!1),this.element.hide(),this._cellTooltip.hide();},show:function show(){this.enableEditing(!0),this.element.show();},row:function row(){return this.activeCell?this.activeCell.row:void 0;},col:function col(){return this.activeCell?this.activeCell.col:void 0;},position:function position(e){e&&(this.show(),this.element.css({top:e.top+1+"px",left:e.left+1+"px"}),this._cellTooltip.css({top:e.top-this._cellTooltip.height()-10+"px",left:e.left}));},resize:function resize(e){e&&this.element.css({width:e.width-1,height:e.height-1});},canInsertRef:function canInsertRef(e){var t,n=this._canInsertRef(e),i=n&&n.token;if(i)for(t=0;this._staticTokens.length>t;t++){if(s(i,this._staticTokens[t]))return null;}return n;},_canInsertRef:function _canInsertRef(t){function i(e){return e.begin>l.begin;}function o(e){if(e){if(/^(?:num|str|bool|sym|ref)$/.test(e.type))return{replace:!0,token:e,end:e.end};if(/^(?:op|punc|startexp)$/.test(e.type))return e.end==l.end?a(e,c[u+1]):a(c[u-1],e);}}function a(e,t){if(null==e)return null;if(null==t)return /^(?:op|startexp)$/.test(e.type)||n(e.value)?{token:e,end:l.end}:null;if(s){if("op"==e.type&&/^(?:punc|op)$/.test(t.type))return{token:e,end:l.end};}else{if("startexp"==e.type)return{token:e,end:l.end};if(/^(?:ref|op|punc)$/.test(e.type))return{token:e,end:l.end};if(/^(?:punc|op)$/.test(e.type))return /^[,;({]$/.test(e.value)?{token:e,end:l.end}:null;}return!1;}var s,l,c,d,u;if(this.popup.visible())return null;if(s=t,l=this.getPos(),l&&this._isFormula()){if(0===l.begin)return null;for(c=e.spreadsheet.calc.tokenize(this.value(),this.row(),this.col()),u=0;c.length>u;++u){if(d=c[u],r(d,l))return o(d);if(i(d))return a(c[u-1],d);}return a(d,null);}return null;},refAtPoint:function refAtPoint(e){var t=this._canInsertRef();t&&this._replaceAt(t,""+e.simplify());},_replaceAt:function _replaceAt(e,t){var n,i=this.value(),o=e.token,r=i.substr(e.end);i=i.substr(0,e.replace?o.begin:e.end)+t,n=i.length,i+=r,this._value(i),this.setPos(n),this.scale(),this._syntaxHighlight(),this._sync();},syncWith:function syncWith(t){var n,i=this,o="input"+d,r=i._sync.bind(i);e.support.browser.msie&&(o="keydown"+d,n=function n(){setTimeout(r);}),i._editorToSync=t,i.element.off(o).on(o,n||r);},scale:function scale(){var e,t,n=this.element;this._span||this._textContainer(),this._span.html(n.html()),e=this._span.width()+this.options.scalePadding,t=this._span.height(),e>n.width()&&n.width(e),t>n.height()&&n.height(t);},_value:function _value(e){this.element.text(e);},value:function value(e){return void 0===e?this.element[0].innerText:(this._value(e),void this._syntaxHighlight());},highlightedRefs:function highlightedRefs(){return this._highlightedRefs.slice();},_syntaxHighlight:function _syntaxHighlight(){var t,s=this.getPos(),l=this.value(),c=e.spreadsheet.Pane.classNames.series,d=[],u=0,h=[],f=[];if(!s||s.collapsed){if(!/^=/.test(l))return(this._staticTokens.length||this._highlightedRefs.length)&&(this._staticTokens=[],this._highlightedRefs=[],this.element.text(l)),void(this.popup&&this.popup.close());f=e.spreadsheet.calc.tokenize(l,this.row(),this.col()),f.forEach(function(e){if(e.active=!1,e.cls=["k-syntax-"+e.type],"ref"==e.type&&(e.colorClass=c[u++%c.length],e.cls.push(e.colorClass),d.push(e)),s&&"punc"==e.type)if(n(e.value))h.unshift(e);else if(i(e.value)){var l=h.shift();l?o(e.value,l.value)?(r(e,s)||r(l,s))&&(e.cls.push("k-syntax-paren-match"),l.cls.push("k-syntax-paren-match")):(e.cls.push("k-syntax-error"),l.cls.push("k-syntax-error")):e.cls.push("k-syntax-error");}s&&r(e,s)&&(e.cls.push("k-syntax-at-point"),e.active=!0,t=e),"func"!=e.type||a(e.value)||s&&r(e,s)||e.cls.push("k-syntax-error");}),f.reverse().forEach(function(t){var n=t.begin,i=t.end,o=e.htmlEncode(l.substring(n,i));l=l.substr(0,n)+"<span class='"+t.cls.join(" ")+"'>"+o+"</span>"+l.substr(i);}),this.element.html(l),s&&this.setPos(s.begin,s.end),t&&/^(?:startexp|op|punc)$/.test(t.type)&&this._setStaticTokens(f),this._highlightedRefs=d;}},_setStaticTokens:function _setStaticTokens(e){var t,n;for(this._staticTokens=[],t=0;e.length>t;t++){n=e[t],/^(?:num|str|bool|sym|ref)$/.test(n.type)&&this._staticTokens.push(n);}},destroy:function destroy(){this._editorToSync=null,this.element.off(d),clearTimeout(this._focusTimeout),clearTimeout(this._keyDownTimeout),this._cellTooltip=null,this._span=null,this.popup.destroy(),this.popup=null,c.fn.destroy.call(this);},insertNewline:function insertNewline(){var e=this.value(),t=this.getPos(),n=t.end==e.length;e=e.substr(0,t.begin)+(n?"\n\n":"\n"+e.substr(t.end)),this.value(e),this.setPos(t.begin+1);}}),e.spreadsheet.FormulaInput=g,l.extend(!0,g,{classNames:h}));}(kendo,window);},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("spreadsheet/eventlistener.min",["kendo.core.min"],e);}(function(){!function(e){var t,n,i,o,r,a;e.support.browser.msie&&9>e.support.browser.version||(t=e.jQuery,n={8:"backspace",9:"tab",13:"enter",27:"esc",37:"left",38:"up",39:"right",40:"down",35:"end",36:"home",32:"spacebar",33:"pageup",34:"pagedown",46:"delete",113:":edit"},i=navigator.platform.toUpperCase().indexOf("MAC")>=0,o=function o(e){return e>47&&58>e||e>64&&91>e||e>95&&112>e||e>185&&193>e||e>218&&223>e;},r=function r(e){var t=n[e];return!t&&o(e)&&(t=":alphanum"),t;},a=e.Class.extend({init:function init(e,n,i){if(this._handlers={},this.target=e,this._observer=n||window,this.keyDownProxy=this.keyDown.bind(this),this.mouseProxy=this.mouse.bind(this),this.threshold=5,this._pressLocation=null,e.on("keydown",this.keyDownProxy),e.on("contextmenu mousedown cut copy paste scroll wheel click dblclick focus",this.mouseProxy),t(document.documentElement).on("mousemove mouseup",this.mouseProxy),i)for(var o in i){this.on(o,i[o]);}},keyDown:function keyDown(e){this.handleEvent(e,r(e.keyCode));},mouse:function mouse(e){var t,n,i,o,r;e.which?t=3==e.which:e.button&&(t=2==e.button),n=e.type,"mousedown"===n&&(t?n="rightmousedown":this._pressLocation={x:e.pageX,y:e.pageY}),"mouseup"===n&&(t||(this._pressLocation=null)),"mousemove"===n&&this._pressLocation&&(i=this._pressLocation.x-e.pageX,o=this._pressLocation.y-e.pageY,r=Math.sqrt(i*i+o*o),r>this.threshold&&(n="mousedrag")),this.handleEvent(e,n);},handleEvent:function handleEvent(e,t){var n,o,r="";e.mod=i?e.metaKey:e.ctrlKey&&!e.altKey,e.altKey&&(r+="alt+"),e.shiftKey&&(r+="shift+"),e.ctrlKey&&(r+="ctrl+"),r+=t,n=this._handlers["*+"+t],n&&n.call(this._observer,e,r),o=this._handlers[r],o&&o.call(this._observer,e,r);},on:function on(e,t){var n=this._handlers;"string"==typeof t&&(t=this._observer[t]),"string"==typeof e&&(e=e.split(",")),e.forEach(function(e){n[e]=t;});},destroy:function destroy(){this.target.off("keydown",this.keyDownProxy),this.target.off("keydown",this.mouseProxy),t(document.documentElement).off("mousemove mouseup",this.mouseProxy);}}),e.spreadsheet.EventListener=a);}(window.kendo);},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("spreadsheet/rangelist.min",["kendo.core.min"],e);}(function(){!function(e){function t(e){return e;}function n(e){if(e.left.level===e.level){var t=e;e=e.left,t.left=e.right,e.right=t;}return e;}function i(e){if(e.right.right.level===e.level){var t=e;e=e.right,t.right=e.left,e.left=t,e.level+=1;}return e;}function o(e,t){return e===d?new c(1,t,d,d):(e.value.start-t.start>0?e.left=o(e.left,t):e.right=o(e.right,t),i(n(e)));}function r(e,t){var o,a;if(e===d)return e;if(o=e.value.start-t.start,0===o){if(e.left!==d&&e.right!==d){for(a=e.left;a.right!==d;){a=a.right;}e.value=a.value,e.left=r(e.left,e.value);}else e=e.left===d?e.right:e.left;}else o>0?e.left=r(e.left,t):e.right=r(e.right,t);return(e.level-1>e.left.level||e.level-1>e.right.level)&&(e.level-=1,e.right.level>e.level&&(e.right.level=e.level),e=n(e),e.right=n(e.right),e.right.right=n(e.right.right),e=i(e),e.right=i(e.right)),e;}function a(e,t){e!==d&&(a(e.left,t),t.push(e.value),a(e.right,t));}function s(e,t,n){if(e!==d){var i=e.value;i.start>t.start&&s(e.left,t,n),i.intersects(t)&&n.push(i),t.end>i.end&&s(e.right,t,n);}}function l(e,t,n){t!==d&&(l(e,t.left,n),e.insert(n(t.value)),l(e,t.right,n));}var c,d,u,h,f,p,m;e.support.browser.msie&&9>e.support.browser.version||(c=e.Class.extend({init:function init(e,t,n,i){this.level=e,this.value=t,this.left=n,this.right=i;}}),d=new function(){this.left=this,this.right=this,this.level=0;}(),u=e.Class.extend({init:function init(e,t,n){this.start=e,this.end=t,this.value=n;},intersects:function intersects(e){return this.end>=e.start&&e.end>=this.start;}}),h=e.Class.extend({init:function init(){this.root=d;},insert:function insert(e){this.root=o(this.root,e);},remove:function remove(e){this.root=r(this.root,e);},findrange:function findrange(e){for(var t=this.root;t!=d;){if(t.value.start>e)t=t.left;else{if(!(e>t.value.end))return t.value;t=t.right;}}return null;},values:function values(){var e=[];return a(this.root,e),e;},intersecting:function intersecting(e,t){var n=[];return s(this.root,new u(e,t),n),n;},map:function map(e){var t=new h();return l(t,this.root,e),t;},clone:function clone(){return this.map(t);},first:function first(){for(var e=this.root;e.left!=d;){e=e.left;}return e;},last:function last(){for(var e=this.root;e.right!=d;){e=e.right;}return e;}}),f=e.Class.extend({init:function init(e,t,n){void 0===t?this.tree=e:(this.tree=new h(),this.tree.insert(new u(e,t,n)));},values:function values(){return this.tree.values();},map:function map(e){return new f(this.tree.map(e));},intersecting:function intersecting(e,t){return this.tree.intersecting(e,t);},first:function first(){return this.tree.first().value;},last:function last(){return this.tree.last().value;},insert:function insert(e,t,n){return this.tree.insert(new u(e,t,n));},value:function value(e,t,n){var i,o,r,a,s,l,c,d,u;if(void 0===n)return void 0===t&&(t=e),this.intersecting(e,t)[0].value;if(i=this.tree.intersecting(e-1,t+1),i.length)for(o=i[0],r=i[i.length-1],e>o.end&&(o.value===n?e=o.start:i.shift()),r.start>t&&(r.value===n?t=r.end:i.pop()),a=0,s=i.length;s>a;a++){l=i[a],c=l.value,d=l.start,u=l.end,this.tree.remove(l),e>d&&(c!==n?this.insert(d,e-1,c):e=d),u>t&&(c!==n?this.insert(t+1,u,c):t=u);}this.insert(e,t,n);},expandedValues:function expandedValues(e,t){var n,i=this.intersecting(e,t),o=[],r=0;for(n=e;t>=n;n++){n>i[r].end&&r++,o.push({index:n-e,value:i[r].value});}return o;},sortedIndices:function sortedIndices(e,t,n,i){var o=this.expandedValues(e,t),r=function r(e,t){return e.value===t.value?e.index-t.index:n(e.value,t.value);};return i&&(r=function r(e,t){var o=i[e.index],r=i[t.index];return o.value===r.value?n(e.value,t.value):e.index-t.index;}),o.sort(r),o;},sort:function sort(e,t,n){var i,o,r;if(1!==this.intersecting(e,t).length)for(i=this.expandedValues(e,t),o=0,r=n.length;r>o;o++){this.value(o+e,o+e,i[n[o].index].value);}},copy:function copy(e,t,n){var i,o,r,a,s,l=this.intersecting(e,t),c=n;for(o=0,r=l.length;r>o;o++){a=l[o].start,e>a&&(a=e),s=l[o].end,s>t&&(s=t),i=c+(s-a),this.value(c,i,l[o].value),c=++i;}},iterator:function iterator(e,t){return new p(e,t,this.intersecting(e,t));},getState:function getState(){return this.tree.clone();},setState:function setState(e){this.tree=e;}}),p=e.Class.extend({init:function init(e,t,n){this.start=e,this.end=t,this.index=0,this.ranges=n;},unique:function unique(){return this.ranges.map(function(e){return e.value;});},at:function at(e){for(;e>this.ranges[this.index].end;){this.index++;}return this.ranges[this.index].value;},forEach:function forEach(e){for(var t=this.start;this.end>=t;t++){e(this.at(t),t);}this.index=0;}}),m=f.extend({init:function init(e,t,n){this.tree=new h(),this.range=new u(e,t,n);},intersecting:function intersecting(e,t){var n,i,o,r=this.tree.intersecting(e,t),a=[];if(!r.length)return[this.range];for(i=0,o=r.length;o>i;i++){n=r[i],n.start>e&&a.push(new u(e,n.start-1,this.range.value)),a.push(n),e=n.end+1;}return t>n.end&&a.push(new u(n.end+1,t,this.range.value)),a;},insert:function insert(e,t,n){n!==this.range.value&&this.tree.insert(new u(e,t,n));},lastRangeStart:function lastRangeStart(){var e=this.tree.root;if(e===d)return this.range.start;for(;e.right!==d;){e=e.right;}return e.value.end+1;}}),e.spreadsheet.RangeTree=h,e.spreadsheet.RangeList=f,e.spreadsheet.SparseRangeList=m,e.spreadsheet.ValueRange=u);}(kendo);},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("spreadsheet/propertybag.min",["kendo.core.min"],e);}(function(){!function(e){function t(e){return e.replace(/M/g,"m").replace(/'/g,'"').replace(/tt/,"am/pm");}var n,i,o,r;e.support.browser.msie&&9>e.support.browser.version||(n=e.jQuery,i=e.Class.extend({init:function init(e){this.list=e;},get:function get(e){return this.parse(this.list.value(e,e));},set:function set(e,t,n){void 0===n&&(n=t,t=e),this.list.value(e,t,n);},parse:function parse(e){return e;},copy:function copy(e,t,n){this.list.copy(e,t,n);},iterator:function iterator(e,t){return this.list.iterator(e,t);}}),o=i.extend({set:function set(e,t,n){this.list.value(e,t,JSON.stringify(n));},parse:function parse(e){return JSON.parse(e);}}),r=i.extend({init:function init(e,t,n){i.prototype.init.call(this,e),this.validations=n,this.formats=t;},set:function set(n,i,o){o instanceof Date&&(o=e.spreadsheet.dateToNumber(o),this.formats.value(n,i,t(e.culture().calendar.patterns.d))),this.list.value(n,i,o);}}),e.spreadsheet.PropertyBag=e.Class.extend({specs:[{property:r,name:"value",value:null,sortable:!0,serializable:!0,depends:"format"},{property:i,name:"format",value:null,sortable:!0,serializable:!0},{property:i,name:"formula",value:null,sortable:!0,serializable:!0},{property:i,name:"background",value:null,sortable:!0,serializable:!0},{property:o,name:"borderBottom",value:null,sortable:!1,serializable:!0},{property:o,name:"borderRight",value:null,sortable:!1,serializable:!0},{property:o,name:"borderLeft",value:null,sortable:!1,serializable:!0},{property:o,name:"borderTop",value:null,sortable:!1,serializable:!0},{property:i,name:"color",value:null,sortable:!0,serializable:!0},{property:i,name:"fontFamily",value:null,sortable:!0,serializable:!0},{property:i,name:"underline",value:null,sortable:!0,serializable:!0},{property:i,name:"fontSize",value:null,sortable:!0,serializable:!0},{property:i,name:"italic",value:null,sortable:!0,serializable:!0},{property:i,name:"bold",value:null,sortable:!0,serializable:!0},{property:i,name:"textAlign",value:null,sortable:!0,serializable:!0},{property:i,name:"verticalAlign",value:null,sortable:!0,serializable:!0},{property:i,name:"wrap",value:null,sortable:!0,serializable:!0},{property:i,name:"validation",value:null,sortable:!1,serializable:!0},{property:i,name:"enable",value:null,sortable:!1,serializable:!0},{property:i,name:"link",value:null,sortable:!1,serializable:!0}],init:function init(t){this.properties={},this.lists={},this.specs.forEach(function(n){this.lists[n.name]=new e.spreadsheet.SparseRangeList(0,t,n.value);},this),this.specs.forEach(function(e){this.properties[e.name]=new e.property(this.lists[e.name],this.lists[e.depends]);},this);},getState:function getState(){var e={};return this.specs.forEach(function(t){e[t.name]=this.lists[t.name].getState();},this),e;},setState:function setState(e){this.specs.forEach(function(t){this.lists[t.name].setState(e[t.name]);},this);},get:function get(e,t){return void 0===t?this.lists[e]:this.properties[e].get(t);},set:function set(e,t,n,i){this.properties[e].set(t,n,i);},fromJSON:function fromJSON(e,t){var n,i;for(n=0;this.specs.length>n;n++){i=this.specs[n],i.serializable&&void 0!==t[i.name]&&this.set(i.name,e,e,t[i.name],!1);}},copy:function copy(e,t,n){this.specs.forEach(function(i){this.properties[i.name].copy(e,t,n);},this);},iterator:function iterator(e,t,n){return this.properties[e].iterator(t,n);},sortable:function sortable(){return this.specs.filter(function(e){return e.sortable;}).map(function(e){return this.lists[e.name];},this);},iterators:function iterators(e,t){var n=this.specs.filter(function(e){return e.serializable;});return n.map(function(n){var i=this.iterator(n.name,e,t);return{name:n.name,value:n.value,at:function at(e){return n.property.fn.parse(i.at(e));}};},this);},forEach:function forEach(e,t,n){var i,o,r,a,s,l=this.iterators(e,t);for(i=e;t>=i;i++){for(o={},r=0;l.length>r;r++){a=l[r],s=a.at(i),s!==a.value&&(o[a.name]=s);}n(o);}},forEachProperty:function forEachProperty(e){for(var t in this.properties){e(this.properties[t]);}}}),e.spreadsheet.ALL_PROPERTIES=n.map(e.spreadsheet.PropertyBag.prototype.specs,function(e){return e.name;}));}(window.kendo);},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("spreadsheet/references.min",["kendo.core.min"],e);}(function(){"use strict";function e(t){var n=Math.floor(t/26)-1;return(n>=0?e(n):"")+String.fromCharCode(65+t%26);}function t(e){return /^[a-z0-9_]*$/i.test(e)?e:"'"+e.replace(/\x27/g,"\\'")+"'";}function n(n,i,o,r){var a="";return++i,isFinite(i)?null==r||2&r||(i="$"+i):i="",isFinite(o)?(a=e(o),null==r||1&r||(a="$"+a)):o="",n?t(n)+"!"+a+i:a+i;}var i,o,r,a,s,l,c,d;kendo.support.browser.msie&&kendo.support.browser.version<9||(i=kendo.spreadsheet,o=kendo.Class,r=o.extend({type:"ref",hasSheet:function hasSheet(){return this._hasSheet;},simplify:function simplify(){return this;},setSheet:function setSheet(e,t){return this.sheet=e,null!=t&&(this._hasSheet=t),this;},absolute:function absolute(){return this;},relative:function relative(){return this;},adjust:function adjust(){return this;},toString:function toString(){return this.relative(0,0,3,3).print(0,0);},forEach:function forEach(e,t){e.call(t,this);},map:function map(e,t){return e.call(t,this);},intersects:function intersects(e){return this.intersect(e)!==a;},isCell:function isCell(){return!1;},toRow:function toRow(){return this;},toColumn:function toColumn(){return this;},first:function first(){return this;},lastRange:function lastRange(){return this;},size:function size(){return 1;},rangeAt:function rangeAt(){return this;},nextRangeIndex:function nextRangeIndex(){return 0;},previousRangeIndex:function previousRangeIndex(){return 0;},eq:function eq(e){var t,n,i,o,r=this,s=e;if(r===a||s===a)return r===s;if((s instanceof l||s instanceof c&&!(r instanceof l))&&(r=e,s=this),r instanceof l)return s=s.simplify(),s instanceof l&&r.row==s.row&&r.col==s.col&&r.sheet==s.sheet;if(r instanceof c){if(s instanceof c)return s.topLeft.eq(r.topLeft)&&s.bottomRight.eq(r.bottomRight);if(s instanceof d)return s.single()&&r.eq(s.refs[0]);}else if(r instanceof d&&s instanceof d){if(t=r.refs,n=s.refs,t.length!=n.length)return!1;for(i=0,o=t.length;o>i;i++){if(!t[i].eq(n[i]))return!1;}return!0;}return r===s;},concat:function concat(e){return new d([this,e]);},replaceAt:function replaceAt(e,t){return t;},forEachColumnIndex:function forEachColumnIndex(e){this.forEachAxisIndex("col",e);},forEachRowIndex:function forEachRowIndex(e){this.forEachAxisIndex("row",e);},forEachAxisIndex:function forEachAxisIndex(e,t){var n=[],i="row"===e?"forEachRow":"forEachColumn";this[i](function(t){var i=t.first()[e];-1===n.indexOf(i)&&n.push(i);}),n.sort(function(e,t){return e>t?1:t>e?-1:0;}).forEach(t);},valid:function valid(){return!1;}}),r.display=n,a=new(r.extend({init:function init(){},print:function print(){return"#NULL!";},clone:function clone(){return this;},eq:function eq(e){return e===this;},forEach:function forEach(){}}))(),s=r.extend({ref:"name",init:function init(e){this.name=e;},print:function print(){var e=t(this.name);return this.hasSheet()&&(e=t(this.sheet)+"!"+e),e;}}),l=r.extend({ref:"cell",init:function init(e,t,n){this.row=e,this.col=t,this.rel=n||0;},clone:function clone(){return new l(this.row,this.col,this.rel).setSheet(this.sheet,this.hasSheet());},intersect:function intersect(e){return e instanceof l?this.eq(e)?this:a:e.intersect(this);},print:function print(e,i){var o,r,a=this.col,s=this.row,l=this.rel;return null==e?(r=this.hasSheet()?t(this.sheet)+"!":"",a=isFinite(a)?1&l?"C["+a+"]":"C"+(a+1):"",s=isFinite(s)?2&l?"R["+s+"]":"R"+(s+1):"",r+s+a):(o=this.absolute(e,i),o.valid()?n(this._hasSheet&&this.sheet,o.row,o.col,l):"#REF!");},absolute:function absolute(e,t){var n=this.clone();return n.rel&!1?n:(1&n.rel&&(n.col+=t),2&n.rel&&(n.row+=e),n.rel=0,n);},toRangeRef:function toRangeRef(){return new c(this,this);},relative:function relative(e,t,n){var i,o;return null==n&&(n=this.rel),i=2&n?this.row-e:this.row,o=1&n?this.col-t:this.col,new l(i,o,n).setSheet(this.sheet,this.hasSheet());},height:function height(){return 1;},width:function width(){return 1;},toString:function toString(){return n(null,this.row,this.col,3);},isCell:function isCell(){return!0;},leftColumn:function leftColumn(){return this;},rightColumn:function rightColumn(){return this;},topRow:function topRow(){return this;},bottomRow:function bottomRow(){return this;},forEachRow:function forEachRow(e){e(this.toRangeRef());},forEachColumn:function forEachColumn(e){e(this.toRangeRef());},adjust:function adjust(e,t,n,i,o,r,s){var l=this.absolute(e,t);if(o){if(l.row>=r){if(0>s&&r-s>l.row)return a;l.row+=s;}}else if(l.col>=r){if(0>s&&r-s>l.col)return a;l.col+=s;}return null!=n&&null!=i&&(l=l.relative(n,i,this.rel)),l;},valid:function valid(){if(this.rel)throw Error("valid() called on relative reference");var e=this.col,t=this.row;return!(isFinite(e)&&0>e||isFinite(t)&&0>t);}}),c=r.extend({ref:"range",init:function init(e,t){e._hasSheet&&t._hasSheet&&e.sheet.toLowerCase()!=t.sheet.toLowerCase()&&(this.endSheet=t.sheet),this.topLeft=new l(e.row,e.col,e.rel),this.bottomRight=new l(t.row,t.col,t.rel),this.normalize();},clone:function clone(){return new c(this.topLeft.clone(),this.bottomRight.clone()).setSheet(this.sheet,this.hasSheet());},_containsRange:function _containsRange(e){return this._containsCell(e.topLeft)&&this._containsCell(e.bottomRight);},_containsCell:function _containsCell(e){return e.sheet==this.sheet&&e.row>=this.topLeft.row&&e.col>=this.topLeft.col&&this.bottomRight.row>=e.row&&this.bottomRight.col>=e.col;},contains:function contains(e){if(e instanceof Array){var t=this;return e.some(function(e){return t.contains(e);});}return e instanceof l?this._containsCell(e):e instanceof c?this._containsRange(e):!1;},_intersectRange:function _intersectRange(e){var t,n,i,o,r,s,d,u;return this.sheet!=e.sheet?a:(t=this.topLeft.col,n=this.topLeft.row,i=this.bottomRight.col,o=this.bottomRight.row,r=e.topLeft.col,s=e.topLeft.row,d=e.bottomRight.col,u=e.bottomRight.row,d>=t&&i>=r&&u>=n&&o>=s?new c(new l(Math.max(n,s),Math.max(t,r)),new l(Math.min(o,u),Math.min(i,d))).setSheet(this.sheet,this.hasSheet()):a);},intersect:function intersect(e){if(e===a)return e;if(e instanceof l)return this._containsCell(e)?e:a;if(e instanceof c)return this._intersectRange(e).simplify();if(e instanceof d)return e.intersect(this);throw Error("Unknown reference");},simplify:function simplify(){return this.isCell()?new l(this.topLeft.row,this.topLeft.col,this.topLeft.rel).setSheet(this.sheet,this.hasSheet()):this;},normalize:function normalize(){var e,t=this.topLeft,n=this.bottomRight,i=t.row,o=t.col,r=n.row,a=n.col,s=2&t.rel,c=1&t.rel,d=2&n.rel,u=1&n.rel,h=!1;return i>r&&(h=!0,e=i,i=r,r=e,e=s,s=d,d=e),o>a&&(h=!0,e=o,o=a,a=e,e=c,c=u,u=e),h&&(this.topLeft=new l(i,o,c|s),this.bottomRight=new l(r,a,u|d)),this;},print:function print(e,n){var i,o=this.absolute(e,n);return o.valid()?(i=this.topLeft.print(e,n)+":"+this.bottomRight.print(e,n),this.hasSheet()&&(i=t(this.sheet)+(this.endSheet?":"+t(this.endSheet):"")+"!"+i),i):"#REF!";},absolute:function absolute(e,t){return new c(this.topLeft.absolute(e,t),this.bottomRight.absolute(e,t)).setSheet(this.sheet,this.hasSheet());},relative:function relative(e,t,n,i){return null==i&&(i=n),new c(this.topLeft.relative(e,t,n),this.bottomRight.relative(e,t,i)).setSheet(this.sheet,this.hasSheet());},height:function height(){if(this.topLeft.rel!=this.bottomRight.rel)throw Error("Mixed relative/absolute references");return this.bottomRight.row-this.topLeft.row+1;},width:function width(){if(this.topLeft.rel!=this.bottomRight.rel)throw Error("Mixed relative/absolute references");return this.bottomRight.col-this.topLeft.col+1;},collapse:function collapse(){return this.topLeft.toRangeRef();},leftColumn:function leftColumn(){return new c(this.topLeft,new l(this.bottomRight.row,this.topLeft.col));},rightColumn:function rightColumn(){return new c(new l(this.topLeft.row,this.bottomRight.col),this.bottomRight);},topRow:function topRow(){return new c(this.topLeft,new l(this.topLeft.row,this.bottomRight.col));},bottomRow:function bottomRow(){return new c(new l(this.bottomRight.row,this.topLeft.col),this.bottomRight);},toRangeRef:function toRangeRef(){return this;},toRow:function toRow(e){return new c(new l(this.topLeft.row+e,this.topLeft.col),new l(this.topLeft.row+e,this.bottomRight.col));},toColumn:function toColumn(e){return new c(new l(this.topLeft.row,this.topLeft.col+e),new l(this.bottomRight.row,this.topLeft.col+e));},forEachRow:function forEachRow(e){var t,n=this.topLeft.row,i=this.bottomRight.row,o=this.topLeft.col,r=this.bottomRight.col;for(t=n;i>=t;t++){e(new c(new l(t,o),new l(t,r)));}},forEachColumn:function forEachColumn(e){var t,n=this.topLeft.row,i=this.bottomRight.row,o=this.topLeft.col,r=this.bottomRight.col;for(t=o;r>=t;t++){e(new c(new l(n,t),new l(i,t)));}},intersecting:function intersecting(e){return e.filter(function(e){return e.toRangeRef().intersects(this);},this);},union:function union(e,t){var n,i=this.intersecting(e),o=this.topLeft.row,r=this.topLeft.col,a=this.bottomRight.row,s=this.bottomRight.col,d=!1;return i.forEach(function(e){e=e.toRangeRef(),o>e.topLeft.row&&(d=!0,o=e.topLeft.row),r>e.topLeft.col&&(d=!0,r=e.topLeft.col),e.bottomRight.row>a&&(d=!0,a=e.bottomRight.row),e.bottomRight.col>s&&(d=!0,s=e.bottomRight.col),t&&t(e);}),n=new c(new l(o,r),new l(a,s)),d?n.union(e,t):n;},resize:function resize(e){function t(e){return e||0;}var n=Math.max.bind(Math,0),i=this.topLeft.row+t(e.top),o=this.topLeft.col+t(e.left),r=this.bottomRight.row+t(e.bottom),s=this.bottomRight.col+t(e.right);return 0>o&&0>s||0>i&&0>r?a:r>=i&&s>=o?new c(new l(n(i),n(o)),new l(n(r),n(s))):a;},move:function move(e,t){return new c(new l(this.topLeft.row+e,this.topLeft.col+t),new l(this.bottomRight.row+e,this.bottomRight.col+t));},first:function first(){return this.topLeft;},isCell:function isCell(){return!this.endSheet&&this.topLeft.eq(this.bottomRight);},toString:function toString(){return this.topLeft+":"+this.bottomRight;},adjust:function adjust(e,t,n,i,o,r,s){var l=this.topLeft.adjust(e,t,n,i,o,r,s),d=this.bottomRight.adjust(e,t,n,i,o,r,s);return l===a&&d===a?a:(l===a?(l=this.topLeft.absolute(e,t),o?l.row=r:l.col=r,null!=n&&null!=i&&(l=l.relative(n,i,this.topLeft.rel))):d===a&&(d=this.bottomRight.absolute(e,t),o?d.row=r-1:d.col=r-1,null!=n&&null!=i&&(d=d.relative(n,i,this.bottomRight.rel))),new c(l,d).setSheet(this.sheet,this.hasSheet()).simplify());},valid:function valid(){return this.topLeft.valid()&&this.bottomRight.valid();}}),d=r.extend({init:function init(e){this.refs=e,this.length=e.length;},clone:function clone(){return new d(this.refs.slice());},intersect:function intersect(e){var t,n,i=[];for(t=0;this.length>t;++t){n=e.intersect(this.refs[t]),n!==a&&i.push(n);}return i.length>0?new d(i).simplify():a;},simplify:function simplify(){var e=new d(this.refs.reduce(function(e,t){return t=t.simplify(),t!==a&&e.push(t),e;},[]));return e.empty()?a:e.single()?e.refs[0]:e;},absolute:function absolute(e,t){return new d(this.refs.map(function(n){return n.absolute(e,t);}));},forEach:function forEach(e,t){this.refs.forEach(e,t);},toRangeRef:function toRangeRef(){return this.refs[0].toRangeRef();},contains:function contains(e){return this.refs.some(function(t){return t.contains(e);});},map:function map(e,t){return new d(this.refs.map(e,t));},first:function first(){return this.refs[0].first();},lastRange:function lastRange(){return this.refs[this.length-1];},size:function size(){return this.length;},single:function single(){return 1==this.length;},empty:function empty(){return 0===this.length;},isCell:function isCell(){return this.single()&&this.refs[0].isCell();},rangeAt:function rangeAt(e){return this.refs[e];},nextRangeIndex:function nextRangeIndex(e){return e===this.length-1?0:e+1;},previousRangeIndex:function previousRangeIndex(e){return 0===e?this.length-1:e-1;},concat:function concat(e){return new d(this.refs.concat([e]));},print:function print(e,t){return this.refs.map(function(n){return n.print(e,t);}).join(",");},replaceAt:function replaceAt(e,t){var n=this.refs.slice();return n.splice(e,1,t),new d(n);},leftColumn:function leftColumn(){return this.map(function(e){return e.leftColumn();});},rightColumn:function rightColumn(){return this.map(function(e){return e.rightColumn();});},topRow:function topRow(){return this.map(function(e){return e.topRow();});},bottomRow:function bottomRow(){return this.map(function(e){return e.bottomRow();});},forEachRow:function forEachRow(e){this.forEach(function(t){t.forEachRow(e);});},forEachColumn:function forEachColumn(e){this.forEach(function(t){t.forEachColumn(e);});},adjust:function adjust(e,t,n,i,o,r,a){return this.map(function(s){return s.adjust(e,t,n,i,o,r,a);}).simplify();},toString:function toString(){return this.refs.map(function(e){return""+e;}).join(", ");},valid:function valid(){for(var e=this.refs.length;--e>=0;){if(this.refs[e].valid())return!1;}return!0;}}),i.NULLREF=a,i.SHEETREF=new c(new l(0,0),new l(1/0,1/0)),i.FIRSTREF=new l(0,0),i.Ref=r,i.NameRef=s,i.CellRef=l,i.RangeRef=c,i.UnionRef=d,i.SHEETREF.print=function(){return"#SHEET";});},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("spreadsheet/autofillcalculator.min",["kendo.core.min"],e);}(function(){!function(e){var t,n,i;e.support.browser.msie&&9>e.support.browser.version||(t=e.spreadsheet.RangeRef,n=e.spreadsheet.CellRef,i=e.Class.extend({init:function init(e){this._grid=e;},rectIsVertical:function rectIsVertical(e,t,n,i){var o=this._grid.rectangle(e.toRangeRef()),r=this._grid.rectangle(t.toRangeRef());return Math.abs(r[i]-o[i])>Math.abs(o[n]-r[n]);},autoFillDest:function autoFillDest(e,i){var o,r,a,s,l,c,d,u=e.topLeft,h=e.bottomRight,f=i.row>=u.row,p=i.col>=u.col;return o=f?p?4:3:p?2:1,4===o?(r=u,a=h,l=i.row>a.row||i.col>a.col,l&&(i=new n(Math.max(i.row,a.row),Math.max(i.col,a.col))),s=this.rectIsVertical(a,i,"right","bottom")?new n(i.row,a.col):new n(a.row,i.col)):3===o?(c=new n(u.col,h.row),i.row>h.row&&this.rectIsVertical(c,i,"left","bottom")?(r=u,s=new n(i.row,h.col)):(r=h,s=new n(u.row,i.col))):2===o?(d=new n(u.row,h.col),i.col>h.col&&!this.rectIsVertical(d,i,"right","top")?(r=u,s=new n(h.row,i.col)):(r=h,s=new n(i.row,u.col))):(r=h,s=this.rectIsVertical(u,i,"left","top")?new n(i.row,u.col):new n(u.row,i.col)),this._grid.normalize(new t(r,s));}}),e.spreadsheet.AutoFillCalculator=i);}(kendo);},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("spreadsheet/navigator.min",["kendo.core.min","spreadsheet/autofillcalculator.min"],e);}(function(){!function(e){var t,n,i,o;e.support.browser.msie&&9>e.support.browser.version||(t=e.spreadsheet.RangeRef,n=e.spreadsheet.CellRef,i=e.Class.extend({init:function init(e,t,n,i){this.rangeGetter=n,this.prevLeft=function(n){var o=i(this.range(n)),r=this.range(t.prevVisible(o.topLeft[e]));return i(r).topLeft[e];},this.nextRight=function(n){var o=i(this.range(n)),r=this.range(t.nextVisible(o.bottomRight[e]));return i(r).bottomRight[e];},this.nextLeft=function(n){var o=i(this.range(n));return t.nextVisible(o.bottomRight[e]);},this.prevRight=function(n){var o=i(this.range(n));return t.prevVisible(o.topLeft[e]);};},boundary:function boundary(e,t){this.top=e,this.bottom=t;},range:function range(e){return this.rangeGetter(e,this.top,this.bottom);}}),o=e.Class.extend({init:function init(t){this._sheet=t,this.columns=this._sheet._grid._columns,this.autoFillCalculator=new e.spreadsheet.AutoFillCalculator(t._grid),this.colEdge=new i("col",this._sheet._grid._columns,this.columnRange.bind(this),this.union.bind(this)),this.rowEdge=new i("row",this._sheet._grid._rows,this.rowRange.bind(this),this.union.bind(this));},height:function height(e){this._viewPortHeight=e;},union:function union(e){return this._sheet.unionWithMerged(e);},columnRange:function columnRange(e,t,n){return this._sheet._ref(t,e,n-t,1);},rowRange:function rowRange(e,t,n){return this._sheet._ref(e,t,1,n-t);},selectionIncludesMergedCells:function selectionIncludesMergedCells(){return this._sheet.select().contains(this._sheet._mergedCells);},setSelectionValue:function setSelectionValue(e){var t=this._sheet.selection();setTimeout(function(){t.value(e());});},selectAll:function selectAll(){this._sheet.select(this._sheet._sheetRef);},select:function select(e,t,n){e=this.refForMode(e,t),n&&(e=this._sheet.select().concat(e)),this._sheet.select(e);},refForMode:function refForMode(e,t){var n=this._sheet._grid;switch(t){case"range":e=n.normalize(e);break;case"row":e=n.rowRef(e.row);break;case"column":e=n.colRef(e.col);break;case"sheet":e=this._sheet._sheetRef;}return e;},startSelection:function startSelection(e,n,i,o){if("autofill"==n)this._sheet.startAutoFill();else if(o&&"range"==n){var r=new t(this._sheet.activeCell().first(),e);this._sheet.select(r,!1,!1),this._sheet.startSelection();}else this._sheet.startSelection(),this.select(e,n,i);},completeSelection:function completeSelection(){this._sheet.completeSelection();},selectForContextMenu:function selectForContextMenu(e,t){var n=this._sheet;n.select().contains(this.refForMode(e,t))||this.select(e,t);},modifySelection:function modifySelection(e){var n,i,o=this.determineDirection(e),r=this._sheet,a=this._viewPortHeight,s=r._grid._rows,l=r._grid._columns,c=r.currentOriginalSelectionRange(),d=r.select().toRangeRef(),u=r.activeCell(),h=c.topLeft.clone(),f=c.bottomRight.clone();switch(this.colEdge.boundary(d.topLeft.row,d.bottomRight.row),this.rowEdge.boundary(d.topLeft.col,d.bottomRight.col),o){case"expand-left":h.col=this.colEdge.prevLeft(h.col),n=h;break;case"shrink-right":h.col=this.colEdge.nextLeft(h.col),n=h;break;case"expand-right":f.col=this.colEdge.nextRight(f.col),n=f;break;case"shrink-left":f.col=this.colEdge.prevRight(f.col),n=f;break;case"expand-up":h.row=this.rowEdge.prevLeft(h.row),n=h;break;case"shrink-down":h.row=this.rowEdge.nextLeft(h.row),n=h;break;case"expand-down":f.row=this.rowEdge.nextRight(f.row),n=f;break;case"shrink-up":f.row=this.rowEdge.prevRight(f.row),n=f;break;case"expand-page-up":h.row=s.prevPage(h.row,a);break;case"shrink-page-up":f.row=s.prevPage(f.row,a);break;case"expand-page-down":f.row=s.nextPage(f.row,a);break;case"shrink-page-down":h.row=s.nextPage(h.row,a);break;case"first-col":h.col=l.firstVisible(),f.col=u.bottomRight.col,n=h;break;case"last-col":f.col=l.lastVisible(),h.col=u.topLeft.col,n=f;break;case"first-row":h.row=s.firstVisible(),f.row=u.bottomRight.row,n=h;break;case"last-row":f.row=s.lastVisible(),h.row=u.topLeft.row,n=f;break;case"last":f.row=s.lastVisible(),f.col=l.lastVisible(),h=u.topLeft,n=f;break;case"first":h.row=s.firstVisible(),h.col=l.firstVisible(),f=u.bottomRight,n=h;}return i=new t(h,f),this.union(i).intersects(u)?(n&&r.focus(n),void this.updateCurrentSelectionRange(i)):void this.modifySelection(o.replace("shrink","expand"));},moveActiveCell:function moveActiveCell(e){var t=this._sheet,i=t.activeCell(),o=i.topLeft,r=i.bottomRight,a=t.originalActiveCell(),s=t._grid._rows,l=t._grid._columns,c=a.row,d=a.col;switch(e){case"left":d=l.prevVisible(o.col);break;case"up":c=s.prevVisible(o.row);break;case"right":d=l.nextVisible(r.col);break;case"down":c=s.nextVisible(r.row);break;case"first-col":d=l.firstVisible();break;case"last-col":d=l.lastVisible();break;case"first-row":c=s.firstVisible();break;case"last-row":c=s.lastVisible();break;case"last":c=s.lastVisible(),d=l.lastVisible();break;case"first":c=s.firstVisible(),d=l.firstVisible();break;case"next-page":c=s.nextPage(r.row,this._viewPortHeight);break;case"prev-page":c=s.prevPage(r.row,this._viewPortHeight);}t.select(new n(c,d));},navigateInSelection:function navigateInSelection(e){for(var t,i=this._sheet,o=i.activeCell(),r=o.topLeft,a=i.originalActiveCell(),s=i._grid._rows,l=i._grid._columns,c=a.row,d=a.col,u=i.currentNavigationRange(),h=u.topLeft,f=u.bottomRight,p=!1,m=r.col,g=r.row;!p;){switch(t=new n(c,d),e){case"next":f.eq(t)?(u=i.nextNavigationRange(),c=u.topLeft.row,d=u.topLeft.col):(d=l.nextVisible(m,!0),d>f.col&&(d=h.col,c=s.nextVisible(c,!0)));break;case"previous":h.eq(t)?(u=i.previousNavigationRange(),c=u.bottomRight.row,d=u.bottomRight.col):(d=l.prevVisible(m,!0),h.col>d&&(d=f.col,c=s.prevVisible(c,!0)));break;case"lower":f.eq(t)?(u=i.nextNavigationRange(),c=u.topLeft.row,d=u.topLeft.col):(c=s.nextVisible(g,!0),c>f.row&&(c=h.row,d=l.nextVisible(d,!0)));break;case"upper":h.eq(t)?(u=i.previousNavigationRange(),c=u.bottomRight.row,d=u.bottomRight.col):(c=s.prevVisible(g,!0),h.row>c&&(c=f.row,d=l.prevVisible(d,!0)));break;default:throw Error("Unknown entry navigation: "+e);}p=!this.shouldSkip(c,d),m=d,g=c;}i.singleCellSelection()?i.select(new n(c,d)):i.activeCell(new n(c,d));},extendSelection:function extendSelection(e,n){var i,o=this._sheet,r=o._grid;return"autofill"===n?void this.resizeAutoFill(e):("range"===n?e=r.normalize(e):"row"===n?e=r.rowRef(e.row).bottomRight:"column"===n&&(e=r.colRef(e.col).bottomRight),i=o.originalActiveCell().toRangeRef(),void this.updateCurrentSelectionRange(new t(i.topLeft,e)));},shouldSkip:function shouldSkip(e,t){var i=new n(e,t),o=!1;return this._sheet.forEachMergedCell(function(e){e.intersects(i)&&!e.collapse().eq(i)&&(o=!0);}),o;},resizeAutoFill:function resizeAutoFill(e){var t,n,i,o,r,a=this._sheet,s=a.select(),l=a._autoFillOrigin,c=this.autoFillCalculator.autoFillDest(s,e),d=this.punch(s,c);d||(o=a.range(c)._previewFillFrom(a.range(l)),o&&(n=o.direction,r=o.props,0===n||1==n?(i=r[r.length-1],t=i[i.length-1].value):2===n?(i=r[0],t=i[i.length-1].value):3===n&&(i=r[r.length-1],t=i[0].value))),a.updateAutoFill(c,d,t,n);},determineDirection:function determineDirection(e){var t=this._sheet.currentSelectionRange(),n=this._sheet.activeCell(),i=n.topLeft.col==t.topLeft.col,o=n.bottomRight.col==t.bottomRight.col,r=n.topLeft.row==t.topLeft.row,a=n.bottomRight.row==t.bottomRight.row;switch(e){case"left":e=o?"expand-left":"shrink-left";break;case"right":e=i?"expand-right":"shrink-right";break;case"up":e=a?"expand-up":"shrink-up";break;case"down":e=r?"expand-down":"shrink-down";break;case"prev-page":e=a?"expand-page-up":"shrink-page-up";break;case"next-page":e=r?"expand-page-down":"shrink-page-down";}return e;},updateCurrentSelectionRange:function updateCurrentSelectionRange(e){var t=this._sheet;t.select(t.originalSelect().replaceAt(t.selectionRangeIndex(),e),!1);},punch:function punch(e,i){var o,r,a;return i.topLeft.eq(e.topLeft)&&(e.bottomRight.row>i.bottomRight.row?(r=this.rowEdge.nextRight(i.bottomRight.row),o=new t(new n(r,e.topLeft.col),e.bottomRight)):e.bottomRight.col>i.bottomRight.col&&(a=this.colEdge.nextRight(i.bottomRight.col),o=new t(new n(e.topLeft.row,a),e.bottomRight))),o;}}),e.spreadsheet.SheetNavigator=o);}(kendo);},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("spreadsheet/axismanager.min",["kendo.core.min"],e);}(function(){!function(e){if(!(e.support.browser.msie&&9>e.support.browser.version)){var t=e.Class.extend({init:function init(e){this._sheet=e;},forEachSelectedColumn:function forEachSelectedColumn(e){var t=this._sheet;t.batch(function(){t.select().forEachColumnIndex(function(n,i){e(t,n,i);});},{layout:!0,recalc:!0});},forEachSelectedRow:function forEachSelectedRow(e){var t=this._sheet;t.batch(function(){t.select().forEachRowIndex(function(n,i){e(t,n,i);});},{layout:!0,recalc:!0});},includesHiddenColumns:function includesHiddenColumns(e){return this._sheet._grid._columns.includesHidden(e.topLeft.col,e.bottomRight.col);},includesHiddenRows:function includesHiddenRows(e){return this._sheet._grid._rows.includesHidden(e.topLeft.row,e.bottomRight.row);},selectionIncludesHiddenColumns:function selectionIncludesHiddenColumns(){return this.includesHiddenColumns(this._sheet.select());},selectionIncludesHiddenRows:function selectionIncludesHiddenRows(){return this.includesHiddenRows(this._sheet.select());},deleteSelectedColumns:function deleteSelectedColumns(){this.forEachSelectedColumn(function(e,t,n){e.deleteColumn(t-n);});},deleteSelectedRows:function deleteSelectedRows(){this.forEachSelectedRow(function(e,t,n){e.deleteRow(t-n);});},hideSelectedColumns:function hideSelectedColumns(){var t,n,i,o,r,a,s;for(this.forEachSelectedColumn(function(e,t){e.hideColumn(t);}),t=this._sheet,n=t.select().toRangeRef(),i=n.topLeft.col,o=n.bottomRight.col,r=null;;){if(a=t._columns._count>o,s=i>=0,!s&&!a)break;if(a&&!t.isHiddenColumn(o)){r=o;break;}if(s&&!t.isHiddenColumn(i)){r=i;break;}i--,o++;}null!==r&&(n=new e.spreadsheet.RangeRef(new e.spreadsheet.CellRef(0,r),new e.spreadsheet.CellRef(t._rows._count-1,r)),t.range(n).select());},hideSelectedRows:function hideSelectedRows(){var t,n,i,o,r,a,s;for(this.forEachSelectedRow(function(e,t){e.hideRow(t);}),t=this._sheet,n=t.select().toRangeRef(),i=n.topLeft.row,o=n.bottomRight.row,r=null;;){if(a=t._rows._count>o,s=i>=0,!s&&!a)break;if(a&&!t.isHiddenRow(o)){r=o;break;}if(s&&!t.isHiddenRow(i)){r=i;break;}i--,o++;}null!==r&&(n=new e.spreadsheet.RangeRef(new e.spreadsheet.CellRef(r,0),new e.spreadsheet.CellRef(r,t._columns._count-1)),t.range(n).select());},unhideSelectedColumns:function unhideSelectedColumns(){this.forEachSelectedColumn(function(e,t){e.unhideColumn(t);});},unhideSelectedRows:function unhideSelectedRows(){this.forEachSelectedRow(function(e,t){e.unhideRow(t);});},addColumnLeft:function addColumnLeft(){this.forEachSelectedColumn(function(e,t,n){e.insertColumn(t-n);});},addColumnRight:function addColumnRight(){this.forEachSelectedColumn(function(e,t,n){e.insertColumn(t+(n+1));});},canAddRow:function canAddRow(){var e=this._sheet.select().toRangeRef(),t=e.height();return this._sheet.canInsertRow(0,t);},addRowAbove:function addRowAbove(){this.forEachSelectedRow(function(e,t,n){e.insertRow(t-n);});},addRowBelow:function addRowBelow(){this.forEachSelectedRow(function(e,t,n){e.insertRow(t+(n+1));});}});e.spreadsheet.AxisManager=t;}}(kendo);},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("spreadsheet/clipboard.min",["kendo.core.min"],e);}(function(){!function(e){function t(){var e=new d(0,0,0);return{ref:e,mergedCells:[],data:[],foreign:!0,origRef:e.toRangeRef()};}function n(e,t,n,i){var o,r=e.data||(e.data=[]);r[t]||(r[t]=[]),r[t][n]=i,o=e.origRef.bottomRight,o.row=Math.max(o.row,t),o.col=Math.max(o.col,n);}function i(e){return e.origRef;}function o(e){return e.replace(/^-(?:ms|moz|webkit)-/,"");}function r(e){var t={};return["borderBottom","borderRight","borderLeft","borderTop"].forEach(function(n){t[n]="none"==e[n+"Style"]?null:{size:1,color:e[n+"Color"]};}),t;}function a(e){var t=window.getComputedStyle(e[0]),n=e.text(),i=r(t),a={value:""===n?null:n,borderBottom:i.borderBottom,borderRight:i.borderRight,borderLeft:i.borderLeft,borderTop:i.borderTop,fontSize:parseInt(t["font-size"],10)};return"rgb(0, 0, 0)"!==t["background-color"]&&"rgba(0, 0, 0, 0)"!==t["background-color"]&&(a.background=t["background-color"]),"rgb(0, 0, 0)"!==t.color&&"rgba(0, 0, 0, 0)"!==t.color&&(a.color=t.color),"underline"==t["text-decoration"]&&(a.underline=!0),"italic"==t["font-style"]&&(a.italic=!0),"bold"==t["font-weight"]&&(a.bold=!0),"right"!==o(t["text-align"])&&(a.textAlign=o(t["text-align"])),"middle"!==t["vertical-align"]&&(a.verticalAlign=t["vertical-align"]),"normal"!==t["word-wrap"]&&(a.wrap=!0),a;}function s(e){var i=t();return e.find("tr").each(function(t,n){c(n).find("td").each(function(i,o){var r,a,s,l,d,u=parseInt(c(o).attr("rowspan"),10)-1||0,h=parseInt(c(o).attr("colspan"),10)-1||0,f="<td/>";if(u){for(a=t+u,s=t;a>=s;s++){if(l=e.find("tr").eq(s),s>t&&(f="<td class='rowspan'></td>",0===i?l.find("td").eq(i).after(f):(d=Math.min(l.find("td").length,i),l.find("td").eq(d-1).after(f))),h)for(r=i;h+i>r;r++){f="<td class='rowspan colspan'></td>",l.find("td").eq(r).after(f);}}}else if(h)for(r=i;h+i>r;r++){f="<td class='colspan'></td>",c(n).find("td").eq(r).after(f);}});}),e.find("tr").each(function(e,t){c(t).find("td").each(function(t,o){var r,s,l,d=parseInt(c(o).attr("rowspan"),10)-1||0,u=parseInt(c(o).attr("colspan"),10)-1||0;n(i,e,t,a(c(o))),(d||u)&&(r=String.fromCharCode(65+t),s=String.fromCharCode(65+t+u),l=r+(e+1)+":"+s+(e+1+d),i.mergedCells.push(l));});}),i;}function l(e){var i,o,r,a,s=t();if(-1===e.indexOf("	")&&-1==e.indexOf("\n"))n(s,0,0,{value:e});else for(i=e.split("\n"),o=0;i.length>o;o++){for(r=i[o].split("	"),a=0;r.length>a;a++){n(s,o,a,{value:r[a]});}}return s;}var c,d,u;e.support.browser.msie&&9>e.support.browser.version||(c=e.jQuery,d=e.spreadsheet.CellRef,u=e.Class.extend({init:function init(t){this.workbook=t,this.origin=e.spreadsheet.NULLREF,this.iframe=document.createElement("iframe"),this.iframe.className="k-spreadsheet-clipboard-paste",this.menuInvoked=!0,this._external={},this._uid=e.guid(),document.body.appendChild(this.iframe);},canCopy:function canCopy(){var t={canCopy:!0},n=this.workbook.activeSheet().select();return n===e.spreadsheet.NULLREF&&(t.canCopy=!1),n instanceof e.spreadsheet.UnionRef&&(t.canCopy=!1,t.multiSelection=!0),this.menuInvoked&&(t.canCopy=!1,t.menuInvoked=!0),t;},canPaste:function canPaste(){var t,n=this.workbook.activeSheet(),i=this.pasteRef(),o={canPaste:!0};return i===e.spreadsheet.NULLREF?(t=this.isExternal(),o.pasteOnMerged=this.intersectsMerged(),o.canPaste=o.pasteOnMerged?!1:t,o):(i.eq(n.unionWithMerged(i))||(o.canPaste=!1,o.pasteOnMerged=!0),this.menuInvoked&&(o.canPaste=!1,o.menuInvoked=!0),(i.bottomRight.row>=n._rows._count||i.bottomRight.col>=n._columns._count)&&(o.canPaste=!1,o.overflow=!0),o);},intersectsMerged:function intersectsMerged(){var e,t=this.workbook.activeSheet(),n=this.parse(this._external);return this.origin=i(n),e=this.pasteRef(),!e.eq(t.unionWithMerged(e));},copy:function copy(){var e=this.workbook.activeSheet();this.origin=e.select(),this.contents=e.selection().getState(),delete this._external.html,delete this._external.plain;},cut:function cut(){var e=this.workbook.activeSheet();this.copy(),e.range(e.select()).clear();},pasteRef:function pasteRef(){var e=this.workbook.activeSheet(),t=e.activeCell().first(),n=this.origin.first(),i=n.row-t.row,o=n.col-t.col;return this.origin.relative(i,o,3);},destroy:function destroy(){document.body.removeChild(this.iframe);},paste:function paste(){var e,t={},n=this.workbook.activeSheet();this._isInternal()?t=this.contents:(t=this.parse(this._external),this.origin=i(t)),e=this.pasteRef(),n.range(e).setState(t,this),n.triggerChange({recalc:!0,ref:e});},external:function external(e){return e&&(e.html||e.plain)?void(this._external=e):this._external;},isExternal:function isExternal(){return!this._isInternal();},parse:function parse(e){var i,o,r,d=t();return e.html?(i=this.iframe.contentWindow.document,i.open(),i.write(e.html),i.close(),o=c(i).find("table:first"),o.length?d=s(o.find("tbody:first")):e.plain?d=l(e.plain):(r=c(i.body).find(":not(style)"),n(d,0,0,a(r.text())))):d=l(e.plain),d;},_isInternal:function _isInternal(){var e,t;return void 0===this._external.html?!0:(e=!!c("<div/>").html(this._external.html).find("table.kendo-clipboard-"+this._uid).length,t=!!c("<div/>").html(this._external.plain).find("table.kendo-clipboard-"+this._uid).length,!(!e&&!t));}}),e.spreadsheet.Clipboard=u);}(kendo);},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("spreadsheet/range.min",["kendo.core.min","util/text-metrics.min"],e);}(function(){!function(e){function t(e,n,i){for(;n>=e&&i(e);){e++;}if(e>n)return[];for(var o=e+1;n>=o;++o){if(i(o))return[{begin:e,end:o-1}].concat(t(o+1,n,i));}return[{begin:e,end:n}];}function n(e){return e.replace(/M/g,"m").replace(/'/g,'"').replace(/tt/,"am/pm");}function i(t){return!/^=/.test(t)&&/number|percent/.test(e.spreadsheet.calc.parse(null,0,0,t).type);}function o(t,n,i,o){var r={baselineMarkerSize:0,width:n+"px","font-size":(i||12)+"px","word-break":o===!0?"break-all":"normal","white-space":o===!0?"pre-wrap":"pre"};return e.util.measureText(t,r,h).height;}var r,a,s,l,c,d,u,h;e.support.browser.msie&&9>e.support.browser.version||(r=e.jQuery,a=e.spreadsheet.UnionRef,s=e.spreadsheet.CellRef,l=e.spreadsheet.RangeRef,c=["color","fontFamily","underline","italic","bold","textAlign","verticalAlign","background","format","link"],d={borderTop:{complement:"borderBottom",direction:{top:-1,bottom:-1}},borderLeft:{complement:"borderRight",direction:{left:-1,right:-1}},borderRight:{complement:"borderLeft",direction:{left:1,right:1}},borderBottom:{complement:"borderTop",direction:{top:1,bottom:1}}},u=e.Class.extend({init:function init(e,t){this._sheet=t,this._ref=e;},clone:function clone(){return new u(this._ref.clone(),this._sheet);},skipHiddenCells:function skipHiddenCells(){var e=[],n=this,i=n._sheet,o=i.isHiddenRow.bind(i),r=i.isHiddenColumn.bind(i);return n._ref.forEach(function c(i){var d,u,h,f,p,m;if(i instanceof a)i.forEach(c);else for(i=n._normalize(i.toRangeRef()),d=i.topLeft,u=i.bottomRight,h=t(d.row,u.row,o),f=t(d.col,u.col,r),p=0;h.length>p;++p){for(m=0;f.length>m;++m){e.push(new l(new s(h[p].begin,f[m].begin),new s(h[p].end,f[m].end)));}}}),i.range(e.length>1?new a(e):e[0]);},_normalize:function _normalize(e){return this._sheet._grid.normalize(e);},_set:function _set(e,t,n){var i=this,o=i._sheet;return i._ref.forEach(function(n){o._set(n.toRangeRef(),e,t);}),n||o.triggerChange({recalc:"formula"==e||"value"==e||"validation"==e,value:t,ref:i._ref}),i;},_get:function _get(e){return this._sheet._get(this._ref.toRangeRef(),e);},_property:function _property(e,t){return void 0===t?this._get(e):this._set(e,t);},value:function value(e){return void 0!==e&&this._set("formula",null,!0),this._property("value",e);},resize:function resize(e){var t=this._resizedRef(e);return new u(t,this._sheet);},_resizedRef:function _resizedRef(e){return this._ref.map(function(t){return t.toRangeRef().resize(e);});},_border:function _border(t,n){var i,o=d[t].complement,r=d[t].direction,a=this._sheet;return a.batch(function(){i=this._property(t,n),void 0!==n&&this._resizedRef(r).forEach(function(t){t!==e.spreadsheet.NULLREF&&new u(t,a)._property(o,null);});}.bind(this),{}),i;},_collapsedBorder:function _collapsedBorder(t){var n=this._property(t),i=d[t].complement,o=d[t].direction;return this._resizedRef(o).forEach(function(t){if(!n&&t!==e.spreadsheet.NULLREF){var o=new u(t,this._sheet);n=o._property(i);}}.bind(this)),n;},borderTop:function borderTop(e){return this._border("borderTop",e);},borderRight:function borderRight(e){return this._border("borderRight",e);},borderBottom:function borderBottom(e){return this._border("borderBottom",e);},borderLeft:function borderLeft(e){return this._border("borderLeft",e);},collapsedBorderTop:function collapsedBorderTop(){return this._collapsedBorder("borderTop");},collapsedBorderRight:function collapsedBorderRight(){return this._collapsedBorder("borderRight");},collapsedBorderBottom:function collapsedBorderBottom(){return this._collapsedBorder("borderBottom");},collapsedBorderLeft:function collapsedBorderLeft(){return this._collapsedBorder("borderLeft");},input:function input(t){var o,r,a,s,l,c,d=this._get("format");return void 0!==t?(r=this._ref.toRangeRef().topLeft,o=e.spreadsheet.calc.parse(this._sheet.name(),r.row,r.col,t),this._sheet.batch(function(){var i=null;"exp"==o.type?i=e.spreadsheet.calc.compile(o):"@"!=d?"date"==o.type?this.format(o.format||n(e.culture().calendar.patterns.d)):"percent"==o.type?this.format(100*o.value==(100*o.value|0)?"0%":"0.00%"):o.format&&!d&&this.format(o.format):"string"!=o.type&&(o.value=t),this.formula(i),i||this.value(o.value);}.bind(this),{recalc:!0,value:t,ref:this._ref,editorChange:this._sheet.isInEditMode()}),this):(t=this._get("value"),a=this._get("formula"),s=d&&!a&&e.spreadsheet.formatting.type(t,d),a?t="="+a:d&&"date"==s&&(l=e.spreadsheet.formatting.text(t,d),o=e.spreadsheet.calc.parse(null,null,null,l),"number"==typeof o.value&&(c=e.spreadsheet.formatting.text(o.value,d),l==c))?t=l:"date"===s?t=e.toString(e.spreadsheet.numberToDate(t),e.culture().calendar.patterns.d):"percent"===s?t=100*t+"%":"string"==typeof t&&(/^[=']/.test(t)||/^(?:true|false)$/i.test(t)||i(t))&&(t="'"+t),t);},enable:function enable(e){return void 0===e?(e=!0,this._sheet.forEach(this._ref.toRangeRef(),function(t,n,i){i.enable===!1&&(e=!1);}),e):void this._property("enable",e);},formula:function formula(e){if(void 0===e){var t=this._get("formula");return t?""+t:null;}return this._property("formula",e);},validation:function validation(e){if(void 0===e){var t=this._get("validation");return t?t.toJSON():null;}return this._property("validation",e);},_getValidationState:function _getValidationState(){var e,t,n,i=this._ref.toRangeRef(),o=i.topLeft.row,r=i.topLeft.col,a=i.bottomRight.row,s=i.bottomRight.col;for(e=r;s>=e;e++){for(t=o;a>=t;t++){if(n=this._sheet._validation(t,e),n&&"reject"===n.type&&n.value===!1)return n;}}return!1;},merge:function merge(){return this._ref=this._sheet._merge(this._ref),this;},unmerge:function unmerge(){var e=this._sheet._mergedCells;return this._ref.forEach(function(t){t.toRangeRef().intersecting(e).forEach(function(t){e.splice(e.indexOf(t),1);});}),this._sheet.triggerChange({}),this;},select:function select(){return this._sheet.select(this._ref),this;},values:function values(t){var n,i,o,r,s,l,c,d,u,h;if(this._ref instanceof a)throw Error("Unsupported for multiple ranges.");if(this._ref===e.spreadsheet.NULLREF){if(void 0!==t)throw Error("Unsupported for NULLREF.");return[];}if(n=this._ref.toRangeRef(),i=n.topLeft.row,o=n.topLeft.col,r=n.bottomRight.row,s=n.bottomRight.col,void 0===t){for(t=Array(n.height()),d=0;t.length>d;d++){t[d]=Array(n.width());}for(l=o;s>=l;l++){for(c=i;r>=c;c++){t[c-i][l-o]=this._sheet._value(c,l);}}return t;}for(this._sheet._set(n,"formula",null),l=o;s>=l;l++){for(c=i;r>=c;c++){u=t[c-i],u&&(h=u[l-o],void 0!==h&&this._sheet._value(c,l,h));}}return this._sheet.triggerChange({recalc:!0,ref:n}),this;},_properties:function _properties(t){var n,i,o,r,s,l,c,d,u,h,f;if(this._ref instanceof a)throw Error("Unsupported for multiple ranges.");if(this._ref===e.spreadsheet.NULLREF){if(void 0!==t)throw Error("Unsupported for NULLREF.");return[];}if(n=this._ref.toRangeRef(),i=n.topLeft.row,o=n.topLeft.col,r=n.bottomRight.row,s=n.bottomRight.col,d=this._sheet,void 0===t)return t=Array(n.height()),d.forEach(n,function(e,n,r){e-=i,n-=o;var a=t[e]||(t[e]=[]);a[n]=r;}),t;for(n=n.clone(),h=function h(e){var t=u[e];n.topLeft.row=n.bottomRight.row=c,n.topLeft.col=n.bottomRight.col=l,"value"==e&&d._set(n,"formula",null),d._set(n,e,t);},l=o;s>=l;l++){for(c=i;r>=c;c++){f=t[c-i],f&&(u=f[l-o],u&&Object.keys(u).forEach(h));}}return d.triggerChange({recalc:!0,ref:this._ref}),this;},clear:function clear(e){var t=!e||!Object.keys(e).length,n=this._sheet,i={recalc:t||e&&e.contentsOnly===!0,ref:this._ref};return n.batch(function(){i.recalc&&this.formula(null),t&&this.validation(null),(t||e&&e.formatOnly===!0)&&(c.forEach(function(e){this[e](null);}.bind(this)),this.unmerge());}.bind(this),i),this;},clearContent:function clearContent(){return this.clear({contentsOnly:!0});},clearFormat:function clearFormat(){return this.clear({formatOnly:!0});},isSortable:function isSortable(){return!(this._ref instanceof a||this._ref===e.spreadsheet.NULLREF);},sort:function sort(t){if(this._ref instanceof a)throw Error("Unsupported for multiple ranges.");if(this._ref===e.spreadsheet.NULLREF)throw Error("Unsupported for NULLREF.");return void 0===t&&(t={column:0}),t=t instanceof Array?t:[t],this._sheet._sortBy(this._ref.toRangeRef(),t.map(function(e,t){return"number"==typeof e&&(e={column:e}),{index:void 0===e.column?t:e.column,ascending:void 0===e.ascending?!0:e.ascending};})),this;},isFilterable:function isFilterable(){return!(this._ref instanceof a);},filter:function filter(e){if(this._ref instanceof a)throw Error("Unsupported for multiple ranges.");return e===!1?this.clearFilters():(e=e===!0?[]:e instanceof Array?e:[e],this._sheet._filterBy(this._ref.toRangeRef(),e.map(function(e,t){return{index:void 0===e.column?t:e.column,filter:e.filter};}))),this;},clearFilter:function clearFilter(e){this._sheet.clearFilter(e);},clearFilters:function clearFilters(){var e,t=this._sheet.filter(),n=[];if(t){for(e=0;t.columns.length>e;e++){n.push(e);}this._sheet.batch(function(){this.clearFilter(n),this._filter=null;},{layout:!0,filter:!0});}},hasFilter:function hasFilter(){var e=this._sheet.filter();return!!e;},leftColumn:function leftColumn(){return new u(this._ref.leftColumn(),this._sheet);},rightColumn:function rightColumn(){return new u(this._ref.rightColumn(),this._sheet);},topRow:function topRow(){return new u(this._ref.topRow(),this._sheet);},bottomRow:function bottomRow(){return new u(this._ref.bottomRow(),this._sheet);},column:function column(e){return new u(this._ref.toColumn(e),this._sheet);},row:function row(e){return new u(this._ref.toRow(e),this._sheet);},forEachRow:function forEachRow(e){this._ref.forEachRow(function(t){e(new u(t,this._sheet));}.bind(this));},forEachColumn:function forEachColumn(e){this._ref.forEachColumn(function(t){e(new u(t,this._sheet));}.bind(this));},sheet:function sheet(){return this._sheet;},topLeft:function topLeft(){return this._ref.toRangeRef().topLeft;},intersectingMerged:function intersectingMerged(){var e=this._sheet,t=[];return e._mergedCells.forEach(function(e){e.intersects(this._ref)&&t.push(""+e);}.bind(this)),t;},getState:function getState(t){var n,i,o=this._ref.first(),r={ref:o,data:[],origRef:this._ref};return t?n="input"===t?["value","formula"]:"border"===t?["borderLeft","borderTop","borderRight","borderBottom"]:[t]:(n=e.spreadsheet.ALL_PROPERTIES,r.mergedCells=this.intersectingMerged()),i=r.data,this.forEachCell(function(e,t,r){var a={},s=e-o.row,l=t-o.col;i[s]||(i[s]=[]),i[s][l]=a,n.forEach(function(e){a[e]=void 0===r[e]?null:r[e];});}),r;},setState:function setState(e,t){var n=this._sheet,i=this._ref.first(),o=e.ref.row-i.row,r=e.ref.col-i.col;n.batch(function(){e.mergedCells&&this.unmerge();var a=i.row;e.data.forEach(function(o,r){if(!t||t.isExternal()||!n.isHiddenRow(e.ref.row+r)){var s=i.col;o.forEach(function(o,l){var c,d;if(!t||t.isExternal()||!n.isHiddenColumn(e.ref.col+l)){if(c=t?n.range(a,s):n.range(i.row+r,i.col+l),c.enable()){for(d in o){"value"!=d&&c._set(d,o[d]);}if(!o.formula)if(t&&t.isExternal())try{null==o.value?c._set("value",null):c.input(o.value);}catch(u){c._set("value",o.value);}else c._set("value",o.value);}s++;}}),a++;}}),e.mergedCells&&e.mergedCells.forEach(function(e){e=n._ref(e).relative(o,r,3),n.range(e).merge();},this);}.bind(this),{recalc:!0});},_adjustRowHeight:function _adjustRowHeight(){var t,n=this._sheet,i=this.getState(),o=[];for(t=0;i.mergedCells.length>t;t++){o.push(n.range(i.mergedCells[t]));}this.forEachRow(function(t){if(!(t.topLeft().row>=t.sheet()._rows._count)){var i=t.sheet().rowHeight(t.topLeft().row);t.forEachCell(function(t,r,a){var s,l,c=n.range(t,r),d=0;for(s=0;o.length>s;s++){if(c._ref.intersects(o[s]._ref)){d+=a.width;break;}}l=Math.max(n.columnWidth(r),d),i=Math.max(i,e.spreadsheet.util.getTextHeight(a.value,l,a.fontSize,a.wrap));}),n.rowHeight(t.topLeft().row,Math.max(n.rowHeight(t.topLeft().row),i));}});},forEachCell:function forEachCell(e){this._ref.forEach(function(t){this._sheet.forEach(t.toRangeRef(),e.bind(this));}.bind(this));},hasValue:function hasValue(){var e=!1;return this.forEachCell(function(t,n,i){0!==Object.keys(i).length&&(e=!0);}),e;},wrap:function wrap(t){return void 0===t?!!this._property("wrap"):(this.forEachRow(function(t){var n=t.sheet().rowHeight(t.topLeft().row);t.forEachCell(function(t,i,o){var r=this._sheet.columnWidth(i);null!==o.value&&void 0!==o.value&&(n=Math.max(n,e.spreadsheet.util.getTextHeight(o.value,r,o.fontSize,!0)));}),t.sheet().rowHeight(t.topLeft().row,n);}.bind(this)),this._property("wrap",t),this);},fontSize:function fontSize(t){return void 0===t?this._property("fontSize"):(this.forEachRow(function(n){var i=n.sheet().rowHeight(n.topLeft().row);n.forEachCell(function(n,o,r){var a=this._sheet.columnWidth(o);null!==r.value&&void 0!==r.value&&(i=Math.max(i,e.spreadsheet.util.getTextHeight(r.value,a,t,r.wrap)));}),n.sheet().rowHeight(n.topLeft().row,i);}.bind(this)),this._property("fontSize",t),this);},draw:function draw(e,t){this._sheet.draw(this,e,t);}}),r.each(c,function(e,t){u.prototype[t]=function(e){return this._property(t,e);};}),h=r('<div style="position: absolute !important; top: -4000px !important; height: auto !important;padding: 1px !important; margin: 0 !important; border: 1px solid black !important;line-height: normal !important; visibility: hidden !important;white-space: pre-wrap !important; word-break: break-all !important;" />')[0],e.spreadsheet.util={getTextHeight:o},e.spreadsheet.Range=u);}(window.kendo);},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("spreadsheet/runtime.min",["spreadsheet/references.min"],e);}(function(){"use strict";function e(t){return t instanceof e?t:void(this.code=t);}function t(e,t,n){for(var i,o=n(e),r=e;++e<t;){i=n(e),i>o&&(o=i,r=e);}return r;}function n(t,n){function i(e){var t,n,r,c;return l=e[0],t="{ ",Array.isArray(l)?(u+="while (i < args.length) { ",h+="while (i < args.length) { ",t+="xargs.push(tmp = []); stack.push(xargs); xargs = tmp; ",t+="while (i < args.length) { ",t+=e.map(i).join(""),t+="} ",t+="xargs = stack.pop(); ",h+="} ",u+="} "):"+"==l?(u+="while (i < args.length) { ",h+="while (i < args.length) { ",t+="xargs.push(tmp = []); stack.push(xargs); xargs = tmp; ",t+="do { ",t+=e.slice(1).map(i).join(""),t+="} while (i < args.length); ",t+="xargs = stack.pop(); ",h+="} ",u+="} "):"?"==l?t+="if (!("+s(e[1])+")) return new CalcError(err); ":(n=e[1],Array.isArray(n)&&/^#?collect/.test(n[0])?(r=n[2],o(),t+="try {var $"+l+" = this.cellValues(args.slice(i",r&&(t+=", i + "+r),t+=")).filter(function($"+l+"){ ","collect"==n[0]&&(t+="if ($"+l+" instanceof CalcError) throw $"+l+"; "),t+="return "+s(n[1])+"; }, this); ",t+=r?"i += "+r+"; ":"i = args.length; ",t+="xargs.push($"+l+")} catch(ex) { if (ex instanceof CalcError) return ex; throw ex; } ",h+="toResolve.push(args.slice(i)); "):"rest"==n?t+="xargs.push(args.slice(i)); i = args.length; ":((m=/^\*/.test(l))&&(g=!0,l=l.substr(1)),t+="var $"+l+" = args[i++]; ",c=!1,/!$/.test(n)?(n=n.substr(0,n.length-1),c=!0):t+="if ($"+l+" instanceof CalcError) return $"+l+"; ",t+=a(n,c)+"xargs.push($"+l+"); ")),t+="} ";}function o(){return c?"$"+l:(p=!0,c=!0,h+="toResolve.push(args[i++]); ","($"+l+" = this.force($"+l+"))");}function r(){return"((typeof "+o()+" == 'number') || (typeof $"+l+" == 'boolean') || (typeof $"+l+" == 'string' && !/^(?:=|true|false)/i.test($"+l+") ? (tmp = kendo.spreadsheet.calc.parse(0, 0, 0, $"+l+"), /^date|number|percent$/.test(tmp.type) ? ($"+l+" = +tmp.value, true) : false) : false))";}function a(e,t){c=!1;var n="if (!("+s(e)+")) { ";return c&&!t&&(n+=" if ($"+l+" instanceof CalcError) return $"+l+"; "),n+="return new CalcError(err); } ",c||(h+="i++; "),u+=m?"var $"+l+" = this.asMatrix(args[i]); if ($"+l+") { xargs.push($"+l+"); width = Math.max(width, $"+l+".width); height = Math.max(height, $"+l+".height); arrays.push(true) } else { xargs.push(args[i]); arrays.push(false); } i++; ":"xargs.push(args[i++]); arrays.push(false); ",n;}function s(e){if(Array.isArray(e)){if("or"==e[0])return"("+e.slice(1).map(s).join(") || (")+")";if("and"==e[0])return"("+e.slice(1).map(s).join(") && (")+")";if("values"==e[0])return"("+e.slice(1).map(function(e){return o()+" === "+e;}).join(") || (")+")";if("null"==e[0])return"("+s("null")+" ? (($"+l+" = "+e[1]+"), true) : false)";if("between"==e[0]||"[between]"==e[0])return"("+o()+" >= "+e[1]+" && $"+l+" <= "+e[2]+" ? true : ((err = 'NUM'), false))";if("(between)"==e[0])return"("+o()+" > "+e[1]+" && $"+l+" < "+e[2]+" ? true : ((err = 'NUM'), false))";if("(between]"==e[0])return"("+o()+" > "+e[1]+" && $"+l+" <= "+e[2]+" ? true : ((err = 'NUM'), false))";if("[between)"==e[0])return"("+o()+" >= "+e[1]+" && $"+l+" < "+e[2]+" ? true : ((err = 'NUM'), false))";if("assert"==e[0]){var t=e[2]||"N/A";return"(("+e[1]+") ? true : (err = "+JSON.stringify(t)+", false))";}if("not"==e[0])return"!("+s(e[1])+")";throw Error("Unknown array type condition: "+e[0]);}if("number"==e||"datetime"==e)return r();if("integer"==e||"date"==e)return"("+r()+" && (($"+l+" |= 0), true))";if("divisor"==e)return"("+r()+" && ($"+l+" == 0 ? ((err = 'DIV/0'), false) : true))";if("number+"==e)return"("+r()+" && ($"+l+" >= 0 ? true : ((err = 'NUM'), false)))";if("integer+"==e)return"("+r()+" && (($"+l+" |= 0) >= 0 ? true : ((err = 'NUM'), false)))";if("number++"==e)return"("+r()+" && ($"+l+" > 0 ? true : ((err = 'NUM'), false)))";if("integer++"==e)return"("+r()+" && (($"+l+" |= 0) > 0 ? true : ((err = 'NUM'), false)))";if("string"==e)return"((typeof "+o()+" == 'string' || typeof $"+l+" == 'boolean' || typeof $"+l+" == 'number') ? ($"+l+" += '', true) : false)";if("boolean"==e)return"(typeof "+o()+" == 'boolean')";if("logical"==e)return"(typeof "+o()+" == 'boolean' || (typeof $"+l+" == 'number' ? ($"+l+" = !!$"+l+", true) : false))";if("matrix"==e)return o(),"((m = this.asMatrix($"+l+")) ? ($"+l+" = m) : false)";if("#matrix"==e)return"((m = this.asMatrix($"+l+")) ? ($"+l+" = m) : false)";if("ref"==e)return"($"+l+" instanceof kendo.spreadsheet.Ref)";if("area"==e)return"($"+l+" instanceof kendo.spreadsheet.CellRef || $"+l+" instanceof kendo.spreadsheet.RangeRef)";if("cell"==e)return"($"+l+" instanceof kendo.spreadsheet.CellRef)";if("null"==e)return"("+o()+" == null)";if("anyvalue"==e)return"("+o()+" != null && i <= args.length)";if("forced"==e)return"("+o()+", i <= args.length)";if("anything"==e)return"(i <= args.length)";if("blank"==e)return"("+o()+" == null || $"+l+" === '')";throw Error("Can't check for type: "+e);}var l,c,d,u="function arrayArgs(args) { var xargs = [], width = 0, height = 0, arrays = [], i = 0; ",h="function resolve(args, callback) { var toResolve = [], i = 0; ",f="'use strict'; function check(args) { var stack = [], tmp, xargs = [], i = 0, m, err = 'VALUE'; ",p=!1,m=!1,g=!1;return f+=n.map(i).join(""),f+="if (i < args.length) return new CalcError('N/A'); ",f+="return xargs; } ",u+="return { args: xargs, width: width, height: height, arrays: arrays }; } ",p?(h+="this.resolveCells(toResolve, callback); } ",d=Function("CalcError",f+h+u+" return { resolve: resolve, check: check, arrayArgs: arrayArgs };")):d=Function("CalcError",f+" return { check: check };"),d=d(e),g||delete d.arrayArgs,d;}function i(t,n,i){if(i instanceof e)return i;try{return n.apply(t,i);}catch(o){if(o instanceof e)return o;throw o;}}function o(e,t,n,o){return function(r,a){function s(){var t,s,l,c,d,u,h;if(o&&(t=o.call(this,a),a=t.args,t.width>0&&t.height>0)){for(s=new R(this),l=0;t.height>l;++l){for(c=0;t.width>c;++c){for(d=[],u=0;a.length>u;++u){t.arrays[u]?(h=a[u],d[u]=h.get(l%h.height,c%h.width)):d[u]=a[u];}d=n.call(this,d),s.set(l,c,i(this,e,d));}}return r(s);}d=n.call(this,a),r(i(this,e,d));}t?t.call(this,a,s):s.call(this);};}function r(t,n,i,o){return function(r,a){function s(){var n,s,l,c,d,u,h,f,p;if(o&&(n=o.call(this,a),a=n.args,n.width>0&&n.height>0))for(s=new R(this),l=n.width*n.height,c=function c(e,t){return function(n){return s.set(e,t,n),--l,0===l?r(s):void 0;};},d=0;n.height>d&&l>0;++d){for(u=0;n.width>u&&l>0;++u){for(h=[],f=0;a.length>f;++f){n.arrays[f]?(p=a[f],h[f]=p.get(d%p.height,u%p.width)):h[f]=a[f];}if(h=i.call(this,h),h instanceof e){if(s.set(d,u,h),--l,0===l)return r(s);}else h.unshift(c(d,u)),t.apply(this,h);}}else n=i.call(this,a),n instanceof e?r(n):(n.unshift(r),t.apply(this,n));}n?n.call(this,a,s):s.call(this);};}function a(e,t){return e=e.toLowerCase(),F[e]=t,{args:function args(i,r){var a,s=n(e,i);return r&&(s.arrayArgs&&console.log(""+s.arrayArgs),s.resolve&&console.log(""+s.resolve),s.check&&console.log(""+s.check)),a=F[e]=o(t,s.resolve,s.check,s.arrayArgs),a.kendoSpreadsheetArgs=i,this;},argsAsync:function argsAsync(i,o){var a,s=n(e,i);return o&&(s.arrayArgs&&console.log(""+s.arrayArgs),s.resolve&&console.log(""+s.resolve),s.check&&console.log(""+s.check)),a=F[e]=r(t,s.resolve,s.check,s.arrayArgs),a.kendoSpreadsheetArgs=i,this;}};}function s(e,t,n){return t++,(1461*(e+4800+((t-14)/12|0))/4|0)+(367*(t-2-12*((t-14)/12|0))/12|0)-(3*((e+4900+((t-14)/12|0))/100|0)/4|0)+n-32075;}function l(e){var t,n,i,o,r,a,s;return t=e+68569,n=4*t/146097|0,t-=(146097*n+3)/4|0,o=4e3*(t+1)/1461001|0,t=t-(1461*o/4|0)+31,i=80*t/2447|0,a=t-(2447*i/80|0),t=i/11|0,r=i+2-12*t,s=100*(n-49)+o+t,r--,{year:s,month:r,date:a,day:(e+1)%7,ord:z[c(s)][r]+a};}function c(e){return e%4?0:e%100?1:e%400?0:1;}function d(e){return c(e)?366:365;}function u(e,t){return c(e)&&1==t?29:P[t];}function h(e){return l((0|e)+M);}function f(e,t,n){return s(e,t,n)-M;}function p(e){var t,n,i,o,r=e-(0|e);return 0>r&&r++,t=Math.round(H*r),n=Math.floor(t/L),t-=n*L,i=Math.floor(t/B),t-=i*B,o=Math.floor(t/1e3),t-=1e3*o,{hours:n,minutes:i,seconds:o,milliseconds:t};}function m(e){var t=h(e),n=p(e);return new Date(t.year,t.month,t.date,n.hours,n.minutes,n.seconds,n.milliseconds);}function g(e,t,n,i){return(e+(t+(n+i/1e3)/60)/60)/24;}function v(e){var t=g(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds());return e=f(e.getFullYear(),e.getMonth(),e.getDate()),0>e?e-1+t:e+t;}function _(e){return kendo.parseDate(e)||kendo.parseDate(e,["MMMM dd yyyy","MMMM dd yy","MMM dd yyyy","MMM dd yy","dd MMMM yyyy","dd MMMM yy","dd MMM yyyy","dd MMM yy","MMMM dd, yyyy","MMMM dd, yy","MMM dd, yyyy","MMM dd, yy","MMMM dd","MMM dd","MMMM yyyy","MMM yyyy","dd MMMM","dd MMM"]);}function b(t){return function(n,i){return"string"==typeof n&&"string"!=typeof i&&(i=null==i?"":i+""),"string"!=typeof n&&"string"==typeof i&&(n=null==n?"":n+""),"number"==typeof n&&null==i&&(i=0),"number"==typeof i&&null==n&&(n=0),"string"==typeof n&&"string"==typeof i&&(n=n.toLowerCase(),i=i.toLowerCase()),(typeof i==="undefined"?"undefined":_typeof(i))==(typeof n==="undefined"?"undefined":_typeof(n))?t(n,i):new e("VALUE");};}var w,y,k,x,C,S,T,D,A,E,R,I,F,M,P,z,B,L,H,N,O,V;kendo.support.browser.msie&&kendo.support.browser.version<9||(w={},y=kendo.spreadsheet,y.calc=w,k=w.runtime={},x=kendo.Class,C=y.Ref,S=y.CellRef,T=y.RangeRef,D=y.UnionRef,A=y.NULLREF,e.prototype.toString=function(){return"#"+this.code+("NAME"==this.code?"?":"!");},E=x.extend({init:function init(e,t,n,i){this.callback=e,this.formula=t,this.ss=n,this.parent=i;},resolve:function resolve(e){var t=this;e instanceof C?t.resolveCells([e],function(){e=t.getRefData(e),Array.isArray(e)&&(e=e[0]),t._resolve(e);}):t._resolve(e);},error:function error(t){return new e(t);},_resolve:function _resolve(e){void 0===e&&(e=null);var t=this.formula;t.value=e,this.ss.onFormula(t)&&this.callback&&this.callback.call(t,e);},resolveCells:function resolveCells(e,t){function n(e){e.formula.exec(a.ss,function(){--o||t.call(a);},a);}function i(e){var t,n;for(t=0;e.length>t;++t){n=e[t],n.formula&&s.push(n);}return!0;}var o,r,a=this,s=[];if(function l(e){var t,n;for(t=0;e.length>t;++t){n=e[t],n instanceof C&&i(a.getRefCells(n)),Array.isArray(n)&&l(n);}}(e),!s.length)return t.call(a);for(o=s.length,r=0;s.length>r;++r){n(s[r]);}},cellValues:function cellValues(e,t){var n,i,o=[];for(n=0;e.length>n;++n){i=e[n],i instanceof C?(i=this.getRefData(i),o=o.concat(i)):Array.isArray(i)?o=o.concat(this.cellValues(i)):i instanceof R?o=o.concat(this.cellValues(i.data)):o.push(i);}return t?t.apply(this,o):o;},force:function force(e){return e instanceof C?this.getRefData(e):e;},func:function func(t,n,i){t=t.toLowerCase();var o=F[t];return o?o.call(this,n,i):void n(new e("NAME"));},bool:function bool(e){return e instanceof C&&(e=this.getRefData(e)),"string"==typeof e?"true"==e.toLowerCase():"number"==typeof e?0!==e:"boolean"==typeof e?e:null!=e;},asMatrix:function asMatrix(e){var t,n,i,o,r,a,s;return e instanceof R?e:(t=this,e instanceof T?(n=e.topLeft,i=n.row,o=n.col,r=t.getRefCells(e),a=new R(t),isFinite(e.width())&&(a.width=e.width()),isFinite(e.height())&&(a.height=e.height()),isFinite(i)||(i=0),isFinite(o)||(o=0),r.forEach(function(e){a.set(e.row-i,e.col-o,e.value);}),a):Array.isArray(e)&&e.length>0?(a=new R(t),s=0,e.forEach(function(e){var n=0,i=1;e.forEach(function(e){var o=e instanceof T;e instanceof C&&!o&&(e=t.getRefData(e)),(o||Array.isArray(e))&&(e=t.asMatrix(e)),e instanceof R?(e.each(function(e,t,i){a.set(s+t,n+i,e);}),i=Math.max(i,e.height),n+=e.width):a.set(s,n++,e);}),s+=i;}),a):void 0);},getRefCells:function getRefCells(e,t){return this.ss.getRefCells(e,t);},getRefData:function getRefData(e){return this.ss.getData(e);},workbook:function workbook(){return this.ss.workbook;}}),R=x.extend({init:function init(e){this.context=e,this.height=0,this.width=0,this.data=[];},clone:function clone(){var e=new R(this.context);return e.height=this.height,e.width=this.width,e.data=this.data.map(function(e){return e.slice();}),e;},get:function get(e,t){var n=this.data[e],i=n?n[t]:null;return i instanceof C?this.context.getRefData(i):i;},set:function set(e,t,n){var i=this.data[e];null==i&&(i=this.data[e]=[]),i[t]=n,e>=this.height&&(this.height=e+1),t>=this.width&&(this.width=t+1);},each:function each(e,t){var n,i,o;for(n=0;this.height>n;++n){for(i=0;this.width>i;++i){if(o=this.get(n,i),(t||null!=o)&&(o=e.call(this.context,o,n,i),void 0!==o))return o;}}},map:function map(e,t){var n=new R(this.context);return this.each(function(t,i,o){n.set(i,o,e.call(this,t,i,o));},t),n;},eachRow:function eachRow(e){var t,n;for(t=0;this.height>t;++t){if(n=e.call(this.context,t),void 0!==n)return n;}},eachCol:function eachCol(e){var t,n;for(t=0;this.width>t;++t){if(n=e.call(this.context,t),void 0!==n)return n;}},mapRow:function mapRow(e){var t=new R(this.context);return this.eachRow(function(n){t.set(n,0,e.call(this.context,n));}),t;},mapCol:function mapCol(e){var t=new R(this.context);return this.eachCol(function(n){t.set(0,n,e.call(this.context,n));}),t;},toString:function toString(){return JSON.stringify(this.data);},transpose:function transpose(){var e=new R(this.context);return this.each(function(t,n,i){e.set(i,n,t);}),e;},unit:function unit(e){var t,n,i,o;for(this.width=this.height=e,t=this.data=Array(e),n=e;--n>=0;){for(i=t[n]=Array(e),o=e;--o>=0;){i[o]=n==o?1:0;}}return this;},multiply:function multiply(t){var n,i,o,r,a,s,l=this,c=new R(l.context);for(n=0;l.height>n;++n){for(i=0;t.width>i;++i){for(o=0,r=0;l.width>r;++r){if(a=l.get(n,r),s=t.get(r,i),"number"!=typeof a||"number"!=typeof s)throw new e("VALUE");o+=a*s;}c.set(n,i,o);}}return c;},adds:function adds(e,t){var n,i,o,r,a=this,s=new R(a.context),l=t?-1:1;for(n=0;a.height>n;++n){for(i=0;a.width>i;++i){o=a.get(n,i),r=e.get(n,i),s.set(n,i,o+l*r);}}return s;},determinant:function determinant(){var e,t,n,i,o,r=this.clone().data,a=r.length,s=1;for(e=0;a>e;e++){for(t=e;a>t&&!r[t][e];t++){}if(t==a)return 0;if(t!=e)for(s=-s,i=e;a>i;i++){o=r[e][i],r[e][i]=r[t][i],r[t][i]=o;}for(n=e+1;a>n;n++){for(i=e+1;a>i;i++){r[n][i]-=r[e][i]*r[n][e]/r[e][e];}}s*=r[e][e];}return s;},inverse:function inverse(){var e,n,i,o,r,a,s=this.width,l=this.augment(new R(this.context).unit(s)),c=l.data;for(n=0;s>n;++n){if(i=t(n,s,function(e){return c[e][n];}),!c[i][n])return null;for(n!=i&&(e=c[n],c[n]=c[i],c[i]=e),o=n+1;s>o;++o){for(r=n+1;2*s>r;++r){c[o][r]-=c[n][r]*c[o][n]/c[n][n];}c[o][n]=0;}}for(o=0;s>o;++o){for(a=c[o][o],r=0;2*s>r;++r){c[o][r]/=a;}}for(n=s;--n>=0;){for(o=n;--o>=0;){if(c[o][n])for(r=2*s;--r>=s;){c[o][r]-=c[n][r]*c[o][n];}}}return l.slice(0,s,s,s);},augment:function augment(e){var t=this.clone(),n=t.width;return e.each(function(e,i,o){t.set(i,o+n,e);}),t;},slice:function slice(e,t,n,i){var o,r,a=new R(this.context);for(o=0;n>o;++o){for(r=0;i>r;++r){a.set(o,r,this.get(e+o,t+r));}}return a;}}),I=x.extend({init:function init(e,t,n,i,o,r){this.refs=e,this.handler=t,this.print=n,this.absrefs=null,this.sheet=i,this.row=o,this.col=r,this.onReady=[],this.pending=!1;},clone:function clone(e,t,n){var i=e.toLowerCase(),o=this.refs;return i!=this.sheet.toLowerCase()&&(o=o.map(function(t){return t.hasSheet()||t.sheet.toLowerCase()==i||(t=t.clone().setSheet(e)),t;})),new I(o,this.handler,this.print,e,t,n);},resolve:function resolve(e){this.pending=!1,this.onReady.forEach(function(t){t(e);});},exec:function exec(t,n,i){if("value"in this)n&&n(this.value);else{n&&this.onReady.push(n);for(var o=new E(this.resolve,this,t,i);i;){if(i.formula===this)return this.pending=!1,void o.resolve(new e("CIRCULAR"));i=i.parent;}if(this.pending)return;this.pending=!0,this.absrefs||(this.absrefs=this.refs.map(function(e){return e.absolute(this.row,this.col);},this)),this.handler.call(o);}},reset:function reset(){this.onReady=[],this.pending=!1,delete this.value;},renameSheet:function renameSheet(e,t){e=e.toLowerCase(),this.absrefs=null,this.sheet.toLowerCase()==e&&(this.sheet=t),this.refs.forEach(function(n){n.sheet.toLowerCase()==e&&(n.sheet=t);});},adjust:function adjust(e,t,n,i){var o,r,a,s,l,c;e=e.toLowerCase(),o=this.row,r=this.col,a=this.sheet.toLowerCase(),s=!1,a==e&&("row"==t&&o>=n&&(this.row+=i,s=!0),"col"==t&&r>=n&&(this.col+=i,s=!0)),l=this.row,c=this.col,this.absrefs=null,this.refs=this.refs.map(function(a){return a===A?a:a.sheet.toLowerCase()!=e?(s&&("row"==t&&o>=n&&(a=a.relative(i,0)),"col"==t&&r>=n&&(a=a.relative(0,i))),a):a.adjust(o,r,l,c,"row"==t,n,i);},this);},toString:function toString(){return this.print(this.row,this.col);}}),F=Object.create(null),F["if"]=function(t,n){var i=this,o=n[0],r=n[1],a=n[2];this.resolveCells([o],function(){var n=i.asMatrix(o);n?r(function(o){a(function(r){var a=i.asMatrix(o),s=i.asMatrix(r);t(n.map(function(t,n,l){return t instanceof e?t:i.bool(t)?a?a.get(n,l):o:s?s.get(n,l):r;}));});}):(o=this.force(o),o instanceof e?t(o):i.bool(o)?r(t):a(t));});},F[""]=function(e){e((1+Math.sqrt(5))/2);},M=s(1900,0,-1),P=[31,28,31,30,31,30,31,31,30,31,30,31],z=[[0,31,59,90,120,151,181,212,243,273,304,334],[0,31,60,91,121,152,182,213,244,274,305,335]],B=6e4,L=60*B,H=24*L,k.CalcError=e,k.Formula=I,k.Matrix=R,k.packDate=f,k.unpackDate=h,k.packTime=g,k.unpackTime=p,k.serialToDate=m,k.dateToSerial=v,k.daysInMonth=u,k.isLeapYear=c,k.daysInYear=d,k.parseDate=_,y.dateToNumber=v,y.numberToDate=m,y.defineFunction=a,y.CalcError=e,k.defineFunction=a,k.defineAlias=function(e,t){var n=F[t];if(!n)throw Error("Function "+t+" is not yet defined");n.kendoSpreadsheetAliases||(n.kendoSpreadsheetAliases=[t]),n.kendoSpreadsheetAliases.push(e),F[e]=n;},k.FUNCS=F,N=["or","number",["null",0]],O=[["*a",N],["*b",N]],V=[["*a",["or","anyvalue",["null",0]]],["*b",["or","anyvalue",["null",0]]]],a("binary+",function(e,t){return e+t;}).args(O),a("binary-",function(e,t){return e-t;}).args(O),a("binary*",function(e,t){return e*t;}).args(O),a("binary/",function(e,t){return e/t;}).args([["*a",N],["*b","divisor"]]),a("binary^",function(e,t){return Math.pow(e,t);}).args(O),a("binary&",function(e,t){return null==e&&(e=""),null==t&&(t=""),""+e+t;}).args([["*a",["or","number","string","boolean","null"]],["*b",["or","number","string","boolean","null"]]]),a("binary=",function(e,t){return e===t;}).args(V),a("binary<>",function(e,t){return e!==t;}).args(V),a("binary<",b(function(e,t){return t>e;})).args(V),a("binary<=",b(function(e,t){return t>=e;})).args(V),a("binary>",b(function(e,t){return e>t;})).args(V),a("binary>=",b(function(e,t){return e>=t;})).args(V),a("unary+",function(e){return e;}).args([["*a",N]]),a("unary-",function(e){return-e;}).args([["*a",N]]),a("unary%",function(e){return e/100;}).args([["*a",N]]),a("binary:",function(e,t){return new T(e,t).setSheet(e.sheet||this.formula.sheet,e.hasSheet());}).args([["a","cell"],["b","cell"]]),a("binary,",function(e,t){return new D([e,t]);}).args([["a","ref"],["b","ref"]]),a("binary ",function(e,t){return e.intersect(t);}).args([["a","ref"],["b","ref"]]),a("not",function(e){return!this.bool(e);}).args([["*a",["or","anyvalue",["null",0]]]]),a("isblank",function(e){return e instanceof S?(e=this.getRefData(e),null==e):!1;}).args([["*value","anything!"]]),a("iserror",function(t){return t instanceof e;}).args([["*value","forced!"]]),a("iserr",function(t){return t instanceof e&&"N/A"!=t.code;}).args([["*value","forced!"]]),a("isna",function(t){return t instanceof e&&"N/A"==t.code;}).args([["*value","forced!"]]),a("islogical",function(e){return"boolean"==typeof e;}).args([["*value","forced!"]]),a("isnontext",function(e){return"string"!=typeof e;}).args([["*value","forced!"]]),a("istext",function(e){return"string"==typeof e;}).args([["*value","forced!"]]),a("isnumber",function(e){return"number"==typeof e;}).args([["*value","forced!"]]),a("isref",function(e){return e instanceof S||e instanceof T;}).args([["*value","anything!"]]));},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("spreadsheet/validation.min",["spreadsheet/runtime.min"],e);}(function(){"use strict";function e(e,t,o,s){var c,d,u,h;if("string"==typeof s&&(s=JSON.parse(s)),s.from&&("list"===s.dataType&&(s.from=kendo.format(r,s.from)),"date"===s.dataType&&(u=i.runtime.parseDate(s.from),u&&(s.from=kendo.format(a,s.from),s.fromIsDateValue=!0)),s.from=i.compile(i.parseFormula(e,t,o,s.from))),s.to&&("date"===s.dataType&&(h=i.runtime.parseDate(s.to),h&&(s.to=kendo.format(a,s.to),s.toIsDateValue=!0)),s.to=i.compile(i.parseFormula(e,t,o,s.to))),d="custom"==s.dataType?n.validationComparers.custom:"list"==s.dataType?n.validationComparers.list:n.validationComparers[s.comparerType],!d)throw kendo.format("'{0}' comparer is not implemented.",s.comparerType);return c=function c(e){var t,n=this.to&&this.to.value?this.to.value:void 0;return null===e||""===e?this.value=!!this.allowNulls:"custom"==this.dataType?this.value=d(e,this.from.value,n):"list"==this.dataType?(t=this._getListData(),this.value=d(e,t,n)):this.value=d(e,this.from.value,n),this.value;},new kendo.spreadsheet.validation.Validation(l.extend(s,{handler:c,sheet:e,row:t,col:o}));}var t,n,i,o,r,a,s,l=kendo.jQuery;kendo.support.browser.msie&&kendo.support.browser.version<9||(t=kendo.spreadsheet,n={},t.validation=n,i=t.calc,o=kendo.Class,r="_matrix({0})",a='DATEVALUE("{0}")',i.runtime.defineFunction("_matrix",function(e){return e;}).args([["m","matrix"]]),s=o.extend({init:function init(e){this.handler=e.handler,this.from=e.from,this.to=e.to,this.dataType=e.dataType,this.comparerType=e.comparerType,this.type=e.type?e.type:"warning",this.allowNulls=!!e.allowNulls,this.fromIsDateValue=!!e.fromIsDateValue,this.toIsDateValue=!!e.toIsDateValue,this.sheet=e.sheet,this.row=e.row,this.col=e.col,e.tooltipMessageTemplate&&(this.tooltipMessageTemplate=e.tooltipMessageTemplate),e.tooltipTitleTemplate&&(this.tooltipTitleTemplate=e.tooltipTitleTemplate),e.messageTemplate&&(this.messageTemplate=e.messageTemplate),e.titleTemplate&&(this.titleTemplate=e.titleTemplate);},_formatMessages:function _formatMessages(e){var t=this.from?this.from.value:"",n=this.to?this.to.value:"",i=this.from?""+this.from:"",o=this.to?""+this.to:"",r=this.dataType,a=this.type,s=this.comparerType;return kendo.format(e,t,n,i,o,r,a,s);},_setMessages:function _setMessages(){this.title="",this.message="",this.tooltipTitleTemplate&&(this.tooltipTitle=this._formatMessages(this.tooltipTitleTemplate)),this.tooltipMessageTemplate&&(this.tooltipMessage=this._formatMessages(this.tooltipMessageTemplate)),this.titleTemplate&&(this.title=this._formatMessages(this.titleTemplate)),this.messageTemplate&&(this.message=this._formatMessages(this.messageTemplate));},_getListData:function _getListData(){var e,t,n,i,o;if(!this.from.value||!this.from.value.data)return[];for(e=this.from.value.data,i=[],t=0;e.length>t;t++){if(o=e[t])for(n=0;o.length>n;n++){i.push(o[n]);}}return i;},clone:function clone(e,t,n){var i=this._getOptions();return i.from&&(i.from=i.from.clone(e,t,n)),i.to&&(i.to=i.to.clone(e,t,n)),new s(l.extend(i,{handler:this.handler},{sheet:e,row:t,col:n}));},exec:function exec(e,t,n,i){var o=this,r=function r(){o.value=o.handler.call(o,t,n),o._setMessages(),i&&i(o.value);};o.to?o.to.exec(e,function(){o.from.exec(e,r);}):o.from.exec(e,r);},reset:function reset(){this.from&&this.from.reset(),this.to&&this.to.reset(),delete this.value;},adjust:function adjust(e,t,n,i){var o,r;if(this.from&&this.from.adjust(e,t,n,i),this.to&&this.to.adjust(e,t,n,i),this.sheet.toLowerCase()==e.toLowerCase())switch(o=this.row,r=this.col,t){case"row":o>=n&&(this.row+=i);break;case"col":r>=n&&(this.col+=i);}},toJSON:function toJSON(){var e=this._getOptions();return e.from&&(e.from=""+e.from,"list"===e.dataType&&(e.from=e.from.replace(/^_matrix\((.*)\)$/i,"$1")),"date"===e.dataType&&this.fromIsDateValue&&(e.from=e.from.replace(/^DATEVALUE\("(.*)"\)$/i,"$1"))),e.to&&(e.to=""+e.to,"date"===e.dataType&&this.toIsDateValue&&(e.to=e.to.replace(/^DATEVALUE\("(.*)"\)$/i,"$1"))),e;},_getOptions:function _getOptions(){return{from:this.from,to:this.to,dataType:this.dataType,type:this.type,comparerType:this.comparerType,row:this.row,col:this.col,sheet:this.sheet,allowNulls:this.allowNulls,tooltipMessageTemplate:this.tooltipMessageTemplate,tooltipTitleTemplate:this.tooltipTitleTemplate,messageTemplate:this.messageTemplate,titleTemplate:this.titleTemplate};}}),n.compile=e,n.validationComparers={greaterThan:function greaterThan(e,t){return e>t;},lessThan:function lessThan(e,t){return t>e;},between:function between(e,t,n){return e>=t&&n>=e;},equalTo:function equalTo(e,t){return e==t;},notEqualTo:function notEqualTo(e,t){return e!=t;},greaterThanOrEqualTo:function greaterThanOrEqualTo(e,t){return e>=t;},lessThanOrEqualTo:function lessThanOrEqualTo(e,t){return t>=e;},notBetween:function notBetween(e,t,n){return t>e||e>n;},custom:function custom(e,t){return t;},list:function list(e,t){return t.indexOf(e)>-1;}},n.Validation=s);},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("spreadsheet/sheet.min",["kendo.core.min","kendo.color.min","spreadsheet/runtime.min","spreadsheet/validation.min","spreadsheet/references.min"],e);}(function(){!function(e){var t,n,i,o,r;e.support.browser.msie&&9>e.support.browser.version||(t=e.spreadsheet.RangeRef,n=e.spreadsheet.CellRef,i=e.spreadsheet.Range,o=e.Class.extend({init:function init(t){this._sheet=t,this.selection=e.spreadsheet.FIRSTREF.toRangeRef(),this.originalSelection=e.spreadsheet.FIRSTREF.toRangeRef(),this._activeCell=e.spreadsheet.FIRSTREF.toRangeRef(),this.originalActiveCell=e.spreadsheet.FIRSTREF;},currentSelectionRange:function currentSelectionRange(){return this.selection.rangeAt(this.selectionRangeIndex).toRangeRef();},currentOriginalNavigationRange:function currentOriginalNavigationRange(){return this.originalSelection.rangeAt(this.selectionRangeIndex).toRangeRef();},currentNavigationRange:function currentNavigationRange(){return this.singleCellSelection()?this._sheet._sheetRef:this.selection.rangeAt(this.selectionRangeIndex).toRangeRef();},nextNavigationRange:function nextNavigationRange(){return this.singleCellSelection()||(this.selectionRangeIndex=this.selection.nextRangeIndex(this.selectionRangeIndex)),this.currentNavigationRange();},previousNavigationRange:function previousNavigationRange(){return this.singleCellSelection()||(this.selectionRangeIndex=this.selection.previousRangeIndex(this.selectionRangeIndex)),this.currentNavigationRange();},activeCell:function activeCell(e){return e&&(this.originalActiveCell=e.first(),this._activeCell=this._sheet.unionWithMerged(e.toRangeRef()),this._sheet.focus(e),this._sheet.triggerChange({activeCell:!0,selection:!0})),this._activeCell;},select:function select(e,t,n){if(e){if(e.eq(this.originalSelection))return;this.originalSelection=e,this.selection=t,n!==!1?(this.activeCell(e.isCell()?e:this.selection.lastRange().first()),this.selectionRangeIndex=this.selection.size()-1):this._sheet.triggerChange({selection:!0});}return this.selection;},singleCellSelection:function singleCellSelection(){return this._activeCell.eq(this.selection);}}),r=e.Observable.extend({init:function init(){e.Observable.prototype.init.call(this),this._reinit.apply(this,arguments);},_reinit:function _reinit(t,n,i,r,a,s){var l=t*n-1;this._rows=new e.spreadsheet.Axis(t,i),this._columns=new e.spreadsheet.Axis(n,r),this._mergedCells=[],this._frozenRows=0,this._frozenColumns=0,this._suspendChanges=!1,this._filter=null,this._showGridLines=!0,this._grid=new e.spreadsheet.Grid(this._rows,this._columns,t,n,a,s),this._sheetRef=this._grid.normalize(e.spreadsheet.SHEETREF),this._properties=new e.spreadsheet.PropertyBag(l),this._sorter=new e.spreadsheet.Sorter(this._grid,this._properties.sortable()),this._viewSelection=new o(this),this._editSelection=new o(this),this._formulaSelections=[];},_selectionState:function _selectionState(){return this._inEdit?this._editSelection:this._viewSelection;},navigator:function navigator(){return this._navigator||(this._navigator=new e.spreadsheet.SheetNavigator(this)),this._navigator;},axisManager:function axisManager(){return this._axisManager||(this._axisManager=new e.spreadsheet.AxisManager(this)),this._axisManager;},_name:function _name(e){return e?(this._sheetName=e,this):this._sheetName;},name:function name(){return this._name();},_property:function _property(e,t,n){return void 0===t?e():(e(t),this.triggerChange(n));},_field:function _field(e,t,n){return void 0===t?this[e]:(this[e]=t,this.triggerChange(n));},suspendChanges:function suspendChanges(e){return void 0===e?this._suspendChanges:(this._suspendChanges=e,this);},triggerChange:function triggerChange(e){return this._suspendChanges||this.trigger("change",e),this;},setDataSource:function setDataSource(t,n){this.dataSourceBinder&&this.dataSourceBinder.destroy(),this.dataSourceBinder=new e.spreadsheet.SheetDataSourceBinder({dataSource:t,sheet:this,columns:n}),this.dataSource=this.dataSourceBinder.dataSource;},hideColumn:function hideColumn(e){return this._property(this._columns.hide.bind(this._columns),e,{layout:!0});},unhideColumn:function unhideColumn(e){return this._property(this._columns.unhide.bind(this._columns),e,{layout:!0});},isHiddenColumn:function isHiddenColumn(e){return this._grid._columns.hidden(e);},_copyRange:function _copyRange(e,t){var n=this._grid,i=n.rowCount,o=n.normalize(e.topLeft),r=n.normalize(e.bottomRight),a=o.col*i+o.row,s=r.col*i+r.row,l=t.col*i+t.row;this._properties.copy(a,s,l);},_adjustReferences:function _adjustReferences(n,i,o,r){var a,s,l;this._mergedCells=r.reduce(function(e,r){return r=r.adjust(null,null,null,null,"row"==n,i,o),r instanceof t&&e.push(r),e;},[]),this._workbook&&(a=this._name(),this._workbook._sheets.forEach(function(e){e._forFormulas(function(e){e.adjust(a,n,i,o);}),e._forValidations(function(e){e.adjust(a,n,i,o);});}),this._workbook.adjustNames(a,"row"==n,i,o)),s=this.select(),s=s.adjust(null,null,null,null,"row"==n,i,o),s!==e.spreadsheet.NULLREF&&this.select(s),l="col"==n?this._columns:this._rows,l.adjust(i,o);},_forFormulas:function _forFormulas(e){var t=this._properties,n=t.get("formula").values(),i=n.length;n.forEach(function(t,n){e.call(this,t.value,n,i);},this);},_forValidations:function _forValidations(e){var t=this._properties;t.get("validation").values().forEach(function(t){e.call(this,t.value);},this);},canInsertRow:function canInsertRow(e,t){var n,i;return t=t||1,n=this._grid,i=this.range(n.rowCount-t,0,t,n.columnCount),!i.hasValue();},insertRow:function insertRow(e){if(!this.canInsertRow(e))throw Error("Shifting nonblank cells off the worksheet is not supported!");return this.batch(function(){var o,r,a,s,l,c,d=this._grid,u=d.columnCount,h=d.rowCount,f=this.frozenRows();for(f>e&&this.frozenRows(f+1),o=this._mergedCells.slice(),r=0;u>r;r++){a=new t(new n(e,r),new n(e,r)),s=d.normalize(a.topLeft),l=d.normalize(a.bottomRight),c=new t(new n(s.row,s.col),new n(h-2,l.col)),this._copyRange(c,new n(s.row+1,s.col)),new i(a,this).clear();}this._adjustReferences("row",e,1,o);},{recalc:!0,layout:!0,insertRow:{index:e},ref:new t(new n(e,0),new n(1/0,1/0))}),this;},isEnabledRow:function isEnabledRow(e){var o=new t(new n(e,0),new n(e,this._grid.columnCount));return new i(o,this).enable();},deleteRow:function deleteRow(e){return this.isEnabledRow(e)?(this.batch(function(){var o,r,a,s,l,c,d,u=this._grid,h=u.columnCount,f=this.frozenRows();for(f>e&&this.frozenRows(f-1),o=this._mergedCells.slice(),r=0;h>r;r++){a=new t(new n(e,r),new n(e,r)),new i(a,this).clear(),s=u.normalize(a.topLeft),l=u.normalize(a.bottomRight),c=new t(new n(s.row+1,s.col),new n(1/0,l.col)),this._copyRange(c,s),d=u.normalize(c.bottomRight),new i(new t(d,d),this).clear();}this._adjustReferences("row",e,-1,o);},{recalc:!0,layout:!0,deleteRow:{index:e},ref:new t(new n(e,0),new n(1/0,1/0))}),this):this;},insertColumn:function insertColumn(e){return this.batch(function(){var o,r,a,s,l,c,d=this._grid,u=d.columnCount,h=this.frozenColumns();for(h>e&&this.frozenColumns(h+1),o=this._mergedCells.slice(),r=u;r>=e&&(a=new t(new n(0,r),new n(1/0,r)),new i(a,this).clear(),r!=e);r--){s=d.normalize(a.topLeft),l=d.normalize(a.bottomRight),c=new t(new n(s.row,s.col-1),new n(l.row,l.col-1)),this._copyRange(c,s);}this._adjustReferences("col",e,1,o);},{recalc:!0,layout:!0,insertColumn:{index:e},ref:new t(new n(0,e),new n(1/0,1/0))}),this;},isEnabledColumn:function isEnabledColumn(e){var o=new t(new n(0,e),new n(1/0,e));return new i(o,this).enable();},deleteColumn:function deleteColumn(e){return this.isEnabledColumn(e)?(this.batch(function(){var o,r,a,s,l,c,d=this._grid,u=d.columnCount,h=this.frozenColumns();for(h>e&&this.frozenColumns(h-1),o=this._mergedCells.slice(),r=e;u>r&&(a=new t(new n(0,r),new n(1/0,r)),new i(a,this).clear(),r!=u-1);r++){s=d.normalize(a.topLeft),l=d.normalize(a.bottomRight),c=new t(new n(s.row,s.col+1),new n(l.row,l.col+1)),this._copyRange(c,s);}this._adjustReferences("col",e,-1,o);},{recalc:!0,layout:!0,deleteColumn:{index:e},ref:new t(new n(0,e),new n(1/0,1/0))}),this):this;},hideRow:function hideRow(e){return this._property(this._rows.hide.bind(this._rows),e,{layout:!0});},unhideRow:function unhideRow(e){return this._property(this._rows.unhide.bind(this._rows),e,{layout:!0});},isHiddenRow:function isHiddenRow(e){return this._grid._rows.hidden(e);},columnWidth:function columnWidth(e,t){return this._property(this._columns.value.bind(this._columns,e,e),t,{layout:!0});},rowHeight:function rowHeight(e,t){return this._property(this._rows.value.bind(this._rows,e,e),t,{layout:!0});},frozenRows:function frozenRows(e){return this._field("_frozenRows",e,{layout:!0});},frozenColumns:function frozenColumns(e){return this._field("_frozenColumns",e,{layout:!0});},showGridLines:function showGridLines(e){return this._field("_showGridLines",e,{layout:!0});},_ref:function _ref(i,o,r,a){var s=null;return i instanceof e.spreadsheet.Ref?i:i instanceof e.spreadsheet.Range?i._ref.toRangeRef():("string"==typeof i?s=e.spreadsheet.calc.parseReference(i):(r||(r=1),a||(a=1),s=new t(new n(i,o),new n(i+r-1,o+a-1))),s);},range:function range(e,t,n,o){return new i(this._ref(e,t,n,o),this);},forEachMergedCell:function forEachMergedCell(e,t){var n=!1;void 0===t&&(t=e,n=!0),this._mergedCells.forEach(function(i){(n||i.intersects(e))&&t(i);});},forEachFilterHeader:function forEachFilterHeader(e,t){var n,i=!1;void 0===t&&(t=e,i=!0),this._filter&&(n=[],this._filter.ref.forEachColumn(function(t){(i||t.intersects(e))&&n.push(t.topLeft);}),this._mergedCells.forEach(function(e){n=n.map(function(t){return e.intersects(t)?e:t;});}),n.reduce(function(e,t){return e.indexOf(t)<0&&e.push(t),e;},[]).forEach(t));},forEach:function forEach(e,n){var i,o,r,a,s,l;for(e instanceof t||(e=this._ref(e)),i=this._grid.normalize(e.topLeft),o=this._grid.normalize(e.bottomRight),r=i.col;o.col>=r;r++){a=i.row,s=this._grid.index(a,r),l=this._grid.index(o.row,r),this._properties.forEach(s,l,function(e){n(a++,r,e);});}},startResizing:function startResizing(e){this._initialPosition=e,this._resizeInProgress=!0;},startAutoFill:function startAutoFill(){this._autoFillInProgress=!0;var e=this.select();this._autoFillOrigin=e,this._autoFillDest=e,this.triggerChange({selection:!0});},updateAutoFill:function updateAutoFill(e,t,n,i){this._autoFillDest=e,this._autoFillPunch=t,this._autoFillHint=n,this._autoFillDirection=i,this.triggerChange({selection:!0});},autoFillRef:function autoFillRef(){return this._autoFillDest;},autoFillPunch:function autoFillPunch(){return this._autoFillPunch;},autoFillInProgress:function autoFillInProgress(){return this._autoFillInProgress;},resizingInProgress:function resizingInProgress(){return this._resizeInProgress;},completeResizing:function completeResizing(){var e,t;this._resizeInProgress&&(this._resizeInProgress=!1,e=this.resizeHintPosition(),this._initialPosition&&e?(t=this.resizeHandlePosition(),t.col!==-(1/0)?this.trigger("commandRequest",{command:"ColumnWidthCommand",options:{target:t.col,value:this.columnWidth(t.col)-(this._initialPosition.x-e.x)}}):this.trigger("commandRequest",{command:"RowHeightCommand",options:{target:t.row,value:this.rowHeight(t.row)-(this._initialPosition.y-e.y)}})):this.trigger("change",{resize:!0}));},resizeHandlePosition:function resizeHandlePosition(){return this._resizeHandlePosition;},resizeHintPosition:function resizeHintPosition(e){return void 0!==e&&(this._resizeHintPosition=e,this.trigger("change",{resize:!0})),this._resizeHintPosition;},removeResizeHandle:function removeResizeHandle(){this._resizeHandlePosition&&(this._resizeHintPosition=void 0,this._resizeHandlePosition=void 0,this._initialPosition=void 0,this.trigger("change",{resize:!0}));},positionResizeHandle:function positionResizeHandle(e){this._resizeHandlePosition=e,this.trigger("change",{resize:!0});},startSelection:function startSelection(){this._selectionInProgress=!0;},completeSelection:function completeSelection(){var e,t;this._selectionInProgress&&(this._selectionInProgress=!1,this._resizeHintPosition=void 0,this.trigger("change",{selection:!0})),this._autoFillInProgress&&(this._autoFillInProgress=!1,e=this._autoFillDest,t=this._autoFillOrigin,this._autoFillPunch?this.trigger("commandRequest",{command:"ClearContentCommand",options:{operatingRange:this.range(this._autoFillPunch)}}):e.eq(t)?this.triggerChange({selection:!0}):this.trigger("commandRequest",{command:"AutoFillCommand",options:{operatingRange:this.range(e),origin:this.range(t)}}),this._autoFillDest=null,this._autoFillPunch=null,this._autoFillOrigin=null,this.select(e));},selectionInProgress:function selectionInProgress(){return this._selectionInProgress;},select:function select(e,t){var n,i=this._selectionState();return e&&(e=this._ref(e),n=this._grid.isAxis(e)?e:this.unionWithMerged(e)),i.select(e,n,t);},originalSelect:function originalSelect(){return this._selectionState().originalSelection;},currentSelectionRange:function currentSelectionRange(){return this._selectionState().currentSelectionRange();},currentOriginalSelectionRange:function currentOriginalSelectionRange(){return this._selectionState().currentOriginalNavigationRange();},currentNavigationRange:function currentNavigationRange(){return this._selectionState().currentNavigationRange();},nextNavigationRange:function nextNavigationRange(){return this._selectionState().nextNavigationRange();},previousNavigationRange:function previousNavigationRange(){return this._selectionState().previousNavigationRange();},selectionRangeIndex:function selectionRangeIndex(){return this._selectionState().selectionRangeIndex;},activeCell:function activeCell(e){return this._selectionState().activeCell(e);},originalActiveCell:function originalActiveCell(){return this._selectionState().originalActiveCell;},singleCellSelection:function singleCellSelection(){return this._selectionState().singleCellSelection();},unionWithMerged:function unionWithMerged(e){var t=this._mergedCells;return e.map(function(e){return e.toRangeRef().union(t);});},trim:function trim(e){var t=[],n=this._grid;return this._properties.forEachProperty(function(i){t.push(n.trim(e,i.list));}),this.unionWithMerged(e.topLeft.toRangeRef().union(t));},focus:function focus(e){if(!e){var t=this._focus;return this._focus=null,t;}this._focus=e.toRangeRef();},activeCellSelection:function activeCellSelection(){return new i(this._grid.normalize(this.activeCell()),this);},selection:function selection(){return new i(this._grid.normalize(this._selectionState().selection),this);},selectedHeaders:function selectedHeaders(){var e=this.select(),t={},n={},i=!1,o=!1;return e.forEach(function(e){var r,a,s,l,c="partial",d="partial";if(e=e.toRangeRef(),a=e.bottomRight,s=a.col===1/0,l=a.row===1/0,l&&(o=!0,d="full"),s&&(i=!0,c="full"),!l)for(r=e.topLeft.row;a.row>=r;r++){"full"!==t[r]&&(t[r]=c);}if(!s)for(r=e.topLeft.col;a.col>=r;r++){"full"!==n[r]&&(n[r]=d);}}),{rows:t,cols:n,allRows:o,allCols:i,all:o&&i};},isInEditMode:function isInEditMode(e){return void 0===e?this._inEdit:(this._inEdit=e,void(e&&(this._editSelection.selection=this._viewSelection.selection.clone(),this._editSelection.originalSelection=this._viewSelection.originalSelection.clone(),this._editSelection._activeCell=this._viewSelection._activeCell.clone(),this._editSelection.originalActiveCell=this._viewSelection.originalActiveCell.clone())));},_setFormulaSelections:function _setFormulaSelections(e){this._formulaSelections=(e||[]).slice(),this.triggerChange({selection:!0});},_viewActiveCell:function _viewActiveCell(){return this._viewSelection._activeCell.toRangeRef();},toJSON:function toJSON(){var t,n={},i=this._rows.toJSON("height",n),o=this._columns.toJSON("width",{}),r=this._viewSelection,a=[];return this.forEach(e.spreadsheet.SHEETREF,function(t,o,r){if(0!==Object.keys(r).length){r.link&&a.push({ref:e.spreadsheet.Ref.display(null,t,o),target:r.link});var s=n[t];void 0===s&&(s=i.length,i.push({index:t}),n[t]=s),t=i[s],r.index=o,void 0===t.cells&&(t.cells=[]),r.formula&&(r.formula=""+r.formula),r.validation&&(r.validation=r.validation.toJSON()),r.color&&(r.color=e.parseColor(r.color).toCss()),r.background&&(r.background=e.parseColor(r.background).toCss()),r.borderTop&&r.borderTop.color&&(r.borderTop.color=e.parseColor(r.borderTop.color).toCss()),r.borderBottom&&r.borderBottom.color&&(r.borderBottom.color=e.parseColor(r.borderBottom.color).toCss()),r.borderRight&&r.borderRight.color&&(r.borderRight.color=e.parseColor(r.borderRight.color).toCss()),r.borderLeft&&r.borderLeft.color&&(r.borderLeft.color=e.parseColor(r.borderLeft.color).toCss()),t.cells.push(r);}}),t={name:this._name(),rows:i,columns:o,selection:""+r.selection,activeCell:""+r.activeCell(),frozenRows:this.frozenRows(),frozenColumns:this.frozenColumns(),showGridLines:this.showGridLines(),mergedCells:this._mergedCells.map(function(e){return""+e;}),hyperlinks:a},this._sort&&(t.sort={ref:""+this._sort.ref,columns:this._sort.columns.map(function(e){return{index:e.index,ascending:e.ascending};})}),this._filter&&(t.filter={ref:""+this._filter.ref,columns:this._filter.columns.map(function(e){var t=e.filter.toJSON();return t.index=e.index,t;})}),t;},fromJSON:function fromJSON(t){this.batch(function(){var n,i,o,r,a,s,l,c,d;if(void 0!==t.name&&this._name(t.name),void 0!==t.frozenColumns&&this.frozenColumns(t.frozenColumns),void 0!==t.frozenRows&&this.frozenRows(t.frozenRows),void 0!==t.columns&&this._columns.fromJSON("width",t.columns),void 0!==t.rows)for(this._rows.fromJSON("height",t.rows),n=0;t.rows.length>n;n++){if(i=t.rows[n],o=i.index,void 0===o&&(o=n),i.cells)for(r=0;i.cells.length>r;r++){a=i.cells[r],s=a.index,void 0===s&&(s=r),a.formula&&(a.formula=this._compileFormula(o,s,a.formula)),a.validation&&(a.validation=this._compileValidation(o,s,a.validation)),this._properties.fromJSON(this._grid.index(o,s),a);}}t.selection&&(this._viewSelection.selection=this._viewSelection.originalSelection=this._ref(t.selection)),t.activeCell&&(l=this._ref(t.activeCell),this._viewSelection._activeCell=l.toRangeRef(),this._viewSelection.originalActiveCell=l),t.mergedCells&&t.mergedCells.forEach(function(e){this.range(e).merge();},this),t.sort&&(this._sort={ref:this._ref(t.sort.ref),columns:t.sort.columns.slice(0)}),t.filter&&(c=t.filter.ref,d=void 0===t.filter.columns?[]:t.filter.columns,c?(this._filter={ref:this._ref(c),columns:d.map(function(t){return{index:t.index,filter:e.spreadsheet.Filter.create(t)};})},this._refreshFilter()):e.logToConsole("Dropping filter for sheet '"+t.name+"' due to missing ref")),void 0!==t.showGridLines&&(this._showGridLines=t.showGridLines);}),this._rows._refresh(),this._columns._refresh();},formula:function formula(e){return this._properties.get("formula",this._grid.cellRefIndex(e));},validation:function validation(e){return this._properties.get("validation",this._grid.cellRefIndex(e));},resetFormulas:function resetFormulas(){this._forFormulas(function(e){e.reset();});},resetValidations:function resetValidations(){this._forValidations(function(e){e.reset();});},recalc:function recalc(e,t){function n(){r--,a!=o||r||t();}var i=this._properties.get("formula").values(),o=i.length,r=0,a=0;if(!o&&t)return t();for(;o>a;){r++,i[a++].value.exec(e,t?n:null);}},revalidate:function revalidate(e){var i=this;this._forValidations(function(o){var r=new n(o.row,o.col),a=new t(r,r);o.exec(e,i._get(a,"value"),i._get(a,"format"));});},_value:function _value(e,t,n){var i=this._grid.index(e,t);return void 0===n?this._properties.get("value",i):void this._properties.set("value",i,i,n);},_validation:function _validation(e,t){var n=this._grid.index(e,t);return this._properties.get("validation",n);},_compileValidation:function _compileValidation(t,n,i){return null!=i.from&&(i.from=(i.from+"").replace(/^=/,"")),null!=i.to&&(i.to=(i.to+"").replace(/^=/,"")),e.spreadsheet.validation.compile(this._name(),t,n,i);},_compileFormula:function _compileFormula(t,n,i){return i=i.replace(/^=/,""),i=e.spreadsheet.calc.parseFormula(this._name(),t,n,i),e.spreadsheet.calc.compile(i);},_copyValuesInRange:function _copyValuesInRange(e,t,n,i){var o,r,a,s,l;for(o=e.col;t.col>=o;o++){for(r=this._grid.index(e.row,o),a=this._grid.index(t.row,o),s=r,l=e.row;a>=s;++s,++l){n=n.clone(this._name(),l,o),this._properties.set(i,s,s,n);}}return n;},_set:function _set(e,t,n){var i,o,r,a=this._grid.normalize(e.topLeft),s=this._grid.normalize(e.bottomRight);if(n&&"formula"==t)"string"==typeof n&&(n=this._compileFormula(a.row,a.col,n)),n=this._copyValuesInRange(a,s,n,"formula");else if(n&&"validation"==t)n=this._compileValidation(a.row,a.col,n),n=this._copyValuesInRange(a,s,n,"validation");else for(i=a.col;s.col>=i;i++){o=this._grid.index(a.row,i),r=this._grid.index(s.row,i),this._properties.set(t,o,r,n),"formula"==t&&this._properties.set("value",o,r,null);}},_get:function _get(e,t){var n=this._grid.normalize(e.topLeft),i=this._grid.index(n.row,n.col);return this._properties.get(t,i);},batch:function batch(e,t){var n=this.suspendChanges();return this.suspendChanges(!0),e.call(this),this.suspendChanges(n).triggerChange(t);},_sortBy:function _sortBy(e,t){var n=null;t.forEach(function(t){n=this._sorter.sortBy(e,t.index,this._properties.get("value"),t.ascending,n);},this),this._sort={ref:e,columns:t},this._refreshFilter(),this.triggerChange({recalc:!0});},_refreshFilter:function _refreshFilter(){this._filter&&this._filterBy(this._filter.ref,this._filter.columns);},_filterBy:function _filterBy(t,n){this.batch(function(){for(var i=t.topLeft.row;t.bottomRight.row>=i;i++){this._rows.hidden(i)&&this._rows.unhide(i);}n.forEach(function(n){var i,o,r,a=t.resize({top:1}).toColumn(n.index),s=[];if(a!==e.spreadsheet.NULLREF)for(this.forEach(a,function(e,t,n){n.row=e,s.push(n);}),n.filter.prepare(s),i=0;s.length>i;i++){o=s[i],r=n.filter.value(o),n.filter.matches(r)===!1&&this.hideRow(o.row);}},this),this._filter={ref:t,columns:n};},{layout:!0,filter:!0});},filterColumn:function filterColumn(e){var t=this.filter().ref;return e.toRangeRef().topLeft.col-t.topLeft.col;},filter:function filter(){return this._filter;},clearFilter:function clearFilter(e){this._clearFilter(e instanceof Array?e:[e]);},_clearFilter:function _clearFilter(e){this._filter&&this.batch(function(){this._filter.columns=this._filter.columns.filter(function(t){return e.indexOf(t.index)<0;}),this._refreshFilter();},{layout:!0,filter:!0});},getAxisState:function getAxisState(){return{rows:this._rows.getState(),columns:this._columns.getState()};},setAxisState:function setAxisState(e){this._rows.setState(e.rows),this._columns.setState(e.columns),this.triggerChange({layout:!0});},getState:function getState(){return{rows:this._rows.getState(),columns:this._columns.getState(),mergedCells:this._mergedCells.map(function(e){return e.clone();}),properties:this._properties.getState()};},setState:function setState(t){this._rows.setState(t.rows),this._columns.setState(t.columns),this._mergedCells=t.mergedCells,this._properties.setState(t.properties),this.triggerChange(e.spreadsheet.ALL_REASONS);},_merge:function _merge(t){var n,o=this._mergedCells,r=this;return this.batch(function(){n=t.map(function(t){var n,a,s,l,c,d,u;return t instanceof e.spreadsheet.CellRef?t:(n=t.toRangeRef().union(o,function(e){o.splice(o.indexOf(e),1);}),a=new i(n,r),s=a._get("formula"),l=a.value(),c=a.format(),d=a.background(),a.value(null),a.format(null),a.background(null),u=new i(n.collapse(),r),s?u._set("formula",s):u.value(l),u.format(c),u.background(d),o.push(n),n);});var a=r._viewSelection;a.selection=r.unionWithMerged(a.originalSelection),a._activeCell=r.unionWithMerged(a.originalActiveCell);},{activeCell:!0,selection:!0}),n;}}),e.spreadsheet.Sheet=r);}(kendo);},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("spreadsheet/sheetsbar.min",["kendo.core.min","kendo.sortable.min"],e);}(function(){!function(e){var t,n,i,o,r;e.support.browser.msie&&9>e.support.browser.version||(t=e.jQuery,n=".",i=" ",o={sheetsBarWrapper:"k-widget k-header",sheetsBarSheetsWrapper:"k-tabstrip k-floatwrap k-tabstrip-bottom",sheetsBarActive:"k-spreadsheet-sheets-bar-active",sheetsBarInactive:"k-spreadsheet-sheets-bar-inactive",sheetsBarAdd:"k-spreadsheet-sheets-bar-add",sheetsBarRemove:"k-spreadsheet-sheets-remove",sheetsBarItems:"k-spreadsheet-sheets-items",sheetsBarEditor:"k-spreadsheet-sheets-editor",sheetsBarScrollable:"k-tabstrip-scrollable",sheetsBarNext:"k-tabstrip-next",sheetsBarPrev:"k-tabstrip-prev",sheetsBarKItem:"k-item k-state-default",sheetsBarKActive:"k-state-active k-state-tab-on-top",sheetsBarKTextbox:"k-textbox",sheetsBarKLink:"k-link",sheetsBarKIcon:"k-icon",sheetsBarKFontIcon:"k-font-icon",sheetsBarKButton:"k-button k-button-icon",sheetsBarKButtonBare:"k-button-bare",sheetsBarKArrowW:"k-i-arrow-w",sheetsBarKArrowE:"k-i-arrow-e",sheetsBarKReset:"k-reset k-tabstrip-items",sheetsBarKIconX:"k-i-x",sheetsBarKSprite:"k-sprite",sheetsBarKIconPlus:"k-i-plus",sheetsBarHintWrapper:"k-widget k-tabstrip k-tabstrip-bottom k-spreadsheet-sheets-items-hint",sheetsBarKResetItems:"k-reset k-tabstrip-items"},r=e.ui.Widget.extend({init:function init(t,i){var o=r.classNames;e.ui.Widget.call(this,t,i),t=this.element,t.addClass(o.sheetsBarWrapper),this._tree=new e.dom.Tree(t[0]),this._tree.render([this._addButton(),this._createSheetsWrapper([])]),this._toggleScrollEvents(!0),this._createSortable(),this._sortable.bind("start",this._onSheetReorderStart.bind(this)),this._sortable.bind("end",this._onSheetReorderEnd.bind(this)),t.on("click",n+o.sheetsBarRemove,this._onSheetRemove.bind(this)),t.on("click","li",this._onSheetSelect.bind(this)),t.on("dblclick","li"+n+o.sheetsBarActive,this._createEditor.bind(this)),t.on("click",n+o.sheetsBarAdd,this._onAddSelect.bind(this));},options:{name:"SheetsBar",scrollable:{distance:200}},events:["select","reorder","rename"],_createEditor:function _createEditor(){this._editor||(this._renderSheets(this._sheets,this._selectedIndex,!0),this._editor=this.element.find(e.format("input{0}{1}",n,r.classNames.sheetsBarEditor)).focus().on("keydown",this._onEditorKeydown.bind(this)).on("blur",this._onEditorBlur.bind(this)));},_destroyEditor:function _destroyEditor(e){var t=e?null:this._editor.val();this._editor.off(),this._editor=null,this._renderSheets(this._sheets,this._selectedIndex,!1),this._onSheetRename(t);},renderSheets:function renderSheets(e,t){!e||0>t||this._renderSheets(e,t,!1);},_renderSheets:function _renderSheets(t,o,a){var s,l,c,d,u,h,f,p,m,g,v,_=this,b=r.classNames;_._isRtl=e.support.isRtl(_.element),_._sheets=t,_._selectedIndex=o,_._renderHtml(a,!0),_._scrollableAllowed()&&(c=_._sheetsWrapper(),d=c.children(n+b.sheetsBarPrev),u=c.children(n+b.sheetsBarNext),h=2,f=_.element.find(n+b.sheetsBarAdd),p=f.outerWidth()+f.position().left+h,m=d.outerWidth()+h,g=_._sheetsGroup(),d.css({left:p}),c.addClass(b.sheetsBarScrollable+i+b.sheetsBarSheetsWrapper),g.css({marginLeft:p}),s=c[0].offsetWidth,l=g[0].scrollWidth,l+p>s?(v=Math.ceil(e.parseFloat(u.css("right"))),_._scrollableModeActive||(_._nowScrollingSheets=!1,_._scrollableModeActive=!0),g.css({marginLeft:m+p,marginRight:u.outerWidth()+v+h})):_._scrollableModeActive&&s>=l?(_._scrollableModeActive=!1,g.css({marginLeft:p,marginRight:""})):g.css({marginLeft:p}),_._toggleScrollButtons());},_toggleScrollButtons:function _toggleScrollButtons(e){var t=this,i=t._sheetsGroup(),o=t._sheetsWrapper(),a=i.scrollLeft(),s=o.find(n+r.classNames.sheetsBarPrev),l=o.find(n+r.classNames.sheetsBarNext);e===!1?(s.toggle(!1),l.toggle(!1)):(s.toggle(t._isRtl?i[0].scrollWidth-i[0].offsetWidth-1>a:0!==a),l.toggle(t._isRtl?0!==a:i[0].scrollWidth-i[0].offsetWidth-1>a));},_toggleScrollEvents:function _toggleScrollEvents(e){var t=this,i=r.classNames,o=t.options,a=t._sheetsWrapper(),s=a.children(n+i.sheetsBarPrev),l=a.children(n+i.sheetsBarNext);e?(s.on("mousedown",function(){t._nowScrollingSheets=!0,t._scrollSheetsByDelta(o.scrollable.distance*(t._isRtl?1:-1));}),l.on("mousedown",function(){t._nowScrollingSheets=!0,t._scrollSheetsByDelta(o.scrollable.distance*(t._isRtl?-1:1));}),s.add(l).on("mouseup",function(){t._nowScrollingSheets=!1;})):(s.off(),l.off());},_renderHtml:function _renderHtml(t,n){var o,a,s,l,c,d,u=[],h=e.dom,f=h.element,p=this._sheets,m=this._selectedIndex,g=r.classNames;for(o=0;p.length>o;o++){a=p[o],s=o===m,l={className:g.sheetsBarKItem+i},c=[],l.className+=s?g.sheetsBarKActive+i+g.sheetsBarActive:g.sheetsBarInactive,s&&t?c.push(f("input",{type:"text",value:a.name(),className:g.sheetsBarKTextbox+i+g.sheetsBarEditor,maxlength:50},[])):(c.push(f("span",{className:g.sheetsBarKLink,title:a.name()},[h.text(a.name())])),d=f("span",{className:g.sheetsBarKIcon+i+g.sheetsBarKFontIcon+i+g.sheetsBarKIconX},[]),c.push(f("span",{className:g.sheetsBarKLink+i+g.sheetsBarRemove},[d]))),u.push(f("li",l,c));}this._tree.render([this._addButton(),this._createSheetsWrapper(u,n)]);},_createSheetsWrapper:function _createSheetsWrapper(t,n){var o,a=e.dom.element,s=r.classNames,l=[a("ul",{className:s.sheetsBarKReset},t)];return n=!0,n&&(o=s.sheetsBarKButton+i+s.sheetsBarKButtonBare+i,l.push(a("span",{className:o+s.sheetsBarPrev},[a("span",{className:s.sheetsBarKIcon+i+s.sheetsBarKArrowW},[])])),l.push(a("span",{className:o+s.sheetsBarNext},[a("span",{className:s.sheetsBarKIcon+i+s.sheetsBarKArrowE},[])]))),a("div",{className:s.sheetsBarItems},l);},_createSortable:function _createSortable(){var i=r.classNames;this._sortable=new e.ui.Sortable(this.element,{filter:e.format("ul li.{0},ul li.{1}",i.sheetsBarActive,i.sheetsBarInactive),container:n+i.sheetsBarItems,axis:"x",animation:!1,ignore:"input",end:function end(){this.draggable.hint&&this.draggable.hint.remove();},hint:function hint(e){var n=t(e).clone();return n.wrap("<div class='"+i.sheetsBarHintWrapper+"'><ul class='"+i.sheetsBarKResetItems+"'></ul></div>").closest("div");}});},_onEditorKeydown:function _onEditorKeydown(e){this._editor&&(13===e.which&&this._destroyEditor(),27===e.which&&this._destroyEditor(!0));},_onEditorBlur:function _onEditorBlur(){this._editor&&this._destroyEditor();},_onSheetReorderEnd:function _onSheetReorderEnd(e){e.preventDefault(),this.trigger("reorder",{oldIndex:e.oldIndex,newIndex:e.newIndex});},_onSheetReorderStart:function _onSheetReorderStart(e){this._editor&&e.preventDefault();},_onSheetRemove:function _onSheetRemove(e){var n=t(e.target).closest("li").text();this._editor&&this._destroyEditor(),this.trigger("remove",{name:n});},_onSheetSelect:function _onSheetSelect(e){var i=t(e.target).text();return t(e.target).is(n+r.classNames.sheetsBarEditor)||!i?void e.preventDefault():(this._editor&&this._destroyEditor(),this._scrollSheetsToItem(t(e.target).closest("li")),void this.trigger("select",{name:i,isAddButton:!1}));},_onSheetRename:function _onSheetRename(e){this.trigger("rename",{name:e,sheetIndex:this._selectedIndex});},_onAddSelect:function _onAddSelect(){this.trigger("select",{isAddButton:!0});},_addButton:function _addButton(){var t=e.dom.element,n=r.classNames;return t("a",{className:n.sheetsBarAdd+i+n.sheetsBarKButton},[t("span",{className:n.sheetsBarKSprite+i+n.sheetsBarKIcon+i+n.sheetsBarKFontIcon+i+n.sheetsBarKIconPlus},[])]);},destroy:function destroy(){this._sortable.destroy();},_scrollableAllowed:function _scrollableAllowed(){var e=this.options;return e.scrollable&&!isNaN(e.scrollable.distance);},_scrollSheetsToItem:function _scrollSheetsToItem(e){var t,n,i,o,r,a,s,l=this;l._scrollableModeActive&&(t=l._sheetsGroup(),n=t.scrollLeft(),i=e.outerWidth(),o=l._isRtl?e.position().left:e.position().left-t.children().first().position().left,r=t[0].offsetWidth,a=Math.ceil(parseFloat(t.css("padding-left"))),l._isRtl?0>o?s=n+o-(r-n)-a:o+i>r&&(s=n+o-i+2*a):o+i>n+r?s=o+i-r+2*a:n>o&&(s=o-a),t.finish().animate({scrollLeft:s},"fast","linear",function(){l._toggleScrollButtons();}));},_sheetsGroup:function _sheetsGroup(){return this._sheetsWrapper().children("ul");},_sheetsWrapper:function _sheetsWrapper(){return this.element.find(n+r.classNames.sheetsBarItems);},_scrollSheetsByDelta:function _scrollSheetsByDelta(e){var t=this,n=t._sheetsGroup(),i=n.scrollLeft();n.finish().animate({scrollLeft:i+e},"fast","linear",function(){t._nowScrollingSheets?t._scrollSheetsByDelta(e):t._toggleScrollButtons();});}}),e.spreadsheet.SheetsBar=r,t.extend(!0,r,{classNames:o}));}(window.kendo);},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("spreadsheet/calc.min",["spreadsheet/runtime.min"],e);}(function(){"use strict";function e(e){e=e.toUpperCase();for(var t=0,n=0;e.length>n;++n){t=26*t+e.charCodeAt(n)-64;}return t-1;}function t(e){return parseInt(e,10)-1;}function n(n,i){var o,r,a,s,c,d;if("#sheet"==n.toLowerCase())return m.SHEETREF;e:{if(!(o=/^(\$)?([a-z]+)(\$)?(\d+)$/i.exec(n))){for(s=l(n,{}),c=[];;){if(d=s.next(),d instanceof v)d.rel=0;else{if(!(d instanceof g))break e;d.topLeft.rel=0,d.bottomRight.rel=0;}if(c.push(d),s.eof())break;if(!s.is("op",","))break e;s.next();}return 1==c.length?c[0]:new m.UnionRef(c);}if(r=t(o[4]),a=e(o[2]),1048576>=r&&16383>=a)return new v(t(o[4]),e(o[2]));}if(!i)throw Error("Cannot parse reference: "+n);}function i(e,t,n,i){function o(e){return e.index=v.length,v.push(e),e;}function r(e,t){if(g(e,t))return i.next();var n=i.peek();i.croak(n?"Expected "+e+" "+t+" but found "+n.type+" "+n.value+"":"Expected "+e+" "+t+"");}function a(e){return m(f(u(e)),0,e);}function s(e){return"TRUE"==e.upper||"FALSE"==e.upper?"TRUE"==e.upper?x:C:o(new _(e.value));}function c(){var e,t=i.next();if(t=t.value,r("punc","("),e=[],!g("punc",")"))for(;;){if(g("op",","))e.push({type:"null"}),i.next();else{if(e.push(a(!1)),i.eof()||g("punc",")"))break;r("op",",");}}return r("punc",")"),{type:"func",func:t,args:e};}function d(t){return t.hasSheet()||t.setSheet(e),o(t);}function u(e){var t;return g("ref")?t=d(i.next()):g("func")?t=c():g("punc","(")?(i.next(),t=a(!0),r("punc",")")):g("punc","{")?(i.next(),t=h(),r("punc","}")):g("num")||g("str")||g("error")?t=i.next():g("sym")?t=s(i.next()):g("op","+")||g("op","-")?t={type:"prefix",op:i.next().value,exp:a(e)}:i.croak(i.peek()?"Parse error":"Incomplete expression"),p(t);}function h(){for(var e=[],t=[e],n=!0;!i.eof()&&!g("punc","}");){n?n=!1:g("punc",";")?(t.push(e=[]),i.next()):r("op",","),e.push(a(!1));}return{type:"matrix",value:t};}function f(e){return g("punc","(")||g("ref")||g("num")||g("func")?{type:"binary",op:" ",left:e,right:a(!1)}:e;}function p(e){return g("op","%")?(i.next(),p({type:"postfix",op:"%",exp:e})):e;}function m(e,t,n){var o,r,a=g("op");return a&&(n||","!=a.value)&&(o=y[a.value],o>t)?(i.next(),r=m(u(n),o,n),m({type:"binary",op:a.value,left:e,right:r},t,n)):e;}var g,v=[];return i=l(i,{row:t,col:n}),g=i.is,{type:"exp",ast:a(!0),refs:v,sheet:e,row:t,col:n};}function o(e){function t(e,i,o){function r(t){var r=e.op,a=o>y[r]||!o&&","==r||"binary"==i.type&&o==y[r]&&e===i.right;return n(t(),a);}switch(e.type){case"num":case"bool":return JSON.stringify(e.value);case"error":return JSON.stringify("#"+e.value);case"str":return JSON.stringify(JSON.stringify(e.value));case"ref":return"this.refs["+e.index+"].print(row, col)";case"prefix":return r(function(){return JSON.stringify(e.op)+" + "+t(e.exp,e,y[e.op]);});case"postfix":return r(function(){return t(e.exp,e,y[e.op])+" + "+JSON.stringify(e.op);});case"binary":return r(function(){var i=n(t(e.left,e,y[e.op]),e.left instanceof _&&":"==e.op),o=n(t(e.right,e,y[e.op]),e.right instanceof _&&":"==e.op);return i+" + "+JSON.stringify(e.op)+" + "+o;});case"func":return JSON.stringify(e.func+"(")+" + "+(e.args.length>0?e.args.map(function(n){return t(n,e,0);}).join(" + ', ' + "):"''")+" + ')'";case"matrix":return"'{ ' + "+e.value.map(function(n){return n.map(function(n){return t(n,e,0);}).join(" + ', ' + ");}).join(" + '; ' + ")+"+ ' }'";case"null":return"''";}throw Error("Cannot make printer for node "+e.type);}function n(e,t){return t?"'(' + "+e+" + ')'":e;}return S("function(row, col){return("+t(e.ast,e,0)+")}");}function r(e,t){function n(e,t){switch(e.type){case"ref":case"num":case"str":case"null":case"error":case"bool":return i(e,t);case"prefix":case"postfix":return o(e,t);case"binary":return r(e,t);case"func":return c(e,t);case"lambda":return d(e,t);case"matrix":return u(e.value,t,!0);}throw Error("Cannot CPS "+e.type);}function i(e,t){return t(e);}function o(e,t){return n({type:"func",func:"unary"+e.op,args:[e.exp]},t);}function r(e,t){return n({type:"func",func:"binary"+e.op,args:[e.left,e.right]},t);}function a(e,t,i,o){return n(e,function(e){var r=h(o),a=f("T"),s=f("E");return{type:"func",func:"if",args:[r,e,{type:"lambda",vars:[a],body:n(t||x,function(e){return{type:"call",func:{type:"var",name:a},args:[e]};})},{type:"lambda",vars:[s],body:n(i||C,function(e){return{type:"call",func:{type:"var",name:s},args:[e]};})}]};});}function s(e,t){return 0===e.length?i(x,t):n({type:"func",func:"IF",args:[e[0],{type:"func",func:"AND",args:e.slice(1)},C]},t);}function l(e,t){return 0===e.length?i(C,t):n({type:"func",func:"IF",args:[e[0],x,{type:"func",func:"OR",args:e.slice(1)}]},t);}function c(e,t){switch(e.func.toLowerCase()){case"if":return a(e.args[0],e.args[1],e.args[2],t);case"and":return s(e.args,t);case"or":return l(e.args,t);case"true":return t(x);case"false":return t(C);}return function i(t,o){return o==e.args.length?{type:"func",func:e.func,args:t}:n(e.args[o],function(e){return i(t.concat([e]),o+1);});}([h(t)],0);}function d(e,t){var i=f("K"),o=n(e.body,function(e){return{type:"call",func:{type:"var",value:i},args:[e]};});return t({type:"lambda",vars:[i].concat(e.vars),body:o});}function u(e,t,i){var o=[];return function r(a){return a==e.length?t({type:"matrix",value:o}):(i?u:n)(e[a],function(e){return o[a]=e,r(a+1);});}(0);}function h(e){var t=f("R");return{type:"lambda",vars:[t],body:e({type:"var",name:t})};}function f(e){return e||(e=""),e="_"+e,e+ ++p;}var p=0;return n(e,t);}function a(e){function t(e){var i=e.type;if("num"==i)return e.value+"";if("str"==i)return JSON.stringify(e.value);if("error"==i)return"context.error("+JSON.stringify(e.value)+")";if("return"==i)return"context.resolve("+t(e.value)+")";if("func"==i)return"context.func("+JSON.stringify(e.func)+", "+t(e.args[0])+", "+n(e.args.slice(1))+")";if("call"==i)return t(e.func)+"("+e.args.map(t).join(", ")+")";if("ref"==i)return"refs["+e.index+"]";if("bool"==i)return""+e.value;if("if"==i)return"(context.bool("+t(e.co)+") ? "+t(e.th)+" : "+t(e.el)+")";if("lambda"==i)return"(function("+e.vars.join(", ")+"){ return("+t(e.body)+") })";if("var"==i)return e.name;if("matrix"==i)return n(e.value);if("null"==i)return"null";throw Error("Cannot compile expression "+i);}function n(e){return"[ "+e.map(t).join(", ")+" ]";}var i,a=o(e),s=a.call(e),l=T[s];return l?l.clone(e.sheet,e.row,e.col):(i=t(r(e.ast,function(e){return{type:"return",value:e};})),i=["function(){","var context = this, refs = context.formula.absrefs",i,"}"].join(";\n"),l=new w.Formula(e.refs,S(i),a,e.sheet,e.row,e.col),T[s]=l,l);}function s(e){return e;}function l(n,i){function o(e,t){var n=r();return null==n||null!=e&&n.type!==e||null!=t&&n.value!==t?null:n;}function r(){return null==C&&(C=l()),C;}function a(){if(null!=C){var e=C;return C=null,e;}return l();}function l(){var e,t=n.peek();return t&&("sym"!=t.type&&"rc"!=t.type&&"num"!=t.type||(e=k(8,h)||k(6,f)||k(6,p)||k(4,m)||k(4,b)||k(2,w)||k(2,y)),e||(e=n.next())),e;}function c(o,r){var a,s,l,c,d;if("rc"==o.type)return!o.rel||i.forEditor||null!=i.row&&null!=i.col||n.croak("Cannot read relative cell in RC notation"),new v(o.row,o.col,o.rel);if("num"==o.type)return 1048577>=o.value?S(new v(t(o.value),r?-(1/0):+(1/0),2)):null;if(a=o.value,s=/^(\$)?([a-z]+)(\$)?(\d+)$/i.exec(a))return l=t(s[4]),c=e(s[2]),1048576>=l&&16383>=c?S(new v(t(s[4]),e(s[2]),(s[1]?0:1)|(s[3]?0:2))):null;if(d="$"==a.charAt(0),d&&(a=a.substr(1)),/^\d+$/.test(a)){if(l=t(a),1048576>=l)return S(new v(t(a),r?-(1/0):+(1/0),d?0:2));}else if(c=e(a),16383>=c)return S(new v(r?-(1/0):+(1/0),e(a),d?0:1));}function h(e,t,n,i,o,r,a,s){if("sym"==e.type&&"op"==t.type&&":"==t.value&&"sym"==n.type&&"punc"==i.type&&"!"==i.value&&("sym"==o.type||"rc"==o.type||"num"==o.type&&o.value==o.value|0)&&"op"==r.type&&":"==r.value&&("sym"==a.type||"rc"==a.type||"num"==a.type&&a.value==a.value|0)&&a.type==o.type&&("punc"!=s.type||"("!=s.value||a.space)){var l=c(o,!0),d=c(a,!1);if(l&&d)return x(7),T(new g(l.setSheet(e.value,!0),d.setSheet(n.value,!0)).setSheet(e.value,!0),e,a);}}function f(e,t,n,i,o,r){var a,s;return"sym"==e.type&&"op"==t.type&&":"==t.value&&"sym"==n.type&&"punc"==i.type&&"!"==i.value&&("sym"==o.type||"rc"==o.type||"num"==o.type&&o.value==o.value|0)&&("punc"!=r.type||"("!=r.value||o.space)&&(a=c(o))?(x(5),s=a.clone(),T(new g(a.setSheet(e.value,!0),s.setSheet(n.value,!0)).setSheet(e.value,!0),e,o)):void 0;}function p(e,t,n,i,o,r){if("sym"==e.type&&"punc"==t.type&&"!"==t.value&&("sym"==n.type||"rc"==n.type||"num"==n.type&&n.value==n.value|0)&&"op"==i.type&&":"==i.value&&("sym"==o.type||"rc"==o.type||"num"==o.type&&o.value==o.value|0)&&("punc"!=r.type||"("!=r.value||o.space)){var a=c(n,!0),s=c(o,!1);if(a&&s)return x(5),T(new g(a,s).setSheet(e.value,!0),e,o);}}function m(e,t,n,i){if("sym"==e.type&&"punc"==t.type&&"!"==t.value&&("sym"==n.type||"rc"==n.type||"num"==n.type&&n.value==n.value|0)&&("punc"!=i.type||"("!=i.value||n.space)){x(3);var o=c(n);return o||(o=new _(n.value)),T(o.setSheet(e.value,!0),e,n);}}function b(e,t,n,i){if(("sym"==e.type||"rc"==e.type||"num"==e.type&&e.value==e.value|0)&&"op"==t.type&&":"==t.value&&("sym"==n.type||"rc"==n.type||"num"==n.type&&n.value==n.value|0)&&("punc"!=i.type||"("!=i.value||n.space)){var o=c(e,!0),r=c(n,!1);if(o&&r)return x(3),T(new g(o,r),e,n);}}function w(e,t){if(("sym"==e.type||"rc"==e.type)&&("punc"!=t.type||"("!=t.value||e.space)){var n=c(e);if(n&&isFinite(n.row)&&isFinite(n.col))return x(1),T(n,e,e);}}function y(e,t){return"sym"!=e.type||"punc"!=t.type||"("!=t.value||e.space?void 0:(e.type="func",x(1),e);}var k,x,C,S,T;return n=d(u(n),i),k=n.ahead,x=n.skip,C=null,S=null!=i.row&&null!=i.col?function(e){return 1&e.rel&&(e.col-=i.col),2&e.rel&&(e.row-=i.row),e;}:s,T=i.forEditor?function(e,t,n){return e.begin=t.begin,e.end=n.end,e;}:s,{peek:r,next:a,croak:n.croak,eof:n.eof,is:o};}function c(e){return" 	\n".indexOf(e)>=0;}function d(e,t){function n(e){return /[0-9]/i.test(e);}function i(e){return /[a-z$_]/i.test(e)||e.toLowerCase()!=e.toUpperCase();}function o(e){return i(e)||n(e)||"."==e;}function r(e){return e in y;}function a(e){return"!;(){}[]".indexOf(e)>=0;}function s(){var e=!1,t=S(function(t){return"."==t?e?!1:(e=!0,!0):n(t);});return{type:"num",value:parseFloat(t)};}function l(t,n){return{type:"sym",value:t,upper:t.toUpperCase(),space:c(e.peek()),quote:n};}function d(e,t,n){var i,o;return!e&&!n||e&&n?(i=e&&/-$/.test(e),o=parseInt(t,10),i&&(o=-o),e||o--,o):void 0;}function u(){var t,n,i=e.lookingAt(/^R(\[-?)?([0-9]+)(\])?C(\[-?)?([0-9]+)(\])?/i);return i&&(t=d(i[1],i[2],i[3]),n=d(i[4],i[5],i[6]),null!=t&&null!=n)?(e.skip(i),{type:"rc",row:t,col:n,rel:(i[4]?1:0)|(i[1]?2:0)}):l(S(o));}function h(){return e.next(),{type:"str",value:e.readEscaped('"')};}function f(){return e.next(),l(e.readEscaped("'"),!0);}function p(){return{type:"op",value:S(function(e,t){return t+e in y;})};}function m(){return{type:"punc",value:e.next()};}function g(){if(e.eof())return null;var o,l=e.peek();return'"'==l?h():"'"==l?f():n(l)?s():i(l)?u():r(l)?p():a(l)?m():(o=e.lookingAt(/^#([a-z\/]+)[?!]?/i))?(e.skip(o),{type:"error",value:o[1]}):(t.forEditor||e.croak("Can't handle character: "+l),{type:"error",value:e.next()});}function v(){for(var n,i;C>=x.length;){S(c),n=e.pos(),i=g(),t.forEditor&&i&&(i.begin=n,i.end=e.pos()),x.push(i);}return x[C];}function _(){var e=v();return e&&C++,e;}function b(e,t){for(var n=C,i=[];e-->0;){i.push(_()||D);}return C=n,t.apply(i,i);}function w(e){C+=e;}function k(){return null==v();}var x=[],C=0,S=e.readWhile;return{next:_,peek:v,eof:k,croak:e.croak,ahead:b,skip:w};}function u(e){function t(){return u;}function n(){var t=e.charAt(u++);return"\n"==t?(h++,f=0):f++,t;}function i(){return e.charAt(u);}function o(){return""===i();}function r(t){throw new k(t+" (input: "+e+")",u);}function a(t){if("string"==typeof t)e.substr(u,t.length)!=t&&r("Expected "+t),s(t.length);else if(t instanceof RegExp){var n=t.exec(e.substr(u));if(n)return s(n[0].length),n;}else s(t[0].length);}function s(e){for(;e-->0;){n();}}function l(e){for(var t,i=!1,r="";!o();){if(t=n(),i)r+=t,i=!1;else if("\\"==t)i=!0;else{if(t==e)break;r+=t;}}return r;}function c(e){for(var t="";!o()&&e(i(),t);){t+=n();}return t;}function d(t){return t.exec(e.substr(u));}var u=0,h=1,f=0;return{next:n,peek:i,eof:o,croak:r,readWhile:c,readEscaped:l,lookingAt:d,skip:a,forward:s,pos:t};}function h(e,t,n){function i(){var i=e.next();return"sym"==i.type?"TRUE"==i.upper?(i.type="bool",i.value=!0):"FALSE"==i.upper&&(i.type="bool",i.value=!1):"ref"==i.type&&(i={type:"ref",ref:null!=t&&null!=n?i.absolute(t,n):i,begin:i.begin,end:i.end}),i;}var o,r=[];for(e=l(e,{forEditor:!0,row:t,col:n});!e.eof();){r.push(i());}return o=r[0],"op"==o.type&&"="==o.value&&(o.type="startexp"),r;}function f(e,t){var n=e+t,i=R[n];return i||(i="^(\\d+(COM\\d{3})*(DOT\\d+)?)",i=i.replace(/DOT/g,"\\"+t).replace(/COM/g,"\\"+e),i=RegExp(i),R[n]=i),i;}function p(e,t){for(var n="";t-->0;){n+=e;}return n;}var m,g,v,_,b,w,y,k,x,C,S,T,D,A,E,R;kendo.support.browser.msie&&kendo.support.browser.version<9||(m=kendo.spreadsheet,g=m.RangeRef,v=m.CellRef,_=m.NameRef,b=m.calc,w=b.runtime,y=Object.create(null),k=kendo.Class.extend({init:function init(e,t){this.message=e,this.pos=t;},toString:function toString(){return this.message;}}),function(e){e.forEach(function(t,n){t.forEach(function(t){y[t]=e.length-n;});});}([[":"],[" "],[","],["%"],["^"],["*","/"],["+","-"],["&"],["=","<",">","<=",">=","<>"]]),x={type:"bool",value:!0},C={type:"bool",value:!1},S=function(e){return function(t){var n=e[t];return n||(n=e[t]=Function("'use strict';return("+t+")")()),n;};}(Object.create(null)),T=Object.create(null),D={type:"eof"},A=[],E=b.registerFormatParser=function(e){A.push(e);},b.parse=function(e,t,n,o){var r,a,s,l,c;if(o instanceof Date)return{type:"date",value:w.dateToSerial(o)};if("number"==typeof o)return{type:"number",value:o};if("boolean"==typeof o)return{type:"boolean",value:o};if(o+="",/^'/.test(o))return{type:"string",value:o.substr(1)};if(/^[0-9.]+%$/.test(o)&&(r=o.substr(0,o.length-1),a=parseFloat(r),!isNaN(a)&&a==r))return{type:"percent",value:a/100};if(/^=/.test(o))return o=o.substr(1),/\S/.test(o)?i(e,t,n,o):{type:"string",value:"="+o};for(s=0;A.length>s;++s){if(l=A[s](o))return l;}return"true"==o.toLowerCase()?{type:"boolean",value:!0}:"false"==o.toLowerCase()?{type:"boolean",value:!1}:(c=w.parseDate(o))?{type:"date",value:w.dateToSerial(c)}:(a=parseFloat(o),!isNaN(a)&&o.length>0&&a==o?{type:"number",value:a}:{type:"string",value:o});},b.parseFormula=i,b.parseReference=n,b.compile=a,b.InputStream=u,b.ParseError=k,b.tokenize=h,E(function(e){var t,n,i,o,r;return(t=/^(\d+):(\d+)$/.exec(e))?(n=parseInt(t[1],10),i=parseInt(t[2],10),{type:"date",format:"hh:mm",value:w.packTime(n,i,0,0)}):(t=/^(\d+):(\d+)(\.\d+)$/.exec(e))?(i=parseInt(t[1],10),o=parseInt(t[2],10),r=1e3*parseFloat(t[3]),{type:"date",format:"mm:ss.00",value:w.packTime(0,i,o,r)}):(t=/^(\d+):(\d+):(\d+)$/.exec(e))?(n=parseInt(t[1],10),i=parseInt(t[2],10),o=parseInt(t[3],10),{type:"date",format:"hh:mm:ss",value:w.packTime(n,i,o,0)}):(t=/^(\d+):(\d+):(\d+)(\.\d+)$/.exec(e))?(n=parseInt(t[1],10),i=parseInt(t[2],10),o=parseInt(t[3],10),r=1e3*parseFloat(t[4]),{type:"date",format:"hh:mm:ss.00",value:w.packTime(n,i,o,r)}):void 0;}),E(function(e){var t,n,i,o=kendo.culture(),r=o.numberFormat[","],a=o.numberFormat["."],s=o.numberFormat.currency.symbol,l=f(r,a),c=RegExp("^\\s*\\"+s+"\\s*"),d=1,h="",m="",g=!1;if(e=u(e.replace(/^\s+|\s+$/g,"")),e.skip(/^-\s*/)&&(d=-1),(t=e.skip(c))&&(g=!0,h+='"'+t[0]+'"'),e.skip(/^-\s*/)){if(0>d)return null;d=-1;}if(!(n=e.skip(l)))return null;if(h+="#",t=e.skip(c)){if(g)return null;g=!0,m='"'+t[0]+'"';}return e.eof()?((n[2]||g)&&(h+=",#"),n[3]&&(h+="."+p("0",n[3].length-1)),i=n[0].replace(RegExp("\\"+r,"g"),"").replace(RegExp("\\"+a,"g"),"."),{type:"number",format:h+m,value:d*parseFloat(i)}):null;}),R={});},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("spreadsheet/excel-reader.min",["kendo.core.min","kendo.color.min","util/parse-xml.min","spreadsheet/calc.min"],e);}(function(){"use strict";function e(e,t,i){var o=new FileReader();o.onload=function(e){var o=new JSZip(e.target.result);n(o,t,i);},o.readAsArrayBuffer(e);}function t(e){return e=/^\//.test(e)?e.substr(1):"xl/"+e;}function n(e,t,n){var o,s=h(e),l=f(e,"_rels/workbook.xml"),c=m(e,l.byType.theme[0]),d=p(e,c),_=[],w=0;u(e,"xl/workbook.xml",{enter:function enter(n,i){var o,r,c,u;this.is(R)?(o=i["r:id"],r=l.byId[o],c=i.name,u=a(e,r),_.push({workbook:t,zip:e,strings:s,styles:d,file:r,options:{name:c,rows:Math.max(t.options.rows||0,u.rows),columns:Math.max(t.options.columns||0,u.cols),columnWidth:u.columnWidth,rowHeight:u.rowHeight}})):this.is(z)&&i.activeTab&&(w=g(i.activeTab));},text:function text(e){var n,i=this.is(C);!i||v(i["function"])||v(i.vbProcedure)||(n=y(e,!0),t.defineName(i.name,n,v(i.hidden)));}}),o=new b.Deferred(),o.progress(function(e){n&&n.notify(e);}).then(function(){var e=t.sheets();r(e),t.activeSheet(e[w]),n&&n.resolve();}),i(_,t,o);}function i(e,t,n){var i,r=new b.Deferred().resolve();for(i=0;e.length>i;i++){!function(i,a){r=r.then(function(){var r,s,l=t.insertSheet(i.options);return l.suspendChanges(!0),r=o(l,i),s={sheet:l,progress:a/(e.length-1)},r.then(function(){n.notify(s);}),r;});}(e[i],i);}r.then(function(){n.resolve();});}function o(e,t){var n=new b.Deferred();return setTimeout(function(){c(t.zip,t.file,e,t.strings,t.styles),n.resolve();},0),n;}function r(e){for(var t=0;e.length>t;t++){e[t].suspendChanges(!1).triggerChange({recalc:!0});}}function a(e,n){var i={rows:0,cols:0};return u(e,t(n),{enter:function enter(e,t){if("dimension"==e){var n=y(t.ref);n.bottomRight&&(i.cols=n.bottomRight.col+1,i.rows=n.bottomRight.row+1);}else"sheetFormatPr"===e?(t.defaultColWidth&&(i.columnWidth=s(parseFloat(t.defaultColWidth))),t.defaultRowHeight&&(i.rowHeight=l(parseFloat(t.defaultRowHeight)))):this.is(A)&&this.exit();}}),i;}function s(e){var t=7,n=(256*e+Math.floor(128/t))/256;return Math.floor(n)*t;}function l(e){return 1.5625*e;}function c(e,n,i,o,r){var a,c,h,p,m,_=i._columns._count,b=null,w=n.replace(/worksheets\//,"worksheets/_rels/"),C=f(e,w);u(e,t(n),{enter:function enter(e,t){var n,o,u,f,w,S,R,I,F,M;if(this.is(k))h=null,p=null,m=null,a=t.r,null==a&&(a=y(b),a.col++,a=""+a),b=a,c=t.t,n=t.s,null!=n&&d(i,a,r,n);else if(this.is(T))i.range(t.ref).merge();else if(this.is(x)){if(o=g(t.min)-1,u=Math.min(_,g(t.max))-1,t.width&&(f=s(parseFloat(t.width)),0!==f&&i._columns.values.value(o,u,f)),"1"===t.hidden||0===f)for(w=o;u>=w;w++){i.hideColumn(w);}}else this.is(A)?(S=g(t.r)-1,t.ht&&(R=l(parseFloat(t.ht)),0!==R&&i._rows.values.value(S,S,R)),"1"!==t.hidden&&0!==R||i.hideRow(S)):this.is(E)?t.activeCell&&(I=y(t.activeCell),i.select(I,!0)):this.is(D)?"frozen"==t.state&&(t.xSplit&&i.frozenColumns(g(t.xSplit)),t.ySplit&&i.frozenRows(g(t.ySplit))):this.is(B)?i.showGridLines(v(t.showGridLines,!0)):this.is(L)&&(F=t["r:id"],M=C.byId[F],M&&i.range(t.ref).link(M));},leave:function leave(e){if(this.is(k)){if(null!=p)try{i.range(m||a).formula(p);}catch(t){i.range(m||a).value(p).background("#ffaaaa");}else if(null!=h){var n=i.range(a);n._get("formula")||(c&&"n"!=c?"s"==c?h=o[g(h)]:"b"==c?h="1"===h:"d"==c&&(h=kendo.parseDate(h)):h=parseFloat(h),null!=h&&n.value(h));}}else"cols"==e?i._columns._refresh():"sheetData"==e&&i._rows._refresh();},text:function text(e){var t;this.is(P)||this.is(I)?h=e:(t=this.is(S))&&(p=e,"shared"==t.t&&(m=t.ref));}});}function d(e,t,n,i){function o(e){var t="string"==typeof e?e:e.formatCode;null==t||/^general$/i.test(t)||(t=t.replace(/^\[\$-[0-9]+\]/,""),u.format(t));}function r(e){"solid"==e.type&&u.background(e.color);}function a(e){u.fontFamily(e.name),u._property("fontSize",e.size),e.bold&&u.bold(!0),e.italic&&u.italic(!0);}function s(e){function t(t,n){var i,o,r=e[t];r&&(i=H[r.style],0!==i&&(o=r.color,null==o&&(o="#000"),u._property(n,{size:i,color:o})));}t("left","borderLeft"),t("top","borderTop"),t("right","borderRight"),t("bottom","borderBottom");}function l(e,t){var n=h[e];if(null!=n&&!n)return!1;if(d=h[t],c&&null==d){if(n=c[e],null!=n&&!n)return!1;d=c[t];}return null!=d;}var c,d,u=e.range(t),h=n.inlineStyles[i];h.xfId&&(c=n.namedStyles[h.xfId]),l("applyBorder","borderId")&&s(n.borders[d]),l("applyFont","fontId")&&a(n.fonts[d]),l("applyAlignment","textAlign")&&u.textAlign(d),l("applyAlignment","verticalAlign")&&u.verticalAlign(d),l("applyAlignment","wrapText")&&u._property("wrap",d),l("applyFill","fillId")&&r(n.fills[d]),l("applyNumberFormat","numFmtId")&&o(n.numFmts[d]||N[d]);}function u(e,t,n){var i=e.files[t];i&&w(i.asUint8Array(),n);}function h(e){var t=[],n=null;return u(e,"xl/sharedStrings.xml",{leave:function leave(){this.is(M)&&(t.push(n),n=null);},text:function text(e){this.is(F)&&(null==n&&(n=""),n+=e);}}),t;}function f(e,n){var i={byId:{},byType:{theme:[]}};return u(e,t(n)+".rels",{enter:function enter(e,t){var n,o;"Relationship"==e&&(i.byId[t.Id]=t.Target,n=t.Type.match(/\w+$/)[0],o=i.byType[n]||[],o.push(t.Target),i.byType[n]=o);}}),i;}function p(e,t){function n(e){function t(t){null!=e[t]&&(n[t]=v(e[t]));}var n={borderId:g(e.borderId),fillId:g(e.fillId),fontId:g(e.fontId),numFmtId:g(e.numFmtId),pivotButton:v(e.pivotButton),quotePrefix:v(e.quotePrefix),xfId:g(e.xfId)};return t("applyAlignment"),t("applyBorder"),t("applyFill"),t("applyFont"),t("applyNumberFormat"),t("applyProtection"),n;}function i(e){var n,i,o;return e.rgb?_(e.rgb):e.indexed?G[g(e.indexed)]:e.theme?(n=t.colorScheme[g(e.theme)])?(i=kendo.parseColor(n),e.tint&&(i=i.toHSL(),o=parseFloat(e.tint),i.l=0>o?i.l*(1+o):i.l*(1-o)+(100-100*(1-o))),i.toCssRgba()):G[0]:void 0;}var o={fonts:[],numFmts:{},fills:[],borders:[],namedStyles:[],inlineStyles:[]},r=null,a=null,s=null,l=null;return u(e,"xl/styles.xml",{enter:function enter(e,t,c){if(this.is(q))o.numFmts[t.numFmtId]=t;else if(this.is(U))o.fonts.push(r={});else if(r)"sz"==e?r.size=parseFloat(t.val):"name"==e?r.name=t.val:"b"==e?r.bold=v(t.val,!0):"i"==e&&(r.italic=v(t.val,!0));else if(this.is(V))o.fills.push(a={});else if(a)"patternFill"==e?a.type=t.patternType:"fgColor"==e&&"solid"===a.type?a.color=i(t):"bgColor"==e&&"solid"!==a.type&&(a.color=i(t));else if(this.is(O))o.borders.push(s={});else if(s){if(/^(?:left|top|right|bottom)$/.test(e)&&t.style&&(s[e]={style:t.style}),"color"==e){var d=this.stack[this.stack.length-2].$tag;s[d].color=i(t);}}else this.is(j)?(l=n(t),o.namedStyles.push(l),c&&(l=null)):this.is(W)?(l=n(t),o.inlineStyles.push(l),c&&(l=null)):l&&"alignment"==e&&(/^(?:left|center|right|justify)$/.test(t.horizontal)&&(l.textAlign=t.horizontal),/^(?:top|center|bottom)$/.test(t.vertical)&&(l.verticalAlign=t.vertical),null!=t.wrapText&&(l.wrapText=v(t.wrapText)));},leave:function leave(e){this.is(U)?r=null:this.is(V)?a=null:this.is(O)?s=null:"xf"==e&&(l=null);}}),o;}function m(e,n){function i(e,t,n){var i=e[t];e[t]=e[n],e[n]=i;}var o=[],r={colorScheme:o},a=t(n);return e.files[a]&&(u(e,a,{enter:function enter(e,t){this.is(Y)?o.push(_("window"==t.val?"FFFFFFFF":"FF000000")):this.is($)&&o.push(_("FF"+t.val));}}),o.length>3&&(i(o,0,1),i(o,2,3))),r;}function g(e){return null==e?null:parseInt(e,10);}function v(e,t){return null==e?t:"true"==e||e===!0||1==e;}function _(e){var t=/^([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/i.exec(e);return"rgba("+parseInt(t[2],16)+", "+parseInt(t[3],16)+", "+parseInt(t[4],16)+", "+parseInt(t[1],16)/255+")";}var b,w,y,k,x,C,S,T,D,A,E,R,I,F,M,P,z,B,L,H,N,O,V,U,W,j,q,G,$,Y;kendo.support.browser.msie&&kendo.support.browser.version<9||(b=kendo.jQuery,w=kendo.util.parseXML,y=kendo.spreadsheet.calc.parseReference,k=["sheetData","row","c"],x=["cols","col"],C=["definedNames","definedName"],S=["sheetData","row","c","f"],T=["mergeCells","mergeCell"],D=["sheetViews","sheetView","pane"],A=["sheetData","row"],E=["sheetViews","sheetView","selection"],R=["sheets","sheet"],I=["sheetData","row","c","is"],F=["t"],M=["si"],P=["sheetData","row","c","v"],z=["bookViews","workbookView"],B=["sheetViews","sheetView"],L=["hyperlinks","hyperlink"],H={none:0,thin:1,medium:2,dashed:1,dotted:1,thick:3,"double":3,hair:1,mediumDashed:2,dashDot:1,mediumDashDot:2,dashDotDot:1,mediumDashDotDot:2,slantDashDot:1},N={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"mm-dd-yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@"},O=["borders","border"],V=["fills","fill"],U=["fonts","font"],W=["cellXfs","xf"],j=["cellStyleXfs","xf"],q=["numFmts","numFmt"],G=[_("FF000000"),_("FFFFFFFF"),_("FFFF0000"),_("FF00FF00"),_("FF0000FF"),_("FFFFFF00"),_("FFFF00FF"),_("FF00FFFF"),_("FF000000"),_("FFFFFFFF"),_("FFFF0000"),_("FF00FF00"),_("FF0000FF"),_("FFFFFF00"),_("FFFF00FF"),_("FF00FFFF"),_("FF800000"),_("FF008000"),_("FF000080"),_("FF808000"),_("FF800080"),_("FF008080"),_("FFC0C0C0"),_("FF808080"),_("FF9999FF"),_("FF993366"),_("FFFFFFCC"),_("FFCCFFFF"),_("FF660066"),_("FFFF8080"),_("FF0066CC"),_("FFCCCCFF"),_("FF000080"),_("FFFF00FF"),_("FFFFFF00"),_("FF00FFFF"),_("FF800080"),_("FF800000"),_("FF008080"),_("FF0000FF"),_("FF00CCFF"),_("FFCCFFFF"),_("FFCCFFCC"),_("FFFFFF99"),_("FF99CCFF"),_("FFFF99CC"),_("FFCC99FF"),_("FFFFCC99"),_("FF3366FF"),_("FF33CCCC"),_("FF99CC00"),_("FFFFCC00"),_("FFFF9900"),_("FFFF6600"),_("FF666699"),_("FF969696"),_("FF003366"),_("FF339966"),_("FF003300"),_("FF333300"),_("FF993300"),_("FF993366"),_("FF333399"),_("FF333333"),_("FF000000"),_("FFFFFFFF")],$=["a:clrScheme","*","a:srgbClr"],Y=["a:clrScheme","*","a:sysClr"],kendo.spreadsheet.readExcel=e,kendo.spreadsheet._readSheet=c,kendo.spreadsheet._readStrings=h,kendo.spreadsheet._readStyles=p,kendo.spreadsheet._readTheme=m,kendo.spreadsheet._readWorkbook=n);},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("spreadsheet/workbook.min",["kendo.core.min","spreadsheet/runtime.min","spreadsheet/references.min","spreadsheet/excel-reader.min"],e);}(function(){!function(e){function t(e,t){function n(e,t,n){return void 0!==e?e:void 0!==t?t:n;}var i,o,r,a,s,l,c=n(e.rowCount,t.rows,200),d=n(e.columnCount,t.columns,50),u=n(e.rowHeight,t.rowHeight,20),h=n(e.columnWidth,t.columnWidth,64),f=n(e.headerHeight,t.headerHeight,20),p=n(e.headerWidth,t.headerWidth,32);if(void 0!==e.rows)for(i=0;e.rows.length>i;++i){if(o=e.rows[i],r=n(o.index,i),r>=c&&(c=r+1),o.cells)for(a=0;o.cells.length>a;++a){s=o.cells[a],l=n(s.index,a),l>=d&&(d=l+1);}}return{rowCount:c,columnCount:d,rowHeight:u,columnWidth:h,headerHeight:f,headerWidth:p};}var n,i;e.support.browser.msie&&9>e.support.browser.version||(n=e.jQuery,i=e.Observable.extend({init:function init(t,n){e.Observable.fn.init.call(this),this.options=t,this._view=n,this._sheets=[],this._sheetsSearchCache={},this._sheet=this.insertSheet({rows:this.options.rows,columns:this.options.columns,rowHeight:this.options.rowHeight,columnWidth:this.options.columnWidth,headerHeight:this.options.headerHeight,headerWidth:this.options.headerWidth,dataSource:this.options.dataSource}),this.undoRedoStack=new e.util.UndoRedoStack(),this.undoRedoStack.bind(["undo","redo"],this._onUndoRedo.bind(this)),this._context=new e.spreadsheet.FormulaContext(this),this._validationContext=new e.spreadsheet.ValidationFormulaContext(this),this._names=Object.create(null),this.fromJSON(this.options);},clipboard:function clipboard(){return this._clipboard||(this._clipboard=new e.spreadsheet.Clipboard(this)),this._clipboard;},destroy:function destroy(){this.unbind(),this._clipboard&&this._clipboard.destroy();},events:["change","excelImport","excelExport"],_sheetChange:function _sheetChange(e){this.trigger("change",e);},_sheetCommandRequest:function _sheetCommandRequest(e){this.trigger("commandRequest",e);},_inputForRef:function _inputForRef(t){return new e.spreadsheet.Range(t,this._sheet).input();},_onUndoRedo:function _onUndoRedo(e){e.command.range().select();},execute:function execute(t){var i,o=n.extend({workbook:this},t.options),r=new e.spreadsheet[t.command](o),a=this.activeSheet();return o.origin&&r.origin(o.origin),r.range(o.operatingRange?o.operatingRange:o.editActiveCell?a.activeCellSelection():a.selection()),i=r.exec(),i&&"error"===i.reason||this.undoRedoStack.push(r),i;},resetFormulas:function resetFormulas(){this._sheets.forEach(function(e){e.resetFormulas();});},resetValidations:function resetValidations(){this._sheets.forEach(function(e){e.resetValidations();});},refresh:function refresh(e){e.recalc&&(this.resetFormulas(),this.resetValidations(),this._sheet.recalc(this._context),this._sheet.revalidate(this._validationContext));},activeSheet:function activeSheet(t){return void 0===t?this._sheet:void(this.sheetByName(t.name())&&(this._sheet=t,t.triggerChange(e.spreadsheet.ALL_REASONS)));},moveSheetToIndex:function moveSheetToIndex(e,t){var n=this.sheetIndex(e),i=this._sheets;-1!==n&&(this._sheetsSearchCache={},i.splice(t,0,i.splice(n,1)[0]),this.trigger("change",{sheetSelection:!0}));},insertSheet:function insertSheet(t){var n,i,o,r,_a,s;return t=t||{},n=this,i="number"==typeof t.index?t.index:n._sheets.length,r=n._sheets,_a=function a(e){e=e?e:1;var t="Sheet"+e;return n.sheetByName(t)?_a(e+1):t;},t.name&&n.sheetByName(t.name)?void 0:(this._sheetsSearchCache={},o=t.name||_a(),s=new e.spreadsheet.Sheet(t.rows||this.options.rows,t.columns||this.options.columns,t.rowHeight||this.options.rowHeight,t.columnWidth||this.options.columnWidth,t.headerHeight||this.options.headerHeight,t.headerWidth||this.options.headerWidth),s._workbook=this,s._name(o),s.bind("change",this._sheetChange.bind(this)),s.bind("commandRequest",this._sheetCommandRequest.bind(this)),r.splice(i,0,s),t.data&&s.fromJSON(t.data),t.dataSource&&s.setDataSource(t.dataSource),this.trigger("change",{sheetSelection:!0}),s);},sheets:function sheets(){return this._sheets.slice();},sheetByName:function sheetByName(e){return this._sheets[this.sheetIndex(e)];},sheetByIndex:function sheetByIndex(e){return this._sheets[e];},sheetIndex:function sheetIndex(e){var t,n=this._sheets,i=("string"==typeof e?e:e.name()).toLowerCase(),o=this._sheetsSearchCache[i];if(o>=0)return o;for(o=0;n.length>o;o++){if(t=n[o].name().toLowerCase(),this._sheetsSearchCache[t]=o,t===i)return o;}return-1;},renameSheet:function renameSheet(e,t){var n=e.name();if(t&&n!==t&&(e=this.sheetByName(n)))return this._sheetsSearchCache={},this._sheets.forEach(function(e){e._forFormulas(function(e){e.renameSheet(n,t);});}),e._name(t),this.trigger("change",{sheetSelection:!0}),e;},removeSheet:function removeSheet(e){var t,n=this,i=n._sheets,o=e.name(),r=n.sheetIndex(e);1!==i.length&&(this._sheetsSearchCache={},r>-1&&(e.unbind(),i.splice(r,1),n.activeSheet().name()===o?(t=i[r===i.length?r-1:r],n.activeSheet(t)):this.trigger("change",{recalc:!0,sheetSelection:!0})));},_clearSheets:function _clearSheets(){for(var e=0;this._sheets.length>e;e++){this._sheets[e].unbind();}this._sheets=[],this._sheetsSearchCache={};},fromJSON:function fromJSON(e){var n,i,o,r;if(e.sheets)for(this._clearSheets(),n=0;e.sheets.length>n;n++){i=e.sheets[n],o=t(i,this.options),r=this.insertSheet({rows:o.rowCount,columns:o.columnCount,rowHeight:o.rowHeight,columnWidth:o.columnWidth,headerHeight:o.headerHeight,headerWidth:o.headerWidth,data:i}),i.dataSource&&r.setDataSource(i.dataSource);}this.activeSheet(e.activeSheet?this.sheetByName(e.activeSheet):this._sheets[0]);},toJSON:function toJSON(){return this.resetFormulas(),this.resetValidations(),{activeSheet:this.activeSheet().name(),sheets:this._sheets.map(function(e){return e.recalc(this._context),e.toJSON();},this)};},fromFile:function fromFile(t){var i=new n.Deferred(),o=i.promise(),r={file:t,promise:o};return t&&!this.trigger("excelImport",r)?(this._clearSheets(),e.spreadsheet.readExcel(t,this,i)):i.reject(),o;},saveAsExcel:function saveAsExcel(t){var i,o;t=n.extend({},this.options.excel,t),i=this.toJSON(),this.trigger("excelExport",{workbook:i})||(o=new e.ooxml.Workbook(i),e.saveAs({dataURI:o.toDataURL(),fileName:i.fileName||t.fileName,proxyURL:t.proxyURL,forceProxy:t.forceProxy}));},draw:function draw(t,n){"function"!=typeof t||n||(n=t,t={});var i=[],o=this._sheets;!function r(a){if(o.length>a)o[a].draw(e.spreadsheet.SHEETREF,t,function(e){i.push(e),r(a+1);});else{var s=i[0];for(a=1;i.length>a;++a){s.children=s.children.concat(i[a].children);}n(s);}}(0);},defineName:function defineName(e,t,n){this._names[e]={value:t,hidden:n};},undefineName:function undefineName(e){delete this._names[e];},nameValue:function nameValue(e){return e in this._names?this._names[e].value:null;},adjustNames:function adjustNames(t,n,i,o){t=t.toLowerCase(),Object.keys(this._names).forEach(function(r){var a=this.nameValue(r);a instanceof e.spreadsheet.Ref&&a.sheet.toLowerCase()==t&&(a=a.adjust(null,null,null,null,n,i,o),this.defineName(r,a));},this);},options:{}}),e.spreadsheet.Workbook=i,e.PDFMixin&&(e.PDFMixin.extend(i.prototype),i.prototype.saveAsPDF=function(t){var i=new n.Deferred(),o=i.promise(),r={promise:o};if(!this.trigger("pdfExport",r))return this._drawPDF(t,i).then(function(t){return e.drawing.exportPDF(t);}).done(function(n){e.saveAs({dataURI:n,fileName:t.fileName,proxyURL:t.proxyURL,forceProxy:t.forceProxy,proxyTarget:t.proxyTarget}),i.resolve();}).fail(function(e){i.reject(e);}),o;},i.prototype._drawPDF=function(e){var t=new n.Deferred(),i=function i(e){t.resolve(e);};switch(e.area){case"workbook":e.workbook.draw(e,i);break;case"sheet":e.workbook.activeSheet().draw(e,i);break;case"selection":e.workbook.activeSheet().selection().draw(e,i);}return t.promise();}));}(kendo);},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("spreadsheet/formulacontext.min",["kendo.core.min"],e);}(function(){var e,t,n,i,o,r,a,s;kendo.support.browser.msie&&kendo.support.browser.version<9||(e=kendo.spreadsheet,t=e.CellRef,n=e.RangeRef,i=e.UnionRef,o=e.NameRef,r=e.Ref,a=kendo.Class.extend({init:function init(e){this.workbook=e;},getRefCells:function getRefCells(e,a){var s,l,c,d,u,h,f,p,m,g,v,_,b,w,y,k,x;if(e instanceof t)return s=this.workbook.sheetByName(e.sheet),s&&e.valid()?(l=s.formula(e),c=s.range(e.row,e.col).value(),null!=l||null!=c?[{formula:l,value:c,row:e.row,col:e.col,sheet:e.sheet,hidden:a?0===s.columnWidth(e.col)||0===s.rowHeight(e.row):!1}]:[]):[{value:new kendo.spreadsheet.calc.runtime.CalcError("REF")}];if(e instanceof n){if(d=this.workbook.sheetIndex(e.sheet),u=[],h=d,e.endSheet&&(h=this.workbook.sheetIndex(e.endSheet),d>h&&(f=d,d=h,h=f)),0>d||0>h||!e.valid())return[{value:new kendo.spreadsheet.calc.runtime.CalcError("REF")}];for(;h>=d;){for(s=this.workbook.sheetByIndex(d++),p=s._grid.normalize(e.topLeft),m=s._grid.normalize(e.bottomRight),g=s._grid.cellRefIndex(p),v=s._grid.cellRefIndex(m),_=s._properties.iterator("value",g,v),b=p.col;m.col>=b;++b){for(w=p.row;m.row>=w;++w){y=s._grid.index(w,b),l=s._properties.get("formula",y),c=_.at(y),null==l&&null==c||u.push({formula:l,value:c,row:w,col:b,sheet:s.name(),hidden:a?0===s.columnWidth(b)||0===s.rowHeight(w):!1});}}}return u;}if(e instanceof i){for(k=[],d=0;e.refs.length>d;++d){k=k.concat(this.getRefCells(e.refs[d],a));}return k;}return e instanceof o?(x=this.workbook.nameValue(e.name),x instanceof r?this.getRefCells(x,a):[{value:new kendo.spreadsheet.calc.runtime.CalcError("NAME")}]):[];},getData:function getData(e){var n,i=e instanceof t;return e instanceof o&&(i=this.workbook.nameValue(e)instanceof t),n=this.getRefCells(e).map(function(e){return e.value;}),i?n[0]:n;},onFormula:function onFormula(e){var t=this.workbook.sheetByName(e.sheet),n=e.row,i=e.col,o=e.value,r=t.formula({row:n,col:i});return r!==e?!1:(o instanceof kendo.spreadsheet.calc.runtime.Matrix?o.each(function(e,o,r){t._value(n+o,i+r,e);}):t._value(n,i,o),clearTimeout(t._formulaContextRefresh),t._formulaContextRefresh=setTimeout(function(){t.batch(function(){},{layout:!0});},50),!0);}}),s=a.extend({onFormula:function onFormula(){return!0;}}),e.FormulaContext=a,e.ValidationFormulaContext=s);},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("spreadsheet/controller.min",["kendo.core.min"],e);}(function(){!function(e){"use strict";function t(e){return e.map(function(e){return'[data-action="'+e+'"]';}).join(",");}var n,i,o,r,a,s,l,c,d,u,h,f,p,m,g,v,_;if(!(e.support.browser.msie&&9>e.support.browser.version)){n=e.jQuery,i=/:alphanum$/,o={up:"up",down:"down",left:"left",right:"right",home:"first-col","ctrl+left":"first-col",end:"last-col","ctrl+right":"last-col","ctrl+up":"first-row","ctrl+down":"last-row","ctrl+home":"first","ctrl+end":"last",pageup:"prev-page",pagedown:"next-page"},r={tab:"next","shift+tab":"previous",enter:"lower","shift+enter":"upper","delete":"clearContents",backspace:"clearContents","shift+:alphanum":"edit",":alphanum":"edit","ctrl+:alphanum":"ctrl","alt+ctrl+:alphanum":"edit",":edit":"edit"},a={wheel:"onWheel","*+mousedown":"onMouseDown",contextmenu:"onContextMenu","*+mousedrag":"onMouseDrag","*+mouseup":"onMouseUp","*+dblclick":"onDblClick",mousemove:"onMouseMove"},s={"*+pageup":"onPageUp","*+pagedown":"onPageDown",mouseup:"onMouseUp","*+cut":"onCut","*+paste":"onPaste","*+copy":"onCopy"},l={esc:"onEditorEsc",enter:"onEditorBlur","alt+enter":"insertNewline","shift+enter":"onEditorBlur",tab:"onEditorBlur","shift+tab":"onEditorBlur"},c=n.extend({focus:"onEditorBarFocus"},l),d=n.extend({focus:"onEditorCellFocus"},l),u={cell:"range",rowheader:"row",columnheader:"column",topcorner:"sheet",autofill:"autofill"},h=t(["cut","copy","paste","insert-left","insert-right","insert-above","insert-below"]),f=t(["unhide-row","unhide-column"]),p=[],m=[],g=[];for(v in o){p.push(v),m.push("shift+"+v);}for(v in r){g.push(v);}s[p]="onAction",s[m]="onShiftAction",s[g]="onEntryAction",d[p]="onEditorAction",d[m]="onEditorShiftAction",_=e.Class.extend({init:function init(t,i){this.view=t,this.workbook(i),this.container=n(t.container),this.clipboardElement=n(t.clipboard),this.cellContextMenu=t.cellContextMenu,this.rowHeaderContextMenu=t.rowHeaderContextMenu,this.colHeaderContextMenu=t.colHeaderContextMenu,this.scroller=t.scroller,this.tabstrip=t.tabstrip,this.sheetsbar=t.sheetsbar,this.editor=t.editor,this.editor.bind("change",this.onEditorChange.bind(this)),this.editor.bind("activate",this.onEditorActivate.bind(this)),this.editor.bind("deactivate",this.onEditorDeactivate.bind(this)),this.editor.bind("update",this.onEditorUpdate.bind(this)),n(t.scroller).on("scroll",this.onScroll.bind(this)),this.listener=new e.spreadsheet.EventListener(this.container,this,a),this._enableEditorEvents(),this.sheetsbar&&(this.sheetsbar.bind("select",this.onSheetBarSelect.bind(this)),this.sheetsbar.bind("reorder",this.onSheetBarReorder.bind(this)),this.sheetsbar.bind("rename",this.onSheetBarRename.bind(this)),this.sheetsbar.bind("remove",this.onSheetBarRemove.bind(this))),this.cellContextMenu.bind("select",this.onContextMenuSelect.bind(this)),this.rowHeaderContextMenu.bind("select",this.onContextMenuSelect.bind(this)),this.colHeaderContextMenu.bind("select",this.onContextMenuSelect.bind(this)),this.cellContextMenu.element.add(this.rowHeaderContextMenu.element).add(this.colHeaderContextMenu.element).on("contextmenu",!1),this.tabstrip&&(this.tabstrip.bind("action",this.onCommandRequest.bind(this)),this.tabstrip.bind("dialog",this.onDialogRequest.bind(this)));},_enableEditorEvents:function _enableEditorEvents(t){void 0===t||t?(this.keyListener=new e.spreadsheet.EventListener(this.clipboardElement,this,s),this.barKeyListener=new e.spreadsheet.EventListener(this.editor.barElement(),this,c),this.inputKeyListener=new e.spreadsheet.EventListener(this.editor.cellElement(),this,d)):(this.keyListener.destroy(),this.barKeyListener.destroy(),this.inputKeyListener.destroy());},_execute:function _execute(e){var t,n=this._workbook.execute(e);return"EditCommand"!==e.command||n||this._workbook.trigger("change",{editorClose:!0}),n&&(this.view.editor.isActive()&&(this.enableEditor(!1),t=this.enableEditor.bind(this,!0,!0)),"error"===n.reason?(this._lastCommandRequest=null,this.view.showError(n,t)):this.view.openDialog(n.reason,{close:t})),n;},_activeTooltip:function _activeTooltip(){return""+this._workbook.activeSheet().activeCell().simplify();},onContextMenuSelect:function onContextMenuSelect(e){var t,i=n(e.item).data("action");switch(i){case"cut":t={command:"ToolbarCutCommand",options:{workbook:this._workbook}};break;case"copy":t={command:"ToolbarCopyCommand",options:{workbook:this._workbook}};break;case"paste":t={command:"ToolbarPasteCommand",options:{workbook:this._workbook}};break;case"unmerge":t={command:"MergeCellCommand",options:{value:"unmerge"}};break;case"merge":this.view.openDialog("merge");break;case"hide-row":t={command:"HideLineCommand",options:{axis:"row"}};break;case"hide-column":t={command:"HideLineCommand",options:{axis:"column"}};break;case"unhide-row":t={command:"UnHideLineCommand",options:{axis:"row"}};break;case"unhide-column":t={command:"UnHideLineCommand",options:{axis:"column"}};break;case"delete-row":t={command:"DeleteRowCommand"};break;case"delete-column":t={command:"DeleteColumnCommand"};}t&&this._execute(t);},onSheetBarRemove:function onSheetBarRemove(e){var t=this._workbook.sheetByName(e.name);t&&this._workbook.removeSheet(t);},destroy:function destroy(){this.listener.destroy(),this._enableEditorEvents(!1),this.keyListener.destroy(),this.inputKeyListener.destroy();},onSheetBarSelect:function onSheetBarSelect(e){var t,n=this._workbook;t=e.isAddButton?n.insertSheet():n.sheetByName(e.name),n.activeSheet().name()!==t.name()&&n.activeSheet(t);},onSheetBarReorder:function onSheetBarReorder(e){var t=this._workbook.sheetByIndex(e.oldIndex);this._workbook.moveSheetToIndex(t,e.newIndex),this._workbook.activeSheet(t);},onSheetBarRename:function onSheetBarRename(e){var t=this._workbook.sheetByIndex(e.sheetIndex);this._workbook.renameSheet(t,e.name),this.clipboardElement.focus();},sheet:function sheet(e){this.navigator=e.navigator(),this.axisManager=e.axisManager();},workbook:function workbook(e){this._workbook=e,this.clipboard=e.clipboard(),e.bind("commandRequest",this.onCommandRequest.bind(this));},refresh:function refresh(){var e=this.editor,t=this._workbook,n=t.activeSheet();this._viewPortHeight=this.view.scroller.clientHeight,this.navigator.height(this._viewPortHeight),e.isActive()||this.isEditorDisabled||(e.enable(n.selection().enable()!==!1),e.value(t._inputForRef(n.activeCell())));},onScroll:function onScroll(){this.view.render();},onWheel:function onWheel(e){var t=e.originalEvent.deltaX,n=e.originalEvent.deltaY;1===e.originalEvent.deltaMode&&(t*=10,n*=10),this.scrollWith(t,n),e.preventDefault();},onAction:function onAction(e,t){this.navigator.moveActiveCell(o[t]),e.preventDefault();},onPageUp:function onPageUp(){this.scrollDown(-this._viewPortHeight);},onPageDown:function onPageDown(){this.scrollDown(this._viewPortHeight);},onEntryAction:function onEntryAction(e,t){var n,o,a;if(e.mod){switch(n=!0,o=String.fromCharCode(e.keyCode)){case"A":this.navigator.selectAll();break;case"Y":this._workbook.undoRedoStack.redo();break;case"Z":this._workbook.undoRedoStack.undo();break;default:n=!1;}n&&e.preventDefault();}else if(a=this._workbook.activeSheet().selection().enable()===!1,"delete"==t||"backspace"==t)a||this._execute({command:"ClearContentCommand"}),e.preventDefault();else if(i.test(t)||":edit"===t){if(a)return void e.preventDefault();":edit"!==t&&this.editor.value(""),this.editor.activate({range:this._workbook.activeSheet()._viewActiveCell(),rect:this.view.activeCellRectangle(),tooltip:this._activeTooltip()}).focus();}else this.navigator.navigateInSelection(r[t]),e.preventDefault();},onShiftAction:function onShiftAction(e,t){this.navigator.modifySelection(o[t.replace("shift+","")],this.appendSelection),e.preventDefault();},onMouseMove:function onMouseMove(e){var t,n=this._workbook.activeSheet();n.resizingInProgress()||n.selectionInProgress()||(t=this.objectAt(e),"columnresizehandle"===t.type||"rowresizehandle"===t.type?n.positionResizeHandle(t.ref):n.removeResizeHandle());},onMouseDown:function onMouseDown(e){var t,n=this.objectAt(e);return n.pane&&(this.originFrame=n.pane),this.editor.canInsertRef(!1)&&n.ref?(this._workbook.activeSheet()._setFormulaSelections(this.editor.highlightedRefs()),this.navigator.startSelection(n.ref,this._selectionMode,this.appendSelection,e.shiftKey),void e.preventDefault()):(this.editor.deactivate(),this.editor.isActive()?void e.preventDefault():(t=this._workbook.activeSheet(),"columnresizehandle"===n.type||"rowresizehandle"===n.type?(t.startResizing({x:n.x,y:n.y}),void e.preventDefault()):"filtericon"===n.type?(this.openFilterMenu(e),void e.preventDefault()):(this._selectionMode=u[n.type],this.appendSelection=e.mod,void this.navigator.startSelection(n.ref,this._selectionMode,this.appendSelection,e.shiftKey))));},onContextMenu:function onContextMenu(t){var n,i,o,r,a,s,l=this._workbook.activeSheet();l.resizingInProgress()||(t.preventDefault(),this.cellContextMenu.close(),this.colHeaderContextMenu.close(),this.rowHeaderContextMenu.close(),i={pageX:t.pageX,pageY:t.pageY},o=this.objectAt(i),"columnresizehandle"!==o.type&&"rowresizehandle"!==o.type&&(this.navigator.selectForContextMenu(o.ref,u[o.type]),r=this.navigator._sheet.select()instanceof e.spreadsheet.UnionRef,a=!1,s=!1,"columnheader"==o.type?(n=this.colHeaderContextMenu,a=!r&&this.axisManager.selectionIncludesHiddenColumns()):"rowheader"==o.type?(n=this.rowHeaderContextMenu,a=!r&&this.axisManager.selectionIncludesHiddenRows()):(n=this.cellContextMenu,s=this.navigator.selectionIncludesMergedCells()),n.element.find(h).toggle(!r),n.element.find(f).toggle(a),n.element.find("[data-action=unmerge]").toggle(s),setTimeout(function(){n.open(t.pageX,t.pageY);})));},prevent:function prevent(e){e.preventDefault();},constrainResize:function constrainResize(e,t){var n=this._workbook.activeSheet(),i=n.resizeHandlePosition();return!i||"outside"===e||"topcorner"===e||i.col>t.col||i.row>t.row;},onMouseDrag:function onMouseDrag(e){var t,n,i,o;if("sheet"!==this._selectionMode){if(t={pageX:e.pageX,pageY:e.pageY},n=this.objectAt(t),i=this._workbook.activeSheet(),i.resizingInProgress())return void(this.constrainResize(n.type,n.ref)||i.resizeHintPosition({x:n.x,y:n.y}));if("outside"===n.type)return void this.startAutoScroll(n);this.originFrame===n.pane?this.selectToLocation(t):(o=this.originFrame._grid,n.x>o.right&&this.scrollLeft(),n.y>o.bottom&&this.scrollTop(),o.top>n.y||o.left>n.x?this.startAutoScroll(n,t):this.selectToLocation(t)),e.preventDefault();}},onMouseUp:function onMouseUp(e){var t,n,i,o=this._workbook.activeSheet();if(o.completeResizing(),this.navigator.completeSelection(),this.stopAutoScroll(),t=this.editor.activeEditor()){for(n=e.target;n;){if(n===t.element[0])return;n=n.parentNode;}i=this.objectAt(e),i&&i.ref&&t.canInsertRef(!1)&&(t.refAtPoint(o.selection()._ref),o._setFormulaSelections(t.highlightedRefs()));}},onDblClick:function onDblClick(e){var t=this.objectAt(e),n=this._workbook.activeSheet().selection().enable()===!1;"cell"!==t.type||n||(this.editor.activate({range:this._workbook.activeSheet()._viewActiveCell(),rect:this.view.activeCellRectangle(),tooltip:this._activeTooltip()}).focus(),this.onEditorUpdate());},onCut:function onCut(e){if(e){var t=this.clipboardElement.find("table.kendo-clipboard-"+this.clipboard._uid).detach();this.clipboardElement.append(t.clone(!1)),setTimeout(function(){this.clipboardElement.empty().append(t);}.bind(this));}this._execute({command:"CutCommand",options:{workbook:this.view._workbook}});},clipBoardValue:function clipBoardValue(){return this.clipboardElement.html();},onPaste:function onPaste(t){var n,i,o,r="",a="";if(this.clipboard.menuInvoked=void 0===t,t){if(!t.originalEvent.clipboardData||!t.originalEvent.clipboardData.getData)return o=this.clipboardElement.find("table.kendo-clipboard-"+this.clipboard._uid).detach(),this.clipboardElement.empty(),void setTimeout(function(){var e=this.clipboardElement.html(),t=window.clipboardData.getData("Text").trim();(e||t)&&(this.clipboard.external({html:e,plain:t}),this.clipboardElement.empty().append(o),this._execute({command:"PasteCommand",options:{workbook:this.view._workbook}}),this.clipboard.menuInvoked=!0);}.bind(this));t.preventDefault(),n=!1,i=!1,window.DOMStringList&&t.originalEvent.clipboardData.types instanceof window.DOMStringList?(n=t.originalEvent.clipboardData.types.contains("text/html"),i=t.originalEvent.clipboardData.types.contains("text/plain")):(n=/text\/html/.test(t.originalEvent.clipboardData.types),i=/text\/plain/.test(t.originalEvent.clipboardData.types)),n&&(r=t.originalEvent.clipboardData.getData("text/html")),i&&(a=t.originalEvent.clipboardData.getData("text/plain").trim());}else{if(e.support.browser.msie)return this.clipboardElement.focus().select(),void document.execCommand("paste");this.clipboard.menuInvoked=!0;}(r||a)&&(this.clipboard.external({html:r,plain:a}),this._execute({command:"PasteCommand",options:{workbook:this.view._workbook}}));},onCopy:function onCopy(e){this.clipboard.menuInvoked=void 0===e,this._execute({command:"CopyCommand",options:{workbook:this.view._workbook}});},scrollTop:function scrollTop(){this.scroller.scrollTop=0;},scrollLeft:function scrollLeft(){this.scroller.scrollLeft=0;},scrollDown:function scrollDown(e){this.scroller.scrollTop+=e;},scrollRight:function scrollRight(e){this.scroller.scrollLeft+=e;},scrollWith:function scrollWith(e,t){this.scroller.scrollTop+=t,this.scroller.scrollLeft+=e;},objectAt:function objectAt(e){var t=this.container.offset(),n={left:e.pageX-t.left,top:e.pageY-t.top};return this.view.objectAt(n.left,n.top);},selectToLocation:function selectToLocation(e){var t=this.objectAt(e);t.pane&&(this.extendSelection(t),this.lastKnownCellLocation=e,this.originFrame=t.pane),this.stopAutoScroll();},extendSelection:function extendSelection(e){this.navigator.extendSelection(e.ref,this._selectionMode,this.appendSelection);},autoScroll:function autoScroll(){var e=this._autoScrollTarget.x,t=this._autoScrollTarget.y,n=this.originFrame._grid,i=this.view.scroller,o=8,r=i.scrollLeft,a=i.scrollTop;n.left>e&&this.scrollRight(-o),e>n.right&&this.scrollRight(o),n.top>t&&this.scrollDown(-o),t>n.bottom&&this.scrollDown(o),a===i.scrollTop&&r===i.scrollLeft?this.selectToLocation(this.finalLocation):this.extendSelection(this.objectAt(this.lastKnownCellLocation));},startAutoScroll:function startAutoScroll(e,t){this._scrollInterval||(this._scrollInterval=setInterval(this.autoScroll.bind(this),50)),this.finalLocation=t||this.lastKnownCellLocation,this._autoScrollTarget=e;},stopAutoScroll:function stopAutoScroll(){clearInterval(this._scrollInterval),this._scrollInterval=null;},openFilterMenu:function openFilterMenu(e){var t=this.objectAt(e),n=this._workbook.activeSheet(),i=n.filterColumn(t.ref),o=this.view.createFilterMenu(i);o.bind("action",this.onCommandRequest.bind(this)),o.bind("action",o.close.bind(o)),o.openFor(e.target);},onEditorChange:function onEditorChange(e){this._workbook.activeSheet().isInEditMode(!1);var t=this._execute({command:"EditCommand",options:{editActiveCell:!0,value:e.value}});t&&"error"===t.reason&&e.preventDefault();},onEditorActivate:function onEditorActivate(){var e=this._workbook,t=e.activeSheet();t._setFormulaSelections(this.editor.highlightedRefs()),t.isInEditMode(!0);},onEditorDeactivate:function onEditorDeactivate(){var e=this._workbook.activeSheet();e.isInEditMode(!1),e._setFormulaSelections([]);},onEditorUpdate:function onEditorUpdate(){this._workbook.activeSheet()._setFormulaSelections(this.editor.highlightedRefs());},onEditorBarFocus:function onEditorBarFocus(){var e=this._workbook.activeSheet().selection().enable()===!1;e||this.editor.activate({range:this._workbook.activeSheet()._viewActiveCell(),rect:this.view.activeCellRectangle(),tooltip:this._activeTooltip()});},onEditorCellFocus:function onEditorCellFocus(){this.editor.scale();},onEditorEsc:function onEditorEsc(){this.editor.value(this._workbook._inputForRef(this._workbook.activeSheet()._viewActiveCell())),this.editor.deactivate(),this.clipboardElement.focus();},insertNewline:function insertNewline(e){e.preventDefault(),this.editor.insertNewline();},onEditorBlur:function onEditorBlur(e,t){this.editor.isFiltered()||(this.editor.deactivate(),this.editor.isActive()||(this.clipboardElement.focus(),this.navigator.navigateInSelection(r[t])));},onEditorAction:function onEditorAction(e,t){var n=this.editor,i=this._workbook.activeSheet();n.canInsertRef(!0)&&(this.navigator.moveActiveCell(o[t]),n.activeEditor().refAtPoint(i.selection()._ref),i._setFormulaSelections(n.highlightedRefs()),e.preventDefault());},onEditorShiftAction:function onEditorShiftAction(e,t){var n=this.editor,i=this._workbook.activeSheet();n.canInsertRef(!0)&&(this.navigator.modifySelection(o[t.replace("shift+","")],this.appendSelection),n.activeEditor().refAtPoint(i.selection()._ref),i._setFormulaSelections(n.highlightedRefs()),e.preventDefault());},deactivateEditor:function deactivateEditor(e,t){var n=this.view.editor;this._lastCommandRequest={callback:e,options:t},this.isEditorDeactivateBound||(this.isEditorDeactivateBound=!0,n.one("deactivate",function(){this.isEditorDeactivateBound=!1,this._lastCommandRequest&&(this._lastCommandRequest.callback(this._lastCommandRequest.options),this._lastCommandRequest=null);}.bind(this))),n.deactivate(),this.enableEditor(!1);},enableEditor:function enableEditor(e,t){e=void 0===e||e,this._enableEditorEvents(e),this.editor.enableEditing(e),this.isEditorDisabled=!e,this.view.enableClipboard(e),t&&this.editor.focusLastActive();},executeRequest:function executeRequest(e,t){this.view.editor.isActive()?this.deactivateEditor(e,t):e(t);},onCommandRequest:function onCommandRequest(e){var t=function(e){e.command?this._execute(e):this._workbook.undoRedoStack[e.action]();}.bind(this);this.executeRequest(t,e);},onDialogRequest:function onDialogRequest(e){var t=function(e){this.enableEditor(!1);var t={pdfExport:this._workbook.options.pdf,excelExport:this._workbook.options.excel,close:this.enableEditor.bind(this,!0,!1)};e.options?n.extend(!0,e.options,t):e.options=t,this.view.openDialog(e.name,e.options);}.bind(this);this.executeRequest(t,e);}}),e.spreadsheet.Controller=_;}}(window.kendo);},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("spreadsheet/view.min",["kendo.core.min","kendo.menu.min","spreadsheet/sheetsbar.min"],e);}(function(){!function(e){function t(e){var t,n=window.getSelection();n.removeAllRanges(),t=document.createRange(),t.selectNodeContents(e),n.addRange(t);}function n(e,t){var n=e.trs[t].children;return n[n.length-2];}function i(e,t){var n=e.trs[t-1],i=e.trs[t].children.length-1;return n&&i>=0?n.children[i]:void 0;}function o(e){return["solid",(e.size||1)+"px",e.color||"#000"].join(" ");}function r(e){return /:\/\//.test(e)||(e="http://"+e),e;}function a(t,n,i,a,s,l){function c(t){var i,o=n.link;return o||"object"==_typeof(n.value)&&(o=n.value.link),o?(i={textDecoration:"none"},n.color&&(i.color=n.color),n.underline&&(i.textDecoration="underline"),e.dom.element("a",{href:r(o),style:i,target:"_blank"},t?[t]:[])):t;}var d,u,h,f,p,m,g,v,_,b,y,k,x,C,S;if(i||e.spreadsheet.draw.shouldDrawCell(n)){if(d=n.left,u=n.top,h=n.width+1,f=n.height+1,p={},m=n.background,g=null,m&&(g=m,l&&(g=e.parseColor(g).toHSV(),g.v*=.9,g=g.toCssRgba()),g=o({color:g})),m&&(p.backgroundColor=m),n.color&&(p.color=n.color),n.fontFamily&&(p.fontFamily=n.fontFamily),n.underline&&(p.textDecoration="underline"),n.italic&&(p.fontStyle="italic"),n.textAlign&&(p.textAlign=n.textAlign),n.bold&&(p.fontWeight="bold"),n.fontSize&&(p.fontSize=n.fontSize+"px"),n.wrap===!0&&(p.whiteSpace="pre-wrap",p.wordBreak="break-all"),n.borderLeft?(p.borderLeft=o(n.borderLeft),s&&(s[n.left]=!0)):g&&s&&!s[n.left]?p.borderLeft=g:(d++,h--),n.borderTop?(p.borderTop=o(n.borderTop),a&&(a[n.top]=!0)):g&&a&&!a[n.top]?p.borderTop=g:(u++,f--),n.borderRight?(p.borderRight=o(n.borderRight),s&&(s[n.right]=!0)):g&&s&&!s[n.right]?p.borderRight=g:h--,n.borderBottom?(p.borderBottom=o(n.borderBottom),a&&(a[n.bottom]=!0)):g&&a&&!a[n.bottom]?p.borderBottom=g:f--,p.left=d+"px",p.top=u+"px",p.width=h+"px",p.height=f+"px",v=n.value,_=typeof v==="undefined"?"undefined":_typeof(v),n.format&&null!=v?(v=e.spreadsheet.formatting.format(v,n.format),v.__dataType&&(_=v.__dataType)):null!==v&&void 0!==v&&(v=e.dom.text(v)),!p.textAlign)switch(_){case"number":case"date":case"percent":p.textAlign="right";break;case"boolean":p.textAlign="center";}return b=[w.cell],i&&b.push(i),n.enable===!1&&b.push("k-state-disabled"),n.merged&&b.push("k-spreadsheet-merged-cell"),y=n.verticalAlign||"bottom",v=y&&v?e.dom.element("div",{className:"k-vertical-align-"+y},[c(v)]):c(v),k=v?[v]:[],x={style:p},C=n.validation,C&&!C.value&&(k.push(e.dom.element("span",{className:"k-dirty"})),b.push("k-dirty-cell"),x.title=C._getOptions().messageTemplate),x.className=b.join(" "),S=e.dom.element("div",x,k),t.push(S),S;}}function s(t,r,a){var s,l,c,d,u,h,f={};if(a.background&&(f.backgroundColor=a.background),a.color&&(f.color=a.color),a.fontFamily&&(f.fontFamily=a.fontFamily),a.underline&&(f.textDecoration="underline"),a.italic&&(f.fontStyle="italic"),a.textAlign&&(f.textAlign=a.textAlign),a.verticalAlign&&(f.verticalAlign="center"===a.verticalAlign?"middle":a.verticalAlign),a.bold&&(f.fontWeight="bold"),a.fontSize&&(f.fontSize=a.fontSize+"px"),a.wrap===!0&&(f.whiteSpace="pre-wrap",f.wordBreak="break-all"),a.borderRight?f.borderRight=o(a.borderRight):a.background&&(f.borderRightColor=a.background),a.borderBottom?f.borderBottom=o(a.borderBottom):a.background&&(f.borderBottomColor=a.background),s=a.value,l=typeof s==="undefined"?"undefined":_typeof(s),a.format&&null!=s&&(s=e.spreadsheet.formatting.format(s,a.format),s.__dataType&&(l=s.__dataType)),!f.textAlign)switch(l){case"number":case"date":case"percent":f.textAlign="right";break;case"boolean":f.textAlign="center";}return c=null,a.enable===!1&&(c="k-state-disabled"),d=t.addCell(r,s,f,c,a.validation),a.borderLeft?(h=n(t,r),u=o(a.borderLeft),h&&u&&(h.attr.style.borderRight=u)):a.background&&(f.borderLeftColor=a.background),a.borderTop?(h=i(t,r),u=o(a.borderTop),h&&u&&(h.attr.style.borderBottom=u)):a.background&&(f.borderTopColor=a.background),d;}function l(e,t,n){return e>=t&&n>=e;}var c,d,u,h,f,p,m,g,v,_,b,w,y;e.support.browser.msie&&9>e.support.browser.version||(c=e.jQuery,d=e.spreadsheet.CellRef,u=".",h=7,f={view:"k-spreadsheet-view",fixedContainer:"k-spreadsheet-fixed-container",editContainer:"k-spreadsheet-edit-container",scroller:"k-spreadsheet-scroller",viewSize:"k-spreadsheet-view-size",clipboard:"k-spreadsheet-clipboard",cellEditor:"k-spreadsheet-cell-editor",barEditor:"k-spreadsheet-editor",topCorner:"k-spreadsheet-top-corner",filterHeadersWrapper:"k-filter-wrapper",filterRange:"k-filter-range",filterButton:"k-spreadsheet-filter",filterButtonActive:"k-state-active",horizontalResize:"k-horizontal-resize",verticalResize:"k-vertical-resize",icon:"k-icon k-font-icon",iconFilterDefault:"k-i-arrow-s",sheetsBar:"k-spreadsheet-sheets-bar",sheetsBarActive:"k-spreadsheet-sheets-bar-active",sheetsBarInactive:"k-spreadsheet-sheets-bar-inactive",cellContextMenu:"k-spreadsheet-cell-context-menu",rowHeaderContextMenu:"k-spreadsheet-row-header-context-menu",colHeaderContextMenu:"k-spreadsheet-col-header-context-menu"},e.spreadsheet.messages.view={errors:{openUnsupported:"Unsupported format. Please select an .xlsx file.",shiftingNonblankCells:"Cannot insert cells due to data loss possibility. Select another insert location or delete the data from the end of your worksheet.",filterRangeContainingMerges:"Cannot create a filter within a range containing merges",sortRangeContainingMerges:"Cannot sort a range containing merges",validationError:"The value that you entered violates the validation rules set on the cell."},tabs:{home:"Home",insert:"Insert",data:"Data"}},p=e.Class.extend({init:function init(){this.cols=[],this.trs=[],this._height=0,this._width=0;},addColumn:function addColumn(t){this._width+=t;var n=e.dom.element("col",{style:{width:t+"px"}});n.visible=t>0,this.cols.push(n);},addRow:function addRow(t){var n,i=null;i={style:{height:t+"px"}},this._height+=t,n=e.dom.element("tr",i),n.visible=t>0,this.trs.push(n);},addCell:function addCell(t,n,i,o,r){var a,s,l;return null!==n&&void 0!==n||(n=""),n instanceof e.dom.Node||(n=e.dom.text(n)),a=[n],s={style:i},r&&!r.value&&(a.push(e.dom.element("span",{className:"k-dirty"})),o=(o||"")+(o?" ":"")+"k-dirty-cell",s.title=r._getOptions().messageTemplate),o&&(s.className=o),l=e.dom.element("td",s,a),this.trs[t].children.push(l),l;},toDomTree:function toDomTree(t,n,i){this.trs=this.trs.filter(function(e){return e.visible;});var o=0;return this.cols=this.cols.filter(function(e,t){return e.visible||(this.trs.forEach(function(e){e.children.splice(t-o,1);}),o++),e.visible;},this),e.dom.element("table",{style:{left:t+"px",top:n+"px",height:this._height+"px",width:this._width+"px"},className:i},[e.dom.element("colgroup",null,this.cols),e.dom.element("tbody",null,this.trs)]);}}),m='<ul class="#=classNames.cellContextMenu#"><li data-action=cut>Cut</li><li data-action=copy>Copy</li><li data-action=paste>Paste</li><li class="k-separator"></li><li data-action=merge>Merge</li><li data-action=unmerge>Unmerge</li></ul>',g='<ul class="#=classNames.rowHeaderContextMenu#"><li data-action=cut>Cut</li><li data-action=copy>Copy</li><li data-action=paste>Paste</li><li class="k-separator"></li><li data-action="delete-row">Delete</li><li data-action="hide-row">Hide</li><li data-action="unhide-row">Unhide</li></ul>',v='<ul class="#=classNames.colHeaderContextMenu#"><li data-action=cut>Cut</li><li data-action=copy>Copy</li><li data-action=paste>Paste</li><li class="k-separator"></li><li data-action="delete-column">Delete</li><li data-action="hide-column">Hide</li><li data-action="unhide-column">Unhide</li></ul>',e.spreadsheet.ContextMenu=e.ui.ContextMenu,_=e.template('<div class="#=classNames.view#"><div class="#=classNames.fixedContainer#"></div><div class="#=classNames.scroller#"><div class="#=classNames.viewSize#"></div></div><div tabindex="0" class="#=classNames.clipboard#" contenteditable=true></div><div class="#=classNames.cellEditor#"></div></div><div class="#=classNames.sheetsBar#"></div>'+m+g+v),b=e.Class.extend({init:function init(t,n){var i,o,r=b.classNames;this.element=t,this.options=c.extend(!0,{messages:e.spreadsheet.messages.view},this.options,n),this._chrome(),this._dialogs=[],t.append(_({classNames:r})),this._formulaInput(),this.wrapper=t.find(u+r.view),this.container=t.find(u+r.fixedContainer)[0],this.scroller=t.find(u+r.scroller)[0],this.clipboard=t.find(u+r.clipboard),this.viewSize=c(this.scroller.firstChild),this.tree=new e.dom.Tree(this.container),this.clipboardContents=new e.dom.Tree(this.clipboard[0]),this.editor=new e.spreadsheet.SheetEditor(this),this._sheetsbar(),i={target:t,animation:!1,showOn:"never"},this.cellContextMenu=new e.spreadsheet.ContextMenu(t.find(u+r.cellContextMenu),i),this.colHeaderContextMenu=new e.spreadsheet.ContextMenu(t.find(u+r.colHeaderContextMenu),i),this.rowHeaderContextMenu=new e.spreadsheet.ContextMenu(t.find(u+r.rowHeaderContextMenu),i),o=e.support.scrollbar(),c(this.container).css({width:this.wrapper[0].clientWidth-o,height:this.wrapper[0].clientHeight-o});},enableClipboard:function enableClipboard(e){this.isClipboardDeactivated=!e,e?this.clipboard.attr("contenteditable",e):this.clipboard.removeAttr("contenteditable");},_resize:function _resize(){var e=this.tabstrip?this.tabstrip.element.outerHeight():0,t=this.formulaBar?this.formulaBar.element.outerHeight():0,n=this.sheetsbar?this.sheetsbar.element.outerHeight():0;this.wrapper.height(this.element.height()-(e+t+n)),this.tabstrip&&this.tabstrip.quickAccessAdjust();},_chrome:function _chrome(){var t=c("<div />").prependTo(this.element);this.formulaBar=new e.spreadsheet.FormulaBar(t),this.options.toolbar&&this._tabstrip();},_formulaInput:function _formulaInput(){var t=this.element.find(u+b.classNames.cellEditor);this.formulaInput=new e.spreadsheet.FormulaInput(t,{autoScale:!0});},_sheetsbar:function _sheetsbar(){this.options.sheetsbar&&(this.sheetsbar=new e.spreadsheet.SheetsBar(this.element.find(u+b.classNames.sheetsBar),c.extend(!0,{},this.options.sheetsbar)));},_tabstrip:function _tabstrip(){var t,n=this.options.messages.tabs,i=c.extend(!0,{home:!0,insert:!0,data:!0},this.options.toolbar),o=[];this.tabstrip&&(this.tabstrip.destroy(),this.element.children(".k-tabstrip").remove());for(t in i){(i[t]===!0||i[t]instanceof Array)&&o.push({id:t,text:n[t],content:""});}this.tabstrip=new e.spreadsheet.TabStrip(c("<div />").prependTo(this.element),{animation:!1,dataTextField:"text",dataContentField:"content",dataSource:o,toolbarOptions:i,view:this}),this.tabstrip.select(0);},_executeCommand:function _executeCommand(e){this._workbook.execute(e);},workbook:function workbook(e){this._workbook=e;},sheet:function sheet(e){this._sheet=e;},activeCellRectangle:function activeCellRectangle(){return this.cellRectangle(this._sheet._viewActiveCell());},_rectangle:function _rectangle(e,t){return e._grid.boundingRectangle(t.toRangeRef());},isColumnResizer:function isColumnResizer(e,t,n){var i,o,r=this._rectangle(t,n);return e-=this._sheet._grid._headerWidth,i=h/2,o=r.right-this.scroller.scrollLeft,e>=o-i&&o+i>=e;},isRowResizer:function isRowResizer(e,t,n){var i,o,r=this._rectangle(t,n);return e-=this._sheet._grid._headerHeight,i=h/2,o=r.bottom-this.scroller.scrollTop,e>=o-i&&o+i>=e;},isFilterIcon:function isFilterIcon(e,t,n,i){var o=!1;return e-=this._sheet._grid._headerWidth-this.scroller.scrollLeft,t-=this._sheet._grid._headerHeight-this.scroller.scrollTop,this._sheet.forEachFilterHeader(i,function(i){var r=this._rectangle(n,i);o=o||n.filterIconRect(r).intersects(e,t);}.bind(this)),o;},isAutoFill:function isAutoFill(e,t,n){var i,o=this._sheet.select();return o.size>1?!1:(e-=this._sheet._grid._headerWidth,t-=this._sheet._grid._headerHeight,n._grid.columns.frozen||(e+=this.scroller.scrollLeft),n._grid.rows.frozen||(t+=this.scroller.scrollTop),i=this._rectangle(n,o),Math.abs(i.right-e)<8&&Math.abs(i.bottom-t)<8);},objectAt:function objectAt(e,t){var n,i,o,r,a,s,l,c=this._sheet._grid;return 0>e||0>t||e>this.scroller.clientWidth||t>this.scroller.clientHeight?n={type:"outside"}:c._headerWidth>e&&c._headerHeight>t?n={type:"topcorner"}:(i=this.paneAt(e,t),o=i._grid.rows.index(t,this.scroller.scrollTop),r=i._grid.columns.index(e,this.scroller.scrollLeft),a="cell",s=new d(o,r),l=this._sheet.selectionInProgress(),this.isAutoFill(e,t,i)?a="autofill":this.isFilterIcon(e,t,i,s)?a="filtericon":!l&&c._headerWidth>e?(s=new d(o,-(1/0)),a=this.isRowResizer(t,i,s)?"rowresizehandle":"rowheader"):!l&&c._headerHeight>t&&(s=new d(-(1/0),r),a=this.isColumnResizer(e,i,s)?"columnresizehandle":"columnheader"),n={type:a,ref:s}),n.pane=i,n.x=e,n.y=t,n;},paneAt:function paneAt(e,t){return this.panes.filter(function(n){var i=n._grid;return l(t,i.top,i.bottom)&&l(e,i.left,i.right);})[0];},containingPane:function containingPane(e){return this.panes.filter(function(t){return!!t._grid.contains(e);})[0];},cellRectangle:function cellRectangle(e){var t=this.containingPane(e)._grid,n=this._sheet._grid.rectangle(e);return n.offset(t.headerWidth-(t.columns.frozen?0:this.scroller.scrollLeft),t.headerHeight-(t.rows.frozen?0:this.scroller.scrollTop));},refresh:function refresh(e){var t,n,i=this._sheet;this.tabstrip&&this.tabstrip.refreshTools(i.range(i.activeCell())),e.sheetSelection&&this.sheetsbar&&this.sheetsbar.renderSheets(this._workbook.sheets(),this._workbook.sheetIndex(this._sheet)),this._resize(),this.viewSize[0].style.height=i._grid.totalHeight()+"px",this.viewSize[0].style.width=i._grid.totalWidth()+"px",e.layout&&(t=i.frozenColumns(),n=i.frozenRows(),this.panes=[this._pane(n,t)],t>0&&this.panes.push(this._pane(n,0,null,t)),n>0&&this.panes.push(this._pane(0,t,n,null)),n>0&&t>0&&this.panes.push(this._pane(0,0,n,t))),e.filter&&this._destroyFilterMenu(),e.activeCell&&(this._focus=i.activeCell().toRangeRef());},createFilterMenu:function createFilterMenu(t){var n,i,o,r,a,s;return this._filterMenu&&this._filterMenu.options.column==t?this._filterMenu:(this._destroyFilterMenu(),n=this._sheet,i=n.filter().ref,o=new e.spreadsheet.Range(i,n),r=c("<div />").appendTo(this.element),a={column:t,range:o},s=new e.spreadsheet.FilterMenu(r,a),this._filterMenu=s,s);},selectClipBoardContents:function selectClipBoardContents(){this.isClipboardDeactivated||(this.clipboard.focus(),t(this.clipboard[0]));},scrollIntoView:function scrollIntoView(e){var t=!1,n=this.containingPane(e)._grid,i=n.scrollBoundaries(e),o=this.scroller,r=n.rows.frozen?0:o.scrollTop,a=n.columns.frozen?0:o.scrollLeft;return r>i.top&&(t=!0,o.scrollTop=i.scrollTop),i.bottom>r&&(t=!0,o.scrollTop=i.scrollBottom),a>i.left&&(t=!0,o.scrollLeft=i.scrollLeft),i.right>a&&(t=!0,o.scrollLeft=i.scrollRight),t;},_destroyDialog:function _destroyDialog(){this._dialogs.pop();},openDialog:function openDialog(t,n){var i=this._sheet,o=i.activeCell(),r=new e.spreadsheet.Range(o,i),a=e.spreadsheet.dialogs.create(t,n);return a?(a.bind("action",this._executeCommand.bind(this)),a.bind("deactivate",this._destroyDialog.bind(this)),this._dialogs.push(a),a.open(r),a):void 0;},showError:function showError(t,n){var i=this.options.messages.errors;e.spreadsheet.dialogs.registered(t.type)?this.openDialog(t.type,{close:n}):this.openDialog("message",{title:t.title||"Error",text:t.body?t.body:i[t.type],activate:function(e){e.sender.dialog().element.find(".k-button").focus();}.bind(this),close:n});},destroy:function destroy(){this._dialogs.forEach(function(e){e.destroy();}),this.cellContextMenu.destroy(),this.rowHeaderContextMenu.destroy(),this.colHeaderContextMenu.destroy(),this.tabstrip&&this.tabstrip.destroy(),this._destroyFilterMenu();},_destroyFilterMenu:function _destroyFilterMenu(){this._filterMenu&&(this._filterMenu.destroy(),this._filterMenu=void 0,this._filterMenuColumn=void 0);},render:function render(){var t,n,i,o,r,a,s,l,c;this.element.is(":visible")&&(t=this._sheet,n=t.focus(),n&&this.scrollIntoView(n)||(i=t.resizingInProgress()?t.resizeHandlePosition().col===-(1/0)?"column":"row":"none",this.wrapper.toggleClass(f.editContainer,this.editor.isActive()).toggleClass(f.horizontalResize,"row"==i).toggleClass(f.verticalResize,"column"==i),o=t._grid,r=this.scroller.scrollTop,a=this.scroller.scrollLeft,0>r&&(r=0),0>a&&(a=0),s=this.panes.map(function(e){return e.render(a,r);},this),l=[],l=Array.prototype.concat.apply(l,s),c=e.dom.element("div",{style:{width:o._headerWidth+"px",height:o._headerHeight+"px"},className:b.classNames.topCorner}),l.push(c),t.resizeHandlePosition()&&t.resizeHintPosition()&&l.push(this.renderResizeHint()),this.tree.render(l),this.editor.isActive()?this.editor.toggleTooltip(this.activeCellRectangle()):t.selectionInProgress()||t.resizingInProgress()||t.isInEditMode()||this.renderClipboardContents()));},renderResizeHint:function renderResizeHint(){var t,n,i=this._sheet,o=i.resizeHandlePosition(),r=o.col!==-(1/0);return t=r?{height:this.scroller.clientHeight+"px",width:h+"px",left:i.resizeHintPosition().x+"px",top:"0px"}:{height:h+"px",width:this.scroller.clientWidth+"px",top:i.resizeHintPosition().y+"px",left:"0px"},n=y.classNames,e.dom.element("div",{className:n.resizeHint+(r?"":" "+n.resizeHintVertical),style:t},[e.dom.element("div",{className:n.resizeHintHandle}),e.dom.element("div",{className:n.resizeHintMarker})]);},renderClipboardContents:function renderClipboardContents(){var e,t,n,i,o=this._sheet,r=o._grid,a=o.select().toRangeRef(),l=this._workbook.clipboard().canCopy();return l.canCopy===!1&&l.multiSelection?(this.clipboardContents.render([]),void this.selectClipBoardContents()):(a=o.trim(a),e=new p(),t=r.rangeDimensions(a),t.rows.forEach(function(t){e.addRow(t);}),t.columns.forEach(function(t){e.addColumn(t);}),n={},i={},o.forEachMergedCell(a,function(e){var t=e.topLeft;r.forEach(e,function(o){t.eq(o)?n[o.print()]=e:i[o.print()]=!0;});}),o.forEach(a,function(t,o,r){var l,c,u=new d(t,o).print();i[u]||(l=s(e,t-a.topLeft.row,r),c=n[u],c&&(l.attr.colspan=c.width(),l.attr.rowspan=c.height()));}),this.clipboardContents.render([e.toDomTree(0,0,"kendo-clipboard-"+this._workbook.clipboard()._uid)]),void this.selectClipBoardContents());},_pane:function _pane(e,t,n,i){var o=new y(this._sheet,this._sheet._grid.pane({row:e,column:t,rowCount:n,columnCount:i}));return o.refresh(this.scroller.clientWidth,this.scroller.clientHeight),o;}}),w={cell:"k-spreadsheet-cell",vaxis:"k-spreadsheet-vaxis",haxis:"k-spreadsheet-haxis",rowHeader:"k-spreadsheet-row-header",columnHeader:"k-spreadsheet-column-header",pane:"k-spreadsheet-pane",data:"k-spreadsheet-data",mergedCell:"k-spreadsheet-merged-cell",mergedCellsWrapper:"k-merged-cells-wrapper",activeCell:"k-spreadsheet-active-cell",selection:"k-spreadsheet-selection",selectionWrapper:"k-selection-wrapper",autoFillWrapper:"k-auto-fill-wrapper",single:"k-single",top:"k-top",right:"k-right",bottom:"k-bottom",left:"k-left",resizeHandle:"k-resize-handle",columnResizeHandle:"k-column-resize-handle",rowResizeHandle:"k-row-resize-handle",resizeHint:"k-resize-hint",resizeHintHandle:"k-resize-hint-handle",resizeHintMarker:"k-resize-hint-marker",resizeHintVertical:"k-resize-hint-vertical",selectionHighlight:"k-spreadsheet-selection-highlight",series:["k-series-a","k-series-b","k-series-c","k-series-d","k-series-e","k-series-f"]},y=e.Class.extend({init:function init(e,t){this._sheet=e,this._grid=t;},refresh:function refresh(e,t){this._grid.refresh(e,t);},isVisible:function isVisible(e,t,n){return this._grid.view(e,t).ref.intersects(n);},render:function render(t,n){var i,o,r,a,s,l,c=y.classNames,d=this._sheet,u=this._grid,h=u.view(t,n);return this._currentView=h,this._currentRect=this._rectangle(h.ref),this._selectedHeaders=d.selectedHeaders(),i=[],i.push(this.renderData()),i.push(this.renderSelection()),i.push(this.renderAutoFill()),i.push(this.renderEditorSelection()),i.push(this.renderFilterHeaders()),u.hasRowHeader&&(o=e.dom.element("div",{className:c.rowHeader,style:{width:u.headerWidth+"px",top:h.rowOffset+"px"}}),i.push(o),d.forEach(h.ref.leftColumn(),function(t){if(!d.isHiddenRow(t)){var n=t+1,i=d.rowHeight(t);o.children.push(e.dom.element("div",{className:this.headerClassName(t,"row"),style:{width:u.headerWidth+"px",height:i+"px"}},[e.dom.element("div",{className:"k-vertical-align-center"},[e.dom.text(n+"")])]));}}.bind(this))),u.hasColumnHeader&&(r=e.dom.element("div",{className:c.columnHeader,style:{top:"0px",left:h.columnOffset+"px",width:this._currentRect.width+"px",height:u.headerHeight+"px"}}),i.push(r),a=0,d.forEach(h.ref.topRow(),function(t,n){if(!d.isHiddenColumn(n)){var i=e.spreadsheet.Ref.display(null,1/0,n),o=d.columnWidth(n);r.children.push(e.dom.element("div",{className:this.headerClassName(n,"col"),style:{position:"absolute",left:a+"px",width:o+"px",height:u.headerHeight+"px"}},[e.dom.element("div",{className:"k-vertical-align-center"},[e.dom.text(i+"")])])),a+=o;}}.bind(this))),d.resizeHandlePosition()&&(u.hasColumnHeader||u.hasRowHeader)&&(s=d._grid.normalize(d.resizeHandlePosition()),h.ref.intersects(s)&&(d.resizeHintPosition()||i.push(this.renderResizeHandle()))),l=[c.pane],u.hasColumnHeader&&l.push(c.top),u.hasRowHeader&&l.push(c.left),e.dom.element("div",{style:u.style,className:l.join(" ")},i);},headerClassName:function headerClassName(e,t){var n,i,o,r=this._selectedHeaders;return"row"===t?(n=r.rows[e],i=r.allRows):(n=r.cols[e],i=r.allCols),o=n||(r.all?"full":i?"partial":"none"),o&&(o="k-selection-"+o),o;},renderData:function renderData(){var t,n,i,o=this._currentView,r=e.dom.element("div",{className:y.classNames.data,style:{position:"relative",left:o.columnOffset+"px",top:o.rowOffset+"px"}}),s=this._currentRect,l=e.spreadsheet.draw.doLayout(this._sheet,o.ref,{forScreen:!0}),c=this._sheet._showGridLines;return c&&(t=null,l.xCoords.forEach(function(n){n!==t&&(t=n,r.children.push(e.dom.element("div",{className:w.vaxis,style:{left:n+"px",height:s.height+"px"}})));}),t=null,l.yCoords.forEach(function(n){n!==t&&(t=n,r.children.push(e.dom.element("div",{className:w.haxis,style:{top:n+"px",width:s.width+"px"}})));})),n={},i={},l.cells.forEach(function(e){var t=i[e.col]||(i[e.col]={}),o=n[e.row]||(n[e.row]={});a(r.children,e,null,t,o,c);}),r;},renderResizeHandle:function renderResizeHandle(){var t,n=this._sheet,i=n.resizeHandlePosition(),o=this._rectangle(i),r=[y.classNames.resizeHandle];return i.col!==-(1/0)?(t={height:this._grid.headerHeight+"px",width:h+"px",left:o.right-h/2+"px",top:"0px"},r.push(f.horizontalResize)):(t={height:h+"px",width:this._grid.headerWidth+"px",top:o.bottom-h/2+"px",left:"0px"},r.push(f.verticalResize)),e.dom.element("div",{className:r.join(" "),style:t});},filterIconRect:function filterIconRect(t){var n=16,i=3;return new e.spreadsheet.Rectangle(t.right-n-i,t.top+i,n,n);},renderFilterHeaders:function renderFilterHeaders(){function t(t){return e.dom.element("span",{className:r.icon+" "+t});}function n(n,i,o){var r,s={left:i.left+"px",top:i.top+"px"},l=a&&a.columns.some(function(e){return e.index===o;}),c=n.filterButton;return l&&(c+=" "+n.filterButtonActive),r=e.dom.element("span",{className:c,style:s},[t(n.iconFilterDefault)]);}var i=this._sheet,o=[],r=b.classNames,a=i.filter();return a&&this._addDiv(o,a.ref,r.filterRange),i.forEachFilterHeader(this._currentView.ref,function(e){var t=this._rectangle(e),i=this.filterIconRect(t),a=this._sheet.filterColumn(e),s=n(r,i,a);o.push(s);}.bind(this)),e.dom.element("div",{className:r.filterHeadersWrapper},o);},renderEditorSelection:function renderEditorSelection(){var t=y.classNames,n=this._sheet,i=[];return n._formulaSelections.forEach(function(n){var o=n.ref;o!==e.spreadsheet.NULLREF&&this._addDiv(i,o,t.selectionHighlight+" "+n.colorClass);}.bind(this)),e.dom.element("div",{className:t.selectionWrapper},i);},renderSelection:function renderSelection(){var t=y.classNames,n=[],i=[t.activeCell],o=[t.selection],r=this._sheet,a=r.activeCell().toRangeRef(),s=this._activeFormulaColor(),l=r.select();return i=i.concat(s,this._directionClasses(a)),o=o.concat(s),r.singleCellSelection()&&i.push(t.single),1===l.size()&&o.push("k-single-selection"),this._sheet.autoFillPunch()&&o.push("k-dim-auto-fill-handle"),l.forEach(function(t){t!==e.spreadsheet.NULLREF&&this._addDiv(n,t,o.join(" "));}.bind(this)),this._addTable(n,a,i.join(" ")),e.dom.element("div",{className:t.selectionWrapper},n);},renderAutoFill:function renderAutoFill(){var t,n,i,o,r,a,s,l=[];if(this._sheet.autoFillInProgress())if(t=this._sheet.autoFillRef(),n=this._sheet.autoFillPunch(),i=this._sheet._autoFillDirection,this._addDiv(l,t,"k-auto-fill"),n)this._addDiv(l,n,"k-auto-fill-punch");else if(void 0!==i){switch(i){case 0:o=t.bottomRight,r="k-auto-fill-br-hint";break;case 1:o=t.bottomRight,r="k-auto-fill-br-hint";break;case 2:o=new d(t.topLeft.row,t.bottomRight.col),r="k-auto-fill-tr-hint";break;case 3:o=new d(t.bottomRight.row,t.topLeft.col),r="k-auto-fill-bl-hint";}a=e.dom.element("span",{className:"k-tooltip"},[e.dom.text(this._sheet._autoFillHint)]),s=this._addDiv(l,o,r),s&&s.children.push(a);}return e.dom.element("div",{className:y.classNames.autoFillWrapper},l);},_addDiv:function _addDiv(e,t,n){var i,o=this._currentView;return o.ref.intersects(t)&&(i=this._rectangle(t).resize(1,1).toDiv(n),e.push(i)),i;},_addTable:function _addTable(e,t,n){var i=this._sheet,o=this._currentView;o.ref.intersects(t)&&i.forEach(t.collapse(),function(i,o,r){var s=this._rectangle(t);r.left=s.left,r.top=s.top,r.width=s.width,r.height=s.height,a(e,r,n,null,null,!0);}.bind(this));},_activeFormulaColor:function _activeFormulaColor(){var e,t=[];return this._sheet.isInEditMode()&&(e=this._sheet._formulaSelections.filter(function(e){return e.active&&"ref"==e.type;})[0],e&&t.push(e.colorClass)),t;},_directionClasses:function _directionClasses(e){var t=[],n=y.classNames,i=this._currentView.ref;return e.move(0,-1).intersects(i)||t.push(n.left),e.move(-1,0).intersects(i)||t.push(n.top),e.move(0,1).intersects(i)||t.push(n.right),e.move(1,0).intersects(i)||t.push(n.bottom),t;},_rectangle:function _rectangle(e){return this._grid.boundingRectangle(e.toRangeRef()).offset(-this._currentView.mergedCellLeft,-this._currentView.mergedCellTop);}}),e.spreadsheet.View=b,e.spreadsheet.Pane=y,e.spreadsheet.drawCell=a,c.extend(!0,b,{classNames:f}),c.extend(!0,y,{classNames:w}));}(window.kendo);},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("spreadsheet/grid.min",["kendo.core.min","spreadsheet/references.min"],e);}(function(){!function(e){var t,n,i,o,r,a;e.support.browser.msie&&9>e.support.browser.version||(t=e.spreadsheet.CellRef,n=e.spreadsheet.RangeRef,i=e.spreadsheet.UnionRef,o=e.Class.extend({init:function init(e,t,n,i){this.left=e,this.width=n,this.right=e+n,this.top=t,this.height=i,this.bottom=t+i;},offset:function offset(e,t){return new o(this.left+e,this.top+t,this.width,this.height);},resize:function resize(e,t){return new o(this.left,this.top,this.width+e,this.height+t);},intersects:function intersects(e,t){return e>this.left&&this.left+this.width>e&&t>this.top&&this.top+this.height>t;},toDiv:function toDiv(t){return e.dom.element("div",{className:t,style:{width:this.width+"px",height:this.height+"px",top:this.top+"px",left:this.left+"px"}});}}),r=e.Class.extend({init:function init(e,t,n,i,o,r){this.rowCount=n,this.columnCount=i,this._columns=t,this._rows=e,this._headerHeight=o,this._headerWidth=r;},isAxis:function isAxis(e){var t,n;return e=e.toRangeRef(),t=e.topLeft,n=e.bottomRight,0===t.row&&n.row===this.rowCount-1||0===t.col&&n.col===this.columnCount-1;},width:function width(e,t){return this._columns.sum(e,t);},height:function height(e,t){return this._rows.sum(e,t);},totalHeight:function totalHeight(){return this._rows.total+this._headerHeight;},totalWidth:function totalWidth(){return this._columns.total+this._headerWidth;},index:function index(e,t){return t*this.rowCount+e;},cellRef:function cellRef(e){return new t(e%this.rowCount,e/this.rowCount>>0);},rowRef:function rowRef(e){return new n(new t(e,0),new t(e,this.columnCount-1));},colRef:function colRef(e){return new n(new t(0,e),new t(this.rowCount-1,e));},cellRefIndex:function cellRefIndex(e){return this.index(e.row,e.col);},normalize:function normalize(e){if(e instanceof n)return new n(this.normalize(e.topLeft),this.normalize(e.bottomRight)).setSheet(e.sheet,e.hasSheet());if(e instanceof i)return e.map(function(e){return this.normalize(e);},this);var t=e.clone();return t.col=Math.max(0,Math.min(this.columnCount-1,e.col)),t.row=Math.max(0,Math.min(this.rowCount-1,e.row)),t;},rectangle:function rectangle(e){var t=this.normalize(e.topLeft),n=this.normalize(e.bottomRight);return new o(this.width(0,t.col-1),this.height(0,t.row-1),this.width(t.col,n.col),this.height(t.row,n.row));},pane:function pane(t){return new a(new e.spreadsheet.PaneAxis(this._rows,t.row,t.rowCount,this._headerHeight),new e.spreadsheet.PaneAxis(this._columns,t.column,t.columnCount,this._headerWidth),this);},rangeDimensions:function rangeDimensions(e){return{rows:this._rows.values.iterator(e.topLeft.row,e.bottomRight.row),columns:this._columns.values.iterator(e.topLeft.col,e.bottomRight.col)};},forEach:function forEach(e,n){var i,o,r=this.normalize(e.topLeft),a=this.normalize(e.bottomRight);for(i=r.col;a.col>=i;i++){for(o=r.row;a.row>=o;o++){n(new t(o,i));}}},trim:function trim(e,i){var o,r,a,s,l,c=e.topLeft,d=e.bottomRight,u=c.row,h=c.col;for(o=c.col;d.col>=o;o++){r=this.index(c.row,o),a=this.index(d.row,o),s=i.tree.intersecting(r,a),s.length&&(l=this.cellRef(s[s.length-1].end),u=Math.max(u,l.row),h=o);}return new n(e.topLeft,new t(Math.min(u,e.bottomRight.row),h));}}),a=e.Class.extend({init:function init(e,t,n){this.rows=e,this.columns=t,this._grid=n,this.headerHeight=e.headerSize,this.headerWidth=t.headerSize,this.hasRowHeader=t.hasHeader,this.hasColumnHeader=e.hasHeader;},refresh:function refresh(e,t){var n,i;this.columns.viewSize(e),this.rows.viewSize(t),n=this.columns.paneSegment(),i=this.rows.paneSegment(),this.left=n.offset,this.top=i.offset,this.right=n.offset+n.length,this.bottom=i.offset+i.length,this.style={top:i.offset+"px",left:n.offset+"px",height:i.length+"px",width:n.length+"px"};},view:function view(e,i){var o=this.rows.visible(i),r=this.columns.visible(e);return{rows:o,columns:r,rowOffset:o.offset,columnOffset:r.offset,mergedCellLeft:r.start,mergedCellTop:o.start,ref:new n(new t(o.values.start,r.values.start),new t(o.values.end,r.values.end))};},contains:function contains(e){return this.rows.contains(e.topLeft.row,e.bottomRight.row)&&this.columns.contains(e.topLeft.col,e.bottomRight.col);},index:function index(e,t){return this._grid.index(e,t);},boundingRectangle:function boundingRectangle(e){return this._grid.rectangle(e);},cellRefIndex:function cellRefIndex(e){return this._grid.cellRefIndex(e);},scrollBoundaries:function scrollBoundaries(e){var t=this.boundingRectangle(e),n={top:Math.max(0,t.top-this.top+(this.hasColumnHeader?0:this.headerHeight)),left:Math.max(0,t.left-this.left+(this.hasRowHeader?0:this.headerWidth)),right:t.right-this.columns._viewSize+this.headerWidth,bottom:t.bottom-this.rows._viewSize+this.headerHeight},i=this.columns.defaultValue/2,o=this.rows.defaultValue/2;return n.scrollTop=n.top-o,n.scrollBottom=n.bottom+o,n.scrollLeft=n.left-i,n.scrollRight=n.right+i,n;}}),e.spreadsheet.Grid=r,e.spreadsheet.PaneGrid=a,e.spreadsheet.Rectangle=o);}(kendo);},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("spreadsheet/axis.min",["kendo.core.min"],e);}(function(){!function(e){var t,n;e.support.browser.msie&&9>e.support.browser.version||(t=e.Class.extend({init:function init(t,n){this._value=n,this._count=t,this.values=new e.spreadsheet.RangeList(0,t-1,n),this._hidden=new e.spreadsheet.RangeList(0,t-1,0),this.scrollBarSize=e.support.scrollbar(),this._refresh();},adjust:function adjust(e,t){0>t?(this.values.copy(e-t,this._count-1,e),this._hidden.copy(e-t,this._count-1,e)):(this.values.copy(e,this._count,e+t),this._hidden.copy(e,this._count,e+t),this.values.value(e,e+t-1,this._value),this._hidden.value(e,e+t-1,0));},toJSON:function toJSON(e,t){var n,i,o,r,a=[],s=this.values.iterator(0,this._count-1);for(n=0;this._count>n;n++){i=s.at(n),i!==this._value&&(o=t[n],void 0===o&&(o=a.length,r={index:n},r[e]=i,a.push(r),t[n]=o));}return a;},fromJSON:function fromJSON(e,t){var n,i,o;for(n=0;t.length>n;n++){i=t[n][e],o=t[n].index,void 0===o&&(o=n),this.value(o,o,i);}},hide:function hide(e){if(!this.hidden(e)){var t=this.value(e,e);this._hidden.value(e,e,t),this.value(e,e,0);}},hidden:function hidden(e){return 0!==this._hidden.value(e,e);},includesHidden:function includesHidden(e,t){return this._hidden.intersecting(e,t).length>1;},nextVisible:function nextVisible(e,t){var n,i=this._count-1;return e===i?t?e+1:e:(e+=1,n=this._hidden.intersecting(e,e)[0],0!==n.value?n.end===i?e-1:n.end+1:e);},nextPage:function nextPage(e,t){return this.index(this.sum(0,e-1)+t);},prevPage:function prevPage(e,t){return this.index(this.sum(0,e)-t);},firstVisible:function firstVisible(){var e=this._hidden.first();return 0===e.value?0:e.end+1;},lastVisible:function lastVisible(){var e=this._hidden.last();return 0===e.value?this._count-1:e.start-1;},prevVisible:function prevVisible(e,t){if(0===e)return t?-1:0;e-=1;var n=this._hidden.intersecting(e,e)[0];return 0!==n.value?0===n.start?e+1:n.start-1:e;},unhide:function unhide(e){if(this.hidden(e)){var t=this._hidden.value(e,e);this._hidden.value(e,e,0),this.value(e,e,t);}},value:function value(e,t,n){return void 0===n?this.values.iterator(e,t).at(0):(this.values.value(e,t,n),void this._refresh());},sum:function sum(e,t){var n,i=this.values.iterator(e,t),o=0;for(n=e;t>=n;n++){o+=i.at(n);}return o;},visible:function visible(e,t){var n,i,o,r,a,s,l=null,c=null,d=!1;return t>=this.total+this.scrollBarSize&&(d=!0),n=this._pixelValues.intersecting(e,t),l=n[0],c=n[n.length-1],l?(i=e-l.start,o=(i/l.value.value>>0)+l.value.start,r=i-(o-l.value.start)*l.value.value,a=t-c.start,s=(a/c.value.value>>0)+c.value.start,s>c.value.end&&(s=c.value.end),d&&(r+=c.value.value-(a-(s-c.value.start)*c.value.value)),r=Math.min(-r,0),{values:this.values.iterator(o,s),offset:r}):{values:this.values.iterator(0,0),offset:0};},index:function index(e){for(var t=0,n=this.values.iterator(0,this._count-1),i=n.at(0);e>i&&this._count-1>t;){i+=n.at(++t);}return t;},_refresh:function _refresh(){var t=0;this._pixelValues=this.values.map(function(n){var i,o=t;return t+=(n.end-n.start+1)*n.value,i=t-1,new e.spreadsheet.ValueRange(o,i,n);}),this.total=t;},getState:function getState(){return{values:this.values.getState(),hidden:this._hidden.getState()};},setState:function setState(e){this.values.setState(e.values),this._hidden.setState(e.hidden),this._refresh();}}),n=e.Class.extend({init:function init(e,t,n,i){this._axis=e,this._start=t,this._count=n,this.hasHeader=0===t,this.headerSize=i,this.defaultValue=e._value,this.frozen=n>0;},viewSize:function viewSize(e){this._viewSize=e;},sum:function sum(e,t){return this._axis.sum(e,t-1);},start:function start(){return this.sum(0,this._start);},size:function size(){return this.sum(this._start,this._start+this._count);},index:function index(e,t){return this._axis.index(e+(this.frozen?0:t)-this.headerSize);},paneSegment:function paneSegment(){var e,t=this.start();return this.hasHeader||(t+=this.headerSize),this.frozen?(e=this.size(),this.hasHeader?e+=this.headerSize:e-=this.headerSize):e=this._viewSize-t,{offset:t,length:e};},visible:function visible(e){var t,n,i=this.start();return this.frozen?(t=this.size(),this.hasHeader||(t-=this.headerSize)):(t=this._viewSize-i-this.headerSize,i+=e),n=this._axis.visible(i,i+t-1),this.frozen&&(n.offset=0),n.start=i,this.hasHeader&&(n.offset+=this.headerSize,n.start-=this.headerSize),n;},contains:function contains(e,t){return this.frozen?e>this._start+this._count?!1:!(this._start>t):t>=this._start;}}),e.spreadsheet.Axis=t,e.spreadsheet.PaneAxis=n);}(kendo);},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("spreadsheet/filter.min",["kendo.core.min","kendo.data.min"],e);}(function(){!function(e){function t(e){var t=e.getMonth()+1;return t>=1&&3>=t?1:t>=4&&6>=t?2:t>=7&&9>=t?3:4;}function n(t,n){if(t instanceof Date){var i=e.date.today();return i.setFullYear(i.getFullYear()+n),i.getFullYear()===t.getFullYear();}return!1;}function i(t,n){if(t instanceof Date){var i=e.date.firstDayOfMonth(e.date.today());return i.setMonth(i.getMonth()+n,1),i.getTime()===e.date.firstDayOfMonth(t).getTime();}return!1;}function o(t,n){var i,o;return n instanceof Date?(i=e.date.dayOfWeek(e.date.getDate(t),1),o=e.date.dayOfWeek(e.date.getDate(n),1),i.getTime()===o.getTime()):!1;}if(!(e.support.browser.msie&&9>e.support.browser.version)){var r=e.spreadsheet.Filter=e.Class.extend({prepare:function prepare(){},value:function value(e){return e.value;},matches:function matches(){throw Error("The 'matches' method is not implemented.");},toJSON:function toJSON(){throw Error("The 'toJSON' method is not implemented.");}});r.create=function(t){var n,i=t.filter;if(!i)throw Error("Filter type not specified.");if(n=e.spreadsheet[i.charAt(0).toUpperCase()+i.substring(1)+"Filter"],!n)throw Error("Filter type not recognized.");return new n(t);},e.spreadsheet.ValueFilter=r.extend({_values:[],_dates:[],_blanks:!1,init:function init(e){void 0!==e.values&&(this._values=e.values),void 0!==e.blanks&&(this._blanks=e.blanks),void 0!==e.dates&&(this._dates=e.dates);},value:function value(t){var n,i=t.value;return this._dates.length>0&&t.format&&"number"==typeof i&&(n=e.spreadsheet.formatting.type(i,t.format),"date"===n&&(i=e.spreadsheet.numberToDate(i))),i;},matches:function matches(e){return null===e||void 0===e?this._blanks:e instanceof Date?this._dates.some(function(t){return!(t.year!==e.getFullYear()||void 0!==t.month&&t.month!==e.getMonth()||void 0!==t.day&&t.day!==e.getDate()||void 0!==t.hours&&t.hours!==e.getHours()||void 0!==t.minutes&&t.minutes!==e.getMinutes()||void 0!==t.seconds&&t.seconds!==e.getSeconds());}):this._values.indexOf(e)>=0;},toJSON:function toJSON(){return{filter:"value",values:this._values.slice(0)};}}),e.spreadsheet.CustomFilter=r.extend({_logic:"and",init:function init(t){if(void 0!==t.logic&&(this._logic=t.logic),void 0===t.criteria)throw Error("Must specify criteria.");this._criteria=t.criteria;var n=e.data.Query.filterExpr({logic:this._logic,filters:this._criteria}).expression;this._matches=Function("d","return "+n);},matches:function matches(e){return null===e?!1:this._matches(e);},value:function value(t){var n=t.value,i=this._criteria[0].value,o=i instanceof Date?"date":typeof i==="undefined"?"undefined":_typeof(i),r=typeof n==="undefined"?"undefined":_typeof(n);return t.format&&(r=e.spreadsheet.formatting.type(n,t.format)),r!=o?"string"==o&&(t.format&&(n=e.spreadsheet.formatting.text(n,t.format)),n+=""):"date"==r&&(n=e.spreadsheet.numberToDate(n)),n;},toJSON:function toJSON(){return{filter:"custom",logic:this._logic,criteria:this._criteria};}}),e.spreadsheet.TopFilter=r.extend({init:function init(e){this._type=e.type,this._value=e.value,this._values=[];},prepare:function prepare(e){var t,n=e.map(this.value).sort().filter(function(e,t,n){return 0===t||e!==n[t-1];});n.sort("topNumber"===this._type||"topPercent"==this._type?function(e,t){return t-e;}:function(e,t){return e-t;}),t=this._value,"topPercent"!==this._type&&"bottomPercent"!==this._type||(t=n.length*t/100>>0),this._values=n.slice(0,t);},matches:function matches(e){return this._values.indexOf(e)>=0;},toJSON:function toJSON(){return{filter:"top",type:this._type,value:this._value};}}),e.spreadsheet.DynamicFilter=r.extend({init:function init(e){if(this._type=e.type,this._predicate=this[e.type],"function"!=typeof this._predicate)throw Error("DynamicFilter type '"+e.type+"' not recognized.");},value:function value(t){var n,i=t.value;return t.format&&(n=e.spreadsheet.formatting.type(i,t.format),"date"===n&&(i=e.spreadsheet.numberToDate(i))),i;},prepare:function prepare(e){var t,n,i=0,o=0;for(t=0;e.length>t;t++){n=this.value(e[t]),"number"==typeof n&&(i+=n,o++);}this._average=o>0?i/o:0;},matches:function matches(e){return this._predicate(e);},aboveAverage:function aboveAverage(t){return t instanceof Date&&(t=e.spreadsheet.dateToNumber(t)),"number"!=typeof t?!1:t>this._average;},belowAverage:function belowAverage(t){return t instanceof Date&&(t=e.spreadsheet.dateToNumber(t)),"number"!=typeof t?!1:this._average>t;},tomorrow:function tomorrow(t){if(t instanceof Date){var n=e.date.addDays(e.date.today(),1);return e.date.getDate(t).getTime()===n.getTime();}return!1;},today:function today(t){return t instanceof Date?e.date.isToday(t):!1;},yesterday:function yesterday(t){if(t instanceof Date){var n=e.date.addDays(e.date.today(),-1);return e.date.getDate(t).getTime()===n.getTime();}return!1;},nextWeek:function nextWeek(t){return o(e.date.addDays(e.date.today(),7),t);},thisWeek:function thisWeek(t){return o(e.date.today(),t);},lastWeek:function lastWeek(t){return o(e.date.addDays(e.date.today(),-7),t);},nextMonth:function nextMonth(e){return i(e,1);},thisMonth:function thisMonth(e){return i(e,0);},lastMonth:function lastMonth(e){return i(e,-1);},nextQuarter:function nextQuarter(n){var i,o;return n instanceof Date?(i=e.date.today(),o=t(n)-t(i),1===o&&i.getFullYear()===n.getFullYear()||-3==o&&i.getFullYear()+1===n.getFullYear()):!1;},thisQuarter:function thisQuarter(n){var i,o;return n instanceof Date?(i=e.date.today(),o=t(n)-t(i),0===o&&i.getFullYear()===n.getFullYear()):!1;},lastQuarter:function lastQuarter(n){var i,o;return n instanceof Date?(i=e.date.today(),o=t(i)-t(n),1===o&&i.getFullYear()===n.getFullYear()||-3==o&&i.getFullYear()-1===n.getFullYear()):!1;},nextYear:function nextYear(e){return n(e,1);},thisYear:function thisYear(e){return n(e,0);},lastYear:function lastYear(e){return n(e,-1);},yearToDate:function yearToDate(t){if(t instanceof Date){var n=e.date.today();return t.getFullYear()===n.getFullYear()&&n>=t;}return!1;},toJSON:function toJSON(){return{filter:"dynamic",type:this._type};}}),[1,2,3,4].forEach(function(n){e.spreadsheet.DynamicFilter.prototype["quarter"+n]=function(e){return e instanceof Date?t(e)===n:!1;};}),e.cultures["en-US"].calendar.months.names.forEach(function(t,n){e.spreadsheet.DynamicFilter.prototype[t.toLowerCase()]=function(e){return e instanceof Date?e.getMonth()===n:!1;};});}}(kendo);},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("spreadsheet/sorter.min",["kendo.core.min"],e);}(function(){!function(e){if(!(e.support.browser.msie&&9>e.support.browser.version)){var t=e.Class.extend({init:function init(e,t){this._grid=e,this._lists=t;},indices:function indices(e,n,i,o){var r=t.ascendingComparer;return i===!1&&(r=t.descendingComparer),n.sortedIndices(this._grid.cellRefIndex(e.topLeft),this._grid.cellRefIndex(e.bottomRight),r,o);},sortBy:function sortBy(e,t,n,i,o){var r,a,s,l,c=this.indices(e.toColumn(t),n,i,o);for(r=e.topLeft.col;e.bottomRight.col>=r;r++){for(a=this._grid.index(e.topLeft.row,r),s=this._grid.index(e.bottomRight.row,r),l=0;this._lists.length>l;l++){a<this._lists[l].lastRangeStart()&&this._lists[l].sort(a,s,c);}}return c;}});t.ascendingComparer=function(t,n){var i,o;if(null===t&&null===n)return 0;if(null===t)return 1;if(null===n)return-1;if(i=typeof t==="undefined"?"undefined":_typeof(t),o=typeof n==="undefined"?"undefined":_typeof(n),"number"===i)return"number"===o?t-n:-1;if("string"===i)switch(o){case"number":return 1;case"string":return t.localeCompare(n);default:return-1;}if("boolean"===i)switch(o){case"number":return 1;case"string":return 1;case"boolean":return t-n;default:return-1;}if(t instanceof e.spreadsheet.calc.runtime.CalcError)return n instanceof e.spreadsheet.calc.runtime.CalcError?0:1;throw Error("Cannot compare "+t+" and "+n);},t.descendingComparer=function(e,n){return null===e&&null===n?0:null===e?1:null===n?-1:t.ascendingComparer(n,e);},e.spreadsheet.Sorter=t;}}(kendo);},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("spreadsheet/numformat.min",["spreadsheet/calc.min","kendo.dom.min"],e);}(function(){"use strict";function e(e){function t(){var t=e.skip(d);return t?t[1].toLowerCase():void 0;}function n(){var t,n=e.skip(u);return n&&(t=parseFloat(n[2]),!isNaN(t))?{op:n[1],value:t}:void 0;}function i(){for(var t,n=[],i=null;!e.eof()&&(t=r());){"date"==t.type?i&&/^(el)?time$/.test(i.type)&&"h"==i.part&&"m"==t.part&&3>t.format&&(t.type="time"):/^(el)?time$/.test(t.type)&&"s"==t.part&&i&&"date"==i.type&&"m"==i.part&&3>i.format&&(i.type="time"),/^(?:str|space|fill)$/.test(t.type)||(i=t),n.push(t);}return n;}function o(t){if("date"!=t.type||"m"==t.part&&3>t.format){var n=e.skip(/^\.(0+)/);n&&(t.fraction=n[1].length,"date"==t.type&&(t.type="time"));}return t;}function r(){var t,n;if(n=e.skip(/^([#0?]+)(?:,([#0?]+))+/))return{type:"digit",sep:!0,format:n[1]+n[2],decimal:h};if(n=e.skip(/^[#0?]+/))return{type:"digit",sep:!1,format:n[0],decimal:h};if(n=e.skip(/^(e)([+-])/i))return{type:"exp",ch:n[1],sign:n[2]};if(n=e.skip(/^(d{1,4}|m{1,5}|yyyy|yy)/i))return n=n[1].toLowerCase(),o({type:"date",part:n.charAt(0),format:n.length});if(n=e.skip(/^(hh?|ss?)/i))return n=n[1].toLowerCase(),o({type:"time",part:n.charAt(0),format:n.length});if(n=e.skip(/^\[(hh?|mm?|ss?)\]/i))return n=n[1].toLowerCase(),o({type:"eltime",part:n.charAt(0),format:n.length});if(n=e.skip(/^(am\/pm|a\/p)/i))return n=n[1].split("/"),{type:"ampm",am:n[0],pm:n[1]};switch(t=e.next()){case";":return null;case"\\":return{type:"str",value:e.next()};case'"':return{type:"str",value:e.readEscaped(t)};case"@":return{type:"text"};case"_":return{type:"space",value:e.next()};case"*":return{type:"fill",value:e.next()};case".":return e.lookingAt(/^\s*[#0?]/)?(h=!0,{type:"dec"}):{type:"str",value:"."};case"%":return{type:"percent"};case",":return{type:"comma"};}return{type:"str",value:t};}function a(){h=!1;var e=t(),o=n();return!e&&o&&(e=t()),{color:e,cond:o,body:i()};}var s,c,h,f;for(e=l.InputStream(e),s=[],c=!1;!e.eof();){f=a(),s.push(f),f.cond&&(c=!0);}return c||(1==s.length?s[0].cond="num":2==s.length?(s[0].cond={op:">=",value:0},s[1].cond={op:"<",value:0}):s.length>=3&&(s[0].cond={op:">",value:0},s[1].cond={op:"<",value:0},s[2].cond={op:"=",value:0},s.length>3&&(s[3].cond="text",s=s.slice(0,4)))),s;}function t(e){function t(e){var t="";return e.color&&(t+="["+e.color+"]"),e.cond&&"text"!=e.cond&&"num"!=e.cond&&(t+="["+e.cond.op+e.cond.value+"]"),t+=e.body.map(i).join("");}function n(e,t){return t.fraction&&(e+="."+a("",t.fraction,"0")),e;}function i(e){return"digit"==e.type?e.sep?e.format.charAt(0)+","+e.format.substr(1):e.format:"exp"==e.type?e.ch+e.sign:"date"==e.type||"time"==e.type?n(a("",e.format,e.part),e):"eltime"==e.type?n("["+a("",e.format,e.part)+"]",e):"ampm"==e.type?e.am+"/"+e.pm:"str"==e.type?JSON.stringify(e.value):"text"==e.type?"@":"space"==e.type?"_"+e.value:"fill"==e.type?"*"+e.value:"dec"==e.type?".":"percent"==e.type?"%":"comma"==e.type?",":void 0;}return e.map(t).join(";");}function n(e,t){e.forEach(function(e){var n,i,o,r,s,l=t;if("text"!=e.cond){for(n=e.body,i=!1,o=n.length;0!==l&&--o>=0;){if(r=n[o],"digit"==r.type){if(r.decimal&&(i=!0,l>0?r.format+=a("",l,"0"):0>l&&(s=r.format.length,r.format=r.format.substr(0,s+l),l+=s-r.format.length),0===r.format.length))for(n.splice(o,1);--o>=0;){if(r=n[o],"digit"==r.type&&r.decimal){++o;break;}if("dec"==r.type){n.splice(o,1);break;}}if(l>0)break;}}!i&&l>0&&n.splice(o+1,0,{type:"dec"},{type:"digit",sep:!1,decimal:!0,format:a("",l,"0")});}});}function i(e){var t=0;return{next:function next(){return e[t++];},eof:function eof(){return t>=e.length;},ahead:function ahead(n,i){if(e.length>=t+n){var o=i.apply(null,e.slice(t,t+n));return o&&(t+=n),o;}},restart:function restart(){t=0;}};}function o(e){function t(e,t){("digit"==e.type&&"comma"==t.type||"comma"==e.type&&e.hidden&&"comma"==t.type)&&(t.hidden=!0,d++);}var n,o,r=i(e.body),a=!1,s=!1,l=!1,c=0,d=0,u="",h=!1,f=0,p=[],m=[],g=e.cond,v="";for("text"==g?v="if (typeof value == 'string' || value instanceof kendo.spreadsheet.CalcError) { ":"num"==g?v="if (typeof value == 'number') { ":g&&(n="="==g.op?"==":g.op,v="if (typeof value == 'number' && value "+n+" "+g.value+") { ",u+="value = Math.abs(value); "),e.color&&(u+="result.color = "+JSON.stringify(e.color)+"; ");!r.eof();){r.ahead(2,t),o=r.next(),"percent"==o.type?c++:"digit"==o.type?o.decimal?(f+=o.format.length,m.push(o.format)):(p.push(o.format),o.sep&&(h=!0)):"time"==o.type?s=!0:"date"==o.type?a=!0:"ampm"==o.type&&(l=s=!0);}for(c>0&&(u+="value *= "+Math.pow(100,c)+"; "),d>0&&(u+="value /= "+Math.pow(1e3,d)+"; "),p.length&&(u+="var intPart = runtime.formatInt(culture, value, "+JSON.stringify(p)+", "+f+", "+h+"); "),m.length&&(u+="var decPart = runtime.formatDec(value, "+JSON.stringify(m)+", "+f+"); "),(p.length||m.length)&&(u+="type = 'number'; "),a&&(u+="var date = runtime.unpackDate(value); "),s&&(u+="var time = runtime.unpackTime(value); "),(a||s)&&(u+="type = 'date'; "),(c>0||d>0||p.length||m.length||a||s)&&(v||(v="if (typeof value == 'number') { ")),r.restart();!r.eof();){o=r.next(),"dec"==o.type?u+="output += culture.numberFormat['.']; ":"comma"!=o.type||o.hidden?"percent"==o.type?(u+="type = 'percent'; ",u+="output += culture.numberFormat.percent.symbol; "):"str"==o.type?u+="output += "+JSON.stringify(o.value)+"; ":"text"==o.type?(u+="type = 'text'; ",u+="output += value; "):"space"==o.type?(u+="if (output) result.body.push(output); ",u+="output = ''; ",u+="result.body.push({ type: 'space', value: "+JSON.stringify(o.value)+" }); "):"fill"==o.type?u+="output += runtime.fill("+JSON.stringify(o.value)+"); ":"digit"==o.type?u+="output += "+(o.decimal?"decPart":"intPart")+".shift(); ":"date"==o.type?u+="output += runtime.date(culture, date, "+JSON.stringify(o.part)+", "+o.format+"); ":"time"==o.type?u+="output += runtime.time(time, "+JSON.stringify(o.part)+", "+o.format+", "+l+", "+o.fraction+"); ":"eltime"==o.type?u+="output += runtime.eltime(value, "+JSON.stringify(o.part)+", "+o.format+", "+o.fraction+"); ":"ampm"==o.type&&(u+="output += time.hours < 12 ? "+JSON.stringify(o.am)+" : "+JSON.stringify(o.pm)+"; "):u+="output += ','; ";}return u+="if (output) result.body.push(output); ",u+="result.type = type; ",u+="return result; ",v&&(u=v+u+"}"),u;}function r(t){var n,i,r=h[t];return r||(n=e(t),i=n.map(o),i.push(f),i=i.join("\n"),i="'use strict'; return function(value, culture){ if (!culture) culture = kendo.culture(); var output = '', type = null, result = { body: [] }; "+i+"; return result; };",r=h[t]=Function("runtime",i)(p)),r;}function a(e,t,n){for(e+="";t>e.length;){e=n+e;}return e;}function s(e){var t,n,i=e.body,o="";for(t=0;i.length>t;++t){n=i[t],"string"==typeof n?o+=n:"space"==n.type&&(o+=" ");}return o;}var l,c,d,u,h,f,p;kendo.support.browser.msie&&kendo.support.browser.version<9||(l=kendo.spreadsheet.calc,c=kendo.dom,d=/^\[(black|green|white|blue|magenta|yellow|cyan|red)\]/i,u=/^\[(<=|>=|<>|<|>|=)(-?[0-9.]+)\]/,h=Object.create(null),f=o({cond:"text",body:[{type:"text"}]}),p={unpackDate:l.runtime.unpackDate,unpackTime:l.runtime.unpackTime,date:function date(e,t,n,i){switch(n){case"d":switch(i){case 1:return t.date;case 2:return a(t.date,2,"0");case 3:return e.calendars.standard.days.namesAbbr[t.day];case 4:return e.calendars.standard.days.names[t.day];}break;case"m":switch(i){case 1:return t.month+1;case 2:return a(t.month+1,2,"0");case 3:return e.calendars.standard.months.namesAbbr[t.month];case 4:return e.calendars.standard.months.names[t.month];case 5:return e.calendars.standard.months.names[t.month].charAt(0);}break;case"y":switch(i){case 2:return t.year%100;case 4:return t.year;}}return"##";},time:function time(e,t,n,i,o){var r,s;switch(t){case"h":r=a(i?e.hours%12||12:e.hours,n,"0"),o&&(s=(e.minutes+(e.seconds+e.milliseconds/1e3)/60)/60);break;case"m":r=a(e.minutes,n,"0"),o&&(s=(e.seconds+e.milliseconds/1e3)/60);break;case"s":r=a(e.seconds,n,"0"),o&&(s=e.milliseconds/1e3);}return s&&(r+=s.toFixed(o).replace(/^0+/,"")),r;},eltime:function eltime(e,t,n,i){var o,r;switch(t){case"h":o=24*e;break;case"m":o=24*e*60;break;case"s":o=24*e*60*60;}return i&&(r=o-(0|o)),o=a(0|o,n,"0"),r&&(o+=r.toFixed(i).replace(/^0+/,"")),o;},fill:function fill(e){return e;},formatInt:function formatInt(e,t,n,i,o){function r(t){o&&l&&l%3===0&&/^[0-9]$/.test(t)&&(c=e.numberFormat[","]+c),c=t+c,l++;}var a,s,l,c,d,u,h,f;for(t=t.toFixed(i).replace(/\..*$/,""),i>0&&("0"===t?t="":"-0"===t&&(t="-")),a=t.length-1,s=[],l=0,d=n.length;--d>=0;){for(u=n[d],c="",h=u.length;--h>=0;){f=u.charAt(h),0>a?"0"==f?r("0"):"?"==f&&r(" "):r(t.charAt(a--));}if(0===d)for(;a>=0;){r(t.charAt(a--));}s.unshift(c);}return s;},formatDec:function formatDec(e,t,n){var i,o,r,a,s,l,c,d;for(e=e.toFixed(n),i=e.indexOf("."),e=i>=0?e.substr(i+1).replace(/0+$/,""):"",o=0,r=[],a=0;t.length>a;++a){for(s=t[a],l="",c=0;s.length>c;++c){d=s.charAt(c),e.length>o?l+=e.charAt(o++):"0"==d?l+="0":"?"==d&&(l+=" ");}r.push(l);}return r;}},kendo.spreadsheet.formatting={compile:r,parse:e,format:function format(e,t,n){var i,o,a,s=r(t)(e,n),l=c.element("span");for(l.__dataType=s.type,i=s.body,s.color&&(l.attr.style={color:s.color}),o=0;i.length>o;++o){a=i[o],"string"==typeof a?l.children.push(c.text(a)):"space"==a.type&&l.children.push(c.element("span",{style:{visibility:"hidden"}},[c.text(a.value)]));}return l;},text:function text(e,t,n){var i=r(t)(e,n);return s(i);},textAndColor:function textAndColor(e,t,n){var i=r(t)(e,n);return{text:s(i),color:i.color,type:i.type};},type:function type(e,t){return r(t)(e).type;},adjustDecimals:function adjustDecimals(i,o){var r=e(i);return n(r,o),t(r);}});},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("spreadsheet/runtime.functions.min",["spreadsheet/runtime.min","util/main.min"],e);}(function(){"use strict";function e(e){return(Math.exp(e)+Math.exp(-e))/2;}function t(e){return(Math.exp(e)-Math.exp(-e))/2;}function n(n){return t(n)/e(n);}function i(e,t){for(;t;){var n=e%t;e=t,t=n;}return e;}function o(e,t){return Math.abs(e*t)/i(e,t);}function r(e,t){for(var n,i,o,r=[],a=0,s=e[0];e.length>a;){r.push({matrix:e[a++],pred:G(e[a++])});}for(n=0;s.height>n;++n){e:for(i=0;s.width>i;++i){for(a=0;r.length>a;++a){if(o=r[a].matrix.get(n,i),!r[a].pred(null==o||""===o?0:o))continue e;}t(n,i);}}}function a(e){return e.reduce(function(e,t){return e+t;},0)/e.length;}function s(e,t,n){return null==n&&(n=a(e)),e.reduce(function(e,t){return e+Math.pow(t-n,2);},0)/t;}function l(e,t){return Math.sqrt(s(e,t));}function c(e,t,n){var i=0,o=0,r=null,a=null,s=!1;return e.forEach(function(e){t>e?(i++,r=null==r?e:Math.max(r,e)):e>t?(o++,a=null==a?e:Math.min(a,e)):s=!0;}),i||o?s?n?(i+1)/(e.length+1):i/(i+o):((a-t)*c(e,r,n)+(t-r)*c(e,a,n))/(a-r):new A("N/A");}function d(e,t,n){var i,o=0,r=a(e),s=a(t),l=e.length;for(i=0;l>i;++i){o+=(e[i]-r)*(t[i]-s);}return o/n;}function u(e,t){var n,i,o;return e.sort(w),n=e.length,i=0|t,o=t-i,0===i?e[0]:i>=n?e[n-1]:(--i,e[i]+o*(e[i+1]-e[i]));}function h(e,t){var n=t*(e.length-1)+1;return u(e,n);}function f(e,t){var n=t*(e.length+1);return u(e,n);}function p(e,t,n){var i=[],o=1,r=2,a=4;return function s(t){if(t instanceof M)e.getRefCells(t,!0).forEach(function(e){var t,s=e.value;if(!(n&o&&e.hidden)){if(e.formula){if(t=e.formula.print(e.row,e.col),/^\s*(?:aggregate|subtotal)\s*\(/i.test(t)&&!(n&a))return;"value"in e.formula&&(s=e.formula.value);}n&r&&s instanceof A||("number"==typeof s||s instanceof A)&&i.push(s);}});else if(Array.isArray(t))for(var l=0;t.length>l;++l){s(t[l]);}else t instanceof F?t.each(s):"number"==typeof t?i.push(t):t instanceof A&&!(n&r)&&i.push(t);}(t),i;}function m(e,t,n,i){var o,r;if(i){for(o=0,r=0;e>=r;++r){o+=W(t,r)*Math.pow(n,r)*Math.pow(1-n,t-r);}return o;}return W(t,e)*Math.pow(n,e)*Math.pow(1-n,t-e);}function g(e){var t=B(z(e,0,1));return 4==t.day||3==t.day&&S.isLeapYear(e)?53:52;}function v(e,t,n){var i=B(e),o=B(t);return n?(31==i.date&&(i.date=30),31==o.date&&(o.date=30)):(1==i.month&&1==o.month&&i.date==P(i.year,1)&&o.date==P(o.year,1)&&(o.date=30),i.date==P(i.year,i.month)?(i.date=30,31==o.date&&(o.date=30)):30==i.date&&31==o.date&&(o.date=30)),360*(o.year-i.year)+30*(o.month-i.month)+(o.date-i.date);}function _(e,t){this.link=e,this.text=t;}function b(e){return"number"==typeof e||"boolean"==typeof e||null==e||""===e;}function w(e,t){return e===t?0:t>e?-1:1;}function y(e,t){return e===t?0:t>e?1:-1;}var k,x,C,S,T,D,A,E,R,I,F,M,P,z,B,L,H,N,O,V,U,W,j,q,G;kendo.support.browser.msie&&kendo.support.browser.version<9||(k=kendo.util,x=kendo.spreadsheet,C=x.calc,S=C.runtime,T=S.defineFunction,D=S.defineAlias,A=S.CalcError,E=x.RangeRef,R=x.CellRef,I=x.UnionRef,F=S.Matrix,M=x.Ref,P=S.daysInMonth,z=S.packDate,B=S.unpackDate,L=S.daysInYear,["abs","cos","sin","acos","asin","tan","atan","exp","sqrt"].forEach(function(e){T(e,Math[e]).args([["*n","number"]]);}),T("ln",Math.log).args([["*n","number"]]),T("log",function(e,t){return Math.log(e)/Math.log(t);}).args([["*num","number++"],["*base",["or","number++",["null",10]]],["?",["assert","$base != 1","DIV/0"]]]),T("log10",function(e){return Math.log(e)/Math.log(10);}).args([["*num","number++"]]),T("pi",function(){return Math.PI;}).args([]),T("sqrtpi",function(e){return Math.sqrt(e*Math.PI);}).args([["*num","number+"]]),T("degrees",function(e){return 180*e/Math.PI%360;}).args([["*radians","number"]]),T("radians",function(e){return Math.PI*e/180;}).args([["*degrees","number"]]),T("cosh",e).args([["*num","number"]]),T("acosh",function(e){return Math.log(e+Math.sqrt(e-1)*Math.sqrt(e+1));}).args([["*num","number"],["?",["assert","$num >= 1"]]]),T("sinh",t).args([["*num","number"]]),T("asinh",function(e){return Math.log(e+Math.sqrt(e*e+1));}).args([["*num","number"]]),T("sec",function(e){return 1/Math.cos(e);}).args([["*num","number"]]),T("sech",function(t){return 1/e(t);}).args([["*num","number"]]),T("csc",function(e){return 1/Math.sin(e);}).args([["*num","number"]]),T("csch",function(e){return 1/t(e);}).args([["*num","number"]]),T("atan2",function(e,t){return Math.atan(t/e);}).args([["*x","divisor"],["*y","number"]]),T("tanh",n).args([["*num","number"]]),T("atanh",function(e){return Math.log(Math.sqrt(1-e*e)/(1-e));}).args([["*num",["and","number",["(between)",-1,1]]]]),T("cot",function(e){return 1/Math.tan(e);}).args([["*num","divisor"]]),T("coth",function(e){return 1/n(e);}).args([["*num","divisor"]]),T("acot",function(e){return Math.PI/2-Math.atan(e);}).args([["*num","number"]]),T("acoth",function(e){return Math.log((e+1)/(e-1))/2;}).args([["*num","number"],["?",["or",["assert","$num < -1"],["assert","$num > 1"]]]]),T("power",function(e,t){return Math.pow(e,t);}).args([["*a","number"],["*b","number"]]),T("mod",function(e,t){return e%t;}).args([["*a","number"],["*b","divisor"]]),T("quotient",function(e,t){return Math.floor(e/t);}).args([["*a","number"],["*b","divisor"]]),T("ceiling",function(e,t){return t?t*Math.ceil(e/t):0;}).args([["*number","number"],["*significance","number"],["?",["assert","$significance >= 0 || $number < 0"]]]),T("ceiling.precise",function(e,t){return t=Math.abs(t),t?t*Math.ceil(e/t):0;}).args([["*number","number"],["*significance",["or","number",["null",1]]]]),D("iso.ceiling","ceiling.precise"),T("ceiling.math",function(e,t,n){return t&&e?(0>e&&(!n&&0>t||n&&t>0)&&(t=-t),t?t*Math.ceil(e/t):0):0;}).args([["*number","number"],["*significance",["or","number",["null","$number < 0 ? -1 : 1"]]],["*mode",["or","logical",["null",0]]]]),T("floor",function(e,t){return t?t*Math.floor(e/t):0;}).args([["*number","number"],["*significance","number"],["?",["assert","$significance >= 0 || $number < 0"]]]),T("floor.precise",function(e,t){return t=Math.abs(t),t?t*Math.floor(e/t):0;}).args([["*number","number"],["*significance",["or","number",["null",1]]]]),T("floor.math",function(e,t,n){return t&&e?(0>e&&(!n&&0>t||n&&t>0)&&(t=-t),t?t*Math.floor(e/t):0):0;}).args([["*number","number"],["*significance",["or","number",["null","$number < 0 ? -1 : 1"]]],["*mode",["or","logical",["null",0]]]]),T("int",Math.floor).args([["*number","number"]]),T("mround",function(e,t){return t?t*Math.round(e/t):0;}).args([["*number","number"],["*multiple","number"]]),T("round",function(e,t){var n=0>e?-1:1;return 0>n&&(e=-e),t=Math.pow(10,t),e*=t,e=Math.round(e),n*e/t;}).args([["*number","number"],["*digits","number"]]),T("roundup",function(e,t){return t=Math.pow(10,t),e*=t,e=0>e?Math.floor(e):Math.ceil(e),e/t;}).args([["*number","number"],["*digits","number"]]),T("rounddown",function(e,t){return t=Math.pow(10,t),e*=t,e=0>e?Math.ceil(e):Math.floor(e),e/t;}).args([["*number","number"],["*digits","number"]]),T("even",function(e){var t=0>e?Math.floor(e):Math.ceil(e);return t%2?t+(0>t?-1:1):t;}).args([["*number","number"]]),T("odd",function(e){var t=0>e?Math.floor(e):Math.ceil(e);return t%2?t:t+(0>t?-1:1);}).args([["*number","number"]]),T("sign",function(e){return 0>e?-1:e>0?1:0;}).args([["*number","number"]]),T("gcd",function(e){var t,n=e[0];for(t=1;e.length>t;++t){n=i(n,e[t]);}return n;}).args([["numbers",["collect","number"]]]),T("lcm",function(e){var t,n=e[0];for(t=1;e.length>t;++t){n=o(n,e[t]);}return n;}).args([["numbers",["collect","number"]]]),T("sum",function(e){return e.reduce(function(e,t){return e+t;},0);}).args([["numbers",["collect","number"]]]),T("product",function(e){return e.reduce(function(e,t){return e*t;},1);}).args([["numbers",["collect","number"]]]),T("sumproduct",function(e,t){var n=0;return e.each(function(e,i,o){var r,a;if("number"==typeof e){for(r=0;t.length>r;++r){if(a=t[r].get(i,o),"number"!=typeof a)return;e*=a;}n+=e;}}),n;}).args([["a1","matrix"],["+",["a2",["and","matrix",["assert","$a2.width == $a1.width"],["assert","$a2.height == $a1.height"]]]]]),T("sumsq",function(e){return e.reduce(function(e,t){return e+t*t;},0);}).args([["numbers",["collect","number"]]]),T("sumx2my2",function(e,t){var n=0;return e.each(function(e,i,o){var r=t.get(i,o);"number"==typeof e&&"number"==typeof r&&(n+=e*e-r*r);}),n;}).args([["a","matrix"],["b",["and","matrix",["assert","$b.width == $a.width"],["assert","$b.height == $a.height"]]]]),T("sumx2py2",function(e,t){var n=0;return e.each(function(e,i,o){var r=t.get(i,o);"number"==typeof e&&"number"==typeof r&&(n+=e*e+r*r);}),n;}).args([["a","matrix"],["b",["and","matrix",["assert","$b.width == $a.width"],["assert","$b.height == $a.height"]]]]),T("sumxmy2",function(e,t){var n=0;return e.each(function(e,i,o){var r=t.get(i,o);"number"==typeof e&&"number"==typeof r&&(n+=(e-r)*(e-r));}),n;}).args([["a","matrix"],["b",["and","matrix",["assert","$b.width == $a.width"],["assert","$b.height == $a.height"]]]]),T("seriessum",function(e,t,n,i){var o=0;return i.each(function(i){if("number"!=typeof i)throw new A("VALUE");o+=i*Math.pow(e,t),t+=n;}),o;}).args([["x","number"],["y","number"],["m","number"],["a","matrix"]]),T("min",function(e){return Math.min.apply(Math,e);}).args([["numbers",["collect","number"]],["?",["assert","$numbers.length > 0","N/A"]]]),T("max",function(e){return Math.max.apply(Math,e);}).args([["numbers",["collect","number"]],["?",["assert","$numbers.length > 0","N/A"]]]),T("counta",function(e){return e.length;}).args([["values",["#collect","anyvalue"]]]),T("count",function(e){return e.length;}).args([["numbers",["#collect","number"]]]),T("countunique",function(e){var t=0,n=[];return e.forEach(function(e){n.indexOf(e)<0&&(t++,n.push(e));}),t;}).args([["values",["#collect","anyvalue"]]]),T("countblank",function(e){function t(e){null!=e&&""!==e||i++;}function n(e){var n,i;for(n=0;e.length>n;++n){i=e[n],i instanceof F?i.each(t,!0):t(i);}}var i=0;return n(e),i;}).args([["+",["args",["or","matrix","anyvalue"]]]]),T("iseven",function(e){return e%2===0;}).args([["*number","number"]]),T("isodd",function(e){return e%2!==0;}).args([["*number","number"]]),T("n",function(e){return"boolean"==typeof e?e?1:0:"number"==typeof e?e:0;}).args([["*value","anyvalue"]]),T("na",function(){return new A("N/A");}).args([]),H=[["m1","matrix"],["c1","anyvalue"],[["m2",["and","matrix",["assert","$m1.width == $m2.width"],["assert","$m1.height == $m2.height"]]],["c2","anyvalue"]]],T("countifs",function(e,t,n){var i=0;return n.unshift(e,t),r(n,function(){i++;}),i;}).args(H),N=[["range","matrix"]].concat(H),T("sumifs",function(e,t,n,i){i.unshift(e,b,t,n);var o=0;return r(i,function(t,n){var i=e.get(t,n);i&&(o+=i);}),o;}).args(N),T("averageifs",function(e,t,n,i){i.unshift(e,b,t,n);var o=0,a=0;return r(i,function(t,n){var i=e.get(t,n);null!=i&&""!==i||(i=0),o+=i,a++;}),a?o/a:new A("DIV/0");}).args(N),T("countif",function(e,t){t=G(t);var n=0;return e.each(function(e){t(e)&&n++;}),n;}).args([["range","matrix"],["*criteria","anyvalue"]]),O=[["range","matrix"],["*criteria","anyvalue"],["sumRange",["or",["and","matrix",["assert","$sumRange.width == $range.width"],["assert","$sumRange.height == $range.height"]],["null","$range"]]]],T("sumif",function(e,t,n){var i=0;return t=G(t),e.each(function(e,o,r){if(t(e)){var a=n.get(o,r);b(a)&&(i+=a||0);}}),i;}).args(O),T("averageif",function(e,t,n){var i=0,o=0;return t=G(t),e.each(function(e,r,a){if(t(e)){var s=n.get(r,a);b(s)&&(i+=s||0,o++);}}),o?i/o:new A("DIV/0");}).args(O),function(e){e("large",function(e,t){return e.sort(y)[t];}),e("small",function(e,t){return e.sort(w)[t];});}(function(e,t){T(e,function(e,n){var i=[],o=e.each(function(e){return e instanceof A?e:void("number"==typeof e&&i.push(e));});return o?o:n>i.length?new A("NUM"):t(i,n-1);}).args([["array","matrix"],["*nth","number++"]]);}),T("stdev.s",function(e){return l(e,e.length-1);}).args([["numbers",["collect","number"]],["?",["assert","$numbers.length >= 2","NUM"]]]),T("stdev.p",function(e){return l(e,e.length);}).args([["numbers",["collect","number"]],["?",["assert","$numbers.length >= 2","NUM"]]]),T("var.s",function(e){return s(e,e.length-1);}).args([["numbers",["collect","number"]],["?",["assert","$numbers.length >= 2","NUM"]]]),T("var.p",function(e){return s(e,e.length);}).args([["numbers",["collect","number"]],["?",["assert","$numbers.length >= 2","NUM"]]]),T("median",function(e){var t=e.length;return e.sort(w),t%2?e[t>>1]:(e[t>>1]+e[t>>2])/2;}).args([["numbers",["collect","number"]],["?",["assert","$numbers.length > 0","N/A"]]]),T("mode.sngl",function(e){var t,n,i,o,r,a;for(e.sort(w),t=null,n=0,i=1,o=null,r=0;e.length>r;++r){a=e[r],a!=t?(n=1,t=a):n++,n>i&&(i=n,o=a);}return null==o?new A("N/A"):o;}).args([["numbers",["collect","number"]]]),T("mode.mult",function(e){var t,n=Object.create(null),i=2,o=[];return e.forEach(function(e){var t=n[e]||0;n[e]=++t,t==i?o.push(e):t>i&&(i=t,o=[e]);}),t=new F(this),o.forEach(function(e,n){t.set(n,0,e);}),t;}).args([["numbers",["collect","number"]]]),T("geomean",function(e){var t=e.length,n=e.reduce(function(e,t){if(0>t)throw new A("NUM");return e*t;},1);return Math.pow(n,1/t);}).args([["numbers",["collect","number"]],["?",["assert","$numbers.length > 0","NUM"]]]),T("harmean",function(e){var t=e.length,n=e.reduce(function(e,t){if(!t)throw new A("DIV/0");return e+1/t;},0);return t/n;}).args([["numbers",["collect","number"]],["?",["assert","$numbers.length > 0","NUM"]]]),T("trimmean",function(e,t){var n,i,o,r=e.length;for(e.sort(w),n=Math.floor(r*t),n%2&&--n,n/=2,i=0,o=n;r-n>o;++o){i+=e[o];}return i/(r-2*n);}).args([["numbers",["collect","number",1]],["percent",["and","number",["[between)",0,1]]],["?",["assert","$numbers.length > 0","NUM"]]]),T("frequency",function(e,t){function n(t){for(var n=0;e.length>o&&e[o]>i&&t>=e[o];){++n,++o;}return n;}var i,o,r;return e.sort(w),t.sort(w),i=-(1/0),o=0,r=new F(this),t.forEach(function(e,t){var o=n(e);i=e,r.set(t,0,o);}),r.set(r.height,0,e.length-o),r;}).args([["data",["collect","number",1]],["bins",["collect","number",1]]]),T("rank.eq",function(e,t,n){t.sort(n?w:y);var i=t.indexOf(e);return 0>i?new A("N/A"):i+1;}).args([["value","number"],["numbers",["collect","number"]],["order",["or","logical",["null",!1]]]]),D("rank","rank.eq"),T("rank.avg",function(e,t,n){var i,o;if(t.sort(n?w:y),i=t.indexOf(e),0>i)return new A("N/A");for(o=i;t[o]==e;++o){}return(i+o+1)/2;}).args([["value","number"],["numbers",["collect","number"]],["order",["or","logical",["null",!1]]]]),T("kurt",function(e){var t=e.length,n=a(e),i=s(e,t-1,n),o=Math.sqrt(i),r=e.reduce(function(e,t){return e+Math.pow((t-n)/o,4);},0);return t*(t+1)/((t-1)*(t-2)*(t-3))*r-3*Math.pow(t-1,2)/((t-2)*(t-3));}).args([["numbers",["collect","number"]],["?",["assert","$numbers.length >= 4","NUM"]]]),V=[["array",["collect","number",1]],["x","number"],["significance",["or",["null",3],"integer++"]],["?",["assert","$array.length > 0","NUM"]]],T("percentrank.inc",function(e,t,n){var i=c(e,t,0);return i=i.toFixed(n+1),parseFloat(i.substr(0,i.length-1));}).args(V),T("percentrank.exc",function(e,t,n){var i=c(e,t,1);return i=i.toFixed(n+1),parseFloat(i.substr(0,i.length-1));}).args(V),D("percentrank","percentrank.inc"),T("covariance.p",function(e,t){return d(e,t,e.length);}).args([["array1",["collect","number",1]],["array2",["collect","number",1]],["?",["assert","$array1.length == $array2.length","N/A"]],["?",["assert","$array1.length > 0","DIV/0"]]]),T("covariance.s",function(e,t){return d(e,t,e.length-1);}).args([["array1",["collect","number",1]],["array2",["collect","number",1]],["?",["assert","$array1.length == $array2.length","N/A"]],["?",["assert","$array1.length > 1","DIV/0"]]]),D("covar","covariance.p"),U=k.memoize(function(e){for(var t=2,n=1;e>=t;++t){n*=t;}return n;}),T("fact",U).args([["*n","integer+"]]),T("factdouble",function(e){for(var t=2+(1&e),n=1;e>=t;t+=2){n*=t;}return n;}).args([["*n","integer+"]]),T("multinomial",function(e){var t=1,n=0;return e.forEach(function(e){if(0>e)throw new A("NUM");n+=e,t*=U(e);}),U(n)/t;}).args([["numbers",["collect","number"]]]),W=k.memoize(function(e,t){for(var n=t+1,i=1,o=1,r=1;e-t>=i;++n,++i){o*=n,r*=i;}return o/r;}),T("combin",W).args([["*n","integer++"],["*k",["and","integer",["[between]",0,"$n"]]]]),T("combina",function(e,t){return W(e+t-1,e-1);}).args([["*n","integer++"],["*k",["and","integer",["[between]",1,"$n"]]]]),T("average",function(e){var t=e.reduce(function(e,t){return e+t;},0);return t/e.length;}).args([["numbers",["collect",["and","number",["not","boolean"]]]],["?",["assert","$numbers.length > 0","DIV/0"]]]),T("averagea",function(e){var t=0,n=0;return e.forEach(function(e){"string"!=typeof e&&(t+=e),++n;}),n?t/n:new A("DIV/0");}).args([["values",["collect","anyvalue"]]]),T("percentile.inc",h).args([["numbers",["collect","number",1]],["p",["and","number",["[between]",0,1]]]]),T("percentile.exc",f).args([["numbers",["collect","number",1]],["p",["and","number",["(between)",0,1]]]]),T("quartile.inc",function(e,t){return h(e,t/4);}).args([["numbers",["collect","number",1]],["quarter",["values",0,1,2,3,4]]]),T("quartile.exc",function(e,t){return f(e,t/4);}).args([["numbers",["collect","number",1]],["quarter",["values",0,1,2,3,4]]]),D("quartile","quartile.inc"),D("percentile","percentile.inc"),j=["AVERAGE","COUNT","COUNTA","MAX","MIN","PRODUCT","STDEV.S","STDEV.P","SUM","VAR.S","VAR.P","MEDIAN","MODE.SNGL","LARGE","SMALL","PERCENTILE.INC","QUARTILE.INC","PERCENTILE.EXC","QUARTILE.EXC"],T("aggregate",function(e,t,n,i){var o=this;o.resolveCells(i,function(){var r,a;if(t>12){if(r=p(o,i[0],n),a=i[1],a instanceof R&&(a=o.getRefData(a)),"number"!=typeof a)return e(new A("VALUE"));}else r=p(o,i,n);o.func(j[t-1],e,r);});}).argsAsync([["funcId",["values",1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19]],["options",["or",["null",0],["values",0,1,2,3,4,5,6,7]]],["args","rest"]]),T("subtotal",function(e,t){var n,i,o=this,r=t>100;for(r&&(t-=100),n=[],i=2;arguments.length>i;++i){n.push(arguments[i]);}o.resolveCells(n,function(){var i=p(o,n,r?1:0);o.func(j[t-1],e,i);});}).argsAsync([["funcId",["values",1,2,3,4,5,6,7,8,9,10,11,101,102,103,104,105,106,107,108,109,110,111]],["+",["ref",["or","ref","#matrix"]]]]),T("avedev",function(e){var t=e.reduce(function(e,t){return e+t;},0)/e.length;return e.reduce(function(e,n){return e+Math.abs(n-t);},0)/e.length;}).args([["numbers",["collect","number"]],["?",["assert","$numbers.length >= 2","NUM"]]]),T("binom.dist",m).args([["successes","integer+"],["trials",["and","integer",["assert","$trials >= $successes"]]],["probability",["and","number",["[between]",0,1]]],["cumulative","logical"]]),D("binomdist","binom.dist"),T("binom.inv",function(e,t,n){for(var i=0;e>=i;++i){if(m(i,e,t,!0)>=n)return i;}return new A("N/A");}).args([["trials","integer+"],["probability",["and","number",["[between]",0,1]]],["alpha",["and","number",["[between]",0,1]]]]),D("critbinom","binom.inv"),T("binom.dist.range",function(e,t,n,i){var o,r=0;for(o=n;i>=o;++o){r+=W(e,o)*Math.pow(t,o)*Math.pow(1-t,e-o);}return r;}).args([["trials","integer+"],["probability",["and","number",["[between]",0,1]]],["successes_min",["and","integer",["[between]",0,"$trials"]]],["successes_max",["or",["and","integer",["[between]","$successes_min","$trials"]],["null","$successes_min"]]]]),T("negbinom.dist",function(e,t,n,i){if(i){for(var o=0;e>=0;){o+=W(e+t-1,e)*Math.pow(n,t)*Math.pow(1-n,e),e--;}return o;}return W(e+t-1,e)*Math.pow(n,t)*Math.pow(1-n,e);}).args([["number_f","integer+"],["number_s","integer+"],["probability_s",["and","number",["[between]",0,1]]],["cumulative","logical"]]),D("negbinomdist","negbinom.dist"),T("address",function(e,t,n,i,o){var r=new R(e-1,t-1,n-1);return o&&r.setSheet(o,!0),i?r.print(0,0):r.print();}).args([["row","integer++"],["col","integer++"],["abs",["or",["null",1],["values",1,2,3,4]]],["a1",["or",["null",!0],"logical"]],["sheet",["or","null","string"]]]),T("areas",function(e){var t=0;return function n(e){e instanceof R||e instanceof E?t++:e instanceof I&&e.refs.forEach(n);}(e),t;}).args([["ref","ref"]]),T("choose",function(e,t){return e>t.length?new A("N/A"):t[e-1];}).args([["*index","integer"],["+",["value","anything"]]]),T("column",function(e){return e?e instanceof R?e.col+1:this.asMatrix(e).mapCol(function(t){return t+e.topLeft.col+1;}):this.formula.col+1;}).args([["ref",["or","area","null"]]]),T("columns",function(e){return e instanceof M?e.width():e.width;}).args([["ref",["or","area","#matrix"]]]),T("formulatext",function(e){var t=this.getRefCells(e)[0];return t.formula?t.formula.print(t.row,t.col):new A("N/A");}).args([["ref","ref"]]),T("hlookup",function(e,t,n,i){var o=null;return t.eachCol(function(n){var r=t.get(0,n);if(i){if(r>e)return!0;o=n;}else if(r===e)return o=n,!0;}),null==o?new A("N/A"):t.get(n-1,o);}).args([["value","anyvalue"],["range","matrix"],["row","integer++"],["approx",["or","logical",["null",!0]]]]),T("index",function(e,t,n,i){var o=e instanceof I?e.refs[i-1]:e;if(!t&&!n||!o)return new A("N/A");if(o=this.asMatrix(o),o.width>1&&o.height>1){if(t&&n)return o.get(t-1,n-1);if(!t)return o.mapRow(function(e){return o.get(e,n-1);});if(!n)return o.mapCol(function(e){return o.get(t-1,e);});}return 1==o.width?o.get(t-1,0):1==o.height?o.get(0,n-1):new A("REF");}).args([["range",["or","matrix","ref"]],["row",["or","integer+","null"]],["col",["or","integer+","null"]],["areanum",["or","integer++",["null",1]]]]),T("indirect",function(e){var t,n;try{if(t=this.formula,n=C.parseFormula(t.sheet,t.row,t.col,e),!(n.ast instanceof M))throw 1;return n.ast.absolute(t.row,t.col);}catch(i){return new A("REF");}}).args([["thing","string"]]),T("match",function(e,t,n){var i,o=1;return 0===n?i=G(e):-1===n?i=G("<="+e):1===n&&(i=G(">="+e)),t.each(function(t){return null!=t&&i(t)?(0!==n&&e!=t&&--o,!0):void o++;},!0)&&o>0?o:new A("N/A");}).args([["value","anyvalue"],["range","matrix"],["type",["or",["values",-1,0,1],["null",1]]]]),T("offset",function(e,t,n,i,o){var r=(e instanceof R?e:e.topLeft).clone();return r.row+=t,r.col+=n,0>r.row||0>r.col?new A("VALUE"):i>1||o>1?new E(r,new R(r.row+i-1,r.col+o-1)).setSheet(e.sheet,e.hasSheet()):r;}).args([["ref","area"],["*rows","integer"],["*cols","integer"],["*height",["or","integer++",["null","$ref.height()"]]],["*width",["or","integer++",["null","$ref.width()"]]]]),T("row",function(e){return e?e instanceof R?e.row+1:this.asMatrix(e).mapRow(function(t){return t+e.topLeft.row+1;}):this.formula.row+1;}).args([["ref",["or","area","null"]]]),T("rows",function(e){return e instanceof M?e.height():e.height;}).args([["ref",["or","area","#matrix"]]]),T("vlookup",function(e,t,n,i){var o=null;return t.eachRow(function(n){var r=t.get(n,0);if(i){if(r>e)return!0;o=n;}else if(r===e)return o=n,!0;}),null==o?new A("N/A"):t.get(o,n-1);}).args([["value","anyvalue"],["range","matrix"],["col","integer++"],["approx",["or","logical",["null",!0]]]]),T("date",function(e,t,n){return z(e,t-1,n);}).args([["*year","integer"],["*month","integer"],["*date","integer"]]),T("day",function(e){return B(e).date;}).args([["*date","date"]]),T("month",function(e){return B(e).month+1;}).args([["*date","date"]]),T("year",function(e){return B(e).year;}).args([["*date","date"]]),T("weekday",function(e){return B(e).day+1;}).args([["*date","date"]]),T("weeknum",function(e,t){var n,i=z(B(e).year,0,1),o=B(i);return 21==t?(n=3-(o.day+6)%7,0>n&&(n+=7),i+=n,o.date+=n,o.day=4,t=1):t=1==t?0:2==t?1:(t-10)%7,n=o.day-t,0>n&&(n+=7),i-=n,Math.ceil((e+1-i)/7);}).args([["*date","date"],["*type",["or",["null",1],["values",1,2,11,12,13,14,15,16,17,21]]]]),T("isoweeknum",function(e){var t=B(e),n=t.day||7,i=Math.floor((t.ord-n+10)/7);return 1>i?g(t.year-1):53==i&&i>g(t.year)?1:i;}).args([["*date","date"]]),T("now",function(){return S.dateToSerial(new Date());}).args([]),T("today",function(){return 0|S.dateToSerial(new Date());}).args([]),T("time",function(e,t,n){return S.packTime(e,t,n,0);}).args([["*hours","integer"],["*minutes","integer"],["*seconds","integer"]]),T("hour",function(e){return S.unpackTime(e).hours;}).args([["*time","datetime"]]),T("minute",function(e){return S.unpackTime(e).minutes;}).args([["*time","datetime"]]),T("second",function(e){return S.unpackTime(e).seconds;}).args([["*time","datetime"]]),T("edate",function(e,t){var n=B(e),i=n.month+t,o=n.year+Math.floor(i/12);return i%=12,0>i&&(i+=12),n=Math.min(n.date,P(o,i)),z(o,i,n);}).args([["*start_date","date"],["*months","integer"]]),T("eomonth",function(e,t){var n=B(e),i=n.month+t,o=n.year+Math.floor(i/12);return i%=12,0>i&&(i+=12),n=P(o,i),z(o,i,n);}).args([["*start_date","date"],["*months","integer"]]),T("workday",function(e,t,n){var i,o=t>0?1:-1;for(t=Math.abs(t),i=B(e).day;t>0;){e+=o,i=(i+o)%7,i>0&&6>i&&n.indexOf(e)<0&&--t;}return e;}).args([["start_date","date"],["days","integer"],["holidays",["collect","date"]]]),T("networkdays",function(e,t,n){var i,o,r;for(e>t&&(i=e,e=t,t=i),o=0,r=B(e).day;t>=e;){r>0&&6>r&&n.indexOf(e)<0&&o++,e++,r=(r+1)%7;}return o;}).args([["start_date","date"],["end_date","date"],["holidays",["collect","date"]]]),T("days",function(e,t){return t-e;}).args([["*start_date","date"],["*end_date","date"]]),S._days_360=v,T("days360",v).args([["*start_date","date"],["*end_date","date"],["*method",["or","logical",["null",!1]]]]),T("yearfrac",function(e,t,n){switch(n){case 0:return v(e,t,!1)/360;case 1:return(t-e)/L(B(e).year);case 2:return(t-e)/360;case 3:return(t-e)/365;case 4:return v(e,t,!0)/360;}}).args([["*start_date","date"],["*end_date","date"],["*method",["or",["null",0],["values",0,1,2,3,4]]]]),T("datevalue",function(e){var t=S.parseDate(e);return t?S.dateToSerial(t):new A("VALUE");}).args([["*text","string"]]),T("timevalue",function(e){var t,n,i,o,r=e.toLowerCase().match(/(\d+):(\d+)(:(\d+)(\.(\d+))?)?\s*(am?|pm?)?/);return r?(t=parseFloat(r[1]),n=parseFloat(r[2]),i=r[3]?parseFloat(r[4]):0,o=r[7],o&&(t>12||1>t)?new A("VALUE"):(/^p/.test(o)&&(t+=12),S.packTime(t,n,i,0))):new A("VALUE");}).args([["*text","string"]]),T("mdeterm",function(e){var t=e.each(function(e){return"number"!=typeof e?new A("VALUE"):void 0;},!0);return t||e.determinant();}).args([["m",["and","matrix",["assert","$m.width == $m.height"]]]]),T("transpose",function(e){return e.transpose();}).args([["range","matrix"]]),T("mmult",function(e,t){return e.multiply(t);}).args([["a","matrix"],["b",["and","matrix",["assert","$b.height == $a.width"]]]]),T("munit",function(e){return new F(this).unit(e);}).args([["n","integer+"]]),T("minverse",function(e){var t=e.each(function(e){return"number"!=typeof e?new A("VALUE"):void 0;},!0);return t||e.inverse()||new A("VALUE");}).args([["m",["and","matrix",["assert","$m.width == $m.height"]]]]),T("rand",function(){return Math.random();}).args([]),T("randbetween",function(e,t){return e+Math.floor((t-e+1)*Math.random());}).args([["min","integer"],["max",["and","integer",["assert","$max >= $min"]]]]),T("true",function(){return!0;}).args([]),T("false",function(){return!0;}).args([]),T("roman",function(e){return k.arabicToRoman(e).toUpperCase();}).args([["*number","integer"]]),T("arabic",function(e){var t=k.romanToArabic(e);return null==t?new A("VALUE"):t;}).args([["*roman","string"]]),T("base",function(e,t,n){for(var i=e.toString(t).toUpperCase();n>i.length;){i="0"+i;}return i;}).args([["*number","integer"],["*radix",["and","integer",["[between]",2,36]]],["*minLen",["or","integer+",["null",0]]]]),T("decimal",function(e,t){var n,i,o;for(e=e.toUpperCase(),n=0,i=0;e.length>i;++i){if(o=e.charCodeAt(i),o>=48&&57>=o)o-=48;else{if(!(o>=65&&55+t>o))return new A("VALUE");o-=55;}n=n*t+o;}return n;}).args([["*text","string"],["*radix",["and","integer",["[between]",2,36]]]]),T("char",function(e){return String.fromCharCode(e);}).args([["*code","integer+"]]),q=/[\0-\x1F\x7F-\x9F\xAD\u0378\u0379\u037F-\u0383\u038B\u038D\u03A2\u0528-\u0530\u0557\u0558\u0560\u0588\u058B-\u058E\u0590\u05C8-\u05CF\u05EB-\u05EF\u05F5-\u0605\u061C\u061D\u06DD\u070E\u070F\u074B\u074C\u07B2-\u07BF\u07FB-\u07FF\u082E\u082F\u083F\u085C\u085D\u085F-\u089F\u08A1\u08AD-\u08E3\u08FF\u0978\u0980\u0984\u098D\u098E\u0991\u0992\u09A9\u09B1\u09B3-\u09B5\u09BA\u09BB\u09C5\u09C6\u09C9\u09CA\u09CF-\u09D6\u09D8-\u09DB\u09DE\u09E4\u09E5\u09FC-\u0A00\u0A04\u0A0B-\u0A0E\u0A11\u0A12\u0A29\u0A31\u0A34\u0A37\u0A3A\u0A3B\u0A3D\u0A43-\u0A46\u0A49\u0A4A\u0A4E-\u0A50\u0A52-\u0A58\u0A5D\u0A5F-\u0A65\u0A76-\u0A80\u0A84\u0A8E\u0A92\u0AA9\u0AB1\u0AB4\u0ABA\u0ABB\u0AC6\u0ACA\u0ACE\u0ACF\u0AD1-\u0ADF\u0AE4\u0AE5\u0AF2-\u0B00\u0B04\u0B0D\u0B0E\u0B11\u0B12\u0B29\u0B31\u0B34\u0B3A\u0B3B\u0B45\u0B46\u0B49\u0B4A\u0B4E-\u0B55\u0B58-\u0B5B\u0B5E\u0B64\u0B65\u0B78-\u0B81\u0B84\u0B8B-\u0B8D\u0B91\u0B96-\u0B98\u0B9B\u0B9D\u0BA0-\u0BA2\u0BA5-\u0BA7\u0BAB-\u0BAD\u0BBA-\u0BBD\u0BC3-\u0BC5\u0BC9\u0BCE\u0BCF\u0BD1-\u0BD6\u0BD8-\u0BE5\u0BFB-\u0C00\u0C04\u0C0D\u0C11\u0C29\u0C34\u0C3A-\u0C3C\u0C45\u0C49\u0C4E-\u0C54\u0C57\u0C5A-\u0C5F\u0C64\u0C65\u0C70-\u0C77\u0C80\u0C81\u0C84\u0C8D\u0C91\u0CA9\u0CB4\u0CBA\u0CBB\u0CC5\u0CC9\u0CCE-\u0CD4\u0CD7-\u0CDD\u0CDF\u0CE4\u0CE5\u0CF0\u0CF3-\u0D01\u0D04\u0D0D\u0D11\u0D3B\u0D3C\u0D45\u0D49\u0D4F-\u0D56\u0D58-\u0D5F\u0D64\u0D65\u0D76-\u0D78\u0D80\u0D81\u0D84\u0D97-\u0D99\u0DB2\u0DBC\u0DBE\u0DBF\u0DC7-\u0DC9\u0DCB-\u0DCE\u0DD5\u0DD7\u0DE0-\u0DF1\u0DF5-\u0E00\u0E3B-\u0E3E\u0E5C-\u0E80\u0E83\u0E85\u0E86\u0E89\u0E8B\u0E8C\u0E8E-\u0E93\u0E98\u0EA0\u0EA4\u0EA6\u0EA8\u0EA9\u0EAC\u0EBA\u0EBE\u0EBF\u0EC5\u0EC7\u0ECE\u0ECF\u0EDA\u0EDB\u0EE0-\u0EFF\u0F48\u0F6D-\u0F70\u0F98\u0FBD\u0FCD\u0FDB-\u0FFF\u10C6\u10C8-\u10CC\u10CE\u10CF\u1249\u124E\u124F\u1257\u1259\u125E\u125F\u1289\u128E\u128F\u12B1\u12B6\u12B7\u12BF\u12C1\u12C6\u12C7\u12D7\u1311\u1316\u1317\u135B\u135C\u137D-\u137F\u139A-\u139F\u13F5-\u13FF\u169D-\u169F\u16F1-\u16FF\u170D\u1715-\u171F\u1737-\u173F\u1754-\u175F\u176D\u1771\u1774-\u177F\u17DE\u17DF\u17EA-\u17EF\u17FA-\u17FF\u180F\u181A-\u181F\u1878-\u187F\u18AB-\u18AF\u18F6-\u18FF\u191D-\u191F\u192C-\u192F\u193C-\u193F\u1941-\u1943\u196E\u196F\u1975-\u197F\u19AC-\u19AF\u19CA-\u19CF\u19DB-\u19DD\u1A1C\u1A1D\u1A5F\u1A7D\u1A7E\u1A8A-\u1A8F\u1A9A-\u1A9F\u1AAE-\u1AFF\u1B4C-\u1B4F\u1B7D-\u1B7F\u1BF4-\u1BFB\u1C38-\u1C3A\u1C4A-\u1C4C\u1C80-\u1CBF\u1CC8-\u1CCF\u1CF7-\u1CFF\u1DE7-\u1DFB\u1F16\u1F17\u1F1E\u1F1F\u1F46\u1F47\u1F4E\u1F4F\u1F58\u1F5A\u1F5C\u1F5E\u1F7E\u1F7F\u1FB5\u1FC5\u1FD4\u1FD5\u1FDC\u1FF0\u1FF1\u1FF5\u1FFF\u200B-\u200F\u202A-\u202E\u2060-\u206F\u2072\u2073\u208F\u209D-\u209F\u20BB-\u20CF\u20F1-\u20FF\u218A-\u218F\u23F4-\u23FF\u2427-\u243F\u244B-\u245F\u2700\u2B4D-\u2B4F\u2B5A-\u2BFF\u2C2F\u2C5F\u2CF4-\u2CF8\u2D26\u2D28-\u2D2C\u2D2E\u2D2F\u2D68-\u2D6E\u2D71-\u2D7E\u2D97-\u2D9F\u2DA7\u2DAF\u2DB7\u2DBF\u2DC7\u2DCF\u2DD7\u2DDF\u2E3C-\u2E7F\u2E9A\u2EF4-\u2EFF\u2FD6-\u2FEF\u2FFC-\u2FFF\u3040\u3097\u3098\u3100-\u3104\u312E-\u3130\u318F\u31BB-\u31BF\u31E4-\u31EF\u321F\u32FF\u4DB6-\u4DBF\u9FCD-\u9FFF\uA48D-\uA48F\uA4C7-\uA4CF\uA62C-\uA63F\uA698-\uA69E\uA6F8-\uA6FF\uA78F\uA794-\uA79F\uA7AB-\uA7F7\uA82C-\uA82F\uA83A-\uA83F\uA878-\uA87F\uA8C5-\uA8CD\uA8DA-\uA8DF\uA8FC-\uA8FF\uA954-\uA95E\uA97D-\uA97F\uA9CE\uA9DA-\uA9DD\uA9E0-\uA9FF\uAA37-\uAA3F\uAA4E\uAA4F\uAA5A\uAA5B\uAA7C-\uAA7F\uAAC3-\uAADA\uAAF7-\uAB00\uAB07\uAB08\uAB0F\uAB10\uAB17-\uAB1F\uAB27\uAB2F-\uABBF\uABEE\uABEF\uABFA-\uABFF\uD7A4-\uD7AF\uD7C7-\uD7CA\uD7FC-\uF8FF\uFA6E\uFA6F\uFADA-\uFAFF\uFB07-\uFB12\uFB18-\uFB1C\uFB37\uFB3D\uFB3F\uFB42\uFB45\uFBC2-\uFBD2\uFD40-\uFD4F\uFD90\uFD91\uFDC8-\uFDEF\uFDFE\uFDFF\uFE1A-\uFE1F\uFE27-\uFE2F\uFE53\uFE67\uFE6C-\uFE6F\uFE75\uFEFD-\uFF00\uFFBF-\uFFC1\uFFC8\uFFC9\uFFD0\uFFD1\uFFD8\uFFD9\uFFDD-\uFFDF\uFFE7\uFFEF-\uFFFB\uFFFE\uFFFF]/g,T("clean",function(e){return e.replace(q,"");}).args([["*text","string"]]),T("code",function(e){return e.charAt(0);}).args([["*text","string"]]),D("unichar","char"),D("unicode","code"),T("concatenate",function(){var e,t="";for(e=0;arguments.length>e;++e){t+=arguments[e];}return t;}).args([["+",["*text","string"]]]),T("dollar",function(e,t){for(var n="$#,##0.DECIMALS;($#,##0.DECIMALS)",i="";t-->0;){i+="0";}return n=n.replace(/DECIMALS/g,i),x.formatting.text(e,n);}).args([["*number","number"],["*decimals",["or","integer++",["null",2]]]]),T("exact",function(e,t){return e===t;}).args([["*text1","string"],["*text2","string"]]),T("find",function(e,t,n){var i=t.indexOf(e,n-1);return 0>i?new A("VALUE"):i+1;}).args([["*substring","string"],["*string","string"],["*start",["or","integer++",["null",1]]]]),T("fixed",function(e,t,n){for(var i=n?"0.DECIMALS":"#,##0.DECIMALS",o="";t-->0;){o+="0";}return i=i.replace(/DECIMALS/g,o),x.formatting.text(e,i);}).args([["*number","number"],["*decimals",["or","integer++",["null",2]]],["*noCommas",["or","boolean",["null",!1]]]]),T("left",function(e,t){return e.substr(0,t);}).args([["*text","string"],["*length",["or","integer+",["null",1]]]]),T("right",function(e,t){return e.substr(-t);}).args([["*text","string"],["*length",["or","integer+",["null",1]]]]),T("len",function(e){return e.length;}).args([["*text","string"]]),T("lower",function(e){return e.toLowerCase();}).args([["*text","string"]]),T("upper",function(e){return e.toUpperCase();}).args([["*text","string"]]),T("ltrim",function(e){return e.replace(/^\s+/,"");}).args([["*text","string"]]),T("rtrim",function(e){return e.replace(/\s+$/,"");}).args([["*text","string"]]),T("trim",function(e){return e.replace(/^\s+|\s+$/,"");}).args([["*text","string"]]),T("mid",function(e,t,n){return e.substr(t-1,n);}).args([["*text","string"],["*start","integer++"],["*length","integer+"]]),T("proper",function(e){return e.toLowerCase().replace(/\b./g,function(e){return e.toUpperCase();});}).args([["*text","string"]]),T("replace",function(e,t,n,i){return e.substr(0,--t)+i+e.substr(t+n);}).args([["*text","string"],["*start","integer++"],["*length","integer+"],["*newText","string"]]),T("rept",function(e,t){for(var n="";t-->0;){n+=e;}return n;}).args([["*text","string"],["*number","integer+"]]),T("search",function(e,t,n){var i=t.toLowerCase().indexOf(e.toLowerCase(),n-1);return 0>i?new A("VALUE"):i+1;}).args([["*substring","string"],["*string","string"],["*start",["or","integer++",["null",1]]]]),T("substitute",function(e,t,n,i){function o(){e=e.substring(0,r)+n+e.substring(r+t.length);}if(t===n)return e;for(var r=-1;(r=e.indexOf(t,r+1))>=0;){if(null==i)o();else if(0===--i){o();break;}}return e;}).args([["*text","string"],["*oldText","string"],["*newText","string"],["*nth",["or","integer++","null"]]]),T("t",function(e){return"string"==typeof e?e:"";}).args([["*value","anyvalue"]]),T("text",function(e,t){return x.formatting.text(e,t);}).args([["*value","anyvalue"],["*format","string"]]),T("value",function(e){return"number"==typeof e?e:"boolean"==typeof e?+e:(e=(e+"").replace(/[$,]/g,""),e=parseFloat(e),isNaN(e)?new A("VALUE"):e);}).args([["*value","anyvalue"]]),_.prototype.toString=function(){return this.text;},T("hyperlink",function(e,t){return new _(e,t);}).args([["*link","string"],["*text",["or","string",["null","$link"]]]]),T("iferror",function(e,t){return e instanceof A?t:e;}).args([["*value","forced!"],["*value_if_error","anyvalue!"]]),G=function(){function e(e,t){if("string"==typeof t){var n=parseFloat(t);isNaN(n)||n!=t||(t=n);}return function(n){var i=t;return"string"==typeof n&&"string"==typeof i&&(n=n.toLowerCase(),i=i.toLowerCase()),e(n,i);};}function t(e){return"string"==typeof e?e.toLowerCase():e;}function n(e,n){return t(e)<t(n);}function i(e,n){return t(e)<=t(n);}function o(e,n){return t(e)>t(n);}function r(e,n){return t(e)>=t(n);}function a(e,n){return t(e)!=t(n);}function s(e,n){return n instanceof RegExp?n.test(e):t(e)==t(n);}var l=Object.create(null);return function(t){var c,d;return"function"==typeof t?t:(c=/^=(.*)$/.exec(t))?e(s,c[1]):(c=/^<>(.*)$/.exec(t))?e(a,c[1]):(c=/^<=(.*)$/.exec(t))?e(i,c[1]):(c=/^<(.*)$/.exec(t))?e(n,c[1]):(c=/^>=(.*)$/.exec(t))?e(r,c[1]):(c=/^>(.*)$/.exec(t))?e(o,c[1]):/[?*]/.exec(t)?(d=l[t],d||(d=t.replace(/(~\?|~\*|[\]({\+\.\|\^\$\\})\[]|[?*])/g,function(e){switch(e){case"~?":return"\\?";case"~*":return"\\*";case"?":return".";case"*":return".*";default:return"\\"+e;}}),d=l[t]=RegExp("^"+d+"$","i")),e(s,d)):e(s,t);};}());},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("spreadsheet/runtime.functions.2.min",["spreadsheet/runtime.min"],e);}(function(){"use strict";function e(e){var n,i,o,r;if(ct(e)>=3.3)return 1-t(e);for(n=e>0?1:-1,-1==n&&(e=-e),i=0,o=1,r=1;100>r;r++){i+=o,o*=2*e*e/(2*r+1);}return 2*n/Math.sqrt(Math.PI)*e*Math.exp(-e*e)*i;}function t(t){var n,i,o;if(ct(t)<3.3)return 1-e(t);for(n=1,0>t&&(n=-1,t=-t),i=t,o=8;o>=1;o-=.5){i=t+o/i;}return i=1/(t+i),1==n?Math.exp(-t*t)/Math.sqrt(Math.PI)*i:2-Math.exp(-t*t)/Math.sqrt(Math.PI)*i;}function n(e){var t,n=[1.000000000190015,76.18009172947146,-86.50532032941678,24.01409824083091,-1.231739572450155,.001208650973866179,-5395239384953e-18],i=e,o=e+5.5,r=n[0];for(o-=(e+.5)*Math.log(o),t=1;6>=t;t++){i+=1,r+=n[t]/i;}return-o+Math.log(Math.sqrt(2*Math.PI)*r/e);}function i(e){if(e>0)return Math.exp(n(e));var t=Math.PI,o=-e;return-t/(o*i(o)*Math.sin(t*o));}function o(e,t){return n(e)+n(t)-n(e+t);}function r(e,t){return Math.exp(o(e,t));}function a(e,t){return e+1>t?s(e,t):1-l(e,t);}function s(e,t){var i,o=1/e,r=o,a=e,s=n(e);for(i=1;at>=i&&(a++,r*=t/a,o+=r,!(ct(r)<ct(o)*st));i++){}return o*Math.exp(-t+e*Math.log(t)-s);}function l(e,t){var i,o,r=lt,a=r,s=0,l=1,c=t+1-e,d=n(e);for(i=1;at>=i&&(s=c+l*s,ct(s)<lt&&(s=lt),a=c+l/a,ct(a)<lt&&(a=lt),s=1/s,o=a*s,r*=o,!(ct(o-1)<st));i++){c+=2,l=-i*(i-e);}return r*Math.exp(-t-d+e*Math.log(t));}function c(e,t,n,o){return o?a(t,e/n):Math.pow(e/n,t-1)*Math.exp(-e/n)/(n*i(t));}function d(e,t,n){var i,o,r,a,s,l;if(0===e)return 0;if(1==e)return 1/0;for(i=0,o=10,r=0,a=t*n,a>1&&(o*=a),s=0;at>s&&(r=.5*(i+o),l=c(r,t,n,!0),!(ct(e-l)<1e-16));s++){l>e?o=r:i=r;}return r;}function u(t,n){return n?.5+.5*e(t/Math.sqrt(2)):Math.exp(-t*t/2)/Math.sqrt(2*Math.PI);}function h(e){var t,n,i=[-39.69683028665376,220.9460984245205,-275.9285104469687,138.357751867269,-30.66479806614716,2.506628277459239],o=[-54.47609879822406,161.5858368580409,-155.6989798598866,66.80131188771972,-13.28068155288572],r=[-.007784894002430293,-.3223964580411365,-2.400758277161838,-2.549732539343734,4.374664141464968,2.938163982698783],a=[.007784695709041462,.3224671290700398,2.445134137142996,3.754408661907416],s=.02425,l=1-s;return s>e?(t=Math.sqrt(-2*Math.log(e)),(((((r[0]*t+r[1])*t+r[2])*t+r[3])*t+r[4])*t+r[5])/((((a[0]*t+a[1])*t+a[2])*t+a[3])*t+1)):e>l?(t=Math.sqrt(-2*Math.log(1-e)),-(((((r[0]*t+r[1])*t+r[2])*t+r[3])*t+r[4])*t+r[5])/((((a[0]*t+a[1])*t+a[2])*t+a[3])*t+1)):(t=e-.5,n=t*t,(((((i[0]*n+i[1])*n+i[2])*n+i[3])*n+i[4])*n+i[5])*t/(((((o[0]*n+o[1])*n+o[2])*n+o[3])*n+o[4])*n+1));}function f(e,t,n,i){return i?u((e-t)/n,!0):Math.exp(-(e-t)*(e-t)/(2*n*n))/(n*Math.sqrt(2*Math.PI));}function p(e,t,n){return t+n*h(e);}function m(e,t,n){return Math.exp((t-1)*Math.log(e)+(n-1)*Math.log(1-e)-o(t,n));}function g(e,t,n){var i=Math.exp(t*Math.log(e)+n*Math.log(1-e)-o(t,n));return(t+1)/(t+n+2)>e?i*v(t,n,e)/t:1-i*v(n,t,1-e)/n;}function v(e,t,n){var i,o,r,a,s,l=e+t,c=e+1,d=e-1,u=1,h=1-l*n/c;for(ct(h)<lt&&(h=lt),h=1/h,s=h,i=1;at>=i&&(o=2*i,r=i*(t-i)*n/((d+o)*(e+o)),h=1+r*h,ct(h)<lt&&(h=lt),u=1+r/u,ct(u)<lt&&(u=lt),h=1/h,s*=h*u,r=-(e+i)*(l+i)*n/((e+o)*(c+o)),h=1+r*h,ct(h)<lt&&(h=lt),u=1+r/u,ct(u)<lt&&(u=lt),h=1/h,a=h*u,s*=a,!(ct(a-1)<st));i++){}return s;}function _(e,t,n){var i,o,r=0,a=1,s=0;for(i=0;at>i&&(s=.5*(r+a),o=g(s,t,n),!(ct(e-o)<st));i++){o>e?a=s:r=s;}return s;}function b(e,t,n,i,o){return g((e-i)/(o-i),t,n);}function w(e,t,n,i,o,r){return i?g((e-o)/(r-o),t,n):m((e-o)/(r-o),t,n)/(r-o);}function y(e,t,n,i,o){return i+(o-i)*_(e,t,n);}function k(e,t,n){return c(e,t/2,2,n);}function x(e,t){return 1-k(e,t,!0);}function C(e,t){return d(e,t/2,2);}function S(e,t){return C(1-e,t);}function T(e,t){var n,i,o,r,a,s=e.length,l=e[0].length,c=0;for(n=0;s>n;n++){for(i=0;l>i;i++){o=t[n][i],r=e[n][i]-o,r*=r,c+=r/o;}}return a=(s-1)*(l-1),x(c,a);}function D(e,t,n){return n?1-Math.exp(-t*e):t*Math.exp(-t*e);}function A(e,t,n){var i,o;if(n)return 1-k(2*t,2*(e+1),!0);for(i=0,o=2;e>=o;o++){i+=Math.log(o);}return Math.exp(e*Math.log(t)-t-i);}function E(e,t,n,i){if(i)return g(t*e/(n+t*e),t/2,n/2);var o=t/n;return t/=2,n/=2,o/r(t,n)*Math.pow(o*e,t-1)/Math.pow(1+o*e,t+n);}function R(e,t,n){return 1-E(e,t,n,!0);}function I(e,t,n){return n/t*(1/y(e,n/2,t/2,0,1)-1);}function F(e,t,n){return n/t*(1/y(1-e,n/2,t/2,0,1)-1);}function M(e){var t,n=0,i=e.length;for(t=0;i>t;t++){n+=e[t];}return n/i;}function P(e,t){var n,i,o=0,r=e.length;for(n=0;r>n;n++){i=e[n]-t,o+=i*i;}return o/(r-1);}function z(e,t){var n=e.length-1,i=t.length-1,o=P(e,M(e)),r=P(t,M(t));if(!o||!r)throw new Ze("DIV/0");return 2*E(o/r,n,i,!0);}function B(e){return .5*Math.log((1+e)/(1-e));}function L(e){var t=Math.exp(2*e);return(t-1)/(t+1);}function H(e,t,n){return n?1-.5*g(t/(e*e+t),t/2,.5):1/(Math.sqrt(t)*r(.5,t/2))*Math.pow(1+e*e/t,-(t+1)/2);}function N(e,t){return 1-H(e,t,!0);}function O(e,t){return 0>e&&(e=-e),2*N(e,t);}function V(e,t){var n=_(2*Math.min(e,1-e),t/2,.5);return n=Math.sqrt(t*(1-n)/n),e>.5?n:-n;}function U(e,t){return V(1-e/2,t);}function W(e,t,n,i){var o,r,a,s,l,c,d,u,h,f,p,m,g,v,_,b,w=e.length,y=t.length;if(1==i){for(a=0,s=0,l=0;w>l;l++){c=e[l]-t[l],a+=c,s+=c*c;}return d=a/w,o=d/Math.sqrt((s-a*d)/(w*(w-1))),1==n?N(o,w-1):O(o,w-1);}return u=M(e),h=M(t),f=P(e,u),p=P(t,h),3==i?(m=f/w,g=p/y,v=m+g,_=m/v,b=g/v,r=1/(_*_/(w-1)+b*b/(y-1)),o=ct(u-h)/Math.sqrt(v),1==n?N(o,r):O(o,r)):(r=w+y-2,o=ct(u-h)*Math.sqrt(r*w*y/((w+y)*((w-1)*f+(y-1)*p))),1==n?N(o,r):O(o,r));}function j(e,t,n){return-V(e/2,n-1)*t/Math.sqrt(n);}function q(e,t,n){return-h(e/2)*t/Math.sqrt(n);}function G(e){return u(e,!0)-.5;}function $(e){return u(e);}function Y(t,n,i,o){if(o)return .5+.5*e((Math.log(t)-n)/(i*Math.sqrt(2)));var r=Math.log(t)-n;return Math.exp(-r*r/(2*i*i))/(t*i*Math.sqrt(2*Math.PI));}function K(e,t,n){return Math.exp(p(e,t,n));}function Q(e,t,n,i){var o,r,a,s=e.length,l=0;for(o=0;s>o;o++){if(0>=t[o]||t[o]>1)throw new Ze("NUM");l+=t[o];}if(1!=l)throw new Ze("NUM");for(r=0,o=0;s>o;o++){a=e[o],a>=n&&i>=a&&(r+=t[o]);}return r;}function X(e,t){var n,i,o,r=M(t),a=M(e),s=0,l=0;for(n=0,i=e.length;i>n;n++){o=t[n]-r,s+=o*(e[n]-a),l+=o*o;}return s/l;}function J(e,t){var n,i,o,r=M(t),a=M(e),s=0,l=0;for(n=0,i=e.length;i>n;n++){o=t[n]-r,s+=o*(e[n]-a),l+=o*o;}return a-s*r/l;}function Z(e,t){var n,i,o,r,a=M(e),s=M(t),l=0,c=0,d=0;for(n=0,i=e.length;i>n;n++){o=e[n]-a,r=t[n]-s,l+=o*r,c+=o*o,d+=r*r;}return l/Math.sqrt(c*d);}function ee(e,t){var n=Z(e,t);return n*n;}function te(e,t){var n,i,o,r=t.length,a=M(t),s=M(e),l=0,c=0,d=0;for(n=0;r>n;n++){i=t[n]-a,o=e[n]-s,l+=o*o,c+=i*o,d+=i*i;}return Math.sqrt((l-c*c/d)/(r-2));}function ne(e,t,n){var i,o,r,a,s,l,c=M(n),d=M(t),u=0,h=0;for(i=0,o=n.length;o>i;i++){r=n[i]-c,a=t[i]-d,u+=r*a,h+=r*r;}if(0===h)throw new Ze("N/A");return s=u/h,l=d-s*c,l+s*e;}function ie(e){var t,n=e.height,i=0;for(t=0;n>t;t++){i+=e.data[t][0];}return i/n;}function oe(e,t){var n,i,o=e.height,r=0;for(n=0;o>n;n++){i=e.data[n][0]-t,r+=i*i;}return r;}function re(e,t,n,i){var o,r,a,s,l,c,d,u,h,f,p,m,g,v,_,b,w,y,k=0;for(t||(t=e.map(function(){return++k;})),n&&(t=t.clone(),t.eachRow(function(e){t.data[e].unshift(1);}),++t.width),o=t.transpose(),r=o.multiply(t).inverse().multiply(o).multiply(e),a=[],k=r.height-1;k>=0;k--){a.push(r.data[k][0]);}if(n||a.push(0),!i)return this.asMatrix([a]);for(s=t.multiply(r),l=e.adds(s,!0),c=n?ie(s):0,d=oe(s,c),u=n?ie(l):0,h=oe(l,u),f=[],f.push(d,h),p=d/(d+h),m=e.height-t.width,g=Math.sqrt(h/m),v=[],v.push(p,g),_=n?d/(t.width-1)/(h/m):p/t.width/((1-p)/m),b=[],b.push(_,m),w=o.multiply(t).inverse(),y=[],k=w.height-1;k>=0;k--){y.push(Math.sqrt(w.data[k][k]*h/m));}return this.asMatrix([a,y,v,b,f]);}function ae(e,t,n,i){return re.call(this,e.map(Math.log),t,n,i).map(Math.exp);}function se(e,t,n,i){var o,r,a=0;return t||(t=e.map(function(){return++a;})),i&&(t=t.clone(),t.eachRow(function(e){t.data[e].unshift(1);}),++t.width),o=t.transpose(),r=o.multiply(t).inverse().multiply(o).multiply(e),n?i&&(n=n.clone(),n.eachRow(function(e){n.data[e].unshift(1);}),++n.width):n=t,n.multiply(r);}function le(e,t,n,i){return se.call(this,e.map(Math.log),t,n,i).map(Math.exp);}function ce(e,t,n,i){var o,r,a,s,l,c=n||20,d=i||1e-7,u=t;for(o=1;c>=o;o++){if(r=e(u),a=r[0],s=r[1],l=a/s,u-=l,Math.abs(l)<d)return u;}return new Ze("NUM");}function de(e,t,n,i,o){var r=Math.pow(1+e,t),a=e?(r-1)/e:t;return-(i*r+n*a*(1+e*o));}function ue(e,t,n,i,o){if(!e)return-i-n*t;var r=Math.pow(1+e,t);return-(i+n*(r-1)/e*(1+e*o))/r;}function he(e,t,n,i,o){if(!e)return-(i+n)/t;var r=Math.pow(1+e,t);return-e*(i+n*r)/((1+e*o)*(r-1));}function fe(e,t,n,i,o){if(!e)return-(i+n)/t;var r=t*(1+e*o);return Math.log((r-i*e)/(r+n*e))/Math.log(1+e);}function pe(e,t,n,i,o,r){function a(r){var a=Math.pow(1+r,e-1),s=a*(1+r);return[n*s+t*(1/r+o)*(s-1)+i,e*n*a+t*(-(s-1)/(r*r)+(1/r+o)*e*a)];}return ce(a,r);}function me(e,t,n,i,o,r){var a,s;return 1==r&&1==t?0:(a=he(e,n,i,o,r),s=de(e,t-1,a,i,r)*e,r?s/(1+e):s);}function ge(e,t,n,i,o,r){var a=he(e,n,i,o,r);return a-me(e,t,n,i,o,r);}function ve(e,t,n,i,o,r){var a,s,l,c,d,u;return 1==r&&(i--,o--),a=Math.pow(1+e,t),s=Math.pow(1+e,i-1),l=Math.pow(1+e,o),c=e*n*a/(a-1),d=s*n-(s-1)/e*c,u=l*n-(l-1)/e*c,u-d;}function _e(e,t,n,i,o,r){var a,s=0;for(a=i;o>=a;a++){s+=me(e,a,t,n,0,r);}return s;}function be(e,t){var n,i,o=0;for(n=0,i=t.length;i>n;n++){o+=t[n]*Math.pow(1+e,-n-1);}return o;}function we(e,t){function n(t){var n,i,o=0,r=0;for(n=0,i=e.length;i>n;n++){o+=e[n]*Math.pow(1+t,-n-1),r+=-n*e[n]*Math.pow(1+t,-n-2);}return[o,r];}return ce(n,t);}function ye(e,t){return Math.pow(1+e/t,t)-1;}function ke(e,t){return t*(Math.pow(e+1,1/t)-1);}function xe(e,t,n){var i,o,r=0;for(i=0,o=t.length;o>i;i++){r+=t[i]*Math.pow(1+e,(n[0]-n[i])/365);}return r;}function Ce(e,t,n){function i(n){var i,o,r,a=e[0],s=0;for(i=1,o=e.length;o>i;i++){r=(t[0]-t[i])/365,a+=e[i]*Math.pow(1+n,r),s+=r*e[i]*Math.pow(1+n,r-1);}return[a,s];}return ce(i,n);}function Se(e,t,n,i){var o=-i*e;return o*(1-t/n);}function Te(e,t,n,i,o){var r,a,s=1-Math.pow(t/e,1/n);if(s=Math.floor(1e3*s+.5)/1e3,r=e*s*o/12,1==i)return r;for(a=1;n>a;a++){if(a==i-1)return(e-r)*s;r+=(e-r)*s;}return(e-r)*s*(12-o)/12;}function De(e,t,n,i,o){var r=o/n,a=-e*(Math.pow(1-r,i-1)-1),s=(e-a)*r;return s=Math.min(s,Math.max(0,e-a-t));}function Ae(e,t,n){return(e-t)/n;}function Ee(e,t,n,i){return(e-t)*(n-i+1)*2/(n*(n+1));}function Re(e,t,n,i,o,r,a){function s(e,n){var i,o,r;return o=1==f?1==n?e:0:e*Math.pow(1-f,n-1),r=e*Math.pow(1-f,n),i=t>r?o-t:o-r,0>i?0:i;}function l(e,n,i){var o,r,a,l=e-t,c=Math.ceil(i),d=0,u=0,h=!1;for(r=1;c>=r;r++){h?o=d:(a=s(e,r),d=l/(n-r+1),d>a?(o=d,h=!0):(o=a,l-=a)),r==c&&(o*=i+1-c),u+=o;}return u;}var c,d,u,h,f=r>=n?1:r/n,p=Math.floor(i),m=Math.ceil(o),g=0;if(a)for(c=p+1;m>=c;c++){d=s(e,c),c==p+1?d*=Math.min(o,p+1)-i:c==m&&(d*=o+1-m),g+=d;}else u=n,i!=Math.floor(i)&&r>1&&i>=n/2&&(h=i-n/2,i=n/2,o-=h,u+=1),e-=l(e,u,i),g=l(e,n-i,o-i);return g;}function Ie(e,t){var n=tt(e),i=n.month+t,o=n.year+Math.floor(i/12);return i%=12,0>i&&(i+=12),n=Math.min(n.date,it(o,i)),et(o,i,n);}function Fe(e,t,n){return 1==n||2==n||3==n?t-e:ot(e,t,n);}function Me(e,t,n){var i,o,r,a=tt(e),s=tt(t),l=s.year-a.year;l>0&&(l=(l-1)*n),r=12/n;do{l++,i=Ie(t,-l*r);}while(i>e);return l--,o=Ie(t,-l*r),[i,o];}function Pe(e,t,n){var i,o,r,a=tt(t),s=tt(e),l=a.year-s.year;for(l>0&&(l=(l-1)*n),i=e,r=12/n;t>i;){o=i,l++,i=Ie(e,l*r);}return[o,i];}function ze(e,t,n,i){var o=Me(e,t,n)[0];return Fe(o,e,i);}function Be(e,t,n,i){if(1==i){var o=Me(e,t,n);return Fe(o[0],o[1],1);}return 3==i?365/n:360/n;}function Le(e,t,n,i){var o=Me(e,t,n)[1];return Fe(e,o,i);}function He(e,t,n){return Me(e,t,n)[0];}function Ne(e,t,n){return Me(e,t,n)[1];}function Oe(e,t,n){var i=tt(e),o=tt(t),r=12*(o.year-i.year)+o.month-i.month;return 1+(r*n/12|0);}function Ve(e,t){return 3==t?365:1==t?nt(e)?366:365:360;}function Ue(e,t,n,i,o){var r=Ve(tt(t).year,o);return n*i*Fe(e,t,o)/r;}function We(e,t,n,i,o,r,a,s){function l(e,t){return(t-e)*r/v|0;}var c,d,u,h,f,p,m=0,g=o*i/r,v=a%2===0?360:365;return t>=n?(c=Me(n,t,r),d=c[0],u=c[1],e>=d?g*Fe(e,n,a)/Fe(d,u,a):(c=Me(e,d,r),h=c[0],f=c[1],p=l(f,n),g*(p+Fe(e,f,a)/Fe(h,f,a)+(u>n?Fe(d,n,a)/Fe(d,u,a):0)))):(c=Pe(t,n,r),d=c[0],u=c[1],p=l(t,n),m=u==n?g*p:g*(p+Fe(d,n,a)/Fe(d,u,a)),s?(c=Me(e,t,r),d=c[0],u=c[1],p=l(e,t),m+=g*(p+Fe(e,u,a)/Fe(d,u,a))):m);}function je(e,t,n,i,o){var r=o%2===0?360:nt(tt(e).year)?366:365;return(i-n)/i*r/Fe(e,t,o);}function qe(e,t,n,i,o){var r=o%2===0?360:nt(tt(e).year)?366:365;return(i-n)/n*r/Fe(e,t,o);}function Ge(e,t,n,i,o){var r=o%2===0?360:nt(tt(e).year)?366:365;return n/(1-i*Fe(e,t,o)/r);}function $e(e,t,n,i,o,r,a){var s=1+((t-e)*r/(a%2===0?360:365)|0),l=Me(e,t,r),c=l[0],d=l[1],u=Fe(c,e,a),h=Fe(e,d,a),f=Fe(c,d,a),p=100*n/r,m=i/r,g=h/f;return 1==s?(o+p)/(1+g*m)-u/f*p:o/Math.pow(1+m,s-1+g)+p*Math.pow(1+m,1-s-g)*(Math.pow(1+m,s)-1)/m-u/f*p;}function Ye(e,t,n,i,o){var r=Fe(e,t,o),a=Ve(tt(t).year,o);return i-n*i*r/a;}var Ke,Qe,Xe,Je,Ze,et,tt,nt,it,ot,rt,at,st,lt,ct;kendo.support.browser.msie&&kendo.support.browser.version<9||(Ke=kendo.spreadsheet,Qe=Ke.calc,Xe=Qe.runtime,Je=Xe.defineFunction,Ze=Xe.CalcError,et=Xe.packDate,tt=Xe.unpackDate,nt=Xe.isLeapYear,it=Xe.daysInMonth,ot=Xe._days_360,Je("ERF",function(t,n){return null==n?e(t):e(n)-e(t);}).args([["lower_limit","number"],["upper_limit",["or","number","null"]]]),Je("ERFC",t).args([["x","number"]]),Je("GAMMALN",n).args([["x","number++"]]),Je("GAMMA",i).args([["x","number"]]),Je("GAMMA.DIST",c).args([["x","number+"],["alpha","number++"],["beta","number++"],["cumulative","logical"]]),Je("GAMMA.INV",d).args([["p",["and","number",["[between]",0,1]]],["alpha","number++"],["beta","number++"]]),Je("NORM.S.DIST",u).args([["z","number"],["cumulative","logical"]]),Je("NORM.S.INV",h).args([["p",["and","number",["[between]",0,1]]]]),Je("NORM.DIST",f).args([["x","number"],["mean","number"],["stddev","number++"],["cumulative","logical"]]),Je("NORM.INV",p).args([["p",["and","number",["[between]",0,1]]],["mean","number"],["stddev","number++"]]),Je("BETADIST",b).args([["x","number"],["alpha","number++"],["beta","number++"],["A",["or","number",["null",0]]],["B",["or","number",["null",1]]],["?",["assert","$x >= $A","NUM"]],["?",["assert","$x <= $B","NUM"]],["?",["assert","$A < $B","NUM"]]]),Je("BETA.DIST",w).args([["x","number"],["alpha","number++"],["beta","number++"],["cumulative","logical"],["A",["or","number",["null",0]]],["B",["or","number",["null",1]]],["?",["assert","$x >= $A","NUM"]],["?",["assert","$x <= $B","NUM"]],["?",["assert","$A < $B","NUM"]]]),Je("BETA.INV",y).args([["p",["and","number",["[between]",0,1]]],["alpha","number++"],["beta","number++"],["A",["or","number",["null",0]]],["B",["or","number",["null",1]]]]),Je("CHISQ.DIST",k).args([["x","number+"],["deg_freedom","integer++"],["cumulative","logical"]]),Je("CHISQ.DIST.RT",x).args([["x","number+"],["deg_freedom","integer++"]]),Je("CHISQ.INV",C).args([["p",["and","number",["[between]",0,1]]],["deg_freedom","integer++"]]),Je("CHISQ.INV.RT",S).args([["p",["and","number",["[between]",0,1]]],["deg_freedom","integer++"]]),Je("CHISQ.TEST",function(e,t){return T(e.data,t.data);}).args([["actual_range","matrix"],["expected_range","matrix"],["?",["assert","$actual_range.width == $expected_range.width"]],["?",["assert","$actual_range.height == $expected_range.height"]]]),Je("EXPON.DIST",D).args([["x","number+"],["lambda","number++"],["cumulative","logical"]]),Je("POISSON.DIST",A).args([["x","integer+"],["mean","number+"],["cumulative","logical"]]),Je("F.DIST",E).args([["x","number+"],["deg_freedom1","integer++"],["deg_freedom2","integer++"],["cumulative","logical"]]),Je("F.DIST.RT",R).args([["x","number+"],["deg_freedom1","integer++"],["deg_freedom2","integer++"]]),Je("F.INV",F).args([["p",["and","number",["[between]",0,1]]],["deg_freedom1","integer++"],["deg_freedom2","integer++"]]),Je("F.INV.RT",I).args([["p",["and","number",["[between]",0,1]]],["deg_freedom1","integer++"],["deg_freedom2","integer++"]]),Je("F.TEST",z).args([["array1",["collect","number",1]],["array2",["collect","number",1]],["?",["assert","$array1.length >= 2","DIV/0"]],["?",["assert","$array2.length >= 2","DIV/0"]]]),Je("FISHER",B).args([["x",["and","number",["(between)",-1,1]]]]),Je("FISHERINV",L).args([["y","number"]]),Je("T.DIST",H).args([["x","number"],["deg_freedom","integer++"],["cumulative","logical"]]),Je("T.DIST.RT",N).args([["x","number"],["deg_freedom","integer++"]]),Je("T.DIST.2T",O).args([["x","number+"],["deg_freedom","integer++"]]),Je("T.INV",V).args([["p",["and","number",["(between]",0,1]]],["deg_freedom","integer++"]]),Je("T.INV.2T",U).args([["p",["and","number",["(between]",0,1]]],["deg_freedom","integer++"]]),Je("T.TEST",W).args([["array1",["collect","number",1]],["array2",["collect","number",1]],["tails",["and","integer",["values",1,2]]],["type",["and","integer",["values",1,2,3]]],["?",["assert","$type != 1 || $array1.length == $array2.length","N/A"]],["?",["assert","$array1.length >= 2","DIV/0"]],["?",["assert","$array2.length >= 2","DIV/0"]]]),Je("CONFIDENCE.T",j).args([["alpha",["and","number",["(between)",0,1]]],["standard_dev","number++"],["size",["and","integer++",["assert","$size != 1","DIV/0"]]]]),Je("CONFIDENCE.NORM",q).args([["alpha",["and","number",["(between)",0,1]]],["standard_dev","number++"],["size",["and","integer++"]]]),Je("GAUSS",G).args([["z","number"]]),Je("PHI",$).args([["x","number"]]),Je("LOGNORM.DIST",Y).args([["x","number++"],["mean","number"],["standard_dev","number++"],["cumulative","logical"]]),Je("LOGNORM.INV",K).args([["probability",["and","number",["(between)",0,1]]],["mean","number"],["standard_dev","number++"]]),Je("PROB",Q).args([["x_range",["collect","number",1]],["prob_range",["collect","number",1]],["lower_limit","number"],["upper_limit",["or","number",["null","$lower_limit"]]],["?",["assert","$prob_range.length == $x_range.length","N/A"]]]),Je("SLOPE",X).args([["known_y",["collect","number",1]],["known_x",["collect","number",1]],["?",["assert","$known_x.length == $known_y.length","N/A"]],["?",["assert","$known_x.length > 0 && $known_y.length > 0","N/A"]]]),Je("INTERCEPT",J).args([["known_y",["collect","number",1]],["known_x",["collect","number",1]],["?",["assert","$known_x.length == $known_y.length","N/A"]],["?",["assert","$known_x.length > 0 && $known_y.length > 0","N/A"]]]),Je("PEARSON",Z).args([["array1",["collect","number",1]],["array2",["collect","number",1]],["?",["assert","$array2.length == $array1.length","N/A"]],["?",["assert","$array2.length > 0 && $array1.length > 0","N/A"]]]),Je("RSQ",ee).args([["known_y",["collect","number",1]],["known_x",["collect","number",1]],["?",["assert","$known_x.length == $known_y.length","N/A"]],["?",["assert","$known_x.length > 0 && $known_y.length > 0","N/A"]],["?",["assert","$known_x.length != 1 && $known_y.length != 1","N/A"]]]),Je("STEYX",te).args([["known_y",["collect","number",1]],["known_x",["collect","number",1]],["?",["assert","$known_x.length == $known_y.length","N/A"]],["?",["assert","$known_x.length >= 3 && $known_y.length >= 3","DIV/0"]]]),Je("FORECAST",ne).args([["x","number"],["known_y",["collect","number",1]],["known_x",["collect","number",1]],["?",["assert","$known_x.length == $known_y.length","N/A"]],["?",["assert","$known_x.length > 0 && $known_y.length > 0","N/A"]]]),Je("LINEST",re).args([["known_y","matrix"],["known_x",["or","matrix","null"]],["const",["or","logical",["null",!0]]],["stats",["or","logical",["null",!1]]]]),Je("LOGEST",ae).args([["known_y","matrix"],["known_x",["or","matrix","null"]],["const",["or","logical",["null",!0]]],["stats",["or","logical",["null",!1]]]]),Je("TREND",se).args([["known_y","matrix"],["known_x",["or","matrix","null"]],["new_x",["or","matrix","null"]],["const",["or","logical",["null",!0]]]]),Je("GROWTH",le).args([["known_y","matrix"],["known_x",["or","matrix","null"]],["new_x",["or","matrix","null"]],["const",["or","logical",["null",!0]]]]),Je("FV",de).args([["rate","number"],["nper","number"],["pmt",["or","number",["null",0]]],["pv",["or","number",["null",0]]],["type",["or",["values",0,1],["null",0]]],["?",["assert","$pmt || $pv"]]]),Je("PV",ue).args([["rate","number"],["nper","number"],["pmt",["or","number",["null",0]]],["fv",["or","number",["null",0]]],["type",["or",["values",0,1],["null",0]]],["?",["assert","$pmt || $fv"]]]),Je("PMT",he).args([["rate","number"],["nper","number"],["pmt","number"],["fv",["or","number",["null",0]]],["type",["or",["values",0,1],["null",0]]]]),Je("NPER",fe).args([["rate","number"],["pmt","number"],["pv","number"],["fv",["or","number",["null",0]]],["type",["or",["values",0,1],["null",0]]]]),Je("RATE",pe).args([["nper","number"],["pmt",["or","number",["null",0]]],["pv","number"],["fv",["or","number",["null",0]]],["type",["or",["values",0,1],["null",0]]],["guess",["or","number++",["null",.01]]],["?",["assert","$pmt || $fv"]]]),Je("IPMT",me).args([["rate","number"],["per","number++"],["nper","number++"],["pv","number"],["fv",["or","number",["null",0]]],["type",["or",["values",0,1],["null",0]]],["?",["assert","$per >= 1 && $per <= $nper"]]]),Je("PPMT",ge).args([["rate","number"],["per","number++"],["nper","number++"],["pv","number"],["fv",["or","number",["null",0]]],["type",["or",["values",0,1],["null",0]]],["?",["assert","$per >= 1 && $per <= $nper"]]]),Je("CUMPRINC",ve).args([["rate","number++"],["nper","number++"],["pv","number++"],["start_period","number++"],["end_period","number++"],["type",["or",["values",0,1],["null",0]]],["?",["assert","$end_period >= $start_period","NUM"]]]),Je("CUMIPMT",_e).args([["rate","number++"],["nper","number++"],["pv","number++"],["start_period","number++"],["end_period","number++"],["type",["or",["values",0,1],["null",0]]],["?",["assert","$end_period >= $start_period","NUM"]]]),Je("NPV",be).args([["rate","number"],["values",["collect","number"]],["?",["assert","$values.length > 0","N/A"]]]),Je("IRR",we).args([["values",["collect","number",1]],["guess",["or","number",["null",.1]]]]),Je("EFFECT",ye).args([["nominal_rate","number++"],["npery","integer++"]]),Je("NOMINAL",ke).args([["effect_rate","number++"],["npery","integer++"]]),Je("XNPV",xe).args([["rate","number"],["values",["collect","number",1]],["dates",["collect","date",1]],["?",["assert","$values.length == $dates.length","NUM"]]]),Je("XIRR",Ce).args([["values",["collect","number",1]],["dates",["collect","date",1]],["guess",["or","number",["null",.1]]],["?",["assert","$values.length == $dates.length","NUM"]]]),Je("ISPMT",Se).args([["rate","number"],["per","number++"],["nper","number++"],["pv","number"],["?",["assert","$per >= 1 && $per <= $nper"]]]),Je("DB",Te).args([["cost","number"],["salvage","number"],["life","number++"],["period","number++"],["month",["or","number",["null",12]]]]),Je("DDB",De).args([["cost","number"],["salvage","number"],["life","number++"],["period","number++"],["factor",["or","number",["null",2]]]]),Je("SLN",Ae).args([["cost","number"],["salvage","number"],["life","number++"]]),Je("SYD",Ee).args([["cost","number"],["salvage","number"],["life","number++"],["per","number++"]]),Je("VDB",Re).args([["cost","number+"],["salvage","number+"],["life","number++"],["start_period","number+"],["end_period","number+"],["factor",["or","number+",["null",2]]],["no_switch",["or","logical",["null",!1]]],["?",["assert","$end_period >= $start_period","NUM"]]]),rt=[["settlement","date"],["maturity","date"],["frequency",["and","integer",["values",1,2,4]]],["basis",["or",["null",0],["and","integer",["values",0,1,2,3,4]]]],["?",["assert","$settlement < $maturity","NUM"]]],Je("COUPDAYBS",ze).args(rt),Je("COUPDAYS",Be).args(rt),Je("COUPDAYSNC",Le).args(rt),Je("COUPPCD",He).args(rt),Je("COUPNCD",Ne).args(rt),Je("COUPNUM",Oe).args(rt),Je("ACCRINTM",Ue).args([["issue","date"],["settlement","date"],["rate","number++"],["par",["or",["null",1e3],"number++"]],["basis",["or",["null",0],["and","integer",["values",0,1,2,3,4]]]],["?",["assert","$issue < $settlement","NUM"]]]),Je("ACCRINT",We).args([["issue","date"],["first_interest","date"],["settlement","date"],["rate","number++"],["par",["or",["null",1e3],"number++"]],["frequency",["and","integer",["values",1,2,4]]],["basis",["or",["null",0],["and","integer",["values",0,1,2,3,4]]]],["calc_method",["or","logical",["null",!0]]],["?",["assert","$issue < $settlement","NUM"]]]),Je("DISC",je).args([["settlement","date"],["maturity","date"],["pr","number++"],["redemption","number++"],["basis",["or",["null",0],["and","integer",["values",0,1,2,3,4]]]],["?",["assert","$settlement < $maturity","NUM"]]]),Je("INTRATE",qe).args([["settlement","date"],["maturity","date"],["investment","number++"],["redemption","number++"],["basis",["or",["null",0],["and","integer",["values",0,1,2,3,4]]]],["?",["assert","$settlement < $maturity","NUM"]]]),Je("RECEIVED",Ge).args([["settlement","date"],["maturity","date"],["investment","number++"],["discount","number++"],["basis",["or",["null",0],["and","integer",["values",0,1,2,3,4]]]],["?",["assert","$settlement < $maturity","NUM"]]]),Je("PRICE",$e).args([["settlement","date"],["maturity","date"],["rate","number++"],["yld","number++"],["redemption","number++"],["frequency",["and","integer",["values",1,2,4]]],["basis",["or",["null",0],["and","integer",["values",0,1,2,3,4]]]],["?",["assert","$settlement < $maturity","NUM"]]]),Je("PRICEDISC",Ye).args([["settlement","date"],["maturity","date"],["discount","number++"],["redemption","number++"],["basis",["or",["null",0],["and","integer",["values",0,1,2,3,4]]]],["?",["assert","$settlement < $maturity","NUM"]]]),at=300,st=2.2204e-16,lt=1e-30,ct=Math.abs);},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("spreadsheet/borderpalette.min",["kendo.core.min","kendo.colorpicker.min","kendo.popup.min"],e);}(function(){!function(e){function t(e){return function(t){return t.preventDefault(),e.apply(this,arguments);};}var n,i,o,r,a;e.support.browser.msie&&9>e.support.browser.version||(n=e.jQuery,i=["allBorders","insideBorders","insideHorizontalBorders","insideVerticalBorders","outsideBorders","leftBorder","topBorder","rightBorder","bottomBorder","noBorders"],o=e.spreadsheet.messages.borderPalette={allBorders:"All borders",insideBorders:"Inside borders",insideHorizontalBorders:"Inside horizontal borders",insideVerticalBorders:"Inside vertical borders",outsideBorders:"Outside borders",leftBorder:"Left border",topBorder:"Top border",rightBorder:"Right border",bottomBorder:"Bottom border",noBorders:"No border",reset:"Reset color",customColor:"Custom color...",apply:"Apply",cancel:"Cancel"},r=e.ui.Widget.extend({init:function init(n,i){e.ui.Widget.call(this,n,i),this.element=n,this.color=i.color,this._resetButton(),this._colorPalette(),this._customColorPalette(),this._customColorButton(),this.resetButton.on("click",t(this.resetColor.bind(this))),this.customColorButton.on("click",t(this.customColor.bind(this)));},options:{name:"ColorChooser"},events:["change"],destroy:function destroy(){e.unbind(this.dialog.element.find(".k-action-buttons")),this.dialog.destroy(),this.colorPalette.destroy(),this.resetButton.off("click"),this.customColorButton.off("click");},value:function value(e){return void 0===e?this.color:(this.color=e,this.customColorButton.find(".k-icon").css("background-color",this.color),this.colorPalette.value(null),this.flatColorPicker.value(this.color),void 0);},_change:function _change(e){this.color=e,this.trigger("change",{value:e});},_colorPalette:function _colorPalette(){var e=n("<div />",{"class":"k-spreadsheet-color-palette"}),t=this.colorPalette=n("<div />").kendoColorPalette({palette:["#ffffff","#000000","#d6ecff","#4e5b6f","#7fd13b","#ea157a","#feb80a","#00addc","#738ac8","#1ab39f","#f2f2f2","#7f7f7f","#a7d6ff","#d9dde4","#e5f5d7","#fad0e4","#fef0cd","#c5f2ff","#e2e7f4","#c9f7f1","#d8d8d8","#595959","#60b5ff","#b3bcca","#cbecb0","#f6a1c9","#fee29c","#8be6ff","#c7d0e9","#94efe3","#bfbfbf","#3f3f3f","#007dea","#8d9baf","#b2e389","#f272af","#fed46b","#51d9ff","#aab8de","#5fe7d5","#a5a5a5","#262626","#003e75","#3a4453","#5ea226","#af0f5b","#c58c00","#0081a5","#425ea9","#138677","#7f7f7f","#0c0c0c","#00192e","#272d37","#3f6c19","#750a3d","#835d00","#00566e","#2c3f71","#0c594f"],value:this.color,change:function(e){this.customColorButton.find(".k-icon").css("background-color","transparent"),this.flatColorPicker.value(null),this._change(e.value);}.bind(this)}).data("kendoColorPalette");e.append(t.wrapper).appendTo(this.element);},_customColorPalette:function _customColorPalette(){var t,i,r=n("<div />",{"class":"k-spreadsheet-window",html:"<div></div><div class='k-action-buttons'><button class='k-button k-primary' data-bind='click: apply'>"+o.apply+"</button><button class='k-button' data-bind='click: close'>"+o.cancel+"</button></div>"}),a=this.dialog=r.appendTo(document.body).kendoWindow({animation:!1,scrollable:!1,resizable:!1,maximizable:!1,modal:!0,visible:!1,width:268,open:function open(){this.center();}}).data("kendoWindow");a.one("activate",function(){this.element.find("[data-role=flatcolorpicker]").data("kendoFlatColorPicker")._hueSlider.resize();}),t=this.flatColorPicker=a.element.children().first().kendoFlatColorPicker().data("kendoFlatColorPicker"),i=e.observable({apply:function(){this.customColorButton.find(".k-icon").css("background-color",t.value()),this.colorPalette.value(null),this._change(t.value()),a.close();}.bind(this),close:function close(){t.value(null),a.close();}}),e.bind(a.element.find(".k-action-buttons"),i);},_resetButton:function _resetButton(){this.resetButton=n("<a class='k-button k-reset-color' href='#'><span class='k-icon k-font-icon k-i-reset-color'></span>"+o.reset+"</a>").appendTo(this.element);},_customColorButton:function _customColorButton(){this.customColorButton=n("<a class='k-button k-custom-color' href='#'><span class='k-icon'></span>"+o.customColor+"</a>").appendTo(this.element);},resetColor:function resetColor(){this.colorPalette.value(null),this.flatColorPicker.value(null),this._change(null);},customColor:function customColor(){this.dialog.open();}}),a=e.ui.Widget.extend({init:function init(n,i){e.ui.Widget.call(this,n,i),this.element=n,this.color="#000",this.element.addClass("k-spreadsheet-border-palette"),this._borderTypePalette(),this._borderColorPalette(),this.element.on("click",".k-spreadsheet-border-type-palette .k-button",t(this._click.bind(this)));},options:{name:"BorderPalette"},events:["change"],destroy:function destroy(){this.colorChooser.destroy(),this.element.off("click");},_borderTypePalette:function _borderTypePalette(){var t=o,r=i.map(function(n){return'<a title="'+t[n]+'" href="#" data-border-type="'+n+'" class="k-button k-button-icon"><span class="k-sprite k-font-icon k-icon k-i-'+e.toHyphens(n)+'"></span></a>';}).join(""),a=n("<div />",{"class":"k-spreadsheet-border-type-palette",html:r});a.appendTo(this.element);},_borderColorPalette:function _borderColorPalette(){var e=n("<div />",{"class":"k-spreadsheet-border-color-palette"});e.appendTo(this.element),this.colorChooser=new r(e,{color:this.color,change:this._colorChange.bind(this)});},_click:function _click(e){this.type=n(e.currentTarget).data("borderType"),this.trigger("change",{type:this.type,color:this.color});},_colorChange:function _colorChange(e){this.color=e.value,this.type&&this.trigger("change",{type:this.type,color:this.color});}}),e.spreadsheet.ColorChooser=r,e.spreadsheet.BorderPalette=a);}(window.kendo);},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("spreadsheet/toolbar.min",["kendo.toolbar.min","kendo.colorpicker.min","kendo.combobox.min","kendo.dropdownlist.min","kendo.popup.min","spreadsheet/borderpalette.min"],e);}(function(){!function(e){var t,n,i,o,r,a,s,l,c,d,u,h,f,p,m,g,v,_,b,w,y,k,x,C,S,T,D,A,E,R,I,F,M,P,z;e.support.browser.msie&&9>e.support.browser.version||(t=e.jQuery,n=e.ui.ToolBar,i=e.spreadsheet.messages.toolbar={addColumnLeft:"Add column left",addColumnRight:"Add column right",addRowAbove:"Add row above",addRowBelow:"Add row below",alignment:"Alignment",alignmentButtons:{justtifyLeft:"Align left",justifyCenter:"Center",justifyRight:"Align right",justifyFull:"Justify",alignTop:"Align top",alignMiddle:"Align middle",alignBottom:"Align bottom"},backgroundColor:"Background",bold:"Bold",borders:"Borders",colorPicker:{reset:"Reset color",customColor:"Custom color..."},copy:"Copy",cut:"Cut",deleteColumn:"Delete column",deleteRow:"Delete row",filter:"Filter",fontFamily:"Font",fontSize:"Font size",format:"Custom format...",formatTypes:{automatic:"Automatic",number:"Number",percent:"Percent",financial:"Financial",currency:"Currency",date:"Date",time:"Time",dateTime:"Date time",duration:"Duration",moreFormats:"More formats..."},formatDecreaseDecimal:"Decrease decimal",formatIncreaseDecimal:"Increase decimal",freeze:"Freeze panes",freezeButtons:{freezePanes:"Freeze panes",freezeRows:"Freeze rows",freezeColumns:"Freeze columns",unfreeze:"Unfreeze panes"},italic:"Italic",merge:"Merge cells",mergeButtons:{mergeCells:"Merge all",mergeHorizontally:"Merge horizontally",mergeVertically:"Merge vertically",unmerge:"Unmerge"},open:"Open...",paste:"Paste",quickAccess:{redo:"Redo",undo:"Undo"},exportAs:"Export...",toggleGridlines:"Toggle gridlines",sortAsc:"Sort ascending",sortDesc:"Sort descending",sortButtons:{sortSheetAsc:"Sort sheet A to Z",sortSheetDesc:"Sort sheet Z to A",sortRangeAsc:"Sort range A to Z",sortRangeDesc:"Sort range Z to A"},textColor:"Text Color",textWrap:"Wrap text",underline:"Underline",validation:"Data validation...",hyperlink:"Link"},o={home:["open","exportAs",["cut","copy","paste"],["bold","italic","underline"],"hyperlink","backgroundColor","textColor","borders","fontSize","fontFamily","alignment","textWrap",["formatDecreaseDecimal","formatIncreaseDecimal"],"format","merge","freeze","filter","toggleGridlines"],insert:[["addColumnLeft","addColumnRight","addRowBelow","addRowAbove"],["deleteColumn","deleteRow"]],data:["sort","filter","validation"]},r={open:{type:"open",overflow:"never",iconClass:"xlsa"},exportAs:{type:"exportAsDialog",dialogName:"exportAs",overflow:"never",text:"",iconClass:"xlsa"},bold:{type:"button",command:"PropertyChangeCommand",property:"bold",value:!0,iconClass:"bold",togglable:!0},italic:{type:"button",command:"PropertyChangeCommand",property:"italic",value:!0,iconClass:"italic",togglable:!0},underline:{type:"button",command:"PropertyChangeCommand",property:"underline",value:!0,iconClass:"underline",togglable:!0},formatDecreaseDecimal:{type:"button",command:"AdjustDecimalsCommand",value:-1,iconClass:"decrease-decimal"},formatIncreaseDecimal:{type:"button",command:"AdjustDecimalsCommand",value:1,iconClass:"increase-decimal"},textWrap:{type:"button",command:"TextWrapCommand",property:"wrap",value:!0,iconClass:"text-wrap",togglable:!0},cut:{type:"button",command:"ToolbarCutCommand",iconClass:"cut"},copy:{type:"button",command:"ToolbarCopyCommand",iconClass:"copy"},paste:{type:"button",command:"ToolbarPasteCommand",iconClass:"paste"},separator:{type:"separator"},alignment:{type:"alignment",iconClass:"justify-left"},backgroundColor:{type:"colorPicker",property:"background",iconClass:"background"},textColor:{type:"colorPicker",property:"color",iconClass:"text"},fontFamily:{type:"fontFamily",property:"fontFamily",iconClass:"text"},fontSize:{type:"fontSize",property:"fontSize",iconClass:"font-size"},format:{type:"format",property:"format",iconClass:"format-number"},filter:{type:"filter",property:"hasFilter",iconClass:"filter"},merge:{type:"merge",iconClass:"merge-cells"},freeze:{type:"freeze",iconClass:"freeze-panes"},borders:{type:"borders",iconClass:"all-borders"},formatCells:{type:"dialog",dialogName:"formatCells",overflow:"never"},hyperlink:{type:"dialog",dialogName:"hyperlink",iconClass:"hyperlink",overflow:"never",text:""},toggleGridlines:{type:"button",command:"GridLinesChangeCommand",property:"gridLines",value:!0,iconClass:"no-borders",togglable:!0},addColumnLeft:{type:"button",command:"AddColumnCommand",value:"left",iconClass:"add-column-left"},addColumnRight:{type:"button",command:"AddColumnCommand",value:"right",iconClass:"add-column-right"},addRowBelow:{type:"button",command:"AddRowCommand",value:"below",iconClass:"add-row-below"},addRowAbove:{type:"button",command:"AddRowCommand",value:"above",iconClass:"add-row-above"},deleteColumn:{type:"button",command:"DeleteColumnCommand",iconClass:"delete-column"},deleteRow:{type:"button",command:"DeleteRowCommand",iconClass:"delete-row"},sort:{type:"sort",iconClass:"sort-desc"},validation:{type:"dialog",dialogName:"validation",iconClass:"exception",overflow:"never"}},a=n.extend({init:function init(e,t){t.items=this._expandTools(t.tools||a.prototype.options.tools[t.toolbarName]),n.fn.init.call(this,e,t);var i=this._click.bind(this);this.element.addClass("k-spreadsheet-toolbar"),this._addSeparators(this.element),this.bind({click:i,toggle:i});},_addSeparators:function _addSeparators(e){var t=e.children(".k-widget, a.k-button, .k-button-group");t.before("<span class='k-separator' />");},_expandTools:function _expandTools(e){function n(e){var o=t.isPlainObject(e)?e:r[e]||{},a="k-icon k-font-icon k-i-"+o.iconClass,s=o.type,l={splitButton:{spriteCssClass:a},button:{showText:"overflow"},colorPicker:{toolIcon:a}},c=t.extend({name:o.name||e,text:i[o.name||e],spriteCssClass:a,attributes:{title:i[o.name||e]}},l[s],o);return"splitButton"==s&&(c.menuButtons=c.menuButtons.map(n)),c.attributes["data-tool"]=e,o.property&&(c.attributes["data-property"]=o.property),c;}return e.reduce(function(e,i){return e.push(t.isArray(i)?{type:"buttonGroup",buttons:i.map(n)}:n.call(this,i)),e;},[]);},_click:function _click(e){var t,n=e.target.attr("data-tool"),i=r[n]||{},o=i.command;o&&(t={command:o,options:{property:i.property||null,value:i.value||null}},"boolean"==typeof t.options.value&&(t.options.value=e.checked?!0:null),this.action(t));},events:["click","toggle","open","close","overflowOpen","overflowClose","action","dialog"],options:{name:"SpreadsheetToolBar",resizable:!0,tools:o},action:function action(e){this.trigger("action",e);},dialog:function dialog(e){this.trigger("dialog",e);},refresh:function refresh(t){function n(e,t){var n,i=e.toolbar,o=e.overflow,r=i&&i.options.togglable||o&&o.options.togglable;r&&(n=!1,"boolean"==typeof t?n=t:"string"==typeof t&&(n=i.options.value===t),i.toggle(n),o&&o.toggle(n));}function i(e,t){var n=e.toolbar,i=e.overflow;n&&n.update&&n.update(t),i&&i.update&&i.update(t);}var o,r,a,s,l=t,c=this._tools();for(o=0;c.length>o;o++){r=c[o].property,a=c[o].tool,s=e.isFunction(l[r])?l[r]():l,"gridLines"==r&&(s=l.sheet().showGridLines()),"button"===a.type?n(a,s):i(a,s);}},_tools:function _tools(){return this.element.find("[data-property]").toArray().map(function(e){return e=t(e),{property:e.attr("data-property"),tool:this._getItem(e)};}.bind(this));},destroy:function destroy(){this.element.find("[data-command],.k-button").each(function(){var e=t(this),n=e.data("instance");n&&n.destroy&&n.destroy();}),n.fn.destroy.call(this);}}),e.spreadsheet.ToolBar=a,s=e.toolbar.Item.extend({init:function init(e,n){var i=t("<select />").kendoDropDownList({height:"auto"}).data("kendoDropDownList");this.dropDownList=i,this.element=i.wrapper,this.options=e,this.toolbar=n,this.attributes(),this.addUidAttr(),this.addOverflowAttr(),i.bind("open",this._open.bind(this)),i.bind("change",this._change.bind(this)),this.element.width(e.width).attr({"data-command":"PropertyChangeCommand","data-property":e.property});},_open:function _open(){var t,n=this.dropDownList,i=n.list;i.css({whiteSpace:"nowrap",width:"auto"}),t=i.width(),t?t+=20:t=n._listWidth,i.css("width",t+e.support.scrollbar()),n._listWidth=t;},_change:function _change(e){var t=e.sender,n=t.value(),i=t.dataItem(),o=i?i.popup:void 0;o?this.toolbar.dialog({name:o}):this.toolbar.action({command:"PropertyChangeCommand",options:{property:this.options.property,value:"null"==n?null:n}});},value:function value(e){return void 0===e?this.dropDownList.value():void this.dropDownList.value(e);}}),l=e.toolbar.Item.extend({init:function init(e,n){this.element=t("<a href='#' class='k-button k-button-icon'><span class='"+e.spriteCssClass+"'></span><span class='k-icon k-i-arrow-s'></span></a>"),this.element.on("click",this.open.bind(this)).attr("data-command",e.command),this.options=e,this.toolbar=n,this.attributes(),this.addUidAttr(),this.addOverflowAttr(),this._popup();},destroy:function destroy(){this.popup.destroy();},open:function open(e){e.preventDefault(),this.popup.toggle();},_popup:function _popup(){var e=this.element;this.popup=t("<div class='k-spreadsheet-popup' />").appendTo(e).kendoPopup({anchor:e}).data("kendoPopup");}}),e.toolbar.registerComponent("dialog",e.toolbar.ToolBarButton.extend({init:function init(t,n){e.toolbar.ToolBarButton.fn.init.call(this,t,n),this._dialogName=t.dialogName,this.element.bind("click",this.open.bind(this)).data("instance",this);},open:function open(){this.toolbar.dialog({name:this._dialogName});}})),e.toolbar.registerComponent("exportAsDialog",e.toolbar.Item.extend({init:function init(e,n){this._dialogName=e.dialogName,this.toolbar=n,this.element=t("<button class='k-button k-button-icon' title='"+e.attributes.title+"'><span class='k-icon k-font-icon k-i-xls' /></button>").data("instance",this),this.element.bind("click",this.open.bind(this)).data("instance",this);},open:function open(){this.toolbar.dialog({name:this._dialogName});}})),c=e.toolbar.OverflowButton.extend({init:function init(t,n){e.toolbar.OverflowButton.fn.init.call(this,t,n),this.element.on("click",this._click.bind(this)),this.message=this.options.text;var i=this.element.data("button");this.element.data(this.options.type,i);},_click:t.noop}),d=l.extend({init:function init(t,n){l.fn.init.call(this,t,n),this.popup.element.addClass("k-spreadsheet-colorpicker"),this.colorChooser=new e.spreadsheet.ColorChooser(this.popup.element,{change:this._colorChange.bind(this)}),this.element.attr({"data-property":t.property}),this.element.data({type:"colorPicker",colorPicker:this,instance:this});},destroy:function destroy(){this.colorChooser.destroy(),l.fn.destroy.call(this);},update:function update(e){this.value(e);},value:function value(e){this.colorChooser.value(e);},_colorChange:function _colorChange(e){this.toolbar.action({command:"PropertyChangeCommand",options:{property:this.options.property,value:e.sender.value()}}),this.popup.close();}}),u=c.extend({init:function init(e,t){e.iconName="text",c.fn.init.call(this,e,t);},_click:function _click(){this.toolbar.dialog({name:"colorPicker",options:{title:this.options.property,property:this.options.property}});}}),e.toolbar.registerComponent("colorPicker",d,u),h=[8,9,10,11,12,13,14,16,18,20,22,24,26,28,36,48,72],f=12,p=e.toolbar.Item.extend({init:function init(e,n){var i=t("<input />").kendoComboBox({change:this._valueChange.bind(this),dataSource:e.fontSizes||h,value:f}).data("kendoComboBox");this.comboBox=i,this.element=i.wrapper,this.options=e,this.toolbar=n,this.attributes(),this.addUidAttr(),this.addOverflowAttr(),this.element.width(e.width).attr({"data-command":"PropertyChangeCommand","data-property":e.property}),this.element.data({type:"fontSize",fontSize:this});},_valueChange:function _valueChange(t){this.toolbar.action({command:"PropertyChangeCommand",options:{property:this.options.property,value:e.parseInt(t.sender.value())}});},update:function update(t){this.value(e.parseInt(t)||f);},value:function value(e){return void 0===e?this.comboBox.value():void this.comboBox.value(e);}}),m=c.extend({_click:function _click(){this.toolbar.dialog({name:"fontSize",options:{sizes:h,defaultSize:f}});},update:function update(e){this._value=e||f,this.element.find(".k-text").text(this.message+" ("+this._value+") ...");}}),e.toolbar.registerComponent("fontSize",p,m),g=["Arial","Courier New","Georgia","Times New Roman","Trebuchet MS","Verdana"],v="Arial",_=s.extend({init:function init(e,t){s.fn.init.call(this,e,t);var n=this.dropDownList;n.setDataSource(e.fontFamilies||g),n.value(v),this.element.data({type:"fontFamily",fontFamily:this});},update:function update(e){this.value(e||v);}}),b=c.extend({_click:function _click(){this.toolbar.dialog({name:"fontFamily",options:{fonts:g,defaultFont:v}});},update:function update(e){this._value=e||v,this.element.find(".k-text").text(this.message+" ("+this._value+") ...");}}),e.toolbar.registerComponent("fontFamily",_,b),w=e.spreadsheet.formats={automatic:null,number:"#,0.00",percent:"0.00%",financial:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',currency:"$#,##0.00;[Red]$#,##0.00",date:"m/d/yyyy",time:"h:mm:ss AM/PM",dateTime:"m/d/yyyy h:mm",duration:"[h]:mm:ss"},y=s.extend({_revertTitle:function _revertTitle(e){e.sender.value(""),e.sender.wrapper.width("auto");},init:function init(e,t){var n,o;s.fn.init.call(this,e,t),n=this.dropDownList,o="<span class='k-icon k-font-icon k-i-"+e.iconClass+"' style='line-height: 1em; width: 1.35em;'></span>",n.bind("change",this._revertTitle.bind(this)),n.bind("dataBound",this._revertTitle.bind(this)),n.setOptions({dataValueField:"format",dataTextField:"name",dataValuePrimitive:!0,valueTemplate:o,template:"# if (data.sample) { #<span class='k-spreadsheet-sample'>#: data.sample #</span># } ##: data.name #"}),n.text(o),n.setDataSource([{format:w.automatic,name:i.formatTypes.automatic},{format:w.number,name:i.formatTypes.number,sample:"1,499.99"},{format:w.percent,name:i.formatTypes.percent,sample:"14.50%"},{format:w.financial,name:i.formatTypes.financial,sample:"(1,000.12)"},{format:w.currency,name:i.formatTypes.currency,sample:"$1,499.99"},{format:w.date,name:i.formatTypes.date,sample:"4/21/2012"},{format:w.time,name:i.formatTypes.time,sample:"5:49:00 PM"},{format:w.dateTime,name:i.formatTypes.dateTime,sample:"4/21/2012 5:49:00"},{format:w.duration,name:i.formatTypes.duration,sample:"168:05:00"},{popup:"formatCells",name:i.formatTypes.moreFormats}]),this.element.data({type:"format",format:this});}}),k=c.extend({_click:function _click(){this.toolbar.dialog({name:"formatCells"});}}),e.toolbar.registerComponent("format",y,k),x=l.extend({init:function init(e,t){l.fn.init.call(this,e,t),this._borderPalette(),this.element.data({type:"borders",instance:this});},destroy:function destroy(){this.borderPalette.destroy(),l.fn.destroy.call(this);},_borderPalette:function _borderPalette(){var n=t("<div />").appendTo(this.popup.element);this.borderPalette=new e.spreadsheet.BorderPalette(n,{change:this._action.bind(this)});},_action:function _action(e){this.toolbar.action({command:"BorderChangeCommand",options:{border:e.type,style:{size:1,color:e.color}}});}}),C=c.extend({_click:function _click(){this.toolbar.dialog({name:"borders"});}}),e.toolbar.registerComponent("borders",x,C),S=l.extend({init:function init(e,n){l.fn.init.call(this,e,n),this.element.attr({"data-property":"alignment"}),this._commandPalette(),this.popup.element.on("click",".k-button",function(e){this._action(t(e.currentTarget));}.bind(this)),this.element.data({type:"alignment",alignment:this,instance:this});},buttons:[{property:"textAlign",value:"left",iconClass:"justify-left",text:i.alignmentButtons.justtifyLeft},{property:"textAlign",value:"center",iconClass:"justify-center",text:i.alignmentButtons.justifyCenter},{property:"textAlign",value:"right",iconClass:"justify-right",text:i.alignmentButtons.justifyRight},{property:"textAlign",value:"justify",iconClass:"justify-full",text:i.alignmentButtons.justifyFull},{property:"verticalAlign",value:"top",iconClass:"align-top",text:i.alignmentButtons.alignTop},{property:"verticalAlign",value:"center",iconClass:"align-middle",text:i.alignmentButtons.alignMiddle},{property:"verticalAlign",value:"bottom",iconClass:"align-bottom",text:i.alignmentButtons.alignBottom}],destroy:function destroy(){this.popup.element.off(),l.fn.destroy.call(this);},update:function update(e){var t=e.textAlign(),n=e.verticalAlign(),i=this.popup.element;i.find(".k-button").removeClass("k-state-active"),t&&i.find("[data-property=textAlign][data-value="+t+"]").addClass("k-state-active"),n&&i.find("[data-property=verticalAlign][data-value="+n+"]").addClass("k-state-active");},_commandPalette:function _commandPalette(){var e=this.buttons,n=t("<div />").appendTo(this.popup.element);e.forEach(function(i,o){var r="<a title='"+i.text+"' data-property='"+i.property+"' data-value='"+i.value+"' class='k-button k-button-icon'><span class='k-icon k-font-icon k-i-"+i.iconClass+"'></span></a>";0!==o&&e[o-1].property!==i.property&&n.append(t("<span class='k-separator' />")),n.append(r);});},_action:function _action(e){var t=e.attr("data-property"),n=e.attr("data-value");this.toolbar.action({command:"PropertyChangeCommand",options:{property:t,value:n}});}}),T=c.extend({_click:function _click(){this.toolbar.dialog({name:"alignment"});}}),e.toolbar.registerComponent("alignment",S,T),D=l.extend({init:function init(e,n){l.fn.init.call(this,e,n),this._commandPalette(),this.popup.element.on("click",".k-button",function(e){this._action(t(e.currentTarget));}.bind(this)),this.element.data({type:"merge",merge:this,instance:this});},buttons:[{value:"cells",iconClass:"merge-cells",text:i.mergeButtons.mergeCells},{value:"horizontally",iconClass:"merge-horizontally",text:i.mergeButtons.mergeHorizontally},{value:"vertically",iconClass:"merge-vertically",text:i.mergeButtons.mergeVertically},{value:"unmerge",iconClass:"normal-layout",text:i.mergeButtons.unmerge}],destroy:function destroy(){this.popup.element.off(),l.fn.destroy.call(this);},_commandPalette:function _commandPalette(){var e=t("<div />").appendTo(this.popup.element);this.buttons.forEach(function(t){var n="<a title='"+t.text+"' data-value='"+t.value+"' class='k-button k-button-icontext'><span class='k-icon k-font-icon k-i-"+t.iconClass+"'></span>"+t.text+"</a>";e.append(n);});},_action:function _action(e){var t=e.attr("data-value");this.toolbar.action({command:"MergeCellCommand",options:{value:t}});}}),A=c.extend({_click:function _click(){this.toolbar.dialog({name:"merge"});}}),e.toolbar.registerComponent("merge",D,A),E=l.extend({init:function init(e,n){l.fn.init.call(this,e,n),this._commandPalette(),this.popup.element.on("click",".k-button",function(e){this._action(t(e.currentTarget));}.bind(this)),this.element.data({type:"freeze",freeze:this,instance:this});},buttons:[{value:"panes",iconClass:"freeze-panes",text:i.freezeButtons.freezePanes},{value:"rows",iconClass:"freeze-row",text:i.freezeButtons.freezeRows},{value:"columns",iconClass:"freeze-col",text:i.freezeButtons.freezeColumns},{value:"unfreeze",iconClass:"normal-layout",text:i.freezeButtons.unfreeze}],destroy:function destroy(){this.popup.element.off(),l.fn.destroy.call(this);},_commandPalette:function _commandPalette(){var e=t("<div />").appendTo(this.popup.element);this.buttons.forEach(function(t){var n="<a title='"+t.text+"' data-value='"+t.value+"' class='k-button k-button-icontext'><span class='k-icon k-font-icon k-i-"+t.iconClass+"'></span>"+t.text+"</a>";e.append(n);});},_action:function _action(e){var t=e.attr("data-value");this.toolbar.action({command:"FreezePanesCommand",options:{value:t}});}}),R=c.extend({_click:function _click(){this.toolbar.dialog({name:"freeze"});}}),e.toolbar.registerComponent("freeze",E,R),I=s.extend({_revertTitle:function _revertTitle(e){e.sender.value(""),e.sender.wrapper.width("auto");},init:function init(e,t){s.fn.init.call(this,e,t);var n=this.dropDownList;n.bind("change",this._revertTitle.bind(this)),n.bind("dataBound",this._revertTitle.bind(this)),n.setOptions({valueTemplate:"<span class='k-icon k-font-icon k-i-"+e.iconClass+"' style='line-height: 1em; width: 1.35em;'></span>",template:"<span class='k-icon k-font-icon k-i-#= iconClass #' style='line-height: 1em; width: 1.35em;'></span>#=text#",dataTextField:"text",dataValueField:"value"}),n.setDataSource([{value:"asc",sheet:!1,text:i.sortButtons.sortRangeAsc,iconClass:"sort-asc"},{value:"desc",sheet:!1,text:i.sortButtons.sortRangeDesc,iconClass:"sort-desc"}]),n.select(0),this.element.data({type:"sort",sort:this});},_change:function _change(e){var t=e.sender,n=t.dataItem();n&&this.toolbar.action({command:"SortCommand",options:{value:n.value,sheet:n.sheet}});},value:t.noop}),F=c.extend({_click:function _click(){this.toolbar.dialog({name:"sort"});}}),e.toolbar.registerComponent("sort",I,F),M=e.toolbar.ToolBarButton.extend({init:function init(t,n){t.showText="overflow",e.toolbar.ToolBarButton.fn.init.call(this,t,n),this.element.on("click",this._click.bind(this)),this.element.data({type:"filter",filter:this});},_click:function _click(){this.toolbar.action({command:"FilterCommand"});},update:function update(e){this.toggle(e);}}),P=c.extend({init:function init(e,t){c.fn.init.call(this,e,t),this.element.data({type:"filter",filter:this});},_click:function _click(){this.toolbar.action({command:"FilterCommand"});},update:function update(e){this.toggle(e);}}),e.toolbar.registerComponent("filter",M,P),z=e.toolbar.Item.extend({init:function init(e,n){this.toolbar=n,this.element=t("<div class='k-button k-upload-button k-button-icon'><span class='k-icon k-font-icon k-i-folder-open' /></div>").data("instance",this),this._title=e.attributes.title,this._reset();},_reset:function _reset(){this.element.remove("input"),t("<input type='file' autocomplete='off' accept='.xlsx'/>").attr("title",this._title).one("change",this._change.bind(this)).appendTo(this.element);},_change:function _change(e){this.toolbar.action({command:"OpenCommand",options:{file:e.target.files[0]}}),this._reset();}}),e.toolbar.registerComponent("open",z),e.spreadsheet.TabStrip=e.ui.TabStrip.extend({init:function init(n,i){e.ui.TabStrip.fn.init.call(this,n,i),n.addClass("k-spreadsheet-tabstrip"),this._quickAccessButtons(),this.quickAccessToolBar.on("click",".k-button",function(e){var n=t(e.currentTarget).attr("title").toLowerCase();this.trigger("action",{action:n});}.bind(this)),this.toolbars={};var o=i.dataSource;this.contentElements.each(function(e,n){this._toolbar(t(n),o[e].id,i.toolbarOptions[o[e].id]);}.bind(this)),this.one("activate",function(){this.toolbars[this.options.dataSource[0].id].resize();});},events:e.ui.TabStrip.fn.events.concat(["action","dialog"]),destroy:function destroy(){this.quickAccessToolBar.off("click"),e.ui.TabStrip.fn.destroy.call(this);for(var t in this.toolbars){this.toolbars[t].destroy();}},action:function action(e){this.trigger("action",e);},dialog:function dialog(e){this.trigger("dialog",e);},refreshTools:function refreshTools(e){var t,n=this.toolbars;for(t in n){n.hasOwnProperty(t)&&n[t].refresh(e);}},_quickAccessButtons:function _quickAccessButtons(){var n=[{title:i.quickAccess.undo,iconClass:"undo-large",action:"undo"},{title:i.quickAccess.redo,iconClass:"redo-large",action:"redo"}],o=e.template("<a href='\\#' title='#= title #' data-action='#= action #' class='k-button k-button-icon'><span class='k-icon k-font-icon k-i-#=iconClass#'></span></a>");this.quickAccessToolBar=t("<div />",{"class":"k-spreadsheet-quick-access-toolbar",html:e.render(o,n)}).insertBefore(this.wrapper),this.quickAccessToolBar.on("click",".k-button",function(e){e.preventDefault();var n=t(e.currentTarget).attr("title").toLowerCase();this.action({action:n});}.bind(this)),this.quickAccessAdjust();},quickAccessAdjust:function quickAccessAdjust(){this.tabGroup.css("padding-left",this.quickAccessToolBar.outerWidth());},_toolbar:function _toolbar(t,n,i){var o,r;this.toolbars[n]&&(this.toolbars[n].destroy(),t.children(".k-toolbar").remove()),i&&(o=t.html("<div />").children("div"),r={tools:"boolean"==typeof i?void 0:i,toolbarName:n,action:this.action.bind(this),dialog:this.dialog.bind(this)},this.toolbars[n]=new e.spreadsheet.ToolBar(o,r));}}));}(window.kendo);},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("spreadsheet/dialogs.min",["kendo.core.min","kendo.binder.min","kendo.validator.min"],e);}(function(){!function(e){function t(t,n){return e.spreadsheet.formatting.text(t,n);}function n(e,t){var n,o=[],r=[];for(n=0;t.length>n;n++){-1==i.inArray(t[n][e],r)&&(o.push(t[n]),r.push(t[n][e]));}return o;}var i,o,r,a,s,l,c,d,u,h,f,p,m,g,v,_,b,w,y,k,x,C,S,T,D;e.support.browser.msie&&9>e.support.browser.version||(i=e.jQuery,o=e.data.ObservableObject,r=e.spreadsheet.messages.dialogs={apply:"Apply",save:"Save",cancel:"Cancel",remove:"Remove",okText:"OK",formatCellsDialog:{title:"Format",categories:{number:"Number",currency:"Currency",date:"Date"}},fontFamilyDialog:{title:"Font"},fontSizeDialog:{title:"Font size"},bordersDialog:{title:"Borders"},alignmentDialog:{title:"Alignment",buttons:{justtifyLeft:"Align left",justifyCenter:"Center",justifyRight:"Align right",justifyFull:"Justify",alignTop:"Align top",alignMiddle:"Align middle",alignBottom:"Align bottom"}},mergeDialog:{title:"Merge cells",buttons:{mergeCells:"Merge all",mergeHorizontally:"Merge horizontally",mergeVertically:"Merge vertically",unmerge:"Unmerge"}},freezeDialog:{title:"Freeze panes",buttons:{freezePanes:"Freeze panes",freezeRows:"Freeze rows",freezeColumns:"Freeze columns",unfreeze:"Unfreeze panes"}},validationDialog:{title:"Data Validation",hintMessage:"Please enter a valid {0} value {1}.",hintTitle:"Validation {0}",criteria:{any:"Any value",number:"Number",text:"Text",date:"Date",custom:"Custom Formula",list:"List"},comparers:{greaterThan:"greater than",lessThan:"less than",between:"between",notBetween:"not between",equalTo:"equal to",notEqualTo:"not equal to",greaterThanOrEqualTo:"greater than or equal to",lessThanOrEqualTo:"less than or equal to"},comparerMessages:{greaterThan:"greater than {0}",lessThan:"less than {0}",between:"between {0} and {1}",notBetween:"not between {0} and {1}",equalTo:"equal to {0}",notEqualTo:"not equal to {0}",greaterThanOrEqualTo:"greater than or equal to {0}",lessThanOrEqualTo:"less than or equal to {0}",custom:"that satisfies the formula: {0}"},labels:{criteria:"Criteria",comparer:"Comparer",min:"Min",max:"Max",value:"Value",start:"Start",end:"End",onInvalidData:"On invalid data",rejectInput:"Reject input",showWarning:"Show warning",showHint:"Show hint",hintTitle:"Hint title",hintMessage:"Hint message",ignoreBlank:"Ignore blank"},placeholders:{typeTitle:"Type title",typeMessage:"Type message"}},exportAsDialog:{title:"Export...",labels:{scale:"Scale",fit:"Fit to page",fileName:"File name",saveAsType:"Save as type",exportArea:"Export",paperSize:"Paper size",margins:"Margins",orientation:"Orientation",print:"Print",guidelines:"Guidelines",center:"Center",horizontally:"Horizontally",vertically:"Vertically"}},modifyMergedDialog:{errorMessage:"Cannot change part of a merged cell."},overflowDialog:{errorMessage:"Cannot paste, because the copy area and the paste area are not the same size and shape."},useKeyboardDialog:{title:"Copying and pasting",errorMessage:"These actions cannot be invoked through the menu. Please use the keyboard shortcuts instead:",labels:{forCopy:"for copy",forCut:"for cut",forPaste:"for paste"}},unsupportedSelectionDialog:{errorMessage:"That action cannot be performed on multiple selection."},linkDialog:{title:"Hyperlink",labels:{text:"Text",url:"Address",removeLink:"Remove link"}}},a={},e.spreadsheet.dialogs={register:function register(e,t){a[e]=t;},registered:function registered(e){return!!a[e];},create:function create(e,t){var n=a[e];return n?new n(t):void 0;}},s=e.spreadsheet.SpreadsheetDialog=e.Observable.extend({init:function init(t){e.Observable.fn.init.call(this,t),this.options=i.extend(!0,{},this.options,t),this.bind(this.events,t);},events:["close","activate"],options:{autoFocus:!0},dialog:function dialog(){return this._dialog||(this._dialog=i("<div class='k-spreadsheet-window k-action-window' />").addClass(this.options.className||"").append(e.template(this.options.template)({messages:e.spreadsheet.messages.dialogs||r})).appendTo(document.body).kendoWindow({autoFocus:this.options.autoFocus,scrollable:!1,resizable:!1,modal:!0,visible:!1,width:this.options.width||320,title:this.options.title,open:function open(){this.center();},close:this._onDialogClose.bind(this),activate:this._onDialogActivate.bind(this),deactivate:this._onDialogDeactivate.bind(this)}).data("kendoWindow")),this._dialog;},_onDialogClose:function _onDialogClose(){this.trigger("close");},_onDialogActivate:function _onDialogActivate(){this.trigger("activate");},_onDialogDeactivate:function _onDialogDeactivate(){this.trigger("deactivate"),this.destroy();},destroy:function destroy(){this._dialog&&(this._dialog.destroy(),this._dialog=null);},open:function open(){this.dialog().open();},apply:function apply(){this.close();},close:function close(){this.dialog().close();}}),l=e.spreadsheet.FormatCellsViewModel=o.extend({init:function init(e){o.fn.init.call(this,e),this.useCategory(this.category);},useCategory:function useCategory(e){var t=e&&e.type||"number",n="currency"==t;this.category=e,this.set("showCurrencyFilter",n&&this.currencies.length>1),n?this.currency(this.currencies[0]):this.set("formats",this.allFormats[t+"Formats"]),this.useFirstFormat();},useFirstFormat:function useFirstFormat(){this.formats.length&&this.set("format",this.formats[0].value);},currency:function currency(e){var n,i;return void 0!==e&&(this._currency=e,n=e.value,i=[{currency:n,decimals:!0},{currency:n,decimals:!0,iso:!0},{currency:n,decimals:!1}],i=i.map(function(e){return e=l.convert.currency(e),{value:e,name:t(1e3,e)};}),this.set("formats",i),this.useFirstFormat()),this._currency||this.currencies[0];},categoryFilter:function categoryFilter(e){return void 0!==e&&this.useCategory(e),this.category;},preview:function preview(){var e=this.get("format"),n=this.value||0;return e&&e.length?t(n,e):n;}}),l.convert={currency:function currency(e){function t(e,t){return Array(t+1).join(e);}var n=e.currency,i=n.pattern[1];return e.decimals&&(i=i.replace(/n/g,"n"+n["."]+t("0",n.decimals))),i=e.iso?'"'+n.abbr+'" '+i.replace(/\s*\$\s*/g,""):i.replace(/\$/g,n.symbol),i=i.replace(/n/g,"?");},date:function date(e){return /T|Z/.test(e)?"":e.toLowerCase().replace(/tt/g,"AM/PM").replace(/'/g,'"');}},c=s.extend({init:function init(t){var n=e.spreadsheet.messages.dialogs.formatCellsDialog||r,o={title:n.title,categories:[{type:"number",name:n.categories.number},{type:"currency",name:n.categories.currency},{type:"date",name:n.categories.date}]};s.fn.init.call(this,i.extend(o,t)),this._generateFormats();},options:{className:"k-spreadsheet-format-cells",template:"<div class='k-root-tabs' data-role='tabstrip' data-text-field='name' data-bind='source: categories, value: categoryFilter' data-animation='false' /><div class='k-spreadsheet-preview' data-bind='text: preview' /><script type='text/x-kendo-template' id='format-item-template'>\\#: data.name \\#</script><select data-role='dropdownlist' class='k-format-filter' data-text-field='description' data-value-field='value.name' data-bind='visible: showCurrencyFilter, value: currency, source: currencies' /><ul data-role='staticlist' tabindex='0' class='k-list k-reset' data-template='format-item-template' data-value-primitive='true' data-value-field='value' data-bind='source: formats, value: format' /><div class='k-action-buttons'><button class='k-button k-primary' data-bind='click: apply'>#: messages.apply #</button><button class='k-button' data-bind='click: close'>#: messages.cancel #</button></div>"},_generateFormats:function _generateFormats(){var o,r=this.options;r.currencies||(r.currencies=c.currenciesFrom(e.cultures)),r.numberFormats||(r.numberFormats=[{value:"#.00%",name:"100.00%"},{value:"#%",name:"100%"},{value:"#.00",name:"1024.00"},{value:"#,###.00",name:"1,024.00"}]),r.dateFormats||(o=e.cultures.current.calendars.standard.patterns,r.dateFormats=n("value",i.map(o,function(e){return(e=l.convert.date(e))?{value:e,name:t(34567.7678,e)}:void 0;})));},open:function open(t){var n,i,o=this.options,r=t.value(),a=o.categories.slice(0);this.viewModel=new l({currencies:o.currencies.slice(0),allFormats:{numberFormats:o.numberFormats.slice(0),dateFormats:o.dateFormats.slice(0)},categories:a,format:t.format(),category:r instanceof Date?a[2]:a[0],apply:this.apply.bind(this),close:this.close.bind(this),value:r}),s.fn.open.call(this),n=this.dialog().element,e.bind(n,this.viewModel),i=n.find("select.k-format-filter").data("kendoDropDownList"),o.currencies.length>10&&i.setOptions({filter:"contains"}),n.find(e.roleSelector("staticlist")).parent().addClass("k-list-wrapper");},apply:function apply(){var e=this.viewModel.format;s.fn.apply.call(this),this.trigger("action",{command:"PropertyChangeCommand",options:{property:"format",value:e}});}}),c.currenciesFrom=function(t){return n("description",i.map(t,function(t,n){var i,o;if(/-/.test(n))return i=t.numberFormat.currency,o=e.format("{0} ({1}, {2})",i.name,i.abbr,i.symbol),{description:o,value:i};}));},e.spreadsheet.dialogs.register("formatCells",c),e.spreadsheet.dialogs.FormatCellsDialog=c,d=s.extend({options:{className:"k-spreadsheet-message",title:"",messageId:"",text:"",template:"<div class='k-spreadsheet-message-content' data-bind='text: text' /><div class='k-action-buttons'><button class='k-button k-primary' data-bind='click: close'>#= messages.okText #</button></div>"},open:function open(){var t,n;s.fn.open.call(this),t=this.options,n=t.text,t.messageId&&(n=e.getter(t.messageId,!0)(e.spreadsheet.messages.dialogs)),e.bind(this.dialog().element,{text:n,close:this.close.bind(this)});}}),e.spreadsheet.dialogs.register("message",d),u=s.extend({init:function init(t){var n=e.spreadsheet.messages.dialogs.fontFamilyDialog||r;s.fn.init.call(this,i.extend({title:n.title},t)),this._list();},options:{template:"<ul class='k-list k-reset'></ul>"},_list:function _list(){var t=this.dialog().element.find("ul"),n=this.options.fonts,i=this.options.defaultFont;this.list=new e.ui.StaticList(t,{dataSource:new e.data.DataSource({data:n}),template:"#: data #",value:i,change:this.apply.bind(this)}),this.list.dataSource.fetch();},apply:function apply(e){s.fn.apply.call(this),this.trigger("action",{command:"PropertyChangeCommand",options:{property:"fontFamily",value:e.sender.value()[0]}});}}),e.spreadsheet.dialogs.register("fontFamily",u),h=s.extend({init:function init(t){var n=e.spreadsheet.messages.dialogs.fontSizeDialog||r;s.fn.init.call(this,i.extend({title:n.title},t)),this._list();},options:{template:"<ul class='k-list k-reset'></ul>"},_list:function _list(){var t=this.dialog().element.find("ul"),n=this.options.sizes,i=this.options.defaultSize;this.list=new e.ui.StaticList(t,{dataSource:new e.data.DataSource({data:n}),template:"#: data #",value:i,change:this.apply.bind(this)}),this.list.dataSource.fetch();},apply:function apply(t){s.fn.apply.call(this),this.trigger("action",{command:"PropertyChangeCommand",options:{property:"fontSize",value:e.parseInt(t.sender.value()[0])}});}}),e.spreadsheet.dialogs.register("fontSize",h),f=s.extend({init:function init(t){var n=e.spreadsheet.messages.dialogs.bordersDialog||r;s.fn.init.call(this,i.extend({title:n.title},t)),this.element=this.dialog().element,this._borderPalette(),this.viewModel=e.observable({apply:this.apply.bind(this),close:this.close.bind(this)}),e.bind(this.element.find(".k-action-buttons"),this.viewModel);},options:{width:177,template:"<div></div><div class='k-action-buttons'><button class='k-button k-primary' data-bind='click: apply'>#: messages.apply #</button><button class='k-button' data-bind='click: close'>#: messages.cancel #</button></div>"},apply:function apply(){s.fn.apply.call(this);var e=this.value();this.trigger("action",{command:"BorderChangeCommand",options:{border:e.type,style:{size:1,color:e.color}}});},_borderPalette:function _borderPalette(){var t=this.dialog().element.find("div:first");this.borderPalette=new e.spreadsheet.BorderPalette(t,{change:this.value.bind(this)});},value:function value(e){return void 0===e?this._state:void(this._state=e);}}),e.spreadsheet.dialogs.register("borders",f),p=s.extend({init:function init(t){s.fn.init.call(this,t),this.element=this.dialog().element,this.property=t.property,this.options.title=t.title,this.viewModel=e.observable({apply:this.apply.bind(this),close:this.close.bind(this)}),e.bind(this.element.find(".k-action-buttons"),this.viewModel);},options:{template:"<div></div><div class='k-action-buttons'><button class='k-button k-primary' data-bind='click: apply'>#: messages.apply #</button><button class='k-button' data-bind='click: close'>#: messages.cancel #</button></div>"},apply:function apply(){s.fn.apply.call(this),this.trigger("action",{command:"PropertyChangeCommand",options:{property:this.property,value:this.value()}});},value:function value(e){return void 0===e?this._value:void(this._value=e.value);}}),m=p.extend({init:function init(e){e.width=177,p.fn.init.call(this,e),this._colorPalette();},_colorPalette:function _colorPalette(){var e=this.dialog().element.find("div:first");this.colorPalette=e.kendoColorPalette({palette:["#ffffff","#000000","#d6ecff","#4e5b6f","#7fd13b","#ea157a","#feb80a","#00addc","#738ac8","#1ab39f","#f2f2f2","#7f7f7f","#a7d6ff","#d9dde4","#e5f5d7","#fad0e4","#fef0cd","#c5f2ff","#e2e7f4","#c9f7f1","#d8d8d8","#595959","#60b5ff","#b3bcca","#cbecb0","#f6a1c9","#fee29c","#8be6ff","#c7d0e9","#94efe3","#bfbfbf","#3f3f3f","#007dea","#8d9baf","#b2e389","#f272af","#fed46b","#51d9ff","#aab8de","#5fe7d5","#a5a5a5","#262626","#003e75","#3a4453","#5ea226","#af0f5b","#c58c00","#0081a5","#425ea9","#138677","#7f7f7f","#0c0c0c","#00192e","#272d37","#3f6c19","#750a3d","#835d00","#00566e","#2c3f71","#0c594f"],change:this.value.bind(this)}).data("kendoColorPalette");}}),e.spreadsheet.dialogs.register("colorPicker",m),g=p.extend({init:function init(e){e.width=268,p.fn.init.call(this,e),this.dialog().setOptions({animation:!1}),this.dialog().one("activate",this._colorPicker.bind(this));},_colorPicker:function _colorPicker(){var e=this.dialog().element.find("div:first");this.colorPicker=e.kendoFlatColorPicker({change:this.value.bind(this)}).data("kendoFlatColorPicker");}}),e.spreadsheet.dialogs.register("customColor",g),v=s.extend({init:function init(t){var n=e.spreadsheet.messages.dialogs.alignmentDialog||r,o={title:n.title,buttons:[{property:"textAlign",value:"left",iconClass:"justify-left",text:n.buttons.justtifyLeft},{property:"textAlign",value:"center",iconClass:"justify-center",text:n.buttons.justifyCenter},{property:"textAlign",value:"right",iconClass:"justify-right",text:n.buttons.justifyRight},{property:"textAlign",value:"justify",iconClass:"justify-full",text:n.buttons.justifyFull},{property:"verticalAlign",value:"top",iconClass:"align-top",text:n.buttons.alignTop},{property:"verticalAlign",value:"center",iconClass:"align-middle",text:n.buttons.alignMiddle},{property:"verticalAlign",value:"bottom",iconClass:"align-bottom",text:n.buttons.alignBottom}]};s.fn.init.call(this,i.extend(o,t)),this._list();},options:{template:"<ul class='k-list k-reset'></ul>"},_list:function _list(){var t=this.dialog().element.find("ul");this.list=new e.ui.StaticList(t,{dataSource:new e.data.DataSource({data:this.options.buttons}),template:"<a title='#=text#' data-property='#=property#' data-value='#=value#'><span class='k-icon k-font-icon k-i-#=iconClass#'></span>#=text#</a>",change:this.apply.bind(this)}),this.list.dataSource.fetch();},apply:function apply(e){var t=e.sender.value()[0];s.fn.apply.call(this),this.trigger("action",{command:"PropertyChangeCommand",options:{property:t.property,value:t.value}});}}),e.spreadsheet.dialogs.register("alignment",v),_=s.extend({init:function init(t){var n=e.spreadsheet.messages.dialogs.mergeDialog||r,o={title:n.title,buttons:[{value:"cells",iconClass:"merge-cells",text:n.buttons.mergeCells},{value:"horizontally",iconClass:"merge-horizontally",text:n.buttons.mergeHorizontally},{value:"vertically",iconClass:"merge-vertically",text:n.buttons.mergeVertically},{value:"unmerge",iconClass:"normal-layout",text:n.buttons.unmerge}]};s.fn.init.call(this,i.extend(o,t)),this._list();},options:{template:"<ul class='k-list k-reset'></ul>"},_list:function _list(){var t=this.dialog().element.find("ul");this.list=new e.ui.StaticList(t,{dataSource:new e.data.DataSource({data:this.options.buttons}),template:"<a title='#=text#' data-value='#=value#'><span class='k-icon k-font-icon k-i-#=iconClass#'></span>#=text#</a>",change:this.apply.bind(this)}),this.list.dataSource.fetch();},apply:function apply(e){var t=e.sender.value()[0];s.fn.apply.call(this),this.trigger("action",{command:"MergeCellCommand",options:{value:t.value}});}}),e.spreadsheet.dialogs.register("merge",_),b=s.extend({init:function init(t){var n=e.spreadsheet.messages.dialogs.freezeDialog||r,o={title:n.title,buttons:[{value:"panes",iconClass:"freeze-panes",text:n.buttons.freezePanes},{value:"rows",iconClass:"freeze-row",text:n.buttons.freezeRows},{value:"columns",iconClass:"freeze-col",text:n.buttons.freezeColumns},{value:"unfreeze",iconClass:"normal-layout",text:n.buttons.unfreeze}]};s.fn.init.call(this,i.extend(o,t)),this._list();},options:{template:"<ul class='k-list k-reset'></ul>"},_list:function _list(){var t=this.dialog().element.find("ul");this.list=new e.ui.StaticList(t,{dataSource:new e.data.DataSource({data:this.options.buttons}),template:"<a title='#=text#' data-value='#=value#'><span class='k-icon k-font-icon k-i-#=iconClass#'></span>#=text#</a>",change:this.apply.bind(this)}),this.list.dataSource.fetch();},apply:function apply(e){var t=e.sender.value()[0];s.fn.apply.call(this),this.trigger("action",{command:"FreezePanesCommand",options:{value:t.value}});}}),e.spreadsheet.dialogs.register("freeze",b),w=e.spreadsheet.ValidationCellsViewModel=o.extend({init:function init(e){o.fn.init.call(this,e),this.bind("change",function(e){"criterion"===e.field&&(this.reset(),"custom"!==this.criterion&&"list"!==this.criterion||this.setHintMessageTemplate()),"comparer"===e.field&&this.setHintMessageTemplate(),"hintMessage"!=e.field&&"hintTitle"!=e.field||this._mute||(this.shouldBuild=!1),"from"!=e.field&&"to"!=e.field&&"hintMessageTemplate"!=e.field&&"type"!=e.field||!this.shouldBuild||this.buildMessages();}.bind(this)),this.reset();},buildMessages:function buildMessages(){this._mute=!0,this.set("hintTitle",this.hintTitleTemplate?e.format(this.hintTitleTemplate,this.type):""),this.set("hintMessage",this.hintMessageTemplate?e.format(this.hintMessageTemplate,this.from,this.to):""),this._mute=!1;},reset:function reset(){this.setComparers(),this.set("comparer",this.comparers[0].type),this.set("from",null),this.set("to",null),this.set("useCustomMessages",!1),this.shouldBuild=!0,this.hintTitleTemplate=this.defaultHintTitle,this.buildMessages();},setComparers:function setComparers(){var e,t,n=this.defaultComparers,i=[];if("text"===this.criterion)for(e=["equalTo","notEqualTo"],t=0;n.length>t;t++){e[0]==n[t].type&&(i.push(n[t]),e.shift());}else i=n.slice();this.set("comparers",i);},setHintMessageTemplate:function setHintMessageTemplate(){"custom"!==this.criterion&&"list"!==this.criterion?this.set("hintMessageTemplate",e.format(this.defaultHintMessage,this.criterion,this.comparerMessages[this.comparer])):(this.set("hintMessageTemplate",""),this.set("hintMessage",""));},isAny:function isAny(){return"any"===this.get("criterion");},isNumber:function isNumber(){return"number"===this.get("criterion");},showToForNumber:function showToForNumber(){return this.showTo()&&this.isNumber();},showToForDate:function showToForDate(){return this.showTo()&&this.isDate();},isText:function isText(){return"text"===this.get("criterion");},isDate:function isDate(){return"date"===this.get("criterion");},isList:function isList(){return"list"===this.get("criterion");},isCustom:function isCustom(){return"custom"===this.get("criterion");},showRemove:function showRemove(){return this.get("hasValidation");},showTo:function showTo(){return"between"==this.get("comparer")||"notBetween"==this.get("comparer");},update:function update(e){this.set("hasValidation",!!e),e&&this.fromValidationObject(e);},fromValidationObject:function fromValidationObject(e){this.set("criterion",e.dataType),this.set("comparer",e.comparerType),this.set("from",e.from),this.set("to",e.to),this.set("type",e.type),this.set("ignoreBlank",e.allowNulls),e.messageTemplate||e.titleTemplate?(this.hintMessageTemplate=e.messageTemplate,this.hintMessage=e.messageTemplate,this.hintTitleTemplate=e.titleTemplate,this.hintTitle=e.titleTemplate,this.useCustomMessages=!0,this.buildMessages()):this.useCustomMessages=!1;},toValidationObject:function toValidationObject(){if("any"===this.criterion)return null;var e={type:this.type,dataType:this.criterion,comparerType:this.comparer,from:this.from,to:this.to,allowNulls:this.ignoreBlank};return this.useCustomMessages&&(e.messageTemplate=this.shouldBuild?this.hintMessageTemplate:this.hintMessage,e.titleTemplate=this.hintTitle),e;}}),y=s.extend({init:function init(t){var n=e.spreadsheet.messages.dialogs.validationDialog||r,o={title:n.title,hintMessage:n.hintMessage,hintTitle:n.hintTitle,criteria:[{type:"any",name:n.criteria.any},{type:"number",name:n.criteria.number},{type:"text",name:n.criteria.text},{type:"date",name:n.criteria.date},{type:"custom",name:n.criteria.custom},{type:"list",name:n.criteria.list}],comparers:[{type:"greaterThan",name:n.comparers.greaterThan},{type:"lessThan",name:n.comparers.lessThan},{type:"between",name:n.comparers.between},{type:"notBetween",name:n.comparers.notBetween},{type:"equalTo",name:n.comparers.equalTo},{type:"notEqualTo",name:n.comparers.notEqualTo},{type:"greaterThanOrEqualTo",name:n.comparers.greaterThanOrEqualTo},{type:"lessThanOrEqualTo",name:n.comparers.lessThanOrEqualTo}],comparerMessages:n.comparerMessages};s.fn.init.call(this,i.extend(o,t));},options:{width:420,criterion:"any",type:"reject",ignoreBlank:!0,useCustomMessages:!1,errorTemplate:'<div class="k-widget k-tooltip k-tooltip-validation" style="margin:0.5em"><span class="k-icon k-warning"> </span>#= message #<div class="k-callout k-callout-n"></div></div>',template:'<div class="k-edit-form-container"><div class="k-edit-label"><label>#: messages.validationDialog.labels.criteria #:</label></div><div class="k-edit-field"><select data-role="dropdownlist" data-text-field="name" data-value-field="type" data-bind="value: criterion, source: criteria" /></div><div data-bind="visible: isNumber"><div class="k-edit-label"><label>#: messages.validationDialog.labels.comparer #:</label></div><div class="k-edit-field"><select data-role="dropdownlist" data-text-field="name" data-value-field="type" data-bind="value: comparer, source: comparers" /></div><div class="k-edit-label"><label>#: messages.validationDialog.labels.min #:</label></div><div class="k-edit-field"><input name="#: messages.validationDialog.labels.min #" placeholder="e.g. 10" class="k-textbox" data-bind="value: from, enabled: isNumber" required="required" /></div><div data-bind="visible: showTo"><div class="k-edit-label"><label>#: messages.validationDialog.labels.max #:</label></div><div class="k-edit-field"><input name="#: messages.validationDialog.labels.max #" placeholder="e.g. 100" class="k-textbox" data-bind="value: to, enabled: showToForNumber" required="required" /></div></div></div><div data-bind="visible: isText"><div class="k-edit-label"><label>#: messages.validationDialog.labels.comparer #:</label></div><div class="k-edit-field"><select data-role="dropdownlist" data-text-field="name" data-value-field="type" data-bind="value: comparer, source: comparers" /></div><div class="k-edit-label"><label>#: messages.validationDialog.labels.value #:</label></div><div class="k-edit-field"><input name="#: messages.validationDialog.labels.value #" class="k-textbox" data-bind="value: from, enabled: isText" required="required" /></div></div><div data-bind="visible: isDate"><div class="k-edit-label"><label>#: messages.validationDialog.labels.comparer #:</label></div><div class="k-edit-field"><select data-role="dropdownlist" data-text-field="name" data-value-field="type" data-bind="value: comparer, source: comparers" /></div><div class="k-edit-label"><label>#: messages.validationDialog.labels.start #:</label></div><div class="k-edit-field"><input name="#: messages.validationDialog.labels.start #" class="k-textbox" data-bind="value: from, enabled: isDate" required="required" /></div><div data-bind="visible: showTo"><div class="k-edit-label"><label>#: messages.validationDialog.labels.end #:</label></div><div class="k-edit-field"><input name="#: messages.validationDialog.labels.end #" class="k-textbox" data-bind="value: to, enabled: showToForDate" required="required" /></div></div></div><div data-bind="visible: isCustom"><div class="k-edit-label"><label>#: messages.validationDialog.labels.value #:</label></div><div class="k-edit-field"><input name="#: messages.validationDialog.labels.value #" class="k-textbox" data-bind="value: from, enabled: isCustom" required="required" /></div></div><div data-bind="visible: isList"><div class="k-edit-label"><label>#: messages.validationDialog.labels.value #:</label></div><div class="k-edit-field"><input name="#: messages.validationDialog.labels.value #" class="k-textbox" data-bind="value: from, enabled: isList" required="required" /></div></div><div data-bind="invisible: isAny"><div class="k-edit-label"><label>#: messages.validationDialog.labels.ignoreBlank #:</label></div><div class="k-edit-field"><input type="checkbox" name="ignoreBlank" id="ignoreBlank" class="k-checkbox" data-bind="checked: ignoreBlank"/><label class="k-checkbox-label" for="ignoreBlank"></label></div></div><div data-bind="invisible: isAny"><div class="k-action-buttons"></div><div class="k-edit-label"><label>#: messages.validationDialog.labels.onInvalidData #:</label></div><div class="k-edit-field"><input type="radio" id="validationTypeReject" name="validationType" value="reject" data-bind="checked: type" class="k-radio" /><label for="validationTypeReject" class="k-radio-label">#: messages.validationDialog.labels.rejectInput #</label> <input type="radio" id="validationTypeWarning" name="validationType" value="warning" data-bind="checked: type" class="k-radio" /><label for="validationTypeWarning" class="k-radio-label">#: messages.validationDialog.labels.showWarning #</label></div></div><div data-bind="invisible: isAny"><div class="k-edit-label"><label>#: messages.validationDialog.labels.showHint #:</label></div><div class="k-edit-field"><input type="checkbox" name="useCustomMessages" id="useCustomMessages" class="k-checkbox" data-bind="checked: useCustomMessages" /><label class="k-checkbox-label" for="useCustomMessages"></label></div><div data-bind="visible: useCustomMessages"><div class="k-edit-label"><label>#: messages.validationDialog.labels.hintTitle #:</label></div><div class="k-edit-field"><input class="k-textbox" placeholder="#: messages.validationDialog.placeholders.typeTitle #" data-bind="value: hintTitle" /></div><div class="k-edit-label"><label>#: messages.validationDialog.labels.hintMessage #:</label></div><div class="k-edit-field"><input class="k-textbox" placeholder="#: messages.validationDialog.placeholders.typeMessage #" data-bind="value: hintMessage" /></div></div></div><div class="k-action-buttons"><button class="k-button" data-bind="visible: showRemove, click: remove">#: messages.remove #</button><button class="k-button k-primary" data-bind="click: apply">#: messages.apply #</button><button class="k-button" data-bind="click: close">#: messages.cancel #</button></div></div>'},open:function open(t){var n,i=this.options;this.viewModel=new w({type:i.type,defaultHintMessage:i.hintMessage,defaultHintTitle:i.hintTitle,defaultComparers:i.comparers.slice(0),comparerMessages:i.comparerMessages,criteria:i.criteria.slice(0),criterion:i.criterion,ignoreBlank:i.ignoreBlank,apply:this.apply.bind(this),close:this.close.bind(this),remove:this.remove.bind(this)}),this.viewModel.update(t.validation()),s.fn.open.call(this),n=this.dialog().element,this.validatable&&this.validatable.destroy(),e.bind(n,this.viewModel),this.validatable=new e.ui.Validator(n.find(".k-edit-form-container"),{validateOnBlur:!1,errorTemplate:this.options.errorTemplate||void 0});},apply:function apply(){this.validatable.validate()&&(s.fn.apply.call(this),this.trigger("action",{command:"EditValidationCommand",options:{value:this.viewModel.toValidationObject()}}));},remove:function remove(){this.viewModel.set("criterion","any"),this.apply();}}),e.spreadsheet.dialogs.register("validation",y),e.spreadsheet.dialogs.ValidationDialog=y,k=s.extend({init:function init(t){var n=e.spreadsheet.messages.dialogs.exportAsDialog||r;s.fn.init.call(this,i.extend({title:n.title},t)),this.viewModel=e.observable({title:this.options.title,name:this.options.name,extension:this.options.extension,fileFormats:this.options.fileFormats,excel:t.excelExport,pdf:{proxyURL:t.pdfExport.proxyURL,forceProxy:t.pdfExport.forceProxy,title:t.pdfExport.title,author:t.pdfExport.author,subject:t.pdfExport.subject,keywords:t.pdfExport.keywords,creator:t.pdfExport.creator,date:t.pdfExport.date,fitWidth:this.options.pdf.fitWidth,area:this.options.pdf.area,areas:this.options.pdf.areas,paperSize:this.options.pdf.paperSize,paperSizes:this.options.pdf.paperSizes,margin:this.options.pdf.margin,margins:this.options.pdf.margins,landscape:this.options.pdf.landscape,guidelines:this.options.pdf.guidelines,hCenter:this.options.pdf.hCenter,vCenter:this.options.pdf.vCenter},apply:this.apply.bind(this),close:this.close.bind(this)}),this.viewModel.bind("change",function(e){"extension"===e.field&&this.set("showPdfOptions",".pdf"===this.extension);}),e.bind(this.dialog().element,this.viewModel);},options:{name:"Workbook",extension:".xlsx",fileFormats:[{description:"Excel Workbook (.xlsx)",extension:".xlsx"},{description:"Portable Document Format(.pdf)",extension:".pdf"}],pdf:{fitWidth:!0,area:"workbook",areas:[{area:"workbook",text:"Entire Workbook"},{area:"sheet",text:"Active Sheet"},{area:"selection",text:"Selection"}],paperSize:"a4",paperSizes:[{value:"a2",text:"A2 (420 mm  594 mm)     "},{value:"a3",text:"A3 (297 mm x 420 mm)     "},{value:"a4",text:"A4 (210 mm x 297 mm)     "},{value:"a5",text:"A5 (148 mm x 210 mm)     "},{value:"b3",text:"B3 (353 mm  500 mm)     "},{value:"b4",text:"B4 (250 mm x 353 mm)     "},{value:"b5",text:"B5 (176 mm x 250 mm)     "},{value:"folio",text:'Folio (8.5" x 13")       '},{value:"legal",text:'Legal (8.5" x 14")       '},{value:"letter",text:'Letter (8.5" x 11")      '},{value:"tabloid",text:'Tabloid (11" x 17")      '},{value:"executive",text:'Executive (7.25" x 10.5")'}],margin:{bottom:"0.75in",left:"0.7in",right:"0.7in",top:"0.75in"},margins:[{value:{bottom:"0.75in",left:"0.7in",right:"0.7in",top:"0.75in"},text:"Normal"},{value:{bottom:"0.75in",left:"0.25in",right:"0.25in",top:"0.75in"},text:"Narrow"},{value:{bottom:"1in",left:"1in",right:"1in",top:"1in"},text:"Wide"}],landscape:!0,guidelines:!0,hCenter:!0,vCenter:!0},width:520,template:"<div class='k-edit-label'><label>#: messages.exportAsDialog.labels.fileName #:</label></div><div class='k-edit-field'><input class='k-textbox' data-bind='value: name' /></div><div ><div class='k-edit-label'><label>#: messages.exportAsDialog.labels.saveAsType #:</label></div><div class='k-edit-field'><select data-role='dropdownlist' class='k-file-format' data-text-field='description' data-value-field='extension' data-bind='value: extension, source: fileFormats' /></div></div><div class='export-config' data-bind='visible: showPdfOptions'><div class='k-edit-label'><label>#: messages.exportAsDialog.labels.exportArea #:</label></div><div class='k-edit-field'><select data-role='dropdownlist' class='k-file-format' data-text-field='text' data-value-field='area' data-bind='value: pdf.area, source: pdf.areas' /></div><div class='k-edit-label'><label>#: messages.exportAsDialog.labels.paperSize#:</label></div><div class='k-edit-field'><select data-role='dropdownlist' class='k-file-format' data-text-field='text' data-value-field='value' data-bind='value: pdf.paperSize, source: pdf.paperSizes' /></div><div class='k-edit-label'><label>#: messages.exportAsDialog.labels.margins #:</label></div><div class='k-edit-field'><select data-role='dropdownlist' class='k-file-format' data-value-primitive='true'data-text-field='text' data-value-field='value' data-bind='value: pdf.margin, source: pdf.margins' /></div><div class='k-edit-label'><label>#: messages.exportAsDialog.labels.orientation #:</label></div><div class='k-edit-field'><input type='radio' id='k-orientation-portrait' name='orientation' data-type='boolean' data-bind='checked: pdf.landscape' value='false' /><label class='k-orientation-label k-orientation-portrait-label' for='k-orientation-portrait'></label><input type='radio' id='k-orientation-landscape' name='orientation' data-type='boolean' data-bind='checked: pdf.landscape' value='true' /><label class='k-orientation-label k-orientation-landscape-label' for='k-orientation-landscape'></label></div><div class='k-edit-label'><label>#: messages.exportAsDialog.labels.print #:</label></div><div class='k-edit-field'><input class='k-checkbox' id='guidelines' type='checkbox' data-bind='checked: pdf.guidelines'/><label class='k-checkbox-label' for='guidelines'>#: messages.exportAsDialog.labels.guidelines#</label></div><div class='k-edit-label'><label>#: messages.exportAsDialog.labels.scale #:</label></div><div class='k-edit-field'><input class='k-checkbox' id='fitWidth' type='checkbox' data-bind='checked: pdf.fitWidth'/><label class='k-checkbox-label' for='fitWidth'>#: messages.exportAsDialog.labels.fit #</label></div><div class='k-edit-label'><label>#: messages.exportAsDialog.labels.center #:</label></div><div class='k-edit-field'><input class='k-checkbox' id='hCenter' type='checkbox' data-bind='checked: pdf.hCenter'/><label class='k-checkbox-label' for='hCenter'>#: messages.exportAsDialog.labels.horizontally #</label><input class='k-checkbox' id='vCenter' type='checkbox' data-bind='checked: pdf.vCenter'/><label class='k-checkbox-label' for='vCenter'>#: messages.exportAsDialog.labels.vertically #</label></div><div class='k-page-orientation' data-bind='css: {k-page-landscape: pdf.landscape}'><div class='k-margins-horizontal'></div><div class='k-margins-vertical'></div></div></div><div class='k-action-buttons'><button class='k-button k-primary' data-bind='click: apply'>#: messages.save #</button><button class='k-button' data-bind='click: close'>#: messages.cancel #</button></div>"},apply:function apply(){s.fn.apply.call(this),this.trigger("action",{command:"SaveAsCommand",options:this.viewModel});}}),e.spreadsheet.dialogs.register("exportAs",k),x=d.extend({options:{messageId:"modifyMergedDialog.errorMessage"}}),e.spreadsheet.dialogs.register("modifyMerged",x),C=d.extend({options:{messageId:"overflowDialog.errorMessage"}}),e.spreadsheet.dialogs.register("overflow",C),S=d.extend({init:function init(t){var n=e.spreadsheet.messages.dialogs.useKeyboardDialog||r;s.fn.init.call(this,i.extend({title:n.title},t));},options:{template:"#: messages.useKeyboardDialog.errorMessage #<div>Ctrl+C #: messages.useKeyboardDialog.labels.forCopy #</div><div>Ctrl+X #: messages.useKeyboardDialog.labels.forCut #</div><div>Ctrl+V #: messages.useKeyboardDialog.labels.forPaste #</div><div class=\"k-action-buttons\"><button class='k-button k-primary' data-bind='click: close'>#= messages.okText #</button></div>"}}),e.spreadsheet.dialogs.register("useKeyboard",S),T=d.extend({options:{messageId:"unsupportedSelectionDialog.errorMessage"}}),e.spreadsheet.dialogs.register("unsupportedSelection",T),D=s.extend({options:{template:"<div class='k-edit-label'><label>#: messages.linkDialog.labels.url #:</label></div><div class='k-edit-field'><input class='k-textbox' data-bind='value: url' /></div><div class='k-action-buttons'><button style='float: left' class='k-button' data-bind='click: remove'>#= messages.linkDialog.labels.removeLink #</button><button class='k-button k-primary' data-bind='click: apply'>#= messages.okText #</button><button class='k-button' data-bind='click: cancel'>#= messages.cancel #</button></div>",title:r.linkDialog.title,autoFocus:!1},open:function open(t){var n,o,r=this;s.fn.open.apply(r,arguments),n=r.dialog().element,o=e.observable({url:t.link(),apply:function apply(){/\S/.test(o.url)||(o.url=null),r.trigger("action",{command:"HyperlinkCommand",options:{link:o.url}}),r.close();},remove:function remove(){o.url=null,o.apply();},cancel:r.close.bind(r)}),e.bind(n,o),n.find("input").focus().on("keydown",function(e){13==e.keyCode?(o.url=i(this).val(),e.stopPropagation(),e.preventDefault(),o.apply()):27==e.keyCode&&(e.stopPropagation(),e.preventDefault(),o.cancel());});}}),e.spreadsheet.dialogs.register("hyperlink",D));}(window.kendo);},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("spreadsheet/sheetbinder.min",["kendo.core.min","kendo.data.min","spreadsheet/sheet.min"],e);}(function(){!function(e){var t,n;e.support.browser.msie&&9>e.support.browser.version||(t=function t(e){return e;},n=e.Class.extend({init:function init(e){this.options=$.extend({},this.options,e),this.columns=this._normalizeColumns(this.options.columns),this._sheet(),this._dataSource(),this._header(),this._boundRowsCount=0,this.dataSource.fetch();},_sheet:function _sheet(){this.sheet=this.options.sheet,this._sheetChangeHandler=this._sheetChange.bind(this),this.sheet.bind("change",this._sheetChangeHandler);},_sheetInsertRow:function _sheetInsertRow(e){void 0!==e.index&&this.dataSource.insert(Math.max(e.index-1,0),{});},_sheetDeleteRow:function _sheetDeleteRow(e){var t,n;void 0!==e.index&&(t=this.dataSource,n=t.view()[e.index-1],n&&t.remove(n));},_header:function _header(){this.sheet.batch(function(){this.columns.forEach(function(e,t){this.sheet.range(0,t).value(e.title);}.bind(this));}.bind(this));},_sheetChange:function _sheetChange(n){var i,o,r,a,s,l;n.insertRow?this._sheetInsertRow(n.insertRow):n.deleteRow?this._sheetDeleteRow(n.deleteRow):n.recalc&&n.ref&&(i=this.dataSource,o=i.view(),r=this.columns,i.reader.model&&(a=i.reader.model.fields),!r.length&&o.length&&(r=Object.keys(o[0].toJSON())),s=r.map(function(n){var i=n.field;return i&&a&&a[i]&&"date"==a[i].type?e.spreadsheet.numberToDate:t;}),this._skipRebind=!0,l=this.sheet.range(n.ref).values(),n.ref.forEach(function(e){var t,n,a,c,d;for(e=e.toRangeRef(),n=0,a=e.topLeft.row;e.bottomRight.row>=a;a++){for(t=o[a-1],t||(t=i.insert(a-1,{}),o=i.view()),c=0,d=e.topLeft.col;e.bottomRight.col>=d&&r.length>d;d++){t.set(r[d].field,s[d](l[n][c++]));}n++;}}),this._boundRowsCount=i.view().length,this._skipRebind=!1);},_normalizeColumns:function _normalizeColumns(e){return e.map(function(e){var t=e.field||e;return{field:t,title:e.title||t};});},_dataSource:function _dataSource(){var t=this.options,n=t.dataSource;n=Array.isArray(n)?{data:n}:n,this.dataSource&&this._changeHandler?this.dataSource.unbind("change",this._changeHandler):this._changeHandler=this._change.bind(this),this.dataSource=e.data.DataSource.create(n).bind("change",this._changeHandler);},_change:function _change(){var t,n,i;this._skipRebind||(t=this.dataSource.view(),n=this.columns,!n.length&&t.length&&(this.columns=n=this._normalizeColumns(Object.keys(t[0].toJSON())),this._header()),i=n.map(function(t){return e.getter(t.field);}),this.sheet.batch(function(){var e,n,o,r=Math.max(t.length,this._boundRowsCount);for(e=0;r>e;e++){for(n=0;i.length>n;n++){o=t[e]?i[n](t[e]):null,this.sheet.range(e+1,n).value(o);}}}.bind(this)),this._boundRowsCount=t.length);},destroy:function destroy(){this.dataSource.unbind("change",this._changeHandler),this.sheet.unbind("change",this._sheetChangeHandler);},options:{columns:[]}}),e.spreadsheet.SheetDataSourceBinder=n);}(kendo);},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("spreadsheet/filtermenu.min",["kendo.core.min","kendo.popup.min","kendo.treeview.min","kendo.numerictextbox.min","kendo.datepicker.min","kendo.datetimepicker.min"],e);}(function(){!function(e){function t(e){var t,n={},i=[];for(t=0;e.length>t;t++){n[e[t].value]?!n[e[t].value].checked&&e[t].checked&&(n[e[t].value].checked=!0):(n[e[t].value]=e[t],i.push(e[t]));}return i;}function n(t,i){var o,r,a,s,l,c=!1,d=t instanceof e.data.HierarchicalDataSource&&t.data();for(o=0;d.length>o;o++){r=d[o],a=(""+r.text).toLowerCase(),s=i===!0||""===i||a.indexOf(i)>=0,l=n(r.children,s||i),c=c||l||s,r.hidden=!s&&!l,r.checked=!r.hidden;}return d&&t.filter({field:"hidden",operator:"neq",value:!0}),c;}function i(t){var n,o,r=t instanceof e.data.HierarchicalDataSource&&t.data();for(n=0;r.length>n;n++){o=r[n],o.checked=!1,o.hasChildren&&i(o.children);}}function o(e){var t,n,i=c.operators,o=[];for(t in e){if(e.hasOwnProperty(t))for(n in e[t]){e[t].hasOwnProperty(n)&&o.push({text:i[t][n],value:n,unique:t+"_"+n,type:t});}}return o;}var r,a,s,l,c,d,u,h,f;e.support.browser.msie&&9>e.support.browser.version||(r=e.jQuery,a=e.ui.Widget,s={details:"k-details",button:"k-button",detailsSummary:"k-details-summary",detailsContent:"k-details-content",icon:"k-icon k-font-icon",iconCollapse:"k-i-collapse-se",iconExpand:"k-i-expand-e",iconSearch:"k-i-search",textbox:"k-textbox",wrapper:"k-spreadsheet-filter-menu",filterByCondition:"k-spreadsheet-condition-filter",filterByValue:"k-spreadsheet-value-filter",valuesTreeViewWrapper:"k-spreadsheet-value-treeview-wrapper",actionButtons:"k-action-buttons"},l=a.extend({init:function init(t,n){a.fn.init.call(this,t,n),this.element.addClass(f.classNames.details),this._summary=this.element.find("."+f.classNames.detailsSummary).on("click",this._toggle.bind(this));var i=n.expanded?f.classNames.iconCollapse:f.classNames.iconExpand;this._icon=r("<span />",{"class":f.classNames.icon+" "+i}).prependTo(this._summary),this._container=e.wrap(this._summary.next(),!0),n.expanded||this._container.hide();},options:{name:"Details"},events:["toggle"],visible:function visible(){return this.options.expanded;},toggle:function toggle(t){var n=e.fx(this._container).expand("vertical");n.stop()[t?"reverse":"play"](),this._icon.toggleClass(f.classNames.iconExpand,t).toggleClass(f.classNames.iconCollapse,!t),this.options.expanded=!t;},_toggle:function _toggle(){var e=this.visible();this.toggle(e),this.trigger("toggle",{show:e});}}),c=e.spreadsheet.messages.filterMenu={sortAscending:"Sort range A to Z",sortDescending:"Sort range Z to A",filterByValue:"Filter by value",filterByCondition:"Filter by condition",apply:"Apply",search:"Search",addToCurrent:"Add to current selection",clear:"Clear",blanks:"(Blanks)",operatorNone:"None",and:"AND",or:"OR",operators:{string:{contains:"Text contains",doesnotcontain:"Text does not contain",startswith:"Text starts with",endswith:"Text ends with"},date:{eq:"Date is",neq:"Date is not",lt:"Date is before",gt:"Date is after"},number:{eq:"Is equal to",neq:"Is not equal to",gte:"Is greater than or equal to",gt:"Is greater than",lte:"Is less than or equal to",lt:"Is less than"}}},e.data.binders.spreadsheetFilterValue=e.data.Binder.extend({init:function init(t,n,i){e.data.Binder.fn.init.call(this,t,n,i),this._change=r.proxy(this.change,this),r(this.element).on("change",this._change);},refresh:function refresh(){var e=this,t=e.bindings.spreadsheetFilterValue.get();r(e.element).val(t instanceof Date?"":t);},change:function change(){var e=this.element.value;this.bindings.spreadsheetFilterValue.set(e);}}),e.data.binders.widget.spreadsheetFilterValue=e.data.Binder.extend({init:function init(t,n,i){e.data.Binder.fn.init.call(this,t.element[0],n,i),this.widget=t,this._change=r.proxy(this.change,this),this.widget.first("change",this._change);},refresh:function refresh(){var e=this.bindings.spreadsheetFilterValue,t=e.get(),n=r(this.widget.element).data("filterType");this.widget.value("date"===n&&t instanceof Date||"number"===n&&!isNaN(t)?t:null);},change:function change(){var e=this.widget.value(),t=this.bindings.spreadsheetFilterValue;t.set(e);}}),d={filterByValue:"<div class='"+s.detailsSummary+"'>#= messages.filterByValue #</div><div class='"+s.detailsContent+"'><div class='k-textbox k-space-right'><input placeholder='#= messages.search #' data-#=ns#bind='events: { input: filterValues }' /><span class='k-icon k-font-icon k-i-search' /></div><div data-#=ns#bind='visible: hasActiveSearch'><input class='k-checkbox' type='checkbox' data-#=ns#bind='checked: appendToSearch' id='_#=guid#' /><label class='k-checkbox-label' for='_#=guid#'>#= messages.addToCurrent #</label></div><div class='"+s.valuesTreeViewWrapper+"'><div data-#=ns#role='treeview' data-#=ns#checkboxes='{ checkChildren: true }' data-#=ns#bind='source: valuesDataSource, events: { check: valuesChange, select: valueSelect }' /></div></div>",filterByCondition:"<div class='"+s.detailsSummary+"'>#= messages.filterByCondition #</div><div class='"+s.detailsContent+'\'><div><select data-#=ns#role="dropdownlist"data-#=ns#bind="value: operator, source: operators, events: { change: operatorChange } "data-value-primitive="false"data-option-label="#=messages.operatorNone#"data-height="auto"data-text-field="text"data-value-field="unique"></select></div><div data-#=ns#bind="visible: isString"><input data-filter-type="string" data-#=ns#bind="spreadsheetFilterValue: customFilter.criteria[0].value" class="k-textbox" /></div><div data-#=ns#bind="visible: isNumber"><input data-filter-type="number" data-#=ns#role="numerictextbox" data-#=ns#bind="spreadsheetFilterValue: customFilter.criteria[0].value" /></div><div data-#=ns#bind="visible: isDate"><input data-filter-type="date" data-#=ns#role="datepicker" data-#=ns#bind="spreadsheetFilterValue: customFilter.criteria[0].value" /></div></div>',menuItem:"<li data-command='#=command#' data-dir='#=dir#'><span class='k-icon k-font-icon k-i-#=iconClass#'></span>#=text#</li>",actionButtons:"<button data-#=ns#bind='click: apply' class='k-button k-primary'>#=messages.apply#</button><button data-#=ns#bind='click: clear' class='k-button'>#=messages.clear#</button>"},u=e.spreadsheet.FilterMenuViewModel=e.data.ObservableObject.extend({valuesChange:function valuesChange(t){var n=t?t.sender.dataSource:this.valuesDataSource,i=function i(e){return e.checked;},o=function o(t){return"date"===t.dataType?e.spreadsheet.dateToNumber(t.value):t.value;},r=function r(e,t,n){return n.lastIndexOf(e)===t;},a=n.data(),s=a[0].children.data().toJSON(),l=s.filter(function(e){return"blank"===e.dataType;});l=l.length?l[0].checked:!1,s=s.filter(i).map(o),this.appendToSearch&&this.valueFilter&&this.valueFilter.values.length&&(s=s.concat(this.valueFilter.values.toJSON()).sort().filter(r)),this.set("valueFilter",{values:s,blanks:l});},valueSelect:function valueSelect(e){e.preventDefault();var t=e.sender.dataItem(e.node);t.set("checked",!t.checked);},hasActiveSearch:!1,appendToSearch:!1,filterValues:function filterValues(e){var t="string"==typeof e?e:r(e.target).val().toLowerCase(),o=this.valuesDataSource;this.set("hasActiveSearch",!!t),i(o),n(o,t);},reset:function reset(){this.set("customFilter",{logic:"and",criteria:[{operator:null,value:null}]}),this.set("valueFilter",{values:[]});},operatorChange:function operatorChange(e){var t=e.sender.dataItem();this.set("operatorType",t.type),this.set("customFilter.criteria[0].operator",t.value);},isNone:function isNone(){return void 0===this.get("operatorType");},isString:function isString(){return"string"===this.get("operatorType");},isNumber:function isNumber(){return"number"===this.get("operatorType");},isDate:function isDate(){return"date"===this.get("operatorType");}}),h=e.spreadsheet.FilterMenuController={valuesTree:function valuesTree(e,t){return[{text:"All",expanded:!0,checked:!0,items:this.values(e.resize({top:1}),t)}];},values:function values(n,i){var o=[],r=c,a=n.column(i),s=n.sheet();return a.forEachCell(function(t,n,i){var a,l,c;s.isHiddenRow(t)||(a=i.value,l=i.dataType,c=i.text,l=void 0===a?"blank":i.format?e.spreadsheet.formatting.type(a,i.format):typeof a==="undefined"?"undefined":_typeof(a),c=null!==a&&i.format?e.spreadsheet.formatting.text(a,i.format):"blank"==l?r.blanks:a,"percent"===l&&(l="number"),"date"===l&&(a=e.spreadsheet.numberToDate(a)),o.push({dataType:l,value:a,text:c,checked:!0}));}),o=t(o),o.sort(function(e,t){return e.dataType===t.dataType?0:"blank"===e.dataType||"blank"===t.dataType?"blank"===e.dataType?-1:1:"number"===e.dataType||"number"===t.dataType?"number"===e.dataType?-1:1:"date"===e.dataType||"date"===t.dataType?"date"===e.dataType?-1:1:0;}),o;},filterType:function filterType(e,t){var n,i,o,r=e.sheet(),a=this.filterForColumn(t,r);return a=a&&a.filter.toJSON(),a&&"custom"==a.filter&&(i=a.criteria[0].value,i instanceof Date?n="date":"string"==typeof i?n="string":"number"==typeof i&&(n="number")),n||(o=this.values(e.row(1),t)[0],n=o&&o.dataType,"blank"==n&&(n=null)),n;},filterForColumn:function filterForColumn(e,t){var n,i=t.filter();return i&&(n=i.columns.filter(function(t){return t.index===e;})[0]),n;},filter:function filter(e,t){var n,i,o,r,a=this.filterForColumn(e,t);if(a)return n=a.filter.toJSON(),i=n.filter,delete n.filter,o={type:i,options:n},r=n.criteria,r&&r.length&&(o.operator=r[0].operator),o;}},f=a.extend({init:function init(e,t){a.call(this,e,t),this.element.addClass(f.classNames.wrapper),this.viewModel=new u({active:"value",operator:null,operators:o(this.options.operators),clear:this.clear.bind(this),apply:this.apply.bind(this)}),this._filterInit(),this._popup(),this._sort(),this._filterByCondition(),this._filterByValue(),this._actionButtons();},options:{name:"FilterMenu",column:0,range:null,operators:{string:{contains:"Text contains",doesnotcontain:"Text does not contain",startswith:"Text starts with",endswith:"Text ends with"},date:{eq:"Date is",neq:"Date is not",lt:"Date is before",gt:"Date is after"},number:{eq:"Is equal to",neq:"Is not equal to",gte:"Is greater than or equal to",gt:"Is greater than",lte:"Is less than or equal to",lt:"Is less than"}}},events:["action"],destroy:function destroy(){a.fn.destroy.call(this),this.menu.destroy(),this.valuesTreeView.destroy(),this.popup.destroy();},openFor:function openFor(e){this.popup.setOptions({anchor:e}),this.popup.open();},close:function close(){this.popup.close();},clear:function clear(){this.action({command:"ClearFilterCommand",options:{column:this.options.column}}),this.viewModel.reset(),this.close();},apply:function apply(){var e,t,n;this._active(),e={operatingRange:this.options.range,column:this.options.column},"value"===this.viewModel.active?(this.viewModel.valuesChange({sender:this.valuesTreeView}),t=this.viewModel.valueFilter.toJSON(),(t.blanks||t.values&&t.values.length)&&(e.valueFilter=t)):"custom"===this.viewModel.active&&(n=this.viewModel.customFilter.toJSON(),n.criteria.length&&null!==n.criteria[0].value&&(e.customFilter=n)),(e.valueFilter||e.customFilter)&&this.action({command:"ApplyFilterCommand",options:e});},action:function action(e){this.trigger("action",r.extend({},e));},_filterInit:function _filterInit(){var e,t=this.options.column,n=this.options.range,i=n.sheet(),o=h.filter(t,i);o?(e=h.filterType(n,t),this.viewModel.set("active",o.type),this.viewModel.set(o.type+"Filter",o.options),"custom"==o.type&&(this.viewModel.set("operator",e+"_"+o.operator),this.viewModel.set("operatorType",e))):this.viewModel.reset();},_popup:function _popup(){this.popup=this.element.kendoPopup({copyAnchorStyles:!1}).data("kendoPopup");},_sort:function _sort(){var t=e.template(f.templates.menuItem),n=c,i=[{command:"sort",dir:"asc",text:n.sortAscending,iconClass:"sort-asc"},{command:"sort",dir:"desc",text:n.sortDescending,iconClass:"sort-desc"}],o=r("<ul />",{html:e.render(t,i)}).appendTo(this.element);this.menu=o.kendoMenu({orientation:"vertical",select:function(e){var t=r(e.item).data("dir"),n=this.options.range.resize({top:1}),i={value:t,sheet:!1,operatingRange:n,column:this.options.column};n.isSortable()?this.action({command:"SortCommand",options:i}):this.close();}.bind(this)}).data("kendoMenu");},_appendTemplate:function _appendTemplate(t,n,i,o){var a=e.template(t),s=r("<div class='"+n+"'/>").html(a({messages:c,guid:e.guid(),ns:e.ns}));return this.element.append(s),i&&(i=new l(s,{expanded:o,toggle:this._detailToggle.bind(this)})),e.bind(s,this.viewModel),s;},_detailToggle:function _detailToggle(e){this.element.find("[data-role=details]").not(e.sender.element).data("kendoDetails").toggle(!e.show);},_filterByCondition:function _filterByCondition(){var e="custom"===this.viewModel.active;this._appendTemplate(f.templates.filterByCondition,f.classNames.filterByCondition,!0,e);},_filterByValue:function _filterByValue(){var t,n="value"===this.viewModel.active,i=this._appendTemplate(f.templates.filterByValue,f.classNames.filterByValue,!0,n);this.valuesTreeView=i.find("[data-role=treeview]").data("kendoTreeView"),t=h.valuesTree(this.options.range,this.options.column),this.viewModel.set("valuesDataSource",new e.data.HierarchicalDataSource({data:t}));},_actionButtons:function _actionButtons(){this._appendTemplate(f.templates.actionButtons,f.classNames.actionButtons,!1);},_active:function _active(){var e=this.element.find("[data-role=details]").filter(function(e,t){return r(t).data("kendoDetails").visible();});e.hasClass(f.classNames.filterByValue)?this.viewModel.set("active","value"):e.hasClass(f.classNames.filterByCondition)&&this.viewModel.set("active","custom");}}),e.spreadsheet.FilterMenu=f,r.extend(!0,f,{classNames:s,templates:d}));}(window.kendo);},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("spreadsheet/editor.min",["kendo.core.min"],e);}(function(){!function(e){function t(e,t){return e&&(e.top!==t.top||e.left!==t.left);}if(!(e.support.browser.msie&&9>e.support.browser.version)){var n=e.Observable.extend({init:function init(t){e.Observable.fn.init.call(this),this.view=t,this.formulaBar=t.formulaBar,this._active=!1,this.barInput=t.formulaBar.formulaInput,this.cellInput=t.formulaInput,this.barInput.syncWith(this.cellInput),this.cellInput.syncWith(this.barInput),this.barInput.bind("keyup",this._triggerUpdate.bind(this)),this.cellInput.bind("keyup",this._triggerUpdate.bind(this)),this.barInput.bind("focus",this._focus.bind(this)),this.cellInput.bind("focus",this._focus.bind(this)),this.barInput.bind("blur",this._blur.bind(this)),this.cellInput.bind("blur",this._blur.bind(this));},events:["activate","deactivate","change","update"],_focus:function _focus(e){this.lastActive=e.sender==this.barInput?"bar":"cell";},_blur:function _blur(){},_triggerUpdate:function _triggerUpdate(){this.trigger("update",{value:this.value()});},activeEditor:function activeEditor(){var t=null,n=e._activeElement();return this.barElement()[0]===n?t=this.barInput:this.cellElement()[0]===n&&(t=this.cellInput),t;},activate:function activate(e){return this._active=!0,this._rect=e.rect,this.cellInput.position(e.rect),this.cellInput.resize(e.rect),this.cellInput.tooltip(e.tooltip),this.cellInput.activeCell=this.barInput.activeCell=e.range.topLeft,this.trigger("activate"),this;},deactivate:function deactivate(){var e=this.cellInput;this._active&&(e.value()!=this._value&&this.trigger("change",{value:e.value()})||(this._active=!1,this._rect=null,e.hide(),this.trigger("deactivate")));},enable:function enable(e){this.barInput.enable(e),this.cellInput.enable(e);},enableEditing:function enableEditing(e){this.barInput.enableEditing(e),this.cellInput.enableEditing(e);},barElement:function barElement(){return this.barInput.element;},cellElement:function cellElement(){return this.cellInput.element;},focusLastActive:function focusLastActive(){this.focus(this.lastActive);},focus:function focus(e){e=e||"cell","cell"===e?(this.cellInput.element.focus(),this.cellInput.end()):this.barInput.element.focus();},isActive:function isActive(){return this._active;},isFiltered:function isFiltered(){return this.barInput.popup.visible()||this.cellInput.popup.visible();},canInsertRef:function canInsertRef(e){var t=this.activeEditor();return t&&t.canInsertRef(e);},highlightedRefs:function highlightedRefs(){var e=this.activeEditor(),t=[];return e&&(t=e.highlightedRefs()),t;},scale:function scale(){this.cellInput.scale();},toggleTooltip:function toggleTooltip(e){this.cellInput.toggleTooltip(t(this._rect,e));},value:function value(e){return void 0===e?this.barInput.value():(null===e&&(e=""),this._value=e,this.barInput.value(e),void this.cellInput.value(e));},insertNewline:function insertNewline(){this.activeEditor().insertNewline(),this.scale();}});e.spreadsheet.SheetEditor=n;}}(kendo);},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("spreadsheet/autofill.min",["spreadsheet/runtime.min","spreadsheet/range.min"],e);}(function(){"use strict";function e(e){var t,n,i,o,r,a=e.length,s=(a+1)/2,l=e.reduce(function(e,t){return e+t;},0)/a,c=0,d=0;for(t=0;a>t;t++){n=t+1-s,i=e[t]-l,c+=n*i,d+=n*n;}return d?(o=c/d,r=l-o*s,function(e){return r+o*(e+1);}):function(t){return e[t%e.length];};}function t(t){function r(e){var t,n=e[1]-e[0];for(t=2;e.length>t;++t){if(e[t]-e[t-1]!=n)return null;}return n;}function a(e){return e.map(function(e){return e.number;});}var s=[],l=t.map(function(e){return e.formula||e.value;});return o(l,function(i,o,c,d){var u,h,f,p,m;for("number"==c?(h=a(d),1==h.length&&(i>0||l.length>o||"date"==n(h[0],t[i].format))&&h.push(h[0]+1),u=e(h)):"string"==c||"formula"==c||"boolean"==c?u=function u(e,t){return l[t];}:Array.isArray(c)?1==d.length?u=function u(e){return c[(d[0].number+e)%c.length];}:(f=r(a(d)),u=null==f?function(e){return d[e%d.length].value;}:function(e){var t=d[0].number+f*e;return c[t%c.length];}):"null"!=c?(h=a(d),1==h.length&&h.push(h[0]+1),h=e(h),u=function u(e,t){return l[t].replace(/^(.*\D)\d+/,"$1"+h(e,t));}):u=function u(){return null;},p={f:u,begin:i,end:o,len:o-i},m=i;o>m;++m){s[m]=p;}}),function(e,n){var o=s[n],r=e/l.length|0,a=e%l.length,c=r*o.len+a-o.begin,d=o.f(c,n),u=i(t[n]);return delete u.enable,d instanceof h?u.formula=d:u.value=d,u;};}function n(e,t){return null!=t?c.formatting.type(e,t):void 0;}function i(e){var t={};return Object.keys(e||{}).forEach(function(n){t[n]=e[n];}),t;}function o(e,t){var n,i,o=null,a=0,s=[];for(i=0;e.length>i;++i){n=r(e[i]),s.push(n),null!=o&&n.type!==o.type&&(t(a,i,o.type,s.slice(a,i)),a=i),o=n;}t(a,i,o.type,s.slice(a,i));}function r(e){var t,n;if("number"==typeof e)return{type:"number",number:e};if("string"==typeof e)return(t=s(e))?t:(n=/^(.*\D)(\d+)/.exec(e),n?(e=e.replace(/^(.*\D)\d+/,"$1-######"),{type:e,match:n,number:parseFloat(n[2])}):{type:"string"});if("boolean"==typeof e)return{type:"boolean"};if(null==e)return{type:"null"};if(e instanceof h)return{type:"formula"};throw window.console.error(e),Error("Cannot fill data");}function a(){var e=kendo.culture();return[e.calendars.standard.days.namesAbbr,e.calendars.standard.days.names,e.calendars.standard.months.namesAbbr,e.calendars.standard.months.names];}function s(e){var t,n,i,o,r=e.toLowerCase(),s=a();for(t=0;s.length>t;++t){for(n=s[t],i=n.length;--i>=0;){if(o=n[i].toLowerCase(),o==r)return{type:n,number:i,value:e};}}}function l(e){var t,n,i=e.length,o=e[0].length,r=[];for(t=0;o>t;++t){for(r[t]=[],n=0;i>n;++n){r[t][n]=e[n][t];}}return r;}var c,d,u,h,f,p,m,g;kendo.support.browser.msie&&kendo.support.browser.version<9||(c=kendo.spreadsheet,d=c.Range,u=c.calc.runtime,h=u.Formula,f="Incompatible ranges in fillFrom",p="Cannot determine fill direction",m="Destination range contains disabled cells",g=d.FillError=function(e){this.msg=e;},g.prototype.toString=function(){return this.msg;},d.prototype._previewFillFrom=function(e,n){var i,o,r,a,s,c,d,u,h,m,v,_,b,w,y=this,k=y._sheet;if("string"==typeof e&&(e=k.range(e)),i=e._ref.toRangeRef(),o=y._ref.toRangeRef(),i.intersects(o)){if(i.eq(o))return null;if(o=o.clone(),i.topLeft.eq(o.topLeft)){if(i.width()==o.width())o.topLeft.row+=i.height(),n=0;else{if(i.height()!=o.height())throw new g(f);o.topLeft.col+=i.width(),n=1;}}else{if(!i.bottomRight.eq(o.bottomRight))throw new g(f);if(i.width()==o.width())o.bottomRight.row-=i.height(),n=2;else{if(i.height()!=o.height())throw new g(f);o.bottomRight.col-=i.width(),n=3;}}return k.range(o)._previewFillFrom(e,n);}if(null==n)if(i.topLeft.col==o.topLeft.col)n=o.topLeft.row>i.topLeft.row?0:2;else{if(i.topLeft.row!=o.topLeft.row)throw new g(p);n=o.topLeft.col>i.topLeft.col?1:3;}if(r=1&n,a=2&n,r&&i.height()!=o.height()||!r&&i.width()!=o.width())throw new g(f);for(s=e._properties(),r?c=o.width():(s=l(s),c=o.height()),d=Array(s.length),u=0;s.length>u;++u){for(h=s[u],m=t(h),v=d[u]=Array(c),_=0;c>_;++_){b=a?-_-1:h.length+_,w=a?h.length-_%h.length-1:_%h.length,v[a?c-_-1:_]=m(b,w);}}return r||(d=l(d)),{props:d,direction:n,dest:y};},d.prototype.fillFrom=function(e,t){var n=this._previewFillFrom(e,t);if(!n.dest.enable())throw new g(m);return n.dest._properties(n.props),n.dest;});},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("spreadsheet/print.min",["kendo.pdf.min","spreadsheet/sheet.min","spreadsheet/range.min","spreadsheet/references.min","spreadsheet/numformat.min","util/text-metrics.min"],e);}(function(){"use strict";function e(e,t){var n=0,i=[],o=.2*t,r=t;return e.forEach(function(e){t&&n+e>r&&(o>r-n&&(n=t*Math.ceil(n/t)),r+=t*Math.ceil(e/t)),i.push(n),n+=e;}),i.push(n),i;}function t(e,t){var n=e._grid,i={},o={};return e.forEachMergedCell(t,function(e){var r=e.topLeft;n.forEach(e,function(n){r.eq(n)?i[n.print()]=e:t.contains(n)&&(o[n.print()]=r);});}),{primary:i,secondary:o};}function n(n,s,l){var c,d,u,h,f,m,g,v,_=[],b=[],w=[],y=t(n,s),k=-1,x=-1;return n.forEach(s,function(e,t,i){var o,a,c,d=e-s.topLeft.row,u=t-s.topLeft.col,h=n.rowHeight(e),f=n.columnWidth(t);u||b.push(h),d||w.push(f),!n.isHiddenColumn(t)&&!n.isHiddenRow(e)&&h&&f&&(o=l.forScreen||r(i),(l.emptyCells||o)&&(a=new p(e,t).print(),y.secondary[a]||(o?(k=Math.max(k,d),x=Math.max(x,u)):i.empty=!0,c=y.primary[a],c?(delete y.primary[a],i.merged=!0,i.rowspan=c.height(),i.colspan=c.width(),l.forScreen&&(i.width=n._columns.sum(c.topLeft.col,c.bottomRight.col),i.height=n._rows.sum(c.topLeft.row,c.bottomRight.row))):(i.rowspan=1,i.colspan=1),i.row=d,i.col=u,_.push(i))));}),b=b.slice(0,k+1),w=w.slice(0,x+1),c=l.pageWidth,d=l.pageHeight,u=1,l.fitWidth&&(h=w.reduce(i,0),h>c&&(u=c/h,c/=u,d/=u)),f=e(b,d||0),m=e(w,c||0),g=0,v=0,_=_.filter(function(e){return e.empty&&(e.row>k||e.col>x)?!1:(e.left=m[e.col],e.top=f[e.row],e.merged?l.forScreen?(e.right=e.left+e.width,e.bottom=e.top+e.height):(e.right=o(m,e.col+e.colspan),e.bottom=o(f,e.row+e.rowspan),e.width=e.right-e.left,e.height=e.bottom-e.top):(e.width=w[e.col],e.height=b[e.row],e.bottom=e.top+e.height,e.right=e.left+e.width),g=Math.max(g,e.right),v=Math.max(v,e.bottom),!0);}),Object.keys(y.primary).forEach(function(e){var t=y.primary[e];n.forEach(t.topLeft.toRangeRef(),function(e,i,o){var r=e-s.topLeft.row,a=i-s.topLeft.col;o.merged=!0,o.colspan=t.height(),o.rowspan=t.width(),o.top=0>r?-n._rows.sum(e,e-r-1):f[r],o.left=0>a?-n._columns.sum(i,i-a-1):m[a],o.height=n._rows.sum(t.topLeft.row,t.bottomRight.row),o.width=n._columns.sum(t.topLeft.col,t.bottomRight.col),o.height>0&&o.width>0&&(o.right=o.left+o.width,o.bottom=o.top+o.height,_.push(o));});}),{width:g,height:v,cells:_.sort(a),scale:u,xCoords:m,yCoords:f};}function i(e,t){return e+t;}function o(e,t){return e.length>t?e[t]:e[e.length-1];}function r(e){return null!=e.value||e.merged||null!=e.background||null!=e.borderTop||null!=e.borderRight||null!=e.borderBottom||null!=e.borderLeft;}function a(e,t){return t.top>e.top?-1:e.top==t.top?t.left>e.left?-1:e.left==t.left?0:1:1;}function s(e,t,n){function i(i,o){var r,a,s,u,h,f=o*c,p=f+c,g=i*d,b=g+d,w=0,y=0,k=e.cells.filter(function(e){return f>=e.right||e.left>=p||g>=e.bottom||e.top>=b?!1:(w=Math.max(e.bottom,w),y=Math.max(e.right,y),!0);});k.length>0&&(r=new m.Group(),t.append(r),r.clip(m.Path.fromRect(new v.Rect([0,0],[n.pageWidth,n.pageHeight]))),a=new m.Group(),r.append(a),s=v.Matrix.scale(e.scale,e.scale).multiplyCopy(v.Matrix.translate(-f,-g)),(n.hCenter||n.vCenter)&&(s=s.multiplyCopy(v.Matrix.translate(n.hCenter?(p-y)/2:0,n.vCenter?(b-w)/2:0))),a.transform(s),n.guidelines&&(u=null,e.xCoords.forEach(function(e){e=Math.min(e,y),e!==u&&e>=f&&p>=e&&(u=e,a.append(new m.Path().moveTo(e,g).lineTo(e,w).close().stroke("#999",_)));}),u=null,e.yCoords.forEach(function(e){e=Math.min(e,w),e!==u&&e>=g&&b>=e&&(u=e,a.append(new m.Path().moveTo(f,e).lineTo(y,e).close().stroke("#999",_)));})),h=new m.Group(),k.forEach(function(e){l(e,a,h,n);}),a.append(h));}var o,r,a=Math.ceil(e.width/n.pageWidth),s=Math.ceil(e.height/n.pageHeight),c=n.pageWidth/e.scale,d=n.pageHeight/e.scale;for(o=0;a>o;++o){for(r=0;s>r;++r){i(r,o);}}}function l(e,t,n,i){var o,r,a,s,l,d,u=new m.Group();if(t.append(u),o=new v.Rect([e.left,e.top],[e.width,e.height]),(e.background||e.merged)&&(r=o,i.guidelines&&(r=o.clone(),r.origin.x+=_/2,r.origin.y+=_/2,r.size.width-=_,r.size.height-=_),u.append(new m.Rect(r).fill(e.background||"#fff").stroke(null))),e.borderLeft&&n.append(new m.Path().moveTo(e.left,e.top).lineTo(e.left,e.bottom).close().stroke(e.borderLeft.color,e.borderLeft.size)),e.borderTop&&n.append(new m.Path().moveTo(e.left,e.top).lineTo(e.right,e.top).close().stroke(e.borderTop.color,e.borderTop.size)),e.borderRight&&n.append(new m.Path().moveTo(e.right,e.top).lineTo(e.right,e.bottom).close().stroke(e.borderRight.color,e.borderRight.size)),e.borderBottom&&n.append(new m.Path().moveTo(e.left,e.bottom).lineTo(e.right,e.bottom).close().stroke(e.borderBottom.color,e.borderBottom.size)),a=e.value,null!=a){if(s="number"==typeof a?"number":null,l=new m.Group(),l.clip(m.Path.fromRect(o)),u.append(l),e.format?(d=g.textAndColor(a,e.format),a=d.text,d.type&&(s=d.type)):a+="",!e.textAlign)switch(s){case"number":case"date":case"percent":e.textAlign="right";break;case"boolean":e.textAlign="center";}c(a,d&&d.color||e.color||"#000",e,l);}}function c(e,t,n,i){var o,r,a,s,l=n.left+2,c=n.top+2,h=n.width-4,f=n.height-4,p=u(n),g={font:p},_={font:p,fill:{color:t}},b=[],w=0,y=c;switch(n.wrap?(d(e,g,h).forEach(function(e){var t=new m.Text(e.text,[l,y],_);y+=e.box.height,b.push({el:t,box:e.box});}),w=y-c):(o=new m.Text(e,[l,y],_),r=kendo.util.measureText(e,g),b.push({el:o,box:r}),w=r.height),a=new m.Group(),i.append(a),s=0,n.verticalAlign){case"center":s=f-w>>1;break;case void 0:case null:case"bottom":s=f-w;}0>s&&(s=0),b.forEach(function(e){a.append(e.el);var t=0;switch(n.textAlign){case"center":t=h-e.box.width>>1;break;case"right":t=h-e.box.width;}0>t&&(t=0),(t||s)&&e.el.transform(v.Matrix.translate(t,s));});}function d(e,t,n){function i(r,s,l){var c=e.substring(a,s).trim(),d=kendo.util.measureText(c,t);n>=d.width?l-1>s?i(s,s+l>>1,l):(o.push({text:c,box:d}),a=s):s>r&&i(r,r+s>>1,s);}for(var o=[],r=e.length,a=0;r>a;){i(a,r,r);}return o;}function u(e){var t=[];return e.italic&&t.push("italic"),e.bold&&t.push("bold"),t.push((e.fontSize||12)+"px"),t.push(e.fontFamily||"Arial"),t.join(" ");}function h(e,t,i,o){var r,a,l,c,d;null==i&&null==o&&(o=t,i={},t=f.SHEETREF),null==o&&(o=i,t instanceof f.Range||t instanceof f.Ref||"string"==typeof t?i={}:(i=t,t=f.SHEETREF)),i=kendo.jQuery.extend({paperSize:"A4",landscape:!0,margin:"1cm",guidelines:!0,emptyCells:!0,fitWidth:!1,center:!1},i),r=new m.Group(),a=kendo.pdf.getPaperOptions(i),r.options.set("pdf",{author:i.author,creator:i.creator,date:i.date,keywords:i.keywords,margin:a.margin,multiPage:!0,paperSize:a.paperSize,subject:i.subject,title:i.title}),l=a.paperSize[0],c=a.paperSize[1],a.margin&&(l-=a.margin.left+a.margin.right,c-=a.margin.top+a.margin.bottom),i.pageWidth=l,i.pageHeight=c,d=n(e,e._ref(t),i),s(d,r,i),o(r);}var f,p,m,g,v,_;kendo.support.browser.msie&&kendo.support.browser.version<9||(f=kendo.spreadsheet,p=f.CellRef,m=kendo.drawing,g=f.formatting,v=kendo.geometry,_=.8,f.Sheet.prototype.draw=function(e,t,n){var i=this;i._workbook?i.recalc(i._workbook._context,function(){h(i,e,t,n);}):h(i,e,t,n);},f.draw={doLayout:n,drawLayout:s,shouldDrawCell:r});},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("kendo.spreadsheet.min",["util/undoredostack.min","util/text-metrics.min","util/parse-xml.min","kendo.excel.min","kendo.progressbar.min","kendo.pdf.min","spreadsheet/commands.min","spreadsheet/formulabar.min","spreadsheet/formulainput.min","spreadsheet/eventlistener.min","spreadsheet/rangelist.min","spreadsheet/propertybag.min","spreadsheet/references.min","spreadsheet/navigator.min","spreadsheet/axismanager.min","spreadsheet/clipboard.min","spreadsheet/range.min","spreadsheet/sheet.min","spreadsheet/sheetsbar.min","spreadsheet/excel-reader.min","spreadsheet/workbook.min","spreadsheet/formulacontext.min","spreadsheet/controller.min","spreadsheet/view.min","spreadsheet/grid.min","spreadsheet/axis.min","spreadsheet/filter.min","spreadsheet/sorter.min","spreadsheet/runtime.min","spreadsheet/calc.min","spreadsheet/numformat.min","spreadsheet/runtime.functions.min","spreadsheet/runtime.functions.2.min","spreadsheet/toolbar.min","spreadsheet/dialogs.min","spreadsheet/sheetbinder.min","spreadsheet/filtermenu.min","spreadsheet/editor.min","spreadsheet/autofill.min","spreadsheet/print.min"],e);}(function(){!function(e,t){var n,i,o,r,a,s,l,c,d;e.support.browser.msie&&9>e.support.browser.version||(n=e.jQuery,i=e.ui.Widget,o=e.spreadsheet.Workbook,r=e.spreadsheet.Controller,a=e.spreadsheet.View,s=".kendoSpreadsheet",l={recalc:!0,selection:!0,activeCell:!0,layout:!0,sheetSelection:!0,resize:!0,editorChange:!1,editorClose:!1},c={wrapper:"k-widget k-spreadsheet"},d=e.ui.Widget.extend({init:function init(e,t){i.fn.init.call(this,e,t),this.element.addClass(d.classNames.wrapper),this._view=new a(this.element,{messages:this.options.messages.view,toolbar:this.options.toolbar,sheetsbar:this.options.sheetsbar}),this._workbook=new o(this.options,this._view),this._controller=new r(this._view,this._workbook),this._autoRefresh=!0,this._bindWorkbookEvents(),this._view.workbook(this._workbook),this.refresh(),this._resizeHandler=function(){this.resize();}.bind(this),n(window).on("resize"+s,this._resizeHandler);},_resize:function _resize(){this.refresh({layout:!0});},_workbookChange:function _workbookChange(t){if(this._autoRefresh&&this.refresh(t),t.recalc&&t.ref){var n=new e.spreadsheet.Range(t.ref,this.activeSheet());this.trigger("change",{range:n});}},activeSheet:function activeSheet(e){return this._workbook.activeSheet(e);},moveSheetToIndex:function moveSheetToIndex(e,t){return this._workbook.moveSheetToIndex(e,t);},insertSheet:function insertSheet(e){return this._workbook.insertSheet(e);},sheets:function sheets(){return this._workbook.sheets();},removeSheet:function removeSheet(e){return this._workbook.removeSheet(e);},sheetByName:function sheetByName(e){return this._workbook.sheetByName(e);},sheetIndex:function sheetIndex(e){return this._workbook.sheetIndex(e);},sheetByIndex:function sheetByIndex(e){return this._workbook.sheetByIndex(e);},renameSheet:function renameSheet(e,t){return this._workbook.renameSheet(e,t);},refresh:function refresh(e){return e||(e=l),e.editorClose||(this._view.sheet(this._workbook.activeSheet()),this._controller.sheet(this._workbook.activeSheet()),this._workbook.refresh(e)),e.editorChange||(this._view.refresh(e),this._controller.refresh(),this._view.render(),this.trigger("render")),this;},openDialog:function openDialog(e,t){return this._view.openDialog(e,t);},autoRefresh:function autoRefresh(e){return e!==t?(this._autoRefresh=e,e===!0&&this.refresh(),this):this._autoRefresh;},toJSON:function toJSON(){return this._workbook.toJSON();},fromJSON:function fromJSON(e){e.sheets?(this._workbook.destroy(),this._workbook=new o(n.extend({},this.options,e)),this._bindWorkbookEvents(),this._view.workbook(this._workbook),this._controller.workbook(this._workbook),this.activeSheet(this.activeSheet())):this.refresh();},fromFile:function fromFile(e,t){return this._workbook.fromFile(e,t);},saveAsPDF:function saveAsPDF(e){this._workbook.saveAsPDF(n.extend({},this.options.pdf,e,{workbook:this._workbook}));},saveAsExcel:function saveAsExcel(e){this._workbook.saveAsExcel(e);},draw:function draw(e,t){this._workbook.draw(e,t);},_workbookExcelExport:function _workbookExcelExport(e){this.trigger("excelExport",e)&&e.preventDefault();},_workbookExcelImport:function _workbookExcelImport(e){this.trigger("excelImport",e)?e.preventDefault():this._initProgress(e.promise);},_initProgress:function _initProgress(t){var i=n("<div class='k-loading-mask' style='width: 100%; height: 100%; top: 0;'><div class='k-loading-color'/></div>").appendTo(this.element),o=n("<div class='k-loading-progress'>").appendTo(i).kendoProgressBar({type:"chunk",chunkCount:10,min:0,max:1,value:0}).data("kendoProgressBar");t.progress(function(e){o.value(e.progress);}).always(function(){e.destroy(i),i.remove();});},_workbookPdfExport:function _workbookPdfExport(e){this.trigger("pdfExport",e)&&e.preventDefault();},_bindWorkbookEvents:function _bindWorkbookEvents(){this._workbook.bind("change",this._workbookChange.bind(this)),this._workbook.bind("excelExport",this._workbookExcelExport.bind(this)),this._workbook.bind("excelImport",this._workbookExcelImport.bind(this)),this._workbook.bind("pdfExport",this._workbookPdfExport.bind(this));},destroy:function destroy(){e.ui.Widget.fn.destroy.call(this),this._workbook.destroy(),this._controller.destroy(),this._view.destroy(),this._resizeHandler&&n(window).off("resize"+s,this._resizeHandler);},options:{name:"Spreadsheet",toolbar:!0,sheetsbar:!0,rows:200,columns:50,rowHeight:20,columnWidth:64,headerHeight:20,headerWidth:32,excel:{proxyURL:"",fileName:"Workbook.xlsx"},messages:{},pdf:{area:"workbook",fileName:"Workbook.pdf",proxyURL:"",paperSize:"a4",landscape:!0,margin:null,title:null,author:null,subject:null,keywords:null,creator:"Kendo UI PDF Generator v."+e.version,date:null}},events:["pdfExport","excelExport","excelImport","change","render"]}),e.spreadsheet.ALL_REASONS=l,e.ui.plugin(d),n.extend(!0,d,{classNames:c}));}(window.kendo);},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("kendo.pivot.configurator.min",["kendo.dom.min"],e);}(function(){return function(e,t){function n(e){for(var t,n=0,i=e.length;i>n;n++){if(2==e[n].type){t=!0;break;}}t&&e.splice(n+1,0,{caption:"KPIs",defaultHierarchy:"[KPIs]",name:"KPIs",uniqueName:"[KPIs]"});}function i(e){return{name:e.uniqueName,type:e.type};}function o(e){for(var t=0,n=e.length;n>t;t++){e[t].uniqueName=e[t].name,e[t].type="kpi";}return e;}function r(t){var n=e(t).closest(".k-pivot-setting");return n.length?n.data("kendoPivotSettingTarget"):null;}function a(e,t,n){return{hierarchyUniqueName:e,uniqueName:t,caption:t,measure:t,name:t,type:n,kpi:!0};}function s(e){var t=e.name;return[a(t,e.value,"value"),a(t,e.goal,"goal"),a(t,e.status,"status"),a(t,e.trend,"trend")];}var l=window.kendo,c=l.ui,d=c.Widget,u=".kendoPivotConfigurator",h="mouseenter"+u+" mouseleave"+u,f=l.template('<p class="k-reset"><span class="k-icon #=icon#"></span>${name}</p><div class="k-list-container k-reset"/>'),p=d.extend({init:function init(e,t){d.fn.init.call(this,e,t),this.element.addClass("k-widget k-fieldselector k-alt k-edit-form-container"),this._dataSource(),this._layout(),this.refresh(),l.notify(this);},events:[],options:{name:"PivotConfigurator",filterable:!1,sortable:!1,messages:{measures:"Drop Data Fields Here",columns:"Drop Column Fields Here",rows:"Drop Rows Fields Here",measuresLabel:"Measures",columnsLabel:"Columns",rowsLabel:"Rows",fieldsLabel:"Fields"}},_dataSource:function _dataSource(){var t=this;t.dataSource&&t._refreshHandler?t.dataSource.unbind("change",t._refreshHandler).unbind("error",t._errorHandler).unbind("progress",t._progressHandler):(t._errorHandler=e.proxy(t._error,t),t._refreshHandler=e.proxy(t.refresh,t),t._progressHandler=e.proxy(t._requestStart,t)),t.dataSource=l.data.PivotDataSource.create(t.options.dataSource),t.dataSource.bind("change",t._refreshHandler).bind("error",t._errorHandler).bind("progress",t._progressHandler);},setDataSource:function setDataSource(e){this.options.dataSource=e,this._dataSource(),this.measures&&this.measures.setDataSource(e),this.rows&&this.rows.setDataSource(e),this.columns&&this.columns.setDataSource(e),this.refresh();},_treeViewDataSource:function _treeViewDataSource(){var t=this;return l.data.HierarchicalDataSource.create({schema:{model:{id:"uniqueName",hasChildren:function hasChildren(e){return!("hierarchyUniqueName"in e||"aggregator"in e);}}},transport:{read:function read(i){var r,a,l;e.isEmptyObject(i.data)?(r=t.dataSource.schemaDimensions(),r.done(function(e){t.dataSource.cubeBuilder||n(e),i.success(e);}).fail(i.error)):(a=t.treeView.dataSource.get(i.data.uniqueName),"[KPIs]"===a.uniqueName?(l=!0,r=t.dataSource.schemaKPIs(),r.done(function(e){i.success(o(e));}).fail(i.error)):"kpi"==a.type&&(l=!0,i.success(s(a))),l||(r=2==a.type?t.dataSource.schemaMeasures():a.dimensionUniqueName?t.dataSource.schemaLevels(i.data.uniqueName):t.dataSource.schemaHierarchies(i.data.uniqueName),r.done(i.success).fail(i.error)));}}});},_progress:function _progress(e){l.ui.progress(this.element,e);},_error:function _error(){this._progress(!1);},_requestStart:function _requestStart(){this._progress(!0);},_layout:function _layout(){this.form=e('<div class="k-columns k-state-default k-floatwrap"/>').appendTo(this.element),this._fields(),this._targets();},_fields:function _fields(){var t=e('<div class="k-state-default"><p class="k-reset"><span class="k-icon k-i-group"></span>'+this.options.messages.fieldsLabel+"</p></div>").appendTo(this.form),n='# if (item.type == 2 || item.uniqueName == "[KPIs]") { #<span class="k-icon k-i-#= (item.type == 2 ? "sum" : "kpi") #"></span># } else if (item.type && item.type !== "kpi") { #<span class="k-icon k-i-dimension"></span># } ##: item.caption || item.name #';this.treeView=e("<div/>").appendTo(t).kendoTreeView({template:n,dataTextField:"caption",dragAndDrop:!0,autoBind:!1,dataSource:this._treeViewDataSource(),dragstart:function dragstart(e){var t=this.dataItem(e.sourceNode);(t.hasChildren||t.aggregator||t.measure)&&2!=t.type&&"[KPIs]"!==t.uniqueName||e.preventDefault();},drag:function drag(e){var t="k-denied",n=r(e.dropTarget);n&&n.validate(this.dataItem(e.sourceNode))&&(t="k-add"),e.setStatusClass(t);},drop:function drop(e){var t,n,o,a,l,c;if(e.preventDefault(),t=r(e.dropTarget),n=this.dataItem(e.sourceNode),t&&t.validate(n)){if(c=n.defaultHierarchy||n.uniqueName,"kpi"===n.type)for(l=s(n),a=l.length,c=[],o=0;a>o;o++){c.push(i(l[o]));}else n.kpi&&(c=[i(n)]);t.add(c);}}}).data("kendoTreeView");},_createTarget:function _createTarget(t,n){var i='<li class="k-item k-header" data-'+l.ns+'name="${data.name}">${data.name}',o=n.sortable,r="";return o&&(r+="#if (data.sortIcon) {#",r+='<span class="k-icon ${data.sortIcon} k-setting-sort"></span>',r+="#}#"),(n.filterable||o)&&(r+='<span class="k-icon k-i-arrowhead-s k-setting-fieldmenu"></span>'),r+='<span class="k-icon k-si-close k-setting-delete"></span>',i+='<span class="k-field-actions">'+r+"</span></li>",new l.ui.PivotSettingTarget(t,e.extend({dataSource:this.dataSource,hint:function hint(t){var n=e('<div class="k-fieldselector"><ul class="k-list k-reset"></ul></div>');return n.find(".k-list").append(t.clone()),n;},template:i,emptyTemplate:'<li class="k-item k-empty">${data}</li>'},n));},_targets:function _targets(){var t=e('<div class="k-state-default"/>').appendTo(this.form),n=e(f({name:this.options.messages.columnsLabel,icon:"k-i-vbars"})).appendTo(t),i=e('<ul class="k-pivot-configurator-settings k-list k-reset" />').appendTo(n.last()),o=e(f({name:this.options.messages.rowsLabel,icon:"k-i-hbars"})).appendTo(t),r=e('<ul class="k-pivot-configurator-settings k-list k-reset" />').appendTo(o.last()),a=e(f({name:this.options.messages.measuresLabel,icon:"k-i-sum"})).appendTo(t),s=e('<ul class="k-pivot-configurator-settings k-list k-reset" />').appendTo(a.last()),l=this.options;this.columns=this._createTarget(i,{filterable:l.filterable,sortable:l.sortable,connectWith:r,messages:{empty:l.messages.columns,fieldMenu:l.messages.fieldMenu}}),this.rows=this._createTarget(r,{filterable:l.filterable,setting:"rows",connectWith:i,messages:{empty:this.options.messages.rows,fieldMenu:this.options.messages.fieldMenu}}),this.measures=this._createTarget(s,{setting:"measures",messages:{empty:l.messages.measures}}),i.add(r).add(s).on(h,".k-item:not(.k-empty)",this._toggleHover);},_toggleHover:function _toggleHover(t){e(t.currentTarget).toggleClass("k-state-hover","mouseenter"===t.type);},_resize:function _resize(){var e,t,n=this.element,i=this.options.height;i&&(n.height(i),n.is(":visible")&&(t=n.children(".k-columns").children("div.k-state-default"),i=n.innerHeight(),e=(n.outerHeight()-i)/2,i=i-(t.outerHeight(!0)-t.height())-e,t.height(i)));},refresh:function refresh(){var e=this.dataSource;(e.cubeBuilder||this._cube!==e.cube()||this._catalog!==e.catalog())&&this.treeView.dataSource.fetch(),this._catalog=this.dataSource.catalog(),this._cube=this.dataSource.cube(),this._resize(),this._progress(!1);},destroy:function destroy(){d.fn.destroy.call(this),this.dataSource.unbind("change",this._refreshHandler),this.form.find(".k-list").off(u),this.rows.destroy(),this.columns.destroy(),this.measures.destroy(),this.treeView.destroy(),this.element=null,this._refreshHandler=null;}});c.plugin(p);}(window.kendo.jQuery),window.kendo;},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("kendo.angular.min",["kendo.core.min"],e);}(function(){return function(e,t,n){"use strict";function i(e){var t=T;try{return T=function T(e){return e();},e();}finally{T=t;}}function o(t,i,o,c,d,g){function v(){var n,g,v,_,b,x,S;return o.kRebind&&(n=e(e(i)[0].cloneNode(!0))),C=r(t,i,o,c,k).options,i.is("select")&&!function(t){if(t.length>0){var n=e(t[0]);!/\S/.test(n.text())&&/^\?/.test(n.val())&&n.remove();}}(i[0].options),g=k.call(i,E=C).data(c),l(g,t,o,c,d),t.$emit("kendoWidgetCreated",g),v=f(t,g),o.kRebind&&m(g,t,i,n,o.kRebind,v,o),o.kNgDisabled&&(_=o.kNgDisabled,b=t.$eval(_),b&&g.enable(!b),a(g,t,i,_)),o.kNgReadonly&&(x=o.kNgReadonly,S=t.$eval(x),S&&g.readonly(S),s(g,t,i,x)),o.kNgModel&&h(g,t,o.kNgModel),w&&u(g,t,i,w,y),g&&p(g,i),g;}var _,b,w,y,k,x,C,S,D,A,R,I,F,M;if(!(i instanceof jQuery))throw Error("The Kendo UI directives require jQuery to be available before AngularJS. Please include jquery before angular in the document.");if(_=o.kNgDelay,b=t.$eval(_),g=g||[],w=g[0],y=g[1],k=e(i)[c],!k)return window.console.error("Could not find: "+c),null;if(x=r(t,i,o,c,k),C=x.options,x.unresolved.length){for(S=[],D=0,A=x.unresolved.length;A>D;D++){R=x.unresolved[D],I=e.Deferred(function(e){var i=t.$watch(R.path,function(t){t!==n&&(i(),e.resolve());});}).promise(),S.push(I);}return e.when.apply(null,S).then(v),n;}return _&&!b?(F=t.$root||t,M=function M(){var e=t.$watch(_,function(t){t!==n&&(e(),i.removeAttr(o.$attr.kNgDelay),_=null,T(v));});},/^\$(digest|apply)$/.test(F.$$phase)?M():t.$apply(M),n):v();}function r(i,o,r,a,s){function l(e,o){var r=t.copy(i.$eval(o));r===n?p.push({option:e,path:o}):c[e]=r;}var c,d,u,h,f=a.replace(/^kendo/,""),p=[],m=r.kOptions||r.options,g=i.$eval(m);return m&&g===n&&p.push({option:"options",path:m}),c=t.extend({},r.defaultOptions,g),d=s.widget.prototype.options,u=s.widget.prototype.events,e.each(r,function(e,t){var n,i,o,r;"source"!==e&&"kDataSource"!==e&&"kScopeField"!==e&&"scopeField"!==e&&(n="data"+e.charAt(0).toUpperCase()+e.slice(1),0===e.indexOf("on")&&(i=e.replace(/^on./,function(e){return e.charAt(2).toLowerCase();}),u.indexOf(i)>-1&&(c[i]=t)),d.hasOwnProperty(n)?l(n,t):d.hasOwnProperty(e)&&!F[e]?l(e,t):I[e]||(o=e.match(/^k(On)?([A-Z].*)/),o&&(r=o[2].charAt(0).toLowerCase()+o[2].slice(1),o[1]&&"kOnLabel"!=e?c[r]=t:("kOnLabel"==e&&(r="onLabel"),l(r,t)))));}),h=r.kDataSource||r.source,h&&(c.dataSource=R(i,o,f,h)),c.$angular=[i],{options:c,unresolved:p};}function a(e,t,i,o){return kendo.ui.PanelBar&&e instanceof kendo.ui.PanelBar||kendo.ui.Menu&&e instanceof kendo.ui.Menu?(A.warn("k-ng-disabled specified on a widget that does not have the enable() method: "+e.options.name),n):(t.$watch(o,function(t,n){t!=n&&e.enable(!t);}),n);}function s(e,t,i,o){return"function"!=typeof e.readonly?(A.warn("k-ng-readonly specified on a widget that does not have the readonly() method: "+e.options.name),n):(t.$watch(o,function(t,n){t!=n&&e.readonly(t);}),n);}function l(e,t,n,i,o){if(n[o]){var r=S(n[o]).assign;if(!r)throw Error(o+" attribute used but expression in it is not assignable: "+n[i]);r(t,e);}}function c(e){return /checkbox|radio/i.test(e.attr("type"))?e.prop("checked"):e.val();}function d(e){return M.test(e[0].tagName);}function u(e,t,i,o,r){var a,s,l,u;e.value&&(s=!1,a=d(i)?function(){return c(i);}:function(){return e.value();},o.$render=function(){var i=o.$viewValue;i===n&&(i=o.$modelValue),i===n&&(i=null),s=!0,setTimeout(function(){if(s=!1,e){var n=t[e.element.attr("k-ng-model")];n&&(i=n),e.options.autoBind!==!1||e.listView.bound()?e.value(i):i&&e.value(i);}},0);},d(i)&&i.on("change",function(){s=!0;}),l=function l(e){return function(){var n;s||(e&&r&&(n=r.$pristine),o.$setViewValue(a()),e&&(o.$setPristine(),n&&r.$setPristine()),w(t));};},e.first("change",l(!1)),kendo.ui.AutoComplete&&e instanceof kendo.ui.AutoComplete||e.first("dataBound",l(!0)),u=a(),isNaN(o.$viewValue)||u==o.$viewValue||(o.$isEmpty(o.$viewValue)?null!=u&&""!==u&&u!=o.$viewValue&&o.$setViewValue(u):e.value(o.$viewValue)),o.$setPristine());}function h(t,i,o){var r,a,s,l,c,d,u,h,f;return"function"!=typeof t.value?(A.warn("k-ng-model specified on a widget that does not have the value() method: "+t.options.name),n):(r=e(t.element).parents("form"),a=kendo.getter(r.attr("name"))(i),s=S(o),l=s.assign,c=!1,d=kendo.ui.MultiSelect&&t instanceof kendo.ui.MultiSelect,u=function u(e){return e&&d?e.length:0;},h=u(s(i)),t.$angular_setLogicValue(s(i)),f=function f(e,i){e===n&&(e=null),c||e==i&&u(e)==h||(h=u(e),t.$angular_setLogicValue(e));},d?i.$watchCollection(o,f):i.$watch(o,f),t.first("change",function(){c=!0,a&&a.$pristine&&a.$setDirty(),w(i,function(){l(i,t.$angular_getLogicValue()),h=u(s(i));}),c=!1;}),n);}function f(e,t){var n=e.$on("$destroy",function(){n(),t&&(kendo.destroy(t.element),t=null);});return n;}function p(t,n){function i(){a.disconnect();}function o(){a.observe(e(n)[0],{attributes:!0});}var r,a;window.MutationObserver&&t.wrapper&&(r=[].slice.call(e(n)[0].classList),a=new MutationObserver(function(n){i(),t&&(n.forEach(function(n){var i,o=e(t.wrapper)[0];switch(n.attributeName){case"class":i=[].slice.call(n.target.classList),i.forEach(function(e){r.indexOf(e)<0&&(o.classList.add(e),kendo.ui.ComboBox&&t instanceof kendo.ui.ComboBox&&t.input[0].classList.add(e));}),r.forEach(function(e){i.indexOf(e)<0&&(o.classList.remove(e),kendo.ui.ComboBox&&t instanceof kendo.ui.ComboBox&&t.input[0].classList.remove(e));}),r=i;break;case"disabled":"function"!=typeof t.enable||t.element.attr("readonly")||t.enable(!e(n.target).attr("disabled"));break;case"readonly":"function"!=typeof t.readonly||t.element.attr("disabled")||t.readonly(!!e(n.target).attr("readonly"));}}),o());}),o(),t.first("destroy",i));}function m(t,n,i,o,r,a,s){var l=n.$watch(r,function(r,c){var d,u,h,f,p;t._muteRebind||r===c||(l(),s._cleanUp&&s._cleanUp(),d=H[t.options.name],d&&d.forEach(function(t){var i=n.$eval(s["k"+t]);i&&o.append(e(i).attr(kendo.toHyphens("k"+t),""));}),u=e(t.wrapper)[0],h=e(t.element)[0],f="Upload"===t.options.name,f&&(i=e(h)),p=i.injector().get("$compile"),t._destroy(),a&&a(),t=null,h&&(u&&u.parentNode.replaceChild(h,u),e(i).replaceWith(o)),p(o)(n));},!0);w(n);}function g(e,t){return function(n,i){return e.call(t,n,i);};}function v(e,t){this[e]=kendo.stringify(t);}function _(e,n){function i(e,t){x.directive(e,["directiveFactory",function(n){return n.create(t,e);}]);}var o,r,a,s,l=n?"Mobile":"";l+=e.fn.options.name,o=l,r="kendo"+l.charAt(0)+l.substr(1).toLowerCase(),l="kendo"+l,a=l.replace(/([A-Z])/g,"-$1"),-1==z.indexOf(l.replace("kendo",""))&&(s=l===r?[l]:[l,r],t.forEach(s,function(e){x.directive(e,function(){return{restrict:"E",replace:!0,template:function template(e,t){var n=P[o]||"div",i=t.kScopeField||t.scopeField;return"<"+n+" "+a+(i?'="'+i+'"':"")+">"+e.html()+"</"+n+">";}};});})),B.indexOf(l.replace("kendo",""))>-1||(i(l,l),r!=l&&i(r,l));}function b(t){return t=e(t),kendo.widgetInstance(t,kendo.ui)||kendo.widgetInstance(t,kendo.mobile.ui)||kendo.widgetInstance(t,kendo.dataviz.ui);}function w(e,t){var n=e.$root||e,i=/^\$(digest|apply)$/.test(n.$$phase);t?i?t():n.$apply(t):i||n.$digest();}function y(t,n){t.$destroy(),n&&e(n).removeData("$scope").removeData("$$kendoScope").removeData("$isolateScope").removeData("$isolateScopeNoTemplate").removeClass("ng-scope");}function k(n,i,o){var r,a,s;if(e.isArray(n))return t.forEach(n,function(e){k(e,i,o);});if("string"==typeof n){for(r=n.split("."),a=kendo;a&&r.length>0;){a=a[r.shift()];}if(!a)return L.push([n,i,o]),!1;n=a.prototype;}return s=n[i],n[i]=function(){var e=this,t=arguments;return o.apply({self:e,next:function next(){return s.apply(e,arguments.length>0?arguments:t);}},t);},!0;}var x,C,S,T,D,A,E,R,I,F,M,P,z,B,L,H;t&&t.injector&&(x=t.module("kendo.directives",[]),C=t.injector(["ng"]),S=C.get("$parse"),T=C.get("$timeout"),A=C.get("$log"),R=function(){var e={TreeList:"TreeListDataSource",TreeView:"HierarchicalDataSource",Scheduler:"SchedulerDataSource",PivotGrid:"PivotDataSource",PivotConfigurator:"PivotDataSource",PanelBar:"$PLAIN",Menu:"$PLAIN",ContextMenu:"$PLAIN"},t=function t(e,_t7){return"$PLAIN"==_t7?e:kendo.data[_t7].create(e);};return function(n,i,o,r){var a=e[o]||"DataSource",s=n.$eval(r),l=t(s,a);return n.$watch(r,function(e){var n,o=b(i);o&&"function"==typeof o.setDataSource&&e!==s&&(n=t(e,a),o.setDataSource(n),s=e);}),l;};}(),I={kDataSource:!0,kOptions:!0,kRebind:!0,kNgModel:!0,kNgDelay:!0},F={name:!0,title:!0,style:!0},M=/^(input|select|textarea)$/i,x.factory("directiveFactory",["$compile",function(t){var n,i,r=!1;return D=t,i=function i(t,_i7){return{restrict:"AC",require:["?ngModel","^?form"],scope:!1,controller:["$scope","$attrs","$element",function(e,t){this.template=g(v,t),t._cleanUp=g(function(){this.template=null,t._cleanUp=null;},this);}],link:function link(a,s,l,c){var d,u=e(s),h=t.replace(/([A-Z])/g,"-$1");u.attr(h,u.attr("data-"+h)),u[0].removeAttribute("data-"+h),d=o(a,s,l,t,_i7,c),d&&(n&&clearTimeout(n),n=setTimeout(function(){a.$emit("kendoRendered"),r||(r=!0,e("form").each(function(){var t=e(this).controller("form");t&&t.$setPristine();}));}));}};},{create:i};}]),P={Editor:"textarea",NumericTextBox:"input",DatePicker:"input",DateTimePicker:"input",TimePicker:"input",AutoComplete:"input",ColorPicker:"input",MaskedTextBox:"input",MultiSelect:"input",Upload:"input",Validator:"form",Button:"button",MobileButton:"a",MobileBackButton:"a",MobileDetailButton:"a",ListView:"ul",MobileListView:"ul",TreeView:"ul",Menu:"ul",ContextMenu:"ul",ActionSheet:"ul"},z=["MobileView","MobileDrawer","MobileLayout","MobileSplitView","MobilePane","MobileModalView"],B=["MobileApplication","MobileView","MobileModalView","MobileLayout","MobileActionSheet","MobileDrawer","MobileSplitView","MobilePane","MobileScrollView","MobilePopOver"],t.forEach(["MobileNavBar","MobileButton","MobileBackButton","MobileDetailButton","MobileTabStrip","MobileScrollView","MobileScroller"],function(e){B.push(e),e="kendo"+e,x.directive(e,function(){return{restrict:"A",link:function link(t,n,i){o(t,n,i,e,e);}};});}),L=[],kendo.onWidgetRegistered(function(t){L=e.grep(L,function(e){return!k.apply(null,e);}),_(t.widget,"Mobile"==t.prefix);}),k(["ui.Widget","mobile.ui.Widget"],"angular",function(o,r){var a,s=this.self;return"init"==o?(!r&&E&&(r=E),E=null,r&&r.$angular&&(s.$angular_scope=r.$angular[0],s.$angular_init(s.element,r)),n):(a=s.$angular_scope,a&&i(function(){var i,l,c=r(),d=c.elements,u=c.data;if(d.length>0)switch(o){case"cleanup":t.forEach(d,function(t){var n=e(t).data("$$kendoScope");n&&n!==a&&n.$$kendoScope&&y(n,t);});break;case"compile":i=s.element.injector(),l=i?i.get("$compile"):D,t.forEach(d,function(t,i){var o,r;c.scopeFrom?o=c.scopeFrom:(r=u&&u[i],r!==n?(o=e.extend(a.$new(),r),o.$$kendoScope=!0):o=a),e(t).data("$$kendoScope",o),l(t)(o);}),w(a);}}),n);}),k("ui.Widget","$angular_getLogicValue",function(){return this.self.value();}),k("ui.Widget","$angular_setLogicValue",function(e){this.self.value(e);}),k("ui.Select","$angular_getLogicValue",function(){var e=this.self.dataItem(),t=this.self.options.dataValueField;return e?this.self.options.valuePrimitive?t?e[t]:e:e.toJSON():null;}),k("ui.Select","$angular_setLogicValue",function(e){var t=this.self,i=t.options,o=i.dataValueField,r=i.text||"";e===n&&(e=""),o&&!i.valuePrimitive&&e&&(r=e[i.dataTextField]||"",e=e[o||i.dataTextField]),t.options.autoBind!==!1||t.listView.bound()?t.value(e):!r&&e&&i.valuePrimitive?t.value(e):t._preselect(e,r);}),k("ui.MultiSelect","$angular_getLogicValue",function(){var t=this.self.dataItems().slice(0),n=this.self.options.dataValueField;return n&&this.self.options.valuePrimitive&&(t=e.map(t,function(e){return e[n];})),t;}),k("ui.MultiSelect","$angular_setLogicValue",function(t){var n,i,o,r;null==t&&(t=[]),n=this.self,i=n.options,o=i.dataValueField,r=t,o&&!i.valuePrimitive&&(t=e.map(t,function(e){return e[o];})),i.autoBind!==!1||i.valuePrimitive||n.listView.bound()?n.value(t):n._preselect(r,t);}),k("ui.AutoComplete","$angular_getLogicValue",function(){var e,t,n,i,o,r=this.self.options,a=this.self.value().split(r.separator),s=r.valuePrimitive,l=this.self.dataSource.data(),c=[];for(e=0,t=l.length;t>e;e++){for(n=l[e],i=r.dataTextField?n[r.dataTextField]:n,o=0;a.length>o;o++){if(i===a[o]){c.push(s?i:n.toJSON());break;}}}return c;}),k("ui.AutoComplete","$angular_setLogicValue",function(t){null==t&&(t=[]);var i=this.self,o=i.options.dataTextField;o&&!i.options.valuePrimitive&&(t=t.length!==n?e.map(t,function(e){return e[o];}):t[o]),i.value(t);}),k("ui.Widget","$angular_init",function(t,n){var i,o,r,a,s=this.self;if(n&&!e.isArray(n))for(i=s.$angular_scope,o=s.events.length;--o>=0;){r=s.events[o],a=n[r],a&&"string"==typeof a&&(n[r]=s.$angular_makeEventHandler(r,i,a));}}),k("ui.Widget","$angular_makeEventHandler",function(e,t,n){return n=S(n),function(e){w(t,function(){n(t,{kendoEvent:e});});};}),k(["ui.Grid","ui.ListView","ui.TreeView"],"$angular_makeEventHandler",function(e,n,i){return"change"!=e?this.next():(i=S(i),function(e){var o,r,a,s,l,c,d,u,h,f=e.sender,p=f.options,m={kendoEvent:e};for(t.isString(p.selectable)&&(o=-1!==p.selectable.indexOf("cell"),r=-1!==p.selectable.indexOf("multiple")),a=m.selected=this.select(),s=m.data=[],l=m.columns=[],d=0;a.length>d;d++){u=o?a[d].parentNode:a[d],h=f.dataItem(u),o?(t.element.inArray(h,s)<0&&s.push(h),c=t.element(a[d]).index(),t.element.inArray(c,l)<0&&l.push(c)):s.push(h);}r||(m.dataItem=m.data=s[0],m.angularDataItem=kendo.proxyModelSetters(m.dataItem),m.selected=a[0]),w(n,function(){i(n,m);});});}),k("ui.Grid","$angular_init",function(i,o){if(this.next(),o.columns){var r=e.extend({},kendo.Template,o.templateSettings);t.forEach(o.columns,function(e){!e.field||e.template||e.format||e.values||e.encoded!==n&&!e.encoded||(e.template="<span ng-bind='"+kendo.expr(e.field,"dataItem")+"'>#: "+kendo.expr(e.field,r.paramName)+"#</span>");});}}),k("mobile.ui.ButtonGroup","value",function(e){var t=this.self;return null!=e&&(t.select(t.element.children("li.km-button").eq(e)),t.trigger("change"),t.trigger("select",{index:t.selectedIndex})),t.selectedIndex;}),k("mobile.ui.ButtonGroup","_select",function(){this.next(),this.self.trigger("change");}),x.directive("kendoMobileApplication",function(){return{terminal:!0,link:function link(e,t,n){o(e,t,n,"kendoMobileApplication","kendoMobileApplication");}};}).directive("kendoMobileView",function(){return{scope:!0,link:{pre:function pre(e,t,n){n.defaultOptions=e.viewOptions,n._instance=o(e,t,n,"kendoMobileView","kendoMobileView");},post:function post(e,t,n){n._instance._layout(),n._instance._scroller();}}};}).directive("kendoMobileDrawer",function(){return{scope:!0,link:{pre:function pre(e,t,n){n.defaultOptions=e.viewOptions,n._instance=o(e,t,n,"kendoMobileDrawer","kendoMobileDrawer");},post:function post(e,t,n){n._instance._layout(),n._instance._scroller();}}};}).directive("kendoMobileModalView",function(){return{scope:!0,link:{pre:function pre(e,t,n){n.defaultOptions=e.viewOptions,n._instance=o(e,t,n,"kendoMobileModalView","kendoMobileModalView");},post:function post(e,t,n){n._instance._layout(),n._instance._scroller();}}};}).directive("kendoMobileSplitView",function(){return{terminal:!0,link:{pre:function pre(e,t,n){n.defaultOptions=e.viewOptions,n._instance=o(e,t,n,"kendoMobileSplitView","kendoMobileSplitView");},post:function post(e,t,n){n._instance._layout();}}};}).directive("kendoMobilePane",function(){return{terminal:!0,link:{pre:function pre(e,t,n){n.defaultOptions=e.viewOptions,o(e,t,n,"kendoMobilePane","kendoMobilePane");}}};}).directive("kendoMobileLayout",function(){return{link:{pre:function pre(e,t,n){o(e,t,n,"kendoMobileLayout","kendoMobileLayout");}}};}).directive("kendoMobileActionSheet",function(){return{restrict:"A",link:function link(t,n,i){n.find("a[k-action]").each(function(){e(this).attr("data-"+kendo.ns+"action",e(this).attr("k-action"));}),o(t,n,i,"kendoMobileActionSheet","kendoMobileActionSheet");}};}).directive("kendoMobilePopOver",function(){return{terminal:!0,link:{pre:function pre(e,t,n){n.defaultOptions=e.viewOptions,o(e,t,n,"kendoMobilePopOver","kendoMobilePopOver");}}};}).directive("kendoViewTitle",function(){return{restrict:"E",replace:!0,template:function template(e){return"<span data-"+kendo.ns+"role='view-title'>"+e.html()+"</span>";}};}).directive("kendoMobileHeader",function(){return{restrict:"E",link:function link(e,t){t.addClass("km-header").attr("data-role","header");}};}).directive("kendoMobileFooter",function(){return{restrict:"E",link:function link(e,t){t.addClass("km-footer").attr("data-role","footer");}};}).directive("kendoMobileScrollViewPage",function(){return{restrict:"E",replace:!0,template:function template(e){return"<div data-"+kendo.ns+"role='page'>"+e.html()+"</div>";}};}),t.forEach(["align","icon","rel","transition","actionsheetContext"],function(e){var t="k"+e.slice(0,1).toUpperCase()+e.slice(1);x.directive(t,function(){return{restrict:"A",priority:2,link:function link(n,i,o){i.attr(kendo.attr(kendo.toHyphens(e)),n.$eval(o[t]));}};});}),H={TreeMap:["Template"],MobileListView:["HeaderTemplate","Template"],MobileScrollView:["EmptyTemplate","Template"],Grid:["AltRowTemplate","DetailTemplate","RowTemplate"],ListView:["EditTemplate","Template","AltTemplate"],Pager:["SelectTemplate","LinkTemplate"],PivotGrid:["ColumnHeaderTemplate","DataCellTemplate","RowHeaderTemplate"],Scheduler:["AllDayEventTemplate","DateHeaderTemplate","EventTemplate","MajorTimeHeaderTemplate","MinorTimeHeaderTemplate"],TreeView:["Template"],Validator:["ErrorTemplate"]},function(){var e={};t.forEach(H,function(n,i){t.forEach(n,function(t){e[t]||(e[t]=[]),e[t].push("?^^kendo"+i);});}),t.forEach(e,function(e,t){var n="k"+t,i=kendo.toHyphens(n);x.directive(n,function(){return{restrict:"A",require:e,terminal:!0,compile:function compile(t,o){if(""===o[n]){t.removeAttr(i);var r=t[0].outerHTML;return function(t,o,a,s){for(var l;!l&&s.length;){l=s.shift();}l?(l.template(n,r),o.remove()):A.warn(i+" without a matching parent widget found. It can be one of the following: "+e.join(", "));};}}};});});}());}(window.kendo.jQuery,window.angular),window.kendo;},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("kendo.webcomponents.min",["kendo.core.min"],e);}(function(){return function(e,t,n){function i(e,t){var i=e.getAttribute(t);return null===i?i=n:"null"===i?i=null:"true"===i?i=!0:"false"===i?i=!1:p.test(i)?i=parseFloat(i):h.test(i)&&!f.test(i)&&(i=Function("return ("+i+")")()),i;}function o(e,t){var n={};return Object.keys(t).concat("dataSource").forEach(function(t){e.hasAttribute(kendo.toHyphens(t))&&(n[t]=i(e,kendo.toHyphens(t)));}),n;}function r(e){var t={};return Object.keys(e).forEach(function(n){"_"!=n[0]&&(t[n]=e[n]);}),t;}function a(e,t){var n=document.createEvent("CustomEvent");n.initCustomEvent(e,!1,!0,r(t)),this.dispatchEvent(n),n.defaultPrevented&&t.preventDefault();}function s(e,t){var n,i=Object.keys(t);for(n=0;i.length>=n;n++){if("function"==typeof t[i[n]])e[i[n]]||(e[i[n]]=t[i[n]].bind(e.widget));else{if("options"===i[n])continue;e[i[n]]=e[i[n]]||t[i[n]];}}}function l(t,n){var i=n.prototype.options,r=Object.create(HTMLElement.prototype);Object.defineProperty(r,"options",{get:function get(){return this.widget.options;},set:function set(n){var i,o,r,a=this.widget;n=e.extend(!0,{},a.options,n),i=e(a.wrapper)[0],o=e(a.element)[0],a._destroy(),r=document.createElement(c[t]||"div"),i&&o&&(i.parentNode.replaceChild(o,i),e(o).replaceWith(r)),a.value&&(n.value=a.value()),a.init(r,n),this.bindEvents();}}),r.bindEvents=function(){n.prototype.events.forEach(function(e){this.widget.bind(e,a.bind(this,e)),this.hasAttribute(d+e)&&this.bind(e,function(t){window[this.getAttribute(d+e)].call(this,t);}.bind(this));}.bind(this));},r.attachedCallback=function(){var r,a=this,l=document.createElement(c[t]||"div");e(l).append(a.childNodes),e(l).attr("class",e(a).attr("class")),e(l).attr("style",e(a).attr("style")),a.appendChild(l),a.widget=new n(l,o(a,i)),r=a.widget;do{s(a,r);}while(r=Object.getPrototypeOf(r));this.bindEvents();},r.detachedCallback=function(){kendo.destroy(this.element);},kendo.webComponents.push("kendo-"+t),document.registerElement("kendo-"+t,{prototype:r});}var c,d,u,h,f,p;kendo.support.customElements&&!kendo.webComponents.length&&(t&&(1==t.version.major||t.injector)||(c={editor:"textarea",numerictextbox:"input",datepicker:"input",datetimepicker:"input",timepicker:"input",autocomplete:"input",colorpicker:"input",maskedtextbox:"input",dropdownlist:"select",multiselect:"select",upload:"input",validator:"form",button:"button",mobilebutton:"a",mobilebackbutton:"a",mobiledetailbutton:"a",listview:"ul",mobilelistview:"ul",treeview:"ul",menu:"ul",contextmenu:"ul",actionsheet:"ul"},d="on-",u=[],kendo.onWidgetRegistered(function(e){var t=e.prefix+e.widget.prototype.options.name.toLowerCase();-1===u.indexOf(t)&&(u.push(t),l(t,e.widget));}),h=/^\s*(?:\{(?:.|\r\n|\n)*\}|\[(?:.|\r\n|\n)*\])\s*$/,f=/^\{(\d+)(:[^\}]+)?\}|^\[[A-Za-z_]*\]$/,p=/^(\+|-?)\d+(\.?)\d*$/));}(window.kendo.jQuery,window.angular),window.kendo;},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("kendo.angular2.min",["kendo.core.min","kendo.webcomponents.min"],e);}(function(){!function(e,t){var n,i;t&&t.register&&(n=this&&this.__decorate||function(e,t,n,i){if("object"==(typeof Reflect==="undefined"?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)return Reflect.decorate(e,t,n,i);switch(arguments.length){case 2:return e.reduceRight(function(e,t){return t&&t(e)||e;},t);case 3:return e.reduceRight(function(e,i){return void(i&&i(t,n));},void 0);case 4:return e.reduceRight(function(e,i){return i&&i(t,n,e)||e;},i);}},i=this&&this.__metadata||function(e,t){return"object"==(typeof Reflect==="undefined"?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0;},t.register("kendo/angular2",["angular2/angular2"],function(t){var o,r;return{setters:[function(e){o=e;}],execute:function execute(){r=function(){function t(e,t){var n=this;this.elementRef=t,this.onChange=function(e){},this.onTouched=function(){},this.element=t.nativeElement,this.element.addEventListener("change",function(){n.onChange(n.element.value());}),this.element.addEventListener("spin",function(){n.onChange(n.element.value());}),e.valueAccessor=this,this.cd=e,e.valueAccessor=this;}return t.prototype.writeValue=function(e){this.element.value(e);},t.prototype.registerOnChange=function(e){this.onChange=e;},t.prototype.registerOnTouched=function(e){this.onTouched=e;},t=n([o.Directive({selector:e.webComponents.join(",")}),i("design:paramtypes",[o.NgControl,o.ElementRef])],t);}(),t("KendoValueAccessor",r);}};}));}(window.kendo,window.System);},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("kendo.web.min",["kendo.core.min","kendo.router.min","kendo.view.min","kendo.fx.min","kendo.dom.min","kendo.data.odata.min","kendo.data.xml.min","kendo.data.min","kendo.ooxml.min","kendo.excel.min","kendo.data.signalr.min","kendo.binder.min","kendo.drawing.min","kendo.validator.min","kendo.userevents.min","kendo.draganddrop.min","kendo.mobile.scroller.min","kendo.groupable.min","kendo.reorderable.min","kendo.resizable.min","kendo.sortable.min","kendo.selectable.min","kendo.button.min","kendo.pager.min","kendo.popup.min","kendo.notification.min","kendo.tooltip.min","kendo.list.min","kendo.calendar.min","kendo.datepicker.min","kendo.autocomplete.min","kendo.dropdownlist.min","kendo.combobox.min","kendo.multiselect.min","kendo.colorpicker.min","kendo.columnmenu.min","kendo.columnsorter.min","kendo.grid.min","kendo.listview.min","kendo.filebrowser.min","kendo.imagebrowser.min","kendo.editor.min","kendo.numerictextbox.min","kendo.maskedtextbox.min","kendo.menu.min","kendo.editable.min","kendo.pivot.fieldmenu.min","kendo.filtercell.min","kendo.panelbar.min","kendo.progressbar.min","kendo.responsivepanel.min","kendo.tabstrip.min","kendo.timepicker.min","kendo.toolbar.min","kendo.datetimepicker.min","kendo.treeview.draganddrop.min","kendo.treeview.min","kendo.slider.min","kendo.splitter.min","kendo.upload.min","kendo.window.min","kendo.virtuallist.min","kendo.scheduler.view.min","kendo.scheduler.dayview.min","kendo.scheduler.agendaview.min","kendo.scheduler.monthview.min","kendo.scheduler.recurrence.min","kendo.scheduler.min","kendo.gantt.list.min","kendo.gantt.timeline.min","kendo.gantt.min","kendo.treelist.min","kendo.pivotgrid.min","kendo.spreadsheet.min","kendo.pivot.configurator.min","kendo.angular.min","kendo.webcomponents.min","kendo.angular2.min"],e);}(function(){"bundle all";return window.kendo;},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("kendo.dataviz.core.min",["kendo.core.min","kendo.drawing.min"],e);}(function(){return function(e,t){function n(e,t){var n={top:0,right:0,bottom:0,left:0};return t=t||0,"number"==typeof e?n[Le]=n[Be]=n[de]=n[De]=e:(n[Le]=e[Le]||t,n[Be]=e[Be]||t,n[de]=e[de]||t,n[De]=e[De]||t),n;}function i(e,t){var n=e.tickX,i=e.tickY,o=e.position,r=new J.Path({stroke:{width:t.width,color:t.color}});return e.vertical?r.moveTo(n,o).lineTo(n+t.size,o):r.moveTo(o,i).lineTo(o,i+t.size),y(r),r;}function o(e,t){var n=e.lineStart,i=e.lineEnd,o=e.position,r=new J.Path({stroke:{width:t.width,color:t.color,dashType:t.dashType}});return e.vertical?r.moveTo(n,o).lineTo(i,o):r.moveTo(o,n).lineTo(o,i),y(r),r;}function r(e,t){var n,i,o,r=u(t-e,be-1);if(0===r){if(0===t)return .1;r=ae.abs(t);}return n=ae.pow(10,ae.floor(ae.log(r)/ae.log(10))),i=u(r/n,be),o=1,o=1.904762>i?.2:4.761904>i?.5:9.523809>i?1:2,u(n*o,be);}function a(e,t,n,i,o){var r=o*ye;return new je(n+(e-n)*ae.cos(r)+(t-i)*ae.sin(r),i-(e-n)*ae.sin(r)+(t-i)*ae.cos(r));}function s(t,n){if(t.x1==n.x1&&t.y1==n.y1&&t.x2==n.x2&&t.y2==n.y2)return n;var i=ae.min(t.x1,n.x1),o=ae.max(t.x1,n.x1),r=ae.min(t.x2,n.x2),a=ae.max(t.x2,n.x2),s=ae.min(t.y1,n.y1),l=ae.max(t.y1,n.y1),c=ae.min(t.y2,n.y2),d=ae.max(t.y2,n.y2),u=[];return u[0]=_S(o,s,r,l),u[1]=_S(i,l,o,c),u[2]=_S(r,l,a,c),u[3]=_S(o,c,r,d),t.x1==i&&t.y1==s||n.x1==i&&n.y1==s?(u[4]=_S(i,s,o,l),u[5]=_S(r,c,a,d)):(u[4]=_S(r,s,a,l),u[5]=_S(i,c,o,d)),e.grep(u,function(e){return e.height()>0&&e.width()>0;})[0];}function l(e,t){return-1!=ie(e,t);}function c(e,t){return u(ae.ceil(e/t)*t,be);}function d(e,t){return u(ae.floor(e/t)*t,be);}function u(e,t){var n=ae.pow(10,t||0);return ae.round(e*n)/n;}function h(e,t){return ae.log(e)/ae.log(t);}function f(e,t,n){var i=u(ae.abs(e%t),be),o=t*(1-n);return 0===i||i>o;}function p(e,t,n){return u(e+(t-e)*n,he);}function m(e,t){return e-t;}function g(e,t){return e.match(ke)?j.format.apply(this,arguments):j.toString(t,e);}function v(e,t){return 0>-e.x*t.y+e.y*t.x;}function _(e,t){return e&&t?e.getTime()-t.getTime():-1;}function b(e){var t=e.originalEvent,n=0;return t.wheelDelta&&(n=-t.wheelDelta/120,n=n>0?ae.ceil(n):ae.floor(n)),t.detail&&(n=u(t.detail/3)),n;}function w(e){if(!e||!e.indexOf||e.indexOf("&")<0)return e;var t=w._element;return t.innerHTML=e,t.textContent||t.innerText;}function y(e){var t,n;if(!j.support.vml)for(t=.5,e.options.stroke&&$(e.options.stroke.width)&&e.options.stroke.width%2===0&&(t=0),n=0;e.segments.length>n;n++){e.segments[n].anchor().round(0).translate(t,t);}return e;}function k(e){var t,n,i=e.stops,o=e.innerRadius/e.radius*100,r=i.length,a=[];for(t=0;r>t;t++){n=se({},i[t]),n.offset=(n.offset*(100-o)+o)/100,a.push(n);}return a;}function x(e){var t=e.origin,n=e.bottomRight();return new _S(t.x,t.y,n.x,n.y);}function C(t){t=t||{};var n=e(t.touch?t.touch.initialTouch:t.target);return n;}var _S,T,D,A,E,R,I,F,M,P,z,B,L,H,N,O,V,U,W,j=window.kendo,q=j.util,G=q.append,$=q.defined,Y=q.last,K=q.valueOrDefault,Q=j.dataviz,X=Q.geometry,J=Q.drawing,Z=J.util.measureText,ee=j.Class,te=j.template,ne=e.noop,ie=e.inArray,oe=e.isPlainObject,re=e.trim,ae=Math,se=j.deepExtend,le="axisLabelClick",ce="#000",de="bottom",ue="center",he=3,fe="clip",pe="circle",me="cross",ge="12px sans-serif",ve=400,_e=7,be=10,we=600,ye=ae.PI/180,ke=/\{\d+:?/,xe="height",Ce=1e5,Se=600,Te="inside",De="left",Ae="linear",Ee=Number.MAX_VALUE,Re=-Number.MAX_VALUE,Ie="none",Fe="noteClick",Me="noteHover",Pe="outside",ze="radial",Be="right",Le="top",He="triangle",Ne="width",Oe="#fff",Ve="x",Ue="y",We=.2,je=function je(e,n){var i=this;return i instanceof je?(i.x=e||0,i.y=n||0,t):new je(e,n);};je.fn=je.prototype={clone:function clone(){var e=this;return new je(e.x,e.y);},equals:function equals(e){return e&&e.x===this.x&&e.y===this.y;},rotate:function rotate(e,t){var n=this,i=t*ye,o=ae.cos(i),r=ae.sin(i),a=e.x,s=e.y,l=n.x,c=n.y;return n.x=u(a+(l-a)*o+(c-s)*r,he),n.y=u(s+(c-s)*o-(l-a)*r,he),n;},multiply:function multiply(e){var t=this;return t.x*=e,t.y*=e,t;},distanceTo:function distanceTo(e){var t=this.x-e.x,n=this.y-e.y;return ae.sqrt(t*t+n*n);}},je.onCircle=function(e,t,n){return t*=ye,new je(e.x-n*ae.cos(t),e.y-n*ae.sin(t));},_S=function S(e,n,i,o){var r=this;return r instanceof _S?(r.x1=e||0,r.x2=i||0,r.y1=n||0,r.y2=o||0,t):new _S(e,n,i,o);},_S.fn=_S.prototype={width:function width(){return this.x2-this.x1;},height:function height(){return this.y2-this.y1;},translate:function translate(e,t){var n=this;return n.x1+=e,n.x2+=e,n.y1+=t,n.y2+=t,n;},move:function move(e,t){var n=this,i=n.height(),o=n.width();return $(e)&&(n.x1=e,n.x2=n.x1+o),$(t)&&(n.y1=t,n.y2=n.y1+i),n;},wrap:function wrap(e){var t=this;return t.x1=ae.min(t.x1,e.x1),t.y1=ae.min(t.y1,e.y1),t.x2=ae.max(t.x2,e.x2),t.y2=ae.max(t.y2,e.y2),t;},wrapPoint:function wrapPoint(e){return this.wrap(new _S(e.x,e.y,e.x,e.y)),this;},snapTo:function snapTo(e,t){var n=this;return t!=Ve&&t||(n.x1=e.x1,n.x2=e.x2),t!=Ue&&t||(n.y1=e.y1,n.y2=e.y2),n;},alignTo:function alignTo(e,t){var n,i,o=this,r=o.height(),a=o.width(),s=t==Le||t==de?Ue:Ve,l=s==Ue?r:a;return t===ue?(n=e.center(),i=o.center(),o.x1+=n.x-i.x,o.y1+=n.y-i.y):o[s+1]=t===Le||t===De?e[s+1]-l:e[s+2],o.x2=o.x1+a,o.y2=o.y1+r,o;},shrink:function shrink(e,t){var n=this;return n.x2-=e,n.y2-=t,n;},expand:function expand(e,t){return this.shrink(-e,-t),this;},pad:function pad(e){var t=this,i=n(e);return t.x1-=i.left,t.x2+=i.right,t.y1-=i.top,t.y2+=i.bottom,t;},unpad:function unpad(e){var t=this,i=n(e);return i.left=-i.left,i.top=-i.top,i.right=-i.right,i.bottom=-i.bottom,t.pad(i);},clone:function clone(){var e=this;return new _S(e.x1,e.y1,e.x2,e.y2);},center:function center(){var e=this;return new je(e.x1+e.width()/2,e.y1+e.height()/2);},containsPoint:function containsPoint(e){var t=this;return e.x>=t.x1&&t.x2>=e.x&&e.y>=t.y1&&t.y2>=e.y;},points:function points(){var e=this;return[new je(e.x1,e.y1),new je(e.x2,e.y1),new je(e.x2,e.y2),new je(e.x1,e.y2)];},getHash:function getHash(){var e=this;return[e.x1,e.y1,e.x2,e.y2].join(",");},overlaps:function overlaps(e){return!(this.y1>e.y2||e.y1>this.y2||this.x1>e.x2||e.x1>this.x2);},rotate:function rotate(e){var t=this,n=t.width(),i=t.height(),o=t.center(),r=o.x,s=o.y,l=a(0,0,r,s,e),c=a(n,0,r,s,e),d=a(n,i,r,s,e),u=a(0,i,r,s,e);return n=ae.max(l.x,c.x,d.x,u.x)-ae.min(l.x,c.x,d.x,u.x),i=ae.max(l.y,c.y,d.y,u.y)-ae.min(l.y,c.y,d.y,u.y),t.x2=t.x1+n,t.y2=t.y1+i,t;},toRect:function toRect(){return new X.Rect([this.x1,this.y1],[this.width(),this.height()]);},hasSize:function hasSize(){return 0!==this.width()&&0!==this.height();},align:function align(e,t,n){var i=this,o=t+1,r=t+2,a=t===Ve?Ne:xe,s=i[a]();l(n,[De,Le])?(i[o]=e[o],i[r]=i[o]+s):l(n,[Be,de])?(i[r]=e[r],i[o]=i[r]-s):n==ue&&(i[o]=e[o]+(e[a]()-s)/2,i[r]=i[o]+s);}},T=ee.extend({init:function init(e,t,n,i,o){var r=this;r.c=e,r.ir=t,r.r=n,r.startAngle=i,r.angle=o;},clone:function clone(){var e=this;return new T(e.c,e.ir,e.r,e.startAngle,e.angle);},middle:function middle(){return this.startAngle+this.angle/2;},radius:function radius(e,t){var n=this;return t?n.ir=e:n.r=e,n;},point:function point(e,t){var n=this,i=e*ye,o=ae.cos(i),r=ae.sin(i),a=t?n.ir:n.r,s=u(n.c.x-o*a,he),l=u(n.c.y-r*a,he);return new je(s,l);},adjacentBox:function adjacentBox(e,t,n){var i=this.clone().expand(e),o=i.middle(),r=i.point(o),a=t/2,s=n/2,l=r.x-a,c=r.y-s,d=ae.sin(o*ye),u=ae.cos(o*ye);return ae.abs(d)<.9&&(l+=a*-u/ae.abs(u)),ae.abs(u)<.9&&(c+=s*-d/ae.abs(d)),new _S(l,c,l+t,c+n);},containsPoint:function containsPoint(e){var t=this,n=t.c,i=t.ir,o=t.r,r=t.startAngle,a=t.startAngle+t.angle,s=e.x-n.x,l=e.y-n.y,c=new je(s,l),d=t.point(r),h=new je(d.x-n.x,d.y-n.y),f=t.point(a),p=new je(f.x-n.x,f.y-n.y),m=u(s*s+l*l,he);return(h.equals(c)||v(h,c))&&!v(p,c)&&m>=i*i&&o*o>=m;},getBBox:function getBBox(){var e,t,n,i=this,o=new _S(Ee,Ee,Re,Re),r=u(i.startAngle%360),a=u((r+i.angle)%360),s=i.ir,l=[0,90,180,270,r,a].sort(m),c=ie(r,l),d=ie(a,l);for(e=r==a?l:d>c?l.slice(c,d+1):[].concat(l.slice(0,d+1),l.slice(c,l.length)),t=0;e.length>t;t++){n=i.point(e[t]),o.wrapPoint(n),o.wrapPoint(n,s);}return s||o.wrapPoint(i.c),o;},expand:function expand(e){return this.r+=e,this;}}),D=T.extend({init:function init(e,t,n,i){T.fn.init.call(this,e,0,t,n,i);},expand:function expand(e){return T.fn.expand.call(this,e);},clone:function clone(){var e=this;return new D(e.c,e.r,e.startAngle,e.angle);},radius:function radius(e){return T.fn.radius.call(this,e);},point:function point(e){return T.fn.point.call(this,e);}}),A=function A(){},A.fn=A.prototype={createRing:function createRing(e,t){var n,i=e.startAngle+180,o=e.angle+i,r=new X.Point(e.c.x,e.c.y),a=ae.max(e.r,0),s=ae.max(e.ir,0),l=new X.Arc(r,{startAngle:i,endAngle:o,radiusX:a,radiusY:a}),c=J.Path.fromArc(l,t).close();return s?(l.radiusX=l.radiusY=s,n=l.pointAt(o),c.lineTo(n.x,n.y),c.arc(o,i,s,s,!0)):c.lineTo(r.x,r.y),c;}},A.current=new A(),E=ee.extend({init:function init(e){var t=this;t.children=[],t.options=se({},t.options,e);},reflow:function reflow(e){var t,n,i,o=this,r=o.children;for(n=0;r.length>n;n++){i=r[n],i.reflow(e),t=t?t.wrap(i.box):i.box.clone();}o.box=t||e;},destroy:function destroy(){var e,t=this,n=t.children;for(this.animation&&this.animation.destroy(),e=0;n.length>e;e++){n[e].destroy();}},getRoot:function getRoot(){var e=this.parent;return e?e.getRoot():null;},getChart:function getChart(){var e=this.getRoot();return e?e.chart:t;},translateChildren:function translateChildren(e,t){var n,i=this,o=i.children,r=o.length;for(n=0;r>n;n++){o[n].box.translate(e,t);}},append:function append(){G(this.children,arguments);for(var e=0;arguments.length>e;e++){arguments[e].parent=this;}},renderVisual:function renderVisual(){this.options.visible!==!1&&(this.createVisual(),this.addVisual(),this.renderChildren(),this.createAnimation(),this.renderComplete());},addVisual:function addVisual(){this.visual&&(this.visual.chartElement=this,this.parent&&this.parent.appendVisual(this.visual));},renderChildren:function renderChildren(){var e,t=this.children;for(e=0;t.length>e;e++){t[e].renderVisual();}},createVisual:function createVisual(){this.visual=new Q.drawing.Group({zIndex:this.options.zIndex,visible:K(this.options.visible,!0)});},createAnimation:function createAnimation(){this.visual&&(this.animation=J.Animation.create(this.visual,this.options.animation));},appendVisual:function appendVisual(e){e.chartElement||(e.chartElement=this),e.options.noclip?this.clipRoot().visual.append(e):$(e.options.zIndex)?this.stackRoot().stackVisual(e):this.visual?this.visual.append(e):this.parent.appendVisual(e);},clipRoot:function clipRoot(){return this.parent?this.parent.clipRoot():this;},stackRoot:function stackRoot(){return this.parent?this.parent.stackRoot():this;},stackVisual:function stackVisual(e){var t,n,i,o=e.options.zIndex||0,r=this.visual.children;for(t=0;r.length>t&&(n=r[t],i=K(n.options.zIndex,0),!(i>o));t++){}this.visual.insertAt(e,t);},traverse:function traverse(e){var t,n,i=this.children;for(t=0;i.length>t;t++){n=i[t],e(n),n.traverse&&n.traverse(e);}},closest:function closest(e){for(var n=this,i=!1;n&&!i;){i=e(n),i||(n=n.parent);}return i?n:t;},renderComplete:e.noop,hasHighlight:function hasHighlight(){var e=(this.options||{}).highlight;return!(!this.createHighlight||e&&e.visible===!1);},toggleHighlight:function toggleHighlight(t){var n,i=this,o=i._highlight,r=(i.options||{}).highlight,a=(r||{}).visual;if(!o){if(n={fill:{color:Oe,opacity:.2},stroke:{color:Oe,width:1,opacity:.2}},a){if(o=i._highlight=a(e.extend(i.highlightVisualArgs(),{createVisual:function createVisual(){return i.createHighlight(n);},sender:i.getChart(),series:i.series,dataItem:i.dataItem,category:i.category,value:i.value,percentage:i.percentage,runningTotal:i.runningTotal,total:i.total})),!o)return;}else o=i._highlight=i.createHighlight(n);o.options.zIndex=i.options.zIndex,i.appendVisual(o);}o.visible(t);},createGradientOverlay:function createGradientOverlay(e,t,n){var i=new J.Path(se({stroke:{color:Ie},fill:this.createGradient(n),closed:e.options.closed},t));return i.segments.elements(e.segments.elements()),i;},createGradient:function createGradient(e){return this.parent?this.parent.createGradient(e):t;}}),R=E.extend({init:function init(e){var t=this;t.gradients={},E.fn.init.call(t,e);},options:{width:we,height:ve,background:Oe,border:{color:ce,width:0},margin:n(5),zIndex:-2},reflow:function reflow(){var e,t=this,n=t.options,i=t.children,o=new _S(0,0,n.width,n.height);for(t.box=o.unpad(n.margin),e=0;i.length>e;e++){i[e].reflow(o),o=s(o,i[e].box)||_S();}},createVisual:function createVisual(){this.visual=new J.Group(),this.createBackground();},createBackground:function createBackground(){var e=this.options,t=e.border||{},n=this.box.clone().pad(e.margin).unpad(t.width),i=J.Path.fromRect(n.toRect(),{stroke:{color:t.width?t.color:"",width:t.width,dashType:t.dashType},fill:{color:e.background,opacity:e.opacity},zIndex:-10});this.visual.append(i);},getRoot:function getRoot(){return this;},createGradient:function createGradient(e){var t,n,i=this.gradients,o=q.objectKey(e),r=Q.Gradients[e.gradient];return i[o]?t=i[o]:(n=se({},r,e),"linear"==r.type?t=new J.LinearGradient(n):(e.innerRadius&&(n.stops=k(n)),t=new J.RadialGradient(n),t.supportVML=r.supportVML!==!1),i[o]=t),t;}}),I=E.extend({options:{align:De,vAlign:Le,margin:{},padding:{},border:{color:ce,width:0},background:"",shrinkToFit:!1,width:0,height:0,visible:!0},reflow:function reflow(e){function t(){s.align(e,Ve,l.align),s.align(e,Ue,l.vAlign),s.paddingBox=i.clone().unpad(f).unpad(m);}var i,o,r,a,s=this,l=s.options,c=l.width,d=l.height,u=c&&d,h=l.shrinkToFit,f=n(l.margin),p=n(l.padding),m=l.border.width,g=s.children;for(o=e.clone(),u&&(o.x2=o.x1+c,o.y2=o.y1+d),h&&o.unpad(f).unpad(m).unpad(p),E.fn.reflow.call(s,o),i=u?s.box=_S(0,0,c,d):s.box,h&&u?(t(),o=s.contentBox=s.paddingBox.clone().unpad(p)):(o=s.contentBox=i.clone(),i.pad(p).pad(m).pad(f),t()),s.translateChildren(i.x1-o.x1+f.left+m+p.left,i.y1-o.y1+f.top+m+p.top),r=0;g.length>r;r++){a=g[r],a.reflow(a.box);}},align:function align(e,t,n){this.box.align(e,t,n);},hasBox:function hasBox(){var e=this.options;return e.border.width||e.background;},createVisual:function createVisual(){E.fn.createVisual.call(this);var e=this.options;e.visible&&this.hasBox()&&this.visual.append(J.Path.fromRect(this.paddingBox.toRect(),this.visualStyle()));},visualStyle:function visualStyle(){var e=this,t=e.options,n=t.border||{};return{stroke:{width:n.width,color:n.color,opacity:K(n.opacity,t.opacity),dashType:n.dashType},fill:{color:t.background,opacity:t.opacity},cursor:t.cursor};}}),F=E.extend({init:function init(e,t){var n=this;E.fn.init.call(n,t),n.content=e,n.reflow(_S());},options:{font:ge,color:ce,align:De,vAlign:""},reflow:function reflow(e){var t,n=this,i=n.options;t=i.size=Z(n.content,{font:i.font}),n.baseline=t.baseline,n.box=_S(e.x1,e.y1,e.x1+t.width,e.y1+t.height);},createVisual:function createVisual(){var e=this.options;this.visual=new J.Text(this.content,this.box.toRect().topLeft(),{font:e.font,fill:{color:e.color,opacity:e.opacity},cursor:e.cursor});}}),M=E.extend({init:function init(e){E.fn.init.call(this,e),this._initDirection();},_initDirection:function _initDirection(){var e=this.options;e.vertical?(this.groupAxis=Ve,this.elementAxis=Ue,this.groupSizeField=Ne,this.elementSizeField=xe,this.groupSpacing=e.spacing,this.elementSpacing=e.vSpacing):(this.groupAxis=Ue,this.elementAxis=Ve,this.groupSizeField=xe,this.elementSizeField=Ne,this.groupSpacing=e.vSpacing,this.elementSpacing=e.spacing);},options:{vertical:!0,wrap:!0,vSpacing:0,spacing:0},reflow:function reflow(e){this.box=e.clone(),this.reflowChildren();},reflowChildren:function reflowChildren(){var e,t,n,i,o,r,a,s,l,c,d=this,u=d.box,h=d.elementAxis,f=d.groupAxis,p=d.elementSizeField,m=d.groupSizeField,g=d.groupOptions(),v=g.groups,_=v.length,b=u[f+1]+d.alignStart(g.groupsSize,u[m]()),w=b;if(_){for(a=0;_>a;a++){for(n=v[a],i=n.groupElements,o=i.length,e=u[h+1],r=0;o>r;r++){s=i[r],c=d.elementSize(s),t=w+d.alignStart(c[m],n.groupSize),l=_S(),l[f+1]=t,l[f+2]=t+c[m],l[h+1]=e,l[h+2]=e+c[p],s.reflow(l),e+=c[p]+d.elementSpacing;}w+=n.groupSize+d.groupSpacing;}u[f+1]=b,u[f+2]=b+g.groupsSize,u[h+2]=u[h+1]+g.maxGroupElementsSize;}},alignStart:function alignStart(e,t){var n=0,i=this.options.align;return i==Be||i==de?n=t-e:i==ue&&(n=(t-e)/2),n;},groupOptions:function groupOptions(){var e,t,n=this,i=n.box,o=n.children,r=o.length,a=this.elementSizeField,s=this.groupSizeField,l=this.elementSpacing,c=this.groupSpacing,d=u(i[a]()),h=0,f=0,p=0,m=0,g=[],v=[],_=0;for(h=0;r>h;h++){t=o[h],t.box||t.reflow(i),e=this.elementSize(t),n.options.wrap&&u(p+l+e[a])>d&&(g.push({groupElements:v,groupSize:f,groupElementsSize:p}),_=ae.max(_,p),m+=c+f,f=0,p=0,v=[]),f=ae.max(f,e[s]),p>0&&(p+=l),p+=e[a],v.push(t);}return g.push({groupElements:v,groupSize:f,groupElementsSize:p}),_=ae.max(_,p),m+=f,{groups:g,groupsSize:m,maxGroupElementsSize:_};},elementSize:function elementSize(e){return{width:e.box.width(),height:e.box.height()};},createVisual:ne}),P=I.extend({ROWS_SPLIT_REGEX:/\n|\\n/m,init:function init(e,t){var n=this;n.content=e,I.fn.init.call(n,t),n._initContainer(),n.reflow(_S());},_initContainer:function _initContainer(){var e,t,n=this,i=n.options,o=(n.content+"").split(n.ROWS_SPLIT_REGEX),r=new M({vertical:!0,align:i.align,wrap:!1}),a=se({},i,{opacity:1,animation:null});for(n.container=r,n.append(r),t=0;o.length>t;t++){e=new F(re(o[t]),a),r.append(e);}},reflow:function reflow(e){var t,i,o,r=this.options,a=r.visual;this.container.options.align=r.align,a&&!this._boxReflow?(e.hasSize()||(this._boxReflow=!0,this.reflow(e),this._boxReflow=!1,e=this.box),this.visual=a(this.visualContext(e)),t=e,this.visual&&(t=x(this.visual.clippedBBox()||new X.Rect()),this.visual.options.zIndex=r.zIndex,this.visual.options.noclip=r.noclip),this.box=this.contentBox=this.paddingBox=t):(I.fn.reflow.call(this,e),r.rotation&&(i=n(r.margin),o=this.box.unpad(i),this.targetBox=e,this.normalBox=o.clone(),o=this.rotate(),o.translate(i.left-i.right,i.top-i.bottom),this.rotatedBox=o.clone(),o.pad(i)));},createVisual:function createVisual(){var e,t=this.options;t.visible&&(this.visual=new Q.drawing.Group({transform:this.rotationTransform(),zIndex:t.zIndex,noclip:t.noclip}),this.hasBox()&&(e=J.Path.fromRect(this.paddingBox.toRect(),this.visualStyle()),this.visual.append(e)));},renderVisual:function renderVisual(){this.options.visual?(this.addVisual(),this.createAnimation()):I.fn.renderVisual.call(this);},visualOptions:function visualOptions(){var e=this.options;return{background:e.background,border:e.border,color:e.color,font:e.font,margin:e.margin,padding:e.padding,visible:e.visible};},visualContext:function visualContext(e){var t=this;return{text:t.content,rect:e.toRect(),sender:this.getChart(),options:t.visualOptions(),createVisual:function createVisual(){return t._boxReflow=!0,t.reflow(e),t._boxReflow=!1,t.getDefaultVisual();}};},getDefaultVisual:function getDefaultVisual(){this.createVisual(),this.renderChildren();var e=this.visual;return delete this.visual,e;},rotate:function rotate(){var e=this.options;return this.box.rotate(e.rotation),this.align(this.targetBox,Ve,e.align),this.align(this.targetBox,Ue,e.vAlign),this.box;},rotationTransform:function rotationTransform(){var e,t,n,i,o=this.options.rotation;return o?(e=this.normalBox.center(),t=e.x,n=e.y,i=this.rotatedBox.center(),X.transform().translate(i.x-t,i.y-n).rotate(o,[t,n])):null;}}),z=E.extend({init:function init(e){var t=this;E.fn.init.call(t,e),e=t.options,t.append(new P(e.text,se({},e,{vAlign:e.position})));},options:{color:ce,position:Le,align:ue,margin:n(5),padding:n(5)},reflow:function reflow(e){var t=this;E.fn.reflow.call(t,e),t.box.snapTo(e,Ve);}}),z.buildTitle=function(e,t,n){var i;return"string"==typeof e&&(e={text:e}),e=se({visible:!0},n,e),e&&e.visible&&e.text&&(i=new z(e),t.append(i)),i;},B=P.extend({init:function init(e,t,n,i,o){var r=this;r.text=t,r.value=e,r.index=n,r.dataItem=i,P.fn.init.call(r,t,o);},visualContext:function visualContext(e){var t=P.fn.visualContext.call(this,e);return t.value=this.value,t.dataItem=this.dataItem,t.format=this.options.format,t.culture=this.options.culture,t;},click:function click(e,t){var n=this;e.trigger(le,{element:C(t),value:n.value,text:n.text,index:n.index,dataItem:n.dataItem,axis:n.parent.options});},rotate:function rotate(){var e,t;return this.options.alignRotation!=ue?(e=this.normalBox.toRect(),t=this.rotationTransform(),this.box=x(e.bbox(t.matrix()))):P.fn.rotate.call(this),this.box;},rotationTransform:function rotationTransform(){var e,t,n,i,o,r,a,s,l,c,d,h,f,p,m,g,v,_,b=this.options,w=b.rotation;return w?b.alignRotation==ue?P.fn.rotationTransform.call(this):(e=X.transform().rotate(w).matrix(),t=this.normalBox.toRect(),n=this.targetBox.toRect(),i=b.rotationOrigin||Le,o=i==Le||i==de?Ve:Ue,r=i==Le||i==de?Ue:Ve,a=i==Le||i==De?n.origin:n.bottomRight(),s=t.topLeft().transformCopy(e),l=t.topRight().transformCopy(e),c=t.bottomRight().transformCopy(e),d=t.bottomLeft().transformCopy(e),h=X.Rect.fromPoints(s,l,c,d),f={},f[r]=n.origin[r]-h.origin[r],p=ae.abs(s[r]+f[r]-a[r]),m=ae.abs(l[r]+f[r]-a[r]),u(p,be)===u(m,be)?(g=s,v=l):p>m?(g=l,v=c):(g=s,v=d),_=g[o]+(v[o]-g[o])/2,f[o]=n.center()[o]-_,X.transform().translate(f.x,f.y).rotate(w)):null;}}),L=E.extend({init:function init(e){var t=this;E.fn.init.call(t,e),t.options.visible||(t.options=se({},t.options,{labels:{visible:!1},line:{visible:!1},margin:0,majorTickSize:0,minorTickSize:0})),t.options.minorTicks=se({},{color:t.options.line.color,width:t.options.line.width,visible:t.options.minorTickType!=Ie},t.options.minorTicks,{size:t.options.minorTickSize,align:t.options.minorTickType}),t.options.majorTicks=se({},{color:t.options.line.color,width:t.options.line.width,visible:t.options.majorTickType!=Ie},t.options.majorTicks,{size:t.options.majorTickSize,align:t.options.majorTickType}),this.options._deferLabels||t.createLabels(),t.createTitle(),t.createNotes();},options:{labels:{visible:!0,rotation:0,mirror:!1,step:1,skip:0},line:{width:1,color:ce,visible:!0},title:{visible:!0,position:ue},majorTicks:{align:Pe,size:4,skip:0,step:1},minorTicks:{align:Pe,size:3,skip:0,step:1},axisCrossingValue:0,majorTickType:Pe,minorTickType:Ie,majorGridLines:{skip:0,step:1},minorGridLines:{visible:!1,width:1,color:ce,skip:0,step:1},margin:5,visible:!0,reverse:!1,justified:!0,notes:{label:{text:""}},_alignLines:!0,_deferLabels:!1},labelsRange:function labelsRange(){return{min:this.options.labels.skip,max:this.labelsCount()};},createLabels:function createLabels(){var t,n,i,o,r=this,a=r.options,s=a.vertical?Be:ue,l=se({},a.labels,{align:s,zIndex:a.zIndex}),c=ae.max(1,l.step);if(r.children=e.grep(r.children,function(e){return!(e instanceof B);}),r.labels=[],l.visible)for(t=r.labelsRange(),n=l.rotation,oe(n)&&(l.alignRotation=n.align,l.rotation=n.angle),"auto"==l.rotation&&(l.rotation=0,a.autoRotateLabels=!0),o=t.min;t.max>o;o+=c){i=r.createAxisLabel(o,l),i&&(r.append(i),r.labels.push(i));}},lineBox:function lineBox(){var e=this,t=e.options,n=e.box,i=t.vertical,o=t.labels.mirror,r=o?n.x1:n.x2,a=o?n.y2:n.y1,s=t.line.width||0;return i?_S(r,n.y1,r,n.y2-s):_S(n.x1,a,n.x2-s,a);},createTitle:function createTitle(){var e,t=this,n=t.options,i=se({rotation:n.vertical?-90:0,text:"",zIndex:1,visualSize:!0},n.title);i.visible&&i.text&&(e=new P(i.text,i),t.append(e),t.title=e);},createNotes:function createNotes(){var e,t,n,i=this,o=i.options,r=o.notes,a=r.data||[];for(i.notes=[],e=0;a.length>e;e++){t=se({},r,a[e]),t.value=i.parseNoteValue(t.value),n=new H(t.value,t.label.text,t,null,null,t),n.options.visible&&($(n.options.position)?o.vertical&&!l(n.options.position,[De,Be])?n.options.position=o.reverse?De:Be:o.vertical||l(n.options.position,[Le,de])||(n.options.position=o.reverse?de:Le):n.options.position=o.vertical?o.reverse?De:Be:o.reverse?de:Le,i.append(n),i.notes.push(n));}},parseNoteValue:function parseNoteValue(e){return e;},renderVisual:function renderVisual(){E.fn.renderVisual.call(this),this.createPlotBands();},createVisual:function createVisual(){E.fn.createVisual.call(this),this.createBackground(),this.createLine();},gridLinesVisual:function gridLinesVisual(){var e=this._gridLines;return e||(e=this._gridLines=new J.Group({zIndex:-2}),this.appendVisual(this._gridLines)),e;},createTicks:function createTicks(e){function t(t,n,o){var s,c=t.length,d=ae.max(1,n.step);if(n.visible)for(s=n.skip;c>s;s+=d){$(o)&&s%o===0||(l.tickX=a?r.x2:r.x2-n.size,l.tickY=a?r.y1-n.size:r.y1,l.position=t[s],e.append(i(l,n)));}}var n=this,o=n.options,r=n.lineBox(),a=o.labels.mirror,s=o.majorTicks.visible?o.majorUnit:0,l={vertical:o.vertical};t(n.getMajorTickPositions(),o.majorTicks),t(n.getMinorTickPositions(),o.minorTicks,s/o.minorUnit);},createLine:function createLine(){var e,t,n=this,i=n.options,o=i.line,r=n.lineBox();o.width>0&&o.visible&&(e=new J.Path({stroke:{width:o.width,color:o.color,dashType:o.dashType}}),e.moveTo(r.x1,r.y1).lineTo(r.x2,r.y2),i._alignLines&&y(e),t=this._lineGroup=new J.Group(),t.append(e),this.visual.append(t),this.createTicks(t));},getActualTickSize:function getActualTickSize(){var e=this,t=e.options,n=0;return t.majorTicks.visible&&t.minorTicks.visible?n=ae.max(t.majorTicks.size,t.minorTicks.size):t.majorTicks.visible?n=t.majorTicks.size:t.minorTicks.visible&&(n=t.minorTicks.size),n;},createBackground:function createBackground(){var e=this,t=e.options,n=t.background,i=e.box;n&&(e._backgroundPath=J.Path.fromRect(i.toRect(),{fill:{color:n},stroke:null}),this.visual.append(e._backgroundPath));},createPlotBands:function createPlotBands(){var t,n,i,o,r,a,s=this,l=s.options,c=l.plotBands||[],d=l.vertical,u=s.plotArea;0!==c.length&&(r=this._plotbandGroup=new J.Group({zIndex:-1}),a=e.grep(s.pane.axes,function(e){return e.options.vertical!==s.options.vertical;})[0],e.each(c,function(e,l){var c,h;i=K(l.from,Re),o=K(l.to,Ee),d?(t=(a||u.axisX).lineBox(),n=s.getSlot(l.from,l.to,!0)):(t=s.getSlot(l.from,l.to,!0),n=(a||u.axisY).lineBox()),0!==t.width()&&0!==n.height()&&(c=new X.Rect([t.x1,n.y1],[t.width(),n.height()]),h=J.Path.fromRect(c,{fill:{color:l.color,opacity:l.opacity},stroke:null}),r.append(h));}),s.appendVisual(r));},createGridLines:function createGridLines(e){function t(e,t,i){var r,s=e.length,c=ae.max(1,t.step);if(t.visible)for(r=t.skip;s>r;r+=c){n=u(e[r]),l(n,m)||r%i===0||a&&f===n||(p.position=n,g.append(o(p,t)),m.push(n));}}var n,i=this,r=i.options,a=e.options.line.visible,s=r.majorGridLines,c=s.visible?r.majorUnit:0,d=r.vertical,h=e.lineBox(),f=h[d?"y1":"x1"],p={lineStart:h[d?"x1":"y1"],lineEnd:h[d?"x2":"y2"],vertical:d},m=[],g=this.gridLinesVisual();return t(i.getMajorTickPositions(),r.majorGridLines),t(i.getMinorTickPositions(),r.minorGridLines,c/r.minorUnit),g.children;},reflow:function reflow(e){var t,n,i=this,o=i.options,r=o.vertical,a=i.labels,s=a.length,l=i.title,c=r?Ne:xe,d=l?l.box[c]():0,u=i.getActualTickSize()+o.margin+d,h=0,f=(this.getRoot()||{}).box||e,p=f[c]();for(n=0;s>n;n++){t=a[n].box[c](),p>=t+u&&(h=ae.max(h,t));}i.box=r?_S(e.x1,e.y1,e.x1+h+u,e.y2):_S(e.x1,e.y1,e.x2,e.y1+h+u),i.arrangeTitle(),i.arrangeLabels(),i.arrangeNotes();},getLabelsTickPositions:function getLabelsTickPositions(){return this.getMajorTickPositions();},labelTickIndex:function labelTickIndex(e){return e.index;},arrangeLabels:function arrangeLabels(){var e,t,n,i,o,r,a,s,l,c,d,u=this,h=u.options,f=u.labels,p=!h.justified,m=h.vertical,g=u.lineBox(),v=h.labels.mirror,_=u.getLabelsTickPositions(),b=u.getActualTickSize()+h.margin;for(n=0;f.length>n;n++){i=f[n],o=u.labelTickIndex(i),r=m?i.box.height():i.box.width(),a=_[o]-r/2,m?(p&&(s=_[o],l=_[o+1],c=s+(l-s)/2,a=c-r/2),d=g.x2,v?(d+=b,i.options.rotationOrigin=De):(d-=b+i.box.width(),i.options.rotationOrigin=Be),e=i.box.move(d,a)):(p?(s=_[o],l=_[o+1]):(s=a,l=a+r),t=g.y1,v?(t-=b+i.box.height(),i.options.rotationOrigin=de):(t+=b,i.options.rotationOrigin=Le),e=_S(s,t,l,t+i.box.height())),i.reflow(e);}},autoRotateLabels:function autoRotateLabels(){var e,t,n,i,o,r;if(this.options.autoRotateLabels&&!this.options.vertical){for(e=this.getMajorTickPositions(),t=this.labels,r=0;t.length>r;r++){if(o=e[r+1]-e[r],n=t[r].box,n.width()>o){if(n.height()>o){i=-90;break;}i=-45;}}if(i){for(r=0;t.length>r;r++){t[r].options.rotation=i,t[r].reflow(_S());}return!0;}}},arrangeTitle:function arrangeTitle(){var e=this,t=e.options,n=t.labels.mirror,i=t.vertical,o=e.title;o&&(i?(o.options.align=n?Be:De,o.options.vAlign=o.options.position):(o.options.align=o.options.position,o.options.vAlign=n?Le:de),o.reflow(e.box));},arrangeNotes:function arrangeNotes(){var e,t,n,i,o=this;for(e=0;o.notes.length>e;e++){t=o.notes[e],i=t.options.value,$(i)?(o.shouldRenderNote(i)?t.show():t.hide(),n=o.getSlot(i)):t.hide(),t.reflow(n||o.lineBox());}},alignTo:function alignTo(e){var t=this,n=e.lineBox(),i=t.options.vertical,o=i?Ue:Ve;t.box.snapTo(n,o),i?t.box.shrink(0,t.lineBox().height()-n.height()):t.box.shrink(t.lineBox().width()-n.width(),0),t.box[o+1]-=t.lineBox()[o+1]-n[o+1],t.box[o+2]-=t.lineBox()[o+2]-n[o+2];},axisLabelText:function axisLabelText(e,t,n){var i,o=e;return n.template?(i=te(n.template),o=i({value:e,dataItem:t,format:n.format,culture:n.culture})):n.format&&(o=n.format.match(ke)?j.format(n.format,e):j.toString(e,n.format,n.culture)),o;},slot:function slot(e,n,i){var o=this.getSlot(e,n,i);return o?o.toRect():t;},contentBox:function contentBox(){var e=this.box.clone(),t=this.labels;return t.length&&(t[0].options.visible&&e.wrap(t[0].box),Y(t).options.visible&&e.wrap(Y(t).box)),e;},limitRange:function limitRange(e,t,n,i,o){var r,a=this.options;if(!(n>e&&0>o&&(!$(a.min)||n>=a.min)||t>i&&o>0&&(!$(a.max)||a.max>=i)))return n>t&&o>0||e>i&&0>o?{min:e,max:t}:(r=t-e,n>e?(e=q.limitValue(e,n,i),t=q.limitValue(e+r,n+r,i)):t>i&&(t=q.limitValue(t,n,i),e=q.limitValue(t-r,n,i-r)),{min:e,max:t});}}),H=I.extend({init:function init(e,t,n,i,o,r){var a=this;I.fn.init.call(a,r),a.value=e,a.text=t,a.dataItem=n,a.category=i,a.series=o,a.render();},options:{icon:{visible:!0,type:pe},label:{position:Te,visible:!0,align:ue,vAlign:ue},line:{visible:!0},visible:!0,position:Le,zIndex:2},hide:function hide(){this.options.visible=!1;},show:function show(){this.options.visible=!0;},render:function render(){var e,t,n,i,o=this,r=o.options,a=r.label,s=o.text,l=r.icon,c=l.size,d=_S();r.visible&&($(a)&&a.visible&&(a.template?(i=te(a.template),s=i({dataItem:o.dataItem,category:o.category,value:o.value,text:s,series:o.series})):a.format&&(s=g(a.format,s)),o.label=new P(s,se({},a)),a.position!==Te||$(c)||(l.type===pe?c=ae.max(o.label.box.width(),o.label.box.height()):(t=o.label.box.width(),n=o.label.box.height()),d.wrap(o.label.box))),l.width=t||c||_e,l.height=n||c||_e,e=new N(se({},l)),o.marker=e,o.append(e),o.label&&o.append(o.label),e.reflow(_S()),o.wrapperBox=d.wrap(e.box));},reflow:function reflow(e){var t,n,i,o=this,r=o.options,a=e.center(),s=o.wrapperBox,c=r.line.length,d=r.position,u=o.label,h=o.marker;r.visible&&(l(d,[De,Be])?d===De?(i=s.alignTo(e,d).translate(-c,e.center().y-s.center().y),r.line.visible&&(t=[e.x1,a.y],o.linePoints=[t,[i.x2,a.y]],n=i.clone().wrapPoint(t))):(i=s.alignTo(e,d).translate(c,e.center().y-s.center().y),r.line.visible&&(t=[e.x2,a.y],o.linePoints=[t,[i.x1,a.y]],n=i.clone().wrapPoint(t))):d===de?(i=s.alignTo(e,d).translate(e.center().x-s.center().x,c),r.line.visible&&(t=[a.x,e.y2],o.linePoints=[t,[a.x,i.y1]],n=i.clone().wrapPoint(t))):(i=s.alignTo(e,d).translate(e.center().x-s.center().x,-c),r.line.visible&&(t=[a.x,e.y1],o.linePoints=[t,[a.x,i.y2]],n=i.clone().wrapPoint(t))),h&&h.reflow(i),u&&(u.reflow(i),h&&(r.label.position===Pe&&u.box.alignTo(h.box,d),u.reflow(u.box))),o.contentBox=i,o.targetBox=e,o.box=n||i);},createVisual:function createVisual(){I.fn.createVisual.call(this),this.visual.options.noclip=this.options.noclip,this.options.visible&&this.createLine();},renderVisual:function renderVisual(){var e=this,t=e.options,n=t.visual;t.visible&&n?(e.visual=n({dataItem:e.dataItem,category:e.category,value:e.value,text:e.text,sender:e.getChart(),series:e.series,rect:e.targetBox.toRect(),options:{background:t.background,border:t.background,icon:t.icon,label:t.label,line:t.line,position:t.position,visible:t.visible},createVisual:function createVisual(){e.createVisual(),e.renderChildren();var t=e.visual;return delete e.visual,t;}}),e.addVisual()):I.fn.renderVisual.call(e);},createLine:function createLine(){var e,t=this.options.line;this.linePoints&&(e=J.Path.fromPoints(this.linePoints,{stroke:{color:t.color,width:t.width,dashType:t.dashType}}),y(e),this.visual.append(e));},click:function click(e,t){var n=this.eventArgs(t);e.trigger(Fe,n)||t.preventDefault();},hover:function hover(e,t){var n=this.eventArgs(t);e.trigger(Me,n)||t.preventDefault();},leave:function leave(e){e._unsetActivePoint();},eventArgs:function eventArgs(e){var t=this,n=t.options;return{element:C(e),text:$(n.label)?n.label.text:"",dataItem:t.dataItem,series:t.series,value:t.value,category:t.category,visual:t.visual};}}),N=I.extend({init:function init(e,t){this.pointData=t,I.fn.init.call(this,e);},options:{type:pe,align:ue,vAlign:ue},getElement:function getElement(){var e,t,n=this,i=n.options,o=i.type,r=i.rotation,a=n.paddingBox,s=a.center(),l=a.width()/2;if(i.visible&&n.hasBox())return t=n.visualStyle(),o===pe?e=new J.Circle(new X.Circle([u(a.x1+l,he),u(a.y1+a.height()/2,he)],l),t):o===He?e=J.Path.fromPoints([[a.x1+l,a.y1],[a.x1,a.y2],[a.x2,a.y2]],t).close():o===me?(e=new J.MultiPath(t),e.moveTo(a.x1,a.y1).lineTo(a.x2,a.y2),e.moveTo(a.x1,a.y2).lineTo(a.x2,a.y1)):e=J.Path.fromRect(a.toRect(),t),r&&e.transform(X.transform().rotate(-r,[s.x,s.y])),e.options.zIndex=this.options.zIndex,e;},createElement:function createElement(){var e,t=this,n=t.options.visual,i=t.pointData||{};return e=n?n({value:i.value,dataItem:i.dataItem,sender:t.getChart(),series:i.series,category:i.category,rect:t.paddingBox.toRect(),options:t.visualOptions(),createVisual:function createVisual(){return t.getElement();}}):t.getElement();},visualOptions:function visualOptions(){var e=this.options;return{background:e.background,border:e.border,margin:e.margin,padding:e.padding,type:e.type,size:e.width,visible:e.visible};},createVisual:function createVisual(){this.visual=this.createElement();}}),O=L.extend({init:function init(e,t,n){var i=this,o=i.initDefaults(e,t,n);L.fn.init.call(i,o);},startValue:function startValue(){return 0;},options:{type:"numeric",min:0,max:1,vertical:!0,majorGridLines:{visible:!0,width:1,color:ce},labels:{format:"#.####################"},zIndex:1},initDefaults:function initDefaults(e,t,n){var i,o=this,a=n.narrowRange,s=o.autoAxisMin(e,t,a),l=o.autoAxisMax(e,t,a),u=r(s,l),h={majorUnit:u};return n.roundToMajorUnit!==!1&&(0>s&&f(s,u,1/3)&&(s-=u),l>0&&f(l,u,1/3)&&(l+=u)),h.min=d(s,u),h.max=c(l,u),this.totalMin=$(n.min)?ae.min(h.min,n.min):h.min,this.totalMax=$(n.max)?ae.max(h.max,n.max):h.max,this.totalMajorUnit=u,n&&(i=$(n.min)||$(n.max),i&&n.min===n.max&&(n.min>0?n.min=0:n.max=1),n.majorUnit?(h.min=d(h.min,n.majorUnit),h.max=c(h.max,n.majorUnit)):i&&(n=se(h,n),h.majorUnit=r(n.min,n.max))),h.minorUnit=(n.majorUnit||h.majorUnit)/5,se(h,n);},range:function range(){var e=this.options;return{min:e.min,max:e.max};},autoAxisMax:function autoAxisMax(e,t,n){var i,o;if(!e&&!t)return 1;if(0>=e&&0>=t){if(t=e==t?0:t,o=ae.abs((t-e)/t),n===!1||!n&&o>We)return 0;i=ae.min(0,t-(e-t)/2);}else e=e==t?0:e,i=t;return i;},autoAxisMin:function autoAxisMin(e,t,n){var i,o;if(!e&&!t)return 0;if(e>=0&&t>=0){if(e=e==t?0:e,o=(t-e)/t,n===!1||!n&&o>We)return 0;i=ae.max(0,e-(t-e)/2);}else t=e==t?0:t,i=e;return i;},getDivisions:function getDivisions(e){if(0===e)return 1;var t=this.options,n=t.max-t.min;return ae.floor(u(n/e,he))+1;},getTickPositions:function getTickPositions(e,t){var n,i=this,o=i.options,r=o.vertical,a=o.reverse,s=i.lineBox(),l=r?s.height():s.width(),c=o.max-o.min,d=l/c,h=e*d,f=0,p=i.getDivisions(e),m=(r?-1:1)*(a?-1:1),g=1===m?1:2,v=s[(r?Ue:Ve)+g],_=[];for(t&&(f=t/e),n=0;p>n;n++){n%f!==0&&_.push(u(v,he)),v+=h*m;}return _;},getMajorTickPositions:function getMajorTickPositions(){var e=this;return e.getTickPositions(e.options.majorUnit);},getMinorTickPositions:function getMinorTickPositions(){var e=this;return e.getTickPositions(e.options.minorUnit);},getSlot:function getSlot(e,t,n){var i,o,r=this,a=r.options,s=a.reverse,l=a.vertical,c=l?Ue:Ve,d=r.lineBox(),u=d[c+(s?2:1)],h=l?d.height():d.width(),f=s?-1:1,p=f*(h/(a.max-a.min)),m=new _S(d.x1,d.y1,d.x1,d.y1);return $(e)||(e=t||0),$(t)||(t=e||0),n&&(e=ae.max(ae.min(e,a.max),a.min),t=ae.max(ae.min(t,a.max),a.min)),l?(i=a.max-ae.max(e,t),o=a.max-ae.min(e,t)):(i=ae.min(e,t)-a.min,o=ae.max(e,t)-a.min),m[c+1]=ae.max(ae.min(u+p*(s?o:i),Ce),-Ce),m[c+2]=ae.max(ae.min(u+p*(s?i:o),Ce),-Ce),m;},getValue:function getValue(e){var t,n=this,i=n.options,o=i.reverse,r=i.vertical,a=1*i.max,s=1*i.min,l=r?Ue:Ve,c=n.lineBox(),d=c[l+(o?2:1)],h=r?c.height():c.width(),f=o?-1:1,p=f*(e[l]-d),m=(a-s)/h,g=p*m;return 0>p||p>h?null:(t=r?a-g:s+g,u(t,be));},translateRange:function translateRange(e){var t=this,n=t.options,i=t.lineBox(),o=n.vertical,r=n.reverse,a=o?i.height():i.width(),s=n.max-n.min,l=a/s,c=u(e/l,be);return!o&&!r||o&&r||(c=-c),{min:n.min+c,max:n.max+c};},scaleRange:function scaleRange(e){var t=this,n=t.options,i=-e*n.majorUnit;return{min:n.min-i,max:n.max+i};},labelsCount:function labelsCount(){return this.getDivisions(this.options.majorUnit);},createAxisLabel:function createAxisLabel(e,t){var n=this,i=n.options,o=u(i.min+e*i.majorUnit,be),r=n.axisLabelText(o,null,t);return new B(o,r,e,null,t);},shouldRenderNote:function shouldRenderNote(e){var t=this.range();return e>=t.min&&t.max>=e;},pan:function pan(e){var t=this.translateRange(e);return this.limitRange(t.min,t.max,this.totalMin,this.totalMax);},pointsRange:function pointsRange(e,t){var n=this.getValue(e),i=this.getValue(t),o=ae.min(n,i),r=ae.max(n,i);return{min:o,max:r};},zoomRange:function zoomRange(e){var n=this.scaleRange(e),i=this.totalMax,o=this.totalMin,r=q.limitValue(n.min,o,i),a=q.limitValue(n.max,o,i),s=this.options.max-this.options.min;return this.totalMajorUnit>s||a-r>=this.totalMajorUnit?{min:r,max:a}:t;}}),V=L.extend({init:function init(e,t,n){this.options=this._initOptions(e,t,n),L.fn.init.call(this,n);},startValue:function startValue(){return this.options.min;},options:{type:"log",majorUnit:10,minorUnit:1,axisCrossingValue:1,vertical:!0,majorGridLines:{visible:!0,width:1,color:ce},zIndex:1},getSlot:function getSlot(e,n,i){var o,r,a=this,s=a.options,l=s.reverse,c=s.vertical,d=c?Ue:Ve,u=a.lineBox(),f=u[d+(l?2:1)],p=c?u.height():u.width(),m=l?-1:1,g=s.majorUnit,v=a.logMin,_=a.logMax,b=m*(p/(_-v)),w=new _S(u.x1,u.y1,u.x1,u.y1);return $(e)||(e=n||1),$(n)||(n=e||1),0>=e||0>=n?t:(i&&(e=ae.max(ae.min(e,s.max),s.min),n=ae.max(ae.min(n,s.max),s.min)),e=h(e,g),n=h(n,g),c?(o=_-ae.max(e,n),r=_-ae.min(e,n)):(o=ae.min(e,n)-v,r=ae.max(e,n)-v),w[d+1]=f+b*(l?r:o),w[d+2]=f+b*(l?o:r),w);},getValue:function getValue(e){var t,n=this,i=n.options,o=i.reverse,r=i.vertical,a=n.lineBox(),s=i.majorUnit,l=n.logMin,c=n.logMax,d=r===o?1:-1,h=1===d?1:2,f=r?a.height():a.width(),p=(c-l)/f,m=r?Ue:Ve,g=a[m+h],v=d*(e[m]-g),_=v*p;return 0>v||v>f?null:(t=l+_,u(ae.pow(s,t),be));},range:function range(){var e=this.options;return{min:e.min,max:e.max};},scaleRange:function scaleRange(e){var t=this,n=t.options,i=n.majorUnit,o=-e;return{min:ae.pow(i,t.logMin-o),max:ae.pow(i,t.logMax+o)};},translateRange:function translateRange(e){var t=this,n=t.options,i=n.majorUnit,o=t.lineBox(),r=n.vertical,a=n.reverse,s=r?o.height():o.width(),l=s/(t.logMax-t.logMin),c=u(e/l,be);return!r&&!a||r&&a||(c=-c),{min:ae.pow(i,t.logMin+c),max:ae.pow(i,t.logMax+c)};},labelsCount:function labelsCount(){var e=this,t=ae.floor(e.logMax),n=ae.floor(t-e.logMin)+1;return n;},getMajorTickPositions:function getMajorTickPositions(){var e=this,t=[];return e.traverseMajorTicksPositions(function(e){t.push(e);},{step:1,skip:0}),t;},createTicks:function createTicks(e){function t(t,n){d.tickX=s?a.x2:a.x2-n.size,d.tickY=s?a.y1-n.size:a.y1,d.position=t,e.append(i(d,n));}var n=this,o=[],r=n.options,a=n.lineBox(),s=r.labels.mirror,l=r.majorTicks,c=r.minorTicks,d={vertical:r.vertical};return l.visible&&n.traverseMajorTicksPositions(t,l),c.visible&&n.traverseMinorTicksPositions(t,c),o;},createGridLines:function createGridLines(e){function t(e,t){l(e,u)||(d.position=e,h.append(o(d,t)),u.push(e));}var n=this,i=n.options,r=i.majorGridLines,a=i.minorGridLines,s=i.vertical,c=e.lineBox(),d={lineStart:c[s?"x1":"y1"],lineEnd:c[s?"x2":"y2"],vertical:s},u=[],h=this.gridLinesVisual();return r.visible&&n.traverseMajorTicksPositions(t,r),a.visible&&n.traverseMinorTicksPositions(t,a),h.children;},traverseMajorTicksPositions:function traverseMajorTicksPositions(e,t){var n,i,o=this,r=o._lineOptions(),a=r.lineStart,s=r.step,l=o.logMin,c=o.logMax;for(n=ae.ceil(l)+t.skip;c>=n;n+=t.step){i=u(a+s*(n-l),be),e(i,t);}},traverseMinorTicksPositions:function traverseMinorTicksPositions(e,t){var n,i,o,r,a,s=this,l=s.options,c=s._lineOptions(),d=c.lineStart,f=c.step,p=l.majorUnit,m=s.logMin,g=s.logMax,v=ae.floor(m),_=l.max,b=l.min,w=l.minorUnit;for(n=v;g>n;n++){for(r=s._minorIntervalOptions(n),a=t.skip;w>a&&(i=r.value+a*r.minorStep,!(i>_));a+=t.step){i>=b&&(o=u(d+f*(h(i,p)-m),be),e(o,t));}}},createAxisLabel:function createAxisLabel(e,t){var n=this,i=n.options,o=ae.ceil(n.logMin+e),r=Math.pow(i.majorUnit,o),a=n.axisLabelText(r,null,t);return new B(r,a,e,null,t);},shouldRenderNote:function shouldRenderNote(e){var t=this.range();return e>=t.min&&t.max>=e;},_throwNegativeValuesError:function _throwNegativeValuesError(){throw Error("Non positive values cannot be used for a logarithmic axis");},_initOptions:function _initOptions(e,t,n){var i=this,o=se({},i.options,{min:e,max:t},n),r=o.min,a=o.max,s=o.majorUnit,l=this._autoMax(t,s),c=this._autoMin(e,t,o);return 0>=o.axisCrossingValue&&i._throwNegativeValuesError(),$(n.max)?0>=n.max&&i._throwNegativeValuesError():a=l,$(n.min)?0>=n.min&&i._throwNegativeValuesError():r=c,this.totalMin=$(n.min)?ae.min(c,n.min):c,this.totalMax=$(n.max)?ae.max(l,n.max):l,i.logMin=u(h(r,s),be),i.logMax=u(h(a,s),be),o.max=a,o.min=r,o.minorUnit=n.minorUnit||u(s-1,be),o;},_autoMin:function _autoMin(e,t,n){var i=e,o=n.majorUnit;return 0>=e?i=1>=t?ae.pow(o,-2):1:n.narrowRange||(i=ae.pow(o,ae.floor(h(e,o)))),i;},_autoMax:function _autoMax(e,t){var n,i=u(h(e,t),be)%1;return n=0>=e?t:0!==i&&(.3>i||i>.9)?ae.pow(t,h(e,t)+.2):ae.pow(t,ae.ceil(h(e,t)));},pan:function pan(e){var t=this.translateRange(e);return this.limitRange(t.min,t.max,this.totalMin,this.totalMax,-e);},pointsRange:function pointsRange(e,t){var n=this.getValue(e),i=this.getValue(t),o=ae.min(n,i),r=ae.max(n,i);return{min:o,max:r};},zoomRange:function zoomRange(e){var n=this.options,i=this.scaleRange(e),o=this.totalMax,r=this.totalMin,a=q.limitValue(i.min,r,o),s=q.limitValue(i.max,r,o),l=n.majorUnit,c=s>a&&n.min&&n.max&&u(h(n.max,l)-h(n.min,l),be)<1,d=!(n.min===r&&n.max===o)&&u(h(s,l)-h(a,l),be)>=1;return c||d?{min:a,max:s}:t;},_minorIntervalOptions:function _minorIntervalOptions(e){var t=this.options.majorUnit,n=ae.pow(t,e),i=ae.pow(t,e+1),o=i-n,r=o/this.options.minorUnit;return{value:n,minorStep:r};},_lineOptions:function _lineOptions(){var e=this,t=e.options,n=t.reverse,i=t.vertical,o=i?Ue:Ve,r=e.lineBox(),a=i===n?1:-1,s=1===a?1:2,l=i?r.height():r.width(),c=a*(l/(e.logMax-e.logMin)),d=r[o+s];return{step:c,lineStart:d,lineBox:r};}}),Q.Gradients={glass:{type:Ae,rotation:0,stops:[{offset:0,color:Oe,opacity:0},{offset:.25,color:Oe,opacity:.3},{offset:1,color:Oe,opacity:0}]},sharpBevel:{type:ze,stops:[{offset:0,color:Oe,opacity:.55},{offset:.65,color:Oe,opacity:0},{offset:.95,color:Oe,opacity:.25}]},roundedBevel:{type:ze,stops:[{offset:.33,color:Oe,opacity:.06},{offset:.83,color:Oe,opacity:.2},{offset:.95,color:Oe,opacity:0}]},roundedGlass:{type:ze,supportVML:!1,stops:[{offset:0,color:Oe,opacity:0},{offset:.5,color:Oe,opacity:.3},{offset:.99,color:Oe,opacity:0}]},sharpGlass:{type:ze,supportVML:!1,stops:[{offset:0,color:Oe,opacity:.2},{offset:.15,color:Oe,opacity:.15},{offset:.17,color:Oe,opacity:.35},{offset:.85,color:Oe,opacity:.05},{offset:.87,color:Oe,opacity:.15},{offset:.99,color:Oe,opacity:0}]}},U={extend:function extend(e,t){if(!e.exportVisual)throw Error("Mixin target has no exportVisual method defined.");e.exportSVG=this.exportSVG,e.exportImage=this.exportImage,e.exportPDF=this.exportPDF,t||(e.svg=this.svg,e.imageDataURL=this.imageDataURL);},exportSVG:function exportSVG(e){return J.exportSVG(this.exportVisual(),e);},exportImage:function exportImage(e){return J.exportImage(this.exportVisual(e),e);},exportPDF:function exportPDF(e){return J.exportPDF(this.exportVisual(),e);},svg:function svg(){if(J.svg.Surface)return J.svg._exportGroup(this.exportVisual());throw Error("SVG Export failed. Unable to export instantiate kendo.drawing.svg.Surface");},imageDataURL:function imageDataURL(){var t,n,i;if(!j.support.canvas)return null;if(J.canvas.Surface)return t=e("<div />").css({display:"none",width:this.element.width(),height:this.element.height()}).appendTo(document.body),n=new J.canvas.Surface(t),n.draw(this.exportVisual()),i=n._rootElement.toDataURL(),n.destroy(),t.remove(),i;throw Error("Image Export failed. Unable to export instantiate kendo.drawing.canvas.Surface");}},W=function W(e){this.closed=e;},W.prototype=W.fn={WEIGHT:.333,EXTREMUM_ALLOWED_DEVIATION:.01,process:function process(e){var t,n,i,o,r,a,s,l,c,d,u=this,h=u.closed,f=e.slice(0),p=f.length,m=[];if(p>2&&(u.removeDuplicates(0,f),p=f.length),2>p||2==p&&f[0].equals(f[1]))return m;for(t=f[0],n=f[1],i=f[2],m.push(new J.Segment(t));t.equals(f[p-1]);){h=!0,f.pop(),p--;}if(2==p)return s=u.tangent(t,n,Ve,Ue),Y(m).controlOut(u.firstControlPoint(s,t,n,Ve,Ue)),m.push(new J.Segment(n,u.secondControlPoint(s,t,n,Ve,Ue))),m;for(h?(t=f[p-1],n=f[0],i=f[1],o=u.controlPoints(t,n,i),r=o[1],a=o[0]):(s=u.tangent(t,n,Ve,Ue),r=u.firstControlPoint(s,t,n,Ve,Ue)),l=r,c=0;p-3>=c;c++){u.removeDuplicates(c,f),p=f.length,p>=c+3&&(t=f[c],n=f[c+1],i=f[c+2],o=u.controlPoints(t,n,i),Y(m).controlOut(l),l=o[1],d=o[0],m.push(new J.Segment(n,d)));}return h?(t=f[p-2],n=f[p-1],i=f[0],o=u.controlPoints(t,n,i),Y(m).controlOut(l),m.push(new J.Segment(n,o[0])),Y(m).controlOut(o[1]),m.push(new J.Segment(i,a))):(s=u.tangent(n,i,Ve,Ue),Y(m).controlOut(l),m.push(new J.Segment(i,u.secondControlPoint(s,n,i,Ve,Ue)))),m;},removeDuplicates:function removeDuplicates(e,t){for(;t[e].equals(t[e+1])||t[e+1].equals(t[e+2]);){t.splice(e+1,1);}},invertAxis:function invertAxis(e,t,n){var i,o,r=this,a=!1;return e.x===t.x?a=!0:t.x===n.x?(n.y>t.y&&t.y>=e.y||t.y>n.y&&e.y>=t.y)&&(a=!0):(i=r.lineFunction(e,t),o=r.calculateFunction(i,n.x),t.y>=e.y&&o>=n.y||e.y>=t.y&&n.y>=o||(a=!0)),a;},isLine:function isLine(e,t,n){var i=this,o=i.lineFunction(e,t),r=i.calculateFunction(o,n.x);return e.x==t.x&&t.x==n.x||u(r,1)===u(n.y,1);},lineFunction:function lineFunction(e,t){var n=(t.y-e.y)/(t.x-e.x),i=e.y-n*e.x;return[i,n];},controlPoints:function controlPoints(e,t,n){var i,o,r,a,s,l,c=this,d=Ve,u=Ue,h=!1,f=!1,p=c.EXTREMUM_ALLOWED_DEVIATION;return c.isLine(e,t,n)?i=c.tangent(e,t,Ve,Ue):(o={x:c.isMonotonicByField(e,t,n,Ve),y:c.isMonotonicByField(e,t,n,Ue)},o.x&&o.y?(i=c.tangent(e,n,Ve,Ue),h=!0):(c.invertAxis(e,t,n)&&(d=Ue,u=Ve),o[d]?i=0:(s=e[u]>n[u]&&t[u]>=e[u]||n[u]>e[u]&&e[u]>=t[u]?c.sign((n[u]-e[u])*(t[d]-e[d])):-c.sign((n[d]-e[d])*(t[u]-e[u])),i=p*s,f=!0))),a=c.secondControlPoint(i,e,t,d,u),f&&(l=d,d=u,u=l),r=c.firstControlPoint(i,t,n,d,u),h&&(c.restrictControlPoint(e,t,a,i),c.restrictControlPoint(t,n,r,i)),[a,r];},sign:function sign(e){return 0>=e?-1:1;},restrictControlPoint:function restrictControlPoint(e,t,n,i){t.y>e.y?n.y>t.y?(n.x=e.x+(t.y-e.y)/i,n.y=t.y):e.y>n.y&&(n.x=t.x-(t.y-e.y)/i,n.y=e.y):t.y>n.y?(n.x=e.x-(e.y-t.y)/i,n.y=t.y):n.y>e.y&&(n.x=t.x+(e.y-t.y)/i,n.y=e.y);},tangent:function tangent(e,t,n,i){var o,r=t[n]-e[n],a=t[i]-e[i];return o=0===r?0:a/r;},isMonotonicByField:function isMonotonicByField(e,t,n,i){return n[i]>t[i]&&t[i]>e[i]||t[i]>n[i]&&e[i]>t[i];},firstControlPoint:function firstControlPoint(e,t,n,i,o){var r=this,a=t[i],s=n[i],l=(s-a)*r.WEIGHT;return r.point(a+l,t[o]+l*e,i,o);},secondControlPoint:function secondControlPoint(e,t,n,i,o){var r=this,a=t[i],s=n[i],l=(s-a)*r.WEIGHT;return r.point(s-l,n[o]-l*e,i,o);},point:function point(e,t,n,i){var o=new X.Point();return o[n]=e,o[i]=t,o;},calculateFunction:function calculateFunction(e,t){var n,i=0,o=e.length;for(n=0;o>n;n++){i+=Math.pow(t,n)*e[n];}return i;}},w._element=document.createElement("span"),se(j.dataviz,{AXIS_LABEL_CLICK:le,COORD_PRECISION:he,DEFAULT_PRECISION:be,DEFAULT_WIDTH:we,DEFAULT_HEIGHT:ve,DEFAULT_FONT:ge,INITIAL_ANIMATION_DURATION:Se,NOTE_CLICK:Fe,NOTE_HOVER:Me,CLIP:fe,Axis:L,AxisLabel:B,Box2D:_S,BoxElement:I,ChartElement:E,CurveProcessor:W,ExportMixin:U,FloatElement:M,LogarithmicAxis:V,Note:H,NumericAxis:O,Point2D:je,Ring:T,RootElement:R,Sector:D,ShapeBuilder:A,ShapeElement:N,Text:F,TextBox:P,Title:z,alignPathToPixel:y,autoFormat:g,autoMajorUnit:r,boxDiff:s,dateComparer:_,decodeEntities:w,eventTargetElement:C,getSpacing:n,inArray:l,interpolateValue:p,mwDelta:b,rectToBox:x,rotatePoint:a,round:u,ceil:c,floor:d});}(window.kendo.jQuery),window.kendo;},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("kendo.dataviz.themes.min",["kendo.dataviz.core.min"],e);}(function(){return function(e){function t(t,n){return e.map(t,function(e,t){return[[e,n[t]]];});}var n=window.kendo,i=n.dataviz.ui,o=n.deepExtend,r=1.5,a=.4,s="#000",l="Arial,Helvetica,sans-serif",c="11px "+l,d="12px "+l,u="16px "+l,h="#fff",f={title:{font:u},legend:{labels:{font:d}},seriesDefaults:{visible:!0,labels:{font:c},donut:{margin:1},line:{width:2},vericalLine:{width:2},scatterLine:{width:1},area:{opacity:.4,markers:{visible:!1,size:6},highlight:{markers:{border:{color:"#fff",opacity:1,width:1}}},line:{opacity:1,width:0}},verticalArea:{opacity:.4,markers:{visible:!1,size:6},line:{opacity:1,width:0}},radarLine:{width:2,markers:{visible:!1}},radarArea:{opacity:.5,markers:{visible:!1,size:6},line:{opacity:1,width:0}},candlestick:{line:{width:1,color:s},border:{width:1,_brightness:.8},gap:1,spacing:.3,downColor:h,highlight:{line:{width:2},border:{width:2,opacity:1}}},ohlc:{line:{width:1},gap:1,spacing:.3,highlight:{line:{width:3,opacity:1}}},bubble:{opacity:.6,border:{width:0},labels:{background:"transparent"}},bar:{gap:r,spacing:a},column:{gap:r,spacing:a},rangeColumn:{gap:r,spacing:a},rangeBar:{gap:r,spacing:a},waterfall:{gap:.5,spacing:a,line:{width:1,color:s}},horizontalWaterfall:{gap:.5,spacing:a,line:{width:1,color:s}},bullet:{gap:r,spacing:a,target:{color:"#ff0000"}},verticalBullet:{gap:r,spacing:a,target:{color:"#ff0000"}},boxPlot:{outliersField:"",meanField:"",whiskers:{width:1,color:s},mean:{width:1,color:s},median:{width:1,color:s},border:{width:1,_brightness:.8},gap:1,spacing:.3,downColor:h,highlight:{whiskers:{width:2},border:{width:2,opacity:1}}},funnel:{labels:{color:"",background:""}},notes:{icon:{border:{width:1}},label:{padding:3,font:d},line:{length:10,width:1},visible:!0}},categoryAxis:{majorGridLines:{visible:!0}},axisDefaults:{labels:{font:d},title:{font:u,margin:5},crosshair:{tooltip:{font:d}},notes:{icon:{size:7,border:{width:1}},label:{padding:3,font:d},line:{length:10,width:1},visible:!0}},tooltip:{font:d},navigator:{pane:{height:90,margin:{top:10}}}},p={scale:{labels:{font:d}}},m={shapeDefaults:{hover:{opacity:.2},stroke:{width:0}},editable:{resize:{handles:{width:7,height:7}}},selectable:{stroke:{width:1,dashType:"dot"}},connectionDefaults:{stroke:{width:2},selection:{handles:{width:8,height:8}},editable:{tools:["edit","delete"]}}},g=i.themes,v=i.registerTheme=function(e,t){var n,i={};i.chart=o({},f,t.chart),i.gauge=o({},p,t.gauge),i.diagram=o({},m,t.diagram),i.treeMap=o({},t.treeMap),n=i.chart.seriesDefaults,n.verticalLine=o({},n.line),n.verticalArea=o({},n.area),n.verticalBoxPlot=o({},n.boxPlot),n.polarArea=o({},n.radarArea),n.polarLine=o({},n.radarLine),g[e]=i;};v("black",{chart:{title:{color:h},legend:{labels:{color:h},inactiveItems:{labels:{color:"#919191"},markers:{color:"#919191"}}},seriesDefaults:{labels:{color:h},errorBars:{color:h},notes:{icon:{background:"#3b3b3b",border:{color:"#8e8e8e"}},label:{color:h},line:{color:"#8e8e8e"}},pie:{overlay:{gradient:"sharpBevel"}},donut:{overlay:{gradient:"sharpGlass"}},line:{markers:{background:"#3d3d3d"}},scatter:{markers:{background:"#3d3d3d"}},scatterLine:{markers:{background:"#3d3d3d"}},waterfall:{line:{color:"#8e8e8e"}},horizontalWaterfall:{line:{color:"#8e8e8e"}},candlestick:{downColor:"#555",line:{color:h},border:{_brightness:1.5,opacity:1},highlight:{border:{color:h,opacity:.2}}},ohlc:{line:{color:h}}},chartArea:{background:"#3d3d3d"},seriesColors:["#0081da","#3aafff","#99c900","#ffeb3d","#b20753","#ff4195"],axisDefaults:{line:{color:"#8e8e8e"},labels:{color:h},majorGridLines:{color:"#545454"},minorGridLines:{color:"#454545"},title:{color:h},crosshair:{color:"#8e8e8e"},notes:{icon:{background:"#3b3b3b",border:{color:"#8e8e8e"}},label:{color:h},line:{color:"#8e8e8e"}}}},gauge:{pointer:{color:"#0070e4"},scale:{rangePlaceholderColor:"#1d1d1d",labels:{color:h},minorTicks:{color:h},majorTicks:{color:h},line:{color:h}}},diagram:{shapeDefaults:{fill:{color:"#0066cc"},connectorDefaults:{fill:{color:h},stroke:{color:"#384049"},hover:{fill:{color:"#3d3d3d"},stroke:{color:"#efefef"}}},content:{color:h}},editable:{resize:{handles:{fill:{color:"#3d3d3d"},stroke:{color:h},hover:{fill:{color:h},stroke:{color:h}}}},rotate:{thumb:{stroke:{color:h},fill:{color:h}}}},selectable:{stroke:{color:h}},connectionDefaults:{stroke:{color:h},content:{color:h},selection:{handles:{fill:{color:"#3d3d3d"},stroke:{color:"#efefef"}}}}},treeMap:{colors:[["#0081da","#314b5c"],["#3aafff","#3c5464"],["#99c900","#4f5931"],["#ffeb3d","#64603d"],["#b20753","#543241"],["#ff4195","#643e4f"]]}}),v("blueopal",{chart:{title:{color:"#293135"},legend:{labels:{color:"#293135"},inactiveItems:{labels:{color:"#27A5BA"},markers:{color:"#27A5BA"}}},seriesDefaults:{labels:{color:s,background:h,opacity:.5},errorBars:{color:"#293135"},candlestick:{downColor:"#c4d0d5",line:{color:"#9aabb2"}},waterfall:{line:{color:"#9aabb2"}},horizontalWaterfall:{line:{color:"#9aabb2"}},notes:{icon:{background:"transparent",border:{color:"#9aabb2"}},label:{color:"#293135"},line:{color:"#9aabb2"}}},seriesColors:["#0069a5","#0098ee","#7bd2f6","#ffb800","#ff8517","#e34a00"],axisDefaults:{line:{color:"#9aabb2"},labels:{color:"#293135"},majorGridLines:{color:"#c4d0d5"},minorGridLines:{color:"#edf1f2"},title:{color:"#293135"},crosshair:{color:"#9aabb2"},notes:{icon:{background:"transparent",border:{color:"#9aabb2"}},label:{color:"#293135"},line:{color:"#9aabb2"}}}},gauge:{pointer:{color:"#005c83"},scale:{rangePlaceholderColor:"#daecf4",labels:{color:"#293135"},minorTicks:{color:"#293135"},majorTicks:{color:"#293135"},line:{color:"#293135"}}},diagram:{shapeDefaults:{fill:{color:"#7ec6e3"},connectorDefaults:{fill:{color:"#003f59"},stroke:{color:h},hover:{fill:{color:h},stroke:{color:"#003f59"}}},content:{color:"#293135"}},editable:{resize:{handles:{fill:{color:h},stroke:{color:"#003f59"},hover:{fill:{color:"#003f59"},stroke:{color:"#003f59"}}}},rotate:{thumb:{stroke:{color:"#003f59"},fill:{color:"#003f59"}}}},selectable:{stroke:{color:"#003f59"}},connectionDefaults:{stroke:{color:"#003f59"},content:{color:"#293135"},selection:{handles:{fill:{color:"#3d3d3d"},stroke:{color:"#efefef"}}}}},treeMap:{colors:[["#0069a5","#bad7e7"],["#0098ee","#b9e0f5"],["#7bd2f6","#ceeaf6"],["#ffb800","#e6e3c4"],["#ff8517","#e4d8c8"],["#e34a00","#ddccc2"]]}}),v("highcontrast",{chart:{title:{color:"#ffffff"},legend:{labels:{color:"#ffffff"},inactiveItems:{labels:{color:"#66465B"},markers:{color:"#66465B"}}},seriesDefaults:{labels:{color:"#ffffff"},errorBars:{color:"#ffffff"},notes:{icon:{background:"transparent",border:{color:"#ffffff"}},label:{color:"#ffffff"},line:{color:"#ffffff"}},pie:{overlay:{gradient:"sharpGlass"}},donut:{overlay:{gradient:"sharpGlass"}},line:{markers:{background:"#2c232b"}},scatter:{markers:{background:"#2c232b"}},scatterLine:{markers:{background:"#2c232b"}},area:{opacity:.5},waterfall:{line:{color:"#ffffff"}},horizontalWaterfall:{line:{color:"#ffffff"}},candlestick:{downColor:"#664e62",line:{color:"#ffffff"},border:{_brightness:1.5,opacity:1},highlight:{border:{color:"#ffffff",opacity:1}}},ohlc:{line:{color:"#ffffff"}}},chartArea:{background:"#2c232b"},seriesColors:["#a7008f","#ffb800","#3aafff","#99c900","#b20753","#ff4195"],axisDefaults:{line:{color:"#ffffff"},labels:{color:"#ffffff"},majorGridLines:{color:"#664e62"},minorGridLines:{color:"#4f394b"},title:{color:"#ffffff"},crosshair:{color:"#ffffff"},notes:{icon:{background:"transparent",border:{color:"#ffffff"}},label:{color:"#ffffff"},line:{color:"#ffffff"}}}},gauge:{pointer:{color:"#a7008f"},scale:{rangePlaceholderColor:"#2c232b",labels:{color:"#ffffff"},minorTicks:{color:"#2c232b"},majorTicks:{color:"#664e62"},line:{color:"#ffffff"}}},diagram:{shapeDefaults:{fill:{color:"#a7018f"},connectorDefaults:{fill:{color:h},stroke:{color:"#2c232b"},hover:{fill:{color:"#2c232b"},stroke:{color:h}}},content:{color:h}},editable:{resize:{handles:{fill:{color:"#2c232b"},stroke:{color:h},hover:{fill:{color:h},stroke:{color:h}}}},rotate:{thumb:{stroke:{color:h},fill:{color:h}}}},selectable:{stroke:{color:h}},connectionDefaults:{stroke:{color:h},content:{color:h},selection:{handles:{fill:{color:"#2c232b"},stroke:{color:h}}}}},treeMap:{colors:[["#a7008f","#451c3f"],["#ffb800","#564122"],["#3aafff","#2f3f55"],["#99c900","#424422"],["#b20753","#471d33"],["#ff4195","#562940"]]}}),v("default",{chart:{title:{color:"#8e8e8e"},legend:{labels:{color:"#232323"},inactiveItems:{labels:{color:"#919191"},markers:{color:"#919191"}}},seriesDefaults:{labels:{color:s,background:h,opacity:.5},errorBars:{color:"#232323"},candlestick:{downColor:"#dedede",line:{color:"#8d8d8d"}},waterfall:{line:{color:"#8e8e8e"}},horizontalWaterfall:{line:{color:"#8e8e8e"}},notes:{icon:{background:"transparent",border:{color:"#8e8e8e"}},label:{color:"#232323"},line:{color:"#8e8e8e"}}},seriesColors:["#ff6800","#a0a700","#ff8d00","#678900","#ffb53c","#396000"],axisDefaults:{line:{color:"#8e8e8e"},labels:{color:"#232323"},minorGridLines:{color:"#f0f0f0"},majorGridLines:{color:"#dfdfdf"},title:{color:"#232323"},crosshair:{color:"#8e8e8e"},notes:{icon:{background:"transparent",border:{color:"#8e8e8e"}},label:{color:"#232323"},line:{color:"#8e8e8e"}}}},gauge:{pointer:{color:"#ea7001"},scale:{rangePlaceholderColor:"#dedede",labels:{color:"#2e2e2e"},minorTicks:{color:"#2e2e2e"},majorTicks:{color:"#2e2e2e"},line:{color:"#2e2e2e"}}},diagram:{shapeDefaults:{fill:{color:"#e15613"},connectorDefaults:{fill:{color:"#282828"},stroke:{color:h},hover:{fill:{color:h},stroke:{color:"#282828"}}},content:{color:"#2e2e2e"}},editable:{resize:{handles:{fill:{color:h},stroke:{color:"#282828"},hover:{fill:{color:"#282828"},stroke:{color:"#282828"}}}},rotate:{thumb:{stroke:{color:"#282828"},fill:{color:"#282828"}}}},selectable:{stroke:{color:"#a7018f"}},connectionDefaults:{stroke:{color:"#282828"},content:{color:"#2e2e2e"},selection:{handles:{fill:{color:h},stroke:{color:"#282828"}}}}},treeMap:{colors:[["#ff6800","#edcfba"],["#a0a700","#dadcba"],["#ff8d00","#edd7ba"],["#678900","#cfd6ba"],["#ffb53c","#eddfc6"],["#396000","#c6ceba"]]}}),v("silver",{chart:{title:{color:"#4e5968"},legend:{labels:{color:"#4e5968"},inactiveItems:{labels:{color:"#B1BCC8"},markers:{color:"#B1BCC8"}}},seriesDefaults:{labels:{color:"#293135",background:"#eaeaec",opacity:.5},errorBars:{color:"#4e5968"},notes:{icon:{background:"transparent",border:{color:"#4e5968"}},label:{color:"#4e5968"},line:{color:"#4e5968"}},line:{markers:{background:"#eaeaec"}},scatter:{markers:{background:"#eaeaec"}},scatterLine:{markers:{background:"#eaeaec"}},pie:{connectors:{color:"#A6B1C0"}},donut:{connectors:{color:"#A6B1C0"}},waterfall:{line:{color:"#a6b1c0"}},horizontalWaterfall:{line:{color:"#a6b1c0"}},candlestick:{downColor:"#a6afbe"}},chartArea:{background:"#eaeaec"},seriesColors:["#007bc3","#76b800","#ffae00","#ef4c00","#a419b7","#430B62"],axisDefaults:{line:{color:"#a6b1c0"},labels:{color:"#4e5968"},majorGridLines:{color:"#dcdcdf"},minorGridLines:{color:"#eeeeef"},title:{color:"#4e5968"},crosshair:{color:"#a6b1c0"},notes:{icon:{background:"transparent",border:{color:"#4e5968"}},label:{color:"#4e5968"},line:{color:"#4e5968"}}}},gauge:{pointer:{color:"#0879c0"},scale:{rangePlaceholderColor:"#f3f3f4",labels:{color:"#515967"},minorTicks:{color:"#515967"},majorTicks:{color:"#515967"},line:{color:"#515967"}}},diagram:{shapeDefaults:{fill:{color:"#1c82c2"},connectorDefaults:{fill:{color:"#515967"},stroke:{color:h},hover:{fill:{color:h},stroke:{color:"#282828"}}},content:{color:"#515967"}},editable:{resize:{handles:{fill:{color:h},stroke:{color:"#515967"},hover:{fill:{color:"#515967"},stroke:{color:"#515967"}}}},rotate:{thumb:{stroke:{color:"#515967"},fill:{color:"#515967"}}}},selectable:{stroke:{color:"#515967"}},connectionDefaults:{stroke:{color:"#515967"},content:{color:"#515967"},selection:{handles:{fill:{color:h},stroke:{color:"#515967"}}}}},treeMap:{colors:[["#007bc3","#c2dbea"],["#76b800","#dae7c3"],["#ffae00","#f5e5c3"],["#ef4c00","#f2d2c3"],["#a419b7","#e3c7e8"],["#430b62","#d0c5d7"]]}}),v("metro",{chart:{title:{color:"#777777"},legend:{labels:{color:"#777777"},inactiveItems:{labels:{color:"#CBCBCB"},markers:{color:"#CBCBCB"}}},seriesDefaults:{labels:{color:s},errorBars:{color:"#777777"},notes:{icon:{background:"transparent",border:{color:"#777777"}},label:{color:"#777777"},line:{color:"#777777"}},candlestick:{downColor:"#c7c7c7",line:{color:"#787878"}},waterfall:{line:{color:"#c7c7c7"}},horizontalWaterfall:{line:{color:"#c7c7c7"}},overlay:{gradient:"none"},border:{_brightness:1}},seriesColors:["#8ebc00","#309b46","#25a0da","#ff6900","#e61e26","#d8e404","#16aba9","#7e51a1","#313131","#ed1691"],axisDefaults:{line:{color:"#c7c7c7"},labels:{color:"#777777"},minorGridLines:{color:"#c7c7c7"},majorGridLines:{color:"#c7c7c7"},title:{color:"#777777"},crosshair:{color:"#c7c7c7"},notes:{icon:{background:"transparent",border:{color:"#777777"}},label:{color:"#777777"},line:{color:"#777777"}}}},gauge:{pointer:{color:"#8ebc00"},scale:{rangePlaceholderColor:"#e6e6e6",labels:{color:"#777"},minorTicks:{color:"#777"},majorTicks:{color:"#777"},line:{color:"#777"}}},diagram:{shapeDefaults:{fill:{color:"#8ebc00"},connectorDefaults:{fill:{color:s},stroke:{color:h},hover:{fill:{color:h},stroke:{color:s}}},content:{color:"#777"}},editable:{resize:{handles:{fill:{color:h},stroke:{color:"#787878"},hover:{fill:{color:"#787878"},stroke:{color:"#787878"}}}},rotate:{thumb:{stroke:{color:"#787878"},fill:{color:"#787878"}}}},selectable:{stroke:{color:"#515967"}},connectionDefaults:{stroke:{color:"#787878"},content:{color:"#777"},selection:{handles:{fill:{color:h},stroke:{color:"#787878"}}}}},treeMap:{colors:[["#8ebc00","#e8f2cc"],["#309b46","#d6ebda"],["#25a0da","#d3ecf8"],["#ff6900","#ffe1cc"],["#e61e26","#fad2d4"],["#d8e404","#f7facd"],["#16aba9","#d0eeee"],["#7e51a1","#e5dcec"],["#313131","#d6d6d6"],["#ed1691","#fbd0e9"]]}}),v("metroblack",{chart:{title:{color:"#ffffff"},legend:{labels:{color:"#ffffff"},inactiveItems:{labels:{color:"#797979"},markers:{color:"#797979"}}},seriesDefaults:{border:{_brightness:1},labels:{color:"#ffffff"},errorBars:{color:"#ffffff"},notes:{icon:{background:"transparent",border:{color:"#cecece"}},label:{color:"#ffffff"},line:{color:"#cecece"}},line:{markers:{background:"#0e0e0e"}},bubble:{opacity:.6},scatter:{markers:{background:"#0e0e0e"}},scatterLine:{markers:{background:"#0e0e0e"}},candlestick:{downColor:"#828282",line:{color:"#ffffff"}},waterfall:{line:{color:"#cecece"}},horizontalWaterfall:{line:{color:"#cecece"}},overlay:{gradient:"none"}},chartArea:{background:"#0e0e0e"},seriesColors:["#00aba9","#309b46","#8ebc00","#ff6900","#e61e26","#d8e404","#25a0da","#7e51a1","#313131","#ed1691"],axisDefaults:{line:{color:"#cecece"},labels:{color:"#ffffff"},minorGridLines:{color:"#2d2d2d"},majorGridLines:{color:"#333333"},title:{color:"#ffffff"},crosshair:{color:"#cecece"},notes:{icon:{background:"transparent",border:{color:"#cecece"}},label:{color:"#ffffff"},line:{color:"#cecece"}}}},gauge:{pointer:{color:"#00aba9"},scale:{rangePlaceholderColor:"#2d2d2d",labels:{color:"#ffffff"},minorTicks:{color:"#333333"},majorTicks:{color:"#cecece"},line:{color:"#cecece"}}},diagram:{shapeDefaults:{fill:{color:"#00aba9"},connectorDefaults:{fill:{color:h},stroke:{color:"#0e0e0e"},hover:{fill:{color:"#0e0e0e"},stroke:{color:h}}},content:{color:h}},editable:{resize:{handles:{fill:{color:"#0e0e0e"},stroke:{color:"#787878"},hover:{fill:{color:"#787878"},stroke:{color:"#787878"}}}},rotate:{thumb:{stroke:{color:h},fill:{color:h}}}},selectable:{stroke:{color:"#787878"}},connectionDefaults:{stroke:{color:h},content:{color:h},selection:{handles:{fill:{color:"#0e0e0e"},stroke:{color:h}}}}},treeMap:{colors:[["#00aba9","#0b2d2d"],["#309b46","#152a19"],["#8ebc00","#28310b"],["#ff6900","#3e200b"],["#e61e26","#391113"],["#d8e404","#36390c"],["#25a0da","#132b37"],["#7e51a1","#241b2b"],["#313131","#151515"],["#ed1691","#3b1028"]]}}),v("moonlight",{chart:{title:{color:"#ffffff"},legend:{labels:{color:"#ffffff"},inactiveItems:{labels:{color:"#A1A7AB"},markers:{color:"#A1A7AB"}}},seriesDefaults:{labels:{color:"#ffffff"},errorBars:{color:"#ffffff"},notes:{icon:{background:"transparent",border:{color:"#8c909e"}},label:{color:"#ffffff"},line:{color:"#8c909e"}},pie:{overlay:{gradient:"sharpBevel"}},donut:{overlay:{gradient:"sharpGlass"}},line:{markers:{background:"#212a33"}},bubble:{opacity:.6},scatter:{markers:{background:"#212a33"}},scatterLine:{markers:{background:"#212a33"}},area:{opacity:.3},candlestick:{downColor:"#757d87",line:{color:"#ea9d06"},border:{_brightness:1.5,opacity:1},highlight:{border:{color:h,opacity:.2}}},waterfall:{line:{color:"#8c909e"}},horizontalWaterfall:{line:{color:"#8c909e"}},ohlc:{line:{color:"#ea9d06"}}},chartArea:{background:"#212a33"},seriesColors:["#ffca08","#ff710f","#ed2e24","#ff9f03","#e13c02","#a00201"],axisDefaults:{line:{color:"#8c909e"},minorTicks:{color:"#8c909e"},majorTicks:{color:"#8c909e"},labels:{color:"#ffffff"},majorGridLines:{color:"#3e424d"},minorGridLines:{color:"#2f3640"},title:{color:"#ffffff"},crosshair:{color:"#8c909e"},notes:{icon:{background:"transparent",border:{color:"#8c909e"}},label:{color:"#ffffff"},line:{color:"#8c909e"}}}},gauge:{pointer:{color:"#f4af03"},scale:{rangePlaceholderColor:"#2f3640",labels:{color:h},minorTicks:{color:"#8c909e"},majorTicks:{color:"#8c909e"},line:{color:"#8c909e"}}},diagram:{shapeDefaults:{fill:{color:"#f3ae03"},connectorDefaults:{fill:{color:h},stroke:{color:"#414550"},hover:{fill:{color:"#414550"},stroke:{color:h}}},content:{color:h}},editable:{resize:{handles:{fill:{color:"#414550"},stroke:{color:h},hover:{fill:{color:h},stroke:{color:h}}}},rotate:{thumb:{stroke:{color:h},fill:{color:h}}}},selectable:{stroke:{color:h}},connectionDefaults:{stroke:{color:h},content:{color:h},selection:{handles:{fill:{color:"#414550"},stroke:{color:h}}}}},treeMap:{colors:[["#ffca08","#4e4b2b"],["#ff710f","#4e392d"],["#ed2e24","#4b2c31"],["#ff9f03","#4e422a"],["#e13c02","#482e2a"],["#a00201","#3b232a"]]}}),v("uniform",{chart:{title:{color:"#686868"},legend:{labels:{color:"#686868"},inactiveItems:{labels:{color:"#B6B6B6"},markers:{color:"#B6B6B6"}}},seriesDefaults:{labels:{color:"#686868"},errorBars:{color:"#686868"},notes:{icon:{background:"transparent",border:{color:"#9e9e9e"}},label:{color:"#686868"},line:{color:"#9e9e9e"}},pie:{overlay:{gradient:"sharpBevel"}},donut:{overlay:{gradient:"sharpGlass"}},line:{markers:{background:"#ffffff"}},bubble:{opacity:.6},scatter:{markers:{background:"#ffffff"}},scatterLine:{markers:{background:"#ffffff"}},area:{opacity:.3},candlestick:{downColor:"#cccccc",line:{color:"#cccccc"},border:{_brightness:1.5,opacity:1},highlight:{border:{color:"#cccccc",opacity:.2}}},waterfall:{line:{color:"#9e9e9e"}},horizontalWaterfall:{line:{color:"#9e9e9e"}},ohlc:{line:{color:"#cccccc"}}},chartArea:{background:"#ffffff"},seriesColors:["#527aa3","#6f91b3","#8ca7c2","#a8bdd1","#c5d3e0","#e2e9f0"],axisDefaults:{line:{color:"#9e9e9e"},minorTicks:{color:"#aaaaaa"},majorTicks:{color:"#888888"},labels:{color:"#686868"},majorGridLines:{color:"#dadada"},minorGridLines:{color:"#e7e7e7"},title:{color:"#686868"},crosshair:{color:"#9e9e9e"},notes:{icon:{background:"transparent",border:{color:"#9e9e9e"}},label:{color:"#686868"},line:{color:"#9e9e9e"}}}},gauge:{pointer:{color:"#527aa3"},scale:{rangePlaceholderColor:"#e7e7e7",labels:{color:"#686868"},minorTicks:{color:"#aaaaaa"},majorTicks:{color:"#888888"},line:{color:"#9e9e9e"}}},diagram:{shapeDefaults:{fill:{color:"#d1d1d1"},connectorDefaults:{fill:{color:"#686868"},stroke:{color:h},hover:{fill:{color:h},stroke:{color:"#686868"}}},content:{color:"#686868"}},editable:{resize:{handles:{fill:{color:h},stroke:{color:"#686868"},hover:{fill:{color:"#686868"},stroke:{color:"#686868"}}}},rotate:{thumb:{stroke:{color:"#686868"},fill:{color:"#686868"}}}},selectable:{stroke:{color:"#686868"}},connectionDefaults:{stroke:{color:"#686868"},content:{color:"#686868"},selection:{handles:{fill:{color:h},stroke:{color:"#686868"}}}}},treeMap:{colors:[["#527aa3","#d0d8e1"],["#6f91b3","#d6dde4"],["#8ca7c2","#dce1e7"],["#a8bdd1","#e2e6ea"],["#c5d3e0","#e7eaed"],["#e2e9f0","#edeff0"]]}}),v("bootstrap",{chart:{title:{color:"#333333"},legend:{labels:{color:"#333333"},inactiveItems:{labels:{color:"#999999"},markers:{color:"#9A9A9A"}}},seriesDefaults:{labels:{color:"#333333"},overlay:{gradient:"none"},errorBars:{color:"#343434"},notes:{icon:{background:"#000000",border:{color:"#000000"}},label:{color:"#333333"},line:{color:"#000000"}},pie:{overlay:{gradient:"none"}},donut:{overlay:{gradient:"none"}},line:{markers:{background:"#ffffff"}},bubble:{opacity:.6},scatter:{markers:{background:"#ffffff"}},scatterLine:{markers:{background:"#ffffff"}},area:{opacity:.8},candlestick:{downColor:"#d0d0d0",line:{color:"#333333"},border:{_brightness:1.5,opacity:1},highlight:{border:{color:"#b8b8b8",opacity:.2}}},waterfall:{line:{color:"#cccccc"}},horizontalWaterfall:{line:{color:"#cccccc"}},ohlc:{line:{color:"#333333"}}},chartArea:{background:"#ffffff"},seriesColors:["#428bca","#5bc0de","#5cb85c","#f2b661","#e67d4a","#da3b36"],axisDefaults:{line:{color:"#cccccc"},minorTicks:{color:"#ebebeb"},majorTicks:{color:"#cccccc"},labels:{color:"#333333"},majorGridLines:{color:"#cccccc"},minorGridLines:{color:"#ebebeb"},title:{color:"#333333"},crosshair:{color:"#000000"},notes:{icon:{background:"#000000",border:{color:"#000000"}},label:{color:"#ffffff"},line:{color:"#000000"}}}},gauge:{pointer:{color:"#428bca"},scale:{rangePlaceholderColor:"#cccccc",labels:{color:"#333333"},minorTicks:{color:"#ebebeb"},majorTicks:{color:"#cccccc"},line:{color:"#cccccc"}}},diagram:{shapeDefaults:{fill:{color:"#428bca"},connectorDefaults:{fill:{color:"#333333"},stroke:{color:h},hover:{fill:{color:h},stroke:{color:"#333333"}}},content:{color:"#333333"}},editable:{resize:{handles:{fill:{color:h},stroke:{color:"#333333"},hover:{fill:{color:"#333333"},stroke:{color:"#333333"}}}},rotate:{thumb:{stroke:{color:"#333333"},fill:{color:"#333333"}}}},selectable:{stroke:{color:"#333333"}},connectionDefaults:{stroke:{color:"#c4c4c4"},content:{color:"#333333"},selection:{handles:{fill:{color:h},stroke:{color:"#333333"}},stroke:{color:"#333333"}}}},treeMap:{colors:[["#428bca","#d1e0ec"],["#5bc0de","#d6eaf0"],["#5cb85c","#d6e9d6"],["#5cb85c","#f4e8d7"],["#e67d4a","#f2ddd3"],["#da3b36","#f0d0cf"]]}}),v("flat",{chart:{title:{color:"#4c5356"},legend:{labels:{color:"#4c5356"},inactiveItems:{labels:{color:"#CBCBCB"},markers:{color:"#CBCBCB"}}},seriesDefaults:{labels:{color:"#4c5356"},errorBars:{color:"#4c5356"},notes:{icon:{background:"transparent",border:{color:"#cdcdcd"}},label:{color:"#4c5356"},line:{color:"#cdcdcd"}},candlestick:{downColor:"#c7c7c7",line:{color:"#787878"}},area:{opacity:.9},waterfall:{line:{color:"#cdcdcd"}},horizontalWaterfall:{line:{color:"#cdcdcd"}},overlay:{gradient:"none"},border:{_brightness:1}},seriesColors:["#10c4b2","#ff7663","#ffb74f","#a2df53","#1c9ec4","#ff63a5","#1cc47b"],axisDefaults:{line:{color:"#cdcdcd"},labels:{color:"#4c5356"},minorGridLines:{color:"#cdcdcd"},majorGridLines:{color:"#cdcdcd"},title:{color:"#4c5356"},crosshair:{color:"#cdcdcd"},notes:{icon:{background:"transparent",border:{color:"#cdcdcd"}},label:{color:"#4c5356"},line:{color:"#cdcdcd"}}}},gauge:{pointer:{color:"#10c4b2"},scale:{rangePlaceholderColor:"#cdcdcd",labels:{color:"#4c5356"},minorTicks:{color:"#4c5356"},majorTicks:{color:"#4c5356"},line:{color:"#4c5356"}}},diagram:{shapeDefaults:{fill:{color:"#10c4b2"},connectorDefaults:{fill:{color:"#363940"},stroke:{color:h},hover:{fill:{color:h},stroke:{color:"#363940"}}},content:{color:"#4c5356"}},editable:{resize:{handles:{fill:{color:h},stroke:{color:"#363940"},hover:{fill:{color:"#363940"},stroke:{color:"#363940"}}}},rotate:{thumb:{stroke:{color:"#363940"},fill:{color:"#363940"}}}},selectable:{stroke:{color:"#363940"}},connectionDefaults:{stroke:{color:"#cdcdcd"},content:{color:"#4c5356"},selection:{handles:{fill:{color:h},stroke:{color:"#363940"}},stroke:{color:"#363940"}}}},treeMap:{colors:[["#10c4b2","#cff3f0"],["#ff7663","#ffe4e0"],["#ffb74f","#fff1dc"],["#a2df53","#ecf9dd"],["#1c9ec4","#d2ecf3"],["#ff63a5","#ffe0ed"],["#1cc47b","#d2f3e5"]]}}),v("material",{chart:{title:{color:"#444444"},legend:{labels:{color:"#444444"},inactiveItems:{labels:{color:"#CBCBCB"},markers:{color:"#CBCBCB"}}},seriesDefaults:{labels:{color:"#444444"},errorBars:{color:"#444444"},notes:{icon:{background:"transparent",border:{color:"#e5e5e5"}},label:{color:"#444444"},line:{color:"#e5e5e5"}},candlestick:{downColor:"#c7c7c7",line:{color:"#787878"}},area:{opacity:.9},waterfall:{line:{color:"#e5e5e5"}},horizontalWaterfall:{line:{color:"#e5e5e5"}},overlay:{gradient:"none"},border:{_brightness:1}},seriesColors:["#3f51b5","#03a9f4","#4caf50","#f9ce1d","#ff9800","#ff5722"],axisDefaults:{line:{color:"#e5e5e5"},labels:{color:"#444444"},minorGridLines:{color:"#e5e5e5"},majorGridLines:{color:"#e5e5e5"},title:{color:"#444444"},crosshair:{color:"#7f7f7f"},notes:{icon:{background:"transparent",border:{color:"#e5e5e5"}},label:{color:"#444444"},line:{color:"#e5e5e5"}}}},gauge:{pointer:{color:"#3f51b5"},scale:{rangePlaceholderColor:"#e5e5e5",labels:{color:"#444444"},minorTicks:{color:"#444444"},majorTicks:{color:"#444444"},line:{color:"#444444"}}},diagram:{shapeDefaults:{fill:{color:"#3f51b5"},connectorDefaults:{fill:{color:"#7f7f7f"},stroke:{color:h},hover:{fill:{color:h},stroke:{color:"#7f7f7f"}}},content:{color:"#444444"}},editable:{resize:{handles:{fill:{color:h},stroke:{color:"#444444"},hover:{fill:{color:"#444444"},stroke:{color:"#444444"}}}},rotate:{thumb:{stroke:{color:"#444444"},fill:{color:"#444444"}}}},selectable:{stroke:{color:"#444444"}},connectionDefaults:{stroke:{color:"#7f7f7f"},content:{color:"#444444"},selection:{handles:{fill:{color:h},stroke:{color:"#444444"}},stroke:{color:"#444444"}}}},treeMap:{colors:[["#3f51b5","#cff3f0"],["#03a9f4","#e5f6fe"],["#4caf50","#edf7ed"],["#f9ce1d","#fefae8"],["#ff9800","#fff4e5"],["#ff5722","#ffeee8"]]}}),v("materialblack",{chart:{title:{color:"#fff"},legend:{labels:{color:"#fff"},inactiveItems:{labels:{color:"#CBCBCB"},markers:{color:"#CBCBCB"}}},seriesDefaults:{labels:{color:"#fff"},errorBars:{color:"#fff"},notes:{icon:{background:"transparent",border:{color:"#e5e5e5"}},label:{color:"#fff"},line:{color:"#e5e5e5"}},candlestick:{downColor:"#c7c7c7",line:{color:"#787878"}},area:{opacity:.9},waterfall:{line:{color:"#4d4d4d"}},horizontalWaterfall:{line:{color:"#4d4d4d"}},overlay:{gradient:"none"},border:{_brightness:1}},chartArea:{background:"#1c1c1c"},seriesColors:["#3f51b5","#03a9f4","#4caf50","#f9ce1d","#ff9800","#ff5722"],axisDefaults:{line:{color:"#4d4d4d"},labels:{color:"#fff"},minorGridLines:{color:"#4d4d4d"},majorGridLines:{color:"#4d4d4d"},title:{color:"#fff"},crosshair:{color:"#7f7f7f"},notes:{icon:{background:"transparent",border:{color:"#4d4d4d"}},label:{color:"#fff"},line:{color:"#4d4d4d"}}}},gauge:{pointer:{color:"#3f51b5"},scale:{rangePlaceholderColor:"#4d4d4d",labels:{color:"#fff"},minorTicks:{color:"#fff"},majorTicks:{color:"#fff"},line:{color:"#fff"}}},diagram:{shapeDefaults:{fill:{color:"#3f51b5"},connectorDefaults:{fill:{color:"#7f7f7f"},stroke:{color:h},hover:{fill:{color:h},stroke:{color:"#7f7f7f"}}},content:{color:"#fff"}},editable:{resize:{handles:{fill:{color:h},stroke:{color:"#fff"},hover:{fill:{color:"#fff"},stroke:{color:"#fff"}}}},rotate:{thumb:{stroke:{color:"#fff"},fill:{color:"#fff"}}}},selectable:{stroke:{color:"#fff"}},connectionDefaults:{stroke:{color:"#7f7f7f"},content:{color:"#fff"},selection:{handles:{fill:{color:h},stroke:{color:"#fff"}},stroke:{color:"#fff"}}}},treeMap:{colors:[["#3f51b5","#cff3f0"],["#03a9f4","#e5f6fe"],["#4caf50","#edf7ed"],["#f9ce1d","#fefae8"],["#ff9800","#fff4e5"],["#ff5722","#ffeee8"]]}}),function(){function e(){return{icon:{background:"#007cc0",border:{color:"#007cc0"}},label:{color:"#ffffff"},line:{color:r}};}var n="#333333",i="#7f7f7f",o="#bdbdbd",r="#c8c8c8",a="#dddddd",s=["#008fd3","#99d101","#f39b02","#f05662","#c03c53","#acacac"],l=["#cbe8f5","#eaf5cb","#fceacc","#fbdcdf","#f2d7dc","#eeeeee"],c=s[0],d=h;v("fiori",{chart:{title:{color:n},legend:{labels:{color:n},inactiveItems:{labels:{color:i},markers:{color:i}}},seriesDefaults:{labels:{color:n},errorBars:{color:n},notes:e(),candlestick:{downColor:r,line:{color:o}},area:{opacity:.8},waterfall:{line:{color:r}},horizontalWaterfall:{line:{color:r}},overlay:{gradient:"none"},border:{_brightness:1}},seriesColors:s,axisDefaults:{line:{color:r},labels:{color:n},minorGridLines:{color:a},majorGridLines:{color:r},title:{color:n},crosshair:{color:i},notes:e()}},gauge:{pointer:{color:c},scale:{rangePlaceholderColor:r,labels:{color:n},minorTicks:{color:n},majorTicks:{color:n},line:{color:n}}},diagram:{shapeDefaults:{fill:{color:c},connectorDefaults:{fill:{color:n},stroke:{color:d},hover:{fill:{color:d},stroke:{color:n}}},content:{color:n}},editable:{resize:{handles:{fill:{color:d},stroke:{color:o},hover:{fill:{color:o},stroke:{color:o}}}},rotate:{thumb:{stroke:{color:o},fill:{color:o}}}},selectable:{stroke:{color:o}},connectionDefaults:{stroke:{color:o},content:{color:o},selection:{handles:{fill:{color:d},stroke:{color:o}},stroke:{color:o}}}},treeMap:{colors:t(s,l)}});}(),function(){function e(){return{icon:{background:"#00b0ff",border:{color:"#00b0ff"}},label:{color:"#ffffff"},line:{color:r}};}var n="#4e4e4e",i="#7f7f7f",o="#bdbdbd",r="#c8c8c8",a="#e5e5e5",s=["#0072c6","#5db2ff","#008a17","#82ba00","#ff8f32","#ac193d"],l=["#cbe2f3","#deeffe","#cbe7d0","#e5f0cb","#fee8d5","#eed0d7"],c=s[0],d=h;v("office365",{chart:{title:{color:n},legend:{labels:{color:n},inactiveItems:{labels:{color:i},markers:{color:i}}},seriesDefaults:{labels:{color:n},errorBars:{color:n},notes:e(),candlestick:{downColor:r,line:{color:o}},area:{opacity:.8},waterfall:{line:{color:r}},horizontalWaterfall:{line:{color:r}},overlay:{gradient:"none"},border:{_brightness:1}},seriesColors:s,axisDefaults:{line:{color:r},labels:{color:n},minorGridLines:{color:a},majorGridLines:{color:r},title:{color:n},crosshair:{color:i},notes:e()}},gauge:{pointer:{color:c},scale:{rangePlaceholderColor:r,labels:{color:n},minorTicks:{color:n},majorTicks:{color:n},line:{color:n}}},diagram:{shapeDefaults:{fill:{color:c},connectorDefaults:{fill:{color:n},stroke:{color:d},hover:{fill:{color:d},stroke:{color:n}}},content:{color:n}},editable:{resize:{handles:{fill:{color:d},stroke:{color:o},hover:{fill:{color:o},stroke:{color:o}}}},rotate:{thumb:{stroke:{color:o},fill:{color:o}}}},selectable:{stroke:{color:o}},connectionDefaults:{stroke:{color:o},content:{color:o},selection:{handles:{fill:{color:d},stroke:{color:o}},stroke:{color:o}}}},treeMap:{colors:t(s,l)}});}(),function(){function e(){return{icon:{background:"#007cc0",border:{color:"#007cc0"}},label:{color:"#ffffff"},line:{color:r}};}var n="#32364c",i="#7f7f7f",o="#bdbdbd",r="#dfe0e1",a="#dfe0e1",s=["#ff4350","#ff9ea5","#00acc1","#80deea","#ffbf46","#ffd78c"],l=["#ffd9dc","#ffeced","#cceef3","#e6f8fb","#fff2da","#fff7e8"],c=s[0],d=h;v("nova",{chart:{title:{color:n},legend:{labels:{color:n},inactiveItems:{labels:{color:i},markers:{color:i}}},seriesDefaults:{labels:{color:n},errorBars:{color:n},notes:e(),candlestick:{downColor:r,line:{color:o}},area:{opacity:.8},waterfall:{line:{color:r}},horizontalWaterfall:{line:{color:r}},overlay:{gradient:"none"},border:{_brightness:1}},seriesColors:s,axisDefaults:{line:{color:r},labels:{color:n},minorGridLines:{color:a},majorGridLines:{color:r},title:{color:n},crosshair:{color:n},notes:e()}},gauge:{pointer:{color:c},scale:{rangePlaceholderColor:r,labels:{color:n},minorTicks:{color:n},majorTicks:{color:n},line:{color:n}}},diagram:{shapeDefaults:{fill:{color:c},connectorDefaults:{fill:{color:n},stroke:{color:d},hover:{fill:{color:d},stroke:{color:n}}},content:{color:n}},editable:{resize:{handles:{fill:{color:d},stroke:{color:o},hover:{fill:{color:o},stroke:{color:o}}}},rotate:{thumb:{stroke:{color:o},fill:{color:o}}}},selectable:{stroke:{color:o}},connectionDefaults:{stroke:{color:o},content:{color:o},selection:{handles:{fill:{color:d},stroke:{color:o}},stroke:{color:o}}}},treeMap:{colors:t(s,l)}});}();}(window.kendo.jQuery),window.kendo;},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("kendo.dataviz.chart.min",["kendo.color.min","kendo.data.min","kendo.dataviz.core.min","kendo.dataviz.themes.min","kendo.drawing.min","kendo.userevents.min"],e);}(function(){return function(e,t){function n(){return this;}function i(){this._defaults={};}function o(e,t,n,i){var o,r,a=(i.x-n.x)*(e.y-n.y)-(i.y-n.y)*(e.x-n.x),s=(i.y-n.y)*(t.x-e.x)-(i.x-n.x)*(t.y-e.y);return 0!==s&&(r=a/s,o=new an(e.x+r*(t.x-e.x),e.y+r*(t.y-e.y))),o;}function r(e,t){var n,i,o,r=e.series,s=r.length,l=e.seriesDefaults,c=Wt({},e.seriesDefaults),d=t?Wt({},t.seriesDefaults):{},u=Wt({},d);for(a(c),a(u),n=0;s>n;n++){i=r[n].type||e.seriesDefaults.type,o=Wt({data:[]},u,d[i],{tooltip:e.tooltip},c,l[i]),r[n]._defaults=o,r[n]=Wt({},o,r[n]);}}function a(e){delete e.bar,delete e.column,delete e.rangeColumn,delete e.line,delete e.verticalLine,delete e.pie,delete e.donut,delete e.area,delete e.verticalArea,delete e.scatter,delete e.scatterLine,delete e.bubble,delete e.candlestick,delete e.ohlc,delete e.boxPlot,delete e.bullet,delete e.verticalBullet,delete e.polarArea,delete e.polarLine,delete e.radarArea,delete e.radarLine,delete e.waterfall;}function s(e){var t,n,i,o,r=e.series,a=e.seriesColors||[];for(t=0;r.length>t;t++){n=r[t],i=a[t%a.length],n.color=n.color||i,o=n._defaults,o&&(o.color=o.color||i);}}function l(e){var t;Rt([Xn,tr,cr,dr],function(){t=this+"Axes",e[t]&&(e[this+"Axis"]=e[t],delete e[t]);});}function c(t,n){var i=(n||{}).axisDefaults||{};Rt([Xn,tr,cr,dr],function(){var n=this+"Axis",o=[].concat(t[n]),r=t.axisDefaults||{};o=e.map(o,function(e){var t=(e||{}).color,o=Wt({},i,i[n],r,r[n],{line:{color:t},labels:{color:t},title:{color:t}},e);return delete o[n],o;}),t[n]=o.length>1?o:o[0];});}function d(e){var t,n=e.length,i=0;for(t=0;n>t;t++){i=Pt.max(i,e[t].data.length);}return i;}function u(e){return e*e;}function h(e,t){if(null===t)return t;var n=jt(e,!0);return n(t);}function f(e,t){if(null===t)return t;var n="_date_"+e,i=t[n];return i||(i=p(jt(e,!0)(t)),t[n]=i),i;}function p(e){var t,n;if(e instanceof Date)t=e;else if((typeof e==="undefined"?"undefined":_typeof(e))===Ho)t=Ht.parseDate(e)||new Date(e);else if(e)if(It(e))for(t=[],n=0;e.length>n;n++){t.push(p(e[n]));}else t=new Date(e);return t;}function m(e){return It(e)?Mt(e,m):e?p(e).getTime():t;}function g(e,t,n,i){var o,r=e;return e&&(e=p(e),o=e.getHours(),n===ur?(r=new Date(e.getFullYear()+t,0,1),Ht.date.adjustDST(r,0)):n===eo?(r=new Date(e.getFullYear(),e.getMonth()+t,1),Ht.date.adjustDST(r,o)):n===sr?(r=g(v(e,i),7*t,ui),Ht.date.adjustDST(r,o)):n===ui?(r=new Date(e.getFullYear(),e.getMonth(),e.getDate()+t),Ht.date.adjustDST(r,o)):n===zi?r=k(new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours()),t*Uo):n===Zi?(r=k(e,t*Vo),r.getSeconds()>0&&r.setSeconds(0)):n===Do&&(r=k(e,t*Oo)),r.getMilliseconds()>0&&r.setMilliseconds(0)),r;}function v(e,t){var n=e.getDay(),i=0;if(!isNaN(n))for(t=t||0;n!==t;){0===n?n=6:n--,i++;}return k(e,-i*Wo);}function _(e,t,n){return e=p(e),g(e,0,t,n);}function b(e,t,n){return e=p(e),e&&_(e,t,n).getTime()===e.getTime()?e:g(e,1,t,n);}function w(e,t){var n=e.getTime()-t,i=e.getTimezoneOffset()-t.getTimezoneOffset();return n-(i*n>0?i*Vo:0);}function y(e,t){var n=e.getTime()-t,i=e.getTimezoneOffset()-t.getTimezoneOffset();return n-i*Vo;}function k(e,t){var n=e.getTimezoneOffset(),i=new Date(e.getTime()+t),o=i.getTimezoneOffset()-n;return new Date(i.getTime()+(t*o>0?o*Vo:0));}function x(e,t,n){var i;return i=n===ur?t.getFullYear()-e.getFullYear():n===eo?12*x(e,t,ur)+t.getMonth()-e.getMonth():Pt.floor(n===ui?w(t,e)/Wo:w(t,e)/$o[n]);}function C(e,t,n,i){var o,r=p(e),a=p(t);return o=n==eo?r.getMonth()-a.getMonth()+12*(r.getFullYear()-a.getFullYear())+S(r,new Date(r.getFullYear(),r.getMonth()),ui)/new Date(r.getFullYear(),r.getMonth()+1,0).getDate():n==ur?r.getFullYear()-a.getFullYear()+C(r,new Date(r.getFullYear(),0),eo,1)/12:n==ui||n==sr?S(r,a,n):w(r,t)/$o[n],o/i;}function S(e,t,n){return y(e,t)/$o[n];}function T(e){return 1===e.length?e[0]:e;}function D(e){var t,n,i,o=e.length;if(o>0)for(n=0;o>n;n++){i=e[n].contentBox(),t?t.wrap(i):t=i.clone();}return t||Qt();}function A(e,t){return e&&t?e.toLowerCase()===t.toLowerCase():e===t;}function E(e,t){return e&&t?m(e)===m(t):e===t;}function R(e,t){null!==t&&e.push(t);}function I(e,t){for(var n,i,o=0,r=t.length-1;r>=o;){if(n=Pt.floor((o+r)/2),i=t[n],e>i)o=n+1;else{if(!(i>e)){for(;E(t[n-1],e);){n--;}return n;}r=n-1;}}return e>=t[n]?n:n-1;}function F(e){return"number"==typeof e&&!isNaN(e);}function M(e){var t,n,i=e.length,o=0;for(t=0;i>t;t++){n=e[t],F(n)&&o++;}return o;}function P(e){return M(e)===e.length;}function z(e){var t,n,i,o={};for(t=0;e.length>t;t++){n=e[t],i=n.options.name,i&&(o[i]=n.range());}return o;}function B(e,t,n,i){var o,r,a,s,l,c=!1;if(n=n||{},a=n.excluded=n.excluded||[],s=n.defaults=n.defaults||{},l=n.depth=n.depth||0,!(l>Ki)){for(o in e){!_n(o,n.excluded)&&e.hasOwnProperty(o)&&(r=e[o],qt(r)?(c=!0,i||(e[o]=In(r(t),s[o]))):(typeof r==="undefined"?"undefined":_typeof(r))===uo&&(i||(n.defaults=s[o]),n.depth++,c=B(r,t,n,i)||c,n.depth--));}return c;}}function L(e,n){var i,o,r,a=[],s=e.groupNameTemplate,l=n.length;if(0===l)return r=Wt({},e),r.visibleInLegend=!1,[r];for(Cn(s)?(Ht.logToConsole("'groupNameTemplate' is obsolete and will be removed in future versions. Specify the group name template as 'series.name'"),s&&(i=Gt(s))):(i=Gt(e.name||""),0===i._slotCount&&(i=Gt(Cn(e.name)?"#= group.value #: #= series.name #":"#= group.value #"))),o=0;l>o;o++){r=Wt({},e),qt(r.color)||(r.color=t),r._groupIx=o,a.push(r),i&&(r.name=i({series:r,group:n[o]}));}return a;}function H(e,t){var n,i,o=[];for(t=[].concat(t),n=0;e.length>n;n++){i=e[n],_n(i.type,t)&&o.push(i);}return o;}function N(t,n){if(t instanceof Date){for(var i=0,o=n.length;o>i;i++){if(E(n[i],t))return i;}return-1;}return e.inArray(t,n);}function O(e,t){t=t||mn;for(var n=1,i=e.length;i>n;n++){if(t(e[n],e[n-1])<0){e.sort(t);break;}}return e;}function V(e,t){var n,i=O(e,t),o=i.length,r=o>0?[i[0]]:[];for(t=t||mn,n=1;o>n;n++){0!==t(i[n],Sn(r))&&r.push(i[n]);}return r;}function U(e,t){var n=e.type,i=t instanceof Date;return!n&&i||A(n,di);}function W(e){var t,n,i,o,r=[],a=e.length;for(t=0;a>t;t++){for(n=e[t],o=n.length,i=0;o>i;i++){r[i]=r[i]||[],r[i].push(n[i]);}}return r;}function j(e,t){if(e.indexOf(".")>-1)for(var n,i=e.split("."),o="";i.length>1;){o+=i.shift(),n=Ht.getter(o)(t)||{},Ht.setter(o)(t,n),o+=".";}}function q(e){var t,n,i,o=e.data,r=0;for(t=0;o.length>t;t++){n=ie.current.bindPoint(e,t),i=n.valueFields.value,(typeof i==="undefined"?"undefined":_typeof(i))===Ho&&(i=parseFloat(i)),F(i)&&n.fields.visible!==!1&&(r+=Pt.abs(i));}return r;}function G(e){var t=e.overlay;return t&&t.gradient&&"none"!=t.gradient;}function $(e){for(var t=0;e.length>t;t++){if(Cn(e[t].zIndex))return!0;}}function Y(){this._defaultPrevented=!0;}function K(e,t){if(e)for(var n=0;e.length>n;n++){if(e[n].category===t)return[e[n]];}}function Q(e){return Cn(e)&&null!==e;}function X(e){var t,n,i={};for(n=0;e.length>n;n++){t=e[n],t.axis.options.name&&(i[t.axis.options.name]={min:t.range.min,max:t.range.max});}return i;}function J(e,t){var n=(t||"").toLowerCase(),i="none"==n&&!(e.ctrlKey||e.shiftKey||e.altKey)||e[n+"Key"];return i;}function Z(e,t){var n=[];ee(e,n),Ht.util.loadFonts(n,t);}function ee(e,t,n){var i=5;n=n||{depth:0},!e||n.depth>i||!document.fonts||Object.keys(e).forEach(function(i){var o=e[i];"dataSource"!==i&&"$"!==i[0]&&o&&("font"===i?t.push(o):"object"==(typeof o==="undefined"?"undefined":_typeof(o))&&(n.depth++,ee(o,t,n),n.depth--));});}function te(e,t){var n,i,o,r;for(o in t){n=t[o],i=e[o],Cn(i)&&(r=null===n,r||!Cn(n)?(delete e[o],r&&delete t[o]):i&&Ft(n)&&Ft(n)&&te(i,n));}}var ne,ie,oe,re,ae,se,le,ce,de,ue,he,fe,pe,me,ge,ve,_e,be,we,ye,ke,xe,Ce,Se,Te,De,Ae,Ee,Re,Ie,Fe,Me,Pe,ze,Be,Le,He,Ne,Oe,Ve,Ue,We,je,qe,Ge,$e,Ye,Ke,Qe,Xe,Je,Ze,et,tt,nt,it,ot,rt,at,st,lt,ct,dt,ut,ht,ft,pt,mt,gt,vt,_t,bt,wt,yt,kt,xt,Ct,St,Tt,Dt,At,Et,Rt=e.each,It=e.isArray,Ft=e.isPlainObject,Mt=e.map,Pt=Math,zt=e.noop,Bt=e.extend,Lt=e.proxy,Ht=window.kendo,Nt=Ht.Class,Ot=Ht.Observable,Vt=Ht.data.DataSource,Ut=Ht.ui.Widget,Wt=Ht.deepExtend,jt=Ht.getter,qt=Ht.isFunction,Gt=Ht.template,$t=Ht.dataviz,Yt=$t.Axis,Kt=$t.AxisLabel,Qt=$t.Box2D,Xt=$t.BoxElement,Jt=$t.ChartElement,Zt=Ht.drawing.Color,en=$t.CurveProcessor,tn=$t.FloatElement,nn=$t.Note,on=$t.LogarithmicAxis,rn=$t.NumericAxis,an=$t.Point2D,sn=$t.RootElement,ln=$t.Ring,cn=$t.ShapeElement,dn=$t.ShapeBuilder,un=$t.TextBox,hn=$t.Title,fn=$t.alignPathToPixel,pn=$t.autoFormat,mn=$t.dateComparer,gn=$t.eventTargetElement,vn=$t.getSpacing,_n=$t.inArray,bn=$t.interpolateValue,wn=$t.mwDelta,yn=$t.round,kn=Ht.util,xn=kn.append,Cn=kn.defined,Sn=kn.last,Tn=kn.limitValue,Dn=kn.sparseArrayLimits,An=kn.sparseArrayMin,En=kn.sparseArrayMax,Rn=kn.renderTemplate,In=kn.valueOrDefault,Fn=$t.geometry,Mn=$t.drawing,Pn=".kendoChart",zn="above",Bn="area",Ln="auto",Hn="fit",Nn=$t.AXIS_LABEL_CLICK,On="bar",Vn=6,Un=.8,Wn="below",jn="#000",qn="both",Gn="bottom",$n="boxPlot",Yn="bubble",Kn="bullet",Qn="candlestick",Xn="category",Jn="center",Zn="change",ei="circle",ti="contextmenu"+Pn,ni=$t.CLIP,ii="color",oi="column",ri=$t.COORD_PRECISION,ai="cross",si="k-",li="custom",ci="dataBound",di="date",ui="days",hi=$t.DEFAULT_FONT,fi=$t.DEFAULT_HEIGHT,pi=$t.DEFAULT_PRECISION,mi=$t.DEFAULT_WIDTH,gi=4,vi="donut",_i=50,bi="drag",wi="dragEnd",yi="dragStart",ki="errorLow",xi="errorHigh",Ci="xErrorLow",Si="xErrorHigh",Ti="yErrorLow",Di="yErrorHigh",Ai="fadeIn",Ei="first",Ri="from",Ii="funnel",Fi="glass",Mi="horizontal",Pi="horizontalWaterfall",zi="hours",Bi=$t.INITIAL_ANIMATION_DURATION,Li="insideBase",Hi="insideEnd",Ni="interpolate",Oi="leave",Vi="left",Ui="legendItemClick",Wi="legendItemHover",ji="line",qi=8,Gi="linear",$i="log",Yi="max",Ki=5,Qi=Number.MAX_VALUE,Xi="min",Ji=-Number.MAX_VALUE,Zi="minutes",eo="months",to="mouseleave"+Pn,no="mousemove.tracking",io="mousemove"+Pn,oo=20,ro=150,ao="DOMMouseScroll"+Pn+" mousewheel"+Pn,so=$t.NOTE_CLICK,lo=$t.NOTE_HOVER,co="noteText",uo="object",ho="ohlc",fo="outsideEnd",po="pie",mo=70,go="plotAreaClick",vo="plotAreaHover",_o="pointer",bo="rangeBar",wo="rangeColumn",yo="render",ko="right",xo="roundedBevel",Co="roundedGlass",So="scatter",To="scatterLine",Do="seconds",Ao="selectStart",Eo="select",Ro="selectEnd",Io="seriesClick",Fo="seriesHover",Mo=.001,Po="step",zo="smooth",Bo="stderr",Lo="stddev",Ho="string",No="summary",Oo=1e3,Vo=60*Oo,Uo=60*Vo,Wo=24*Uo,jo=7*Wo,qo=31*Wo,Go=365*Wo,$o={years:Go,months:qo,weeks:jo,days:Wo,hours:Uo,minutes:Vo,seconds:Oo},Yo="to",Ko="top",Qo=150,Xo=5,Jo=100,Zo=100,er="chart-tooltip-inverse",tr="value",nr="verticalArea",ir="verticalBoxPlot",or="verticalBullet",rr="verticalLine",ar="waterfall",sr="weeks",lr="#fff",cr="x",dr="y",ur="years",hr="zero",fr=3,pr="zoomStart",mr="zoom",gr="zoomEnd",vr=[Do,Zi,zi,ui,sr,eo,ur],_r=[On,oi,ho,Qn,$n,ir,Kn,wo,bo,ar,Pi],br={seconds:"HH:mm:ss",minutes:"HH:mm",hours:"HH:mm",days:"M/d",weeks:"M/d",months:"MMM 'yy",years:"yyyy"},wr=Ut.extend({init:function init(e,n){var i,o,r=this;Ht.destroy(e),Ut.fn.init.call(r,e),r.element.addClass(si+this.options.name.toLowerCase()).css("position","relative"),n&&(o=n.dataSource,n.dataSource=t),i=Wt({},r.options,n),r._originalOptions=Wt({},i),r._initTheme(i),r._initSurface(),r.bind(r.events,r.options),r.wrapper=r.element,n&&(n.dataSource=o),r._initDataSource(n),Ht.notify(r,$t.ui);},_initTheme:function _initTheme(n){var i,o=this,r=$t.ui.themes||{},a=n.theme,c=r[a]||r[a.toLowerCase()],d=a&&c?c.chart:{},u=[],h=n.series||[];for(i=0;h.length>i;i++){u.push(e.extend({},h[i]));}n.series=u,l(n),o._applyDefaults(n,d),null===n.seriesColors&&(n.seriesColors=t),o.options=Wt({},d,n),s(o.options);},_initDataSource:function _initDataSource(e){var t=this,n=(e||{}).dataSource;t._dataChangeHandler=Lt(t._onDataChanged,t),t.dataSource=Vt.create(n).bind(Zn,t._dataChangeHandler),t._bindCategories(),n&&(t._hasDataSource=!0),Z(e,function(){t._redraw(),t._attachEvents();}),n&&t.options.autoBind&&t.dataSource.fetch();},setDataSource:function setDataSource(e){var t=this;t.dataSource.unbind(Zn,t._dataChangeHandler),t.dataSource=e=Vt.create(e),t._hasDataSource=!0,t._hasData=!1,e.bind(Zn,t._dataChangeHandler),t.options.autoBind&&e.fetch();},events:[ci,Io,Fo,Nn,Ui,Wi,go,vo,yi,bi,wi,pr,mr,gr,Ao,Eo,Ro,so,lo,yo],items:function items(){return e();},options:{name:"Chart",renderAs:"",theme:"default",chartArea:{},legend:{visible:!0,labels:{}},categoryAxis:{},autoBind:!0,seriesDefaults:{type:oi,data:[],highlight:{visible:!0},labels:{},negativeValues:{visible:!1}},series:[],seriesColors:null,tooltip:{visible:!1},transitions:!0,valueAxis:{},plotArea:{},title:{},xAxis:{},yAxis:{},panes:[{}],pannable:!1,zoomable:!1},refresh:function refresh(){var e=this;e._applyDefaults(e.options),s(e.options),e._bindSeries(),e._bindCategories(),e.trigger(ci),e._redraw();},getSize:function getSize(){return Ht.dimensions(this.element);},_resize:function _resize(){var e=this.options.transitions;this.options.transitions=!1,this._redraw(),this.options.transitions=e;},redraw:function redraw(e){var t,n,i=this;i._applyDefaults(i.options),s(i.options),e?(n=i._model._plotArea,t=n.findPane(e),n.redraw(t)):i._redraw();},getAxis:function getAxis(e){var t,n=this._plotArea.axes;for(t=0;n.length>t;t++){if(n[t].options.name===e)return new Et(n[t]);}},toggleHighlight:function toggleHighlight(e,t){var n,i,o,r,a=this._plotArea,s=this._highlight,l=(a.srcSeries||a.series||[])[0];if(Ht.isFunction(t)?o=a.filterPoints(t):(Ft(t)?(n=t.series,i=t.category):n=i=t,o=l.type===vi?K(a.pointsBySeriesName(n),i):l.type===po||l.type===Ii?K((a.charts[0]||{}).points,i):a.pointsBySeriesName(n)),o)for(r=0;o.length>r;r++){s.togglePointHighlight(o[r],e);}},_initSurface:function _initSurface(){var e=this.surface,t=this._surfaceWrap(),n=this.options.chartArea;n.width&&t.css("width",n.width),n.height&&t.css("height",n.height),e&&e.options.type===this.options.renderAs?(this.surface.clear(),this.surface.resize()):(e&&e.destroy(),this.surface=Mn.Surface.create(t,{type:this.options.renderAs}));},_surfaceWrap:function _surfaceWrap(){return this.element;},_redraw:function _redraw(){var e,t=this,n=t._getModel();t._destroyView(),t._model=n,t._plotArea=n._plotArea,n.renderVisual(),this.options.transitions!==!1&&n.traverse(function(e){e.animation&&e.animation.setup();}),t._initSurface(),t.surface.draw(n.visual),this.options.transitions!==!1&&n.traverse(function(e){e.animation&&e.animation.play();}),t._tooltip=t._createTooltip(),t._highlight=new vt(e),t._setupSelection(),t._createPannable(),t._createZoomSelection(),t._createMousewheelZoom(),t._hasDataSource&&!t._hasData&&t.options.autoBind||t.trigger(yo);},exportVisual:function exportVisual(e){var t,n,i,o;return e&&(e.width||e.height)?(n=this.options.chartArea,i=this._originalOptions.chartArea,Wt(n,e),o=this._getModel(),n.width=i.width,n.height=i.height,o.renderVisual(),t=o.visual):t=this.surface.exportVisual(),t;},_sharedTooltip:function _sharedTooltip(){var e=this,t=e.options;return e._plotArea instanceof dt&&t.tooltip.shared;},_createPannable:function _createPannable(){var e=this.options;e.pannable!==!1&&(this._pannable=new St(this._plotArea,e.pannable));},_createZoomSelection:function _createZoomSelection(){var e=this.options.zoomable,t=(e||{}).selection;e!==!1&&t!==!1&&(this._zoomSelection=new Tt(this,t));},_createMousewheelZoom:function _createMousewheelZoom(){var e=this.options.zoomable,t=(e||{}).mousewheel;e!==!1&&t!==!1&&(this._mousewheelZoom=new Dt(this,t));},_createTooltip:function _createTooltip(){var e,t=this,n=t.options,i=t.element;return e=t._sharedTooltip()?new wt(i,t._plotArea,n.tooltip):new bt(i,n.tooltip),e.bind(Oi,Lt(t._tooltipleave,t)),e;},_tooltipleave:function _tooltipleave(){var e=this,t=e._plotArea,n=e._highlight;t.hideCrosshairs(),n.hide();},_applyDefaults:function _applyDefaults(e,t){c(e,t),r(e,t);},_getModel:function _getModel(){var e,t=this,n=t.options,i=new sn(t._modelOptions());return i.chart=t,hn.buildTitle(n.title,i),e=i._plotArea=t._createPlotArea(),n.legend.visible&&i.append(new se(e.options.legend)),i.append(e),i.reflow(),i;},_modelOptions:function _modelOptions(){var e=this,t=e.options,n=e.element,i=Pt.floor(n.height()),o=Pt.floor(n.width());return e._size=null,Wt({width:o||mi,height:i||fi,transitions:t.transitions},t.chartArea);},_createPlotArea:function _createPlotArea(e){var t=this,n=t.options;return ne.current.create(e?[]:n.series,n);},_setupSelection:function _setupSelection(){var e,t,n,i,o,r,a=this,s=a._plotArea,l=s.axes,c=a._selections=[];for(a._selectStartHandler||(a._selectStartHandler=Lt(a._selectStart,a),a._selectHandler=Lt(a._select,a),a._selectEndHandler=Lt(a._selectEnd,a)),t=0;l.length>t;t++){n=l[t],r=n.options,n instanceof le&&r.select&&!r.vertical&&(i=0,o=r.categories.length-1,n instanceof ce&&(i=r.categories[i],o=r.categories[o]),r.justified||(n instanceof ce?o=g(o,1,r.baseUnit,r.weekStartDay):o++),e=new Ct(a,n,Wt({min:i,max:o},r.select)),e.bind(Ao,a._selectStartHandler),e.bind(Eo,a._selectHandler),e.bind(Ro,a._selectEndHandler),c.push(e));}},_selectStart:function _selectStart(e){return this.trigger(Ao,e);},_select:function _select(e){return this.trigger(Eo,e);},_selectEnd:function _selectEnd(e){return this.trigger(Ro,e);},_attachEvents:function _attachEvents(){var e=this,t=e.element,n=e.surface;n.bind("mouseenter",Lt(e._mouseover,e)),n.bind("mouseleave",Lt(e._mouseout,e)),t.on(ti,Lt(e._click,e)),t.on(ao,Lt(e._mousewheel,e)),t.on(to,Lt(e._mouseleave,e)),e._mousemove=Ht.throttle(Lt(e._mousemove,e),oo),e._shouldAttachMouseMove()&&t.on(io,e._mousemove),Ht.UserEvents&&(e._userEvents=new Ht.UserEvents(t,{global:!0,multiTouch:!0,fastTap:!0,tap:Lt(e._tap,e),start:Lt(e._start,e),move:Lt(e._move,e),end:Lt(e._end,e),gesturestart:Lt(e._gesturestart,e),gesturechange:Lt(e._gesturechange,e),gestureend:Lt(e._gestureend,e)}));},_gesturestart:function _gesturestart(e){this._mousewheelZoom&&(this._gestureDistance=e.distance,this._unsetActivePoint(),this.surface.suspendTracking());},_gestureend:function _gestureend(){this._zooming&&(this.surface&&this.surface.resumeTracking(),this._zooming=!1,this.trigger(gr,{}));},_gesturechange:function _gesturechange(e){var t,n,i,o,r=this,a=r._mousewheelZoom;a&&(e.preventDefault(),t=r._gestureDistance,n=-e.distance/t+1,Pt.abs(n)>=.1&&(n=Pt.round(10*n),r._gestureDistance=e.distance,i={delta:n,axisRanges:z(r._plotArea.axes),originalEvent:e},!r._zooming&&r.trigger(pr,i)||(r._zooming||(r._zooming=!0),o=i.axisRanges=a.updateRanges(n),o&&!r.trigger(mr,i)&&a.zoom())));},_mouseout:function _mouseout(e){if(e.element){var t=this._drawingChartElement(e.element,e);t&&t.leave&&t.leave(this,e.originalEvent);}},_start:function _start(e){var t=this,n=t._events;Cn(n[yi]||n[bi]||n[wi])&&t._startNavigation(e,yi),t._pannable&&t._pannable.start(e)&&(this.surface.suspendTracking(),this._unsetActivePoint()),t._zoomSelection&&t._zoomSelection.start(e)&&this.trigger(pr,{axisRanges:z(this._plotArea.axes),originalEvent:e});},_move:function _move(e){var t,n,i,o,r,a,s=this,l=s._navState,c=s._pannable,d={};if(c)e.preventDefault(),d=c.move(e),d&&!s.trigger(bi,{axisRanges:d,originalEvent:e})&&c.pan();else if(l){for(e.preventDefault(),t=l.axes,n=0;t.length>n;n++){i=t[n],o=i.options.name,o&&(r=i.options.vertical?e.y:e.x,a=r.startLocation-r.location,0!==a&&(d[i.options.name]=i.translateRange(a)));}l.axisRanges=d,s.trigger(bi,{axisRanges:d,originalEvent:e});}s._zoomSelection&&s._zoomSelection.move(e);},_end:function _end(e){if(this._endNavigation(e,wi),this._zoomSelection){var t=this._zoomSelection.end(e);t&&!this.trigger(mr,{axisRanges:t,originalEvent:e})&&(this._zoomSelection.zoom(),this.trigger(gr,{axisRanges:t,originalEvent:e}));}this._pannable&&this._pannable.end(e)&&this.surface.resumeTracking();},_mousewheel:function _mousewheel(e){var t,n,i,o,r,a,s,l=this,c=e.originalEvent,d=wn(e),u=l._navState,h={},f=l._mousewheelZoom;if(f)s={delta:d,axisRanges:z(this._plotArea.axes),originalEvent:e},!l._zooming&&l.trigger(pr,s)||(e.preventDefault(),l._zooming||(l._unsetActivePoint(),l.surface.suspendTracking(),l._zooming=!0),l._mwTimeout&&clearTimeout(l._mwTimeout),s.axisRanges=h=f.updateRanges(d),h&&!l.trigger(mr,s)&&f.zoom(),l._mwTimeout=setTimeout(function(){l.trigger(gr,s),l._zooming=!1,l.surface&&l.surface.resumeTracking();},ro));else if(u||(t=l._startNavigation(c,pr),t||(u=l._navState)),u){for(n=u.totalDelta||d,u.totalDelta=n+d,i=l._navState.axes,o=0;i.length>o;o++){r=i[o],a=r.options.name,a&&(h[a]=r.scaleRange(-n));}l.trigger(mr,{delta:d,axisRanges:h,originalEvent:e}),l._mwTimeout&&clearTimeout(l._mwTimeout),l._mwTimeout=setTimeout(function(){l._endNavigation(e,gr);},ro);}},_startNavigation:function _startNavigation(e,t){var n,i,o,r,a=this,s=a._eventCoordinates(e),l=a._model._plotArea,c=l.findPointPane(s),d=l.axes.slice(0),u=!1;if(c){for(n=0;d.length>n;n++){if(i=d[n],i.box.containsPoint(s)){u=!0;break;}}!u&&l.backgroundBox().containsPoint(s)&&(r=z(d),o=a.trigger(t,{axisRanges:r,originalEvent:e}),o?a._userEvents.cancel():(a._suppressHover=!0,a._unsetActivePoint(),a._navState={axisRanges:r,pane:c,axes:d}));}},_endNavigation:function _endNavigation(e,t){var n=this;n._navState&&(n.trigger(t,{axisRanges:n._navState.axisRanges,originalEvent:e}),n._suppressHover=!1,n._navState=null);},_getChartElement:function _getChartElement(e,n){var i=this.surface.eventTarget(e);return i?this._drawingChartElement(i,e,n):t;},_drawingChartElement:function _drawingChartElement(e,n,i){for(var o;e&&!o;){o=e.chartElement,e=e.parent;}return o?(o.aliasFor&&(o=o.aliasFor(n,this._eventCoordinates(n))),i&&(o=o.closest(i)),o):t;},_eventCoordinates:function _eventCoordinates(e){var t=this,n=Cn((e.x||{}).client),i=n?e.x.client:e.clientX,o=n?e.y.client:e.clientY;return t._toModelCoordinates(i,o);},_toModelCoordinates:function _toModelCoordinates(t,n){var i=this.element,o=i.offset(),r=parseInt(i.css("paddingLeft"),10),a=parseInt(i.css("paddingTop"),10),s=e(window);return new an(t-o.left-r+s.scrollLeft(),n-o.top-a+s.scrollTop());},_tap:function _tap(e){var t=this,n=t.surface.eventTarget(e),i=t._drawingChartElement(n,e);t._activePoint===i?t._propagateClick(i,e):(t._startHover(n,e)||t._unsetActivePoint(),t._propagateClick(i,e));},_click:function _click(e){var t=this,n=t._getChartElement(e);t._propagateClick(n,e);},_propagateClick:function _propagateClick(e,t){for(;e;){e.click&&e.click(this,t),e=e.parent;}},_startHover:function _startHover(e,n){var i,o=this,r=o._drawingChartElement(e,n),a=o._tooltip,s=o._highlight,l=o.options.tooltip;if(!o._suppressHover&&s&&!s.isHighlighted(r)&&!o._sharedTooltip())return i=o._drawingChartElement(e,n,function(e){return e.hover;}),i&&!i.hover(o,n)?(o._activePoint=i,l=Wt({},l,i.options.tooltip),l.visible&&a.show(i),s.show(i),i.tooltipTracking):t;},_mouseover:function _mouseover(t){var n=this;n._startHover(t.element,t.originalEvent)&&e(document).on(no,Lt(n._mouseMoveTracking,n));},_mouseMoveTracking:function _mouseMoveTracking(t){var n,i,o=this,r=o.options,a=o._tooltip,s=o._highlight,l=o._eventCoordinates(t),c=o._activePoint;o._plotArea.box.containsPoint(l)?c&&c.tooltipTracking&&c.series&&c.parent.getNearestPoint&&(i=c.parent.getNearestPoint(l.x,l.y,c.seriesIx),i&&i!=c&&(i.hover(o,t),o._activePoint=i,n=Wt({},r.tooltip,c.options.tooltip),n.visible&&a.show(i),s.show(i))):(e(document).off(no),o._unsetActivePoint());},_mousemove:function _mousemove(e){var t=this._eventCoordinates(e);this._trackCrosshairs(t),this._plotArea.hover(this,e),this._sharedTooltip()&&this._trackSharedTooltip(t,e);},_trackCrosshairs:function _trackCrosshairs(e){var t,n,i=this._plotArea.crosshairs;for(t=0;i.length>t;t++){n=i[t],n.box.containsPoint(e)?n.showAt(e):n.hide();}},_trackSharedTooltip:function _trackSharedTooltip(t,n){var i,o,r,a,s=this,l=s.options,c=s._plotArea,d=c.categoryAxis,u=s._tooltip,h=l.tooltip,f=s._highlight;c.box.containsPoint(t)&&(i=d.pointCategoryIndex(t),i!==s._tooltipCategoryIx&&(o=c.pointsByCategoryIndex(i),r=e.map(o,function(e){return e.eventArgs(n);}),a=r[0]||{},a.categoryPoints=r,o.length>0&&!this.trigger(Fo,a)?(h.visible&&u.showAt(o,t),f.show(o)):u.hide(),s._tooltipCategoryIx=i));},_mouseleave:function _mouseleave(t){var n=this,i=n._plotArea,o=n._tooltip,r=n._highlight,a=t.relatedTarget;a&&e(a).closest(o.element).length||(n._mousemove.cancel(),i.hideCrosshairs(),r.hide(),setTimeout(Lt(o.hide,o),Zo),n._tooltipCategoryIx=null);},_unsetActivePoint:function _unsetActivePoint(){var e=this,t=e._tooltip,n=e._highlight;e._activePoint=null,t&&t.hide(),n&&n.hide();},_onDataChanged:function _onDataChanged(){var e,t,n=this,i=n.options,o=n._sourceSeries||i.series,r=o.length,a=n.dataSource.view(),l=(n.dataSource.group()||[]).length>0,c=[];for(e=0;r>e;e++){t=o[e],n._isBindable(t)&&l?xn(c,L(t,a)):c.push(t||[]);}n._sourceSeries=o,i.series=c,s(n.options),n._bindSeries(),n._bindCategories(),n._hasData=!0,n._deferRedraw();},_deferRedraw:function _deferRedraw(){var e=this;Ht.support.vml?(e._clearRedrawTimeout(),e._redrawTimeout=setTimeout(function(){e.surface&&(e.trigger(ci),e._redraw());},0)):(e.trigger(ci),e._redraw());},_clearRedrawTimeout:function _clearRedrawTimeout(){this._redrawTimeout&&(clearInterval(this._redrawTimeout),this._redrawTimeout=null);},_bindSeries:function _bindSeries(){var e,t,n,i,o=this,r=o.dataSource.view(),a=o.options.series,s=a.length;for(e=0;s>e;e++){t=a[e],o._isBindable(t)&&(n=t._groupIx,i=Cn(n)?(r[n]||{}).items:r,t.autoBind!==!1&&(t.data=i));}},_bindCategories:function _bindCategories(){var e,t,n=this,i=n.dataSource.view()||[],o=(n.dataSource.group()||[]).length>0,r=i,a=n.options,s=[].concat(a.categoryAxis);for(o&&i.length&&(r=i[0].items),e=0;s.length>e;e++){t=s[e],t.autoBind!==!1&&n._bindCategoryAxis(t,r,e);}},_bindCategoryAxis:function _bindCategoryAxis(e,t,n){var i,o,r,a=(t||[]).length;if(e.field)for(e.categories=[],i=0;a>i;i++){r=t[i],o=h(e.field,r),0===i?(e.categories=[o],e.dataItems=[r]):(e.categories.push(o),e.dataItems.push(r));}else this._bindCategoryAxisFromSeries(e,n);},_bindCategoryAxisFromSeries:function _bindCategoryAxisFromSeries(e,t){var n,i,o,r,a,s,l,c,d,u,p,m=this,g=[],v=m.options.series,_=v.length,b={};for(i=0;_>i;i++){if(o=v[i],r=o.categoryAxis===e.name||!o.categoryAxis&&0===t,a=o.data,l=a.length,o.categoryField&&r&&l>0)for(p=U(e,h(o.categoryField,a[0])),u=p?f:h,s=0;l>s;s++){c=a[s],d=u(o.categoryField,c),!p&&b[d]||(g.push([d,c]),p||(b[d]=!0));}}g.length>0&&(p&&(g=V(g,function(e,t){return mn(e[0],t[0]);})),n=W(g),e.categories=n[0],e.dataItems=n[1]);},_isBindable:function _isBindable(e){var t,n,i=ie.current.valueFields(e),o=!0;for(n=0;i.length>n;n++){if(t=i[n],t===tr?t="field":t+="Field",!Cn(e[t])){o=!1;break;}}return o;},_legendItemClick:function _legendItemClick(e,t){var n,i,o,r=this,a=r._plotArea,s=(a.srcSeries||a.series)[e],l=(r._sourceSeries||[])[e]||s;_n(s.type,[po,vi,Ii])?(o=l.data[t],i=Cn(o.visible)?!o.visible:!1,o.visible=i):(i=!l.visible,l.visible=i,s.visible=i),r.options.transitions&&(r.options.transitions=!1,n=!0),r.redraw(),n&&(r.options.transitions=!0);},_legendItemHover:function _legendItemHover(e,t){var n,i,o=this,r=o._plotArea,a=o._highlight,s=(r.srcSeries||r.series)[e];n=_n(s.type,[po,vi,Ii])?t:e,i=r.pointsBySeriesIndex(n),a.show(i);},_shouldAttachMouseMove:function _shouldAttachMouseMove(){var e=this,t=e._events;return e._plotArea.crosshairs.length||e._tooltip&&e._sharedTooltip()||Cn(t[vo]);},setOptions:function setOptions(n){var i=this,o=n.dataSource;n.dataSource=t,te(i._originalOptions,n),i._originalOptions=Wt(i._originalOptions,n),i.options=Wt({},i._originalOptions),i._sourceSeries=null,e(document).off(io),Ut.fn._setEvents.call(i,n),i._initTheme(i.options),o&&i.setDataSource(o),i._hasDataSource?i._onDataChanged():(i._bindCategories(),i.redraw()),i._shouldAttachMouseMove()&&i.element.on(io,i._mousemove);},destroy:function destroy(){var t=this,n=t.dataSource;t.element.off(Pn),n&&n.unbind(Zn,t._dataChangeHandler),e(document).off(no),t._userEvents&&t._userEvents.destroy(),t._destroyView(),t.surface.destroy(),t.surface=null,t._clearRedrawTimeout(),Ut.fn.destroy.call(t);},_destroyView:function _destroyView(){var e=this,t=e._model,n=e._selections;if(t&&(t.destroy(),e._model=null),n)for(;n.length>0;){n.shift().destroy();}e._unsetActivePoint(),e._tooltip&&e._tooltip.destroy(),e._highlight&&e._highlight.destroy(),e._zoomSelection&&e._zoomSelection.destroy();}});$t.ExportMixin.extend(wr.fn),Ht.PDFMixin&&Ht.PDFMixin.extend(wr.fn),ne=Nt.extend({init:function init(){this._registry=[];},register:function register(e,t){this._registry.push({type:e,seriesTypes:t});},create:function create(e,t){var n,i,o,r=this._registry,a=r[0];for(n=0;r.length>n;n++){if(i=r[n],o=H(e,i.seriesTypes),o.length>0){a=i;break;}}return new a.type(o,t);}}),ne.current=new ne(),ie=Nt.extend({init:function init(){this._valueFields={},this._otherFields={},this._nullValue={},this._undefinedValue={};},register:function register(e,n,i){var o,r,a=this;for(n=n||[tr],o=0;e.length>o;o++){r=e[o],a._valueFields[r]=n,a._otherFields[r]=i,a._nullValue[r]=a._makeValue(n,null),a._undefinedValue[r]=a._makeValue(n,t);}},canonicalFields:function canonicalFields(e){return this.valueFields(e).concat(this.otherFields(e));},valueFields:function valueFields(e){return this._valueFields[e.type]||[tr];},otherFields:function otherFields(e){return this._otherFields[e.type]||[tr];},bindPoint:function bindPoint(e,t,n){var i,o,r,a,s,l=this,c=e.data,d=Cn(n)?n:c[t],u={valueFields:{value:d}},h=l.valueFields(e),f=l._otherFields[e.type];return null===d?s=l._nullValue[e.type]:Cn(d)?It(d)?(o=d.slice(h.length),s=l._bindFromArray(d,h),i=l._bindFromArray(o,f)):(typeof d==="undefined"?"undefined":_typeof(d))===uo&&(r=l.sourceFields(e,h),a=l.sourceFields(e,f),s=l._bindFromObject(d,h,r),i=l._bindFromObject(d,f,a)):s=l._undefinedValue[e.type],Cn(s)&&(1===h.length?u.valueFields.value=s[h[0]]:u.valueFields=s),u.fields=i||{},u;},_makeValue:function _makeValue(e,t){var n,i,o={},r=e.length;for(n=0;r>n;n++){i=e[n],o[i]=t;}return o;},_bindFromArray:function _bindFromArray(e,t){var n,i,o={};if(t)for(i=Pt.min(t.length,e.length),n=0;i>n;n++){o[t[n]]=e[n];}return o;},_bindFromObject:function _bindFromObject(e,t,n){var i,o,r,a,s={};if(t)for(o=t.length,n=n||t,i=0;o>i;i++){r=t[i],a=n[i],s[r]=h(a,e);}return s;},sourceFields:function sourceFields(e,t){var n,i,o,r,a;if(t)for(i=t.length,r=[],n=0;i>n;n++){o=t[n],a=o===tr?"field":o+"Field",r.push(e[a]||o);}return r;}}),ie.current=new ie(),oe=Jt.extend({init:function init(e,t){var n=this;Jt.fn.init.call(n,t),this.textBox=new un(e,n.options),n.append(this.textBox);},options:{position:fo,margin:vn(3),padding:vn(4),color:jn,background:"",border:{width:1,color:""},aboveAxis:!0,vertical:!1,animation:{type:Ai,delay:Bi},zIndex:2},createVisual:function createVisual(){this.textBox.options.noclip=this.options.noclip;},reflow:function reflow(e){var t=this,n=t.options,i=n.vertical,o=n.aboveAxis,r=t.children[0],a=r.box,s=r.options.padding;r.options.align=i?Jn:Vi,r.options.vAlign=i?Ko:Jn,n.position==Hi?i?(r.options.vAlign=Ko,!o&&a.height()<e.height()&&(r.options.vAlign=Gn)):r.options.align=o?ko:Vi:n.position==Jn?(r.options.vAlign=Jn,r.options.align=Jn):n.position==Li?i?r.options.vAlign=o?Gn:Ko:r.options.align=o?Vi:ko:n.position==fo&&(i?e=o?new Qt(e.x1,e.y1-a.height(),e.x2,e.y1):new Qt(e.x1,e.y2,e.x2,e.y2+a.height()):(r.options.align=Jn,e=o?new Qt(e.x2,e.y1,e.x2+a.width(),e.y2):new Qt(e.x1-a.width(),e.y1,e.x1,e.y2))),n.rotation||(i?s.left=s.right=(e.width()-r.contentBox.width())/2:s.top=s.bottom=(e.height()-r.contentBox.height())/2),r.reflow(e);},alignToClipBox:function alignToClipBox(e){var t,n=this,i=n.options.vertical,o=i?dr:cr,r=o+"1",a=o+"2",s=n.children[0],l=n.parent.box;(e[r]>l[r]||l[a]>e[a])&&(t=s.paddingBox.clone(),t[r]=Pt.max(l[r],e[r]),t[a]=Pt.min(l[a],e[a]),this.reflow(t));}}),re=Xt.extend({init:function init(e){var t=this;Xt.fn.init.call(t,e),t.createContainer(),t.createMarker(),t.createLabel();},createContainer:function createContainer(){var e=this;e.container=new tn({vertical:!1,wrap:!1,align:Jn}),e.append(e.container);},createMarker:function createMarker(){this.container.append(new cn(this.markerOptions()));},markerOptions:function markerOptions(){var e=this.options,t=e.markerColor;return Wt({},e.markers,{background:t,border:{color:t}});},createLabel:function createLabel(){var e=this,t=e.options,n=Wt({},t.labels);e.container.append(new un(t.text,n));},renderComplete:function renderComplete(){var e,t;Jt.fn.renderComplete.call(this),e=this.options.cursor||{},t=this._itemOverlay=Mn.Path.fromRect(this.container.box.toRect(),{fill:{color:lr,opacity:0},stroke:null,cursor:e.style||e}),this.appendVisual(t);},click:function click(e,t){var n=this.eventArgs(t);e.trigger(Ui,n)||(t.preventDefault(),e._legendItemClick(n.seriesIndex,n.pointIndex));},hover:function hover(e,t){var n=this.eventArgs(t);return e.trigger(Wi,n)||(t.preventDefault(),e._legendItemHover(n.seriesIndex,n.pointIndex)),!0;},leave:function leave(e){e._unsetActivePoint();},eventArgs:function eventArgs(e){var t=this.options;return{element:gn(e),text:t.text,series:t.series,seriesIndex:t.series.index,pointIndex:t.pointIndex};},renderVisual:function renderVisual(){var e=this,t=e.options,n=t.visual;n?(e.visual=n({active:t.active,series:t.series,pointIndex:t.pointIndex,options:{markers:e.markerOptions(),labels:t.labels},createVisual:function createVisual(){e.createVisual(),e.renderChildren(),e.renderComplete();var t=e.visual;return delete e.visual,t;}}),this.addVisual()):Jt.fn.renderVisual.call(e);}}),ae=Jt.extend({render:function render(){var e,t,n=this.children,i=this.options,o=i.vertical;for(this.visual=new Mn.Layout(null,{spacing:o?0:i.spacing,lineSpacing:o?i.spacing:0,orientation:o?"vertical":"horizontal"}),t=0;n.length>t;t++){e=n[t],e.reflow(new Qt()),e.renderVisual();}},reflow:function reflow(e){this.visual.rect(e.toRect()),this.visual.reflow();var t=this.visual.clippedBBox();this.box=t?$t.rectToBox(t):new Qt();},renderVisual:function renderVisual(){this.addVisual();},createVisual:zt}),se=Jt.extend({init:function init(e){var t=this;Jt.fn.init.call(t,e),_n(t.options.position,[Ko,ko,Gn,Vi,li])||(t.options.position=ko),t.createContainer(),t.createItems();},options:{position:ko,items:[],labels:{margin:{left:6}},offsetX:0,offsetY:0,margin:vn(5),padding:vn(5),border:{color:jn,width:0},item:{cursor:_o},spacing:6,background:"",zIndex:1,markers:{border:{width:1},width:7,height:7,type:"rect",align:Vi,vAlign:Jn}},createContainer:function createContainer(){var e=this,t=e.options,n=t.align,i=t.position,o=i,r=Jn;i==li?o=Vi:_n(i,[Ko,Gn])?(o="start"==n?Vi:"end"==n?ko:Jn,r=i):n&&("start"==n?r=Ko:"end"==n&&(r=Gn)),e.container=new Xt({margin:t.margin,padding:t.padding,background:t.background,border:t.border,vAlign:r,align:o,zIndex:t.zIndex,shrinkToFit:!0}),e.append(e.container);},createItems:function createItems(){var e,t,n,i=this,o=i.options,r=o.items,a=r.length,s=i.isVertical();for(e=new ae({vertical:s,spacing:o.spacing}),o.reverse&&(r=r.slice(0).reverse()),t=0;a>t;t++){n=r[t],e.append(new re(Wt({},{markers:o.markers,labels:o.labels},o.item,n)));}e.render(),i.container.append(e);},isVertical:function isVertical(){var e=this,t=e.options,n=t.orientation,i=t.position,o=i==li&&n!=Mi||(Cn(n)?n!=Mi:_n(i,[Vi,ko]));return o;},hasItems:function hasItems(){return this.container.children[0].children.length>0;},reflow:function reflow(e){var n=this,i=n.options;return e=e.clone(),n.hasItems()?(i.position===li?(n.containerCustomReflow(e),n.box=e):n.containerReflow(e),t):(n.box=e,t);},containerReflow:function containerReflow(e){var t,n=this,i=n.options,o=i.position,r=o==Ko||o==Gn?cr:dr,a=e.clone(),s=n.container,l=i.width,c=i.height,d=n.isVertical(),u=e.clone();o!=Vi&&o!=ko||(a.y1=u.y1=0),d&&c?(a.y2=a.y1+c,a.align(u,dr,s.options.vAlign)):!d&&l&&(a.x2=a.x1+l,a.align(u,cr,s.options.align)),s.reflow(a),a=s.box,t=a.clone(),(i.offsetX||i.offsetY)&&(a.translate(i.offsetX,i.offsetY),n.container.reflow(a)),t[r+1]=e[r+1],t[r+2]=e[r+2],n.box=t;},containerCustomReflow:function containerCustomReflow(e){var t=this,n=t.options,i=n.offsetX,o=n.offsetY,r=t.container,a=n.width,s=n.height,l=t.isVertical(),c=e.clone();l&&s?c.y2=c.y1+s:!l&&a&&(c.x2=c.x1+a),r.reflow(c),c=r.box,r.reflow(Qt(i,o,i+c.width(),o+c.height()));},renderVisual:function renderVisual(){this.hasItems()&&Jt.fn.renderVisual.call(this);}}),le=Yt.extend({init:function init(e){var t=this;e=e||{},this._initFields(),this._initCategories(e),Yt.fn.init.call(t,e);},_initFields:function _initFields(){this._ticks={},this.outOfRangeMin=0,this.outOfRangeMax=0;},_initCategories:function _initCategories(e){var t,n,i=(e.categories||[]).slice(0),o=Cn(e.min),r=Cn(e.max);e.categories=i,(o||r)&&i.length&&(e.srcCategories=e.categories,t=o?Pt.floor(e.min):0,n=r?e.justified?Pt.floor(e.max)+1:Pt.ceil(e.max):i.length,e.categories=e.categories.slice(t,n));},options:{type:Xn,categories:[],vertical:!1,majorGridLines:{visible:!1,width:1,color:jn},labels:{zIndex:1},justified:!1},rangeIndices:function rangeIndices(){var e,t=this.options,n=t.categories.length||1,i=F(t.min)?t.min%1:0;return e=F(t.max)&&t.max%1!==0&&t.max<this.totalRange().max?n-(1-t.max%1):n-(t.justified?1:0),{min:i,max:e};},totalRangeIndices:function totalRangeIndices(e){var t,n,i=this.options,o=F(i.min)?i.min:0;return t=F(i.max)?i.max:F(i.min)?o+i.categories.length:(i.srcCategories||i.categories).length-(i.justified?1:0)||1,e&&(n=this.totalRange(),o=Tn(o,0,n.max),t=Tn(t,0,n.max)),{min:o,max:t};},range:function range(){var e=this.options;return{min:F(e.min)?e.min:0,max:F(e.max)?e.max:e.categories.length};},totalRange:function totalRange(){var e=this.options;return{min:0,max:Pt.max(this._seriesMax||0,(e.srcCategories||e.categories).length)-(e.justified?1:0)};},getScale:function getScale(){var e=this.rangeIndices(),t=e.min,n=e.max,i=this.lineBox(),o=this.options.vertical?i.height():i.width(),r=o/(n-t||1);return r*(this.options.reverse?-1:1);},getTickPositions:function getTickPositions(e){for(var t=this,n=t.options,i=n.vertical,o=t.lineBox(),r=n.reverse,a=t.getScale(),s=t.rangeIndices(),l=s.min,c=s.max,d=l%1!==0?Pt.floor(l/1)+e:l,u=o[(i?dr:cr)+(r?2:1)],h=[];c>=d;){h.push(u+yn(a*(d-l),ri)),d+=e;}return h;},getLabelsTickPositions:function getLabelsTickPositions(){var e=this.getMajorTickPositions().slice(0),t=this.rangeIndices(),n=this.getScale(),i=this.lineBox(),o=this.options,r=o.vertical?dr:cr,a=o.reverse?2:1,s=o.reverse?1:2;return t.min%1!==0&&e.unshift(i[r+a]-n*(t.min%1)),t.max%1!==0&&e.push(i[r+s]+n*(1-t.max%1)),e;},labelTickIndex:function labelTickIndex(e){var t=e.index,n=this.rangeIndices();return n.min>0&&(t-=Pt.floor(n.min)),t;},arrangeLabels:function arrangeLabels(){Yt.fn.arrangeLabels.call(this),this.hideOutOfRangeLabels();},hideOutOfRangeLabels:function hideOutOfRangeLabels(){var e=this.box,t=this.labels,n=this.options.vertical?dr:cr,i=e[n+1],o=e[n+2],r=t[0],a=Sn(t);t.length&&((r.box[n+1]>o||i>r.box[n+2])&&(r.options.visible=!1),(a.box[n+1]>o||i>a.box[n+2])&&(a.options.visible=!1));},getMajorTickPositions:function getMajorTickPositions(){return this.getTicks().majorTicks;},getMinorTickPositions:function getMinorTickPositions(){return this.getTicks().minorTicks;},getTicks:function getTicks(){var e,t=this,n=t._ticks,i=t.options,o=t.rangeIndices(),r=i.reverse,a=i.justified,s=t.lineBox();return e=s.getHash()+o.min+","+o.max+r+a,n._hash!==e&&(n._hash=e,n.majorTicks=t.getTickPositions(1),n.minorTicks=t.getTickPositions(.5)),n;},getSlot:function getSlot(e,t,n){var i,o,r=this,a=r.options,s=a.reverse,l=a.justified,c=a.vertical?dr:cr,d=r.lineBox(),u=r.rangeIndices(),h=u.min,f=this.getScale(),p=d[c+(s?2:1)],m=d.clone(),g=!Cn(t);return e=In(e,0),t=In(t,e),t=Pt.max(t-1,e),t=Pt.max(e,t),i=p+(e-h)*f,o=p+(t+1-h)*f,g&&l&&(o=i),n&&(i=Tn(i,d[c+1],d[c+2]),o=Tn(o,d[c+1],d[c+2])),m[c+1]=s?o:i,m[c+2]=s?i:o,m;},pointCategoryIndex:function pointCategoryIndex(e){var t,n,i,o=this,r=o.options,a=r.reverse,s=r.justified,l=r.vertical?dr:cr,c=o.lineBox(),d=o.rangeIndices(),u=a?d.max:d.min,h=this.getScale(),f=c[l+1],p=c[l+2],m=e[l];return f>m||m>p?null:(t=m-f,n=t/h,n=u+n,i=n%1,s?n=Pt.round(n):0===i&&n>0&&n--,Pt.floor(n));},getCategory:function getCategory(e){var t=this.pointCategoryIndex(e);return null===t?null:this.options.categories[t];},categoryIndex:function categoryIndex(e){var t=this.options,n=N(e,t.srcCategories||t.categories);return n-Pt.floor(t.min||0);},translateRange:function translateRange(e){var t=this,n=t.options,i=t.lineBox(),o=n.vertical?i.height():i.width(),r=n.categories.length,a=o/r,s=yn(e/a,pi);return{min:s,max:r+s};},zoomRange:function zoomRange(e){var n=this.totalRangeIndices(),i=this.totalRange(),o=i.max,r=i.min,a=Tn(n.min+e,r,o),s=Tn(n.max-e,r,o);return s-a>0?{min:a,max:s}:t;},scaleRange:function scaleRange(e){var t=this,n=t.options,i=n.categories.length,o=e*i;return{min:-o,max:i+o};},labelsCount:function labelsCount(){var e=this.labelsRange();return e.max-e.min;},labelsRange:function labelsRange(){var e,t=this.options,n=t.labels,i=t.justified,o=this.totalRangeIndices(!0),r=o.min,a=o.max,s=Pt.floor(r);return i?(r=Pt.ceil(r),a=Pt.floor(a)):(r=Pt.floor(r),a=Pt.ceil(a)),e=r>n.skip?n.skip+n.step*Pt.ceil((r-n.skip)/n.step):n.skip,{min:e-s,max:(t.categories.length?a+(i?1:0):0)-s};},createAxisLabel:function createAxisLabel(e,t){var n=this,i=n.options,o=i.dataItems?i.dataItems[e]:null,r=In(i.categories[e],""),a=n.axisLabelText(r,o,t);return new Kt(r,a,e,o,t);},shouldRenderNote:function shouldRenderNote(e){var t=this.options.categories;return t.length&&t.length>e&&e>=0;},pan:function pan(e){var t=this.totalRangeIndices(!0),n=this.getScale(),i=yn(e/n,pi),o=this.totalRange(),r=t.min+i,a=t.max+i;return this.limitRange(r,a,0,o.max,i);},pointsRange:function pointsRange(e,t){var n=this,i=n.options,o=i.reverse,r=i.vertical?dr:cr,a=n.lineBox(),s=n.totalRangeIndices(!0),l=this.getScale(),c=a[r+(o?2:1)],d=e[r]-c,u=t[r]-c,h=s.min+d/l,f=s.min+u/l;return{min:Pt.min(h,f),max:Pt.max(h,f)};}}),ce=le.extend({init:function init(e){var t,n,i=this;e=e||{},e=Wt({roundToBaseUnit:!0},e,{categories:p(e.categories),min:p(e.min),max:p(e.max)}),e.userSetBaseUnit=e.userSetBaseUnit||e.baseUnit,e.userSetBaseUnitStep=e.userSetBaseUnitStep||e.baseUnitStep,e.categories&&e.categories.length>0?(t=(e.baseUnit||"").toLowerCase(),n=t!==Hn&&!_n(t,vr),n&&(e.baseUnit=i.defaultBaseUnit(e)),t!==Hn&&e.baseUnitStep!==Ln||i.autoBaseUnit(e),this._groupsStart=g(e.categories[0],0,e.baseUnit,e.weekStartDay),i.groupCategories(e)):e.baseUnit=e.baseUnit||ui,this._initFields(),Yt.fn.init.call(i,e);},options:{type:di,labels:{dateFormats:br},autoBaseUnitSteps:{seconds:[1,2,5,15,30],minutes:[1,2,5,15,30],hours:[1,2,3],days:[1,2,3],weeks:[1,2],months:[1,2,3,6],years:[1,2,3,5,10,25,50]},maxDateGroups:10},shouldRenderNote:function shouldRenderNote(e){var t=this,n=t.range(),i=t.options.categories||[];return mn(e,n.min)>=0&&mn(e,n.max)<=0&&i.length;},parseNoteValue:function parseNoteValue(e){return p(e);},translateRange:function translateRange(e){var t,n,i=this,o=i.options,r=o.baseUnit,a=o.weekStartDay,s=i.lineBox(),l=o.vertical?s.height():s.width(),c=i.range(),d=l/(c.max-c.min),u=yn(e/d,pi);return c.min&&c.max&&(t=k(o.min||c.min,u),n=k(o.max||c.max,u),c={min:g(t,0,r,a),max:g(n,0,r,a)}),c;},scaleRange:function scaleRange(e){var t,n=this,i=Pt.abs(e),o=n.range(),r=o.min,a=o.max;if(o.min&&o.max){for(;i--;){o=w(r,a),t=Pt.round(.1*o),0>e?(r=k(r,t),a=k(a,-t)):(r=k(r,-t),a=k(a,t));}o={min:r,max:a};}return o;},defaultBaseUnit:function defaultBaseUnit(e){var t,n,i,o,r,a=e.categories,s=Cn(a)?a.length:0,l=Qi;for(t=0;s>t;t++){n=a[t],n&&o&&(i=y(n,o),i>0&&(l=Pt.min(l,i),r=l>=Go?ur:l>=qo-3*Wo?eo:l>=jo?sr:l>=Wo?ui:l>=Uo?zi:l>=Vo?Zi:Do)),o=n;}return r||ui;},_categoryRange:function _categoryRange(e){var t=e._range;return t||(t=e._range=Dn(e)),t;},totalRange:function totalRange(){return{min:0,max:this.options.categories.length};},rangeIndices:function rangeIndices(){var e=this.options,t=e.baseUnit,n=e.baseUnitStep||1,i=e.categories,o=this.categoriesRange(),r=p(e.min||o.min),a=p(e.max||o.max),s=0,l=0;return i.length&&(s=C(r,i[0],t,n),l=C(a,i[0],t,n),e.roundToBaseUnit&&(s=Pt.floor(s),l=e.justified?Pt.floor(l):Pt.ceil(l))),{min:s,max:l};},labelsRange:function labelsRange(){var e=this.options,t=e.labels,n=this.rangeIndices(),i=Pt.floor(n.min),o=Pt.ceil(n.max);return{min:i+t.skip,max:e.categories.length?o+(e.justified?1:0):0};},categoriesRange:function categoriesRange(){var e=this.options,t=this._categoryRange(e.srcCategories||e.categories),n=p(t.max);return!e.justified&&E(n,this._roundToTotalStep(n,e,!1))&&(n=this._roundToTotalStep(n,e,!0,!0)),{min:p(t.min),max:n};},currentRange:function currentRange(){var e=this.options,t=e.roundToBaseUnit!==!1,n=this.categoriesRange(),i=e.min,o=e.max;return i||(i=t?this._roundToTotalStep(n.min,e,!1):n.min),o||(o=t?this._roundToTotalStep(n.max,e,!e.justified):n.max),{min:i,max:o};},datesRange:function datesRange(){var e=this._categoryRange(this.options.srcCategories||this.options.categories);return{min:p(e.min),max:p(e.max)};},pan:function pan(e){var n,i,o,r=this,a=r.options,s=a.baseUnit,l=r.lineBox(),c=a.vertical?l.height():l.width(),d=this.currentRange(),u=this.totalLimits(),h=d.min,f=d.max,g=c/(f-h),v=yn(e/g,pi);return i=k(h,v),o=k(f,v),n=this.limitRange(m(i),m(o),m(u.min),m(u.max),v),n?(n.min=p(n.min),n.max=p(n.max),n.baseUnit=s,n.baseUnitStep=a.baseUnitStep||1,n.userSetBaseUnit=a.userSetBaseUnit,n.userSetBaseUnitStep=a.userSetBaseUnitStep,n):t;},pointsRange:function pointsRange(e,t){var n=le.fn.pointsRange.call(this,e,t),i=this.currentRange(),o=this.rangeIndices(),r=w(i.max,i.min)/(o.max-o.min),a=this.options,s=k(i.min,n.min*r),l=k(i.min,n.max*r);return{min:s,max:l,baseUnit:a.userSetBaseUnit,baseUnitStep:a.userSetBaseUnitStep};},zoomRange:function zoomRange(e){var n,i,o,r,a,s,l,c,d,u=this.options,h=this.totalLimits(),f=this.currentRange(),m=u.baseUnit,v=u.baseUnitStep||1,_=u.weekStartDay,b=f.max,y=f.min,x=g(y,e*v,m,_),C=g(b,-e*v,m,_);if(u.userSetBaseUnit==Hn)if(n=u.autoBaseUnitSteps,i=u.maxDateGroups,o=N(m,vr),a=w(C,x),s=Sn(n[m])*i*$o[m],l=w(b,y),$o[m]>a&&m!==Do)m=vr[o-1],r=Sn(n[m]),c=(l-(i-1)*r*$o[m])/2,x=k(y,c),C=k(b,-c);else if(a>s&&m!==ur){d=0;do{o++,m=vr[o],d=0,c=2*$o[m];do{r=n[m][d],d++;}while(n[m].length>d&&l>c*r);}while(m!==ur&&l>c*r);c=(c*r-l)/2,c>0&&(x=k(y,-c),C=k(b,c),x=k(x,Tn(C,h.min,h.max)-C),C=k(C,Tn(x,h.min,h.max)-x));}return x=p(Tn(x,h.min,h.max)),C=p(Tn(C,h.min,h.max)),w(C,x)>0?{min:x,max:C,baseUnit:u.userSetBaseUnit,baseUnitStep:u.userSetBaseUnitStep}:t;},totalLimits:function totalLimits(){var e=this.options,t=this.datesRange(),n=this._roundToTotalStep(p(t.min),e,!1),i=t.max;return e.justified||(i=this._roundToTotalStep(i,e,!0,E(i,this._roundToTotalStep(i,e,!1)))),{min:n,max:i};},range:function range(e){e=e||this.options;var t=e.categories,n=e.baseUnit===Hn,i=n?vr[0]:e.baseUnit,o=e.baseUnitStep||1,r={baseUnit:i,baseUnitStep:o,weekStartDay:e.weekStartDay},a=this._categoryRange(t),s=p(e.min||a.min),l=p(e.max||a.max);return{min:this._roundToTotalStep(s,r,!1),max:this._roundToTotalStep(l,r,!0,!0)};},autoBaseUnit:function autoBaseUnit(e){for(var t,n,i,o=this,r=this._categoryRange(e.categories),a=p(e.min||r.min),s=p(e.max||r.max),l=e.baseUnit===Hn,c=0,d=l?vr[c++]:e.baseUnit,u=s-a,h=u/$o[d],f=h,m=e.maxDateGroups||o.options.maxDateGroups,g=Wt({},o.options.autoBaseUnitSteps,e.autoBaseUnitSteps);!n||h>=m;){if(t=t||g[d].slice(0),i=t.shift())n=i,h=f/n;else{if(d===Sn(vr)){n=Pt.ceil(f/m);break;}if(!l){h>m&&(n=Pt.ceil(f/m));break;}d=vr[c++]||Sn(vr),f=u/$o[d],t=null;}}e.baseUnitStep=n,e.baseUnit=d;},_timeScale:function _timeScale(){var e,t,n,i=this,o=i.range(),r=i.options,a=i.lineBox(),s=r.vertical,l=s?a.height():a.width();return r.justified&&r._collapse!==!1?(t=this._categoryRange(r.categories),n=m(t.max),e=p(n)-o.min):e=o.max-o.min,l/e;},groupCategories:function groupCategories(e){var t,n,i=this,o=e.categories,r=p(En(o)),a=e.baseUnit,s=e.baseUnitStep||1,l=i.range(e),c=l.max,d=[];for(t=l.min;c>t&&(d.push(t),n=g(t,s,a,e.weekStartDay),!(n>r)||e.max);t=n){}e.srcCategories=o,e.categories=d;},_roundToTotalStep:function _roundToTotalStep(e,t,n,i){var o,r,a,s,l;return t=t||this.options,o=t.baseUnit,r=t.baseUnitStep||1,a=this._groupsStart,a?(s=C(e,a,o,r),l=n?Pt.ceil(s):Pt.floor(s),i&&l++,g(a,l*r,o,t.weekStartDay)):g(e,n?r:0,o,t.weekStartDay);},createAxisLabel:function createAxisLabel(e,n){var i,o,r=this.options,a=r.dataItems?r.dataItems[e]:null,s=r.categories[e],l=r.baseUnit,c=!0,d=n.dateFormats[l];return r.justified?(i=_(s,l,r.weekStartDay),c=E(i,s)):r.roundToBaseUnit||(c=!E(this.range().max,s)),c&&(n.format=n.format||d,o=this.axisLabelText(s,a,n))?new Kt(s,o,e,a,n):t;},categoryIndex:function categoryIndex(e){var t=this,n=t.options,i=n.categories,o=-1;return i.length&&(o=Pt.floor(C(p(e),i[0],n.baseUnit,n.baseUnitStep||1))),o;},getSlot:function getSlot(e,t,n){var i=this;return(typeof e==="undefined"?"undefined":_typeof(e))===uo&&(e=i.categoryIndex(e)),(typeof t==="undefined"?"undefined":_typeof(t))===uo&&(t=i.categoryIndex(t)),le.fn.getSlot.call(i,e,t,n);}}),de=Yt.extend({init:function init(e,t,n){var i=this;n=n||{},Wt(n,{min:p(n.min),max:p(n.max),axisCrossingValue:p(n.axisCrossingValues||n.axisCrossingValue)}),n=i.applyDefaults(p(e),p(t),n),Yt.fn.init.call(i,n);},options:{type:di,majorGridLines:{visible:!0,width:1,color:jn},labels:{dateFormats:br}},applyDefaults:function applyDefaults(e,n,i){var o=this,r=i.min||e,a=i.max||n,s=i.baseUnit||(a&&r?o.timeUnits(y(a,r)):zi),l=$o[s],c=_(m(r)-1,s)||p(a),d=b(m(a)+1,s),u=i.majorUnit?i.majorUnit:t,h=u||$t.ceil($t.autoMajorUnit(c.getTime(),d.getTime()),l)/l,f=x(c,d,s),v=$t.ceil(f,h),w=v-f,k=Pt.floor(w/2),C=w-k;return i.baseUnit||delete i.baseUnit,i.baseUnit=i.baseUnit||s,i.min=i.min||g(c,-k,s),i.max=i.max||g(d,C,s),i.minorUnit=i.minorUnit||h/5,i.majorUnit=h,this.totalMin=m(_(m(e)-1,s)),this.totalMax=m(b(m(n)+1,s)),i;},range:function range(){var e=this.options;return{min:e.min,max:e.max};},getDivisions:function getDivisions(e){var t=this.options;return Pt.floor(x(t.min,t.max,t.baseUnit)/e+1);},getTickPositions:function getTickPositions(e){var t,n,i,o=this.options,r=o.vertical,a=o.reverse,s=this.lineBox(),l=(r?-1:1)*(a?-1:1),c=1===l?1:2,d=s[(r?dr:cr)+c],u=this.getDivisions(e),h=w(o.max,o.min),f=r?s.height():s.width(),p=f/h,m=[d];for(t=1;u>t;t++){n=g(o.min,t*e,o.baseUnit),i=d+w(n,o.min)*p*l,m.push(yn(i,ri));}return m;},getMajorTickPositions:function getMajorTickPositions(){var e=this;return e.getTickPositions(e.options.majorUnit);},getMinorTickPositions:function getMinorTickPositions(){var e=this;return e.getTickPositions(e.options.minorUnit);},getSlot:function getSlot(e,t,n){return rn.fn.getSlot.call(this,p(e),p(t),n);},getValue:function getValue(e){var t=rn.fn.getValue.call(this,e);return null!==t?p(t):null;},labelsCount:function labelsCount(){return this.getDivisions(this.options.majorUnit);},createAxisLabel:function createAxisLabel(e,t){var n,i,o=this.options,r=e*o.majorUnit,a=o.min;return r>0&&(a=g(a,r,o.baseUnit)),n=t.dateFormats[o.baseUnit],t.format=t.format||n,i=this.axisLabelText(a,null,t),new Kt(a,i,e,null,t);},timeUnits:function timeUnits(e){var t=zi;return e>=Go?t=ur:e>=qo?t=eo:e>=jo?t=sr:e>=Wo&&(t=ui),t;},translateRange:function translateRange(e,t){var n=this,i=n.options,o=i.baseUnit,r=i.weekStartDay,a=n.lineBox(),s=i.vertical?a.height():a.width(),l=n.range(),c=s/w(l.max,l.min),d=yn(e/c,pi),u=k(i.min,d),h=k(i.max,d);return t||(u=g(u,0,o,r),h=g(h,0,o,r)),{min:u,max:h};},scaleRange:function scaleRange(e){for(var t,n,i=this,o=i.options,r=Pt.abs(e),a=o.min,s=o.max;r--;){t=w(a,s),n=Pt.round(.1*t),0>e?(a=k(a,n),s=k(s,-n)):(a=k(a,-n),s=k(s,n));}return{min:a,max:s};},shouldRenderNote:function shouldRenderNote(e){var t=this.range();return mn(e,t.min)>=0&&mn(e,t.max)<=0;},pan:function pan(e){var n=this.translateRange(e,!0),i=this.limitRange(m(n.min),m(n.max),this.totalMin,this.totalMax);return i?{min:p(i.min),max:p(i.max)}:t;},pointsRange:function pointsRange(e,t){var n=this.getValue(e),i=this.getValue(t),o=Pt.min(n,i),r=Pt.max(n,i);return{min:p(o),max:p(r)};},zoomRange:function zoomRange(e){var t=this.scaleRange(e),n=p(Tn(m(t.min),this.totalMin,this.totalMax)),i=p(Tn(m(t.max),this.totalMin,this.totalMax));return{min:n,max:i};}}),ue=Jt.extend({options:{vertical:!1,gap:0,spacing:0},reflow:function reflow(e){var t,n,i=this,o=i.options,r=o.vertical,a=r?dr:cr,s=i.children,l=o.gap,c=o.spacing,d=s.length,u=d+l+c*(d-1),h=(r?e.height():e.width())/u,f=e[a+1]+h*(l/2);for(n=0;d>n;n++){t=(s[n].box||e).clone(),t[a+1]=f,t[a+2]=f+h,s[n].reflow(t),d-1>n&&(f+=h*c),f+=h;}}}),he=Jt.extend({options:{vertical:!0},reflow:function reflow(e){var t,n,i,o=this.options,r=o.vertical,a=r?cr:dr,s=this.children,l=this.box=new Qt(),c=s.length;for(t=0;c>t;t++){n=s[t],n.visible!==!1&&(i=n.box.clone(),i.snapTo(e,a),0===t&&(l=this.box=i.clone()),n.reflow(i),l.wrap(i));}}}),fe={click:function click(e,t){return e.trigger(Io,this.eventArgs(t));},hover:function hover(e,t){return e.trigger(Fo,this.eventArgs(t));},eventArgs:function eventArgs(e){return{value:this.value,percentage:this.percentage,category:this.category,series:this.series,dataItem:this.dataItem,runningTotal:this.runningTotal,total:this.total,element:gn(e),originalEvent:e,point:this};}},pe={createNote:function createNote(){var e=this,t=e.options.notes,n=e.noteText||t.label.text;t.visible!==!1&&Cn(n)&&null!==n&&(e.note=new nn(e.value,n,e.dataItem,e.category,e.series,e.options.notes),e.append(e.note));}},me=Jt.extend({init:function init(e,t){var n=this;Jt.fn.init.call(n),n.options=t,n.color=t.color||lr,n.aboveAxis=In(n.options.aboveAxis,!0),n.value=e;},defaults:{border:{width:1},vertical:!0,overlay:{gradient:Fi},labels:{visible:!1,format:"{0}"},opacity:1,notes:{label:{}}},render:function render(){this._rendered||(this._rendered=!0,this.createLabel(),this.createNote(),this.errorBar&&this.append(this.errorBar));},createLabel:function createLabel(){var e,t,n=this.options,i=n.labels;i.visible&&(i.template?(t=Gt(i.template),e=t({dataItem:this.dataItem,category:this.category,value:this.value,percentage:this.percentage,runningTotal:this.runningTotal,total:this.total,series:this.series})):e=this.formatValue(i.format),this.label=new oe(e,Wt({vertical:n.vertical},n.labels)),this.append(this.label));},formatValue:function formatValue(e){return this.owner.formatPointValue(this,e);},reflow:function reflow(e){var t,n,i;if(this.render(),t=this,n=t.label,t.box=e,n&&(n.options.aboveAxis=t.aboveAxis,n.reflow(e)),t.note&&t.note.reflow(e),t.errorBars)for(i=0;t.errorBars.length>i;i++){t.errorBars[i].reflow(e);}},createVisual:function createVisual(){var e,t=this,n=t.box,i=t.options,o=i.visual;t.visible!==!1&&(Jt.fn.createVisual.call(t),o?(e=this.rectVisual=o({category:t.category,dataItem:t.dataItem,value:t.value,sender:t.getChart(),series:t.series,percentage:t.percentage,runningTotal:t.runningTotal,total:t.total,rect:n.toRect(),createVisual:function createVisual(){var e=new Mn.Group();return t.createRect(e),e;},options:i}),e&&t.visual.append(e)):n.width()>0&&n.height()>0&&t.createRect(t.visual));},createRect:function createRect(e){var n,i,o,r,a=this.options,s=a.border,l=Cn(s.opacity)?s.opacity:a.opacity,c=this.box.toRect();c.size.width=Math.round(c.size.width),n=this.rectVisual=Mn.Path.fromRect(c,{fill:{color:this.color,opacity:a.opacity},stroke:{color:this.getBorderColor(),width:s.width,opacity:l,dashType:s.dashType}}),i=this.box.width(),o=this.box.height(),r=a.vertical?i:o,r>Vn&&(fn(n),(1>i||1>o)&&(n.options.stroke.lineJoin="round")),e.append(n),G(a)&&e.append(this.createGradientOverlay(n,{baseColor:this.color},Wt({end:a.vertical?t:[0,1]},a.overlay)));},createHighlight:function createHighlight(e){var t=Mn.Path.fromRect(this.box.toRect(),e);return fn(t);},highlightVisual:function highlightVisual(){return this.rectVisual;},highlightVisualArgs:function highlightVisualArgs(){return{options:this.options,rect:this.box.toRect(),visual:this.rectVisual};},getBorderColor:function getBorderColor(){var e=this,t=e.options,n=e.color,i=t.border,o=i.color,r=i._brightness||Un;return Cn(o)||(o=new Zt(n).brightness(r).toHex()),o;},tooltipAnchor:function tooltipAnchor(e,t){var n,i,o,r,a=this,s=a.options,l=a.box,c=s.vertical,d=a.aboveAxis,u=a.owner.pane.clipBox()||l;return c?(n=Pt.min(l.x2,u.x2)+Xo,i=d?Pt.max(l.y1,u.y1):Pt.min(l.y2,u.y2)-t):(o=Pt.max(l.x1,u.x1),r=Pt.min(l.x2,u.x2),s.isStacked?(n=d?r-e:o,i=Pt.max(l.y1,u.y1)-t-Xo):(n=d?r+Xo:o-e-Xo,i=Pt.max(l.y1,u.y1))),new an(n,i);},overlapsBox:function overlapsBox(e){return this.box.overlaps(e);}}),Wt(me.fn,fe),Wt(me.fn,pe),ge=Mn.Animation.extend({options:{duration:Bi},setup:function setup(){var e,t,n=this.element,i=this.options,o=n.bbox();o?(this.origin=i.origin,e=i.vertical?dr:cr,t=this.fromScale=new Fn.Point(1,1),t[e]=Mo,n.transform(Fn.transform().scale(t.x,t.y))):this.abort();},step:function step(e){var t=bn(this.fromScale.x,1,e),n=bn(this.fromScale.y,1,e);this.element.transform(Fn.transform().scale(t,n,this.origin));},abort:function abort(){Mn.Animation.fn.abort.call(this),this.element.transform(null);}}),Mn.AnimationFactory.current.register(On,ge),ve=Mn.Animation.extend({options:{duration:200,easing:Gi},setup:function setup(){this.fadeTo=this.element.opacity(),this.element.opacity(0);},step:function step(e){this.element.opacity(e*this.fadeTo);}}),Mn.AnimationFactory.current.register(Ai,ve),_e=function _e(e,t,n){var i=this;i.initGlobalRanges(e,t,n);},_e.prototype=_e.fn={percentRegex:/percent(?:\w*)\((\d+)\)/,standardDeviationRegex:RegExp("^"+Lo+"(?:\\((\\d+(?:\\.\\d+)?)\\))?$"),initGlobalRanges:function initGlobalRanges(e,t,n){var i,o,r,a,s,l=this,c=t.data,d=l.standardDeviationRegex.exec(e);d?(l.valueGetter=l.createValueGetter(t,n),i=l.getAverage(c),o=l.getStandardDeviation(c,i,!1),r=d[1]?parseFloat(d[1]):1,a={low:i.value-o*r,high:i.value+o*r},l.globalRange=function(){return a;}):e.indexOf&&e.indexOf(Bo)>=0&&(l.valueGetter=l.createValueGetter(t,n),s=l.getStandardError(c,l.getAverage(c)),l.globalRange=function(e){return{low:e-s,high:e+s};});},createValueGetter:function createValueGetter(e,t){var n,i,o,r=e.data,a=ie.current,s=a.valueFields(e),l=Cn(r[0])?r[0]:{};return It(l)?(n=t?N(t,s):0,o=jt("["+n+"]")):F(l)?o=jt():(typeof l==="undefined"?"undefined":_typeof(l))===uo&&(i=a.sourceFields(e,s),o=jt(i[N(t,s)])),o;},getErrorRange:function getErrorRange(e,t){var n,i,o,r,a=this;if(Cn(t)){if(a.globalRange)return a.globalRange(e);if(It(t))n=e-t[0],i=e+t[1];else if(F(o=parseFloat(t)))n=e-o,i=e+o;else{if(!(o=a.percentRegex.exec(t)))throw Error("Invalid ErrorBar value: "+t);r=e*(parseFloat(o[1])/100),n=e-Pt.abs(r),i=e+Pt.abs(r);}return{low:n,high:i};}},getStandardError:function getStandardError(e,t){return this.getStandardDeviation(e,t,!0)/Pt.sqrt(t.count);},getStandardDeviation:function getStandardDeviation(e,t,n){var i,o,r=0,a=e.length,s=n?t.count-1:t.count;for(o=0;a>o;o++){i=this.valueGetter(e[o]),F(i)&&(r+=Pt.pow(i-t.value,2));}return Pt.sqrt(r/s);},getAverage:function getAverage(e){var t,n,i=0,o=0,r=e.length;for(n=0;r>n;n++){t=this.valueGetter(e[n]),F(t)&&(i+=t,o++);}return{value:i/o,count:o};}},be=Jt.extend({init:function init(e,t){var n=this;Jt.fn.init.call(n,t),n.plotArea=e,n.categoryAxis=e.seriesCategoryAxis(t.series[0]),n.valueAxisRanges={},n.points=[],n.categoryPoints=[],n.seriesPoints=[],n.seriesOptions=[],n._evalSeries=[],n.render();},options:{series:[],invertAxes:!1,isStacked:!1,clip:!0},render:function render(){var e=this;e.traverseDataPoints(Lt(e.addValue,e));},pointOptions:function pointOptions(e,t){var n,i=this.seriesOptions[t];return i||(n=this.pointType().fn.defaults,this.seriesOptions[t]=i=Wt({},n,{vertical:!this.options.invertAxes},e)),i;},plotValue:function plotValue(e){var t,n,i,o,r,a,s,l;if(!e)return 0;if(this.options.isStacked100&&F(e.value)){for(t=e.categoryIx,n=this.categoryPoints[t],i=0,o=[],r=0;n.length>r;r++){if(a=n[r]){if(s=e.series.stack,l=a.series.stack,s&&l&&s.group!==l.group)continue;F(a.value)&&(i+=Pt.abs(a.value),o.push(Pt.abs(a.value)));}}if(i>0)return e.value/i;}return e.value;},plotRange:function plotRange(e,t){var n,i,o,r,a,s,l,c,d,u,h,f,p=e.categoryIx,m=this.categoryPoints[p];if(this.options.isStacked){for(t=t||0,n=this.plotValue(e),i=n>=0,o=t,r=!1,a=0;m.length>a&&(s=m[a],e!==s);a++){if(l=e.series.stack,c=s.series.stack,l&&c){if((typeof l==="undefined"?"undefined":_typeof(l))===Ho&&l!==c)continue;if(l.group&&l.group!==c.group)continue;}d=this.plotValue(s),(d>=0&&i||0>d&&!i)&&(o+=d,n+=d,r=!0,this.options.isStacked100&&(n=Pt.min(n,1)));}return r&&(o-=t),[o,n];}return u=e.series,h=this.seriesValueAxis(u),f=this.categoryAxisCrossingValue(h),[f,e.value||f];},stackLimits:function stackLimits(e,t){var n,i,o,r,a,s=Qi,l=Ji;for(n=0;this.categoryPoints.length>n;n++){if(i=this.categoryPoints[n])for(o=0;i.length>o;o++){r=i[o],r&&(r.series.stack!==t&&r.series.axis!==e||(a=this.plotRange(r,0)[1],Cn(a)&&isFinite(a)&&(l=Pt.max(l,a),s=Pt.min(s,a))));}}return{min:s,max:l};},updateStackRange:function updateStackRange(){var e,t,n,i,o,r,a=this,s=a.options.series,l=a.options.isStacked,c={};if(l)for(t=0;s.length>t;t++){n=s[t],i=n.axis,o=i+n.stack,e=c[o],e||(e=a.stackLimits(i,n.stack),r=a.errorTotals,r&&(r.negative.length&&(e.min=Pt.min(e.min,An(r.negative))),r.positive.length&&(e.max=Pt.max(e.max,En(r.positive)))),e.min!==Qi||e.max!==Ji?c[o]=e:e=null),e&&(a.valueAxisRanges[i]=e);}},addErrorBar:function addErrorBar(e,t,n){var i,o=this,r=e.value,a=e.series,s=e.seriesIx,l=e.options.errorBars,c=t.fields[ki],d=t.fields[xi];F(c)&&F(d)?i={low:c,high:d}:l&&Cn(l.value)&&(o.seriesErrorRanges=o.seriesErrorRanges||[],o.seriesErrorRanges[s]=o.seriesErrorRanges[s]||new _e(l.value,a,tr),i=o.seriesErrorRanges[s].getErrorRange(r,l.value)),i&&(e.low=i.low,e.high=i.high,o.addPointErrorBar(e,n));},addPointErrorBar:function addPointErrorBar(e,t){var n,i,o,r=this,a=e.series,s=e.low,l=e.high,c=!r.options.invertAxes,d=e.options.errorBars;r.options.isStacked?(i=r.stackedErrorRange(e,t),s=i.low,l=i.high):(o={categoryIx:t,series:a},r.updateRange({value:s},o),r.updateRange({value:l},o)),n=new De(s,l,c,r,a,d),e.errorBars=[n],e.append(n);},stackedErrorRange:function stackedErrorRange(e,t){var n=this,i=n.plotRange(e,0)[1]-e.value,o=e.low+i,r=e.high+i;return n.errorTotals=n.errorTotals||{positive:[],negative:[]},0>o&&(n.errorTotals.negative[t]=Pt.min(n.errorTotals.negative[t]||0,o)),r>0&&(n.errorTotals.positive[t]=Pt.max(n.errorTotals.positive[t]||0,r)),{low:o,high:r};},addValue:function addValue(t,n){var i,o,r=this,a=n.categoryIx,s=n.series,l=n.seriesIx,c=r.categoryPoints[a];c||(r.categoryPoints[a]=c=[]),i=r.seriesPoints[l],i||(r.seriesPoints[l]=i=[]),o=r.createPoint(t,n),o&&(e.extend(o,n),o.owner=r,o.dataItem=s.data[a],o.noteText=t.fields.noteText,r.addErrorBar(o,t,a)),r.points.push(o),i.push(o),c.push(o),r.updateRange(t.valueFields,n);},evalPointOptions:function evalPointOptions(e,t,n,i,o,r){var a={defaults:o._defaults,excluded:["data","aggregate","_events","tooltip","template","visual","toggle","_outOfRangeMinPoint","_outOfRangeMaxPoint"]},s=this._evalSeries[r];return Cn(s)||(this._evalSeries[r]=s=B(e,{},a,!0)),s&&(e=Wt({},e),B(e,{value:t,category:n,index:i,series:o,dataItem:o.data[i]},a)),e;},updateRange:function updateRange(e,t){var n=this,i=t.series.axis,o=e.value,r=n.valueAxisRanges[i];isFinite(o)&&null!==o&&(r=n.valueAxisRanges[i]=r||{min:Qi,max:Ji},r.min=Pt.min(r.min,o),r.max=Pt.max(r.max,o));},seriesValueAxis:function seriesValueAxis(e){var t=this.plotArea,n=e.axis,i=n?t.namedValueAxes[n]:t.valueAxis;if(!i)throw Error("Unable to locate value axis with name "+n);return i;},reflow:function reflow(e){var t,n,i,o=this,r=0,a=o.categorySlots=[],s=o.points,l=o.categoryAxis;o.traverseDataPoints(function(e,c){var d,u,h,f,p=c.categoryIx,m=c.series;t=o.pointValue(e),n=o.seriesValueAxis(m),i=s[r++],d=a[p],d||(a[p]=d=o.categorySlot(l,p,n)),i&&(u=o.plotRange(i,n.startValue()),h=n.getSlot(u[0],u[1],!o.options.clip),h?(f=o.pointSlot(d,h),i.aboveAxis=o.aboveAxis(i,n),o.options.isStacked100&&(i.percentage=o.plotValue(i)),o.reflowPoint(i,f)):i.visible=!1);}),o.reflowCategories(a),o.box=e;},aboveAxis:function aboveAxis(e,t){var n=this.categoryAxisCrossingValue(t),i=e.value;return t.options.reverse?n>i:i>=n;},categoryAxisCrossingValue:function categoryAxisCrossingValue(e){var t=this.categoryAxis,n=e.options,i=[].concat(n.axisCrossingValues||n.axisCrossingValue);return i[t.axisIndex||0]||0;},reflowPoint:function reflowPoint(e,t){e.reflow(t);},reflowCategories:function reflowCategories(){},pointSlot:function pointSlot(e,t){var n=this,i=n.options,o=i.invertAxes,r=o?t:e,a=o?e:t;return new Qt(r.x1,a.y1,r.x2,a.y2);},categorySlot:function categorySlot(e,t){return e.getSlot(t);},traverseDataPoints:function traverseDataPoints(e){var t,n,i,o,r,a=this,s=a.options,l=s.series,c=a.categoryAxis.options.categories||[],u=d(l),h=l.length;for(n=0;h>n;n++){this._outOfRangeCallback(l[n],"_outOfRangeMinPoint",n,e);}for(t=0;u>t;t++){for(n=0;h>n;n++){r=l[n],o=c[t],i=this._bindPoint(r,n,t),e(i,{category:o,categoryIx:t,series:r,seriesIx:n});}}for(n=0;h>n;n++){this._outOfRangeCallback(l[n],"_outOfRangeMaxPoint",n,e);}},_outOfRangeCallback:function _outOfRangeCallback(e,t,n,i){var o,r,a=e[t];a&&(o=a.categoryIx,r=this._bindPoint(e,n,o,a.item),i(r,{category:a.category,categoryIx:o,series:e,seriesIx:n}));},_bindPoint:function _bindPoint(e,t,n,i){var o,r;return this._bindCache||(this._bindCache=[]),o=this._bindCache[t],o||(o=this._bindCache[t]=[]),r=o[n],r||(r=o[n]=ie.current.bindPoint(e,n,i)),r;},formatPointValue:function formatPointValue(e,t){return null===e.value?"":pn(t,e.value);},pointValue:function pointValue(e){return e.valueFields.value;}}),we=be.extend({options:{animation:{type:On}},render:function render(){var e=this;be.fn.render.apply(e),e.updateStackRange();},pointType:function pointType(){return me;},clusterType:function clusterType(){return ue;},stackType:function stackType(){return he;},stackLimits:function stackLimits(e,t){var n=be.fn.stackLimits.call(this,e,t);return n;},createPoint:function createPoint(e,t){var n,i,o,r,a=this,s=t.categoryIx,l=t.category,c=t.series,d=t.seriesIx,u=a.pointValue(e),h=a.options,f=a.children,p=a.options.isStacked,m=a.pointType(),g=a.clusterType(),v=this.pointOptions(c,d),_=v.labels;return p&&_.position==fo&&(_.position=Hi),v.isStacked=p,o=e.fields.color||c.color,0>u&&v.negativeColor&&(o=v.negativeColor),v=a.evalPointOptions(v,u,l,s,c,d),Ht.isFunction(c.color)&&(o=v.color),n=new m(u,v),n.color=o,i=f[s],i||(i=new g({vertical:h.invertAxes,gap:h.gap,spacing:h.spacing}),a.append(i)),p?(r=a.getStackWrap(c,i),r.append(n)):i.append(n),n;},getStackWrap:function getStackWrap(e,t){var n,i,o,r=e.stack,a=r?r.group||r:r,s=t.children;if((typeof a==="undefined"?"undefined":_typeof(a))===Ho){for(i=0;s.length>i;i++){if(s[i]._stackGroup===a){n=s[i];break;}}}else n=s[0];return n||(o=this.stackType(),n=new o({vertical:!this.options.invertAxes}),n._stackGroup=a,t.append(n)),n;},categorySlot:function categorySlot(e,t,n){var i,o,r=this,a=r.options,s=e.getSlot(t),l=n.startValue();return a.isStacked&&(o=n.getSlot(l,l,!0),i=a.invertAxes?cr:dr,s[i+1]=s[i+2]=o[i+1]),s;},reflowCategories:function reflowCategories(e){var t,n=this,i=n.children,o=i.length;for(t=0;o>t;t++){i[t].reflow(e[t]);}},createAnimation:function createAnimation(){this._setAnimationOptions(),Jt.fn.createAnimation.call(this),$(this.options.series)&&this._setChildrenAnimation();},_setChildrenAnimation:function _setChildrenAnimation(){var e,t,n,i=this.points;for(n=0;i.length>n;n++){e=i[n],t=e.visual,t&&Cn(t.options.zIndex)&&(e.options.animation=this.options.animation,e.createAnimation());}},_setAnimationOptions:function _setAnimationOptions(){var e,t,n=this.options,i=n.animation||{};this.options.isStacked?(t=this.seriesValueAxis(n.series[0]),e=t.getSlot(t.startValue())):e=this.categoryAxis.getSlot(0),i.origin=new Fn.Point(e.x1,e.y1),i.vertical=!n.invertAxes;}}),ye=me.extend({defaults:{labels:{format:"{0} - {1}"},tooltip:{format:"{1}"}},createLabel:function createLabel(){var e=this.options.labels,t=Wt({},e,e.from),n=Wt({},e,e.to);t.visible&&(this.labelFrom=this._createLabel(t),this.append(this.labelFrom)),n.visible&&(this.labelTo=this._createLabel(n),this.append(this.labelTo));},_createLabel:function _createLabel(e){var t,n;return e.template?(n=Gt(e.template),t=n({dataItem:this.dataItem,category:this.category,value:this.value,percentage:this.percentage,runningTotal:this.runningTotal,total:this.total,series:this.series})):t=this.formatValue(e.format),new oe(t,Wt({vertical:this.options.vertical},e));},reflow:function reflow(e){this.render();var t=this,n=t.labelFrom,i=t.labelTo;t.box=e,n&&(n.options.aboveAxis=t.value.from>t.value.to,n.reflow(e)),i&&(i.options.aboveAxis=t.value.to>t.value.from,i.reflow(e)),t.note&&t.note.reflow(e);}}),ke=we.extend({pointType:function pointType(){return ye;},pointValue:function pointValue(e){return e.valueFields;},formatPointValue:function formatPointValue(e,t){return null===e.value.from&&null===e.value.to?"":pn(t,e.value.from,e.value.to);},plotLimits:be.fn.plotLimits,plotRange:function plotRange(e){return e?[e.value.from,e.value.to]:0;},updateRange:function updateRange(e,t){var n=this,i=t.series.axis,o=e.from,r=e.to,a=n.valueAxisRanges[i];null!==e&&F(o)&&F(r)&&(a=n.valueAxisRanges[i]=a||{min:Qi,max:Ji},a.min=Pt.min(a.min,o),a.max=Pt.max(a.max,o),a.min=Pt.min(a.min,r),a.max=Pt.max(a.max,r));},aboveAxis:function aboveAxis(e){var t=e.value;return t.to>t.from;}}),xe=be.extend({init:function init(e,t){var n=this;n.wrapData(t),be.fn.init.call(n,e,t);},options:{animation:{type:On}},wrapData:function wrapData(e){var t,n,i,o=e.series;for(t=0;o.length>t;t++){i=o[t],n=i.data,n&&!It(n[0])&&_typeof(n[0])!=uo&&(i.data=[n]);}},reflowCategories:function reflowCategories(e){var t,n=this,i=n.children,o=i.length;for(t=0;o>t;t++){i[t].reflow(e[t]);}},plotRange:function plotRange(e){var t=e.series,n=this.seriesValueAxis(t),i=this.categoryAxisCrossingValue(n);return[i,e.value.current||i];},createPoint:function createPoint(e,t){var n,i,o=this,r=t.categoryIx,a=t.category,s=t.series,l=t.seriesIx,c=e.valueFields,d=o.options,u=o.children,h=Wt({vertical:!d.invertAxes,overlay:s.overlay,categoryIx:r,invertAxes:d.invertAxes},s),f=e.fields.color||s.color;return h=o.evalPointOptions(h,c,a,r,s,l),Ht.isFunction(s.color)&&(f=h.color),n=new Ce(c,h),n.color=f,i=u[r],i||(i=new ue({vertical:d.invertAxes,gap:d.gap,spacing:d.spacing}),o.append(i)),i.append(n),n;},updateRange:function updateRange(e,t){var n=this,i=t.series.axis,o=e.current,r=e.target,a=n.valueAxisRanges[i];Cn(o)&&!isNaN(o)&&Cn(r&&!isNaN(r))&&(a=n.valueAxisRanges[i]=a||{min:Qi,max:Ji},a.min=Pt.min.apply(Pt,[a.min,o,r]),a.max=Pt.max.apply(Pt,[a.max,o,r]));},formatPointValue:function formatPointValue(e,t){return pn(t,e.value.current,e.value.target);},pointValue:function pointValue(e){return e.valueFields.current;},aboveAxis:function aboveAxis(e){var t=e.value.current;return t>0;},createAnimation:function createAnimation(){var e,t,n=this.points;for(this._setAnimationOptions(),t=0;n.length>t;t++){e=n[t],e.options.animation=this.options.animation,e.createAnimation();}},_setAnimationOptions:we.fn._setAnimationOptions}),Ce=Jt.extend({init:function init(e,t){var n=this;Jt.fn.init.call(n,t),n.aboveAxis=n.options.aboveAxis,n.color=t.color||lr,n.value=e;},options:{border:{width:1},vertical:!1,opacity:1,target:{shape:"",border:{width:0,color:"green"},line:{width:2}},tooltip:{format:"Current: {0}</br>Target: {1}"}},render:function render(){var e=this,t=e.options;e._rendered||(e._rendered=!0,Cn(e.value.target)&&(e.target=new Se({type:t.target.shape,background:t.target.color||e.color,opacity:t.opacity,zIndex:t.zIndex,border:t.target.border,vAlign:Ko,align:ko}),e.target.value=this.value,e.target.dataItem=this.dataItem,e.target.series=this.series,e.append(e.target)),e.createNote());},reflow:function reflow(e){this.render();var t,n=this,i=n.options,o=n.owner,r=n.target,a=i.invertAxes,s=o.seriesValueAxis(n.options),l=o.categorySlot(o.categoryAxis,i.categoryIx,s),c=s.getSlot(n.value.target),d=a?c:l,u=a?l:c;r&&(t=new Qt(d.x1,u.y1,d.x2,u.y2),r.options.height=a?t.height():i.target.line.width,r.options.width=a?i.target.line.width:t.width(),r.reflow(t)),n.note&&n.note.reflow(e),n.box=e;},createVisual:function createVisual(){var e,t;Jt.fn.createVisual.call(this),e=this.options,t=Mn.Path.fromRect(this.box.toRect(),{fill:{color:this.color,opacity:e.opacity},stroke:null}),e.border.width>0&&t.options.set("stroke",{color:e.border.color||this.color,width:e.border.width,dashType:e.border.dashType,opacity:In(e.border.opacity,e.opacity)}),this.bodyVisual=t,fn(t),this.visual.append(t);},createAnimation:function createAnimation(){this.bodyVisual&&(this.animation=Mn.Animation.create(this.bodyVisual,this.options.animation));},tooltipAnchor:me.fn.tooltipAnchor,createHighlight:function createHighlight(e){return Mn.Path.fromRect(this.box.toRect(),e);},highlightVisual:function highlightVisual(){return this.bodyVisual;},highlightVisualArgs:function highlightVisualArgs(){return{rect:this.box.toRect(),visual:this.bodyVisual,options:this.options};},formatValue:function formatValue(e){var t=this;return t.owner.formatPointValue(t,e);}}),Wt(Ce.fn,fe),Wt(Ce.fn,pe),Se=cn.extend(),Wt(Se.fn,fe),Te=Jt.extend({init:function init(e,t,n,i,o,r){var a=this;a.low=e,a.high=t,a.isVertical=n,a.chart=i,a.series=o,Jt.fn.init.call(a,r);},options:{animation:{type:Ai,delay:Bi},endCaps:!0,line:{width:1},zIndex:1},getAxis:function getAxis(){},reflow:function reflow(e){var t,n=this,i=n.options.endCaps,o=n.isVertical,r=n.getAxis(),a=r.getSlot(n.low,n.high),s=e.center(),l=n.getCapsWidth(e,o),c=o?s.x:s.y,d=c-l,u=c+l;o?(t=[an(s.x,a.y1),an(s.x,a.y2)],i&&t.push(an(d,a.y1),an(u,a.y1),an(d,a.y2),an(u,a.y2)),n.box=Qt(d,a.y1,u,a.y2)):(t=[an(a.x1,s.y),an(a.x2,s.y)],i&&t.push(an(a.x1,d),an(a.x1,u),an(a.x2,d),an(a.x2,u)),n.box=Qt(a.x1,d,a.x2,u)),n.linePoints=t;},getCapsWidth:function getCapsWidth(e,t){var n=t?e.width():e.height(),i=Pt.min(Pt.floor(n/2),gi)||gi;return i;},createVisual:function createVisual(){var e=this,t=e.options,n=t.visual;n?e.visual=n({low:e.low,high:e.high,rect:e.box.toRect(),sender:e.getChart(),options:{endCaps:t.endCaps,color:t.color,line:t.line},createVisual:function createVisual(){e.createDefaultVisual();var t=e.visual;return delete e.visual,t;}}):e.createDefaultVisual();},createDefaultVisual:function createDefaultVisual(){var e,t,n=this,i=n.options,o={stroke:{color:i.color,width:i.line.width,dashType:i.line.dashType}},r=n.linePoints;for(Jt.fn.createVisual.call(this),e=0;r.length>e;e+=2){t=new Mn.Path(o).moveTo(r[e].x,r[e].y).lineTo(r[e+1].x,r[e+1].y),this.visual.append(t);}}}),De=Te.extend({getAxis:function getAxis(){var e=this,t=e.chart,n=e.series,i=t.seriesValueAxis(n);return i;}}),Ae=Te.extend({getAxis:function getAxis(){var e=this,t=e.chart,n=e.series,i=t.seriesAxes(n),o=e.isVertical?i.y:i.x;return o;}}),Ee=Jt.extend({init:function init(e,t){var n=this;Jt.fn.init.call(n),n.value=e,n.options=t,n.aboveAxis=In(n.options.aboveAxis,!0),n.tooltipTracking=!0;},defaults:{vertical:!0,markers:{visible:!0,background:lr,size:qi,type:ei,border:{width:2},opacity:1},labels:{visible:!1,position:zn,margin:vn(3),padding:vn(4),animation:{type:Ai,delay:Bi}},notes:{label:{}},highlight:{markers:{border:{}}}},render:function render(){var e,t=this,n=t.options,i=n.markers,o=n.labels,r=t.value;t._rendered||(t._rendered=!0,i.visible&&i.size&&(t.marker=t.createMarker(),t.append(t.marker)),o.visible&&(o.template?(e=Gt(o.template),r=e({dataItem:t.dataItem,category:t.category,value:t.value,percentage:t.percentage,series:t.series})):o.format&&(r=t.formatValue(o.format)),t.label=new un(r,Wt({align:Jn,vAlign:Jn,margin:{left:5,right:5},zIndex:In(o.zIndex,this.series.zIndex)},o)),t.append(t.label)),t.createNote(),t.errorBar&&t.append(t.errorBar));},markerBorder:function markerBorder(){var e=this.options.markers,t=e.background,n=Wt({color:this.color},e.border);return Cn(n.color)||(n.color=new Zt(t).brightness(Un).toHex()),n;},createVisual:zt,createMarker:function createMarker(){var e=this.options.markers,t=new cn({type:e.type,width:e.size,height:e.size,rotation:e.rotation,background:e.background,border:this.markerBorder(),opacity:e.opacity,zIndex:In(e.zIndex,this.series.zIndex),animation:e.animation,visual:e.visual},{dataItem:this.dataItem,value:this.value,series:this.series,category:this.category});return t;},markerBox:function markerBox(){return this.marker||(this.marker=this.createMarker(),this.marker.reflow(this._childBox)),this.marker.box;},reflow:function reflow(e){var t,n,i,o,r=this,a=r.options,s=a.vertical,l=r.aboveAxis;if(r.render(),r.box=e,t=e.clone(),s?l?t.y1-=t.height():t.y2+=t.height():l?t.x1+=t.width():t.x2-=t.width(),r._childBox=t,r.marker&&r.marker.reflow(t),r.reflowLabel(t),r.errorBars)for(i=0;r.errorBars.length>i;i++){r.errorBars[i].reflow(t);}r.note&&(o=r.markerBox(),a.markers.visible&&a.markers.size||(n=o.center(),o=Qt(n.x,n.y,n.x,n.y)),r.note.reflow(o));},reflowLabel:function reflowLabel(e){var t=this,n=t.options,i=t.label,o=n.labels.position;i&&(o=o===zn?Ko:o,o=o===Wn?Gn:o,i.reflow(e),i.box.alignTo(t.markerBox(),o),i.reflow(i.box));},createHighlight:function createHighlight(){var e=this.options.highlight,t=e.markers,n=this.markerBorder().color,i=this.options.markers,o=new cn({type:i.type,width:i.size,height:i.size,rotation:i.rotation,background:t.color||n,border:{color:t.border.color,width:t.border.width,opacity:In(t.border.opacity,1)},opacity:In(t.opacity,1)});return o.reflow(this._childBox),o.getElement();},highlightVisual:function highlightVisual(){return(this.marker||{}).visual;},highlightVisualArgs:function highlightVisualArgs(){var e,t,n,i,o,r=this.marker;return r?(t=r.paddingBox.toRect(),e=r.visual):(n=this.options.markers.size,i=n/2,o=this.box.center(),t=new Fn.Rect([o.x-i,o.y-i],[n,n])),{options:this.options,rect:t,visual:e};},tooltipAnchor:function tooltipAnchor(e,n){var i=this,o=i.markerBox(),r=i.aboveAxis,a=o.x2+Xo,s=r?o.y1-n:o.y2,l=i.owner.pane.clipBox(),c=!l||l.overlaps(o);return c?an(a,s):t;},formatValue:function formatValue(e){var t=this;return t.owner.formatPointValue(t,e);},overlapsBox:function overlapsBox(e){var t=this.markerBox();return t.overlaps(e);}}),Wt(Ee.fn,fe),Wt(Ee.fn,pe),Re=Ee.extend({init:function init(e,t){var n=this;Ee.fn.init.call(n,e,t),n.category=e.category;},defaults:{labels:{position:Jn},highlight:{opacity:1,border:{width:1,opacity:1}}},createHighlight:function createHighlight(){var e=this.options.highlight,t=e.border,n=this.options.markers,i=this.box.center(),o=n.size/2-t.width/2,r=new Mn.Circle(new Fn.Circle([i.x,i.y],o),{stroke:{color:t.color||new Zt(n.background).brightness(Un).toHex(),width:t.width,opacity:t.opacity},fill:{color:n.background,opacity:e.opacity}});return r;}}),Ie=Jt.extend({init:function init(e,t,n){var i=this;Jt.fn.init.call(i),i.linePoints=e,i.series=t,i.seriesIx=n;},options:{closed:!1},points:function points(e){var t,n,i=this,o=i.linePoints.concat(e||[]),r=[];for(t=0,n=o.length;n>t;t++){o[t].visible!==!1&&r.push(o[t]._childBox.toRect().center());}return r;},createVisual:function createVisual(){var e,t=this.options,n=this.series,i=n._defaults,o=n.color;qt(o)&&i&&(o=i.color),e=Mn.Path.fromPoints(this.points(),{stroke:{color:o,width:n.width,opacity:n.opacity,dashType:n.dashType},zIndex:n.zIndex}),t.closed&&e.close(),this.visual=e;},aliasFor:function aliasFor(e,t){var n=this,i=n.seriesIx;return n.parent.getNearestPoint(t.x,t.y,i);}}),Fe={renderSegments:function renderSegments(){var e,t,n,i,o,r,a,s,l=this,c=l.options,d=c.series,u=l.seriesPoints,h=u.length;for(this._segments=[],t=0;h>t;t++){for(e=d[t],n=l.sortPoints(u[t]),a=n.length,i=[],r=0;a>r;r++){o=n[r],o?i.push(o):l.seriesMissingValues(e)!==Ni&&(i.length>1&&(s=l.createSegment(i,e,t,s),this._addSegment(s)),i=[]);}i.length>1&&(s=l.createSegment(i,e,t,s),this._addSegment(s));}this.children.unshift.apply(this.children,this._segments);},_addSegment:function _addSegment(e){this._segments.push(e),e.parent=this;},sortPoints:function sortPoints(e){return e;},seriesMissingValues:function seriesMissingValues(e){var t=e.missingValues,n=!t&&this.options.isStacked;return n?hr:t||Ni;},getNearestPoint:function getNearestPoint(e,t,n){var i,o,r,a,s,l=new an(e,t),c=this.seriesPoints[n],d=Qi;for(o=0;c.length>o;o++){r=c[o],r&&Cn(r.value)&&null!==r.value&&r.visible!==!1&&(a=r.box,s=a.center().distanceTo(l),d>s&&(i=r,d=s));}return i;}},Me={createAnimation:function createAnimation(){var e,t,n=this.getRoot();n&&(n.options||{}).transitions!==!1&&(e=n.box,t=Mn.Path.fromRect(e.toRect()),this.visual.clip(t),this.animation=new ze(t,{box:e}),$(this.options.series)&&this._setChildrenAnimation(t));},_setChildrenAnimation:function _setChildrenAnimation(e){var t,n,i=this.animationPoints();for(n=0;i.length>n;n++){t=i[n],t&&t.visual&&Cn(t.visual.options.zIndex)&&t.visual.clip(e);}}},Pe=be.extend({render:function render(){var e=this;be.fn.render.apply(e),e.updateStackRange(),e.renderSegments();},pointType:function pointType(){return Ee;},createPoint:function createPoint(e,t){var n,i,o,r=this,a=t.categoryIx,s=t.category,l=t.series,c=t.seriesIx,d=e.valueFields.value,u=r.seriesMissingValues(l);if(!Cn(d)||null===d){if(u!==hr)return null;d=0;}return i=this.pointOptions(l,c),i=r.evalPointOptions(i,d,s,a,l,c),o=e.fields.color||l.color,Ht.isFunction(l.color)&&(o=i.color),n=new Ee(d,i),n.color=o,r.append(n),n;},plotRange:function plotRange(e){var t,n,i,o,r=this.plotValue(e);if(this.options.isStacked)for(t=e.categoryIx,n=this.categoryPoints[t],i=0;n.length>i&&(o=n[i],e!==o);i++){r+=this.plotValue(o),this.options.isStacked100&&(r=Pt.min(r,1));}return[r,r];},createSegment:function createSegment(e,t,n){var i,o=t.style;return new(i=o===Po?Be:o===zo?Le:Ie)(e,t,n);},animationPoints:function animationPoints(){var e,t=this.points,n=[];for(e=0;t.length>e;e++){n.push((t[e]||{}).marker);}return n.concat(this._segments);}}),Wt(Pe.fn,Fe,Me),ze=Mn.Animation.extend({options:{duration:Bi},setup:function setup(){this._setEnd(this.options.box.x1);},step:function step(e){var t=this.options.box;this._setEnd(bn(t.x1,t.x2,e));},_setEnd:function _setEnd(e){var t=this.element,n=t.segments,i=n[1].anchor(),o=n[2].anchor();t.suspend(),i.setX(e),t.resume(),o.setX(e);}}),Mn.AnimationFactory.current.register(ni,ze),Be=Ie.extend({points:function points(e){var t,n=this;return t=n.calculateStepPoints(n.linePoints),e&&e.length&&(t=t.concat(n.calculateStepPoints(e).reverse())),t;},calculateStepPoints:function calculateStepPoints(e){var t,n,i,o,r,a=this,s=a.parent,l=s.plotArea,c=l.seriesCategoryAxis(a.series),d=s.seriesMissingValues(a.series)===Ni,u=e.length,h=c.options.reverse,f=c.options.vertical,p=h?2:1,m=h?1:2,g=[];for(i=1;u>i;i++){t=e[i-1],n=e[i],o=t.markerBox().center(),r=n.markerBox().center(),c.options.justified?(g.push(new Fn.Point(o.x,o.y)),g.push(f?new Fn.Point(o.x,r.y):new Fn.Point(r.x,o.y)),g.push(new Fn.Point(r.x,r.y))):f?(g.push(new Fn.Point(o.x,t.box[dr+p])),g.push(new Fn.Point(o.x,t.box[dr+m])),d&&g.push(new Fn.Point(o.x,n.box[dr+p])),g.push(new Fn.Point(r.x,n.box[dr+p])),g.push(new Fn.Point(r.x,n.box[dr+m]))):(g.push(new Fn.Point(t.box[cr+p],o.y)),g.push(new Fn.Point(t.box[cr+m],o.y)),d&&g.push(new Fn.Point(n.box[cr+p],o.y)),g.push(new Fn.Point(n.box[cr+p],r.y)),g.push(new Fn.Point(n.box[cr+m],r.y)));}return g||[];}}),Le=Ie.extend({createVisual:function createVisual(){var e,t,n,i=this.series,o=i._defaults,r=i.color;qt(r)&&o&&(r=o.color),e=new en(this.options.closed),t=e.process(this.points()),n=new Mn.Path({stroke:{color:r,width:i.width,opacity:i.opacity,dashType:i.dashType},zIndex:i.zIndex}),n.segments.push.apply(n.segments,t),this.visual=n;}}),He={points:function points(){var e,t,n=this,i=n.parent,o=i.plotArea,r=i.options.invertAxes,a=i.seriesValueAxis(n.series),s=a.lineBox(),l=o.seriesCategoryAxis(n.series),c=l.lineBox(),d=r?c.x1:c.y1,u=n.stackPoints,h=n._linePoints(u),f=r?cr:dr;return d=Tn(d,s[f+1],s[f+2]),!n.stackPoints&&h.length>1&&(e=h[0],t=Sn(h),r?(h.unshift(new Fn.Point(d,e.y)),h.push(new Fn.Point(d,t.y))):(h.unshift(new Fn.Point(e.x,d)),h.push(new Fn.Point(t.x,d)))),h;},createVisual:function createVisual(){var e=this.series,t=e._defaults,n=e.color;qt(n)&&t&&(n=t.color),this.visual=new Mn.Group({zIndex:e.zIndex}),this.createArea(n),this.createLine(n);},createLine:function createLine(e){var t,n=this.series,i=Wt({color:e,opacity:n.opacity},n.line);i.visible!==!1&&i.width>0&&(t=Mn.Path.fromPoints(this._linePoints(),{stroke:{color:i.color,width:i.width,opacity:i.opacity,dashType:i.dashType,lineCap:"butt"}}),this.visual.append(t));},createArea:function createArea(e){var t=this.series,n=Mn.Path.fromPoints(this.points(),{fill:{color:e,opacity:t.opacity},stroke:null});this.visual.append(n);}},Ne=Ie.extend({init:function init(e,t,n,i){var o=this;o.stackPoints=t,Ie.fn.init.call(o,e,n,i);},_linePoints:Ie.fn.points}),Wt(Ne.fn,He),Oe=Pe.extend({createSegment:function createSegment(e,t,n,i){var o,r,a,s=this,l=s.options,c=l.isStacked,d=(t.line||{}).style;return c&&n>0&&i&&(a=this.seriesMissingValues(t),o="gap"!=a?i.linePoints:this._gapStackPoints(e,n,d),d!==Po&&(o=o.slice(0).reverse())),d===zo?new Ve(e,i,c,t,n):new(r=d===Po?Ue:Ne)(e,o,t,n);},reflow:function reflow(e){var t,n,i,o;if(Pe.fn.reflow.call(this,e),t=this._stackPoints)for(o=0;t.length>o;o++){n=t[o],i=this.categoryAxis.getSlot(n.categoryIx),n.reflow(i);}},_gapStackPoints:function _gapStackPoints(e,t,n){var i,o,r,a,s=this.seriesPoints,l=e[0].categoryIx,c=l+e.length,d=[];for(this._stackPoints=this._stackPoints||[],a=l;c>a;a++){i=t;do{i--,o=s[i][a];}while(i>0&&!o);o?(n!==Po&&a>l&&!s[i][a-1]&&d.push(this._previousSegmentPoint(a,a-1,i)),d.push(o),n!==Po&&c>a+1&&!s[i][a+1]&&d.push(this._previousSegmentPoint(a,a+1,i))):(r=this._createGapStackPoint(a),this._stackPoints.push(r),d.push(r));}return d;},_previousSegmentPoint:function _previousSegmentPoint(e,t,n){for(var i,o=this.seriesPoints;n>0&&!i;){n--,i=o[n][t];}return i?i=o[n][e]:(i=this._createGapStackPoint(e),this._stackPoints.push(i)),i;},_createGapStackPoint:function _createGapStackPoint(e){var t=this.pointOptions({},0),n=new Ee(0,t);return n.categoryIx=e,n.series={},n;},seriesMissingValues:function seriesMissingValues(e){return e.missingValues||hr;}}),Ve=Ne.extend({init:function init(e,t,n,i,o){var r=this;r.prevSegment=t,r.isStacked=n,Ie.fn.init.call(r,e,i,o);},strokeSegments:function strokeSegments(){var e,t,n=this._strokeSegments;return n||(e=new en(this.options.closed),t=Ie.fn.points.call(this),n=this._strokeSegments=e.process(t)),n;},createVisual:function createVisual(){var e=this.series,t=e._defaults,n=e.color;qt(n)&&t&&(n=t.color),this.visual=new Mn.Group({zIndex:e.zIndex}),this.createFill({fill:{color:n,opacity:e.opacity},stroke:null}),this.createStroke({stroke:Wt({color:n,opacity:e.opacity,lineCap:"butt"},e.line)});},createFill:function createFill(t){var n,i,o,r,a,s=this.strokeSegments(),l=s.slice(0),c=this.prevSegment;this.isStacked&&c&&(n=c.strokeSegments(),i=Sn(n).anchor(),l.push(new Mn.Segment(i,i,Sn(s).anchor())),o=e.map(n,function(e){return new Mn.Segment(e.anchor(),e.controlOut(),e.controlIn());}).reverse(),xn(l,o),r=l[0].anchor(),l.push(new Mn.Segment(r,r,Sn(o).anchor()))),a=new Mn.Path(t),a.segments.push.apply(a.segments,l),this.closeFill(a),this.visual.append(a);},closeFill:function closeFill(e){var t=this,n=t.parent,i=t.prevSegment,o=n.plotArea,r=n.options.invertAxes,a=n.seriesValueAxis(t.series),s=a.lineBox(),l=o.seriesCategoryAxis(t.series),c=l.lineBox(),d=r?c.x1:c.y1,u=r?cr:dr,h=t.strokeSegments(),f=h[0].anchor(),p=Sn(h).anchor();d=Tn(d,s[u+1],s[u+2]),n.options.isStacked&&i||!(h.length>1)||(r?e.lineTo(d,p.y).lineTo(d,f.y):e.lineTo(p.x,d).lineTo(f.x,d));},createStroke:function createStroke(e){if(e.stroke.width>0){var t=new Mn.Path(e);t.segments.push.apply(t.segments,this.strokeSegments()),this.visual.append(t);}}}),Ue=Be.extend({init:function init(e,t,n,i){var o=this;o.stackPoints=t,Be.fn.init.call(o,e,n,i);},_linePoints:Be.fn.points}),Wt(Ue.fn,He),We=Jt.extend({init:function init(e,t){var n=this;Jt.fn.init.call(n,t),n.plotArea=e,n.xAxisRanges={},n.yAxisRanges={},n.points=[],n.seriesPoints=[],n.seriesOptions=[],n._evalSeries=[],n.render();},options:{series:[],tooltip:{format:"{0}, {1}"},labels:{format:"{0}, {1}"},clip:!0},render:function render(){var e=this;e.traverseDataPoints(Lt(e.addValue,e));},addErrorBar:function addErrorBar(e,t,n){var i,o=this,r=e.value[t],a=t+"Value",s=t+"ErrorLow",l=t+"ErrorHigh",c=n.seriesIx,d=n.series,u=e.options.errorBars,h=n[s],f=n[l];F(r)&&(F(h)&&F(f)&&(i={low:h,high:f}),u&&Cn(u[a])&&(o.seriesErrorRanges=o.seriesErrorRanges||{x:[],y:[]},o.seriesErrorRanges[t][c]=o.seriesErrorRanges[t][c]||new _e(u[a],d,t),i=o.seriesErrorRanges[t][c].getErrorRange(r,u[a])),i&&o.addPointErrorBar(i,e,t));},addPointErrorBar:function addPointErrorBar(e,t,n){var i,o=this,r=e.low,a=e.high,s=t.series,l=n===dr,c=t.options.errorBars,d={};t[n+"Low"]=r,t[n+"High"]=a,t.errorBars=t.errorBars||[],i=new Ae(r,a,l,o,s,c),t.errorBars.push(i),t.append(i),d[n]=r,o.updateRange(d,s),d[n]=a,o.updateRange(d,s);},addValue:function addValue(e,t){var n,i=this,o=e.x,r=e.y,a=t.seriesIx,s=this.options.series[a],l=this.seriesMissingValues(s),c=i.seriesPoints[a];Q(o)&&Q(r)||(e=this.createMissingValue(e,l)),e&&(n=i.createPoint(e,t),n&&(Bt(n,t),i.addErrorBar(n,cr,t),i.addErrorBar(n,dr,t)),i.updateRange(e,t.series)),i.points.push(n),c.push(n);},seriesMissingValues:function seriesMissingValues(e){return e.missingValues;},createMissingValue:zt,updateRange:function updateRange(e,t){var n=this,i=e.x,o=e.y,r=t.xAxis,a=t.yAxis,s=n.xAxisRanges[r],l=n.yAxisRanges[a];Q(i)&&(s=n.xAxisRanges[r]=s||{min:Qi,max:Ji},(typeof i==="undefined"?"undefined":_typeof(i))===Ho&&(i=p(i)),s.min=Pt.min(s.min,i),s.max=Pt.max(s.max,i)),Q(o)&&(l=n.yAxisRanges[a]=l||{min:Qi,max:Ji},(typeof o==="undefined"?"undefined":_typeof(o))===Ho&&(o=p(o)),l.min=Pt.min(l.min,o),l.max=Pt.max(l.max,o));},evalPointOptions:function evalPointOptions(e,t,n){var i=n.series,o=n.seriesIx,r={defaults:i._defaults,excluded:["data","tooltip","tempate","visual","toggle","_outOfRangeMinPoint","_outOfRangeMaxPoint"]},a=this._evalSeries[o];return Cn(a)||(this._evalSeries[o]=a=B(e,{},r,!0)),a&&(e=Wt({},e),B(e,{value:t,series:i,dataItem:n.dataItem},r)),e;},pointType:function pointType(){return Ee;},pointOptions:function pointOptions(e,t){var n,i=this.seriesOptions[t];return i||(n=this.pointType().fn.defaults,this.seriesOptions[t]=i=Wt({},n,{markers:{opacity:e.opacity},tooltip:{format:this.options.tooltip.format},labels:{format:this.options.labels.format}},e)),i;},createPoint:function createPoint(e,t){var n,i=this,o=t.series,r=this.pointOptions(o,t.seriesIx),a=t.color||o.color;return r=i.evalPointOptions(r,e,t),Ht.isFunction(o.color)&&(a=r.color),n=new Ee(e,r),n.color=a,i.append(n),n;},seriesAxes:function seriesAxes(e){var t=this.plotArea,n=e.xAxis,i=n?t.namedXAxes[n]:t.axisX,o=e.yAxis,r=o?t.namedYAxes[o]:t.axisY;if(!i)throw Error("Unable to locate X axis with name "+n);if(!r)throw Error("Unable to locate Y axis with name "+o);return{x:i,y:r};},reflow:function reflow(e){var t,n,i=this,o=i.points,r=0,a=!i.options.clip;i.traverseDataPoints(function(e,s){t=o[r++],n=i.seriesAxes(s.series);var l,c=n.x.getSlot(e.x,e.x,a),d=n.y.getSlot(e.y,e.y,a);t&&(c&&d?(l=i.pointSlot(c,d),t.reflow(l)):t.visible=!1);}),i.box=e;},pointSlot:function pointSlot(e,t){return new Qt(e.x1,t.y1,e.x2,t.y2);},traverseDataPoints:function traverseDataPoints(e){var t,n,i,o,r,a,s,l=this,c=l.options,d=c.series,u=l.seriesPoints;for(n=0;d.length>n;n++){for(i=d[n],o=u[n],o||(u[n]=[]),t=0;i.data.length>t;t++){r=this._bindPoint(i,n,t),a=r.valueFields,s=r.fields,e(a,Wt({pointIx:t,series:i,seriesIx:n,dataItem:i.data[t],owner:l},s));}}},_bindPoint:be.fn._bindPoint,formatPointValue:function formatPointValue(e,t){var n=e.value;return pn(t,n.x,n.y);},animationPoints:function animationPoints(){var e,t=this.points,n=[];for(e=0;t.length>e;e++){n.push((t[e]||{}).marker);}return n;}}),Wt(We.fn,Me),je=We.extend({render:function render(){var e=this;We.fn.render.call(e),e.renderSegments();},createSegment:function createSegment(e,t,n){var i,o=t.style;return new(i=o===zo?Le:Ie)(e,t,n);},animationPoints:function animationPoints(){var e=We.fn.animationPoints.call(this);return e.concat(this._segments);},createMissingValue:function createMissingValue(e,t){if(t===hr){var n={x:e.x,y:e.y};return Q(n.x)||(n.x=0),Q(n.y)||(n.y=0),n;}}}),Wt(je.fn,Fe),qe=We.extend({init:function init(e,t){this._maxSize=Ji,We.fn.init.call(this,e,t);},options:{tooltip:{format:"{3}"},labels:{format:"{3}"}},addValue:function addValue(e,t){null!==e.size&&(e.size>0||0>e.size&&t.series.negativeValues.visible)?(this._maxSize=Pt.max(this._maxSize,Pt.abs(e.size)),We.fn.addValue.call(this,e,t)):(this.points.push(null),this.seriesPoints[t.seriesIx].push(null));},reflow:function reflow(e){var t=this;t.updateBubblesSize(e),We.fn.reflow.call(t,e);},pointType:function pointType(){return Re;},createPoint:function createPoint(e,t){var n,i,o=this,r=t.series,a=r.data.length,s=t.pointIx*(Bi/a),l={delay:s,duration:Bi-s,type:Yn},c=t.color||r.color;return 0>e.size&&r.negativeValues.visible&&(c=In(r.negativeValues.color,c)),i=Wt({labels:{animation:{delay:s,duration:Bi-s}}},this.pointOptions(r,t.seriesIx),{markers:{type:ei,border:r.border,opacity:r.opacity,animation:l}}),i=o.evalPointOptions(i,e,t),Ht.isFunction(r.color)&&(c=i.color),i.markers.background=c,n=new Re(e,i),n.color=c,o.append(n),n;},updateBubblesSize:function updateBubblesSize(e){var t,n,i,o,r,a,s,l,c,d,u,h,f,p,m,g,v,_=this,b=_.options,w=b.series,y=Pt.min(e.width(),e.height());for(t=0;w.length>t;t++){for(i=w[t],o=_.seriesPoints[t],r=i.minSize||Pt.max(.02*y,10),a=i.maxSize||.2*y,s=r/2,l=a/2,c=Pt.PI*s*s,d=Pt.PI*l*l,u=d-c,h=u/_._maxSize,n=0;o.length>n;n++){f=o[n],f&&(p=Pt.abs(f.value.size)*h,m=Pt.sqrt((c+p)/Pt.PI),g=In(f.options.zIndex,0),v=g+(1-m/l),Wt(f.options,{zIndex:v,markers:{size:2*m,zIndex:v},labels:{zIndex:v+1}}));}}},formatPointValue:function formatPointValue(e,t){var n=e.value;return pn(t,n.x,n.y,n.size,e.category);},createAnimation:zt,createVisual:zt}),Ge=Jt.extend({init:function init(e,t){Jt.fn.init.call(this,t),this.value=e;},options:{vertical:!0,border:{_brightness:.8},line:{width:2},overlay:{gradient:Fi},tooltip:{format:"<table style='text-align: left;'><th colspan='2'>{4:d}</th><tr><td>Open:</td><td>{0:C}</td></tr><tr><td>High:</td><td>{1:C}</td></tr><tr><td>Low:</td><td>{2:C}</td></tr><tr><td>Close:</td><td>{3:C}</td></tr></table>"},highlight:{opacity:1,border:{width:1,opacity:1},line:{width:1,opacity:1}},notes:{visible:!0,label:{}}},reflow:function reflow(e){var t,n,i,o=this,r=o.options,a=o.owner,s=o.value,l=a.seriesValueAxis(r),c=[];n=l.getSlot(s.open,s.close),i=l.getSlot(s.low,s.high),n.x1=i.x1=e.x1,n.x2=i.x2=e.x2,o.realBody=n,t=i.center().x,c.push([[t,i.y1],[t,n.y1]]),c.push([[t,n.y2],[t,i.y2]]),o.lines=c,o.box=i.clone().wrap(n),o._rendered||(o._rendered=!0,o.createNote()),o.reflowNote();},reflowNote:function reflowNote(){var e=this;e.note&&e.note.reflow(e.box);},createVisual:function createVisual(){Jt.fn.createVisual.call(this),this._mainVisual=this.mainVisual(this.options),this.visual.append(this._mainVisual),this.createOverlay();},mainVisual:function mainVisual(e){var t=new Mn.Group();return this.createBody(t,e),this.createLines(t,e),t;},createBody:function createBody(e,n){var i=Mn.Path.fromRect(this.realBody.toRect(),{fill:{color:this.color,opacity:n.opacity},stroke:null});n.border.width>0&&i.options.set("stroke",{color:this.getBorderColor(),width:n.border.width,dashType:n.border.dashType,opacity:In(n.border.opacity,n.opacity)}),fn(i),e.append(i),G(n)&&e.append(this.createGradientOverlay(i,{baseColor:this.color},Wt({end:n.vertical?t:[0,1]},n.overlay)));},createLines:function createLines(e,t){this.drawLines(e,t,this.lines,t.line);},drawLines:function drawLines(e,t,n,i){var o,r,a;if(n)for(o={stroke:{color:i.color||this.color,opacity:In(i.opacity,t.opacity),width:i.width,dashType:i.dashType,lineCap:"butt"}},r=0;n.length>r;r++){a=Mn.Path.fromPoints(n[r],o),fn(a),e.append(a);}},getBorderColor:function getBorderColor(){var e=this,t=e.options,n=t.border,i=n.color;return Cn(i)||(i=new Zt(e.color).brightness(n._brightness).toHex()),i;},createOverlay:function createOverlay(){var e=Mn.Path.fromRect(this.box.toRect(),{fill:{color:lr,opacity:0},stroke:null});this.visual.append(e);},createHighlight:function createHighlight(){var e,t=this.options.highlight,n=this.color;return this.color=t.color||this.color,e=this.mainVisual(Wt({},this.options,{line:{color:this.getBorderColor()}},t)),this.color=n,e;},highlightVisual:function highlightVisual(){return this._mainVisual;},highlightVisualArgs:function highlightVisualArgs(){return{options:this.options,rect:this.box.toRect(),visual:this._mainVisual};},tooltipAnchor:function tooltipAnchor(){var e=this,t=e.box,n=e.owner.pane.clipBox()||t;return new an(t.x2+Xo,Pt.max(t.y1,n.y1)+Xo);},formatValue:function formatValue(e){var t=this;return t.owner.formatPointValue(t,e);},overlapsBox:function overlapsBox(e){return this.box.overlaps(e);}}),Wt(Ge.fn,fe),Wt(Ge.fn,pe),$e=be.extend({options:{},reflowCategories:function reflowCategories(e){var t,n=this,i=n.children,o=i.length;for(t=0;o>t;t++){i[t].reflow(e[t]);}},addValue:function addValue(e,t){var n,i,o=this,r=t.categoryIx,a=t.category,s=t.series,l=t.seriesIx,c=o.options,d=e.valueFields,u=o.children,h=o.splitValue(d),f=P(h),p=o.categoryPoints[r],m=s.data[r];p||(o.categoryPoints[r]=p=[]),f&&(n=o.createPoint(e,t)),i=u[r],i||(i=new ue({vertical:c.invertAxes,gap:c.gap,spacing:c.spacing}),o.append(i)),n&&(o.updateRange(d,t),i.append(n),n.categoryIx=r,n.category=a,n.series=s,n.seriesIx=l,n.owner=o,n.dataItem=m,n.noteText=e.fields.noteText),o.points.push(n),p.push(n);},pointType:function pointType(){return Ge;},createPoint:function createPoint(e,t){var n,i=this,o=t.categoryIx,r=t.category,a=t.series,s=t.seriesIx,l=e.valueFields,c=Wt({},a),d=i.pointType(),u=e.fields.color||a.color;return c=i.evalPointOptions(c,l,r,o,a,s),a.type==Qn&&l.open>l.close&&(u=e.fields.downColor||a.downColor||a.color),Ht.isFunction(a.color)&&(u=c.color),c.vertical=!i.options.invertAxes,n=new d(l,c),n.color=u,n;},splitValue:function splitValue(e){return[e.low,e.open,e.close,e.high];},updateRange:function updateRange(e,t){var n=this,i=t.series.axis,o=n.valueAxisRanges[i],r=n.splitValue(e);o=n.valueAxisRanges[i]=o||{min:Qi,max:Ji},o=n.valueAxisRanges[i]={min:Pt.min.apply(Pt,r.concat([o.min])),max:Pt.max.apply(Pt,r.concat([o.max]))};},formatPointValue:function formatPointValue(e,t){var n=e.value;return pn(t,n.open,n.high,n.low,n.close,e.category);},animationPoints:function animationPoints(){return this.points;}}),Wt($e.fn,Me),Ye=Ge.extend({reflow:function reflow(e){var t,n,i,o,r=this,a=r.options,s=r.owner,l=r.value,c=s.seriesValueAxis(a),d=[],u=[],h=[];o=c.getSlot(l.low,l.high),n=c.getSlot(l.open,l.open),i=c.getSlot(l.close,l.close),n.x1=i.x1=o.x1=e.x1,n.x2=i.x2=o.x2=e.x2,t=o.center().x,d.push([n.x1,n.y1]),d.push([t,n.y1]),u.push([t,i.y1]),u.push([i.x2,i.y1]),h.push([t,o.y1]),h.push([t,o.y2]),r.lines=[d,u,h],r.box=o.clone().wrap(n.clone().wrap(i)),r.reflowNote();},createBody:e.noop}),Ke=$e.extend({pointType:function pointType(){return Ye;}}),Qe=$e.extend({addValue:function addValue(e,t){var n,i,o=this,r=t.categoryIx,a=t.category,s=t.series,l=t.seriesIx,c=o.options,d=o.children,u=e.valueFields,h=o.splitValue(u),f=P(h),p=o.categoryPoints[r],m=s.data[r];p||(o.categoryPoints[r]=p=[]),f&&(n=o.createPoint(e,t)),i=d[r],i||(i=new ue({vertical:c.invertAxes,gap:c.gap,spacing:c.spacing}),o.append(i)),n&&(o.updateRange(u,t),i.append(n),n.categoryIx=r,n.category=a,n.series=s,n.seriesIx=l,n.owner=o,n.dataItem=m),o.points.push(n),p.push(n);},pointType:function pointType(){return this.options.invertAxes?Je:Xe;},splitValue:function splitValue(e){return[e.lower,e.q1,e.median,e.q3,e.upper];},updateRange:function updateRange(e,t){var n=this,i=t.series.axis,o=n.valueAxisRanges[i],r=n.splitValue(e).concat(n.filterOutliers(e.outliers));Cn(e.mean)&&(r=r.concat(e.mean)),o=n.valueAxisRanges[i]=o||{min:Qi,max:Ji},o=n.valueAxisRanges[i]={min:Pt.min.apply(Pt,r.concat([o.min])),max:Pt.max.apply(Pt,r.concat([o.max]))};},formatPointValue:function formatPointValue(e,t){var n=e.value;return pn(t,n.lower,n.q1,n.median,n.q3,n.upper,n.mean,e.category);},filterOutliers:function filterOutliers(e){var t,n,i=(e||[]).length,o=[];for(t=0;i>t;t++){n=e[t],Cn(n)&&R(o,n);}return o;}}),Xe=Ge.extend({init:function init(e,t){var n=this;Jt.fn.init.call(n,t),n.value=e,n.createNote();},options:{border:{_brightness:.8},line:{width:2},mean:{width:2,dashType:"dash"},overlay:{gradient:Fi},tooltip:{format:"<table style='text-align: left;'><th colspan='2'>{6:d}</th><tr><td>Lower:</td><td>{0:C}</td></tr><tr><td>Q1:</td><td>{1:C}</td></tr><tr><td>Median:</td><td>{2:C}</td></tr><tr><td>Mean:</td><td>{5:C}</td></tr><tr><td>Q3:</td><td>{3:C}</td></tr><tr><td>Upper:</td><td>{4:C}</td></tr></table>"},highlight:{opacity:1,border:{width:1,opacity:1},line:{width:1,opacity:1}},notes:{visible:!0,label:{}},outliers:{visible:!0,size:qi,type:ai,background:lr,border:{width:2,opacity:1},opacity:0},extremes:{visible:!0,size:qi,type:ei,background:lr,border:{width:2,opacity:1},opacity:0}},reflow:function reflow(e){var t,n,i,o,r=this,a=r.options,s=r.owner,l=r.value,c=s.seriesValueAxis(a);r.boxSlot=n=c.getSlot(l.q1,l.q3),r.realBody=n,r.reflowBoxSlot(e),r.whiskerSlot=t=c.getSlot(l.lower,l.upper),r.reflowWhiskerSlot(e),i=c.getSlot(l.median),l.mean&&(o=c.getSlot(l.mean),r.meanPoints=r.calcMeanPoints(e,o)),r.whiskerPoints=r.calcWhiskerPoints(n,t),r.medianPoints=r.calcMedianPoints(e,i),r.box=t.clone().wrap(n),r.reflowNote();},reflowBoxSlot:function reflowBoxSlot(e){this.boxSlot.x1=e.x1,this.boxSlot.x2=e.x2;},reflowWhiskerSlot:function reflowWhiskerSlot(e){this.whiskerSlot.x1=e.x1,this.whiskerSlot.x2=e.x2;},calcMeanPoints:function calcMeanPoints(e,t){return[[[e.x1,t.y1],[e.x2,t.y1]]];},calcWhiskerPoints:function calcWhiskerPoints(e,t){var n=t.center().x;return[[[n-5,t.y1],[n+5,t.y1],[n,t.y1],[n,e.y1]],[[n-5,t.y2],[n+5,t.y2],[n,t.y2],[n,e.y2]]];},calcMedianPoints:function calcMedianPoints(e,t){return[[[e.x1,t.y1],[e.x2,t.y1]]];},renderOutliers:function renderOutliers(e){var t,n,i,o,r=this,a=e.markers||{},s=r.value,l=s.outliers||[],c=3*Pt.abs(s.q3-s.q1),d=[];for(o=0;l.length>o;o++){i=l[o],a=s.q3+c>i&&i>s.q1-c?e.outliers:e.extremes,t=Wt({},a.border),Cn(t.color)||(t.color=Cn(r.color)?r.color:new Zt(a.background).brightness(Un).toHex()),n=new cn({type:a.type,width:a.size,height:a.size,rotation:a.rotation,background:a.background,border:t,opacity:a.opacity}),n.value=i,d.push(n);}return this.reflowOutliers(d),d;},reflowOutliers:function reflowOutliers(e){var n,i,o,r=this.owner.seriesValueAxis(this.options),a=this.box.center();for(n=0;e.length>n;n++){i=e[n].value,o=r.getSlot(i),this.options.vertical?o.move(a.x):o.move(t,a.y),this.box=this.box.wrap(o),e[n].reflow(o);}},mainVisual:function mainVisual(e){var t,n,i=Ge.fn.mainVisual.call(this,e),o=this.renderOutliers(e);for(t=0;o.length>t;t++){n=o[t].getElement(),n&&i.append(n);}return i;},createLines:function createLines(e,t){this.drawLines(e,t,this.whiskerPoints,t.line),this.drawLines(e,t,this.medianPoints,t.median),this.drawLines(e,t,this.meanPoints,t.mean);},getBorderColor:function getBorderColor(){return this.color?this.color:Ge.getBorderColor.call(this);}}),Wt(Xe.fn,fe),Je=Xe.extend({reflowBoxSlot:function reflowBoxSlot(e){this.boxSlot.y1=e.y1,this.boxSlot.y2=e.y2;},reflowWhiskerSlot:function reflowWhiskerSlot(e){this.whiskerSlot.y1=e.y1,this.whiskerSlot.y2=e.y2;},calcMeanPoints:function calcMeanPoints(e,t){return[[[t.x1,e.y1],[t.x1,e.y2]]];},calcWhiskerPoints:function calcWhiskerPoints(e,t){var n=t.center().y;return[[[t.x1,n-5],[t.x1,n+5],[t.x1,n],[e.x1,n]],[[t.x2,n-5],[t.x2,n+5],[t.x2,n],[e.x2,n]]];},calcMedianPoints:function calcMedianPoints(e,t){return[[[t.x1,e.y1],[t.x1,e.y2]]];}}),Ze=Jt.extend({init:function init(e,t,n){var i=this;i.value=e,i.sector=t,Jt.fn.init.call(i,n);},options:{color:lr,overlay:{gradient:xo},border:{width:.5},labels:{visible:!1,distance:35,font:hi,margin:vn(.5),align:ei,zIndex:1,position:fo},animation:{type:po},highlight:{visible:!0,border:{width:1}},visible:!0},render:function render(){var e,t=this,n=t.options,i=n.labels,o=t.value;t._rendered||t.visible===!1||(t._rendered=!0,i.template?(e=Gt(i.template),o=e({dataItem:t.dataItem,category:t.category,value:t.value,series:t.series,percentage:t.percentage})):i.format&&(o=pn(i.format,o)),i.visible&&o&&(t.label=new un(o,Wt({},i,{align:Jn,vAlign:"",animation:{type:Ai,delay:t.animationDelay}})),t.append(t.label)));},reflow:function reflow(e){var t=this;t.render(),t.box=e,t.reflowLabel();},reflowLabel:function reflowLabel(){var e,t,n,i,o=this,r=o.sector.clone(),a=o.options,s=o.label,l=a.labels,c=l.distance,d=r.middle();s&&(i=s.box.height(),n=s.box.width(),l.position==Jn?(r.r=Pt.abs((r.r-i)/2)+i,e=r.point(d),s.reflow(Qt(e.x,e.y-i/2,e.x,e.y))):l.position==Hi?(r.r=r.r-i/2,e=r.point(d),s.reflow(Qt(e.x,e.y-i/2,e.x,e.y))):(e=r.clone().expand(c).point(d),e.x>=r.c.x?(t=e.x+n,s.orientation=ko):(t=e.x-n,s.orientation=Vi),s.reflow(Qt(t,e.y-i,e.x,e.y))));},createVisual:function createVisual(){var e,t,n=this,i=n.sector,o=n.options;Jt.fn.createVisual.call(this),n.value&&(o.visual?(e=(i.startAngle+180)%360,t=o.visual({category:n.category,dataItem:n.dataItem,value:n.value,series:n.series,percentage:n.percentage,center:new Fn.Point(i.c.x,i.c.y),radius:i.r,innerRadius:i.ir,startAngle:e,endAngle:e+i.angle,options:o,createVisual:function createVisual(){var e=new Mn.Group();return n.createSegmentVisual(e),e;}}),t&&n.visual.append(t)):n.createSegmentVisual(n.visual));},createSegmentVisual:function createSegmentVisual(e){var t,n=this,i=n.sector,o=n.options,r=o.border||{},a=r.width>0?{stroke:{color:r.color,width:r.width,opacity:r.opacity,dashType:r.dashType}}:{},s=o.color,l={color:s,opacity:o.opacity};t=n.createSegment(i,Wt({fill:l,stroke:{opacity:o.opacity},zIndex:o.zIndex},a)),e.append(t),G(o)&&e.append(this.createGradientOverlay(t,{baseColor:s,fallbackFill:l},Wt({center:[i.c.x,i.c.y],innerRadius:i.ir,radius:i.r,userSpace:!0},o.overlay)));},createSegment:function createSegment(e,t){return t.singleSegment?new Mn.Circle(new Fn.Circle(new Fn.Point(e.c.x,e.c.y),e.r),t):dn.current.createRing(e,t);},createAnimation:function createAnimation(){var e=this.options,t=this.sector.c;Wt(e,{animation:{center:[t.x,t.y],delay:this.animationDelay}}),Jt.fn.createAnimation.call(this);},createHighlight:function createHighlight(e){var t=this,n=t.options.highlight||{},i=n.border||{};return t.createSegment(t.sector,Wt({},e,{fill:{color:n.color,opacity:n.opacity},stroke:{opacity:i.opacity,width:i.width,color:i.color}}));},highlightVisual:function highlightVisual(){return this.visual.children[0];},highlightVisualArgs:function highlightVisualArgs(){var e=this.sector;return{options:this.options,radius:e.r,innerRadius:e.ir,center:new Fn.Point(e.c.x,e.c.y),startAngle:e.startAngle,endAngle:e.angle+e.startAngle,visual:this.visual};},tooltipAnchor:function tooltipAnchor(e,t){var n=this,i=n.sector.adjacentBox(Xo,e,t);return new an(i.x1,i.y1);},formatValue:function formatValue(e){var t=this;return t.owner.formatPointValue(t,e);}}),Wt(Ze.fn,fe),et={createLegendItem:function createLegendItem(e,t,n){var i,o,r,a,s,l=this,c=l.options.legend||{},d=c.labels||{},u=c.inactiveItems||{},h=u.labels||{};n&&n.visibleInLegend!==!1&&(s=n.visible!==!1,i=n.category||"",o=s?d.template:h.template||d.template,o&&(i=Gt(o)({text:i,series:n.series,dataItem:n.dataItem,percentage:n.percentage,value:e})),s?(a={},r=t.color):(a={color:h.color,font:h.font},r=(u.markers||{}).color),i&&l.legendItems.push({pointIndex:n.index,text:i,series:n.series,markerColor:r,labels:a}));}},tt=Jt.extend({init:function init(e,t){var n=this;Jt.fn.init.call(n,t),n.plotArea=e,n.points=[],n.legendItems=[],n.render();},options:{startAngle:90,connectors:{width:1,color:"#939393",padding:4},inactiveItems:{markers:{},labels:{}}},render:function render(){var e=this;e.traverseDataPoints(Lt(e.addValue,e));},traverseDataPoints:function traverseDataPoints(e){var t,n,i,o,r,a,s,l,c,d,u,h,f,p=this,m=p.options,g=p.plotArea.options.seriesColors||[],v=g.length,_=m.series,b=_.length,w=0;for(o=0;b>o;o++){for(t=_[o],a=t.data,u=q(t),s=360/u,h=Cn(t.startAngle)?t.startAngle:m.startAngle,o!=b-1&&t.labels.position==fo&&(t.labels.position=Jn),f=0;a.length>f;f++){n=ie.current.bindPoint(t,f),l=n.valueFields.value,c=Pt.abs(l),i=n.fields,r=c*s,d=1!=a.length&&!!i.explode,qt(t.color)||(t.color=i.color||g[f%v]),e(l,new ln(null,0,0,h,r),{owner:p,category:i.category||"",index:w,series:t,seriesIx:o,dataItem:a[f],percentage:0!==u?c/u:0,explode:d,visibleInLegend:i.visibleInLegend,visible:i.visible,zIndex:b-o,animationDelay:p.animationDelay(f,o,b)}),n.fields.visible!==!1&&(h+=r),w++;}w=0;}},evalSegmentOptions:function evalSegmentOptions(e,t,n){var i=n.series;B(e,{value:t,series:i,dataItem:n.dataItem,category:n.category,percentage:n.percentage},{defaults:i._defaults,excluded:["data","template","visual","toggle"]});},addValue:function addValue(e,t,n){var i,o=this,r=Wt({},n.series,{index:n.index});o.evalSegmentOptions(r,e,n),o.createLegendItem(e,r,n),n.visible!==!1&&(i=new Ze(e,t,r),Bt(i,n),o.append(i),o.points.push(i));},reflow:function reflow(e){var t,n,i,o,r,a,s,l,c=this,d=c.options,u=e.clone(),h=5,f=Pt.min(u.width(),u.height()),p=f/2,m=f-.85*f,g=In(d.padding,m),v=Qt(u.x1,u.y1,u.x1+f,u.y1+f),_=v.center(),b=c.seriesConfigs||[],w=u.center(),y=c.points,k=y.length,x=d.series.length,C=[],S=[];for(g=g>p-h?p-h:g,v.translate(w.x-_.x,w.y-_.y),a=p-g,l=an(a+v.x1+g,a+v.y1+g),s=0;k>s;s++){o=y[s],r=o.sector,r.r=a,r.c=l,n=o.seriesIx,b.length&&(t=b[n],r.ir=t.ir,r.r=t.r),n==x-1&&o.explode&&(r.c=r.clone().radius(.15*r.r).point(r.middle())),o.reflow(v),i=o.label,i&&i.options.position===fo&&n==x-1&&(i.orientation===ko?S.push(i):C.push(i));}C.length>0&&(C.sort(c.labelComparator(!0)),c.leftLabelsReflow(C)),S.length>0&&(S.sort(c.labelComparator(!1)),c.rightLabelsReflow(S)),c.box=v;},leftLabelsReflow:function leftLabelsReflow(e){var t=this,n=t.distanceBetweenLabels(e);t.distributeLabels(n,e);},rightLabelsReflow:function rightLabelsReflow(e){var t=this,n=t.distanceBetweenLabels(e);t.distributeLabels(n,e);},distanceBetweenLabels:function distanceBetweenLabels(e){var t,n,i,o=this,r=o.points,a=r[r.length-1],s=a.sector,l=e[0].box,c=e.length-1,d=s.r+a.options.labels.distance,u=[];for(n=yn(l.y1-(s.c.y-d-l.height()-l.height()/2)),u.push(n),i=0;c>i;i++){l=e[i].box,t=e[i+1].box,n=yn(t.y1-l.y2),u.push(n);}return n=yn(s.c.y+d-e[c].box.y2-e[c].box.height()/2),u.push(n),u;},distributeLabels:function distributeLabels(e,t){var n,i,o,r,a=this,s=e.length;for(r=0;s>r;r++){for(i=o=r,n=-e[r];n>0&&(i>=0||s>o);){n=a._takeDistance(e,r,--i,n),n=a._takeDistance(e,r,++o,n);}}a.reflowLabels(e,t);},_takeDistance:function _takeDistance(e,t,n,i){if(e[n]>0){var o=Pt.min(e[n],i);i-=o,e[n]-=o,e[t]+=o;}return i;},reflowLabels:function reflowLabels(e,t){var n,i,o,r,a=this,s=a.points,l=s[s.length-1],c=l.sector,d=t.length,u=l.options.labels,h=u.distance,f=c.c.y-(c.r+h)-t[0].box.height();for(e[0]+=2,r=0;d>r;r++){n=t[r],f+=e[r],o=n.box,i=a.hAlignLabel(o.x2,c.clone().expand(h),f,f+o.height(),n.orientation==ko),n.orientation==ko?(u.align!==ei&&(i=c.r+c.c.x+h),n.reflow(Qt(i+o.width(),f,i,f))):(u.align!==ei&&(i=c.c.x-c.r-h),n.reflow(Qt(i-o.width(),f,i,f))),f+=o.height();}},createVisual:function createVisual(){var e,t,n,i,r,a,s,l,c,d,u,h,f,p,m=this,g=m.options,v=g.connectors,_=m.points,b=_.length,w=4;for(Jt.fn.createVisual.call(this),this._connectorLines=[],s=0;b>s;s++){i=_[s],t=i.sector,n=t.middle(),a=i.label,r={seriesId:i.seriesIx},a&&(e=new Mn.Path({stroke:{color:v.color,width:v.width},animation:{type:Ai,delay:i.animationDelay}}),a.options.position===fo&&0!==i.value&&(l=a.box,c=t.c,d=t.point(n),u=an(l.x1,l.center().y),d=t.clone().expand(v.padding).point(n),e.moveTo(d.x,d.y),a.orientation==ko?(f=an(l.x1-v.padding,l.center().y),p=o(c,d,u,f),u=an(f.x-w,f.y),p=p||u,p.x=Pt.min(p.x,u.x),m.pointInCircle(p,t.c,t.r+w)||t.c.x>p.x?(h=t.c.x+t.r+w,i.options.labels.align!==oi?u.x>h?e.lineTo(h,d.y):e.lineTo(d.x+2*w,d.y):e.lineTo(h,d.y),e.lineTo(u.x,f.y)):(p.y=f.y,e.lineTo(p.x,p.y))):(f=an(l.x2+v.padding,l.center().y),p=o(c,d,u,f),u=an(f.x+w,f.y),p=p||u,p.x=Pt.max(p.x,u.x),m.pointInCircle(p,t.c,t.r+w)||p.x>t.c.x?(h=t.c.x-t.r-w,i.options.labels.align!==oi?h>u.x?e.lineTo(h,d.y):e.lineTo(d.x-2*w,d.y):e.lineTo(h,d.y),e.lineTo(u.x,f.y)):(p.y=f.y,e.lineTo(p.x,p.y))),e.lineTo(f.x,f.y),this._connectorLines.push(e),this.visual.append(e)));}},labelComparator:function labelComparator(e){return e=e?-1:1,function(t,n){return t=(t.parent.sector.middle()+270)%360,n=(n.parent.sector.middle()+270)%360,(t-n)*e;};},hAlignLabel:function hAlignLabel(e,t,n,i,o){var r=t.c.x,a=t.c.y,s=t.r,l=Pt.min(Pt.abs(a-n),Pt.abs(a-i));return l>s?e:r+Pt.sqrt(s*s-l*l)*(o?1:-1);},pointInCircle:function pointInCircle(e,t,n){return u(t.x-e.x)+u(t.y-e.y)<u(n);},formatPointValue:function formatPointValue(e,t){return pn(t,e.value);},animationDelay:function animationDelay(e){return e*mo;}}),Wt(tt.fn,et),nt=Ze.extend({options:{overlay:{gradient:Co},labels:{position:Jn},animation:{type:po}},reflowLabel:function reflowLabel(){var e,t,n=this,i=n.sector.clone(),o=n.options,r=n.label,a=o.labels,s=i.middle();r&&(t=r.box.height(),a.position==Jn?(i.r-=(i.r-i.ir)/2,e=i.point(s),r.reflow(new Qt(e.x,e.y-t/2,e.x,e.y))):Ze.fn.reflowLabel.call(n));},createSegment:function createSegment(e,t){return dn.current.createRing(e,t);}}),Wt(nt.fn,fe),it=tt.extend({options:{startAngle:90,connectors:{width:1,color:"#939393",padding:4}},addValue:function addValue(e,t,n){var i,o=this,r=Wt({},n.series,{index:n.index});o.evalSegmentOptions(r,e,n),o.createLegendItem(e,r,n),e&&n.visible!==!1&&(i=new nt(e,t,r),Bt(i,n),o.append(i),o.points.push(i));},reflow:function reflow(e){var t,n,i,o,r,a,s=this,l=s.options,c=e.clone(),d=5,u=Pt.min(c.width(),c.height()),h=u/2,f=u-.85*u,p=In(l.padding,f),m=l.series,g=m.length,v=0,_=0,b=0,w=0;for(s.seriesConfigs=[],p=p>h-d?h-d:p,i=h-p,r=0;g>r;r++){t=m[r],0===r&&Cn(t.holeSize)&&(n=t.holeSize,i-=t.holeSize),Cn(t.size)?i-=t.size:v++,Cn(t.margin)&&r!=g-1&&(i-=t.margin);}for(Cn(n)||(w=(h-p)/(g+.75),n=.75*w,i-=n),b=n,r=0;g>r;r++){t=m[r],o=In(t.size,i/v),b+=_,a=b+o,s.seriesConfigs.push({ir:b,r:a}),_=t.margin||0,b=a;}tt.fn.reflow.call(s,e);},animationDelay:function animationDelay(e,t,n){return e*_i+Bi*(t+1)/(n+1);}}),ot=we.extend({render:function render(){we.fn.render.call(this),this.createSegments();},traverseDataPoints:function traverseDataPoints(e){var t,n,i,o,r,a,s,l,c,u,h=this.options.series,f=this.categoryAxis.options.categories||[],p=d(h),m=!this.options.invertAxes;for(t=0;h.length>t;t++){for(n=h[t],i=0,o=0,r=0;p>r;r++){a=ie.current.bindPoint(n,r),s=a.valueFields.value,l=a.fields.summary,c=i,l?"total"===l.toLowerCase()?(a.valueFields.value=i,c=0,u=i):(a.valueFields.value=o,u=c-o,o=0):F(s)&&(o+=s,i+=s,u=i),e(a,{category:f[r],categoryIx:r,series:n,seriesIx:t,total:i,runningTotal:o,from:c,to:u,isVertical:m});}}},updateRange:function updateRange(e,t){we.fn.updateRange.call(this,{value:t.to},t);},aboveAxis:function aboveAxis(e){return e.value>=0;},plotRange:function plotRange(e){return[e.from,e.to];},createSegments:function createSegments(){var e,t,n,i,o,r,a,s=this.options.series,l=this.seriesPoints,c=this.segments=[];for(e=0;s.length>e;e++){if(t=s[e],n=l[e])for(o=0;n.length>o;o++){r=n[o],r&&i&&(a=new rt(i,r,t),c.push(a),this.append(a)),i=r;}}}}),rt=Jt.extend({init:function init(e,t,n){var i=this;Jt.fn.init.call(i),i.from=e,i.to=t,i.series=n;},options:{animation:{type:Ai,delay:Bi}},linePoints:function linePoints(){var e,t,n=[],i=this.from,o=i.box,r=this.to.box;return i.isVertical?(e=i.aboveAxis?o.y1:o.y2,n.push([o.x1,e],[r.x2,e])):(t=i.aboveAxis?o.x2:o.x1,n.push([t,o.y1],[t,r.y2])),n;},createVisual:function createVisual(){var e,t;Jt.fn.createVisual.call(this),e=this.series.line||{},t=Mn.Path.fromPoints(this.linePoints(),{stroke:{color:e.color,width:e.width,opacity:e.opacity,dashType:e.dashType}}),fn(t),this.visual.append(t);}}),at=Xt.extend({init:function init(e){var t=this;Xt.fn.init.call(t,e),e=t.options,t.id=Ht.guid(),t.createTitle(),t.content=new Jt(),t.chartContainer=new st({},t),t.append(t.content),t.axes=[],t.charts=[];},options:{zIndex:-1,shrinkToFit:!0,title:{align:Vi},visible:!0},createTitle:function createTitle(){var e=this,t=e.options.title;(typeof t==="undefined"?"undefined":_typeof(t))===uo&&(t=Wt({},t,{align:t.position,position:Ko})),e.title=hn.buildTitle(t,e,at.fn.options.title);},appendAxis:function appendAxis(e){var t=this;t.content.append(e),t.axes.push(e),e.pane=t;},appendChart:function appendChart(e){var t=this;t.chartContainer.parent!==t.content&&t.content.append(t.chartContainer),t.charts.push(e),t.chartContainer.append(e),e.pane=t;},empty:function empty(){var e,t=this,n=t.parent;if(n){for(e=0;t.axes.length>e;e++){n.removeAxis(t.axes[e]);}for(e=0;t.charts.length>e;e++){n.removeChart(t.charts[e]);}}t.axes=[],t.charts=[],t.content.destroy(),t.content.children=[],t.chartContainer.children=[];},reflow:function reflow(e){var t,n=this;Sn(n.children)===n.content&&(t=n.children.pop()),Xt.fn.reflow.call(n,e),t&&n.children.push(t),n.title&&(n.contentBox.y1+=n.title.box.height());},visualStyle:function visualStyle(){var e=Xt.fn.visualStyle.call(this);return e.zIndex=-10,e;},renderComplete:function renderComplete(){this.options.visible&&this.createGridLines();},stackRoot:n,clipRoot:n,createGridLines:function createGridLines(){var e,t,n,i,o,r,a=this,s=a.axes,l=s.concat(a.parent.axes),c=[],d=[];for(t=0;s.length>t;t++){for(i=s[t],o=i.options.vertical,e=o?c:d,n=0;l.length>n;n++){0===e.length&&(r=l[n],o!==r.options.vertical&&xn(e,i.createGridLines(r)));}}},refresh:function refresh(){this.visual.clear(),this.content.parent=null,this.content.createGradient=e.proxy(this.createGradient,this),this.content.renderVisual(),this.content.parent=this,this.title&&this.visual.append(this.title.visual),this.visual.append(this.content.visual),this.renderComplete();},clipBox:function clipBox(){return this.chartContainer.clipBox;}}),st=Jt.extend({init:function init(e,t){var n=this;Jt.fn.init.call(n,e),n.pane=t;},shouldClip:function shouldClip(){var e,t=this,n=t.children,i=n.length;for(e=0;i>e;e++){if(n[e].options.clip===!0)return!0;}return!1;},_clipBox:function _clipBox(){var e,t,n,i,o=this,r=o.pane,a=r.axes,s=a.length,l=r.box.clone();for(t=0;s>t;t++){i=a[t],e=i.options.vertical?dr:cr,n=i.lineBox(),l[e+1]=n[e+1],l[e+2]=n[e+2];}return l;},createVisual:function createVisual(){var e,t,n;this.visual=new Mn.Group({zIndex:0}),this.shouldClip()&&(e=this.clipBox=this._clipBox(),t=e.toRect(),n=Mn.Path.fromRect(t),this.visual.clip(n),this.unclipLabels());},stackRoot:n,unclipLabels:function unclipLabels(){var e,t,n,i,o,r,a,s=this,l=s.children,c=s.clipBox;for(n=0;l.length>n;n++){for(e=l[n].points||{},o=e.length,i=0;o>i;i++){t=e[i],t&&t.overlapsBox&&t.overlapsBox(c)&&(r=t.label,a=t.note,r&&r.options.visible&&(r.alignToClipBox&&r.alignToClipBox(c),r.options.noclip=!0),a&&a.options.visible&&(a.options.noclip=!0));}}},destroy:function destroy(){Jt.fn.destroy.call(this),delete this.parent;}}),lt=Jt.extend({init:function init(e,t){var n=this;Jt.fn.init.call(n,t),n.series=e,n.initSeries(),n.charts=[],n.options.legend.items=[],n.axes=[],n.crosshairs=[],n.createPanes(),n.render(),n.createCrosshairs();},options:{series:[],plotArea:{margin:{}},background:"",border:{color:jn,width:0},legend:{inactiveItems:{labels:{color:"#919191"},markers:{color:"#919191"}}}},initSeries:function initSeries(){var e,t,n=this.series;for(e=0;n.length>e;e++){t=n[e],t.index=e;}},createPanes:function createPanes(){function e(e,t){"string"==typeof e.title&&(e.title={text:e.title}),e.title=Wt({},t.title,e.title);}var t,n,i,o=this,r={title:{color:(o.options.title||{}).color}},a=[],s=o.options.panes||[],l=Pt.max(s.length,1);for(t=0;l>t;t++){i=s[t]||{},e(i,r),n=new at(i),n.paneIndex=t,a.push(n),o.append(n);}o.panes=a;},createCrosshairs:function createCrosshairs(e){var t,n,i,o,r,a=this;for(e=e||a.panes,t=0;e.length>t;t++){for(i=e[t],n=0;i.axes.length>n;n++){o=i.axes[n],o.options.crosshair&&o.options.crosshair.visible&&(r=new yt(o,o.options.crosshair),a.crosshairs.push(r),i.content.append(r));}}},removeCrosshairs:function removeCrosshairs(e){var t,n,i=this,o=i.crosshairs,r=e.axes;for(t=o.length-1;t>=0;t--){for(n=0;r.length>n;n++){if(o[t].axis===r[n]){o.splice(t,1);break;}}}},hideCrosshairs:function hideCrosshairs(){var e,t=this.crosshairs;for(e=0;t.length>e;e++){t[e].hide();}},findPane:function findPane(e){var t,n,i=this,o=i.panes;for(t=0;o.length>t;t++){if(o[t].options.name===e){n=o[t];break;}}return n||o[0];},findPointPane:function findPointPane(e){var t,n,i=this,o=i.panes;for(t=0;o.length>t;t++){if(o[t].box.containsPoint(e)){n=o[t];break;}}return n;},appendAxis:function appendAxis(e){var t=this,n=t.findPane(e.options.pane);n.appendAxis(e),t.axes.push(e),e.plotArea=t;},removeAxis:function removeAxis(e){var t,n,i=this,o=[];for(t=0;i.axes.length>t;t++){n=i.axes[t],e!==n?o.push(n):n.destroy();}i.axes=o;},appendChart:function appendChart(e,t){var n=this;n.charts.push(e),t?t.appendChart(e):n.append(e);},removeChart:function removeChart(e){var t,n,i=this,o=[];for(t=0;i.charts.length>t;t++){n=i.charts[t],n!==e?o.push(n):n.destroy();}i.charts=o;},addToLegend:function addToLegend(e){var t,n,i,o,r,a,s,l,c,d=e.length,u=[],h=this.options.legend,f=h.labels||{},p=h.inactiveItems||{},m=p.labels||{};for(t=0;d>t;t++){n=e[t],l=n.visible!==!1,n.visibleInLegend!==!1&&(i=n.name||"",c=l?f.template:m.template||f.template,c&&(i=Gt(c)({text:i,series:n})),o=n.color,s=n._defaults,qt(o)&&s&&(o=s.color),l?(r={},a=o):(r={color:m.color,font:m.font},a=p.markers.color),i&&u.push({text:i,labels:r,markerColor:a,series:n,active:l}));}xn(h.items,u);},groupAxes:function groupAxes(e){var t,n,i,o,r=[],a=[];for(i=0;e.length>i;i++){for(t=e[i].axes,o=0;t.length>o;o++){n=t[o],n.options.vertical?a.push(n):r.push(n);}}return{x:r,y:a,any:r.concat(a)};},groupSeriesByPane:function groupSeriesByPane(){var e,t,n,i=this,o=i.series,r={};for(e=0;o.length>e;e++){n=o[e],t=i.seriesPaneName(n),r[t]?r[t].push(n):r[t]=[n];}return r;},filterVisibleSeries:function filterVisibleSeries(e){var t,n,i=[];for(t=0;e.length>t;t++){n=e[t],n.visible!==!1&&i.push(n);}return i;},reflow:function reflow(e){var t=this,n=t.options.plotArea,i=t.panes,o=vn(n.margin);t.box=e.clone().unpad(o),t.reflowPanes(),t.reflowAxes(i),t.reflowCharts(i);},redraw:function redraw(e){var t,n=this;for(e=[].concat(e),this.initSeries(),t=0;e.length>t;t++){n.removeCrosshairs(e[t]),e[t].empty();}for(n.render(e),n.reflowAxes(n.panes),n.reflowCharts(e),n.createCrosshairs(e),t=0;e.length>t;t++){e[t].refresh();}},axisCrossingValues:function axisCrossingValues(e,t){var n,i=e.options,o=[].concat(i.axisCrossingValues||i.axisCrossingValue),r=t.length-o.length,a=o[0]||0;for(n=0;r>n;n++){o.push(a);}return o;},alignAxisTo:function alignAxisTo(e,t,n,i){var o=e.getSlot(n,n,!0),r=e.options.reverse?2:1,a=t.getSlot(i,i,!0),s=t.options.reverse?2:1,l=e.box.translate(a[cr+s]-o[cr+r],a[dr+s]-o[dr+r]);e.pane!==t.pane&&l.translate(0,e.pane.box.y1-t.pane.box.y1),e.reflow(l);},alignAxes:function alignAxes(e,t){var n,i,o,r,a=this,s=e[0],l=t[0],c=a.axisCrossingValues(s,t),d=a.axisCrossingValues(l,e),u={},h={},f={},p={};for(r=0;t.length>r;r++){o=t[r],n=o.pane,i=n.id,a.alignAxisTo(o,s,d[r],c[r]),o.options._overlap||(yn(o.lineBox().x1)===yn(s.lineBox().x1)&&(u[i]&&o.reflow(o.box.alignTo(u[i].box,Vi).translate(-o.options.margin,0)),u[i]=o),yn(o.lineBox().x2)===yn(s.lineBox().x2)&&(o._mirrored||(o.options.labels.mirror=!o.options.labels.mirror,o._mirrored=!0),a.alignAxisTo(o,s,d[r],c[r]),h[i]&&o.reflow(o.box.alignTo(h[i].box,ko).translate(o.options.margin,0)),h[i]=o),0!==r&&l.pane===o.pane&&(o.alignTo(l),o.reflow(o.box)));}for(r=0;e.length>r;r++){o=e[r],n=o.pane,i=n.id,a.alignAxisTo(o,l,c[r],d[r]),o.options._overlap||(yn(o.lineBox().y1)===yn(l.lineBox().y1)&&(o._mirrored||(o.options.labels.mirror=!o.options.labels.mirror,o._mirrored=!0),a.alignAxisTo(o,l,c[r],d[r]),f[i]&&o.reflow(o.box.alignTo(f[i].box,Ko).translate(0,-o.options.margin)),f[i]=o),yn(o.lineBox().y2,ri)===yn(l.lineBox().y2,ri)&&(p[i]&&o.reflow(o.box.alignTo(p[i].box,Gn).translate(0,o.options.margin)),p[i]=o),0!==r&&(o.alignTo(s),o.reflow(o.box)));}},shrinkAxisWidth:function shrinkAxisWidth(e){var t,n,i,o=this,r=o.groupAxes(e).any,a=D(r),s=0;for(t=0;e.length>t;t++){n=e[t],n.axes.length>0&&(s=Pt.max(s,a.width()-n.contentBox.width()));}if(0!==s)for(t=0;r.length>t;t++){i=r[t],i.options.vertical||i.reflow(i.box.shrink(s,0));}},shrinkAxisHeight:function shrinkAxisHeight(e){var t,n,i,o,r,a,s;for(t=0;e.length>t;t++){if(n=e[t],i=n.axes,o=Pt.max(0,D(i).height()-n.contentBox.height()),0!==o){for(r=0;i.length>r;r++){a=i[r],a.options.vertical&&a.reflow(a.box.shrink(0,o));}s=!0;}}return s;},fitAxes:function fitAxes(e){var t,n,i,o,r,a,s,l,c=this,d=c.groupAxes(e).any,u=0;for(s=0;e.length>s;s++){if(r=e[s],t=r.axes,n=r.contentBox,t.length>0)for(i=D(t),u=Pt.max(u,n.x1-i.x1),o=Pt.max(n.y1-i.y1,n.y2-i.y2),l=0;t.length>l;l++){a=t[l],a.reflow(a.box.translate(0,o));}}for(s=0;d.length>s;s++){a=d[s],a.reflow(a.box.translate(u,0));}},reflowAxes:function reflowAxes(e){var t,n=this,i=n.groupAxes(e);for(t=0;e.length>t;t++){n.reflowPaneAxes(e[t]);}i.x.length>0&&i.y.length>0&&(n.alignAxes(i.x,i.y),n.shrinkAxisWidth(e),n.autoRotateAxisLabels(i),n.alignAxes(i.x,i.y),n.shrinkAxisWidth(e)&&n.alignAxes(i.x,i.y),n.shrinkAxisHeight(e),n.alignAxes(i.x,i.y),n.shrinkAxisHeight(e)&&n.alignAxes(i.x,i.y),n.fitAxes(e));},autoRotateAxisLabels:function autoRotateAxisLabels(e){var t,n,i,o=this.axes,r=this.panes;for(n=0;o.length>n;n++){t=o[n],t.autoRotateLabels()&&(i=!0);}if(i){for(n=0;r.length>n;n++){this.reflowPaneAxes(r[n]);}e.x.length>0&&e.y.length>0&&(this.alignAxes(e.x,e.y),this.shrinkAxisWidth(r));}},reflowPaneAxes:function reflowPaneAxes(e){var t,n=e.axes,i=n.length;if(i>0)for(t=0;i>t;t++){n[t].reflow(e.contentBox);}},reflowCharts:function reflowCharts(e){var t,n,i=this,o=i.charts,r=o.length,a=i.box;for(n=0;r>n;n++){t=o[n].pane,t&&!_n(t,e)||o[n].reflow(a);}},reflowPanes:function reflowPanes(){var e,t,n,i,o,r=this,a=r.box,s=r.panes,l=s.length,c=a.height(),d=l,u=0,h=a.y1;for(e=0;l>e;e++){t=s[e],i=t.options.height,t.options.width=a.width(),t.options.height?(i.indexOf&&i.indexOf("%")&&(o=parseInt(i,10)/100,t.options.height=o*a.height()),t.reflow(a.clone()),c-=t.options.height):u++;}for(e=0;l>e;e++){t=s[e],t.options.height||(t.options.height=c/u);}for(e=0;l>e;e++){t=s[e],n=a.clone().move(a.x1,h),t.reflow(n),d--,h+=t.options.height;}},backgroundBox:function backgroundBox(){var e,t,n,i,o,r,a=this,s=a.axes,l=s.length;for(n=0;l>n;n++){for(o=s[n],i=0;l>i;i++){r=s[i],o.options.vertical!==r.options.vertical&&(e=o.lineBox().clone().wrap(r.lineBox()),t=t?t.wrap(e):e);}}return t||a.box;},createVisual:function createVisual(){var e,t,n,i,o,r;Jt.fn.createVisual.call(this),e=this.backgroundBox(),t=this.options.plotArea,n=t.border||{},i=t.background,o=t.opacity,kn.isTransparent(i)&&(i=lr,o=0),r=this._bgVisual=Mn.Path.fromRect(e.toRect(),{fill:{color:i,opacity:o},stroke:{color:n.width?n.color:"",width:n.width,dashType:n.dashType},zIndex:-1}),this.appendVisual(r);},pointsByCategoryIndex:function pointsByCategoryIndex(e){var t,n,i,o,r,a=this.charts,s=[];if(null!==e)for(t=0;a.length>t;t++){if(r=a[t],"_navigator"!==r.pane.options.name&&(i=a[t].categoryPoints[e],i&&i.length))for(n=0;i.length>n;n++){o=i[n],o&&Cn(o.value)&&null!==o.value&&s.push(o);}}return s;},pointsBySeriesIndex:function pointsBySeriesIndex(e){var t,n,i,o,r,a=this.charts,s=[];for(i=0;a.length>i;i++){for(r=a[i],t=r.points,o=0;t.length>o;o++){n=t[o],n&&n.options.index===e&&s.push(n);}}return s;},pointsBySeriesName:function pointsBySeriesName(e){return this.filterPoints(function(t){return t.series.name===e;});},filterPoints:function filterPoints(e){var t,n,i,o,r,a=this.charts,s=[];for(i=0;a.length>i;i++){for(r=a[i],t=r.points,o=0;t.length>o;o++){n=t[o],n&&e(n)&&s.push(n);}}return s;},paneByPoint:function paneByPoint(e){var t,n,i=this,o=i.panes;for(n=0;o.length>n;n++){if(t=o[n],t.box.containsPoint(e))return t;}}}),ct={hover:function hover(e,t){this._dispatchEvent(e,t,vo);},click:function click(e,t){this._dispatchEvent(e,t,go);}},dt=lt.extend({init:function init(e,t){var n,i,o=this;if(o.namedCategoryAxes={},o.namedValueAxes={},o.valueAxisRangeTracker=new ut(),e.length>0)for(o.invertAxes=_n(e[0].type,[On,Kn,rr,nr,bo,Pi,ir]),n=0;e.length>n;n++){if(i=e[n].stack,i&&"100%"===i.type){o.stack100=!0;break;}}lt.fn.init.call(o,e,t);},options:{categoryAxis:{categories:[]},valueAxis:{}},render:function render(e){var t=this;e=e||t.panes,t.createCategoryAxes(e),t.aggregateCategories(e),t.createCategoryAxesLabels(e),t.createCharts(e),t.createValueAxes(e);},removeAxis:function removeAxis(e){var t=this,n=e.options.name;lt.fn.removeAxis.call(t,e),e instanceof le?delete t.namedCategoryAxes[n]:(t.valueAxisRangeTracker.reset(n),delete t.namedValueAxes[n]),e===t.categoryAxis&&delete t.categoryAxis,e===t.valueAxis&&delete t.valueAxis;},createCharts:function createCharts(e){var t,n,i,o,r,a,s=this.groupSeriesByPane();for(t=0;e.length>t;t++){if(n=e[t],i=s[n.options.name||"default"]||[],this.addToLegend(i),o=this.filterVisibleSeries(i))for(r=this.groupSeriesByCategoryAxis(o),a=0;r.length>a;a++){this.createChartGroup(r[a],n);}}},createChartGroup:function createChartGroup(e,t){this.createAreaChart(H(e,[Bn,nr]),t),this.createBarChart(H(e,[oi,On]),t),this.createRangeBarChart(H(e,[wo,bo]),t),this.createBulletChart(H(e,[Kn,or]),t),this.createCandlestickChart(H(e,Qn),t),this.createBoxPlotChart(H(e,[$n,ir]),t),this.createOHLCChart(H(e,ho),t),this.createWaterfallChart(H(e,[ar,Pi]),t),this.createLineChart(H(e,[ji,rr]),t);},aggregateCategories:function aggregateCategories(e){var t,n,i,o,r,a=this,s=a.srcSeries||a.series,l=[];for(t=0;s.length>t;t++){n=s[t],i=a.seriesCategoryAxis(n),o=a.findPane(i.options.pane),r=A(i.options.type,di),(r||n.categoryField)&&_n(o,e)?n=a.aggregateSeries(n,i):(F(i.options.min)||F(i.options.max))&&(n=a.filterSeries(n,i)),l.push(n);}a.srcSeries=s,a.series=l;},filterSeries:function filterSeries(e,t){var n,i,o,r=t.totalRangeIndices(),a=t.options.justified,s=_n(e.type,[ji,rr,Bn,nr]);return r.min=F(t.options.min)?Pt.floor(r.min):0,r.max=F(t.options.max)?a?Pt.floor(r.max)+1:Pt.ceil(r.max):e.data.length,e=Wt({},e),s&&(i=r.min-1,o=t.options.srcCategories||[],i>=0&&e.data.length>i&&(n=i,e._outOfRangeMinPoint={item:e.data[n],category:o[n],categoryIx:-1}),e.data.length>r.max&&(n=r.max,e._outOfRangeMaxPoint={item:e.data[n],category:o[n],categoryIx:r.max-r.min})),t._seriesMax=Pt.max(t._seriesMax||0,e.data.length),e.data=(e.data||[]).slice(r.min,r.max),e;},aggregateSeries:function aggregateSeries(e,t){var n,o,r,a,s,l,c,d=t.options,u=A(t.options.type,di),p=d.categories,m=d.srcCategories||p,g=e.data,v=[],_=Wt({},e),b=Wt({},e),w=d.dataItems||[],y=h,k=kn.MIN_NUM,x=kn.MAX_NUM,C=_n(e.type,[ji,rr,Bn,nr]);for(_.data=a=[],u&&(y=f),n=0;g.length>n;n++){o=e.categoryField?y(e.categoryField,g[n]):m[n],Cn(o)&&(r=t.categoryIndex(o),r>=0&&p.length>r?(v[r]=v[r]||[],v[r].push(n)):C&&(0>r?r==k?l.points.push(n):r>k&&(k=r,l={category:o,points:[n]}):r>=p.length&&(r==x?c.points.push(n):x>r&&(x=r,c={category:o,points:[n]}))));}for(s=new At(b,ie.current,i.current),n=0;p.length>n;n++){a[n]=s.aggregatePoints(v[n],p[n]),v[n]&&(w[n]=a[n]);}return l&&a.length&&(_._outOfRangeMinPoint={item:s.aggregatePoints(l.points,l.category),categoryIx:k,category:l.category}),c&&a.length&&(_._outOfRangeMaxPoint={item:s.aggregatePoints(c.points,c.category),categoryIx:x,category:c.category}),t.options.dataItems=w,_;},appendChart:function appendChart(e,t){for(var n=this,i=e.options.series,o=n.seriesCategoryAxis(i[0]),r=o.options.categories,a=Pt.max(0,d(i)-r.length);a--;){r.push("");}n.valueAxisRangeTracker.update(e.valueAxisRanges),lt.fn.appendChart.call(n,e,t);},seriesPaneName:function seriesPaneName(t){var n=this,i=n.options,o=t.axis,r=[].concat(i.valueAxis),a=e.grep(r,function(e){return e.name===o;})[0],s=i.panes||[{}],l=(s[0]||{}).name||"default",c=(a||{}).pane||l;return c;},seriesCategoryAxis:function seriesCategoryAxis(e){var t=this,n=e.categoryAxis,i=n?t.namedCategoryAxes[n]:t.categoryAxis;if(!i)throw Error("Unable to locate category axis with name "+n);return i;},stackableChartOptions:function stackableChartOptions(e,t){var n,i=e.stack,o=i&&"100%"===i.type;return Cn(t.options.clip)?n=t.options.clip:o&&(n=!1),{isStacked:i,isStacked100:o,clip:n};},groupSeriesByCategoryAxis:function groupSeriesByCategoryAxis(n){function i(t,i){return e.grep(n,function(e){return 0===i&&!e.categoryAxis||e.categoryAxis==t;});}var o,r,a,s={},l=e.map(n,function(e){var n=e.categoryAxis||"$$default$$";return s.hasOwnProperty(n)?t:(s[n]=!0,n);}),c=[];for(o=0;l.length>o;o++){r=l[o],a=i(r,o),0!==a.length&&c.push(a);}return c;},createBarChart:function createBarChart(e,t){if(0!==e.length){var n=this,i=e[0],o=new we(n,Bt({series:e,invertAxes:n.invertAxes,gap:i.gap,spacing:i.spacing},n.stackableChartOptions(i,t)));n.appendChart(o,t);}},createRangeBarChart:function createRangeBarChart(e,t){if(0!==e.length){var n=this,i=e[0],o=new ke(n,{series:e,invertAxes:n.invertAxes,gap:i.gap,spacing:i.spacing});n.appendChart(o,t);}},createBulletChart:function createBulletChart(e,t){if(0!==e.length){var n=this,i=e[0],o=new xe(n,{series:e,invertAxes:n.invertAxes,gap:i.gap,spacing:i.spacing,clip:t.options.clip});n.appendChart(o,t);}},createLineChart:function createLineChart(e,t){if(0!==e.length){var n=this,i=e[0],o=new Pe(n,Bt({invertAxes:n.invertAxes,series:e},n.stackableChartOptions(i,t)));n.appendChart(o,t);}},createAreaChart:function createAreaChart(e,t){if(0!==e.length){var n=this,i=e[0],o=new Oe(n,Bt({invertAxes:n.invertAxes,series:e},n.stackableChartOptions(i,t)));n.appendChart(o,t);}},createOHLCChart:function createOHLCChart(e,t){if(0!==e.length){var n=this,i=e[0],o=new Ke(n,{invertAxes:n.invertAxes,gap:i.gap,series:e,spacing:i.spacing,clip:t.options.clip});n.appendChart(o,t);}},createCandlestickChart:function createCandlestickChart(e,t){if(0!==e.length){var n=this,i=e[0],o=new $e(n,{invertAxes:n.invertAxes,gap:i.gap,series:e,spacing:i.spacing,clip:t.options.clip});n.appendChart(o,t);}},createBoxPlotChart:function createBoxPlotChart(e,t){if(0!==e.length){var n=this,i=e[0],o=new Qe(n,{invertAxes:n.invertAxes,gap:i.gap,series:e,spacing:i.spacing,clip:t.options.clip});n.appendChart(o,t);}},createWaterfallChart:function createWaterfallChart(e,t){if(0!==e.length){var n=this,i=e[0],o=new ot(n,{series:e,invertAxes:n.invertAxes,gap:i.gap,spacing:i.spacing});n.appendChart(o,t);}},axisRequiresRounding:function axisRequiresRounding(e,t){var n,i,o,r,a=this,s=H(a.series,_r);for(n=0;a.series.length>n;n++){o=a.series[n],o.type!==ji&&o.type!==Bn||(r=o.line,r&&r.style===Po&&s.push(o));}for(n=0;s.length>n;n++){if(i=s[n].categoryAxis||"",i===e||!i&&0===t)return!0;}},aggregatedAxis:function aggregatedAxis(e,t){var n,i,o=this,r=o.series;for(n=0;r.length>n;n++){if(i=r[n].categoryAxis||"",(i===e||!i&&0===t)&&r[n].categoryField)return!0;}},createCategoryAxesLabels:function createCategoryAxesLabels(){var e,t=this.axes;for(e=0;t.length>e;e++){t[e]instanceof le&&t[e].createLabels();}},createCategoryAxes:function createCategoryAxes(e){var t,n,i,o,r,a,s,l,c=this,d=c.invertAxes,u=[].concat(c.options.categoryAxis),h=[];for(t=0;u.length>t;t++){if(n=u[t],i=c.findPane(n.pane),_n(i,e)){if(a=n.name,o=n.categories||[],r=n.type||"",n=Wt({vertical:d,axisCrossingValue:d?Qi:0,_deferLabels:!0},n),Cn(n.justified)||(n.justified=c.isJustified()),c.axisRequiresRounding(a,t)&&(n.justified=!1),s=U(n,o[0])?new ce(n):new le(n),a){if(c.namedCategoryAxes[a])throw Error("Category axis with name "+a+" is already defined");c.namedCategoryAxes[a]=s;}s.axisIndex=t,h.push(s),c.appendAxis(s);}}l=c.categoryAxis||h[0],c.categoryAxis=l,d?c.axisY=l:c.axisX=l;},isJustified:function isJustified(){var e,t,n=this,i=n.series;for(e=0;i.length>e;e++){if(t=i[e],!_n(t.type,[Bn,nr]))return!1;}return!0;},createValueAxes:function createValueAxes(e){var t,n,i,o,r,a,s,l,c,d=this,u=d.valueAxisRangeTracker,h=u.query(),f=[].concat(d.options.valueAxis),p=d.invertAxes,m={vertical:!p},g=[];for(d.stack100&&(m.roundToMajorUnit=!1,m.labels={format:"P0"}),c=0;f.length>c;c++){if(t=f[c],n=d.findPane(t.pane),_n(n,e)){if(l=t.name,s=A(t.type,$i)?{min:.1,max:1}:{min:0,max:1},r=u.query(l)||h||s,0===c&&r&&h&&(r.min=Pt.min(r.min,h.min),r.max=Pt.max(r.max,h.max)),a=A(t.type,$i)?on:rn,i=new a(r.min,r.max,Wt({},m,t)),l){if(d.namedValueAxes[l])throw Error("Value axis with name "+l+" is already defined");d.namedValueAxes[l]=i;}i.axisIndex=c,g.push(i),d.appendAxis(i);}}o=d.valueAxis||g[0],d.valueAxis=o,p?d.axisX=o:d.axisY=o;},_dispatchEvent:function _dispatchEvent(e,t,n){var i,o,r,a=this,s=e._eventCoordinates(t),l=new an(s.x,s.y),c=a.pointPane(l),d=[],u=[];if(c){for(i=c.axes,o=0;i.length>o;o++){r=i[o],r.getValue?R(u,r.getValue(l)):R(d,r.getCategory(l));}0===d.length&&R(d,a.categoryAxis.getCategory(l)),d.length>0&&u.length>0&&e.trigger(n,{element:gn(t),originalEvent:t,category:T(d),value:T(u)});}},pointPane:function pointPane(e){var t,n,i=this,o=i.panes;for(n=0;o.length>n;n++){if(t=o[n],t.contentBox.containsPoint(e))return t;}},updateAxisOptions:function updateAxisOptions(e,t){var n=[].concat(e instanceof le?this.options.categoryAxis:this.options.valueAxis);Wt(n[e.axisIndex],t);}}),Wt(dt.fn,ct),ut=Nt.extend({init:function init(){var e=this;e.axisRanges={};},update:function update(e){var t,n,i,o=this,r=o.axisRanges;for(i in e){t=r[i],n=e[i],r[i]=t=t||{min:Qi,max:Ji},t.min=Pt.min(t.min,n.min),t.max=Pt.max(t.max,n.max);}},reset:function reset(e){this.axisRanges[e]=t;},query:function query(e){return this.axisRanges[e];}}),ht=lt.extend({init:function init(e,t){var n=this;n.namedXAxes={},n.namedYAxes={},n.xAxisRangeTracker=new ut(),n.yAxisRangeTracker=new ut(),lt.fn.init.call(n,e,t);},options:{xAxis:{},yAxis:{}},render:function render(e){var t,n,i,o,r=this,a=r.groupSeriesByPane();for(e=e||r.panes,t=0;e.length>t;t++){n=e[t],i=a[n.options.name||"default"]||[],r.addToLegend(i),o=r.filterVisibleSeries(i),o&&(r.createScatterChart(H(o,So),n),r.createScatterLineChart(H(o,To),n),r.createBubbleChart(H(o,Yn),n));}r.createAxes(e);},appendChart:function appendChart(e,t){var n=this;n.xAxisRangeTracker.update(e.xAxisRanges),n.yAxisRangeTracker.update(e.yAxisRanges),lt.fn.appendChart.call(n,e,t);},removeAxis:function removeAxis(e){var t=this,n=e.options.name;lt.fn.removeAxis.call(t,e),e.options.vertical?(t.yAxisRangeTracker.reset(n),delete t.namedYAxes[n]):(t.xAxisRangeTracker.reset(n),delete t.namedXAxes[n]),e===t.axisX&&delete t.axisX,e===t.axisY&&delete t.axisY;},seriesPaneName:function seriesPaneName(t){var n=this,i=n.options,o=t.xAxis,r=[].concat(i.xAxis),a=e.grep(r,function(e){return e.name===o;})[0],s=t.yAxis,l=[].concat(i.yAxis),c=e.grep(l,function(e){return e.name===s;})[0],d=i.panes||[{}],u=d[0].name||"default",h=(a||{}).pane||(c||{}).pane||u;return h;},createScatterChart:function createScatterChart(e,t){var n=this;e.length>0&&n.appendChart(new We(n,{series:e,clip:t.options.clip}),t);},createScatterLineChart:function createScatterLineChart(e,t){var n=this;e.length>0&&n.appendChart(new je(n,{series:e,clip:t.options.clip}),t);},createBubbleChart:function createBubbleChart(e,t){var n=this;e.length>0&&n.appendChart(new qe(n,{series:e,clip:t.options.clip}),t);},createXYAxis:function createXYAxis(e,t,n){var i,o,r,a,s,l,c,d,u=this,h=e.name,f=t?u.namedYAxes:u.namedXAxes,p=t?u.yAxisRangeTracker:u.xAxisRangeTracker,m=Wt({},e,{vertical:t}),g=A(m.type,$i),v=p.query(),_=g?{min:.1,max:1}:{min:0,max:1},b=p.query(h)||v||_,w=u.series,y=[m.min,m.max];for(r=0;w.length>r;r++){if(a=w[r],s=a[t?"yAxis":"xAxis"],s==m.name||0===n&&!s){l=ie.current.bindPoint(a,0).valueFields,y.push(l[t?"y":"x"]);break;}}for(0===n&&v&&(b.min=Pt.min(b.min,v.min),b.max=Pt.max(b.max,v.max)),d=0;y.length>d;d++){if(y[d]instanceof Date){c=!0;break;}}if(o=A(m.type,di)||!m.type&&c?de:g?on:rn,i=new o(b.min,b.max,m),h){if(f[h])throw Error((t?"Y":"X")+" axis with name "+h+" is already defined");f[h]=i;}return u.appendAxis(i),i;},createAxes:function createAxes(e){var t,n=this,i=n.options,o=[].concat(i.xAxis),r=[],a=[].concat(i.yAxis),s=[];Rt(o,function(i){t=n.findPane(this.pane),_n(t,e)&&r.push(n.createXYAxis(this,!1,i));}),Rt(a,function(i){t=n.findPane(this.pane),_n(t,e)&&s.push(n.createXYAxis(this,!0,i));}),n.axisX=n.axisX||r[0],n.axisY=n.axisY||s[0];},_dispatchEvent:function _dispatchEvent(e,t,n){var i,o,r,a,s=this,l=e._eventCoordinates(t),c=new an(l.x,l.y),d=s.axes,u=d.length,h=[],f=[];for(i=0;u>i;i++){o=d[i],a=o.options.vertical?f:h,r=o.getValue(c),null!==r&&a.push(r);}h.length>0&&f.length>0&&e.trigger(n,{element:gn(t),originalEvent:t,x:T(h),y:T(f)});},updateAxisOptions:function updateAxisOptions(e,t){var n=e.options.vertical,i=this.groupAxes(this.panes),o=N(e,n?i.y:i.x),r=[].concat(n?this.options.yAxis:this.options.xAxis)[o];Wt(r,t);}}),Wt(ht.fn,ct),ft=lt.extend({render:function render(){var e=this,t=e.series;e.createPieChart(t);},createPieChart:function createPieChart(e){var t=this,n=e[0],i=new tt(t,{series:e,padding:n.padding,startAngle:n.startAngle,connectors:n.connectors,legend:t.options.legend});t.appendChart(i);},appendChart:function appendChart(e,t){lt.fn.appendChart.call(this,e,t),xn(this.options.legend.items,e.legendItems);}}),pt=ft.extend({render:function render(){var e=this,t=e.series;e.createDonutChart(t);},createDonutChart:function createDonutChart(e){var t=this,n=e[0],i=new it(t,{series:e,padding:n.padding,connectors:n.connectors,legend:t.options.legend});t.appendChart(i);}}),mt=Mn.Animation.extend({options:{easing:"easeOutElastic",duration:Bi},setup:function setup(){this.element.transform(Fn.transform().scale(Mo,Mo,this.options.center));},step:function step(e){this.element.transform(Fn.transform().scale(e,e,this.options.center));}}),Mn.AnimationFactory.current.register(po,mt),gt=Mn.Animation.extend({options:{easing:"easeOutElastic"},setup:function setup(){var e=this.center=this.element.bbox().center();this.element.transform(Fn.transform().scale(Mo,Mo,e));},step:function step(e){this.element.transform(Fn.transform().scale(e,e,this.center));}}),Mn.AnimationFactory.current.register(Yn,gt),vt=Nt.extend({init:function init(){this._points=[];},destroy:function destroy(){this._points=[];},show:function show(e){var t,n;for(e=[].concat(e),this.hide(),t=0;e.length>t;t++){n=e[t],n&&n.toggleHighlight&&n.hasHighlight()&&(this.togglePointHighlight(n,!0),this._points.push(n));}},togglePointHighlight:function togglePointHighlight(e,t){var n,i=(e.options.highlight||{}).toggle;i?(n={category:e.category,series:e.series,dataItem:e.dataItem,value:e.value,preventDefault:Y,visual:e.highlightVisual(),show:t},i(n),n._defaultPrevented||e.toggleHighlight(t)):e.toggleHighlight(t);},hide:function hide(){for(var e=this._points;e.length;){this.togglePointHighlight(e.pop(),!1);}},isHighlighted:function isHighlighted(e){var t,n,i=this._points;for(t=0;i.length>t;t++){if(n=i[t],e==n)return!0;}return!1;}}),_t=Ot.extend({init:function init(t,n){var i,o,r=this;Ot.fn.init.call(r),r.options=Wt({},r.options,n),r.chartElement=t,r.template=_t.template,r.template||(r.template=_t.template=Rn("<div class='"+si+"tooltip "+si+"chart-tooltip' style='display:none; position: absolute; font: #= d.font #;border: #= d.border.width #px solid;opacity: #= d.opacity #; filter: alpha(opacity=#= d.opacity * 100 #);'></div>")),i=vn(r.options.padding||{},"auto"),r.element=e(r.template(r.options)).css({"padding-top":i.top,"padding-right":i.right,"padding-bottom":i.bottom,"padding-left":i.left}),r.move=Lt(r.move,r),r._mouseleave=Lt(r._mouseleave,r),o=Ht.format("[{0}='content'],[{0}='scroller']",Ht.attr("role")),r._mobileScroller=t.closest(o).data("kendoMobileScroller");},destroy:function destroy(){this._clearShowTimeout(),this.element&&(this.element.off(to).remove(),this.element=null);},options:{border:{width:1},opacity:1,animation:{duration:Qo}},move:function move(){var e,t=this,n=t.options,i=t.element;t.anchor&&t.element&&(e=t._offset(),t.visible||i.css({top:e.top,left:e.left}),t.visible=!0,t._ensureElement(document.body),i.stop(!0,!0).show().animate({left:e.left,top:e.top},n.animation.duration));},_clearShowTimeout:function _clearShowTimeout(){this.showTimeout&&(clearTimeout(this.showTimeout),this.showTimeout=null);},_padding:function _padding(){if(!this._chartPadding){var e=this.chartElement;this._chartPadding={top:parseInt(e.css("paddingTop"),10),left:parseInt(e.css("paddingLeft"),10)};}return this._chartPadding;},_offset:function _offset(){var t,n,i=this,o=i._measure(),r=i.anchor,a=i._padding(),s=i.chartElement.offset(),l=yn(r.y+a.top+s.top),c=yn(r.x+a.left+s.left),d=Ht.support.zoomLevel(),u=e(window),h=window.pageYOffset||document.documentElement.scrollTop||0,f=window.pageXOffset||document.documentElement.scrollLeft||0,p=(this._mobileScroller||{}).movable;return p&&1!==p.scale?(t=Fn.transform().scale(p.scale,p.scale,[p.x,p.y]),n=new Fn.Point(c,l).transform(t),c=n.x,l=n.y):(l+=i._fit(l-h,o.height,u.outerHeight()/d),c+=i._fit(c-f,o.width,u.outerWidth()/d)),{top:l,left:c};},setStyle:function setStyle(e,t){var n,i,o=e.background,r=e.border.color;t&&(n=t.color||t.options.color,o=In(o,n),r=In(r,n)),Cn(e.color)||(i=new Zt(o).percBrightness(),this.element.toggleClass(si+er,i>180)),this.element.css({backgroundColor:o,borderColor:r,font:e.font,color:e.color,opacity:e.opacity,borderWidth:e.border.width});},show:function show(){this._clearShowTimeout(),this.showTimeout=setTimeout(this.move,Jo);},hide:function hide(){var e=this;clearTimeout(e.showTimeout),e._hideElement(),e.visible&&(e.point=null,e.visible=!1,e.index=null);},_measure:function _measure(){this._ensureElement();var e={width:this.element.outerWidth(),height:this.element.outerHeight()};return e;},_ensureElement:function _ensureElement(){this.element&&this.element.appendTo(document.body).on(to,this._mouseleave);},_mouseleave:function _mouseleave(t){var n=t.relatedTarget,i=this.chartElement[0];n&&n!==i&&!e.contains(i,n)&&(this.trigger(Oi),this.hide());},_hideElement:function _hideElement(){var e=this,t=this.element;t&&t.fadeOut({always:function always(){e.visible||t.off(to).remove();}});},_pointContent:function _pointContent(e){var t,n,i=this,o=Wt({},i.options,e.options.tooltip);return Cn(e.value)&&(t=""+e.value),o.template?(n=Gt(o.template),t=n({value:e.value,category:e.category,series:e.series,dataItem:e.dataItem,percentage:e.percentage,runningTotal:e.runningTotal,total:e.total,low:e.low,high:e.high,xLow:e.xLow,xHigh:e.xHigh,yLow:e.yLow,yHigh:e.yHigh})):o.format&&(t=e.formatValue(o.format)),t;},_pointAnchor:function _pointAnchor(e){var t=this._measure();return e.tooltipAnchor(t.width,t.height);},_fit:function _fit(e,t,n){var i=0;return e+t>n&&(i=n-(e+t)),0>e&&(i=-e),i;}}),bt=_t.extend({show:function show(e){var t=this,n=Wt({},t.options,e.options.tooltip);e&&e.tooltipAnchor&&t.element&&(t.element.html(t._pointContent(e)),t.anchor=t._pointAnchor(e),t.anchor?(t.setStyle(n,e),_t.fn.show.call(t,e)):t.hide());}}),wt=_t.extend({init:function init(e,t,n){var i=this;_t.fn.init.call(i,e,n),i.plotArea=t;},options:{sharedTemplate:"<table><th colspan='2'>#= categoryText #</th># for(var i = 0; i < points.length; i++) { ## var point = points[i]; #<tr># if(point.series.name) { # <td> #= point.series.name #:</td># } #<td>#= content(point) #</td></tr># } #</table>",categoryFormat:"{0:d}"},showAt:function showAt(t,n){var i,o=this,r=o.options,a=o.plotArea,s=a.categoryAxis,l=s.pointCategoryIndex(n),c=s.getCategory(n),d=s.getSlot(l);t=e.grep(t,function(e){var t=e.series.tooltip,n=t&&t.visible===!1;return!n;}),t.length>0&&(i=o._content(t,c),o.element.html(i),o.anchor=o._slotAnchor(n,d),o.setStyle(r,t[0]),_t.fn.show.call(o));},_slotAnchor:function _slotAnchor(e,t){var n,i=this,o=i.plotArea,r=o.categoryAxis,a=this._measure(),s=e.y-a.height/2;return n=r.options.vertical?an(e.x,s):an(t.center().x,s);},_content:function _content(e,t){var n,i,o=this;return n=Ht.template(o.options.sharedTemplate),i=n({points:e,category:t,categoryText:pn(o.options.categoryFormat,t),content:o._pointContent});}}),yt=Jt.extend({init:function init(e,t){Jt.fn.init.call(this,t),this.axis=e,this.stickyMode=e instanceof le;},options:{color:jn,width:1,zIndex:-1,tooltip:{visible:!1}},showAt:function showAt(e){this.point=e,this.moveLine(),this.line.visible(!0);var t=this.options.tooltip;t.visible&&(this.tooltip||(this.tooltip=new kt(this,Wt({},t,{stickyMode:this.stickyMode}))),this.tooltip.showAt(e));},hide:function hide(){this.line.visible(!1),this.tooltip&&this.tooltip.hide();},moveLine:function moveLine(){var e,t,n,i=this,o=i.axis,r=o.options.vertical,a=i.getBox(),s=i.point,l=r?dr:cr;t=new Fn.Point(a.x1,a.y1),n=r?new Fn.Point(a.x2,a.y1):new Fn.Point(a.x1,a.y2),s&&(i.stickyMode?(e=o.getSlot(o.pointCategoryIndex(s)),t[l]=n[l]=e.center()[l]):t[l]=n[l]=s[l]),i.box=a,this.line.moveTo(t).lineTo(n);},getBox:function getBox(){var e,t,n,i=this,o=i.axis,r=o.pane.axes,a=r.length,s=o.options.vertical,l=o.lineBox().clone(),c=s?cr:dr;for(n=0;a>n;n++){t=r[n],t.options.vertical!=s&&(e?e.wrap(t.lineBox()):e=t.lineBox().clone());}return l[c+1]=e[c+1],l[c+2]=e[c+2],l;},createVisual:function createVisual(){Jt.fn.createVisual.call(this);var e=this.options;this.line=new Mn.Path({stroke:{color:e.color,width:e.width,opacity:e.opacity,dashType:e.dashType},visible:!1}),this.moveLine(),this.visual.append(this.line);},destroy:function destroy(){var e=this;e.tooltip&&e.tooltip.destroy(),Jt.fn.destroy.call(e);}}),kt=_t.extend({init:function init(e,t){var n=this,i=e.axis.getRoot().chart.element;n.crosshair=e,_t.fn.init.call(n,i,Wt({},n.options,{background:e.axis.plotArea.options.seriesColors[0]},t)),n.setStyle(n.options);},options:{padding:10},showAt:function showAt(e){var t=this,n=t.element;n&&(t.point=e,t.element.html(t.content(e)),t.anchor=t.getAnchor(),t.move());},move:function move(){var e=this,t=e.element,n=e._offset();e._ensureElement(),t.css({top:n.top,left:n.left}).show();},content:function content(e){var t,n,i,o=this,r=o.options,a=o.crosshair.axis,s=a.options;return n=t=a[r.stickyMode?"getCategory":"getValue"](e),r.template?(i=Gt(r.template),t=i({value:n})):r.format?t=pn(r.format,n):s.type===di&&(t=pn(s.labels.dateFormats[s.baseUnit],n)),t;},getAnchor:function getAnchor(){var e,t=this,n=t.options,i=n.position,o=this.crosshair,r=!o.axis.options.vertical,a=o.line.bbox(),s=this._measure(),l=s.width/2,c=s.height/2,d=n.padding;return e=r?i===Gn?a.bottomLeft().translate(-l,d):a.topLeft().translate(-l,-s.height-d):i===Vi?a.topLeft().translate(-s.width-d,-c):a.topRight().translate(d,-c);},hide:function hide(){this.element.hide(),this.point=null;},destroy:function destroy(){_t.fn.destroy.call(this),this.point=null;}}),xt={min:function min(e){var t,n,i=Qi,o=e.length;for(t=0;o>t;t++){n=e[t],F(n)&&(i=Pt.min(i,n));}return i===Qi?e[0]:i;},max:function max(e){var t,n,i=Ji,o=e.length;for(t=0;o>t;t++){n=e[t],F(n)&&(i=Pt.max(i,n));}return i===Ji?e[0]:i;},sum:function sum(e){var t,n,i=e.length,o=0;for(t=0;i>t;t++){n=e[t],F(n)&&(o+=n);}return o;},sumOrNull:function sumOrNull(e){var t=null;return M(e)&&(t=xt.sum(e)),t;},count:function count(e){var t,n,i=e.length,o=0;for(t=0;i>t;t++){n=e[t],null!==n&&Cn(n)&&o++;}return o;},avg:function avg(e){var t=e[0],n=M(e);return n>0&&(t=xt.sum(e)/n),t;},first:function first(e){var t,n,i=e.length;for(t=0;i>t;t++){if(n=e[t],null!==n&&Cn(n))return n;}return e[0];}},i.prototype={register:function register(e,t){for(var n=0;e.length>n;n++){this._defaults[e[n]]=t;}},query:function query(e){return this._defaults[e];}},i.current=new i(),Ct=Ot.extend({init:function init(t,n,i){var o,r,a=this,s=t.element,l=n.lineBox(),c=a.getValueAxis(n),d=c.lineBox(),u="."+si;Ot.fn.init.call(a),a.options=Wt({},a.options,i),i=a.options,a.chart=t,a.chartElement=s,a.categoryAxis=n,a._dateAxis=a.categoryAxis instanceof ce,a.valueAxis=c,a._dateAxis&&Wt(i,{min:p(i.min),max:p(i.max),from:p(i.from),to:p(i.to)}),a.template=Ct.template,a.template||(a.template=Ct.template=Rn("<div class='"+si+"selector' style='width: #= d.width #px; height: #= d.height #px; top: #= d.offset.top #px; left: #= d.offset.left #px;'><div class='"+si+"mask'></div><div class='"+si+"mask'></div><div class='"+si+"selection'><div class='"+si+"selection-bg'></div><div class='"+si+"handle "+si+"leftHandle'><div></div></div><div class='"+si+"handle "+si+"rightHandle'><div></div></div></div></div>")),r={left:parseInt(s.css("paddingLeft"),10),right:parseInt(s.css("paddingTop"),10)},a.options=Wt({},{width:l.width(),height:d.height(),padding:r,offset:{left:d.x2+r.left,top:d.y1+r.right},from:i.min,to:i.max},i),a.options.visible&&(a.wrapper=o=e(a.template(a.options)).appendTo(s),a.selection=o.find(u+"selection"),a.leftMask=o.find(u+"mask").first(),a.rightMask=o.find(u+"mask").last(),a.leftHandle=o.find(u+"leftHandle"),a.rightHandle=o.find(u+"rightHandle"),a.options.selection={border:{left:parseFloat(a.selection.css("border-left-width"),10),right:parseFloat(a.selection.css("border-right-width"),10)}},a.leftHandle.css("top",(a.selection.height()-a.leftHandle.height())/2),a.rightHandle.css("top",(a.selection.height()-a.rightHandle.height())/2),a.set(a._index(i.from),a._index(i.to)),a.bind(a.events,a.options),a.wrapper[0].style.cssText=a.wrapper[0].style.cssText,a.wrapper.on(ao,Lt(a._mousewheel,a)),Ht.UserEvents?a.userEvents=new Ht.UserEvents(a.wrapper,{global:!0,stopPropagation:!0,multiTouch:!0,fastTap:!0,press:Lt(a._press,a),start:Lt(a._start,a),move:Lt(a._move,a),end:Lt(a._end,a),tap:Lt(a._tap,a),gesturestart:Lt(a._gesturechange,a),gesturechange:Lt(a._gesturechange,a)}):a.leftHandle.add(a.rightHandle).removeClass(si+"handle"));},events:[Ao,Eo,Ro],options:{visible:!0,mousewheel:{zoom:qn},min:Ji,max:Qi},destroy:function destroy(){var e=this,t=e.userEvents;t&&t.destroy(),clearTimeout(e._mwTimeout),e._state=null,e.wrapper&&e.wrapper.remove();},_rangeEventArgs:function _rangeEventArgs(e){var t=this;return{axis:t.categoryAxis.options,from:t._value(e.from),to:t._value(e.to)};},_start:function _start(t){var n,i=this,o=i.options,r=e(t.event.target);!i._state&&r&&(i.chart._unsetActivePoint(),i._state={moveTarget:r.parents(".k-handle").add(r).first(),startLocation:t.x?t.x.location:0,range:{from:i._index(o.from),to:i._index(o.to)}},n=i._rangeEventArgs({from:i._index(o.from),to:i._index(o.to)}),i.trigger(Ao,n)&&(i.userEvents.cancel(),i._state=null));},_press:function _press(t){var n,i;this._state?n=this._state.moveTarget:(i=e(t.event.target),n=i.parents(".k-handle").add(i).first()),n.addClass("k-handle-active");},_move:function _move(e){if(this._state){var t=this,n=t._state,i=t.options,o=t.categoryAxis.options.categories,r=t._index(i.from),a=t._index(i.to),s=t._index(i.min),l=t._index(i.max),c=n.startLocation-e.x.location,d=n.range,u={from:d.from,to:d.to},h=d.to-d.from,f=n.moveTarget,p=t.wrapper.width()/(o.length-1),m=Pt.round(c/p);f&&(e.preventDefault(),f.is(".k-selection, .k-selection-bg")?(d.from=Pt.min(Pt.max(s,r-m),l-h),d.to=Pt.min(d.from+h,l)):f.is(".k-leftHandle")?(d.from=Pt.min(Pt.max(s,r-m),l-1),d.to=Pt.max(d.from+1,d.to)):f.is(".k-rightHandle")&&(d.to=Pt.min(Pt.max(s+1,a-m),l),d.from=Pt.min(d.to-1,d.from)),d.from===u.from&&d.to===u.to||(t.move(d.from,d.to),t.trigger(Eo,t._rangeEventArgs(d))));}},_end:function _end(){var e,t=this._state.range;this._state&&(e=this._state.moveTarget,e&&e.removeClass("k-handle-active"),delete this._state),this.set(t.from,t.to),this.trigger(Ro,this._rangeEventArgs(t));},_gesturechange:function _gesturechange(e){if(this._state){var t=this,n=t.chart,i=t._state,o=t.options,r=t.categoryAxis,a=i.range,s=n._toModelCoordinates(e.touches[0].x.location).x,l=n._toModelCoordinates(e.touches[1].x.location).x,c=Pt.min(s,l),d=Pt.max(s,l);e.preventDefault(),i.moveTarget=null,a.from=r.pointCategoryIndex(new $t.Point2D(c))||o.min,a.to=r.pointCategoryIndex(new $t.Point2D(d))||o.max,t.move(a.from,a.to);}},_tap:function _tap(e){var t=this,n=t.options,i=t.chart._eventCoordinates(e),o=t.categoryAxis,r=o.pointCategoryIndex(new $t.Point2D(i.x,o.box.y1)),a=t._index(n.from),s=t._index(n.to),l=t._index(n.min),c=t._index(n.max),d=s-a,u=a+d/2,h=Pt.round(u-r),f={},p=3===e.event.which;t._state||p||(e.preventDefault(),t.chart._unsetActivePoint(),o.options.justified||h--,f.from=Pt.min(Pt.max(l,a-h),c-d),f.to=Pt.min(f.from+d,c),t._start(e),t._state&&(t._state.range=f,t.trigger(Eo,t._rangeEventArgs(f)),t._end()));},_mousewheel:function _mousewheel(e){var t,n=this,i=n.options,o=wn(e);n._start({event:{target:n.selection}}),n._state&&(t=n._state.range,e.preventDefault(),e.stopPropagation(),Pt.abs(o)>1&&(o*=fr),i.mousewheel.reverse&&(o*=-1),n.expand(o)&&n.trigger(Eo,{axis:n.categoryAxis.options,delta:o,originalEvent:e,from:n._value(t.from),to:n._value(t.to)}),n._mwTimeout&&clearTimeout(n._mwTimeout),n._mwTimeout=setTimeout(function(){n._end();},ro));},_index:function _index(e){var t=e;return e instanceof Date&&(t=this.categoryAxis.categoryIndex(e)),t;},_value:function _value(e){var t=this.categoryAxis.options.categories,n=e;return this._dateAxis&&(n=e>t.length-1?this.options.max:t[Pt.ceil(e)]),n;},_slot:function _slot(e){var t=this.categoryAxis,n=this._index(e);return t.getSlot(n,n,!0);},move:function move(e,t){var n,i,o,r,a=this,s=a.options,l=s.offset,c=s.padding,d=s.selection.border;o=a._slot(e),n=yn(o.x1-l.left+c.left),a.leftMask.width(n),a.selection.css("left",n),o=a._slot(t),i=yn(s.width-(o.x1-l.left+c.left)),a.rightMask.width(i),r=s.width-i,r!=s.width&&(r+=d.right),a.rightMask.css("left",r),a.selection.width(Pt.max(s.width-(n+i)-d.right,0));},set:function set(e,t){var n=this,i=n.options,o=n._index(i.min),r=n._index(i.max);e=Tn(n._index(e),o,r),t=Tn(n._index(t),e+1,r),i.visible&&n.move(e,t),i.from=n._value(e),i.to=n._value(t);},expand:function expand(e){var n=this,i=n.options,o=n._index(i.min),r=n._index(i.max),a=i.mousewheel.zoom,s=n._index(i.from),l=n._index(i.to),c={from:s,to:l},d=Wt({},c);return n._state&&(c=n._state.range),a!==ko&&(c.from=Tn(Tn(s-e,0,l-1),o,r)),a!==Vi&&(c.to=Tn(Tn(l+e,c.from+1,r),o,r)),c.from!==d.from||c.to!==d.to?(n.set(c.from,c.to),!0):t;},getValueAxis:function getValueAxis(e){var t,n,i=e.pane.axes,o=i.length;for(t=0;o>t;t++){if(n=i[t],n.options.vertical!==e.options.vertical)return n;}}}),St=Nt.extend({init:function init(e,t){this.plotArea=e,this.options=Wt({},this.options,t);},options:{key:"none",lock:"none"},start:function start(e){return this._active=J(e.event,this.options.key);},move:function move(e){if(this._active){var t=this.axisRanges=this._panAxes(e,cr).concat(this._panAxes(e,dr));if(t.length)return this.axisRanges=t,X(t);}},end:function end(){var e=this._active;return this._active=!1,e;},pan:function pan(){var e,t,n=this.plotArea,i=this.axisRanges;if(i.length){for(t=0;i.length>t;t++){e=i[t],n.updateAxisOptions(e.axis,e.range);}n.redraw(n.panes);}},_panAxes:function _panAxes(e,t){var n,i,o,r,a=this.plotArea,s=-e[t].delta,l=(this.options.lock||"").toLowerCase(),c=[];if(0!==s&&(l||"").toLowerCase()!=t)for(n=a.axes,r=0;n.length>r;r++){i=n[r],(t==cr&&!i.options.vertical||t==dr&&i.options.vertical)&&(o=i.pan(s),o&&(o.limitRange=!0,c.push({axis:i,range:o})));}return c;}}),Tt=Nt.extend({init:function init(t,n){this.chart=t,this.options=Wt({},this.options,n),this._marquee=e("<div class='k-marquee'><div class='k-marquee-color'></div></div>");},options:{key:"shift",lock:"none"},start:function start(e){var t,n,i,o,r;return J(e.event,this.options.key)&&(t=this.chart,n=t._toModelCoordinates(e.x.client,e.y.client),i=this._zoomPane=t._plotArea.paneByPoint(n),i&&i.clipBox())?(o=i.clipBox().clone(),r=this._elementOffset(),o.translate(r.left,r.top),this._zoomPaneClipBox=o,this._marquee.appendTo(document.body).css({left:e.x.client+1,top:e.y.client+1,width:0,height:0}),!0):!1;},_elementOffset:function _elementOffset(){var e=this.chart.element,t=e.offset();return{left:parseInt(e.css("paddingTop"),10)+t.left,top:parseInt(e.css("paddingLeft"),10)+t.top};},move:function move(e){var t,n=this._zoomPane;n&&(t=this._selectionPosition(e),this._marquee.css(t));},end:function end(e){var n,i,o,r,a=this._zoomPane;return a?(n=this._elementOffset(),i=this._selectionPosition(e),i.left-=n.left,i.top-=n.top,o={x:i.left,y:i.top},r={x:i.left+i.width,y:i.top+i.height},this._updateAxisRanges(o,r),this._marquee.remove(),delete this._zoomPane,X(this.axisRanges)):t;},zoom:function zoom(){var e,t,n,i=this.axisRanges;if(i&&i.length){for(e=this.chart._plotArea,n=0;i.length>n;n++){t=i[n],e.updateAxisOptions(t.axis,t.range);}e.redraw(e.panes);}},destroy:function destroy(){this._marquee.remove(),delete this._marquee;},_updateAxisRanges:function _updateAxisRanges(e,t){var n,i,o,r,a=(this.options.lock||"").toLowerCase(),s=[],l=this._zoomPane.axes;for(o=0;l.length>o;o++){n=l[o],i=n.options.vertical,a==cr&&!i||a===dr&&i||(r=n.pointsRange(e,t),s.push({axis:n,range:r}));}this.axisRanges=s;},_selectionPosition:function _selectionPosition(e){var t=(this.options.lock||"").toLowerCase(),n=Pt.min(e.x.startLocation,e.x.location),i=Pt.min(e.y.startLocation,e.y.location),o=Pt.abs(e.x.initialDelta),r=Pt.abs(e.y.initialDelta),a=this._zoomPaneClipBox;return t==cr&&(n=a.x1,o=a.width()),t==dr&&(i=a.y1,r=a.height()),e.x.location>a.x2&&(o=a.x2-e.x.startLocation),a.x1>e.x.location&&(o=e.x.startLocation-a.x1),e.y.location>a.y2&&(r=a.y2-e.y.startLocation),a.y1>e.y.location&&(r=e.y.startLocation-a.y1),{left:Pt.max(n,a.x1),top:Pt.max(i,a.y1),width:o,height:r};}}),Dt=Nt.extend({init:function init(e,t){this.chart=e,this.options=Wt({},this.options,t);},updateRanges:function updateRanges(e){var t,n,i,o,r=(this.options.lock||"").toLowerCase(),a=[],s=this.chart._plotArea.axes;for(i=0;s.length>i;i++){t=s[i],n=t.options.vertical,r==cr&&!n||r===dr&&n||(o=t.zoomRange(-e),o&&a.push({axis:t,range:o}));}return this.axisRanges=a,X(a);},zoom:function zoom(){var e,t,n,i=this.axisRanges;if(i&&i.length){for(e=this.chart._plotArea,n=0;i.length>n;n++){t=i[n],e.updateAxisOptions(t.axis,t.range);}e.redraw(e.panes);}}}),At=function At(e,t,n){var i,o,r,a=this,s=t.canonicalFields(e),l=t.valueFields(e),c=t.sourceFields(e,s),d=a._seriesFields=[],u=n.query(e.type),h=e.aggregate||u;for(a._series=e,a._binder=t,i=0;s.length>i;i++){if(o=s[i],(typeof h==="undefined"?"undefined":_typeof(h))===uo)r=h[o];else{if(0!==i&&!_n(o,l))break;r=h;}r&&d.push({canonicalName:o,name:c[i],transform:qt(r)?r:xt[r]});}},At.prototype={aggregatePoints:function aggregatePoints(e,t){var n,i,o,r,a,s=this,l=s._bindPoints(e||[]),c=s._series,d=s._seriesFields,u=l.dataItems[0],h={};for(!u||F(u)||It(u)||(a=function a(){},a.prototype=u,h=new a()),n=0;d.length>n;n++){if(i=d[n],o=s._bindField(l.values,i.canonicalName),r=i.transform(o,c,l.dataItems,t),!(null===r||(typeof r==="undefined"?"undefined":_typeof(r))!==uo||Cn(r.length)||r instanceof Date)){h=r;break;}Cn(r)&&(j(i.name,h),Ht.setter(i.name)(h,r));}return h;},_bindPoints:function _bindPoints(e){var t,n,i=this,o=i._binder,r=i._series,a=[],s=[];for(t=0;e.length>t;t++){n=e[t],a.push(o.bindPoint(r,n)),s.push(r.data[n]);}return{values:a,dataItems:s};},_bindField:function _bindField(e,t){var n,i,o,r,a=[],s=e.length;for(n=0;s>n;n++){i=e[n],r=i.valueFields,o=Cn(r[t])?r[t]:i.fields[t],a.push(o);}return a;}},Et=Nt.extend({init:function init(e){this._axis=e;},slot:function slot(e,t,n){return Cn(n)||(n=!0),this._axis.slot(e,t,n);},range:function range(){return this._axis.range();}}),Bt(e.easing,{easeOutElastic:function easeOutElastic(e,t,n,i){var o=1.70158,r=0,a=i;return 0===e?n:1===e?n+i:(r||(r=.5),a<Pt.abs(i)?(a=i,o=r/4):o=r/(2*Pt.PI)*Pt.asin(i/a),a*Pt.pow(2,-10*e)*Pt.sin((1*e-o)*(1.1*Pt.PI)/r)+i+n);}}),$t.ui.plugin(wr),ne.current.register(dt,[On,oi,ji,rr,Bn,nr,Qn,ho,Kn,or,$n,ir,wo,bo,ar,Pi]),ne.current.register(ht,[So,To,Yn]),ne.current.register(ft,[po]),ne.current.register(pt,[vi]),ie.current.register([On,oi,ji,rr,Bn,nr],[tr],[Xn,ii,co,ki,xi]),ie.current.register([wo,bo],[Ri,Yo],[Xn,ii,co]),ie.current.register([ar,Pi],[tr],[Xn,ii,co,No]),i.current.register([On,oi,ji,rr,Bn,nr,ar,Pi],{value:Yi,color:Ei,noteText:Ei,errorLow:Xi,errorHigh:Yi}),i.current.register([wo,bo],{from:Xi,to:Yi,color:Ei,noteText:Ei}),ie.current.register([So,To,Yn],[cr,dr],[ii,co,Ci,Si,Ti,Di]),ie.current.register([Yn],[cr,dr,"size"],[ii,Xn,co]),ie.current.register([Qn,ho],["open","high","low","close"],[Xn,ii,"downColor",co]),i.current.register([Qn,ho],{open:Yi,high:Yi,low:Xi,close:Yi,color:Ei,downColor:Ei,noteText:Ei}),ie.current.register([$n,ir],["lower","q1","median","q3","upper","mean","outliers"],[Xn,ii,co]),i.current.register([$n,ir],{lower:Yi,q1:Yi,median:Yi,q3:Yi,upper:Yi,mean:Yi,outliers:Ei,color:Ei,noteText:Ei}),ie.current.register([Kn,or],["current","target"],[Xn,ii,"visibleInLegend",co]),i.current.register([Kn,or],{current:Yi,target:Yi,color:Ei,noteText:Ei}),ie.current.register([po,vi],[tr],[Xn,ii,"explode","visibleInLegend","visible"]),Wt($t,{EQUALLY_SPACED_SERIES:_r,Aggregates:xt,AreaChart:Oe,AreaSegment:Ne,AxisGroupRangeTracker:ut,Bar:me,BarChart:we,BarLabel:oe,BubbleChart:qe,Bullet:Ce,BulletChart:xe,CandlestickChart:$e,Candlestick:Ge,CategoricalChart:be,CategoricalErrorBar:De,CategoricalPlotArea:dt,CategoryAxis:le,ChartAxis:Et,ChartContainer:st,ClipAnimation:ze,ClusterLayout:ue,Crosshair:yt,CrosshairTooltip:kt,DateCategoryAxis:ce,DateValueAxis:de,DefaultAggregates:i,DonutChart:it,DonutPlotArea:pt,DonutSegment:nt,ErrorBarBase:Te,ErrorRangeCalculator:_e,Highlight:vt,SharedTooltip:wt,Legend:se,LegendItem:re,LegendLayout:ae,LineChart:Pe,LinePoint:Ee,LineSegment:Ie,Pane:at,PieAnimation:mt,PieChart:tt,PieChartMixin:et,PiePlotArea:ft,PieSegment:Ze,PlotAreaBase:lt,PlotAreaEventsMixin:ct,PlotAreaFactory:ne,PointEventsMixin:fe,RangeBar:ye,RangeBarChart:ke,ScatterChart:We,ScatterErrorBar:Ae,ScatterLineChart:je,Selection:Ct,SeriesAggregator:At,SeriesBinder:ie,ShapeElement:cn,SplineSegment:Le,SplineAreaSegment:Ve,StackWrap:he,Tooltip:bt,OHLCChart:Ke,OHLCPoint:Ye,WaterfallChart:ot,WaterfallSegment:rt,XYPlotArea:ht,MousewheelZoom:Dt,ZoomSelection:Tt,Pannable:St,addDuration:g,areNumbers:P,axisGroupBox:D,categoriesCount:d,ceilDate:b,countNumbers:M,duration:x,ensureTree:j,indexOf:N,isNumber:F,floorDate:_,filterSeriesByType:H,hasValue:Q,lteDateIndex:I,evalOptions:B,seriesTotal:q,singleItemOrArray:T,sortDates:O,startOfWeek:v,transpose:W,toDate:p,toTime:m,uniqueDates:V});}(window.kendo.jQuery),window.kendo;},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("kendo.dataviz.chart.polar.min",["kendo.dataviz.chart.min","kendo.drawing.min"],e);}(function(){return function(e,t){function n(e,t){return e.value.x-t.value.x;}function i(e,t){return 180-C.abs(C.abs(e-t)-180);}var o,r,a,s,l,c,d,u,h,f,p,m,g,v,_,b,w,y,k,x,C=Math,S=window.kendo,T=S.deepExtend,D=S.util,A=D.append,E=S.drawing,R=S.geometry,I=S.dataviz,F=I.AreaSegment,M=I.Axis,P=I.AxisGroupRangeTracker,z=I.BarChart,B=I.Box2D,L=I.CategoryAxis,H=I.CategoricalChart,N=I.CategoricalPlotArea,O=I.ChartElement,V=I.CurveProcessor,U=I.DonutSegment,W=I.LineChart,j=I.LineSegment,q=I.LogarithmicAxis,G=I.NumericAxis,$=I.PlotAreaBase,Y=I.PlotAreaEventsMixin,K=I.PlotAreaFactory,Q=I.Point2D,X=I.Ring,J=I.ScatterChart,Z=I.ScatterLineChart,ee=I.SeriesBinder,te=I.ShapeBuilder,ne=I.SplineSegment,ie=I.SplineAreaSegment,oe=I.eventTargetElement,re=I.getSpacing,ae=I.filterSeriesByType,se=D.limitValue,le=I.round,ce="arc",de="#000",ue=I.COORD_PRECISION,he=.15,fe=C.PI/180,pe="gap",me="interpolate",ge="log",ve="polarArea",_e="polarLine",be="polarScatter",we="radarArea",ye="radarColumn",ke="radarLine",xe="smooth",Ce="x",Se="y",Te="zero",De=[ve,_e,be],Ae=[we,ye,ke],Ee={createGridLines:function createGridLines(e){var t,n,i=this,o=i.options,r=C.abs(i.box.center().y-e.lineBox().y1),a=!1,s=[];return o.majorGridLines.visible&&(t=i.majorGridLineAngles(e),a=!0,s=i.renderMajorGridLines(t,r,o.majorGridLines)),o.minorGridLines.visible&&(n=i.minorGridLineAngles(e,a),A(s,i.renderMinorGridLines(n,r,o.minorGridLines,e,a))),s;},renderMajorGridLines:function renderMajorGridLines(e,t,n){return this.renderGridLines(e,t,n);},renderMinorGridLines:function renderMinorGridLines(e,t,n,i,o){var r=this.radiusCallback&&this.radiusCallback(t,i,o);return this.renderGridLines(e,t,n,r);},renderGridLines:function renderGridLines(e,t,n,i){var o,r,a={stroke:{width:n.width,color:n.color,dashType:n.dashType}},s=this.box.center(),l=new R.Circle([s.x,s.y],t),c=this.gridLinesVisual();for(o=0;e.length>o;o++){r=new E.Path(a),i&&(l.radius=i(e[o])),r.moveTo(l.center).lineTo(l.pointAt(e[o])),c.append(r);}return c.children;},gridLineAngles:function gridLineAngles(n,i,o,r,a){var s=this,l=s.intervals(i,o,r,a),c=n.options,d=c.visible&&(c.line||{}).visible!==!1;return e.map(l,function(e){var n=s.intervalAngle(e);return d&&90===n?t:n;});}},Re=L.extend({options:{startAngle:90,labels:{margin:re(10)},majorGridLines:{visible:!0},justified:!0},range:function range(){return{min:0,max:this.options.categories.length};},reflow:function reflow(e){this.box=e,this.reflowLabels();},lineBox:function lineBox(){return this.box;},reflowLabels:function reflowLabels(){var e,t,n=this,i=n.options.labels,o=i.skip||0,r=i.step||1,a=new B(),s=n.labels;for(t=0;s.length>t;t++){s[t].reflow(a),e=s[t].box,s[t].reflow(n.getSlot(o+t*r).adjacentBox(0,e.width(),e.height()));}},intervals:function intervals(e,t,n,i){var o,r=this,a=r.options,s=a.categories.length,l=0,c=s/e||1,d=360/c,u=[];for(t=t||0,n=n||1,o=t;c>o;o+=n){l=a.reverse?360-o*d:o*d,l=le(l,ue)%360,i&&I.inArray(l,i)||u.push(l);}return u;},majorIntervals:function majorIntervals(){return this.intervals(1);},minorIntervals:function minorIntervals(){return this.intervals(.5);},intervalAngle:function intervalAngle(e){return(360+e+this.options.startAngle)%360;},majorAngles:function majorAngles(){return e.map(this.majorIntervals(),e.proxy(this.intervalAngle,this));},createLine:function createLine(){return[];},majorGridLineAngles:function majorGridLineAngles(e){var t=this.options.majorGridLines;return this.gridLineAngles(e,1,t.skip,t.step);},minorGridLineAngles:function minorGridLineAngles(e,t){var n=this.options,i=n.minorGridLines,o=n.majorGridLines,r=t?this.intervals(1,o.skip,o.step):null;return this.gridLineAngles(e,.5,i.skip,i.step,r);},radiusCallback:function radiusCallback(e,n,i){var o,r,a,s;return n.options.type!==ce?(o=360/(2*this.options.categories.length),r=C.cos(o*fe)*e,a=this.majorAngles(),s=function s(t){return!i&&I.inArray(t,a)?e:r;}):t;},createPlotBands:function createPlotBands(){var e,t,n,i,o,r,a,s=this,l=s.options,c=l.plotBands||[],d=this._plotbandGroup=new E.Group({zIndex:-1});for(e=0;c.length>e;e++){t=c[e],n=s.plotBandSlot(t),i=s.getSlot(t.from),o=t.from-C.floor(t.from),n.startAngle+=o*i.angle,r=C.ceil(t.to)-t.to,n.angle-=(r+o)*i.angle,a=te.current.createRing(n,{fill:{color:t.color,opacity:t.opacity},stroke:{opacity:t.opacity}}),d.append(a);}s.appendVisual(d);},plotBandSlot:function plotBandSlot(e){return this.getSlot(e.from,e.to-1);},getSlot:function getSlot(e,t){var n,i,o,r=this,a=r.options,s=a.justified,l=r.box,c=r.majorAngles(),d=c.length,u=360/d;return a.reverse&&!s&&(e=(e+1)%d),e=se(C.floor(e),0,d-1),i=c[e],s&&(i-=u/2,0>i&&(i+=360)),t=se(C.ceil(t||e),e,d-1),n=t-e+1,o=u*n,new X(l.center(),0,l.height()/2,i,o);},slot:function slot(e,t){var n=this.getSlot(e,t),i=n.startAngle+180,o=i+n.angle;return new R.Arc([n.c.x,n.c.y],{startAngle:i,endAngle:o,radiusX:n.r,radiusY:n.r});},pointCategoryIndex:function pointCategoryIndex(e){var t,n,i=this,o=null,r=i.options.categories.length;for(t=0;r>t;t++){if(n=i.getSlot(t),n.containsPoint(e)){o=t;break;}}return o;}});T(Re.fn,Ee),o={options:{majorGridLines:{visible:!0}},createPlotBands:function createPlotBands(){var e,t,n,i,o,r,a=this,s=a.options,l=s.plotBands||[],c=s.majorGridLines.type,d=a.plotArea.polarAxis,u=d.majorAngles(),h=d.box.center(),f=this._plotbandGroup=new E.Group({zIndex:-1});for(e=0;l.length>e;e++){t=l[e],n={fill:{color:t.color,opacity:t.opacity},stroke:{opacity:t.opacity}},i=a.getSlot(t.from,t.to,!0),o=new X(h,h.y-i.y2,h.y-i.y1,0,360),r=c===ce?te.current.createRing(o,n):E.Path.fromPoints(a.plotBandPoints(o,u),n).close(),f.append(r);}a.appendVisual(f);},plotBandPoints:function plotBandPoints(e,t){var n,i=[],o=[],r=[e.c.x,e.c.y],a=new R.Circle(r,e.ir),s=new R.Circle(r,e.r);for(n=0;t.length>n;n++){i.push(a.pointAt(t[n])),o.push(s.pointAt(t[n]));}return i.reverse(),i.push(i[0]),o.push(o[0]),o.concat(i);},createGridLines:function createGridLines(e){var t,n=this,i=n.options,o=n.radarMajorGridLinePositions(),r=e.majorAngles(),a=e.box.center(),s=[];return i.majorGridLines.visible&&(s=n.renderGridLines(a,o,r,i.majorGridLines)),i.minorGridLines.visible&&(t=n.radarMinorGridLinePositions(),A(s,n.renderGridLines(a,t,r,i.minorGridLines))),s;},renderGridLines:function renderGridLines(e,t,n,i){var o,r,a,s,l,c={stroke:{width:i.width,color:i.color,dashType:i.dashType}},d=this.gridLinesVisual();for(r=0;t.length>r;r++){if(o=e.y-t[r],o>0)if(s=new R.Circle([e.x,e.y],o),i.type===ce)d.append(new E.Circle(s,c));else{for(l=new E.Path(c),a=0;n.length>a;a++){l.lineTo(s.pointAt(n[a]));}l.close(),d.append(l);}}return d.children;},getValue:function getValue(e){var t,n,o,r,a,s,l,c=this,d=c.options,u=c.lineBox(),h=c.plotArea.polarAxis,f=h.majorAngles(),p=h.box.center(),m=e.distanceTo(p),g=m;return d.majorGridLines.type!==ce&&f.length>1&&(t=e.x-p.x,n=e.y-p.y,o=(C.atan2(n,t)/fe+540)%360,f.sort(function(e,t){return i(e,o)-i(t,o);}),r=i(f[0],f[1])/2,a=i(o,f[0]),s=90-r,l=180-a-s,g=m*(C.sin(l*fe)/C.sin(s*fe))),c.axisType().fn.getValue.call(c,new Q(u.x1,u.y2-g));}},r=G.extend({radarMajorGridLinePositions:function radarMajorGridLinePositions(){return this.getTickPositions(this.options.majorUnit);},radarMinorGridLinePositions:function radarMinorGridLinePositions(){var e=this,t=e.options,n=0;return t.majorGridLines.visible&&(n=t.majorUnit),e.getTickPositions(t.minorUnit,n);},axisType:function axisType(){return G;}}),T(r.fn,o),a=q.extend({radarMajorGridLinePositions:function radarMajorGridLinePositions(){var e=this,t=[];return e.traverseMajorTicksPositions(function(e){t.push(e);},e.options.majorGridLines),t;},radarMinorGridLinePositions:function radarMinorGridLinePositions(){var e=this,t=[];return e.traverseMinorTicksPositions(function(e){t.push(e);},e.options.minorGridLines),t;},axisType:function axisType(){return q;}}),T(a.fn,o),s=M.extend({init:function init(e){var t=this;M.fn.init.call(t,e),e=t.options,e.minorUnit=e.minorUnit||t.options.majorUnit/2;},options:{type:"polar",startAngle:0,reverse:!1,majorUnit:60,min:0,max:360,labels:{margin:re(10)},majorGridLines:{color:de,visible:!0,width:1},minorGridLines:{color:"#aaa"}},getDivisions:function getDivisions(e){return G.fn.getDivisions.call(this,e)-1;},reflow:function reflow(e){this.box=e,this.reflowLabels();},reflowLabels:function reflowLabels(){var e,t,n=this,i=n.options,o=i.labels,r=o.skip||0,a=o.step||1,s=new B(),l=n.intervals(i.majorUnit,r,a),c=n.labels;for(t=0;c.length>t;t++){c[t].reflow(s),e=c[t].box,c[t].reflow(n.getSlot(l[t]).adjacentBox(0,e.width(),e.height()));}},lineBox:function lineBox(){return this.box;},intervals:function intervals(e,t,n,i){var o,r,a=this,s=a.options,l=a.getDivisions(e),c=s.min,d=[];for(t=t||0,n=n||1,r=t;l>r;r+=n){o=(360+c+r*e)%360,i&&I.inArray(o,i)||d.push(o);}return d;},majorIntervals:function majorIntervals(){return this.intervals(this.options.majorUnit);},minorIntervals:function minorIntervals(){return this.intervals(this.options.minorUnit);},intervalAngle:function intervalAngle(e){return(540-e-this.options.startAngle)%360;},majorAngles:Re.fn.majorAngles,createLine:function createLine(){return[];},majorGridLineAngles:function majorGridLineAngles(e){var t=this.options.majorGridLines;return this.gridLineAngles(e,this.options.majorUnit,t.skip,t.step);},minorGridLineAngles:function minorGridLineAngles(e,t){var n=this.options,i=n.minorGridLines,o=n.majorGridLines,r=t?this.intervals(n.majorUnit,o.skip,o.step):null;return this.gridLineAngles(e,this.options.minorUnit,i.skip,i.step,r);},createPlotBands:Re.fn.createPlotBands,plotBandSlot:function plotBandSlot(e){return this.getSlot(e.from,e.to);},getSlot:function getSlot(e,t){var n,i=this,o=i.options,r=o.startAngle,a=i.box;return e=se(e,o.min,o.max),t=se(t||e,e,o.max),o.reverse&&(e*=-1,t*=-1),e=(540-e-r)%360,t=(540-t-r)%360,e>t&&(n=e,e=t,t=n),new X(a.center(),0,a.height()/2,e,t-e);},slot:function slot(e,t){var n,i,o,r,a=this.options,s=360-a.startAngle,l=this.getSlot(e,t);return I.util.defined(t)||(t=e),o=C.min(e,t),r=C.max(e,t),a.reverse?(n=o,i=r):(n=360-r,i=360-o),n=(n+s)%360,i=(i+s)%360,new R.Arc([l.c.x,l.c.y],{startAngle:n,endAngle:i,radiusX:l.r,radiusY:l.r});},getValue:function getValue(e){var t=this,n=t.options,i=t.box.center(),o=e.x-i.x,r=e.y-i.y,a=C.round(C.atan2(r,o)/fe),s=n.startAngle;return n.reverse||(a*=-1,s*=-1),(a+s+360)%360;},range:G.fn.range,labelsCount:G.fn.labelsCount,createAxisLabel:G.fn.createAxisLabel}),T(s.fn,Ee),l=O.extend({options:{gap:1,spacing:0},reflow:function reflow(e){var t,n,i=this,o=i.options,r=i.children,a=o.gap,s=o.spacing,l=r.length,c=l+a+s*(l-1),d=e.angle/c,u=e.startAngle+d*(a/2);for(n=0;l>n;n++){t=e.clone(),t.startAngle=u,t.angle=d,r[n].sector&&(t.r=r[n].sector.r),r[n].reflow(t),r[n].sector=t,u+=d+d*s;}}}),c=O.extend({reflow:function reflow(e){var t,n,i=this,o=i.options.isReversed,r=i.children,a=r.length,s=o?a-1:0,l=o?-1:1;for(i.box=new B(),n=s;n>=0&&a>n;n+=l){t=r[n].sector,t.startAngle=e.startAngle,t.angle=e.angle;}}}),d=U.extend({init:function init(e,t){U.fn.init.call(this,e,null,t);},options:{overlay:{gradient:null},labels:{distance:10}}}),u=z.extend({pointType:function pointType(){return d;},clusterType:function clusterType(){return l;},stackType:function stackType(){return c;},categorySlot:function categorySlot(e,t){return e.getSlot(t);},pointSlot:function pointSlot(e,t){var n=e.clone(),i=e.c.y;return n.r=i-t.y1,n.ir=i-t.y2,n;},reflow:H.fn.reflow,reflowPoint:function reflowPoint(e,t){e.sector=t,e.reflow();},options:{clip:!1,animation:{type:"pie"}},createAnimation:function createAnimation(){this.options.animation.center=this.box.toRect().center(),z.fn.createAnimation.call(this);}}),h=W.extend({options:{clip:!1},pointSlot:function pointSlot(e,t){var n=e.c.y-t.y1,i=Q.onCircle(e.c,e.middle(),n);return new B(i.x,i.y,i.x,i.y);},createSegment:function createSegment(e,t,n){var i,o,r=t.style;return o=r==xe?ne:j,i=new o(e,t,n),e.length===t.data.length&&(i.options.closed=!0),i;}}),f=F.extend({points:function points(){return j.fn.points.call(this,this.stackPoints);}}),p=ie.extend({closeFill:e.noop}),m=h.extend({createSegment:function createSegment(e,t,n,i){var o,r,a=this,s=a.options,l=s.isStacked,c=(t.line||{}).style;return c===xe?(r=new p(e,i,l,t,n),r.options.closed=!0):(l&&n>0&&i&&(o=i.linePoints.slice(0).reverse()),e.push(e[0]),r=new f(e,o,t,n)),r;},seriesMissingValues:function seriesMissingValues(e){return e.missingValues||Te;}}),g=J.extend({pointSlot:function pointSlot(e,t){var n=e.c.y-t.y1,i=Q.onCircle(e.c,e.startAngle,n);return new B(i.x,i.y,i.x,i.y);},options:{clip:!1}}),v=Z.extend({pointSlot:g.fn.pointSlot,options:{clip:!1}}),_=F.extend({points:function points(){var e=this,t=e.parent,n=t.plotArea,i=n.polarAxis,o=i.box.center(),r=e.stackPoints,a=j.fn.points.call(e,r);return a.unshift([o.x,o.y]),a.push([o.x,o.y]),a;}}),b=ie.extend({closeFill:function closeFill(e){var t=this._polarAxisCenter();e.lineTo(t.x,t.y);},_polarAxisCenter:function _polarAxisCenter(){var e=this.parent,t=e.plotArea,n=t.polarAxis,i=n.box.center();return i;},strokeSegments:function strokeSegments(){var e,t,n,i=this._strokeSegments;return i||(e=this._polarAxisCenter(),t=new V(!1),n=j.fn.points.call(this),n.push(e),i=this._strokeSegments=t.process(n),i.pop()),i;}}),w=v.extend({createSegment:function createSegment(e,t,n){var i,o=(t.line||{}).style;return i=o==xe?new b(e,null,!1,t,n):new _(e,[],t,n);},createMissingValue:function createMissingValue(e,t){var n;return I.hasValue(e.x)&&t!=me&&(n={x:e.x,y:e.y},t==Te&&(n.y=0)),n;},seriesMissingValues:function seriesMissingValues(e){return e.missingValues||Te;},_hasMissingValuesGap:function _hasMissingValuesGap(){var e,t=this.options.series;for(e=0;t.length>e;e++){if(this.seriesMissingValues(t[e])===pe)return!0;}},sortPoints:function sortPoints(e){var t,i,o;if(e.sort(n),this._hasMissingValuesGap())for(o=0;e.length>o;o++){i=e[o],i&&(t=i.value,I.hasValue(t.y)||this.seriesMissingValues(i.series)!==pe||delete e[o]);}return e;}}),y=$.extend({init:function init(e,t){var n=this;n.valueAxisRangeTracker=new P(),$.fn.init.call(n,e,t);},render:function render(){var e=this;e.addToLegend(e.series),e.createPolarAxis(),e.createCharts(),e.createValueAxis();},alignAxes:function alignAxes(){var e=this.valueAxis,t=e.range(),n=e.options.reverse?t.max:t.min,i=e.getSlot(n),o=this.polarAxis.getSlot(0).c,r=e.box.translate(o.x-i.x1,o.y-i.y1);e.reflow(r);},createValueAxis:function createValueAxis(){var e,t,n,i,o=this,s=o.valueAxisRangeTracker,l=s.query(),c=o.valueAxisOptions({roundToMajorUnit:!1,zIndex:-1});c.type===ge?(n=a,i={min:.1,max:1}):(n=r,i={min:0,max:1}),e=s.query(name)||l||i,e&&l&&(e.min=C.min(e.min,l.min),e.max=C.max(e.max,l.max)),t=new n(e.min,e.max,c),o.valueAxis=t,o.appendAxis(t);},reflowAxes:function reflowAxes(){var e,t=this,n=t.options.plotArea,i=t.valueAxis,o=t.polarAxis,r=t.box,a=C.min(r.width(),r.height())*he,s=re(n.padding||{},a),l=r.clone().unpad(s),c=l.clone().shrink(0,l.height()/2);o.reflow(l),i.reflow(c),e=i.lineBox().height()-i.box.height(),i.reflow(i.box.unpad({top:e})),t.axisBox=l,t.alignAxes(l);},backgroundBox:function backgroundBox(){return this.box;}}),k=y.extend({options:{categoryAxis:{categories:[]},valueAxis:{}},createPolarAxis:function createPolarAxis(){var e,t=this;e=new Re(t.options.categoryAxis),t.polarAxis=e,t.categoryAxis=e,t.appendAxis(e),t.aggregateCategories();},valueAxisOptions:function valueAxisOptions(e){var t=this;return t._hasBarCharts&&T(e,{majorGridLines:{type:ce},minorGridLines:{type:ce}}),t._isStacked100&&T(e,{roundToMajorUnit:!1,labels:{format:"P0"}}),T(e,t.options.valueAxis);},appendChart:N.fn.appendChart,aggregateSeries:N.fn.aggregateSeries,aggregateCategories:function aggregateCategories(){N.fn.aggregateCategories.call(this,this.panes);},filterSeries:function filterSeries(e){return e;},createCharts:function createCharts(){var e=this,t=e.filterVisibleSeries(e.series),n=e.panes[0];e.createAreaChart(ae(t,[we]),n),e.createLineChart(ae(t,[ke]),n),e.createBarChart(ae(t,[ye]),n);},chartOptions:function chartOptions(e){var t,n,i={series:e},o=e[0];return o&&(t=this.filterVisibleSeries(e),n=o.stack,i.isStacked=n&&t.length>1,i.isStacked100=n&&"100%"===n.type&&t.length>1,i.isStacked100&&(this._isStacked100=!0)),i;},createAreaChart:function createAreaChart(e,t){if(0!==e.length){var n=new m(this,this.chartOptions(e));this.appendChart(n,t);}},createLineChart:function createLineChart(e,t){if(0!==e.length){var n=new h(this,this.chartOptions(e));this.appendChart(n,t);}},createBarChart:function createBarChart(e,t){var n,i,o;0!==e.length&&(n=e[0],i=this.chartOptions(e),i.gap=n.gap,i.spacing=n.spacing,o=new u(this,i),this.appendChart(o,t),this._hasBarCharts=!0);},seriesCategoryAxis:function seriesCategoryAxis(){return this.categoryAxis;},_dispatchEvent:function _dispatchEvent(e,t,n){var i,o,r=this,a=e._eventCoordinates(t),s=new Q(a.x,a.y);i=r.categoryAxis.getCategory(s),o=r.valueAxis.getValue(s),null!==i&&null!==o&&e.trigger(n,{element:oe(t),category:i,value:o});},createCrosshairs:e.noop}),T(k.fn,Y),x=y.extend({options:{xAxis:{},yAxis:{}},createPolarAxis:function createPolarAxis(){var e,t=this;e=new s(t.options.xAxis),t.polarAxis=e,t.axisX=e,t.appendAxis(e);},valueAxisOptions:function valueAxisOptions(e){var t=this;return T(e,{majorGridLines:{type:ce},minorGridLines:{type:ce}},t.options.yAxis);},createValueAxis:function createValueAxis(){var e=this;y.fn.createValueAxis.call(e),e.axisY=e.valueAxis;},appendChart:function appendChart(e,t){var n=this;n.valueAxisRangeTracker.update(e.yAxisRanges),$.fn.appendChart.call(n,e,t);},createCharts:function createCharts(){var e=this,t=e.filterVisibleSeries(e.series),n=e.panes[0];e.createLineChart(ae(t,[_e]),n),e.createScatterChart(ae(t,[be]),n),e.createAreaChart(ae(t,[ve]),n);},createLineChart:function createLineChart(e,t){if(0!==e.length){var n=this,i=new v(n,{series:e});n.appendChart(i,t);}},createScatterChart:function createScatterChart(e,t){if(0!==e.length){var n=this,i=new g(n,{series:e});n.appendChart(i,t);}},createAreaChart:function createAreaChart(e,t){if(0!==e.length){var n=this,i=new w(n,{series:e});n.appendChart(i,t);}},_dispatchEvent:function _dispatchEvent(e,t,n){var i,o,r=this,a=e._eventCoordinates(t),s=new Q(a.x,a.y);i=r.axisX.getValue(s),o=r.axisY.getValue(s),null!==i&&null!==o&&e.trigger(n,{element:oe(t),x:i,y:o});},createCrosshairs:e.noop}),T(x.fn,Y),K.current.register(x,De),K.current.register(k,Ae),ee.current.register(De,[Ce,Se],["color"]),ee.current.register(Ae,["value"],["color"]),I.DefaultAggregates.current.register(Ae,{value:"max",color:"first"}),T(I,{PolarAreaChart:w,PolarAxis:s,PolarLineChart:v,PolarPlotArea:x,RadarAreaChart:m,RadarBarChart:u,RadarCategoryAxis:Re,RadarClusterLayout:l,RadarLineChart:h,RadarNumericAxis:r,RadarPlotArea:k,SplinePolarAreaSegment:b,SplineRadarAreaSegment:p,RadarStackLayout:c});}(window.kendo.jQuery),window.kendo;},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("kendo.dataviz.chart.funnel.min",["kendo.dataviz.chart.min","kendo.drawing.min"],e);}(function(){return function(e,t){var n,i=window.kendo,o=i.deepExtend,r=e.extend,a=i.isFunction,s=i.template,l=i.util,c=l.append,d=i.drawing,u=i.geometry,h=i.dataviz,f=i.drawing.Color,p=h.ChartElement,m=h.PieChartMixin,g=h.PlotAreaBase,v=h.PlotAreaFactory,_=h.Point2D,b=h.Box2D,w=h.SeriesBinder,y=h.TextBox,k=h.autoFormat,x=h.evalOptions,C=l.limitValue,S=h.seriesTotal,T="category",D="color",A="funnel",E="value",R="black",I="white",F=g.extend({render:function render(){var e=this,t=e.series;e.createFunnelChart(t);},createFunnelChart:function createFunnelChart(e){var t=this,n=e[0],i=new M(t,{series:e,legend:t.options.legend,neckRatio:n.neckRatio,dynamicHeight:n.dynamicHeight,dynamicSlope:n.dynamicSlope,segmentSpacing:n.segmentSpacing,highlight:n.highlight});t.appendChart(i);},appendChart:function appendChart(e,t){g.fn.appendChart.call(this,e,t),c(this.options.legend.items,e.legendItems);}}),M=p.extend({init:function init(e,t){var n=this;p.fn.init.call(n,t),n.plotArea=e,n.points=[],n.labels=[],n.legendItems=[],n.render();},options:{neckRatio:.3,width:300,dynamicSlope:!1,dynamicHeight:!0,segmentSpacing:0,labels:{visible:!1,align:"center",position:"center"}},formatPointValue:function formatPointValue(e,t){return k(t,e.value);},render:function render(){var e,n,i,r,s,l,c,d=this,u=d.options,h=d.plotArea.options.seriesColors||[],f=h.length,p=u.series[0],m=p.data;if(m)for(i=S(p),s=0;m.length>s;s++){e=w.current.bindPoint(p,s),r=e.valueFields.value,null!==r&&r!==t&&(n=e.fields,a(p.color)||(p.color=n.color||h[s%f]),n=o({index:s,owner:d,series:p,category:n.category,dataItem:m[s],percentage:Math.abs(r)/i,visibleInLegend:n.visibleInLegend,visible:n.visible},n),l=d.createSegment(r,n),c=d.createLabel(r,n),l&&c&&l.append(c));}},evalSegmentOptions:function evalSegmentOptions(e,t,n){var i=n.series;x(e,{value:t,series:i,dataItem:n.dataItem,index:n.index},{defaults:i._defaults,excluded:["data","toggle","visual"]});},createSegment:function createSegment(e,i){var a,s=this,l=o({},i.series);return s.evalSegmentOptions(l,e,i),s.createLegendItem(e,l,i),i.visible!==!1?(a=new n(e,l,i),r(a,i),s.append(a),s.points.push(a),a):t;},createLabel:function createLabel(e,n){var i,r,a,l=this,c=n.series,d=n.dataItem,u=o({},l.options.labels,c.labels),h=e;return u.visible?(u.template?(r=s(u.template),h=r({dataItem:d,value:e,percentage:n.percentage,category:n.category,series:c})):u.format&&(h=k(u.format,h)),u.color||"center"!==u.align||(a=new f(c.color).percBrightness(),u.color=a>180?R:I),l.evalSegmentOptions(u,e,n),i=new y(h,o({vAlign:u.position},u)),l.labels.push(i),i):t;},labelPadding:function labelPadding(){var e,t,n,i,o=this.labels,r={left:0,right:0};for(i=0;o.length>i;i++){e=o[i],t=e.options.align,"center"!==t&&(n=o[i].box.width(),"left"===t?r.left=Math.max(r.left,n):r.right=Math.max(r.right,n));}return r;},reflow:function reflow(t){var n,i,o,r,a,s,l,c,d,h,f,p,m=this,g=m.options,v=m.points,_=v.length,b=1>=g.neckRatio,w=t.clone().unpad(m.labelPadding()),y=w.width(),k=0,x=b?0:(y-y/g.neckRatio)/2,S=g.segmentSpacing,T=g.dynamicSlope,D=w.height()-S*(_-1),A=b?g.neckRatio*y:y;if(_){if(T)for(l=v[0],c=l,e.each(v,function(e,t){t.percentage>c.percentage&&(c=t);}),o=l.percentage/c.percentage*y,x=(y-o)/2,n=0;_>n;n++){a=v[n].percentage,d=v[n+1],h=d?d.percentage:a,r=v[n].points=[],i=g.dynamicHeight?D*a:D/_,s=a?(y-o*(h/a))/2:h?0:y/2,s=C(s,0,y),r.push(new u.Point(w.x1+x,w.y1+k)),r.push(new u.Point(w.x1+y-x,w.y1+k)),r.push(new u.Point(w.x1+y-s,w.y1+i+k)),r.push(new u.Point(w.x1+s,w.y1+i+k)),x=s,k+=i+S,o=C(y-2*s,0,y);}else for(f=b?y:y-2*x,p=(f-A)/2,n=0;_>n;n++){r=v[n].points=[],a=v[n].percentage,s=g.dynamicHeight?p*a:p/_,i=g.dynamicHeight?D*a:D/_,r.push(new u.Point(w.x1+x,w.y1+k)),r.push(new u.Point(w.x1+y-x,w.y1+k)),r.push(new u.Point(w.x1+y-x-s,w.y1+i+k)),r.push(new u.Point(w.x1+x+s,w.y1+i+k)),x+=s,k+=i+S;}for(n=0;_>n;n++){v[n].reflow(t);}}}});o(M.fn,m),n=p.extend({init:function init(e,t,n){var i=this;p.fn.init.call(i,t),i.value=e,i.options.index=n.index;},options:{color:I,border:{width:1}},reflow:function reflow(e){var t=this,n=t.points,i=t.children[0];t.box=new b(n[0].x,n[0].y,n[1].x,n[2].y),i&&i.reflow(new b(e.x1,n[0].y,e.x2,n[2].y));},createVisual:function createVisual(){var e,t=this,n=t.options;p.fn.createVisual.call(this),e=n.visual?n.visual({category:t.category,dataItem:t.dataItem,value:t.value,series:t.series,percentage:t.percentage,points:t.points,options:n,createVisual:function createVisual(){return t.createPath();}}):t.createPath(),e&&this.visual.append(e);},createPath:function createPath(){var e=this.options,t=e.border,n=d.Path.fromPoints(this.points,{fill:{color:e.color,opacity:e.opacity},stroke:{color:t.color,opacity:t.opacity,width:t.width}}).close();return n;},createHighlight:function createHighlight(e){return d.Path.fromPoints(this.points,e);},highlightVisual:function highlightVisual(){return this.visual.children[0];},highlightVisualArgs:function highlightVisualArgs(){var e=d.Path.fromPoints(this.points).close();return{options:this.options,path:e};},highlightOverlay:function highlightOverlay(e,t){var n,i,o,a=this.options,s=a.highlight||{};if(s.visible!==!1)return n=s.border||{},i=r({},t,{fill:s.color,stroke:n.color,strokeOpacity:n.opacity,strokeWidth:n.width,fillOpacity:s.opacity}),o=e.createPolyline(this.points,!0,i);},tooltipAnchor:function tooltipAnchor(e){var t=this.box;return new _(t.center().x-e/2,t.y1);},formatValue:function formatValue(e){var t=this;return t.owner.formatPointValue(t,e);}}),o(n.fn,h.PointEventsMixin),v.current.register(F,[A]),w.current.register([A],[E],[T,D,"visibleInLegend","visible"]),o(h,{FunnelChart:M,FunnelSegment:n});}(window.kendo.jQuery),window.kendo;},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("kendo.dataviz.gauge.min",["kendo.dataviz.core.min","kendo.drawing.min","kendo.dataviz.themes.min"],e);}(function(){return function(e,t){function n(e,t){var n=e.box,i=e.children[0].box,r=t.border||{},a=t.background||"",s=new A(),l=E.fromRect(new R([n.x1,n.y1],[n.width(),n.height()]),{stroke:{}}),c=new I(e.text,new D(i.x1,i.y1),{font:t.font,fill:{color:t.color}}),d=o(c.bbox().clone(),t.padding),u=E.fromRect(d,{stroke:{color:r.width?r.color:"",width:r.width,dashType:r.dashType,lineJoin:"round",lineCap:"round"},fill:{color:a}});return s.append(l),s.append(u),s.append(c),s;}function i(e,t,n){var i=w(e.from)?e.from:V,o=w(e.to)?e.to:O;return e.from=l.max(l.min(o,i),t),e.to=l.min(l.max(o,i),n),e;}function o(e,t){var n=e.getOrigin(),i=e.getSize(),o=x(t);return e.setOrigin([n.x-o.left,n.y-o.top]),e.setSize([i.width+(o.left+o.right),i.height+(o.top+o.bottom)]),e;}function r(e,t){var n=x(t);return n.left=-n.left,n.top=-n.top,n.right=-n.right,n.bottom=-n.bottom,o(e,n);}var a,s,l=Math,c=window.kendo,d=c.util,u=c.ui.Widget,h=c.deepExtend,f=c.dataviz,p=f.autoMajorUnit,m=f.ChartElement,g=f.NumericAxis,v=f.Axis,_=f.Box2D,b=c.Class,w=d.defined,y=d.isNumber,k=f.interpolateValue,x=f.getSpacing,C=f.round,S=f.geometry,T=f.drawing,D=S.Point,A=T.Group,E=T.Path,R=S.Rect,I=T.Text,F=150,M=250,P="arrow",z="arrowPointer",B="barPointer",L="#000",H=.05,N=f.COORD_PRECISION,O=Number.MAX_VALUE,V=-Number.MAX_VALUE,U=200,W=.5,j=200,q=60,G=60,$=5,Y=l.PI/180,K=180,Q="inside",X="linear",J="needle",Z="outside",ee="radialPointer",te="x",ne="y",ie=b.extend({init:function init(e,t){var n=this,i=e.options;m.fn.init.call(n,t),t=n.options,t.fill=t.color,n.scale=e,t.value=w(t.value)?l.min(l.max(t.value,i.min),i.max):i.min;},options:{color:L},value:function value(e){var n=this,i=n.options,o=i.value,r=n.scale.options;return 0===arguments.length?o:(i._oldValue=i._oldValue!==t?i.value:r.min,i.value=l.min(l.max(e,r.min),r.max),n.elements&&n.repaint(),t);}}),oe=ie.extend({options:{shape:J,cap:{size:H},arrow:{width:16,height:14},animation:{type:ee,duration:F}},setRadius:function setRadius(e){var t=this;e&&(t.elements.clear(),t.render(t.parent,t.center,e));},setAngle:function setAngle(e){this.elements.transform(S.transform().rotate(e,this.center));},repaint:function repaint(){var e=this,t=e.scale,n=e.options,i=t.slotAngle(n._oldValue),o=t.slotAngle(n.value);n.animation.transitions===!1?e.setAngle(o):new fe(e.elements,h(n.animation,{oldAngle:i,newAngle:o})).play();},render:function render(){var e=this,t=e.scale,n=t.arc.center,i=e.options,o=new A();return i.animation!==!1&&h(i.animation,{startAngle:0,center:n,reverse:t.options.reverse}),i.shape===J?o.append(e._renderNeedle(),e._renderCap()):o.append(e._renderArrow()),e.elements=o,e.setAngle(Y),o;},reflow:function reflow(e){var t=this,n=t.center=e.center,i=t.radius=e.getRadiusX(),o=t.capSize=Math.round(i*t.options.cap.size);t.bbox=R.fromPoints(new D(n.x-o,n.y-o),new D(n.x+o,n.y+o));},_renderNeedle:function _renderNeedle(){var e=this,t=e.options,n=e.scale.options.minorTicks.size,i=e.center,o=t.color,r=new E({fill:{color:o},stroke:{color:o,width:W}});return r.moveTo(i.x+e.radius-n,i.y).lineTo(i.x,i.y-e.capSize/2).lineTo(i.x,i.y+e.capSize/2).close(),r;},_renderCap:function _renderCap(){var e=this,t=e.options,n=t.cap.color||t.color,i=new S.Circle(e.center,e.capSize),o=new T.Circle(i,{fill:{color:n},stroke:{color:n}});return o;}}),re=g.extend({init:function init(e){var t=this;t.options=h({},t.options,e),t.options.majorUnit=t.options.majorUnit||p(t.options.min,t.options.max),t.options.minorUnit=t.options.minorUnit||t.options.majorUnit/10,v.fn.init.call(t,t.options);},options:{min:0,max:100,majorTicks:{size:15,align:Q,color:L,width:W,visible:!0},minorTicks:{size:10,align:Q,color:L,width:W,visible:!0},startAngle:-30,endAngle:210,labels:{position:Q,padding:2}},render:function render(e,t){var n=this,i=n.renderArc(e,t);n.bbox=i.bbox(),n.labelElements=n.renderLabels(),n.ticks=n.renderTicks(),n.ranges=n.renderRanges();},reflow:function reflow(e){var n=this,i=e.center(),o=l.min(e.height(),e.width())/2;return n.bbox===t?n.render(i,o):(n.bbox=n.arc.bbox(),n.radius(n.arc.getRadiusX()),n.repositionRanges(),n.renderLabels(),t);},slotAngle:function slotAngle(e){var t,n=this.options,i=n.startAngle,o=n.reverse,r=n.endAngle-i,a=n.min,s=n.max;return t=o?n.endAngle-(e-a)/(s-a)*r:(e-a)/(s-a)*r+i,t+K;},renderLabels:function renderLabels(){var e,i,o,r,a,s,c,d,u,h,p,m,g,v,_=this,b=_.options,w=b.majorTicks.size,y=_.arc.clone(),k=y.getRadiusX(),x=_.tickAngles(y,b.majorUnit),C=_.labels,T=C.length,E=b.labels,I=E.padding,F=.05*k,M=b.rangeSize=b.rangeSize||.1*k,P=b.ranges||[],z=new A();for(_.options.rangeDistance!==t?F=_.options.rangeDistance:_.options.rangeDistance=F,E.position===Q&&(k-=w,P.length&&_.labelElements===t&&(k-=M+F),y.setRadiusX(k).setRadiusY(k)),c=0;T>c;c++){a=C[c],e=a.box.width()/2,i=a.box.height()/2,r=x[c],o=(r-K)*Y,h=E.position===Q,s=y.pointAt(r),d=s.x+l.cos(o)*(e+I)*(h?1:-1),u=s.y+l.sin(o)*(i+I)*(h?1:-1),a.reflow(new f.Box2D(d-e,u-i,d+e,u+i)),m=new D(a.box.x1,a.box.y1),_.labelElements===t?(p=n(a,b.labels),z.append(p)):(p=_.labelElements.children[c],g=p.bbox().origin,v=p.transform()||S.transform(),v.translate(m.x-g.x,m.y-g.y),p.transform(v)),_.bbox=R.union(_.bbox,p.bbox());}return z;},repositionRanges:function repositionRanges(){var e,t,n,i=this,o=i.ranges.children,r=i.options.rangeSize,a=i.options.rangeDistance;if(o.length>0){for(e=i.getRangeRadius(),i.options.labels.position===Q&&(e+=r+a),t=e+r/2,n=0;o.length>n;n++){o[n]._geometry.setRadiusX(t).setRadiusY(t);}i.bbox=R.union(i.bbox,i.ranges.bbox());}},renderRanges:function renderRanges(){var e,t,n,i,o,r,a=this,s=a.arc,l=new A(),c=a.rangeSegments(),d=c.length,u=a.options.reverse,h=a.options.rangeSize,f=a.options.rangeDistance;if(d)for(i=a.getRangeRadius(),a.radius(a.radius()-h-f),r=0;d>r;r++){n=c[r],e=a.slotAngle(n[u?"to":"from"]),t=a.slotAngle(n[u?"from":"to"]),t-e!==0&&(o=new S.Arc(s.center,{radiusX:i+h/2,radiusY:i+h/2,startAngle:e,endAngle:t}),l.append(new T.Arc(o,{stroke:{width:h,color:n.color,opacity:n.opacity}})));}return l;},rangeSegments:function rangeSegments(){function e(e,t,n,i){return{from:e,to:t,color:n,opacity:i};}var t,n,o,r,a,s=this,l=s.options,c=l.ranges||[],d=c.length,u=l.rangePlaceholderColor,h=[],f=l.min,p=l.max;if(d)for(h.push(e(f,p,u)),r=0;d>r;r++){for(t=i(c[r],f,p),n=h.length,a=0;n>a;a++){if(o=h[a],t.from>=o.from&&o.to>=t.from){h.push(e(t.from,t.to,t.color,t.opacity)),t.to>=o.from&&o.to>=t.to&&h.push(e(t.to,o.to,u,t.opacity)),o.to=t.from;break;}}}return h;},getRangeRadius:function getRangeRadius(){var e,t=this,n=t.options,i=n.majorTicks.size,o=n.rangeSize,r=n.rangeDistance,a=t.arc;return e=n.labels.position===Z?a.getRadiusX()-i-r-o:a.getRadiusX()-o;},renderArc:function renderArc(e,t){var n=this,i=n.options,o=n.arc=new S.Arc(e,{radiusX:t,radiusY:t,startAngle:i.startAngle+K,endAngle:i.endAngle+K});return o;},renderTicks:function renderTicks(){function e(e,t,n,i){var o,r,a,s=new A(),l=e.center,c=e.getRadiusX(),d=i.visible;if(d)for(o=0;t.length>o;o++){r=e.pointAt(t[o]),a=new D(l.x+c-i.size,l.y).rotate(t[o],l),s.append(new E({stroke:{color:i.color,width:i.width}}).moveTo(r).lineTo(a));}return s;}var t=this,n=t.arc,i=t.options,o=i.labels.position,r=new A(),a=i.majorTicks.size,s=i.minorTicks.size,l=n.clone(),c=l.getRadiusX();return t.majorTickAngles=t.tickAngles(n,i.majorUnit),t.majorTicks=e(l,t.majorTickAngles,i.majorUnit,i.majorTicks),r.append(t.majorTicks),t._tickDifference=a-s,o===Z&&l.setRadiusX(c-a+s).setRadiusY(c-a+s),t.minorTickAngles=t.normalizeTickAngles(t.tickAngles(n,i.minorUnit)),t.minorTicks=e(l,t.minorTickAngles,i.minorUnit,i.minorTicks,i.majorUnit),r.append(t.minorTicks),r;},normalizeTickAngles:function normalizeTickAngles(e){var t,n=this,i=n.options,o=i.majorUnit/i.minorUnit;for(t=e.length-1;t>=0;t--){t%o===0&&e.splice(t,1);}return e;},tickAngles:function tickAngles(e,t){var n,i=this,o=i.options,r=o.reverse,a=o.max-o.min,s=e.endAngle-e.startAngle,l=e.startAngle,c=a/t,d=s/c,u=[];for(r&&(l+=s,d=-d),n=0;c>n;n++){u.push(C(l,N)),l+=d;}return C(l)<=e.endAngle&&u.push(l),u;},radius:function radius(e){var n=this;return e?(n.arc.setRadiusX(e).setRadiusY(e),n.repositionTicks(n.majorTicks.children,n.majorTickAngles),n.repositionTicks(n.minorTicks.children,n.minorTickAngles,!0),t):n.arc.getRadiusX();},repositionTicks:function repositionTicks(e,t,n){var i,o,r,a,s,l=this,c=n?l._tickDifference||0:0,d=l.arc,u=d.getRadiusX();for(n&&l.options.labels.position===Z&&0!==c&&(d=l.arc.clone(),d.setRadiusX(u-c).setRadiusY(u-c)),i=0;e.length>i;i++){o=d.pointAt(t[i]),r=e[i].segments,a=o.x-r[0].anchor().x,s=o.y-r[0].anchor().y,e[i].transform(new S.Transformation().translate(a,s));}}}),ae=u.extend({init:function init(t,n){var i,o,r,a,s,l=this,d=f.ui.themes||{};if(c.destroy(t),e(t).empty(),u.fn.init.call(l,t),l.wrapper=l.element,l._originalOptions=h({},n),i=h({},l.options,n),r=i.theme,a=d[r]||d[r.toLowerCase()],o=r&&a?a.gauge:{},l.options=h({},o,i),e.isArray(i.pointer))for(s=0;i.pointer.length>s;s++){l.options.pointer[s]=h({},o.pointer,i.pointer[s]);}l.element.addClass("k-gauge"),l.surface=l._createSurface(),l.redraw();},options:{plotArea:{},theme:"default",renderAs:"",pointer:{},scale:{},gaugeArea:{}},destroy:function destroy(){this.surface.destroy(),u.fn.destroy.call(this);},value:function value(e){var n=this,i=n.pointers[0];return 0===arguments.length?i.value():(i.value(e),n._setValueOptions(e),t);},_draw:function _draw(){var e=this.surface;e.clear(),e.draw(this._visuals);},exportVisual:function exportVisual(){return this._visuals;},allValues:function allValues(t){var n,i=this,o=i.pointers,r=[];if(0===arguments.length){for(n=0;o.length>n;n++){r.push(o[n].value());}return r;}if(e.isArray(t))for(n=0;t.length>n;n++){y(t[n])&&o[n].value(t[n]);}i._setValueOptions(t);},_setValueOptions:function _setValueOptions(e){var t,n=[].concat(this.options.pointer);for(e=[].concat(e),t=0;e.length>t;t++){n[t].value=e[t];}},_resize:function _resize(){var e,t=this,n=t.options.transitions;for(t.options.transitions=!1,e=0;t.pointers.length>e;e++){t.pointers[e].options.animation.transitions=!1;}for(t.redraw(),t.options.transitions=n,e=0;t.pointers.length>e;e++){t.pointers[e].options.animation.transitions=n;}},redraw:function redraw(){var e,t=this,n=h(t._getSize(),t.options.gaugeArea),i=new R([0,0],[n.width,n.height]);t.surface.clear(),t.gaugeArea=t._createGaugeArea(),t.surface.element.css({width:n.width,height:n.height}),t._createModel(),e=r(i.bbox(),t._gaugeAreaMargin),t.reflow(e);},_createGaugeArea:function _createGaugeArea(){var e,t=this,n=t.options.gaugeArea,i=t.surface.size(),o=n.border||{},a=new R([0,0],[i.width,i.height]);return t._gaugeAreaMargin=n.margin||$,o.width>0&&(a=r(a,o.width)),e=E.fromRect(a,{stroke:{color:o.width?o.color:"",width:o.width,dashType:o.dashType,lineJoin:"round",lineCap:"round"},fill:{color:n.background}});},_createSurface:function _createSurface(){var t,n=this,i=n.options,o=n._getSize();return o=i.gaugeArea?h(o,i.gaugeArea):o,t=e("<div></div>").appendTo(n.element).css({width:o.width,height:o.height}),new T.Surface.create(t,{type:i.renderAs});},getSize:function getSize(){return this._getSize();},_getSize:function _getSize(){var e=this,t=e.element,n=t.width(),i=t.height();return n||(n=j),i||(i=U),{width:n,height:i};}}),se=ae.extend({init:function init(e,t){var n=this;ae.fn.init.call(n,e,t),c.notify(n,f.ui);},options:{name:"RadialGauge",transitions:!0,gaugeArea:{background:""}},reflow:function reflow(e){var t,n=this,i=n.pointers;for(n.scale.reflow(e),n._initialPlotArea=n.scale.bbox,t=0;i.length>t;t++){i[t].reflow(n.scale.arc),n._initialPlotArea=R.union(n._initialPlotArea,i[t].bbox);}n.fitScale(e),n.alignScale(e),n._buildVisual(n.gaugeArea,i,n.scale),n._draw();},_buildVisual:function _buildVisual(e,t,n){var i,o,r=new A();for(r.append(e),r.append(n.ticks),r.append(n.ranges),o=0;t.length>o;o++){i=t[o],i.render(),r.append(i.elements),i.value(i.options.value);}r.append(n.labelElements),this._visuals=r;},fitScale:function fitScale(e){for(var t,n,i,o,r,a=this,s=a.scale,c=s.arc,d=a._initialPlotArea,u=l.abs(a.getDiff(d,e)),h=C(u,N),f=C(-u,N),p=0,m=0;!(!(m++<100)||(p=r===i?p+1:0,p>5)||h!=o&&(t=a.getPlotBox(h,e,c),t>=0&&2>=t)||f!=o&&(i=a.getPlotBox(f,e,c),i>=0&&2>=i)||(o=t>0&&i>0?2*h:0>t&&0>i?2*f:C((h+f)/2||1,N),n=a.getPlotBox(o,e,c),n>=0&&2>=n));){r=i,n>0?(f=o,i=n):(h=o,t=n);}},getPlotBox:function getPlotBox(e,t,n){var i,o=this,r=o.scale,a=o.pointers,s=n.getRadiusX();for(n=n.clone(),n.setRadiusX(s+e).setRadiusY(s+e),r.arc=n,r.reflow(t),o.plotBbox=r.bbox,i=0;a.length>i;i++){a[i].reflow(n),o.plotBbox=R.union(o.plotBbox,a[i].bbox);}return o.getDiff(o.plotBbox,t);},getDiff:function getDiff(e,t){return l.min(t.width()-e.width(),t.height()-e.height());},alignScale:function alignScale(e){var t,n=this,i=n.plotBbox.center(),o=e.center(),r=i.x-o.x,a=i.y-o.y,s=n.scale,l=n.pointers;for(s.arc.center.x-=r,s.arc.center.y-=a,s.reflow(e),t=0;l.length>t;t++){l[t].reflow(s.arc),n.plotBbox=R.union(s.bbox,l[t].bbox);}},_createModel:function _createModel(){var t,n,i=this,o=i.options,r=o.pointer,a=i.scale=new re(o.scale);for(i.pointers=[],r=e.isArray(r)?r:[r],n=0;r.length>n;n++){t=new oe(a,h({},r[n],{animation:{transitions:o.transitions}})),i.pointers.push(t);}}}),le=ae.extend({init:function init(e,t){var n=this;ae.fn.init.call(n,e,t),c.notify(n,f.ui);},options:{name:"LinearGauge",transitions:!0,gaugeArea:{background:""},scale:{vertical:!0}},reflow:function reflow(e){var t,n=this,i=n.pointers,o=e.origin.x,r=e.origin.y,a=new f.Box2D(o,o,o+e.width(),r+e.height());for(n.scale.reflow(a),t=0;i.length>t;t++){i[t].reflow();}n.bbox=n._getBox(a),n._alignElements(),n._shrinkElements(),n._buildVisual(),n._draw();},_buildVisual:function _buildVisual(){var e,t,n=this,i=new A(),o=n.scale.render(),r=n.pointers;for(i.append(n.gaugeArea),i.append(o),t=0;r.length>t;t++){e=r[t],i.append(e.render()),e.value(e.options.value);}n._visuals=i;},_createModel:function _createModel(){var t,n,i,o=this,r=o.options,a=r.pointer,s=o.scale=new ce(r.scale);for(o.pointers=[],a=e.isArray(a)?a:[a],i=0;a.length>i;i++){n=h({},a[i],{animation:{transitions:r.transitions}}),t=n.shape===P?new ue(s,n):new he(s,n),o.pointers.push(t);}},_getSize:function _getSize(){var e=this,t=e.element,n=t.width(),i=t.height(),o=e.options.scale.vertical;return n||(n=o?q:j),i||(i=o?U:G),{width:n,height:i};},_getBox:function _getBox(e){var t,n,i=this,o=i.scale,r=i.pointers,a=e.center(),s=r[0].box.clone().wrap(o.box);for(n=0;r.length>n;n++){s.wrap(r[n].box.clone());}return o.options.vertical?(t=s.width()/2,s=new _(a.x-t,e.y1,a.x+t,e.y2)):(t=s.height()/2,s=new _(e.x1,a.y-t,e.x2,a.y+t)),s;},_alignElements:function _alignElements(){var e,t,n=this,i=n.scale,o=n.pointers,r=i.box,a=o[0].box.clone().wrap(i.box),s=n.bbox;for(t=0;o.length>t;t++){a.wrap(o[t].box.clone());}for(i.options.vertical?(e=s.center().x-a.center().x,i.reflow(new _(r.x1+e,s.y1,r.x2+e,s.y2))):(e=s.center().y-a.center().y,i.reflow(new _(s.x1,r.y1+e,s.x2,r.y2+e))),t=0;o.length>t;t++){o[t].reflow(n.bbox);}},_shrinkElements:function _shrinkElements(){var e,t=this,n=t.scale,i=t.pointers,o=n.box.clone(),r=n.options.vertical?"y":"x",a=i[0].box;for(e=0;i.length>e;e++){a.wrap(i[e].box.clone());}for(o[r+1]+=l.max(o[r+1]-a[r+1],0),o[r+2]-=l.max(a[r+2]-o[r+2],0),n.reflow(o),e=0;i.length>e;e++){i[e].reflow(t.bbox);}}}),ce=g.extend({init:function init(e){var t=this;t.options=h({},t.options,e),t.options=h({},t.options,{labels:{mirror:t.options.mirror}}),t.options.majorUnit=t.options.majorUnit||p(t.options.min,t.options.max),v.fn.init.call(t,t.options),t.options.minorUnit=t.options.minorUnit||t.options.majorUnit/10;},options:{min:0,max:50,majorTicks:{size:15,align:Q,color:L,width:W,visible:!0},minorTicks:{size:10,align:Q,color:L,width:W,visible:!0},line:{width:W},labels:{position:Q,padding:2},mirror:!1,_alignLines:!1},render:function render(){var e=this,t=e.elements=new A(),n=e.renderLabels(),i=e.renderLine(),o=e.renderTicks(),r=e.renderRanges();return t.append(i,n,o,r),t;},renderRanges:function renderRanges(){var e,t,n,o,r,a=this,s=a.options,l=s.min,c=s.max,d=s.ranges||[],u=s.vertical,h=s.labels.mirror,f=new A(),p=d.length,m=s.rangeSize||s.minorTicks.size/2;if(p)for(r=0;p>r;r++){e=i(d[r],l,c),t=a.getSlot(e.from,e.to),n=u?a.lineBox():t,o=u?t:a.lineBox(),u?n.x1-=m*(h?-1:1):o.y2+=m*(h?-1:1),f.append(E.fromRect(new R([n.x1,o.y1],[n.x2-n.x1,o.y2-o.y1]),{fill:{color:e.color,opacity:e.opacity},stroke:{}}));}return f;},renderLabels:function renderLabels(){var e,t=this,i=t.options,o=t.labels,r=new A();for(e=0;o.length>e;e++){r.append(n(o[e],i.labels));}return r;},renderLine:function renderLine(){var e,t=this,n=t.options,i=n.line,o=t.lineBox(),r=new A();return i.width>0&&i.visible&&(e=new E({stroke:{color:i.color,dashType:i.dashType,width:i.width}}),e.moveTo(o.x1,o.y1).lineTo(o.x2,o.y2),r.append(e)),r;},renderTicks:function renderTicks(){function e(e,i){var a,l=e.length;if(i.visible)for(a=i.skip;l>a;a+=i.step){a%i.skipUnit!==0&&(s.tickX=r?o.x2:o.x2-i.size,s.tickY=r?o.y1-i.size:o.y1,s.position=e[a],n.append(t.renderAxisTick(s,i)));}}var t=this,n=new A(),i=t.options,o=t.lineBox(),r=i.labels.mirror,a=i.majorTicks.visible?i.majorUnit:0,s={_alignLines:i._alignLines,vertical:i.vertical};return e(t.getMajorTickPositions(),i.majorTicks),e(t.getMinorTickPositions(),h({},{skipUnit:a/i.minorUnit},i.minorTicks)),n;},renderAxisTick:function renderAxisTick(e,t){var n,i,o,r=e.tickX,a=e.tickY,s=e.position;return e.vertical?(n=new D(r,s),i=new D(r+t.size,s)):(n=new D(s,a),i=new D(s,a+t.size)),o=new E({stroke:{color:t.color,width:t.width}}).moveTo(n).lineTo(i);}}),de=ie.extend({init:function init(e,t){var n=this;ie.fn.init.call(n,e,t),n.options=h({track:{visible:w(t.track)}},n.options);},options:{shape:B,track:{border:{width:1}},color:L,border:{width:1},opacity:1,margin:x(3),animation:{type:B},visible:!0},reflow:function reflow(){var e,t,n,i=this,o=i.options,r=i.scale,a=r.lineBox(),s=o.track.size||o.size,l=o.size/2,c=r.options.mirror,d=x(o.margin),u=r.options.vertical,h=u?d[c?"left":"right"]:d[c?"bottom":"top"];h=c?-h:h,u?(n=new _(a.x1+h,a.y1,a.x1+h,a.y2),c?n.x1-=s:n.x2+=s,o.shape!==B&&(t=new _(a.x2+h,a.y1-l,a.x2+h,a.y2+l),e=t)):(n=new _(a.x1,a.y1-h,a.x2,a.y1-h),c?n.y2+=s:n.y1-=s,o.shape!==B&&(t=new _(a.x1-l,a.y1-h,a.x2+l,a.y1-h),e=t)),i.trackBox=n,i.pointerRangeBox=t,i.box=e||n.clone().pad(o.border.width);},getElementOptions:function getElementOptions(){var e=this.options;return{fill:{color:e.color,opacity:e.opacity},stroke:w(e.border)?{color:e.border.width?e.border.color||e.color:"",width:e.border.width,dashType:e.border.dashType,opacity:e.opacity}:null};},_margin:function _margin(){var e=this,t=e.options,n=e.scale,i=n.options.mirror,o=x(t.margin),r=n.options.vertical,a=r?o[i?"left":"right"]:o[i?"bottom":"top"];return a;}}),ue=de.extend({init:function init(e,n){de.fn.init.call(this,e,n),this.options.size===t&&(this.options.size=.6*this.scale.options.majorTicks.size);},pointerShape:function pointerShape(){var e,t,n=this,i=n.options,o=n.scale,r=i.size,a=o.options.vertical,s=r/2,l=o.options.mirror?-1:1,c=o.options.reverse;return a?(e=c?"y2":"y1",t=[new D(0,0-s),new D(0-l*r,0),new D(0,0+s)]):(e=c?"x1":"x2",t=[new D(0-s,0),new D(0,0+l*r),new D(0+s,0)]),t;},repaint:function repaint(){var e=this,t=e.scale,n=e.options,i=new a(e.elements,h(n.animation,{vertical:t.options.vertical,mirror:t.options.mirror,margin:e._margin(n.margin),from:t.getSlot(n._oldValue),to:t.getSlot(n.value)}));n.animation.transitions===!1&&(i.options.duration=0),i.setup(),i.play();},render:function render(){var e,t=this,n=t.options,i=new A(),o=t.scale,r=t.getElementOptions(),a=t.pointerShape(n.value);return n.animation.type=z,i=new E({stroke:r.stroke,fill:r.fill}).moveTo(a[0]).lineTo(a[1]).lineTo(a[2]).close(),e=o.getSlot(n.value),i.transform(S.transform().translate(e.x1,e.y1)),t.elements=i,i;}}),he=de.extend({init:function init(e,n){de.fn.init.call(this,e,n),this.options.size===t&&(this.options.size=.3*this.scale.options.majorTicks.size);},pointerShape:function pointerShape(e){var t,n,i,o=this,r=o.options,a=o.scale,s=a.options.vertical,l=a.options.mirror,c=l==s?-1:1,d=r.size*c,u=a.getSlot(a.options.min),h=a.getSlot(e),f=s?ne:te,p=s?te:ne,m=o._margin()*c,g=new D();return g[f]=u[f+"1"],g[p]=u[p+"1"],t=new D(),t[f]=h[f+"1"],t[p]=h[p+"1"],s?(g.translate(m,0),t.translate(m,0)):(g.translate(0,m),t.translate(0,m)),n=t.clone(),i=g.clone(),s?(n.translate(d,0),i.translate(d,0)):(n.translate(0,d),i.translate(0,d)),[g,t,n,i];},repaint:function repaint(){var e,t=this,n=t.scale,i=t.options,o=t.pointerShape(i.value),r=t.elements.children[0],a=t.pointerShape(i._oldValue);r.moveTo(o[0]).lineTo(o[1]).lineTo(o[2]).lineTo(o[3]).close(),e=new s(r,h(i.animation,{reverse:n.options.reverse,vertical:n.options.vertical,oldPoints:[a[1],a[2]],newPoints:[o[1],o[2]]})),i.animation.transitions===!1&&(e.options.duration=0),e.setup(),e.play();},render:function render(){var e=this,t=new A(),n=e.getElementOptions(),i=new E({stroke:n.stroke,fill:n.fill});return t.append(i),e.elements=t,t;}}),fe=T.Animation.extend({init:function init(e,t){T.Animation.fn.init.call(this,e,t),t=this.options,t.duration=l.max(l.abs(t.newAngle-t.oldAngle)/t.duration*1e3,1);},options:{easing:X,duration:F},step:function step(e){var t=this,n=t.options,i=k(n.oldAngle,n.newAngle,e);t.element.transform(S.transform().rotate(i,n.center));}});T.AnimationFactory.current.register(ee,fe),a=T.Animation.extend({options:{easing:X,duration:M},setup:function setup(){var e,t,n=this.options,i=n.margin,o=n.from,r=n.to,a=n.vertical?"x1":"y1";n.mirror==n.vertical?(o[a]-=i,r[a]-=i):(o[a]+=i,r[a]+=i),e=this.fromScale=new D(o.x1,o.y1),t=this.toScale=new D(r.x1,r.y1),0!==n.duration&&(n.duration=l.max(e.distanceTo(t)/n.duration*1e3,1));},step:function step(e){var t=k(this.fromScale.x,this.toScale.x,e),n=k(this.fromScale.y,this.toScale.y,e);this.element.transform(S.transform().translate(t,n));}}),T.AnimationFactory.current.register(z,a),s=T.Animation.extend({options:{easing:X,speed:M},setup:function setup(){var e=this.options,t=e.newPoints,n=e.oldPoints,i=this.axis=e.vertical?ne:te,o=this.to=t[0][i],r=this.from=n[0][i];0!==e.duration&&(e.duration=l.max(l.abs(o-r)/e.speed*1e3,1)),this._set(r);},step:function step(e){var t=k(this.from,this.to,e);this._set(t);},_set:function _set(e){var t="set"+this.axis.toUpperCase(),n=this.options.newPoints;n[0][t](e),n[1][t](e);}}),T.AnimationFactory.current.register(B,s),f.ui.plugin(se),f.ui.plugin(le),f.ExportMixin.extend(ae.fn),h(f,{Gauge:ae,RadialPointer:oe,LinearPointer:de,ArrowLinearPointer:ue,BarLinearPointer:he,LinearScale:ce,RadialScale:re,LinearGauge:le,RadialGauge:se});}(window.kendo.jQuery),window.kendo;},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("kendo.dataviz.barcode.min",["kendo.dataviz.core.min","kendo.drawing.min"],e);}(function(){return function(e,t){function n(e,t,n){return e.substring(t,t+n);}var i,o,r,a,s,l,c=window.kendo,d=c.ui.Widget,u=e.extend,h=c.deepExtend,f=e.inArray,p=e.isPlainObject,m=c.drawing,g=c.geometry,v=c.util,_=v.defined,b=c.dataviz,w=b.Box2D,y=b.TextBox,k=300,x=100,C=10,S=/^\d+$/,T=/^[a-z0-9]+$/i,D="Character '{0}' is not valid for symbology {1}",A=c.Class.extend({init:function init(e){this.setOptions(e);},setOptions:function setOptions(e){var t=this;t.options=u({},t.options,e),t.quietZoneLength=t.options.addQuietZone?2*t.options.quietZoneLength:0;},encode:function encode(e,t,n){var i=this;return _(e)&&(e+=""),i.initValue(e,t,n),i.options.addQuietZone&&i.addQuietZone(),i.addData(),i.options.addQuietZone&&i.addQuietZone(),{baseUnit:i.baseUnit,pattern:i.pattern};},options:{quietZoneLength:C,addQuietZone:!0,addCheckSum:!0},initValue:function initValue(){},addQuietZone:function addQuietZone(){this.pattern.push(this.options.quietZoneLength||C);},addData:function addData(){},invalidCharacterError:function invalidCharacterError(e){throw Error(c.format(D,e,this.name));}}),E={},R=A.extend({minBaseUnitLength:.7,addData:function addData(){var e,t=this,n=t.value;for(t.addStart(),e=0;n.length>e;e++){t.addCharacter(n.charAt(e));}t.options.addCheckSum&&t.pushCheckSum(),t.addStop(),t.prepareValues();},addCharacter:function addCharacter(e){var t=this,n=t.characterMap[e];n||t.invalidCharacterError(e),t.addBase(n);},addBase:function addBase(){}}),I={addCharacter:function addCharacter(e){var t=this;t.characterMap[e]?t.addBase(t.characterMap[e]):e.charCodeAt(0)>127?t.invalidCharacterError(e):t.addExtended(e.charCodeAt(0));},addExtended:function addExtended(e){var n,i,o,r=this;for(i=0;r.extendedMappings.length>i;i++){if(n=r.extendedMappings[i].call(r,e)){for(o=0;n.length>o;o++){r.addBase(n[o]);}return r.dataLength+=n.length-1,t;}}},extendedMappings:[function(e){if(e>=97&&122>=e){var t=this;return[t.characterMap[t.shiftCharacters[0]],t.characterMap[String.fromCharCode(e-32)]];}},function(e){if(e>=33&&58>=e){var t=this;return[t.characterMap[t.shiftCharacters[1]],t.characterMap[String.fromCharCode(e+32)]];}},function(e){if(e>=1&&26>=e){var t=this;return[t.characterMap[t.shiftCharacters[2]],t.characterMap[String.fromCharCode(e+64)]];}},function(e){var t,n,i,o=this;if(o.specialAsciiCodes[e])for(t=[],i=0;o.specialAsciiCodes[e].length>i;i++){t.push(o.characterMap[o.shiftCharacters[3]]),t.push(o.characterMap[o.specialAsciiCodes[e][i]]);}else n=6*Math.floor(e/32)+(e-27)%32+64,t=[o.characterMap[o.shiftCharacters[3]],o.characterMap[String.fromCharCode(n)]];return t;}],specialAsciiCodes:{0:["U"],64:["V"],96:["W"],127:["T","X","Y","Z"]},shiftValuesAsciiCodes:{39:36,40:47,41:43,42:37},characterMap:{"+":!1,"/":!1,$:!1,"%":!1},shiftCharacters:["SHIFT0","SHIFT1","SHIFT2","SHIFT3"]};E.code39=R.extend({name:"Code 39",checkSumMod:43,minRatio:2.5,maxRatio:3,gapWidth:1,splitCharacter:"|",initValue:function initValue(e,t,n){var i=this;i.width=t,i.height=n,i.value=e,i.dataLength=e.length,i.pattern=[],i.patternString="";},prepareValues:function prepareValues(){var e,t,n=this,i=n.minBaseUnitLength,o=n.maxRatio,r=n.minRatio,a=Math.max(.15*n.width,24);if(a>n.height)throw Error("Insufficient Height. The minimum height for value: "+n.value+" is: "+a);for(;(e=n.getBaseUnit(o))<i&&o>r;){o=parseFloat((o-.1).toFixed(1));}if(i>e)throw t=Math.ceil(n.getBaseWidth(r)*i),Error("Insufficient width. The minimum width for value: "+n.value+" is: "+t);n.ratio=o,n.baseUnit=e,n.patternString=n.patternString.substring(0,n.patternString.length-1),n.pattern=n.pattern.concat(n.patternString.replace(/ratio/g,o).split(n.splitCharacter));},getBaseUnit:function getBaseUnit(e){return this.width/this.getBaseWidth(e);},getBaseWidth:function getBaseWidth(e){var t=this,n=3*(e+2);return t.quietZoneLength+n*(t.dataLength+2)+t.gapWidth*(t.dataLength+1);},addStart:function addStart(){var e=this;e.addPattern(e.characterMap.START.pattern),e.addCharacterGap();},addBase:function addBase(e){this.addPattern(e.pattern),this.addCharacterGap();},addStop:function addStop(){this.addPattern(this.characterMap.START.pattern);},addPattern:function addPattern(e){for(var t=0;e.length>t;t++){this.patternString+=this.patternMappings[e.charAt(t)];}},addCharacterGap:function addCharacterGap(){var e=this;e.patternString+=e.gapWidth+e.splitCharacter;},patternMappings:{b:"1|",w:"1|",B:"ratio|",W:"ratio|"},characterMap:{0:{pattern:"bwbWBwBwb",value:0},1:{pattern:"BwbWbwbwB",value:1},2:{pattern:"bwBWbwbwB",value:2},3:{pattern:"BwBWbwbwb",value:3},4:{pattern:"bwbWBwbwB",value:4},5:{pattern:"BwbWBwbwb",value:5},6:{pattern:"bwBWBwbwb",value:6},7:{pattern:"bwbWbwBwB",value:7},8:{pattern:"BwbWbwBwb",value:8},9:{pattern:"bwBWbwBwb",value:9},A:{pattern:"BwbwbWbwB",value:10},B:{pattern:"bwBwbWbwB",value:11},C:{pattern:"BwBwbWbwb",value:12},D:{pattern:"bwbwBWbwB",value:13},E:{pattern:"BwbwBWbwb",value:14},F:{pattern:"bwBwBWbwb",value:15},G:{pattern:"bwbwbWBwB",value:16},H:{pattern:"BwbwbWBwb",value:17},I:{pattern:"bwBwbWBwb",value:18},J:{pattern:"bwbwBWBwb",value:19},K:{pattern:"BwbwbwbWB",value:20},L:{pattern:"bwBwbwbWB",value:21},M:{pattern:"BwBwbwbWb",value:22},N:{pattern:"bwbwBwbWB",value:23},O:{pattern:"BwbwBwbWb",value:24},P:{pattern:"bwBwBwbWb",value:25},Q:{pattern:"bwbwbwBWB",value:26},R:{pattern:"BwbwbwBWb",value:27},S:{pattern:"bwBwbwBWb",value:28},T:{pattern:"bwbwBwBWb",value:29},U:{pattern:"BWbwbwbwB",value:30},V:{pattern:"bWBwbwbwB",value:31},W:{pattern:"BWBwbwbwb",value:32},X:{pattern:"bWbwBwbwB",value:33},Y:{pattern:"BWbwBwbwb",value:34},Z:{pattern:"bWBwBwbwb",value:35},"-":{pattern:"bWbwbwBwB",value:36},".":{pattern:"BWbwbwBwb",value:37}," ":{pattern:"bWBwbwBwb",value:38},$:{pattern:"bWbWbWbwb",value:39},"/":{pattern:"bWbWbwbWb",value:40},"+":{pattern:"bWbwbWbWb",value:41},"%":{pattern:"bwbWbWbWb",value:42},START:{pattern:"bWbwBwBwb"}},options:{addCheckSum:!1}}),E.code39extended=E.code39.extend(h({},I,{name:"Code 39 extended",characterMap:{SHIFT0:{pattern:"bWbwbWbWb",value:41},SHIFT1:{pattern:"bWbWbwbWb",value:40},SHIFT2:{pattern:"bWbWbWbwb",value:39},SHIFT3:{pattern:"bwbWbWbWb",value:42}}})),E.code93=R.extend({name:"Code 93",cCheckSumTotal:20,kCheckSumTotal:15,checkSumMod:47,initValue:function initValue(e,t,n){var i=this;i.value=e,i.width=t,i.height=n,i.pattern=[],i.values=[],i.dataLength=e.length;},prepareValues:function prepareValues(){var e=this,t=Math.max(.15*e.width,24);if(t>e.height)throw Error("Insufficient Height");if(e.setBaseUnit(),e.minBaseUnitLength>e.baseUnit)throw Error("Insufficient Width");},setBaseUnit:function setBaseUnit(){var e=this,t=2;e.baseUnit=e.width/(9*(e.dataLength+2+t)+e.quietZoneLength+1);},addStart:function addStart(){var e=this.characterMap.START.pattern;this.addPattern(e);},addStop:function addStop(){var e=this;e.addStart(),e.pattern.push(e.characterMap.TERMINATION_BAR);},addBase:function addBase(e){this.addPattern(e.pattern),this.values.push(e.value);},pushCheckSum:function pushCheckSum(){var e,t,n=this,i=n._getCheckValues();for(n.checksum=i.join(""),t=0;i.length>t;t++){e=n.characterMap[n._findCharacterByValue(i[t])],n.addPattern(e.pattern);}},_getCheckValues:function _getCheckValues(){var e,t,n,i=this,o=i.values,r=o.length,a=0;for(n=r-1;n>=0;n--){a+=i.weightedValue(o[n],r-n,i.cCheckSumTotal);}for(e=a%i.checkSumMod,a=i.weightedValue(e,1,i.kCheckSumTotal),n=r-1;n>=0;n--){a+=i.weightedValue(o[n],r-n+1,i.kCheckSumTotal);}return t=a%i.checkSumMod,[e,t];},_findCharacterByValue:function _findCharacterByValue(e){for(var t in this.characterMap){if(this.characterMap[t].value===e)return t;}},weightedValue:function weightedValue(e,t,n){return(t%n||n)*e;},addPattern:function addPattern(e){var t,n;for(n=0;e.length>n;n++){t=parseInt(e.charAt(n),10),this.pattern.push(t);}},characterMap:{0:{pattern:"131112",value:0},1:{pattern:"111213",value:1},2:{pattern:"111312",value:2},3:{pattern:"111411",value:3},4:{pattern:"121113",value:4},5:{pattern:"121212",value:5},6:{pattern:"121311",value:6},7:{pattern:"111114",value:7},8:{pattern:"131211",value:8},9:{pattern:"141111",value:9},A:{pattern:"211113",value:10},B:{pattern:"211212",value:11},C:{pattern:"211311",value:12},D:{pattern:"221112",value:13},E:{pattern:"221211",value:14},F:{pattern:"231111",value:15},G:{pattern:"112113",value:16},H:{pattern:"112212",value:17},I:{pattern:"112311",value:18},J:{pattern:"122112",value:19},K:{pattern:"132111",value:20},L:{pattern:"111123",value:21},M:{pattern:"111222",value:22},N:{pattern:"111321",value:23},O:{pattern:"121122",value:24},P:{pattern:"131121",value:25},Q:{pattern:"212112",value:26},R:{pattern:"212211",value:27},S:{pattern:"211122",value:28},T:{pattern:"211221",value:29},U:{pattern:"221121",value:30},V:{pattern:"222111",value:31},W:{pattern:"112122",value:32},X:{pattern:"112221",value:33},Y:{pattern:"122121",value:34},Z:{pattern:"123111",value:35},"-":{pattern:"121131",value:36},".":{pattern:"311112",value:37}," ":{pattern:"311211",value:38},$:{pattern:"321111",value:39},"/":{pattern:"112131",value:40},"+":{pattern:"113121",value:41},"%":{pattern:"211131",value:42},SHIFT0:{pattern:"122211",value:46},SHIFT1:{pattern:"311121",value:45},SHIFT2:{pattern:"121221",value:43},SHIFT3:{pattern:"312111",value:44},START:{pattern:"111141"},TERMINATION_BAR:"1"}}),E.code93extended=E.code93.extend(h({},I,{name:"Code 93 extended",pushCheckSum:function pushCheckSum(){var e,t,n=this,i=n._getCheckValues();for(n.checksum=i.join(""),t=0;i.length>t;t++){e=i[t],n.shiftValuesAsciiCodes[e]?n.addExtended(n.shiftValuesAsciiCodes[e]):n.addPattern(n.characterMap[n._findCharacterByValue(e)].pattern);}}})),i=c.Class.extend({init:function init(e){this.encoding=e;},addStart:function addStart(){},is:function is(){},move:function move(){},pushState:function pushState(){}}),o=i.extend({FNC4:"FNC4",init:function init(e,t){var n=this;n.encoding=e,n.states=t,n._initMoves(t);},addStart:function addStart(){this.encoding.addPattern(this.START);},is:function is(e,t){var n=e.charCodeAt(t);return this.isCode(n);},move:function move(e){for(var t=this,n=0;!t._moves[n].call(t,e)&&t._moves.length>n;){n++;}},pushState:function pushState(e){var t,n,i=this,o=i.states,r=e.value,a=r.length;for(f("C",o)>=0&&(n=r.substr(e.index).match(/\d{4,}/g),n&&(a=r.indexOf(n[0],e.index)));(t=e.value.charCodeAt(e.index))>=0&&i.isCode(t)&&a>e.index;){i.encoding.addPattern(i.getValue(t)),e.index++;}},_initMoves:function _initMoves(e){var t=this;t._moves=[],f(t.FNC4,e)>=0&&t._moves.push(t._moveFNC),f(t.shiftKey,e)>=0&&t._moves.push(t._shiftState),t._moves.push(t._moveState);},_moveFNC:function _moveFNC(e){return e.fnc?(e.fnc=!1,e.previousState==this.key):t;},_shiftState:function _shiftState(e){var n=this;return e.previousState==n.shiftKey&&(e.index+1>=e.value.length||n.encoding[n.shiftKey].is(e.value,e.index+1))?(n.encoding.addPattern(n.SHIFT),e.shifted=!0,!0):t;},_moveState:function _moveState(){return this.encoding.addPattern(this.MOVE),!0;},SHIFT:98}),r={},r.A=o.extend({key:"A",shiftKey:"B",isCode:function isCode(e){return e>=0&&96>e;},getValue:function getValue(e){return 32>e?e+64:e-32;},MOVE:101,START:103}),r.B=o.extend({key:"B",shiftKey:"A",isCode:function isCode(e){return e>=32&&128>e;},getValue:function getValue(e){return e-32;},MOVE:100,START:104}),r.C=i.extend({key:"C",addStart:function addStart(){this.encoding.addPattern(this.START);},is:function is(e,t){var i=n(e,t,4);return(e.length>=t+4||2==e.length)&&S.test(i);},move:function move(){this.encoding.addPattern(this.MOVE);},pushState:function pushState(e){for(var t;(t=n(e.value,e.index,2))&&S.test(t)&&2==t.length;){this.encoding.addPattern(parseInt(t,10)),e.index+=2;}},getValue:function getValue(e){return e;},MOVE:99,START:105}),r.FNC4=i.extend({key:"FNC4",dependentStates:["A","B"],init:function init(e,t){this.encoding=e,this._initSubStates(t);},addStart:function addStart(e){var t=e.value.charCodeAt(0)-128,n=this._getSubState(t);this.encoding[n].addStart();},is:function is(e,t){var n=e.charCodeAt(t);return this.isCode(n);},isCode:function isCode(e){return e>=128&&256>e;},pushState:function pushState(e){var t,n=this,i=n._initSubState(e),o=n.encoding,r=i.value.length;if(e.index+=r,3>r)for(;r>i.index;i.index++){t=i.value.charCodeAt(i.index),i.state=n._getSubState(t),i.previousState!=i.state&&(i.previousState=i.state,o[i.state].move(i)),o.addPattern(o[i.state].MOVE),o.addPattern(o[i.state].getValue(t));}else i.state!=i.previousState&&o[i.state].move(i),n._pushStart(i),o.pushData(i,n.subStates),e.value.length>e.index&&n._pushStart(i);e.fnc=!0,e.state=i.state;},_pushStart:function _pushStart(e){var t=this;t.encoding.addPattern(t.encoding[e.state].MOVE),t.encoding.addPattern(t.encoding[e.state].MOVE);},_initSubState:function _initSubState(e){var t=this,n={value:t._getAll(e.value,e.index),index:0};return n.state=t._getSubState(n.value.charCodeAt(0)),n.previousState=e.previousState==t.key?n.state:e.previousState,n;},_initSubStates:function _initSubStates(e){var t,n=this;for(n.subStates=[],t=0;e.length>t;t++){f(e[t],n.dependentStates)>=0&&n.subStates.push(e[t]);}},_getSubState:function _getSubState(e){var t,n=this;for(t=0;n.subStates.length>t;t++){if(n.encoding[n.subStates[t]].isCode(e))return n.subStates[t];}},_getAll:function _getAll(e,t){for(var n,i="";(n=e.charCodeAt(t++))&&this.isCode(n);){i+=String.fromCharCode(n-128);}return i;}}),r.FNC1=i.extend({key:"FNC1",startState:"C",dependentStates:["C","B"],startAI:"(",endAI:")",init:function init(e,t){this.encoding=e,this.states=t;},addStart:function addStart(){this.encoding[this.startState].addStart();},is:function is(){return f(this.key,this.states)>=0;},pushState:function pushState(e){var t,n,i,o=this,r=o.encoding,a=e.value.replace(/\s/g,""),s=RegExp("["+o.startAI+o.endAI+"]","g"),l=e.index,c={state:o.startState};for(r.addPattern(o.START);;){if(c.index=0,i=a.charAt(l)===o.startAI?2:0,t=i>0?o.getBySeparator(a,l):o.getByLength(a,l),t.ai.length)n=l+i+t.id.length+t.ai.length;else if(n=a.indexOf(o.startAI,l+1),0>n){if(a.length>l+t.ai.max+t.id.length+i)throw Error("Separators are required after variable length identifiers");n=a.length;}if(c.value=a.substring(l,n).replace(s,""),o.validate(t,c.value),r.pushData(c,o.dependentStates),n>=a.length)break;l=n,c.state!=o.startState&&(r[o.startState].move(c),c.state=o.startState),t.ai.length||r.addPattern(o.START);}e.index=e.value.length;},validate:function validate(e,t){var n=t.substr(e.id.length),i=e.ai;if(!i.type&&!S.test(n))throw Error("Application identifier "+e.id+" is numeric only but contains non numeric character(s).");if("alphanumeric"==i.type&&!T.test(n))throw Error("Application identifier "+e.id+" is alphanumeric only but contains non alphanumeric character(s).");if(i.length&&i.length!==n.length)throw Error("Application identifier "+e.id+" must be "+i.length+" characters long.");if(i.min&&i.min>n.length)throw Error("Application identifier "+e.id+" must be at least "+i.min+" characters long.");if(i.max&&n.length>i.max)throw Error("Application identifier "+e.id+" must be at most "+i.max+" characters long.");},getByLength:function getByLength(e,t){var i,o,r,a=this;for(r=2;4>=r;r++){if(i=n(e,t,r),o=a.getAI(i)||a.getAI(i.substring(0,i.length-1)))return{id:i,ai:o};}a.unsupportedAIError(i);},unsupportedAIError:function unsupportedAIError(e){throw Error(c.format("'{0}' is not a supported Application Identifier"),e);},getBySeparator:function getBySeparator(e,t){var n=this,i=e.indexOf(n.startAI,t),o=e.indexOf(n.endAI,i),r=e.substring(i+1,o),a=n.getAI(r)||n.getAI(r.substr(r.length-1));return a||n.unsupportedAIError(r),{ai:a,id:r};},getAI:function getAI(e){var t,n,i,o=this.applicationIdentifiers,r=o.multiKey;if(o[e])return o[e];for(t=0;r.length>t;t++){if(r[t].ids&&f(e,r[t].ids)>=0)return r[t].type;if(r[t].ranges)for(n=r[t].ranges,i=0;n.length>i;i++){if(e>=n[i][0]&&n[i][1]>=e)return r[t].type;}}},applicationIdentifiers:{22:{max:29,type:"alphanumeric"},402:{length:17},7004:{max:4,type:"alphanumeric"},242:{max:6,type:"alphanumeric"},8020:{max:25,type:"alphanumeric"},703:{min:3,max:30,type:"alphanumeric"},8008:{min:8,max:12,type:"alphanumeric"},253:{min:13,max:17,type:"alphanumeric"},8003:{min:14,max:30,type:"alphanumeric"},multiKey:[{ids:["15","17","8005","8100"],ranges:[[11,13],[310,316],[320,336],[340,369]],type:{length:6}},{ids:["240","241","250","251","400","401","403","7002","8004","8007","8110"],ranges:[[-9]],type:{max:30,type:"alphanumeric"}},{ids:["7001"],ranges:[[410,414]],type:{length:13}},{ids:["10","21","254","420","8002"],type:{max:20,type:"alphanumeric"}},{ids:["00","8006","8017","8018"],type:{length:18}},{ids:["01","02","8001"],type:{length:14}},{ids:["422"],ranges:[[424,426]],type:{length:3}},{ids:["20","8102"],type:{length:2}},{ids:["30","37"],type:{max:8,type:"alphanumeric"}},{ids:["390","392"],type:{max:15,type:"alphanumeric"}},{ids:["421","423"],type:{min:3,max:15,type:"alphanumeric"}},{ids:["391","393"],type:{min:3,max:18,type:"alphanumeric"}},{ids:["7003","8101"],type:{length:10}}]},START:102}),a=A.extend({init:function init(e){A.fn.init.call(this,e),this._initStates();},_initStates:function _initStates(){var e,t=this;for(e=0;t.states.length>e;e++){t[t.states[e]]=new r[t.states[e]](t,t.states);}},initValue:function initValue(e,t,n){var i=this;i.pattern=[],i.value=e,i.width=t,i.height=n,i.checkSum=0,i.totalUnits=0,i.index=0,i.position=1;},addData:function addData(){var e=this,t={value:e.value,index:0,state:""};0!==e.value.length&&(t.state=t.previousState=e.getNextState(t,e.states),e.addStart(t),e.pushData(t,e.states),e.addCheckSum(),e.addStop(),e.setBaseUnit());},pushData:function pushData(e,t){for(var n,i=this;;){if(i[e.state].pushState(e),e.index>=e.value.length)break;e.shifted?(n=e.state,e.state=e.previousState,e.previousState=n,e.shifted=!1):(e.previousState=e.state,e.state=i.getNextState(e,t),i[e.state].move(e));}},addStart:function addStart(e){this[e.state].addStart(e),this.position=1;},addCheckSum:function addCheckSum(){var e=this;e.checksum=e.checkSum%103,e.addPattern(e.checksum);},addStop:function addStop(){this.addPattern(this.STOP);},setBaseUnit:function setBaseUnit(){var e=this;e.baseUnit=e.width/(e.totalUnits+e.quietZoneLength);},addPattern:function addPattern(e){var t,n,i=this,o=""+i.characterMap[e];for(n=0;o.length>n;n++){t=parseInt(o.charAt(n),10),i.pattern.push(t),i.totalUnits+=t;}i.checkSum+=e*i.position++;},getNextState:function getNextState(e,t){for(var n=0;t.length>n;n++){if(this[t[n]].is(e.value,e.index))return t[n];}this.invalidCharacterError(e.value.charAt(e.index));},characterMap:[212222,222122,222221,121223,121322,131222,122213,122312,132212,221213,221312,231212,112232,122132,122231,113222,123122,123221,223211,221132,221231,213212,223112,312131,311222,321122,321221,312212,322112,322211,212123,212321,232121,111323,131123,131321,112313,132113,132311,211313,231113,231311,112133,112331,132131,113123,113321,133121,313121,211331,231131,213113,213311,213131,311123,311321,331121,312113,312311,332111,314111,221411,431111,111224,111422,121124,121421,141122,141221,112214,112412,122114,122411,142112,142211,241211,221114,413111,241112,134111,111242,121142,121241,114212,124112,124211,411212,421112,421211,212141,214121,412121,111143,111341,131141,114113,114311,411113,411311,113141,114131,311141,411131,211412,211214,211232,2331112],STOP:106}),E.code128a=a.extend({name:"Code 128 A",states:["A"]}),E.code128b=a.extend({name:"Code 128 B",states:["B"]}),E.code128c=a.extend({name:"Code 128 C",states:["C"]}),E.code128=a.extend({name:"Code 128",states:["C","B","A","FNC4"]}),E["gs1-128"]=a.extend({name:"Code GS1-128",states:["FNC1","C","B"]}),s=A.extend({initValue:function initValue(e,t){var n=this;n.pattern=[],n.value=e,n.checkSumLength=0,n.width=t;},setBaseUnit:function setBaseUnit(){var e=this,t=7;e.baseUnit=e.width/(12*(e.value.length+e.checkSumLength)+e.quietZoneLength+t);},addData:function addData(){var e,t=this,n=t.value;for(t.addPattern(t.START),e=0;n.length>e;e++){t.addCharacter(n.charAt(e));}t.options.addCheckSum&&t.addCheckSum(),t.addPattern(t.STOP),t.setBaseUnit();},addCharacter:function addCharacter(e){var t=this,n=t.characterMap[e];n||t.invalidCharacterError(e),t.addPattern(n);},addPattern:function addPattern(e){for(var t=0;e.length>t;t++){this.pattern.push(parseInt(e.charAt(t),10));}},addCheckSum:function addCheckSum(){var e,t=this,n=t.checkSums[t.checkSumType],i=n.call(t.checkSums,t.value);for(t.checksum=i.join(""),e=0;i.length>e;e++){t.checkSumLength++,t.addPattern(t.characterMap[i[e]]);}},checkSums:{Modulo10:function Modulo10(e){var t,n,i,o=[0,""],r=e.length%2;for(t=0;e.length>t;t++){o[(t+r)%2]+=parseInt(e.charAt(t),10);}for(i=o[0],n=""+2*o[1],t=0;n.length>t;t++){i+=parseInt(n.charAt(t),10);}return[(10-i%10)%10];},Modulo11:function Modulo11(e){var t,n,i,o=0,r=11,a=e.length;for(i=0;a>i;i++){t=((a-i)%6||6)+1,o+=t*e.charAt(i);}return n=(r-o%r)%r,10!=n?[n]:[1,0];},Modulo11Modulo10:function Modulo11Modulo10(e){var t,n=this.Modulo11(e);return t=e+n[0],n.concat(this.Modulo10(t));},Modulo10Modulo10:function Modulo10Modulo10(e){var t,n=this.Modulo10(e);return t=e+n[0],n.concat(this.Modulo10(t));}},characterMap:["12121212","12121221","12122112","12122121","12211212","12211221","12212112","12212121","21121212","21121221"],START:"21",STOP:"121",checkSumType:""}),E.msimod10=s.extend({name:"MSI Modulo10",checkSumType:"Modulo10"}),E.msimod11=s.extend({name:"MSI Modulo11",checkSumType:"Modulo11"}),E.msimod1110=s.extend({name:"MSI Modulo11 Modulo10",checkSumType:"Modulo11Modulo10"}),E.msimod1010=s.extend({name:"MSI Modulo10 Modulo10",checkSumType:"Modulo10Modulo10"}),E.code11=A.extend({name:"Code 11",cCheckSumTotal:10,kCheckSumTotal:9,kCheckSumMinLength:10,checkSumMod:11,DASH_VALUE:10,DASH:"-",START:"112211",STOP:"11221",initValue:function initValue(e,t){var n=this;n.pattern=[],n.value=e,n.width=t,n.totalUnits=0;},addData:function addData(){var e,t=this,n=t.value;for(t.addPattern(t.START),e=0;n.length>e;e++){t.addCharacter(n.charAt(e));}t.options.addCheckSum&&t.addCheckSum(),t.addPattern(t.STOP),t.setBaseUnit();},setBaseUnit:function setBaseUnit(){var e=this;e.baseUnit=e.width/(e.totalUnits+e.quietZoneLength);},addCheckSum:function addCheckSum(){var e,t=this,n=t.value,i=n.length,o=t.getWeightedSum(n,i,t.cCheckSumTotal)%t.checkSumMod;t.checksum=o+"",t.addPattern(t.characterMap[o]),i++,i>=t.kCheckSumMinLength&&(e=(o+t.getWeightedSum(n,i,t.kCheckSumTotal))%t.checkSumMod,t.checksum+=e,t.addPattern(t.characterMap[e]));},getWeightedSum:function getWeightedSum(e,t,n){var i,o=0;for(i=0;e.length>i;i++){o+=this.weightedValue(this.getValue(e.charAt(i)),t,i,n);}return o;},weightedValue:function weightedValue(e,t,n,i){var o=(t-n)%i||i;return o*e;},getValue:function getValue(e){var t=this;return isNaN(e)?(e!==t.DASH&&t.invalidCharacterError(e),t.DASH_VALUE):parseInt(e,10);},addCharacter:function addCharacter(e){var t=this,n=t.getValue(e),i=t.characterMap[n];t.addPattern(i);},addPattern:function addPattern(e){var t,n;for(n=0;e.length>n;n++){t=parseInt(e.charAt(n),10),this.pattern.push(t),this.totalUnits+=t;}},characterMap:["111121","211121","121121","221111","112121","212111","122111","111221","211211","211111","112111"],options:{addCheckSum:!0}}),E.postnet=A.extend({name:"Postnet",START:"2",VALID_CODE_LENGTHS:[5,9,11],DIGIT_SEPARATOR:"-",initValue:function initValue(e,t,n){var i=this;i.height=n,i.width=t,i.baseHeight=n/2,i.value=e.replace(RegExp(i.DIGIT_SEPARATOR,"g"),""),i.pattern=[],i.validate(i.value),i.checkSum=0,i.setBaseUnit();},addData:function addData(){var e,t=this,n=t.value;for(t.addPattern(t.START),e=0;n.length>e;e++){t.addCharacter(n.charAt(e));}t.options.addCheckSum&&t.addCheckSum(),t.addPattern(t.START),t.pattern.pop();},addCharacter:function addCharacter(e){var t=this,n=t.characterMap[e];t.checkSum+=parseInt(e,10),t.addPattern(n);},addCheckSum:function addCheckSum(){var e=this;e.checksum=(10-e.checkSum%10)%10,e.addCharacter(e.checksum);},setBaseUnit:function setBaseUnit(){var e=this,t=3;e.baseUnit=e.width/(10*(e.value.length+1)+t+e.quietZoneLength);},validate:function validate(e){var t=this;if(S.test(e)||t.invalidCharacterError(e.match(/[^0-9]/)[0]),f(e.length,t.VALID_CODE_LENGTHS)<0)throw Error("Invalid value length. Valid lengths for the Postnet symbology are "+t.VALID_CODE_LENGTHS.join(","));},addPattern:function addPattern(e){var t,n,i=this;for(n=0;e.length>n;n++){t=i.height-i.baseHeight*e.charAt(n),i.pattern.push({width:1,y1:t,y2:i.height}),i.pattern.push(1);}},characterMap:["22111","11122","11212","11221","12112","12121","12211","21112","21121","21211"]}),E.ean13=A.extend({initValue:function initValue(e,t,n){if(e+="",12!=e.length||/\D/.test(e))throw Error('The value of the "EAN13" encoding should be 12 symbols');var i=this;i.pattern=[],i.options.height=n,i.baseUnit=t/(95+i.quietZoneLength),i.value=e,i.checksum=i.calculateChecksum(),i.leftKey=e[0],i.leftPart=e.substr(1,6),i.rightPart=e.substr(7)+i.checksum;},addData:function addData(){var e=this;e.addPieces(e.characterMap.start),e.addSide(e.leftPart,e.leftKey),e.addPieces(e.characterMap.middle),e.addSide(e.rightPart),e.addPieces(e.characterMap.start);},addSide:function addSide(e,t){var n,i=this;for(n=0;e.length>n;n++){t&&parseInt(i.keyTable[t].charAt(n),10)?i.addPieces(Array.prototype.slice.call(i.characterMap.digits[e.charAt(n)]).reverse(),!0):i.addPieces(i.characterMap.digits[e.charAt(n)],!0);}},addPieces:function addPieces(e,t){var n,i=this;for(n=0;e.length>n;n++){i.pattern.push(t?{y1:0,y2:.95*i.options.height,width:e[n]}:e[n]);}},calculateChecksum:function calculateChecksum(){var e,t,n=0,i=0,o=this.value.split("").reverse().join("");for(e=0;o.length>e;e++){e%2?i+=parseInt(o.charAt(e),10):n+=parseInt(o.charAt(e),10);}return t=(10-(3*n+i)%10)%10;},keyTable:["000000","001011","001101","001110","010011","011001","011100","010101","010110","011010"],characterMap:{digits:[[3,2,1,1],[2,2,2,1],[2,1,2,2],[1,4,1,1],[1,1,3,2],[1,2,3,1],[1,1,1,4],[1,3,1,2],[1,2,1,3],[3,1,1,2]],start:[1,1,1],middle:[1,1,1,1,1]}}),E.ean8=E.ean13.extend({initValue:function initValue(e,t,n){var i=this;if(7!=e.length||/\D/.test(e))throw Error("Invalid value provided");i.value=e,i.options.height=n,i.checksum=i.calculateChecksum(i.value),i.leftPart=i.value.substr(0,4),i.rightPart=i.value.substr(4)+i.checksum,i.pattern=[],i.baseUnit=t/(67+i.quietZoneLength);}}),l=d.extend({init:function init(t,n){var i=this;d.fn.init.call(i,t,n),i.element=e(t),i.wrapper=i.element,i.element.addClass("k-barcode").css("display","block"),i.surfaceWrap=e("<div />").css("position","relative").appendTo(this.element),i.surface=m.Surface.create(i.surfaceWrap,{type:i.options.renderAs}),i.setOptions(n);},setOptions:function setOptions(e){var t=this;if(t.type=(e.type||t.options.type).toLowerCase(),"upca"==t.type&&(t.type="ean13",e.value="0"+e.value),"upce"==t.type&&(t.type="ean8",e.value="0"+e.value),!E[t.type])throw Error("Encoding "+t.type+"is not supported.");t.encoding=new E[t.type](),t.options=u(!0,t.options,e),_(e.value)&&t.redraw();},redraw:function redraw(){var e=this._getSize();this.surface.clear(),this.surface.setSize({width:e.width,height:e.height}),this.createVisual(),this.surface.draw(this.visual);},getSize:function getSize(){return c.dimensions(this.element);},_resize:function _resize(){this.redraw();},createVisual:function createVisual(){this.visual=this._render();},_render:function _render(){var e,t,n,i=this,o=i.options,r=o.value,a=o.text,s=b.getSpacing(a.margin),l=i._getSize(),c=o.border||{},d=i.encoding,u=w(0,0,l.width,l.height).unpad(c.width).unpad(o.padding),h=u.height(),f=new m.Group();return i.contentBox=u,f.append(i._getBackground(l)),a.visible&&(n=m.util.measureText(r,{font:a.font}).height,h-=n+s.top+s.bottom),e=d.encode(r,u.width(),h),a.visible&&(t=r,o.checksum&&_(d.checksum)&&(t+=" "+d.checksum),f.append(i._getText(t))),i.barHeight=h,this._bandsGroup=this._getBands(e.pattern,e.baseUnit),f.append(this._bandsGroup),f;},exportVisual:function exportVisual(){return this._render();},_getSize:function _getSize(){var e=this,t=e.element,n=new g.Size(k,x);return t.width()>0&&(n.width=t.width()),t.height()>0&&(n.height=t.height()),e.options.width&&(n.width=e.options.width),e.options.height&&(n.height=e.options.height),n;},value:function value(e){var n=this;return _(e)?(n.options.value=e+"",n.redraw(),t):n.options.value;},_getBands:function _getBands(e,t){var n,i,o,r,a,s=this,l=s.contentBox,c=l.x1,d=new m.Group();for(o=0;e.length>o;o++){i=p(e[o])?e[o]:{width:e[o],y1:0,y2:s.barHeight},n=i.width*t,o%2&&(r=g.Rect.fromPoints(new g.Point(c,i.y1+l.y1),new g.Point(c+n,i.y2+l.y1)),a=m.Path.fromRect(r,{fill:{color:s.options.color},stroke:null}),d.append(a)),c+=n;}return d;},_getBackground:function _getBackground(e){var t=this,n=t.options,i=n.border||{},o=w(0,0,e.width,e.height).unpad(i.width/2),r=m.Path.fromRect(o.toRect(),{fill:{color:n.background},stroke:{color:i.width?i.color:"",width:i.width,dashType:i.dashType}});return r;},_getText:function _getText(e){var t=this,n=t.options.text,i=t._textbox=new y(e,{font:n.font,color:n.color,align:"center",vAlign:"bottom",margin:n.margin});return i.reflow(t.contentBox),i.renderVisual(),i.visual;},options:{name:"Barcode",renderAs:"svg",value:"",type:"code39",checksum:!1,width:0,height:0,color:"black",background:"white",text:{visible:!0,font:"16px Consolas, Monaco, Sans Mono, monospace, sans-serif",color:"black",margin:{top:0,bottom:0,left:0,right:0}},border:{width:0,dashType:"solid",color:"black"},padding:{top:0,bottom:0,left:0,right:0}}}),b.ExportMixin.extend(l.fn),b.ui.plugin(l),c.deepExtend(b,{encodings:E,Encoding:A});}(window.kendo.jQuery),window.kendo;},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("kendo.dataviz.qrcode.min",["kendo.dataviz.core.min","kendo.drawing.min"],e);}(function(){return function(e,t){function n(e){return parseInt(e,2);}function i(e,t){var n=(+e).toString(2);return t>n.length&&(n=Array(t-n.length+1).join(0)+n),n;}function o(e,t){for(var n=[],i=0;e.length>i;){n.push(e.substring(i,i+t)),i+=t;}return n;}function r(e,t,n,i){for(var o=0;e.length>o;o++){e[o][n][i]=t;}}function a(e,t,n,i){for(var o=0;ve.length>o;o++){e[o][n][i]=ve[o](n,i)?1^t:parseInt(t,10);}}function s(){var e,t;for(t=1;255>t;t++){e=2*re[t-1],e>255&&(e=285^e),re[t]=e,oe[e]=t;}e=2*re[t-1]^285,re[t]=e,re[-1]=0;}function l(){var e,t,n,i=68;for(e=2;i>=e;e++){t=ae[e-1],n=[e,0],ae[e]=w(t,n);}}function c(e,n){var i=[],o=e.length-1;do{i[o]=re[(e[o]+n)%255],o--;}while(e[o]!==t);return i;}function d(e,t){return parseInt(e.charAt(t),10);}function u(e,t,n,i,o){t[e][i]=(t[e][i]<<1^o)%128,t[e][i]==ge&&(n[e]+=40);}function h(e,t,n,i,o,r){n[e][r]==i?o[e][r]++:(n[e][r]=i,o[e][r]>=5&&(t[e]+=3+o[e][r]-5),o[e][r]=1);}function f(e,t){var n=Math.floor(e/t*100),i=n%5,o=Math.abs(n-i-50),r=Math.abs(n+5-i-50),a=10*Math.min(o/5,r/5);return a;}var p,m,g,v,_,b,w,y,k,x,C,S,T,D,A,E,R,I,F,M,P,z,B,L,H,N,O,V,U,W,j,q,G,$,Y=window.kendo,K=e.extend,Q=Y.drawing,X=Y.dataviz,J=Y.ui.Widget,Z=X.Box2D,ee="0000",te="numeric",ne="alphanumeric",ie="byte",oe={1:0},re={0:1},ae=[[1,0],[1,25,0]],se={15:20,16:20,18:24,19:24,22:20,24:22,26:24,28:20,30:20,31:24,32:28,33:24,36:18,37:22,39:20,40:24},le=[{L:{groups:[[1,19]],totalDataCodewords:19,errorCodewordsPerBlock:7},M:{groups:[[1,16]],totalDataCodewords:16,errorCodewordsPerBlock:10},Q:{groups:[[1,13]],totalDataCodewords:13,errorCodewordsPerBlock:13},H:{groups:[[1,9]],totalDataCodewords:9,errorCodewordsPerBlock:17}},{L:{groups:[[1,34]],totalDataCodewords:34,errorCodewordsPerBlock:10},M:{groups:[[1,28]],totalDataCodewords:28,errorCodewordsPerBlock:16},Q:{groups:[[1,22]],totalDataCodewords:22,errorCodewordsPerBlock:22},H:{groups:[[1,16]],totalDataCodewords:16,errorCodewordsPerBlock:28}},{L:{groups:[[1,55]],totalDataCodewords:55,errorCodewordsPerBlock:15},M:{groups:[[1,44]],totalDataCodewords:44,errorCodewordsPerBlock:26},Q:{groups:[[2,17]],totalDataCodewords:34,errorCodewordsPerBlock:18},H:{groups:[[2,13]],totalDataCodewords:26,errorCodewordsPerBlock:22}},{L:{groups:[[1,80]],totalDataCodewords:80,errorCodewordsPerBlock:20},M:{groups:[[2,32]],totalDataCodewords:64,errorCodewordsPerBlock:18},Q:{groups:[[2,24]],totalDataCodewords:48,errorCodewordsPerBlock:26},H:{groups:[[4,9]],totalDataCodewords:36,errorCodewordsPerBlock:16}},{L:{groups:[[1,108]],totalDataCodewords:108,errorCodewordsPerBlock:26},M:{groups:[[2,43]],totalDataCodewords:86,errorCodewordsPerBlock:24},Q:{groups:[[2,15],[2,16]],totalDataCodewords:62,errorCodewordsPerBlock:18},H:{groups:[[2,11],[2,12]],totalDataCodewords:46,errorCodewordsPerBlock:22}},{L:{groups:[[2,68]],totalDataCodewords:136,errorCodewordsPerBlock:18},M:{groups:[[4,27]],totalDataCodewords:108,errorCodewordsPerBlock:16},Q:{groups:[[4,19]],totalDataCodewords:76,errorCodewordsPerBlock:24},H:{groups:[[4,15]],totalDataCodewords:60,errorCodewordsPerBlock:28}},{L:{groups:[[2,78]],totalDataCodewords:156,errorCodewordsPerBlock:20},M:{groups:[[4,31]],totalDataCodewords:124,errorCodewordsPerBlock:18},Q:{groups:[[2,14],[4,15]],totalDataCodewords:88,errorCodewordsPerBlock:18},H:{groups:[[4,13],[1,14]],totalDataCodewords:66,errorCodewordsPerBlock:26}},{L:{groups:[[2,97]],totalDataCodewords:194,errorCodewordsPerBlock:24},M:{groups:[[2,38],[2,39]],totalDataCodewords:154,errorCodewordsPerBlock:22},Q:{groups:[[4,18],[2,19]],totalDataCodewords:110,errorCodewordsPerBlock:22},H:{groups:[[4,14],[2,15]],totalDataCodewords:86,errorCodewordsPerBlock:26}},{L:{groups:[[2,116]],totalDataCodewords:232,errorCodewordsPerBlock:30},M:{groups:[[3,36],[2,37]],totalDataCodewords:182,errorCodewordsPerBlock:22},Q:{groups:[[4,16],[4,17]],totalDataCodewords:132,errorCodewordsPerBlock:20},H:{groups:[[4,12],[4,13]],totalDataCodewords:100,errorCodewordsPerBlock:24}},{L:{groups:[[2,68],[2,69]],totalDataCodewords:274,errorCodewordsPerBlock:18},M:{groups:[[4,43],[1,44]],totalDataCodewords:216,errorCodewordsPerBlock:26},Q:{groups:[[6,19],[2,20]],totalDataCodewords:154,errorCodewordsPerBlock:24},H:{groups:[[6,15],[2,16]],totalDataCodewords:122,errorCodewordsPerBlock:28}},{L:{groups:[[4,81]],totalDataCodewords:324,errorCodewordsPerBlock:20},M:{groups:[[1,50],[4,51]],totalDataCodewords:254,errorCodewordsPerBlock:30},Q:{groups:[[4,22],[4,23]],totalDataCodewords:180,errorCodewordsPerBlock:28},H:{groups:[[3,12],[8,13]],totalDataCodewords:140,errorCodewordsPerBlock:24}},{L:{groups:[[2,92],[2,93]],totalDataCodewords:370,errorCodewordsPerBlock:24},M:{groups:[[6,36],[2,37]],totalDataCodewords:290,errorCodewordsPerBlock:22},Q:{groups:[[4,20],[6,21]],totalDataCodewords:206,errorCodewordsPerBlock:26},H:{groups:[[7,14],[4,15]],totalDataCodewords:158,errorCodewordsPerBlock:28}},{L:{groups:[[4,107]],totalDataCodewords:428,errorCodewordsPerBlock:26},M:{groups:[[8,37],[1,38]],totalDataCodewords:334,errorCodewordsPerBlock:22},Q:{groups:[[8,20],[4,21]],totalDataCodewords:244,errorCodewordsPerBlock:24},H:{groups:[[12,11],[4,12]],totalDataCodewords:180,errorCodewordsPerBlock:22}},{L:{groups:[[3,115],[1,116]],totalDataCodewords:461,errorCodewordsPerBlock:30},M:{groups:[[4,40],[5,41]],totalDataCodewords:365,errorCodewordsPerBlock:24},Q:{groups:[[11,16],[5,17]],totalDataCodewords:261,errorCodewordsPerBlock:20},H:{groups:[[11,12],[5,13]],totalDataCodewords:197,errorCodewordsPerBlock:24}},{L:{groups:[[5,87],[1,88]],totalDataCodewords:523,errorCodewordsPerBlock:22},M:{groups:[[5,41],[5,42]],totalDataCodewords:415,errorCodewordsPerBlock:24},Q:{groups:[[5,24],[7,25]],totalDataCodewords:295,errorCodewordsPerBlock:30},H:{groups:[[11,12],[7,13]],totalDataCodewords:223,errorCodewordsPerBlock:24}},{L:{groups:[[5,98],[1,99]],totalDataCodewords:589,errorCodewordsPerBlock:24},M:{groups:[[7,45],[3,46]],totalDataCodewords:453,errorCodewordsPerBlock:28},Q:{groups:[[15,19],[2,20]],totalDataCodewords:325,errorCodewordsPerBlock:24},H:{groups:[[3,15],[13,16]],totalDataCodewords:253,errorCodewordsPerBlock:30}},{L:{groups:[[1,107],[5,108]],totalDataCodewords:647,errorCodewordsPerBlock:28},M:{groups:[[10,46],[1,47]],totalDataCodewords:507,errorCodewordsPerBlock:28},Q:{groups:[[1,22],[15,23]],totalDataCodewords:367,errorCodewordsPerBlock:28},H:{groups:[[2,14],[17,15]],totalDataCodewords:283,errorCodewordsPerBlock:28}},{L:{groups:[[5,120],[1,121]],totalDataCodewords:721,errorCodewordsPerBlock:30},M:{groups:[[9,43],[4,44]],totalDataCodewords:563,errorCodewordsPerBlock:26},Q:{groups:[[17,22],[1,23]],totalDataCodewords:397,errorCodewordsPerBlock:28},H:{groups:[[2,14],[19,15]],totalDataCodewords:313,errorCodewordsPerBlock:28}},{L:{groups:[[3,113],[4,114]],totalDataCodewords:795,errorCodewordsPerBlock:28},M:{groups:[[3,44],[11,45]],totalDataCodewords:627,errorCodewordsPerBlock:26},Q:{groups:[[17,21],[4,22]],totalDataCodewords:445,errorCodewordsPerBlock:26},H:{groups:[[9,13],[16,14]],totalDataCodewords:341,errorCodewordsPerBlock:26}},{L:{groups:[[3,107],[5,108]],totalDataCodewords:861,errorCodewordsPerBlock:28},M:{groups:[[3,41],[13,42]],totalDataCodewords:669,errorCodewordsPerBlock:26},Q:{groups:[[15,24],[5,25]],totalDataCodewords:485,errorCodewordsPerBlock:30},H:{groups:[[15,15],[10,16]],totalDataCodewords:385,errorCodewordsPerBlock:28}},{L:{groups:[[4,116],[4,117]],totalDataCodewords:932,errorCodewordsPerBlock:28},M:{groups:[[17,42]],totalDataCodewords:714,errorCodewordsPerBlock:26},Q:{groups:[[17,22],[6,23]],totalDataCodewords:512,errorCodewordsPerBlock:28},H:{groups:[[19,16],[6,17]],totalDataCodewords:406,errorCodewordsPerBlock:30}},{L:{groups:[[2,111],[7,112]],totalDataCodewords:1006,errorCodewordsPerBlock:28},M:{groups:[[17,46]],totalDataCodewords:782,errorCodewordsPerBlock:28},Q:{groups:[[7,24],[16,25]],totalDataCodewords:568,errorCodewordsPerBlock:30},H:{groups:[[34,13]],totalDataCodewords:442,errorCodewordsPerBlock:24}},{L:{groups:[[4,121],[5,122]],totalDataCodewords:1094,errorCodewordsPerBlock:30},M:{groups:[[4,47],[14,48]],totalDataCodewords:860,errorCodewordsPerBlock:28},Q:{groups:[[11,24],[14,25]],totalDataCodewords:614,errorCodewordsPerBlock:30},H:{groups:[[16,15],[14,16]],totalDataCodewords:464,errorCodewordsPerBlock:30}},{L:{groups:[[6,117],[4,118]],totalDataCodewords:1174,errorCodewordsPerBlock:30},M:{groups:[[6,45],[14,46]],totalDataCodewords:914,errorCodewordsPerBlock:28},Q:{groups:[[11,24],[16,25]],totalDataCodewords:664,errorCodewordsPerBlock:30},H:{groups:[[30,16],[2,17]],totalDataCodewords:514,errorCodewordsPerBlock:30}},{L:{groups:[[8,106],[4,107]],totalDataCodewords:1276,errorCodewordsPerBlock:26},M:{groups:[[8,47],[13,48]],totalDataCodewords:1e3,errorCodewordsPerBlock:28},Q:{groups:[[7,24],[22,25]],totalDataCodewords:718,errorCodewordsPerBlock:30},H:{groups:[[22,15],[13,16]],totalDataCodewords:538,errorCodewordsPerBlock:30}},{L:{groups:[[10,114],[2,115]],totalDataCodewords:1370,errorCodewordsPerBlock:28},M:{groups:[[19,46],[4,47]],totalDataCodewords:1062,errorCodewordsPerBlock:28},Q:{groups:[[28,22],[6,23]],totalDataCodewords:754,errorCodewordsPerBlock:28},H:{groups:[[33,16],[4,17]],totalDataCodewords:596,errorCodewordsPerBlock:30}},{L:{groups:[[8,122],[4,123]],totalDataCodewords:1468,errorCodewordsPerBlock:30},M:{groups:[[22,45],[3,46]],totalDataCodewords:1128,errorCodewordsPerBlock:28},Q:{groups:[[8,23],[26,24]],totalDataCodewords:808,errorCodewordsPerBlock:30},H:{groups:[[12,15],[28,16]],totalDataCodewords:628,errorCodewordsPerBlock:30}},{L:{groups:[[3,117],[10,118]],totalDataCodewords:1531,errorCodewordsPerBlock:30},M:{groups:[[3,45],[23,46]],totalDataCodewords:1193,errorCodewordsPerBlock:28},Q:{groups:[[4,24],[31,25]],totalDataCodewords:871,errorCodewordsPerBlock:30},H:{groups:[[11,15],[31,16]],totalDataCodewords:661,errorCodewordsPerBlock:30}},{L:{groups:[[7,116],[7,117]],totalDataCodewords:1631,errorCodewordsPerBlock:30},M:{groups:[[21,45],[7,46]],totalDataCodewords:1267,errorCodewordsPerBlock:28},Q:{groups:[[1,23],[37,24]],totalDataCodewords:911,errorCodewordsPerBlock:30},H:{groups:[[19,15],[26,16]],totalDataCodewords:701,errorCodewordsPerBlock:30}},{L:{groups:[[5,115],[10,116]],totalDataCodewords:1735,errorCodewordsPerBlock:30},M:{groups:[[19,47],[10,48]],totalDataCodewords:1373,errorCodewordsPerBlock:28},Q:{groups:[[15,24],[25,25]],totalDataCodewords:985,errorCodewordsPerBlock:30},H:{groups:[[23,15],[25,16]],totalDataCodewords:745,errorCodewordsPerBlock:30}},{L:{groups:[[13,115],[3,116]],totalDataCodewords:1843,errorCodewordsPerBlock:30},M:{groups:[[2,46],[29,47]],totalDataCodewords:1455,errorCodewordsPerBlock:28},Q:{groups:[[42,24],[1,25]],totalDataCodewords:1033,errorCodewordsPerBlock:30},H:{groups:[[23,15],[28,16]],totalDataCodewords:793,errorCodewordsPerBlock:30}},{L:{groups:[[17,115]],totalDataCodewords:1955,errorCodewordsPerBlock:30},M:{groups:[[10,46],[23,47]],totalDataCodewords:1541,errorCodewordsPerBlock:28},Q:{groups:[[10,24],[35,25]],totalDataCodewords:1115,errorCodewordsPerBlock:30},H:{groups:[[19,15],[35,16]],totalDataCodewords:845,errorCodewordsPerBlock:30}},{L:{groups:[[17,115],[1,116]],totalDataCodewords:2071,errorCodewordsPerBlock:30},M:{groups:[[14,46],[21,47]],totalDataCodewords:1631,errorCodewordsPerBlock:28},Q:{groups:[[29,24],[19,25]],totalDataCodewords:1171,errorCodewordsPerBlock:30},H:{groups:[[11,15],[46,16]],totalDataCodewords:901,errorCodewordsPerBlock:30}},{L:{groups:[[13,115],[6,116]],totalDataCodewords:2191,errorCodewordsPerBlock:30},M:{groups:[[14,46],[23,47]],totalDataCodewords:1725,errorCodewordsPerBlock:28},Q:{groups:[[44,24],[7,25]],totalDataCodewords:1231,errorCodewordsPerBlock:30},H:{groups:[[59,16],[1,17]],totalDataCodewords:961,errorCodewordsPerBlock:30}},{L:{groups:[[12,121],[7,122]],totalDataCodewords:2306,errorCodewordsPerBlock:30},M:{groups:[[12,47],[26,48]],totalDataCodewords:1812,errorCodewordsPerBlock:28},Q:{groups:[[39,24],[14,25]],totalDataCodewords:1286,errorCodewordsPerBlock:30},H:{groups:[[22,15],[41,16]],totalDataCodewords:986,errorCodewordsPerBlock:30}},{L:{groups:[[6,121],[14,122]],totalDataCodewords:2434,errorCodewordsPerBlock:30},M:{groups:[[6,47],[34,48]],totalDataCodewords:1914,errorCodewordsPerBlock:28},Q:{groups:[[46,24],[10,25]],totalDataCodewords:1354,errorCodewordsPerBlock:30},H:{groups:[[2,15],[64,16]],totalDataCodewords:1054,errorCodewordsPerBlock:30}},{L:{groups:[[17,122],[4,123]],totalDataCodewords:2566,errorCodewordsPerBlock:30},M:{groups:[[29,46],[14,47]],totalDataCodewords:1992,errorCodewordsPerBlock:28},Q:{groups:[[49,24],[10,25]],totalDataCodewords:1426,errorCodewordsPerBlock:30},H:{groups:[[24,15],[46,16]],totalDataCodewords:1096,errorCodewordsPerBlock:30}},{L:{groups:[[4,122],[18,123]],totalDataCodewords:2702,errorCodewordsPerBlock:30},M:{groups:[[13,46],[32,47]],totalDataCodewords:2102,errorCodewordsPerBlock:28},Q:{groups:[[48,24],[14,25]],totalDataCodewords:1502,errorCodewordsPerBlock:30},H:{groups:[[42,15],[32,16]],totalDataCodewords:1142,errorCodewordsPerBlock:30}},{L:{groups:[[20,117],[4,118]],totalDataCodewords:2812,errorCodewordsPerBlock:30},M:{groups:[[40,47],[7,48]],totalDataCodewords:2216,errorCodewordsPerBlock:28},Q:{groups:[[43,24],[22,25]],totalDataCodewords:1582,errorCodewordsPerBlock:30},H:{groups:[[10,15],[67,16]],totalDataCodewords:1222,errorCodewordsPerBlock:30}},{L:{groups:[[19,118],[6,119]],totalDataCodewords:2956,errorCodewordsPerBlock:30},M:{groups:[[18,47],[31,48]],totalDataCodewords:2334,errorCodewordsPerBlock:28},Q:{groups:[[34,24],[34,25]],totalDataCodewords:1666,errorCodewordsPerBlock:30},H:{groups:[[20,15],[61,16]],totalDataCodewords:1276,errorCodewordsPerBlock:30}}],ce=[1,0,1,1,1],de=[1,0,1],ue={L:"01",M:"00",Q:"11",H:"10"},he="101010000010010",fe="10100110111",pe="1111100100101",me=["11101100","00010001"],ge=93,ve=[function(e,t){return(e+t)%2===0;},function(e){return e%2===0;},function(e,t){return t%3===0;},function(e,t){return(e+t)%3===0;},function(e,t){return(Math.floor(e/2)+Math.floor(t/3))%2===0;},function(e,t){return e*t%2+e*t%3===0;},function(e,t){return(e*t%2+e*t%3)%2===0;},function(e,t){return((e+t)%2+e*t%3)%2===0;}],_e=/^\d+/,be="A-Z0-9 $%*+./:-",we="A-Z $%*+./:-",ye=RegExp("^["+we+"]+"),ke=RegExp("^["+be+"]+"),xe=RegExp("^[^"+be+"]+"),Ce=8,Se=5,Te=8,De=17,Ae=9,Ee=16,Re=Math.round,Ie=Y.Class.extend({getVersionIndex:function getVersionIndex(e){return 10>e?0:e>26?2:1;},getBitsCharacterCount:function getBitsCharacterCount(e){var t=this;return t.bitsInCharacterCount[t.getVersionIndex(e||40)];},getModeCountString:function getModeCountString(e,t){var n=this;return n.modeIndicator+i(e,n.getBitsCharacterCount(t));},encode:function encode(){},getStringBitsLength:function getStringBitsLength(){},getValue:function getValue(){},modeIndicator:"",bitsInCharacterCount:[]}),Fe={};Fe[te]=Ie.extend({bitsInCharacterCount:[10,12,14],modeIndicator:"0001",getValue:function getValue(e){return parseInt(e,10);},encode:function encode(e,t){var n,r=this,a=o(e,3),s=r.getModeCountString(e.length,t);for(n=0;a.length-1>n;n++){s+=i(a[n],10);}return s+i(a[n],1+3*a[n].length);},getStringBitsLength:function getStringBitsLength(e,t){var n=e%3;return 4+this.getBitsCharacterCount(t)+10*Math.floor(e/3)+3*n+(0===n?0:1);}}),Fe[ne]=Ie.extend({characters:{0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,G:16,H:17,I:18,J:19,K:20,L:21,M:22,N:23,O:24,P:25,Q:26,R:27,S:28,T:29,U:30,V:31,W:32,X:33,Y:34,Z:35," ":36,$:37,"%":38,"*":39,"+":40,"-":41,".":42,"/":43,":":44},bitsInCharacterCount:[9,11,13],modeIndicator:"0010",getValue:function getValue(e){return this.characters[e];},encode:function encode(e,t){var n,r,a=this,s=o(e,2),l=a.getModeCountString(e.length,t);for(r=0;s.length-1>r;r++){n=45*a.getValue(s[r].charAt(0))+a.getValue(s[r].charAt(1)),l+=i(n,11);}return n=2==s[r].length?45*a.getValue(s[r].charAt(0))+a.getValue(s[r].charAt(1)):a.getValue(s[r].charAt(0)),l+i(n,1+5*s[r].length);},getStringBitsLength:function getStringBitsLength(e,t){return 4+this.getBitsCharacterCount(t)+11*Math.floor(e/2)+6*(e%2);}}),Fe[ie]=Ie.extend({bitsInCharacterCount:[8,16,16],modeIndicator:"0100",getValue:function getValue(e){var t=e.charCodeAt(0);if(127>=t||t>=160&&255>=t)return t;throw Error("Unsupported character: "+e);},encode:function encode(e,t){var n,o=this,r=o.getModeCountString(e.length,t);for(n=0;e.length>n;n++){r+=i(o.getValue(e.charAt(n)),8);}return r;},getStringBitsLength:function getStringBitsLength(e,t){return 4+this.getBitsCharacterCount(t)+8*e;}}),p={};for(m in Fe){p[m]=new Fe[m]();}g=function g(e){var n=this,i=e.length-1,o=e.length-1,r=o,a=-1,s=0;n.move=function(){i+=a*s,s^=1,o=r-s;},n.getNextCell=function(){for(;e[i][o]!==t;){n.move(),(0>i||i>=e.length)&&(a=-a,r-=8!=r?2:3,o=r,i=0>a?e.length-1:0);}return{row:i,column:o};},n.getNextRemainderCell=function(){return n.move(),e[i][o]===t?{row:i,column:o}:t;};},v=function v(e,t){var n,i,o,r,s,l,c=new g(e[0]);for(r=0;t.length>r;r++){for(n=t[r],i=0;n.length>0;){for(s=0;n.length>s;s++){for(l=0;8>l;l++){o=c.getNextCell(),a(e,n[s][i].charAt(l),o.row,o.column);}}for(i++;n[0]&&i==n[0].length;){n.splice(0,1);}}}for(;o=c.getNextRemainderCell();){a(e,0,o.row,o.column);}},_=function _(e,t){for(var n=8*t,i=0,o=0;n>e.length&&ee.length>i;){e+=ee.charAt(i++);}for(e.length%8!==0&&(e+=Array(9-e.length%8).join("0"));n>e.length;){e+=me[o],o^=1;}return e;},b=function b(e,t){var n,i=[],o=e.length-2;for(n=o;n>=0;n--){i[n]=e[n]^t[n];}return i;},w=function w(e,n){var i,o,r=[];for(i=0;e.length>i;i++){for(o=0;n.length>o;o++){r[i+o]=r[i+o]===t?(e[i]+(n[o]>=0?n[o]:0))%255:oe[re[r[i+o]]^re[(e[i]+n[o])%255]];}}return r;},s(),l(),y=function y(e,t){var n,o,r=ae[t-1],a=Array(t).concat(e),s=Array(a.length-r.length).concat(r),l=e.length,d=[];for(o=0;l>o;o++){n=c(s,oe[a[a.length-1]]),s.splice(0,1),a=b(n,a);}for(o=a.length-1;o>=0;o--){d[t-1-o]=i(a[o],8);}return d;},k=function k(e,t){var i,o,r,a,s,l,c,d,u=0,h=[],f=[],p=t.groups;for(l=0;p.length>l;l++){for(r=p[l][0],c=0;r>c;c++){for(o=p[l][1],i=[],a=[],d=1;o>=d;d++){s=e.substring(u,u+8),i.push(s),a[o-d]=n(s),u+=8;}h.push(i),f.push(y(a,t.errorCodewordsPerBlock));}}return[h,f];},x=function x(e,t,n,i,o){var r,a,s=_e.exec(e),l=s?s[0]:"",c=ye.exec(e),d=c?c[0]:"",u=ke.exec(e),h=u?u[0]:"";return l&&(l.length>=t||e.length==l.length||l.length>=n&&!ke.test(e.charAt(l.length)))?(r=te,a=l):h&&(e.length==h.length||h.length>=i||o==ne)?(r=ne,a=l||d):(r=ie,a=h?h+xe.exec(e.substring(h.length))[0]:xe.exec(e)[0]),{mode:r,modeString:a};},C=function C(e){var t,n,i=[],o=0;for(i.push(x(e,Ce,Se,Te,t)),t=i[0].mode,e=e.substr(i[0].modeString.length);e.length>0;){n=x(e,De,Ae,Ee,t),n.mode!=t?(t=n.mode,i.push(n),o++):i[o].modeString+=n.modeString,e=e.substr(n.modeString.length);}return i;},S=function S(e){var t,n,i=0;for(n=0;e.length>n;n++){t=p[e[n].mode],i+=t.getStringBitsLength(e[n].modeString.length);}return Math.ceil(i/8);},T=function T(e,t){var n=0,i=le.length-1,o=Math.floor(le.length/2);do{le[o][t].totalDataCodewords>e?i=o:n=o,o=n+Math.floor((i-n)/2);}while(i-n>1);return le[n][t].totalDataCodewords>=e?o+1:i+1;},D=function D(e,t){var n,i,o="";for(i=0;e.length>i;i++){n=p[e[i].mode],o+=n.encode(e[i].modeString,t);}return o;},A=function A(e){var t,i,o=n(e),r="";if(0===o)return"101010000010010";for(t=E(n(e),fe,15),i=0;t.length>i;i++){r+=t.charAt(i)^he.charAt(i);}return r;},E=function E(e,t,o){var r=n(t),a=t.length-1,s=e<<a,l=o-a,c=i(e,l),d=R(s,r);return d=c+i(d,a);},R=function R(e,t){var n=t.toString(2).length,i=e.toString(2).length;do{e^=t<<i-n,i=e.toString(2).length;}while(i>=n);return e;},I=function I(e){var t,n,i=[],o=17+4*e;for(t=0;ve.length>t;t++){for(i[t]=Array(o),n=0;o>n;n++){i[t][n]=Array(o);}}return i;},F=function F(e,t){var n,i,o=e[0],a=0,s=t.length;for(n=0,i=8;8>=n;n++){6!==n&&r(e,d(t,s-1-a++),n,i);}for(n=8,i=7;i>=0;i--){6!==i&&r(e,d(t,s-1-a++),n,i);}for(a=0,i=o.length-1,n=8;i>=o.length-8;i--){r(e,d(t,s-1-a++),n,i);}for(r(e,1,o.length-8,8),n=o.length-7,i=8;o.length>n;n++){r(e,d(t,s-1-a++),n,i);}},M=function M(e){return E(e,pe,18);},P=function P(e,t){var n,i,o,a,s=e[0],l=s.length,c=0,u=l-11,h=l-11,f=0;for(a=0;t.length>a;a++){n=Math.floor(a/3),i=a%3,o=d(t,t.length-a-1),r(e,o,c+n,u+i),r(e,o,h+i,f+n);}},z=function z(e,t,n,i){var o,a,s,l=t.length+2,c=t.length+1;for(a=0;t.length>a;a++){for(s=a;l-a>s;s++){o=t[a],r(e,o,n+s,i+a),r(e,o,n+a,i+s),r(e,o,n+c-s,i+c-a),r(e,o,n+c-a,i+c-s);}}},B=function B(e,t,n,i){var o=n,a=i,s=e[0];do{r(e,0,o,i),r(e,0,n,a),o+=t[0],a+=t[1];}while(o>=0&&s.length>o);},L=function L(e){var t=e[0].length;z(e,ce,0,0),B(e,[-1,-1],7,7),z(e,ce,t-7,0),B(e,[1,-1],t-8,7),z(e,ce,0,t-7),B(e,[-1,1],7,t-8);},H=function H(e,n){var i,o,r,a,s,l,c,d,u;if(!(2>n)){for(i=e[0],o=i.length,r=Math.floor(n/7),a=[6],c=0,(s=se[n])?l=(o-13-s)/r:s=l=(o-13)/(r+1),a.push(a[c++]+s);o>a[c]+l;){a.push(a[c++]+l);}for(d=0;a.length>d;d++){for(u=0;a.length>u;u++){i[a[d]][a[u]]===t&&z(e,de,a[d]-2,a[u]-2);}}}},N=function N(e){var t,n=6,i=6,o=1,a=e[0].length;for(t=8;a-8>t;t++){r(e,o,n,t),r(e,o,t,i),o^=1;}},O=function O(e){var t,n,i,o,r,a,s,l=[],c=[],d=[],p=[],m=[],g=0,v=1,_=e[0].length;for(n=0;e.length>n;n++){l[n]=0,d[n]=0,m[n]=[0,0],p[n]=[0,0],c[n]=[];}for(n=0;_>n;n++){for(i=0;_>i;i++){for(o=0;e.length>o;o++){t=e[o],d[o]+=parseInt(t[n][i],10),c[o][g]===t[n][i]&&_>n+1&&i-1>=0&&t[n+1][i]==c[o][g]&&t[n+1][i-1]==c[o][g]&&(l[o]+=3),u(o,p,l,g,t[n][i]),u(o,p,l,v,t[i][n]),h(o,l,c,t[n][i],m,g),h(o,l,c,t[i][n],m,v);}}}for(r=_*_,s=Number.MAX_VALUE,n=0;l.length>n;n++){l[n]+=f(d[n],r),s>l[n]&&(s=l[n],a=n);}return a;},V=function V(e,t){this.dataString=e,this.version=t;},U=function U(){this.getEncodingResult=function(e,t){var n=C(e),i=S(n),o=T(i,t),r=D(n,o);return new V(r,o);};},W=function W(){this.mode=p[this.encodingMode];},W.fn=W.prototype={encodingMode:ie,utfBOM:"111011111011101110111111",initialModeCountStringLength:20,getEncodingResult:function getEncodingResult(e,t){var n=this,i=n.encode(e),o=n.getDataCodewordsCount(i),r=T(o,t),a=n.mode.getModeCountString(i.length/8,r)+i;return new V(a,r);},getDataCodewordsCount:function getDataCodewordsCount(e){var t=this,n=e.length,i=Math.ceil((t.initialModeCountStringLength+n)/8);return i;},encode:function encode(e){var t,n=this,i=n.utfBOM;for(t=0;e.length>t;t++){i+=n.encodeCharacter(e.charCodeAt(t));}return i;},encodeCharacter:function encodeCharacter(e){var t,n,o=this.getBytesCount(e),r=o-1,a="";if(1==o)a=i(e,8);else{for(t=8-o,n=0;r>n;n++){a=i(e>>6*n&63|128,8)+a;}a=(e>>6*r|255>>t<<t).toString(2)+a;}return a;},getBytesCount:function getBytesCount(e){var t,n=this.ranges;for(t=0;n.length>t;t++){if(n[t]>e)return t+1;}},ranges:[128,2048,65536,2097152,67108864]},j=function j(e){return e&&e.toLowerCase().indexOf("utf_8")>=0?new W():new U();},q=function q(e,t,n){var o,r,a,s=new j(n),l=s.getEncodingResult(e,t),c=l.version,d=le[c-1][t],u=_(l.dataString,d.totalDataCodewords),h=k(u,d),f=I(c);return L(f),H(f,c),N(f),c>=7&&P(f,i(0,18)),F(f,i(0,15)),v(f,h),o=O(f),r=f[o],c>=7&&P([r],M(c)),a=ue[t]+i(o,3),F([r],A(a)),r;},G={DEFAULT_SIZE:200,QUIET_ZONE_LENGTH:4,DEFAULT_ERROR_CORRECTION_LEVEL:"L",DEFAULT_BACKGROUND:"#fff",DEFAULT_DARK_MODULE_COLOR:"#000",MIN_BASE_UNIT_SIZE:1},$=J.extend({init:function init(t,n){var i=this;J.fn.init.call(i,t,n),i.element=e(t),i.wrapper=i.element,i.element.addClass("k-qrcode"),i.surfaceWrap=e("<div />").css("position","relative").appendTo(this.element),i.surface=Q.Surface.create(i.surfaceWrap,{type:i.options.renderAs}),i.setOptions(n);},redraw:function redraw(){var e=this._getSize();this.surfaceWrap.css({width:e,height:e}),this.surface.clear(),this.createVisual(),this.surface.draw(this.visual);},getSize:function getSize(){return Y.dimensions(this.element);},_resize:function _resize(){this.redraw();},createVisual:function createVisual(){this.visual=this._render();},exportVisual:function exportVisual(){return this._render();},_render:function _render(){var e,t,n,i,o,r,a,s=this,l=s._value,c=s.options.border||{},d=s.options.padding||0,u=c.width||0;return c.width=u,a=new Q.Group(),l&&(n=q(l,s.options.errorCorrection,s.options.encoding),i=s._getSize(),r=i-2*(u+d),e=s._calculateBaseUnit(r,n.length),o=n.length*e,t=u+d+(r-o)/2,a.append(s._renderBackground(i,c)),a.append(s._renderMatrix(n,e,t))),a;},_getSize:function _getSize(){var e,t,n,i=this;return i.options.size?e=parseInt(i.options.size,10):(t=i.element,n=Math.min(t.width(),t.height()),e=n>0?n:G.DEFAULT_SIZE),e;},_calculateBaseUnit:function _calculateBaseUnit(e,t){var n=Math.floor(e/t);if(G.MIN_BASE_UNIT_SIZE>n)throw Error("Insufficient size.");return n*t>=e&&n-1>=G.MIN_BASE_UNIT_SIZE&&n--,n;},_renderMatrix:function _renderMatrix(e,t,n){var i,o,r,a,s,l,c,d,u=new Q.MultiPath({fill:{color:this.options.color},stroke:null});for(i=0;e.length>i;i++){for(o=n+i*t,r=0;e.length>r;){for(;0===e[i][r]&&e.length>r;){r++;}if(e.length>r){for(a=r;1==e[i][r];){r++;}s=Re(n+a*t),l=Re(o),c=Re(n+r*t),d=Re(o+t),u.moveTo(s,l).lineTo(s,d).lineTo(c,d).lineTo(c,l).close();}}}return u;},_renderBackground:function _renderBackground(e,t){var n=Z(0,0,e,e).unpad(t.width/2);return Q.Path.fromRect(n.toRect(),{fill:{color:this.options.background},stroke:{color:t.color,width:t.width}});},setOptions:function setOptions(e){var n=this;e=e||{},n.options=K(n.options,e),e.value!==t&&(n._value=n.options.value+""),n.redraw();},value:function value(e){var n=this;return e===t?n._value:(n._value=e+"",n.redraw(),t);},options:{name:"QRCode",renderAs:"svg",encoding:"ISO_8859_1",value:"",errorCorrection:G.DEFAULT_ERROR_CORRECTION_LEVEL,background:G.DEFAULT_BACKGROUND,color:G.DEFAULT_DARK_MODULE_COLOR,size:"",padding:0,border:{color:"",width:0}}}),X.ExportMixin.extend($.fn),X.ui.plugin($),Y.deepExtend(X,{QRCode:$,QRCodeDefaults:G,QRCodeFunctions:{FreeCellVisitor:g,fillData:v,padDataString:_,generateErrorCodewords:y,xorPolynomials:b,getBlocks:k,multiplyPolynomials:w,chooseMode:x,getModes:C,getDataCodewordsCount:S,getVersion:T,getDataString:D,encodeFormatInformation:A,encodeBCH:E,dividePolynomials:R,initMatrices:I,addFormatInformation:F,encodeVersionInformation:M,addVersionInformation:P,addCentricPattern:z,addFinderSeparator:B,addFinderPatterns:L,addAlignmentPatterns:H,addTimingFunctions:N,scoreMaskMatrixes:O,encodeData:q,UTF8Encoder:W},QRCodeFields:{modes:p,powersOfTwo:oe,powersOfTwoResult:re,generatorPolynomials:ae}});}(window.kendo.jQuery),window.kendo;},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("kendo.dataviz.stock.min",["kendo.dataviz.chart.min"],e);}(function(){return function(e,t){function n(){}function i(e){return n.prototype=e,new n();}var o,r=window.kendo,a=r.Class,s=r.Observable,l=r.deepExtend,c=Math,d=e.proxy,u=r.util,h=u.last,f=u.renderTemplate,p=r.dataviz,m=u.defined,g=p.filterSeriesByType,v=r.template,_=p.ui.Chart,b=p.Selection,w=p.addDuration,y=u.limitValue,k=p.lteDateIndex,x=p.toDate,C=p.toTime,S=28,T="change",D="k-",A="drag",E="dragEnd",R="_navigator",I=R,F=p.EQUALLY_SPACED_SERIES,M=3,P="zoom",z="zoomEnd",B=_.extend({init:function init(t,n){e(t).addClass(D+"chart"),_.fn.init.call(this,t,n);},_applyDefaults:function _applyDefaults(e,t){var n=this,i=n.element.width()||p.DEFAULT_WIDTH,o={seriesDefaults:{categoryField:e.dateField},axisDefaults:{categoryAxis:{name:"default",majorGridLines:{visible:!1},labels:{step:2},majorTicks:{visible:!1},maxDateGroups:c.floor(i/S)}}};t&&(t=l({},t,o)),L.setup(e,t),_.fn._applyDefaults.call(n,e,t);},setOptions:function setOptions(e){this._destroyNavigator(),_.fn.setOptions.call(this,e);},_initDataSource:function _initDataSource(e){var t,n,i=e||{},o=i.dataSource,r=o&&o.serverFiltering,a=[].concat(i.categoryAxis)[0],s=i.navigator||{},c=s.select,d=c&&c.from&&c.to;r&&d&&(t=[].concat(o.filter||[]),n=new p.DateCategoryAxis(l({baseUnit:"fit"},a,{categories:[c.from,c.to]})),o.filter=L.buildFilter(n.range().min,c.to).concat(t)),_.fn._initDataSource.call(this,e);},options:{name:"StockChart",dateField:"date",axisDefaults:{categoryAxis:{type:"date",baseUnit:"fit",justified:!0},valueAxis:{narrowRange:!0,labels:{format:"C"}}},navigator:{select:{},seriesDefaults:{markers:{visible:!1},tooltip:{visible:!0,template:"#= kendo.toString(category, 'd') #"},line:{width:2}},hint:{},visible:!0},tooltip:{visible:!0},legend:{visible:!1}},_resize:function _resize(){var e=this.options.transitions;this.options.transitions=!1,this._fullRedraw(),this.options.transitions=e;},_redraw:function _redraw(){var e=this,t=e._navigator;!this._dirty()&&t&&t.dataSource?t.redrawSlaves():e._fullRedraw();},_dirty:function _dirty(){var t=this.options,n=[].concat(t.series,t.navigator.series),i=e.grep(n,function(e){return e&&e.visible;}).length,o=this._seriesCount!==i;return this._seriesCount=i,o;},_fullRedraw:function _fullRedraw(){var e=this,t=e._navigator;t||(t=e._navigator=e.navigator=new L(e)),t._setRange(),_.fn._redraw.call(e),t._initSelection();},_onDataChanged:function _onDataChanged(){var e=this;_.fn._onDataChanged.call(e),e._dataBound=!0;},_bindCategoryAxis:function _bindCategoryAxis(e,t,n){var i,o=this,r=o.options.categoryAxis,a=r.length;if(_.fn._bindCategoryAxis.apply(this,arguments),e.name===I)for(;a>n;){i=r[n++],i.pane==R&&(i.categories=e.categories);}},_trackSharedTooltip:function _trackSharedTooltip(e){var t=this,n=t._plotArea,i=n.paneByPoint(e);i&&i.options.name===R?t._unsetActivePoint():_.fn._trackSharedTooltip.call(t,e);},_destroyNavigator:function _destroyNavigator(){this._navigator.destroy(),this._navigator=null;},destroy:function destroy(){this._destroyNavigator(),_.fn.destroy.call(this);}}),L=s.extend({init:function init(e){var t=this;t.chart=e,t.options=l({},t.options,e.options.navigator),t._initDataSource(),m(t.options.hint.visible)||(t.options.hint.visible=t.options.visible),e.bind(A,d(t._drag,t)),e.bind(E,d(t._dragEnd,t)),e.bind(P,d(t._zoom,t)),e.bind(z,d(t._zoomEnd,t));},options:{},_initDataSource:function _initDataSource(){var e=this,t=e.options,n=t.autoBind,i=t.dataSource;m(n)||(n=e.chart.options.autoBind),e._dataChangedHandler=d(e._onDataChanged,e),i&&(e.dataSource=r.data.DataSource.create(i).bind(T,e._dataChangedHandler),n&&e.dataSource.fetch());},_onDataChanged:function _onDataChanged(){var e,t,n,i,o,r=this,a=r.chart,s=a.options.series,l=s.length,c=a.options.categoryAxis,d=c.length,u=r.dataSource.view();for(e=0;l>e;e++){n=s[e],n.axis==I&&a._isBindable(n)&&(n.data=u);}for(t=0;d>t;t++){i=c[t],i.pane==R&&(i.name==I?(a._bindCategoryAxis(i,u,t),o=i.categories):i.categories=o);}a._model&&(r.redraw(),r._setRange(),(!a.options.dataSource||a.options.dataSource&&a._dataBound)&&r.redrawSlaves());},destroy:function destroy(){var e=this,t=e.dataSource;t&&t.unbind(T,e._dataChangeHandler),e.selection&&e.selection.destroy();},redraw:function redraw(){this._redrawSelf(),this._initSelection();},_initSelection:function _initSelection(){var t=this,n=t.chart,r=t.options,a=t.mainAxis(),s=i(a),l=a.range(),c=l.min,d=l.max,u=a.options.categories,h=t.options.select,f=t.selection,p=x(h.from),m=x(h.to);0!==u.length&&(f&&(f.destroy(),f.wrapper.remove()),s.box=a.box,f=t.selection=new b(n,s,{min:c,max:d,from:p||c,to:m||d,selectStart:e.proxy(t._selectStart,t),select:e.proxy(t._select,t),selectEnd:e.proxy(t._selectEnd,t),mousewheel:{zoom:"left"},visible:r.visible}),r.hint.visible&&(t.hint=new o(n.element,{min:c,max:d,template:r.hint.template,format:r.hint.format})));},_setRange:function _setRange(){var e,t=this.chart._createPlotArea(!0),n=t.namedCategoryAxes[I],i=n.datesRange(),o=i.min,r=i.max,a=this.options.select||{},s=x(a.from)||o;o>s&&(s=o),e=x(a.to)||r,e>r&&(e=r),this.options.select={from:s,to:e},this.filterAxes();},_redrawSelf:function _redrawSelf(e){var t=this.chart._plotArea;t&&t.redraw(h(t.panes),e);},redrawSlaves:function redrawSlaves(){var e=this,t=e.chart,n=t._plotArea,i=n.panes.slice(0,-1);n.srcSeries=t.options.series,n.redraw(i);},_drag:function _drag(e){var t,n,i,o=this,r=o.chart,a=r._eventCoordinates(e.originalEvent),s=o.mainAxis(),l=s.datesRange(),c=s.pane.box.containsPoint(a),d=r._plotArea.categoryAxis,u=e.axisRanges[d.options.name],h=o.options.select,f=o.selection;u&&!c&&f&&(t=h.from&&h.to?C(h.to)-C(h.from):C(f.options.to)-C(f.options.from),n=x(y(C(u.min),l.min,C(l.max)-t)),i=x(y(C(n)+t,C(l.min)+t,l.max)),o.options.select={from:n,to:i},o._liveDrag()&&(o.filterAxes(),o.redrawSlaves()),f.set(n,i),o.showHint(n,i));},_dragEnd:function _dragEnd(){var e=this;e.filterAxes(),e.filterDataSource(),e.redrawSlaves(),e.hint&&e.hint.hide();},_liveDrag:function _liveDrag(){var e=r.support,t=e.touch,n=e.browser,i=n.mozilla,o=n.msie&&9>n.version;return!t&&!i&&!o;},readSelection:function readSelection(){var e=this,t=e.selection,n=t.options,i=e.options.select;i.from=n.from,i.to=n.to;},filterAxes:function filterAxes(){var e,t,n=this,i=n.options.select||{},o=n.chart,r=o.options.categoryAxis,a=i.from,s=i.to;for(e=0;r.length>e;e++){t=r[e],t.pane!==R&&(t.min=x(a),t.max=x(s));}},filterDataSource:function filterDataSource(){var e,t=this,n=t.options.select||{},i=t.chart,o=i.dataSource,r=o&&o.options.serverFiltering;t.dataSource&&r&&(e=new p.DateCategoryAxis(l({baseUnit:"fit"},i.options.categoryAxis[0],{categories:[n.from,n.to]})).options,o.filter(L.buildFilter(w(e.min,-e.baseUnitStep,e.baseUnit),w(e.max,e.baseUnitStep,e.baseUnit))));},_zoom:function _zoom(e){var t,n,i=this,o=i.chart,a=e.delta,s=o._plotArea.categoryAxis,l=i.options.select,d=i.selection,u=i.mainAxis().options.categories;d&&(t=k(d.options.from,u),n=k(d.options.to,u),e.originalEvent.preventDefault(),c.abs(a)>1&&(a*=M),n-t>1?(d.expand(a),i.readSelection()):(s.options.min=l.from,l.from=s.scaleRange(-e.delta).min),r.support.touch||(i.filterAxes(),i.redrawSlaves()),d.set(l.from,l.to),i.showHint(i.options.select.from,i.options.select.to));},_zoomEnd:function _zoomEnd(e){this._dragEnd(e);},showHint:function showHint(e,t){var n=this,i=n.chart,o=i._plotArea;n.hint&&n.hint.show(e,t,o.backgroundBox());},_selectStart:function _selectStart(e){var t=this.chart;t._selectStart.call(t,e);},_select:function _select(e){var t=this,n=t.chart;t.showHint(e.from,e.to),n._select.call(n,e);},_selectEnd:function _selectEnd(e){var t=this,n=t.chart;t.hint&&t.hint.hide(),t.readSelection(),t.filterAxes(),t.filterDataSource(),t.redrawSlaves(),n._selectEnd.call(n,e);},mainAxis:function mainAxis(){var e=this.chart._plotArea;return e?e.namedCategoryAxes[I]:t;},select:function select(e,t){var n=this.options.select;return e&&t&&(n.from=x(e),n.to=x(t),this.filterAxes(),this.filterDataSource(),this.redrawSlaves(),this.selection.set(e,t)),{from:n.from,to:n.to};}});L.setup=function(e,t){if(e=e||{},t=t||{},!e.__navi){e.__navi=!0;var n=l({},t.navigator,e.navigator),i=e.panes=[].concat(e.panes),o=l({},n.pane,{name:R});n.visible||(o.visible=!1,o.height=.1),i.push(o),L.attachAxes(e,n),L.attachSeries(e,n,t);}},L.attachAxes=function(e,t){var n=t.series||[],i=e.categoryAxis=[].concat(e.categoryAxis),o=e.valueAxis=[].concat(e.valueAxis),r=g(n,F),a=0===r.length,s=l({type:"date",pane:R,roundToBaseUnit:!a,justified:a,_collapse:!1,majorTicks:{visible:!0},tooltip:{visible:!1},labels:{step:1},autoBind:!t.dataSource,autoBaseUnitSteps:{minutes:[1],hours:[1,2],days:[1,2],weeks:[],months:[1],years:[1]},_overlap:!1}),c=t.categoryAxis;i.push(l({},s,{maxDateGroups:200},c,{name:I,title:null,baseUnit:"fit",baseUnitStep:"auto",labels:{visible:!1},majorTicks:{visible:!1}}),l({},s,c,{name:I+"_labels",maxDateGroups:20,baseUnitStep:"auto",plotBands:[],autoBaseUnitSteps:{minutes:[]}}),l({},s,c,{name:I+"_ticks",maxDateGroups:200,majorTicks:{width:.5},plotBands:[],title:null,labels:{visible:!1,mirror:!0}})),o.push(l({name:I,pane:R,majorGridLines:{visible:!1},visible:!1},t.valueAxis));},L.attachSeries=function(e,t,n){var i,o=e.series=e.series||[],r=[].concat(t.series||[]),a=n.seriesColors,s=t.seriesDefaults;for(i=0;r.length>i;i++){o.push(l({color:a[i%a.length],categoryField:t.dateField,visibleInLegend:!1,tooltip:{visible:!1}},s,r[i],{axis:I,categoryAxis:I,autoBind:!t.dataSource}));}},L.buildFilter=function(e,t){return[{field:"Date",operator:"gte",value:x(e)},{field:"Date",operator:"lt",value:x(t)}];},o=a.extend({init:function init(t,n){var i=this;i.options=l({},i.options,n),i.container=t,i.chartPadding={top:parseInt(t.css("paddingTop"),10),left:parseInt(t.css("paddingLeft"),10)},i.template=i.template,i.template||(i.template=i.template=f("<div class='"+D+"navigator-hint' style='display: none; position: absolute; top: 1px; left: 1px;'><div class='"+D+"tooltip "+D+"chart-tooltip'>&nbsp;</div><div class='"+D+"scroll' /></div>")),i.element=e(i.template()).appendTo(t);},options:{format:"{0:d} - {1:d}",hideDelay:500},show:function show(e,t,n){var i,o=this,a=x(C(e)+C(t-e)/2),s=o.options,l=r.format(o.options.format,e,t),c=o.element.find("."+D+"tooltip"),d=o.element.find("."+D+"scroll"),u=.4*n.width(),h=n.center().x-u,f=n.center().x,p=f-h,m=s.max-s.min,g=p/m,_=a-s.min;o._hideTimeout&&clearTimeout(o._hideTimeout),o._visible||(o.element.stop(!1,!0).css("visibility","hidden").show(),o._visible=!0),s.template&&(i=v(s.template),l=i({from:e,to:t})),c.html(l).css({left:n.center().x-c.outerWidth()/2,top:n.y1}),d.css({width:u,left:h+_*g,top:n.y1+parseInt(c.css("margin-top"),10)+parseInt(c.css("border-top-width"),10)+c.height()/2}),o.element.css("visibility","visible");},hide:function hide(){var e=this;e._hideTimeout&&clearTimeout(e._hideTimeout),e._hideTimeout=setTimeout(function(){e._visible=!1,e.element.fadeOut("slow");},e.options.hideDelay);}}),p.ui.plugin(B),l(p,{Navigator:L});}(window.kendo.jQuery),window.kendo;},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("kendo.dataviz.sparkline.min",["kendo.dataviz.chart.min"],e);}(function(){return function(e,t){function n(e){return"number"==typeof e?[e]:e;}var i=window.kendo,o=i.dataviz,r=o.ui.Chart,a=i.data.ObservableArray,s=o.SharedTooltip,l=i.deepExtend,c=e.isArray,d=e.proxy,u=o.inArray,h=Math,f="k-",p=150,m=150,g="bar",v="bullet",_="pie",b="leave",w=[g,v],y=r.extend({init:function init(t,i){var o=this,s=o.stage=e("<span />"),d=i||{};t=e(t).addClass(f+"sparkline").empty().append(s),o._initialWidth=h.floor(t.width()),d=n(d),(c(d)||d instanceof a)&&(d={seriesDefaults:{data:d}}),d.series||(d.series=[{data:n(d.data)}]),l(d,{seriesDefaults:{type:d.type}}),(u(d.series[0].type,w)||u(d.seriesDefaults.type,w))&&(d=l({},{categoryAxis:{crosshair:{visible:!1}}},d)),r.fn.init.call(o,t,d);},options:{name:"Sparkline",chartArea:{margin:2},axisDefaults:{visible:!1,majorGridLines:{visible:!1},valueAxis:{narrowRange:!0}},seriesDefaults:{type:"line",area:{line:{width:.5}},bar:{stack:!0},padding:2,width:.5,overlay:{gradient:null},highlight:{visible:!1},border:{width:0},markers:{size:2,visible:!1}},tooltip:{visible:!0,shared:!0},categoryAxis:{crosshair:{visible:!0,tooltip:{visible:!1}}},legend:{visible:!1},transitions:!1,pointWidth:5,panes:[{clip:!1}]},_modelOptions:function _modelOptions(){var t,n,i=this,o=i.options,r=i._initialWidth,a=i.stage;return i.stage.children().hide(),n=e("<span>&nbsp;</span>"),i.stage.append(n),t=l({width:r?r:i._autoWidth(),height:a.height(),transitions:o.transitions},o.chartArea,{inline:!0,align:!1}),a.css({width:t.width,height:t.height}),n.remove(),i.stage.children().show(),i.surface.resize(),t;},_createTooltip:function _createTooltip(){var e,t=this,n=t.options,i=t.element;return e=t._sharedTooltip()?new k(i,t._plotArea,n.tooltip):r.fn._createTooltip.call(t),e.bind(b,d(t._tooltipleave,t)),e;},_surfaceWrap:function _surfaceWrap(){return this.stage;},_autoWidth:function _autoWidth(){var e,t,n,i=this,r=i.options,a=o.getSpacing(r.chartArea.margin),s=r.series,l=i.dataSource.total(),c=0;for(t=0;s.length>t;t++){if(n=s[t],n.type===g)return p;if(n.type===v)return m;if(n.type===_)return i.stage.height();n.data&&(c=h.max(c,n.data.length));}return e=h.max(l,c)*r.pointWidth,e>0&&(e+=a.left+a.right),e;}}),k=s.extend({options:{animation:{duration:0}},_anchor:function _anchor(e,t){var n=s.fn._anchor.call(this,e,t),i=this._measure();return n.y=-i.height-this.options.offset,n;},_hideElement:function _hideElement(){this.element&&this.element.hide().remove();}});o.ui.plugin(y),l(o,{SparklineSharedTooltip:k});}(window.kendo.jQuery),window.kendo;},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("dataviz/map/location.min",["kendo.drawing.min"],e);}(function(){!function(e,t){var n,i=Math,o=i.abs,r=i.atan,a=i.atan2,s=i.cos,l=i.max,c=i.min,d=i.sin,u=i.tan,h=window.kendo,f=h.Class,p=h.dataviz,m=h.deepExtend,g=h.util,v=g.defined,_=g.deg,b=g.rad,w=g.round,y=g.sqr,k=g.valueOrDefault,x=f.extend({init:function init(e,t){1===arguments.length?(this.lat=e[0],this.lng=e[1]):(this.lat=e,this.lng=t);},DISTANCE_ITERATIONS:100,DISTANCE_CONVERGENCE:1e-12,DISTANCE_PRECISION:2,FORMAT:"{0:N6},{1:N6}",toArray:function toArray(){return[this.lat,this.lng];},equals:function equals(e){return e&&e.lat===this.lat&&e.lng===this.lng;},clone:function clone(){return new x(this.lat,this.lng);},round:function round(e){return this.lng=w(this.lng,e),this.lat=w(this.lat,e),this;},wrap:function wrap(){return this.lng=this.lng%180,this.lat=this.lat%90,this;},distanceTo:function distanceTo(e,t){return this.greatCircleTo(e,t).distance;},destination:function destination(e,t,n){var o,r,l,c,u;return t=b(t),n=n||p.map.datums.WGS84,o=b(this.lat),r=b(this.lng),l=e/h.dataviz.map.datums.WGS84.a,c=i.asin(d(o)*s(l)+s(o)*d(l)*s(t)),u=r+a(d(t)*d(l)*s(o),s(l)-d(o)*d(c)),new x(_(c),_(u));},greatCircleTo:function greatCircleTo(e,t){var n,l,c,h,f,m,g,v,k,C,S,T,D,A,E,R,I,F,M,P,z,B,L,H,N,O,V,U,W;if(e=x.create(e),t=t||p.map.datums.WGS84,!e||this.clone().round(8).equals(e.clone().round(8)))return{distance:0,azimuthFrom:0,azimuthTo:0};for(n=t.a,l=t.b,c=t.f,h=b(e.lng-this.lng),f=r((1-c)*u(b(this.lat))),m=d(f),g=s(f),v=r((1-c)*u(b(e.lat))),k=d(v),C=s(v),S=h,D=this.DISTANCE_ITERATIONS,A=!1;!A&&D-->0;){E=d(S),R=s(S),I=i.sqrt(y(C*E)+y(g*k-m*C*R)),M=m*k+g*C*R,z=a(I,M),B=g*C*E/I,F=1-y(B),P=0,0!==F&&(P=M-2*m*k/F),T=S,L=c/16*F*(4+c*(4-3*F)),S=h+(1-L)*c*B*(z+L*I*(P+L*M*(-1+2*y(P)))),A=o(S-T)<=this.DISTANCE_CONVERGENCE;}return H=F*(y(n)-y(l))/y(l),N=1+H/16384*(4096+H*(-768+H*(320-175*H))),O=H/1024*(256+H*(-128+H*(74-47*H))),V=O*I*(P+O/4*(M*(-1+2*y(P))-O/6*P*(-3+4*y(I))*(-3+4*y(P)))),U=a(C*E,g*k-m*C*R),W=a(g*E,-m*C+g*k*R),{distance:w(l*N*(z-V),this.DISTANCE_PRECISION),azimuthFrom:_(U),azimuthTo:_(W)};}});x.fn.toString=function(){return h.format(this.FORMAT,this.lat,this.lng);},x.fromLngLat=function(e){return new x(e[1],e[0]);},x.fromLatLng=function(e){return new x(e[0],e[1]);},x.create=function(e,n){return v(e)?e instanceof x?e.clone():1===arguments.length&&2===e.length?x.fromLatLng(e):new x(e,n):t;},n=f.extend({init:function init(e,t){e=x.create(e),t=x.create(t),e.lng+180>t.lng+180&&t.lat+90>e.lat+90?(this.se=e,this.nw=t):(this.se=t,this.nw=e);},contains:function contains(e){var t=this.nw,n=this.se,i=k(e.lng,e[1]),o=k(e.lat,e[0]);return e&&i+180>=t.lng+180&&n.lng+180>=i+180&&o+90>=n.lat+90&&t.lat+90>=o+90;},center:function center(){var e=this.nw,t=this.se,n=e.lng+(t.lng-e.lng)/2,i=e.lat+(t.lat-e.lat)/2;return new x(i,n);},containsAny:function containsAny(e){var t,n=!1;for(t=0;e.length>t;t++){n=n||this.contains(e[t]);}return n;},include:function include(e){var t=this.nw,n=this.se,i=k(e.lng,e[1]),o=k(e.lat,e[0]);t.lng=c(t.lng,i),t.lat=l(t.lat,o),n.lng=l(n.lng,i),n.lat=c(n.lat,o);},includeAll:function includeAll(e){for(var t=0;e.length>t;t++){this.include(e[t]);}},edges:function edges(){var e=this.nw,t=this.se;return{nw:this.nw,ne:new x(e.lat,t.lng),se:this.se,sw:new x(t.lat,e.lng)};},toArray:function toArray(){var e=this.nw,t=this.se;return[e,new x(e.lat,t.lng),t,new x(t.lat,e.lng)];},overlaps:function overlaps(e){return this.containsAny(e.toArray())||e.containsAny(this.toArray());}}),n.World=new n([90,-180],[-90,180]),n.create=function(e,i){return e instanceof n?e:e&&i?new n(e,i):e&&4===e.length&&!i?new n([e[0],e[1]],[e[2],e[3]]):t;},m(p,{map:{Extent:n,Location:x}});}(window.kendo.jQuery);},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("dataviz/map/attribution.min",["kendo.drawing.min"],e);}(function(){!function(){var e=window.kendo,t=e.ui.Widget,n=e.template,i=e.util.valueOrDefault,o=e.util.defined,r=t.extend({init:function init(e,n){t.fn.init.call(this,e,n),this._initOptions(n),this.items=[],this.element.addClass("k-widget k-attribution");},options:{name:"Attribution",separator:"&nbsp;|&nbsp;",itemTemplate:"#= text #"},filter:function filter(e,t){this._extent=e,this._zoom=t,this._render();},add:function add(e){o(e)&&("string"==typeof e&&(e={text:e}),this.items.push(e),this._render());},remove:function remove(e){var t,n,i=[];for(t=0;this.items.length>t;t++){n=this.items[t],n.text!==e&&i.push(n);}this.items=i,this._render();},clear:function clear(){this.items=[],this.element.empty();},_render:function _render(){var e,t,i,o=[],r=n(this.options.itemTemplate);for(e=0;this.items.length>e;e++){t=this.items[e],i=this._itemText(t),""!==i&&o.push(r({text:i}));}o.length>0?this.element.empty().append(o.join(this.options.separator)).show():this.element.hide();},_itemText:function _itemText(e){var t="",n=this._inZoomLevel(e.minZoom,e.maxZoom),i=this._inArea(e.extent);return n&&i&&(t+=e.text),t;},_inZoomLevel:function _inZoomLevel(e,t){var n=!0;return e=i(e,-Number.MAX_VALUE),t=i(t,Number.MAX_VALUE),n=this._zoom>e&&t>this._zoom;},_inArea:function _inArea(e){var t=!0;return e&&(t=e.contains(this._extent)),t;}});e.dataviz.ui.plugin(r);}(window.kendo.jQuery);},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("dataviz/map/navigator.min",["kendo.core.min"],e);}(function(){!function(e){function t(e){return n.format('<button class="k-button k-navigator-{0}"><span class="k-icon k-i-arrow-{0}"/></button>',e);}var n=window.kendo,i=n.ui.Widget,o=n.keys,r=e.proxy,a=".kendoNavigator",s=t("n")+t("e")+t("s")+t("w"),l=i.extend({init:function init(e,t){i.fn.init.call(this,e,t),this._initOptions(t),this.element.addClass("k-widget k-header k-shadow k-navigator").append(s).on("click"+a,".k-button",r(this,"_click"));var o=this.element.parent().closest("["+n.attr("role")+"]");this._keyroot=o.length>0?o:this.element,this._tabindex(this._keyroot),this._keydown=r(this._keydown,this),this._keyroot.on("keydown",this._keydown);},options:{name:"Navigator",panStep:1},events:["pan"],dispose:function dispose(){this._keyroot.off("keydown",this._keydown);},_pan:function _pan(e,t){var n=this.options.panStep;this.trigger("pan",{x:e*n,y:t*n});},_click:function _click(t){var n=0,i=0,o=e(t.currentTarget);o.is(".k-navigator-n")?i=1:o.is(".k-navigator-s")?i=-1:o.is(".k-navigator-e")?n=1:o.is(".k-navigator-w")&&(n=-1),this._pan(n,i),t.preventDefault();},_keydown:function _keydown(e){switch(e.which){case o.UP:this._pan(0,1),e.preventDefault();break;case o.DOWN:this._pan(0,-1),e.preventDefault();break;case o.RIGHT:this._pan(1,0),e.preventDefault();break;case o.LEFT:this._pan(-1,0),e.preventDefault();}}});n.dataviz.ui.plugin(l);}(window.kendo.jQuery);},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("dataviz/map/zoom.min",["kendo.core.min"],e);}(function(){!function(e){function t(e,t){return n.format('<button class="k-button k-zoom-{0}" title="zoom-{0}">{1}</button>',e,t);}var n=window.kendo,i=n.ui.Widget,o=n.keys,r=e.proxy,a=".kendoZoomControl",s=t("in","+")+t("out","-"),l=187,c=189,d=61,u=173,h=i.extend({init:function init(e,t){i.fn.init.call(this,e,t),this._initOptions(t),this.element.addClass("k-widget k-zoom-control k-button-wrap k-buttons-horizontal").append(s).on("click"+a,".k-button",r(this,"_click"));var o=this.element.parent().closest("["+n.attr("role")+"]");this._keyroot=o.length>0?o:this.element,this._tabindex(this._keyroot),this._keydown=r(this._keydown,this),this._keyroot.on("keydown",this._keydown);},options:{name:"ZoomControl",zoomStep:1},events:["change"],_change:function _change(e){var t=this.options.zoomStep;this.trigger("change",{delta:e*t});},_click:function _click(t){var n=e(t.currentTarget),i=1;n.is(".k-zoom-out")&&(i=-1),this._change(i),t.preventDefault();},_keydown:function _keydown(e){switch(e.which){case o.NUMPAD_PLUS:case l:case d:this._change(1);break;case o.NUMPAD_MINUS:case c:case u:this._change(-1);}}});n.dataviz.ui.plugin(h);}(window.kendo.jQuery);},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("dataviz/map/crs.min",["dataviz/map/location.min","kendo.drawing.min"],e);}(function(){!function(e,t){var n=Math,i=n.atan,o=n.exp,r=n.pow,a=n.sin,s=n.log,l=n.tan,c=window.kendo,d=c.Class,u=c.dataviz,h=c.deepExtend,f=c.geometry,p=f.Point,m=u.map,g=m.Location,v=c.util,_=v.rad,b=v.deg,w=v.limitValue,y=n.PI,k=y/2,x=y/4,C=y/180,S={a:6378137,b:6356752.314245179,f:.0033528106647474805,e:.08181919084262149},T=d.extend({init:function init(e){this._initOptions(e);},MAX_LNG:180,MAX_LAT:85.0840590501,INVERSE_ITERATIONS:15,INVERSE_CONVERGENCE:1e-12,options:{centralMeridian:0,datum:S},forward:function forward(e,t){var n=this,i=n.options,o=i.datum,r=o.a,a=i.centralMeridian,s=w(e.lat,-n.MAX_LAT,n.MAX_LAT),l=t?w(e.lng,-n.MAX_LNG,n.MAX_LNG):e.lng,c=_(l-a)*r,d=n._projectLat(s);return new p(c,d);},_projectLat:function _projectLat(e){var t=this.options.datum,n=t.e,i=t.a,o=_(e),c=l(x+o/2),d=n*a(o),u=r((1-d)/(1+d),n/2);return i*s(c*u);},inverse:function inverse(e,t){var n=this,i=n.options,o=i.datum,r=o.a,a=i.centralMeridian,s=e.x/(C*r)+a,l=w(n._inverseY(e.y),-n.MAX_LAT,n.MAX_LAT);return t&&(s=w(s,-n.MAX_LNG,n.MAX_LNG)),new g(l,s);},_inverseY:function _inverseY(e){var t,s,l,c,d=this,u=d.options.datum,h=u.a,f=u.e,p=f/2,m=o(-e/h),g=k-2*i(m);for(t=0;d.INVERSE_ITERATIONS>=t&&(s=f*a(g),l=r((1-s)/(1+s),p),c=k-2*i(m*l)-g,g+=c,!(n.abs(c)<=d.INVERSE_CONVERGENCE));t++){}return b(g);}}),D=T.extend({MAX_LAT:85.0511287798,_projectLat:function _projectLat(e){var t=this.options.datum.a,n=_(e),i=l(x+n/2);return t*s(i);},_inverseY:function _inverseY(e){var t=this.options.datum.a,n=o(-e/t);return b(k-2*i(n));}}),A=d.extend({forward:function forward(e){return new p(e.lng,e.lat);},inverse:function inverse(e){return new g(e.y,e.x);}}),E=d.extend({init:function init(){var e=this,t=e._proj=new D(),n=this.c=2*y*t.options.datum.a;this._tm=f.transform().translate(.5,.5).scale(1/n,-1/n),this._itm=f.transform().scale(n,-n).translate(-.5,-.5);},toPoint:function toPoint(e,t,n){var i=this._proj.forward(e,n);return i.transform(this._tm).scale(t||1);},toLocation:function toLocation(e,t,n){return e=e.clone().scale(1/(t||1)).transform(this._itm),this._proj.inverse(e,n);}}),R=d.extend({init:function init(){this._proj=new T();},toPoint:function toPoint(e){return this._proj.forward(e);},toLocation:function toLocation(e){return this._proj.inverse(e);}}),I=d.extend({init:function init(){this._proj=new A();},toPoint:function toPoint(e){return this._proj.forward(e);},toLocation:function toLocation(e){return this._proj.inverse(e);}});h(u,{map:{crs:{EPSG3395:R,EPSG3857:E,EPSG4326:I},datums:{WGS84:S},projections:{Equirectangular:A,Mercator:T,SphericalMercator:D}}});}(window.kendo.jQuery);},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("dataviz/map/layers/base.min",["kendo.core.min","dataviz/map/location.min"],e);}(function(){!function(e,t){var n=e.proxy,i=window.kendo,o=i.Class,r=i.dataviz,a=i.deepExtend,s=r.map.Extent,l=i.util,c=l.defined,d=o.extend({init:function init(t,i){this._initOptions(i),this.map=t,this.element=e("<div class='k-layer'></div>").css({zIndex:this.options.zIndex,opacity:this.options.opacity}).appendTo(t.scrollElement),this._beforeReset=n(this._beforeReset,this),this._reset=n(this._reset,this),this._resize=n(this._resize,this),this._panEnd=n(this._panEnd,this),this._activate(),this._updateAttribution();},destroy:function destroy(){this._deactivate();},show:function show(){this.reset(),this._activate(),this._applyExtent(!0);},hide:function hide(){this._deactivate(),this._setVisibility(!1);},reset:function reset(){this._beforeReset(),this._reset();},_reset:function _reset(){this._applyExtent();},_beforeReset:e.noop,_resize:e.noop,_panEnd:function _panEnd(){this._applyExtent();},_applyExtent:function _applyExtent(){var e=this.options,t=this.map.zoom(),n=!c(e.minZoom)||t>=e.minZoom,i=!c(e.maxZoom)||e.maxZoom>=t,o=s.create(e.extent),r=!o||o.overlaps(this.map.extent());this._setVisibility(n&&i&&r);},_setVisibility:function _setVisibility(e){this.element.css("display",e?"":"none");},_activate:function _activate(){var e=this.map;e.bind("beforeReset",this._beforeReset),e.bind("reset",this._reset),e.bind("resize",this._resize),e.bind("panEnd",this._panEnd);},_deactivate:function _deactivate(){var e=this.map;e.unbind("beforeReset",this._beforeReset),e.unbind("reset",this._reset),e.unbind("resize",this._resize),e.unbind("panEnd",this._panEnd);},_updateAttribution:function _updateAttribution(){var e=this.map.attribution;e&&e.add(this.options.attribution);}});a(r,{map:{layers:{Layer:d}}});}(window.kendo.jQuery);},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("dataviz/map/layers/shape.min",["dataviz/map/layers/base.min","dataviz/map/location.min"],e);}(function(){!function(e,t){var n=e.proxy,i=window.kendo,o=i.Class,r=i.data.DataSource,a=i.dataviz,s=i.deepExtend,l=i.util.last,c=i.util.defined,d=i.geometry,u=i.drawing,h=u.Group,f=a.map,p=f.Location,m=f.layers.Layer,g=m.extend({init:function init(e,t){this._pan=n(this._pan,this),m.fn.init.call(this,e,t),this.surface=u.Surface.create(this.element,{width:e.scrollElement.width(),height:e.scrollElement.height()}),this._initRoot(),this.movable=new i.ui.Movable(this.surface.element),this._markers=[],this._click=this._handler("shapeClick"),this.surface.bind("click",this._click),this._mouseenter=this._handler("shapeMouseEnter"),this.surface.bind("mouseenter",this._mouseenter),this._mouseleave=this._handler("shapeMouseLeave"),this.surface.bind("mouseleave",this._mouseleave),this._initDataSource();},options:{autoBind:!0},destroy:function destroy(){m.fn.destroy.call(this),this.surface.destroy(),this.dataSource.unbind("change",this._dataChange);},setDataSource:function setDataSource(e){this.dataSource&&this.dataSource.unbind("change",this._dataChange),this.dataSource=i.data.DataSource.create(e),this.dataSource.bind("change",this._dataChange),this.options.autoBind&&this.dataSource.fetch();},_reset:function _reset(){m.fn._reset.call(this),this._translateSurface(),this._data&&this._load(this._data);},_initRoot:function _initRoot(){this._root=new h(),this.surface.draw(this._root);},_beforeReset:function _beforeReset(){this.surface.clear(),this._initRoot();},_resize:function _resize(){this.surface.size(this.map.size());},_initDataSource:function _initDataSource(){var e=this.options.dataSource;this._dataChange=n(this._dataChange,this),this.dataSource=r.create(e).bind("change",this._dataChange),e&&this.options.autoBind&&this.dataSource.fetch();},_dataChange:function _dataChange(e){this._data=e.sender.view(),this._load(this._data);},_load:function _load(e){var t,n,i;for(this._clearMarkers(),this._loader||(this._loader=new v(this.map,this.options.style,this)),t=new h(),n=0;e.length>n;n++){i=this._loader.parse(e[n]),i&&t.append(i);}this._root.clear(),this._root.append(t);},shapeCreated:function shapeCreated(e){var t,n=!1;return e instanceof u.Circle&&(n=c(this._createMarker(e))),n||(t={layer:this,shape:e},n=this.map.trigger("shapeCreated",t)),n;},featureCreated:function featureCreated(e){e.layer=this,this.map.trigger("shapeFeatureCreated",e);},_createMarker:function _createMarker(e){var t=this.map.markers.bind({location:e.location},e.dataItem);return t&&this._markers.push(t),t;},_clearMarkers:function _clearMarkers(){for(var e=0;this._markers.length>e;e++){this.map.markers.remove(this._markers[e]);}this._markers=[];},_pan:function _pan(){this._panning||(this._panning=!0,this.surface.suspendTracking());},_panEnd:function _panEnd(e){m.fn._panEnd.call(this,e),this._translateSurface(),this.surface.resumeTracking(),this._panning=!1;},_translateSurface:function _translateSurface(){var e=this.map,t=e.locationToView(e.extent().nw);this.surface.translate&&(this.surface.translate(t),this.movable.moveTo({x:t.x,y:t.y}));},_handler:function _handler(e){var t=this;return function(n){if(n.element){var i={layer:t,shape:n.element,originalEvent:n.originalEvent};t.map.trigger(e,i);}};},_activate:function _activate(){m.fn._activate.call(this),this.map.bind("pan",this._pan);},_deactivate:function _deactivate(){m.fn._deactivate.call(this),this.map.unbind("pan",this._pan);}}),v=o.extend({init:function init(e,t,n){this.observer=n,this.locator=e,this.style=t;},parse:function parse(e){var t=new h(),n=!0;return"Feature"===e.type?(n=!1,this._loadGeometryTo(t,e.geometry,e),this._featureCreated(t,e)):this._loadGeometryTo(t,e,e),n&&2>t.children.length&&(t=t.children[0]),t;},_shapeCreated:function _shapeCreated(e){var t=!1;return this.observer&&this.observer.shapeCreated&&(t=this.observer.shapeCreated(e)),t;},_featureCreated:function _featureCreated(e,t){this.observer&&this.observer.featureCreated&&this.observer.featureCreated({group:e,dataItem:t,properties:t.properties});},_loadGeometryTo:function _loadGeometryTo(e,t,n){var i,o,r=t.coordinates;switch(t.type){case"LineString":o=this._loadPolygon(e,[r],n),this._setLineFill(o);break;case"MultiLineString":for(i=0;r.length>i;i++){o=this._loadPolygon(e,[r[i]],n),this._setLineFill(o);}break;case"Polygon":this._loadPolygon(e,r,n);break;case"MultiPolygon":for(i=0;r.length>i;i++){this._loadPolygon(e,r[i],n);}break;case"Point":this._loadPoint(e,r,n);break;case"MultiPoint":for(i=0;r.length>i;i++){this._loadPoint(e,r[i],n);}}},_setLineFill:function _setLineFill(e){var t=e.segments;(4>t.length||!t[0].anchor().equals(l(t).anchor()))&&(e.options.fill=null);},_loadShape:function _loadShape(e,t){return this._shapeCreated(t)||e.append(t),t;},_loadPolygon:function _loadPolygon(e,t,n){var i=this._buildPolygon(t);return i.dataItem=n,this._loadShape(e,i);},_buildPolygon:function _buildPolygon(e){var t,n,i,o=e.length>1?u.MultiPath:u.Path,r=new o(this.style);for(t=0;e.length>t;t++){for(n=0;e[t].length>n;n++){i=this.locator.locationToView(p.fromLngLat(e[t][n])),0===n?r.moveTo(i.x,i.y):r.lineTo(i.x,i.y);}}return r;},_loadPoint:function _loadPoint(e,t,n){var i=p.fromLngLat(t),o=this.locator.locationToView(i),r=new d.Circle(o,10),a=new u.Circle(r,this.style);return a.dataItem=n,a.location=i,this._loadShape(e,a);}});s(i.data,{schemas:{geojson:{type:"json",data:function data(e){return"FeatureCollection"===e.type?e.features:"GeometryCollection"===e.type?e.geometries:e;}}},transports:{geojson:{read:{dataType:"json"}}}}),s(a,{map:{layers:{shape:g,ShapeLayer:g},GeoJSONLoader:v}});}(window.kendo.jQuery);},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("dataviz/map/layers/bubble.min",["dataviz/map/layers/shape.min"],e);}(function(){!function(e,t){var n=window.kendo,i=n.getter,o=n.dataviz,r=n.deepExtend,a=n.util,s=a.defined,l=n.geometry,c=n.drawing,d=o.map,u=d.Location,h=d.layers.ShapeLayer,f=h.extend({options:{autoBind:!0,locationField:"location",valueField:"value",minSize:0,maxSize:100,scale:"sqrt",symbol:"circle"},_load:function _load(e){var t,n,o,r,a,l,c,d,h,f,p;if(this.surface.clear(),0!==e.length)for(t=this.options,n=i(t.valueField),e=e.slice(0),e.sort(function(e,t){return n(t)-n(e);}),o=this._scaleType(),a=0;e.length>a;a++){l=e[a],c=i(t.locationField)(l),d=i(t.valueField)(l),s(c)&&s(d)&&(r||(r=new o([0,d],[t.minSize,t.maxSize])),c=u.create(c),h=this.map.locationToView(c),f=r.map(d),p=this._createSymbol({center:h,size:f,style:t.style,dataItem:l,location:c}),p.dataItem=l,p.location=c,p.value=d,this._drawSymbol(p));}},_scaleType:function _scaleType(){var e=this.options.scale;return n.isFunction(e)?e:o.map.scales[e];},_createSymbol:function _createSymbol(e){var t=this.options.symbol;return n.isFunction(t)||(t=o.map.symbols[t]),t(e);},_drawSymbol:function _drawSymbol(e){var t={layer:this,shape:e},n=this.map.trigger("shapeCreated",t);n||this.surface.draw(e);}}),p=n.Class.extend({init:function init(e,t){var n,i;this._domain=e,this._range=t,n=Math.sqrt(e[1])-Math.sqrt(e[0]),i=t[1]-t[0],this._ratio=i/n;},map:function map(e){var t=(Math.sqrt(e)-Math.sqrt(this._domain[0]))*this._ratio;return this._range[0]+t;}}),m={circle:function circle(e){var t=new l.Circle(e.center,e.size/2);return new c.Circle(t,e.style);},square:function square(e){var t=new c.Path(e.style),n=e.size/2,i=e.center;return t.moveTo(i.x-n,i.y-n).lineTo(i.x+n,i.y-n).lineTo(i.x+n,i.y+n).lineTo(i.x-n,i.y+n).close(),t;}};r(o,{map:{layers:{bubble:f,BubbleLayer:f},scales:{sqrt:p},symbols:m}});}(window.kendo.jQuery);},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("dataviz/map/layers/tile.min",["dataviz/map/layers/base.min","dataviz/map/location.min"],e);}(function(){!function(e,t){function n(e){return new u(p(e.x),p(e.y));}var i=Math,o=e.proxy,r=window.kendo,a=r.Class,s=r.template,l=r.dataviz,c=r.deepExtend,d=r.geometry,u=d.Point,h=l.map.layers.Layer,f=r.util,p=f.round,m=f.renderSize,g=f.limitValue,v=h.extend({init:function init(e,t){h.fn.init.call(this,e,t),"string"==typeof this.options.subdomains&&(this.options.subdomains=this.options.subdomains.split(""));var n=this._viewType();this._view=new n(this.element,this.options);},destroy:function destroy(){h.fn.destroy.call(this),this._view.destroy(),this._view=null;},_beforeReset:function _beforeReset(){var e=this.map,t=e.locationToLayer(e.extent().nw).round();this._view.viewOrigin(t);},_reset:function _reset(){h.fn._reset.call(this),this._updateView(),this._view.reset();},_viewType:function _viewType(){return _;},_activate:function _activate(){h.fn._activate.call(this),r.support.mobileOS||(this._pan||(this._pan=r.throttle(o(this._render,this),100)),this.map.bind("pan",this._pan));},_deactivate:function _deactivate(){h.fn._deactivate.call(this),this._pan&&this.map.unbind("pan",this._pan);},_updateView:function _updateView(){var e=this._view,t=this.map,n=t.extent(),i={nw:t.locationToLayer(n.nw).round(),se:t.locationToLayer(n.se).round()};e.center(t.locationToLayer(t.center())),e.extent(i),e.zoom(t.zoom());},_resize:function _resize(){this._render();},_panEnd:function _panEnd(e){h.fn._panEnd.call(this,e),this._render();},_render:function _render(){this._updateView(),this._view.render();}}),_=a.extend({init:function init(e,t){this.element=e,this._initOptions(t),this.pool=new w();},options:{tileSize:256,subdomains:["a","b","c"],urlTemplate:""},center:function center(e){this._center=e;},extent:function extent(e){this._extent=e;},viewOrigin:function viewOrigin(e){this._viewOrigin=e;},zoom:function zoom(e){this._zoom=e;},pointToTileIndex:function pointToTileIndex(e){return new u(i.floor(e.x/this.options.tileSize),i.floor(e.y/this.options.tileSize));},tileCount:function tileCount(){var e=this.size(),t=this.pointToTileIndex(this._extent.nw),n=this._extent.nw,o=this.indexToPoint(t).translate(-n.x,-n.y);return{x:i.ceil((i.abs(o.x)+e.width)/this.options.tileSize),y:i.ceil((i.abs(o.y)+e.height)/this.options.tileSize)};},size:function size(){var e=this._extent.nw,t=this._extent.se,n=t.clone().translate(-e.x,-e.y);return{width:n.x,height:n.y};},indexToPoint:function indexToPoint(e){var t=e.x,n=e.y;return new u(t*this.options.tileSize,n*this.options.tileSize);},subdomainText:function subdomainText(){var e=this.options.subdomains;return e[this.subdomainIndex++%e.length];},destroy:function destroy(){this.element.empty(),this.pool.empty();},reset:function reset(){this.pool.reset(),this.subdomainIndex=0,this.render();},render:function render(){var e,t,n,i=this.tileCount(),o=this.pointToTileIndex(this._extent.nw);for(t=0;i.x>t;t++){for(n=0;i.y>n;n++){e=this.createTile({x:o.x+t,y:o.y+n}),e.visible||e.show();}}},createTile:function createTile(e){var t=this.tileOptions(e),n=this.pool.get(this._center,t);return 0===n.element.parent().length&&this.element.append(n.element),n;},tileOptions:function tileOptions(e){var t=this.wrapIndex(e),i=this.indexToPoint(e),o=this._viewOrigin,r=i.clone().translate(-o.x,-o.y);return{index:t,currentIndex:e,point:i,offset:n(r),zoom:this._zoom,size:this.options.tileSize,subdomain:this.subdomainText(),urlTemplate:this.options.urlTemplate,errorUrlTemplate:this.options.errorUrlTemplate};},wrapIndex:function wrapIndex(e){var t=i.pow(2,this._zoom);return{x:this.wrapValue(e.x,t),y:g(e.y,0,t-1)};},wrapValue:function wrapValue(e,t){var n=i.abs(e)%t;return e=e>=0?n:t-(0===n?t:n);}}),b=a.extend({init:function init(e,t){this.id=e,this.visible=!0,this._initOptions(t),this.createElement(),this.show();},options:{urlTemplate:"",errorUrlTemplate:""},createElement:function createElement(){this.element=e("<img style='position: absolute; display: block;' />").css({width:this.options.size,height:this.options.size}).error(o(function(e){this.errorUrl()?e.target.setAttribute("src",this.errorUrl()):e.target.removeAttribute("src");},this));},show:function show(){var e,t=this.element[0];t.style.top=m(this.options.offset.y),t.style.left=m(this.options.offset.x),e=this.url(),e&&t.setAttribute("src",e),t.style.visibility="visible",this.visible=!0;},hide:function hide(){this.element[0].style.visibility="hidden",this.visible=!1;},url:function url(){var e=s(this.options.urlTemplate);return e(this.urlOptions());},errorUrl:function errorUrl(){var e=s(this.options.errorUrlTemplate);return e(this.urlOptions());},urlOptions:function urlOptions(){var e=this.options;return{zoom:e.zoom,subdomain:e.subdomain,z:e.zoom,x:e.index.x,y:e.index.y,s:e.subdomain,quadkey:e.quadkey,q:e.quadkey,culture:e.culture,c:e.culture};},destroy:function destroy(){this.element&&(this.element.remove(),this.element=null);}}),w=a.extend({init:function init(){this._items=[];},options:{maxSize:100},get:function get(e,t){return this._items.length>=this.options.maxSize&&this._remove(e),this._create(t);},empty:function empty(){var e,t=this._items;for(e=0;t.length>e;e++){t[e].destroy();}this._items=[];},reset:function reset(){var e,t=this._items;for(e=0;t.length>e;e++){t[e].hide();}},_create:function _create(e){var t,n,i=this._items,o=f.hashKey(""+e.point+(""+e.offset)+e.zoom+e.urlTemplate);for(n=0;i.length>n;n++){if(i[n].id===o){t=i[n];break;}}return t?t.show():(t=new b(o,e),this._items.push(t)),t;},_remove:function _remove(e){var t,n,i=this._items,o=-1,r=-1;for(t=0;i.length>t;t++){n=i[t].options.point.distanceTo(e),n>o&&!i[t].visible&&(r=t,o=n);}-1!==r&&(i[r].destroy(),i.splice(r,1));}});c(l,{map:{layers:{tile:v,TileLayer:v,ImageTile:b,TilePool:w,TileView:_}}});}(window.kendo.jQuery);},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("dataviz/map/layers/bing.min",["dataviz/map/layers/tile.min"],e);}(function(){!function(e,t){var n=window.kendo,i=n.dataviz,o=n.deepExtend,r=n.util.defined,a=i.map.Extent,s=i.map.Location,l=i.map.layers.TileLayer,c=i.map.layers.TileView,d=l.extend({init:function init(t,n){this.options.baseUrl=this._scheme()+"://dev.virtualearth.net/REST/v1/Imagery/Metadata/",l.fn.init.call(this,t,n),this._onMetadata=e.proxy(this._onMetadata,this),this._fetchMetadata();},options:{imagerySet:"road"},_fetchMetadata:function _fetchMetadata(){var t=this.options;if(!t.key)throw Error("Bing tile layer: API key is required");e.ajax({url:t.baseUrl+t.imagerySet,data:{output:"json",include:"ImageryProviders",key:t.key,uriScheme:this._scheme()},type:"get",dataType:"jsonp",jsonp:"jsonp",success:this._onMetadata});},_scheme:function _scheme(e){return e=e||window.location.protocol,"https"===e.replace(":","")?"https":"http";},_onMetadata:function _onMetadata(e){var t,n;e&&e.resourceSets.length&&(t=this.resource=e.resourceSets[0].resources[0],o(this._view.options,{urlTemplate:t.imageUrl.replace("{subdomain}","#= subdomain #").replace("{quadkey}","#= quadkey #").replace("{culture}","#= culture #"),subdomains:t.imageUrlSubdomains}),n=this.options,r(n.minZoom)||(n.minZoom=t.zoomMin),r(n.maxZoom)||(n.maxZoom=t.zoomMax),this._addAttribution(),"none"!==this.element.css("display")&&this._reset());},_viewType:function _viewType(){return u;},_addAttribution:function _addAttribution(){var e,t,n,i,o,r=this.map.attribution;if(r&&(e=this.resource.imageryProviders))for(t=0;e.length>t;t++){for(n=e[t],i=0;n.coverageAreas.length>i;i++){o=n.coverageAreas[i],r.add({text:n.attribution,minZoom:o.zoomMin,maxZoom:o.zoomMax,extent:new a(new s(o.bbox[2],o.bbox[1]),new s(o.bbox[0],o.bbox[3]))});}}},imagerySet:function imagerySet(e){return e?(this.options.imagerySet=e,this.map.attribution.clear(),this._fetchMetadata(),t):this.options.imagerySet;}}),u=c.extend({options:{culture:"en-US"},tileOptions:function tileOptions(e){var t=c.fn.tileOptions.call(this,e);return t.culture=this.options.culture,t.quadkey=this.tileQuadKey(this.wrapIndex(e)),t;},tileQuadKey:function tileQuadKey(e){var t,n,i,o="";for(i=this._zoom;i>0;i--){t=0,n=1<<i-1,0!==(e.x&n)&&t++,0!==(e.y&n)&&(t+=2),o+=t;}return o;}});o(i,{map:{layers:{bing:d,BingLayer:d,BingView:u}}});}(window.kendo.jQuery);},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("dataviz/map/layers/marker.min",["dataviz/map/layers/base.min","dataviz/map/location.min","kendo.data.min","kendo.tooltip.min"],e);}(function(){!function(e,t){var n=document,i=Math,o=e.inArray,r=e.proxy,a=window.kendo,s=a.Class,l=a.data.DataSource,c=a.ui.Tooltip,d=a.dataviz,u=a.deepExtend,h=d.map,f=h.Location,p=h.layers.Layer,m=p.extend({init:function init(e,t){p.fn.init.call(this,e,t),this._markerClick=r(this._markerClick,this),this.element.on("click",".k-marker",this._markerClick),this.items=[],this._initDataSource();},destroy:function destroy(){p.fn.destroy.call(this),this.element.off("click",".k-marker",this._markerClick),this.dataSource.unbind("change",this._dataChange),this.clear();},options:{zIndex:1e3,autoBind:!0,dataSource:{},locationField:"location",titleField:"title"},add:function add(t){if(!e.isArray(t))return this._addOne(t);for(var n=0;t.length>n;n++){this._addOne(t[n]);}},remove:function remove(e){e.destroy();var t=o(e,this.items);t>-1&&this.items.splice(t,1);},clear:function clear(){for(var e=0;this.items.length>e;e++){this.items[e].destroy();}this.items=[];},update:function update(e){var t,n=e.location();n&&(e.showAt(this.map.locationToView(n)),t={marker:e,layer:this},this.map.trigger("markerActivate",t));},_reset:function _reset(){var e,t;for(p.fn._reset.call(this),e=this.items,t=0;e.length>t;t++){this.update(e[t]);}},bind:function bind(e,n){var i,o,r=h.Marker.create(e,this.options);return r.dataItem=n,i={marker:r,layer:this},o=this.map.trigger("markerCreated",i),o?t:(this.add(r),r);},setDataSource:function setDataSource(e){this.dataSource&&this.dataSource.unbind("change",this._dataChange),this.dataSource=a.data.DataSource.create(e),this.dataSource.bind("change",this._dataChange),this.options.autoBind&&this.dataSource.fetch();},_addOne:function _addOne(e){var t=g.create(e,this.options);return t.addTo(this),t;},_initDataSource:function _initDataSource(){var e=this.options.dataSource;this._dataChange=r(this._dataChange,this),this.dataSource=l.create(e).bind("change",this._dataChange),e&&this.options.autoBind&&this.dataSource.fetch();},_dataChange:function _dataChange(e){this._load(e.sender.view());},_load:function _load(e){var t,n,i,o;for(this._data=e,this.clear(),t=a.getter(this.options.locationField),n=a.getter(this.options.titleField),i=0;e.length>i;i++){o=e[i],this.bind({location:t(o),title:n(o)},o);}},_markerClick:function _markerClick(t){var n={marker:e(t.target).data("kendoMarker"),layer:this};this.map.trigger("markerClick",n);}}),g=s.extend({init:function init(e){this.options=e||{};},addTo:function addTo(e){this.layer=e.markers||e,this.layer.items.push(this),this.layer.update(this);},location:function location(e){return e?(this.options.location=f.create(e).toArray(),this.layer&&this.layer.update(this),this):f.create(this.options.location);},showAt:function showAt(e){this.render(),this.element.css({left:i.round(e.x),top:i.round(e.y)}),this.tooltip&&this.tooltip.popup&&this.tooltip.popup._position();},hide:function hide(){this.element&&(this.element.remove(),this.element=null),this.tooltip&&(this.tooltip.destroy(),this.tooltip=null);},destroy:function destroy(){this.layer=null,this.hide();},render:function render(){var t,i;this.element||(t=this.options,i=this.layer,this.element=e(n.createElement("span")).addClass("k-marker k-marker-"+a.toHyphens(t.shape||"pin")).attr("title",t.title).attr(t.attributes||{}).data("kendoMarker",this).css("zIndex",t.zIndex),i&&i.element.append(this.element),this.renderTooltip());},renderTooltip:function renderTooltip(){var e,t,n=this,i=n.options.title,o=n.options.tooltip||{};o&&c&&(e=o.template,e&&(t=a.template(e),o.content=function(e){return e.location=n.location(),e.marker=n,t(e);}),(i||o.content||o.contentUrl)&&(this.tooltip=new c(this.element,o),this.tooltip.marker=this));}});g.create=function(e,t){return e instanceof g?e:new g(u({},t,e));},u(d,{map:{layers:{marker:m,MarkerLayer:m},Marker:g}});}(window.kendo.jQuery);},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("dataviz/map/main.min",["dataviz/map/crs.min","dataviz/map/location.min"],e);}(function(){!function(e,t){var n=document,i=Math,o=i.min,r=i.pow,a=e.proxy,s=window.kendo,l=s.ui.Widget,c=s.deepExtend,d=s.dataviz,u=d.ui,h=s.geometry,f=h.Point,p=d.map,m=p.Extent,g=p.Location,v=p.crs.EPSG3857,_=s.util,b=_.defined,w=_.limitValue,y=_.renderPos,k=_.valueOrDefault,x="k-",C=.9,S=.93,T="DOMMouseScroll mousewheel",D=5,A=l.extend({init:function init(e,t){s.destroy(e),l.fn.init.call(this,e),this._initOptions(t),this.bind(this.events,t),this.crs=new v(),this.element.addClass(x+this.options.name.toLowerCase()).css("position","relative").empty().append(n.createElement("div")),this._viewOrigin=this._getOrigin(),this._initScroller(),this._initMarkers(),this._initControls(),this._initLayers(),this._reset(),this._mousewheel=a(this._mousewheel,this),this.element.bind("click",a(this._click,this)),this.element.bind(T,this._mousewheel);},options:{name:"Map",controls:{attribution:!0,navigator:{panStep:100},zoom:!0},layers:[],layerDefaults:{shape:{style:{fill:{color:"#fff"},stroke:{color:"#aaa",width:.5}}},bubble:{style:{fill:{color:"#fff",opacity:.5},stroke:{color:"#aaa",width:.5}}},marker:{shape:"pinTarget",tooltip:{position:"top"}}},center:[0,0],zoom:3,minSize:256,minZoom:1,maxZoom:19,markers:[],markerDefaults:{shape:"pinTarget",tooltip:{position:"top"}},wraparound:!0},events:["beforeReset","click","markerActivate","markerClick","markerCreated","pan","panEnd","reset","shapeClick","shapeCreated","shapeFeatureCreated","shapeMouseEnter","shapeMouseLeave","zoomEnd","zoomStart"],destroy:function destroy(){this.scroller.destroy(),this.navigator&&this.navigator.destroy(),this.attribution&&this.attribution.destroy(),this.zoomControl&&this.zoomControl.destroy(),this.markers.destroy();for(var e=0;this.layers.length>e;e++){this.layers[e].destroy();}l.fn.destroy.call(this);},zoom:function zoom(e){var t=this.options;return b(e)?(e=i.round(w(e,t.minZoom,t.maxZoom)),t.zoom!==e&&(t.zoom=e,this._reset()),this):t.zoom;},center:function center(e){return e?(this.options.center=g.create(e).toArray(),this._reset(),this):g.create(this.options.center);},extent:function extent(e){return e?(this._setExtent(e),this):this._getExtent();},setOptions:function setOptions(e){l.fn.setOptions.call(this,e),this._reset();},locationToLayer:function locationToLayer(e,t){var n=!this.options.wraparound;return e=g.create(e),this.crs.toPoint(e,this._layerSize(t),n);},layerToLocation:function layerToLocation(e,t){var n=!this.options.wraparound;return e=f.create(e),this.crs.toLocation(e,this._layerSize(t),n);},locationToView:function locationToView(e){var t,n;return e=g.create(e),t=this.locationToLayer(this._viewOrigin),n=this.locationToLayer(e),n.translateWith(t.scale(-1));},viewToLocation:function viewToLocation(e,t){var n=this.locationToLayer(this._getOrigin(),t);return e=f.create(e),e=e.clone().translateWith(n),this.layerToLocation(e,t);},eventOffset:function eventOffset(e){var t=this.element.offset(),n=e.originalEvent||e,i=k(n.pageX,n.clientX)-t.left,o=k(n.pageY,n.clientY)-t.top;return new h.Point(i,o);},eventToView:function eventToView(e){var t=this.eventOffset(e);return this.locationToView(this.viewToLocation(t));},eventToLayer:function eventToLayer(e){return this.locationToLayer(this.eventToLocation(e));},eventToLocation:function eventToLocation(e){var t=this.eventOffset(e);return this.viewToLocation(t);},viewSize:function viewSize(){var e=this.element,t=this._layerSize(),n=e.width();return this.options.wraparound||(n=o(t,n)),{width:n,height:o(t,e.height())};},exportVisual:function exportVisual(){return this._reset(),!1;},_setOrigin:function _setOrigin(e,t){var n,i=this.viewSize();return e=this._origin=g.create(e),n=this.locationToLayer(e,t),n.x+=i.width/2,n.y+=i.height/2,this.options.center=this.layerToLocation(n,t).toArray(),this;},_getOrigin:function _getOrigin(e){var t,n=this.viewSize();return!e&&this._origin||(t=this.locationToLayer(this.center()),t.x-=n.width/2,t.y-=n.height/2,this._origin=this.layerToLocation(t)),this._origin;},_setExtent:function _setExtent(e){var t,n,o,r,a,s,l;for(e=m.create(e),this.center(e.center()),t=this.element.width(),n=this.element.height(),o=this.options.maxZoom;o>=this.options.minZoom&&(r=this.locationToLayer(e.nw,o),a=this.locationToLayer(e.se,o),s=i.abs(a.x-r.x),l=i.abs(a.y-r.y),!(t>=s&&n>=l));o--){}this.zoom(o);},_getExtent:function _getExtent(){var e,t=this._getOrigin(),n=this.locationToLayer(t),i=this.viewSize();return n.x+=i.width,n.y+=i.height,e=this.layerToLocation(n),new m(t,e);},_zoomAround:function _zoomAround(e,t){this._setOrigin(this.layerToLocation(e,t),t),this.zoom(t);},_initControls:function _initControls(){var e=this.options.controls;u.Attribution&&e.attribution&&this._createAttribution(e.attribution),s.support.mobileOS||(u.Navigator&&e.navigator&&this._createNavigator(e.navigator),u.ZoomControl&&e.zoom&&this._createZoomControl(e.zoom));},_createControlElement:function _createControlElement(t,n){var i=t.position||n,o="."+y(i).replace(" ","."),r=e(".k-map-controls"+o,this.element);return 0===r.length&&(r=e("<div>").addClass("k-map-controls "+y(i)).appendTo(this.element)),e("<div>").appendTo(r);},_createAttribution:function _createAttribution(e){var t=this._createControlElement(e,"bottomRight");this.attribution=new u.Attribution(t,e);},_createNavigator:function _createNavigator(e){var t=this._createControlElement(e,"topLeft"),n=this.navigator=new u.Navigator(t,e);this._navigatorPan=a(this._navigatorPan,this),n.bind("pan",this._navigatorPan),this._navigatorCenter=a(this._navigatorCenter,this),n.bind("center",this._navigatorCenter);},_navigatorPan:function _navigatorPan(e){var t=this,n=t.scroller,i=n.scrollLeft+e.x,o=n.scrollTop-e.y,r=this._virtualSize,a=this.element.height(),s=this.element.width();i=w(i,r.x.min,r.x.max-s),o=w(o,r.y.min,r.y.max-a),t.scroller.one("scroll",function(e){t._scrollEnd(e);}),t.scroller.scrollTo(-i,-o);},_navigatorCenter:function _navigatorCenter(){this.center(this.options.center);},_createZoomControl:function _createZoomControl(e){var t=this._createControlElement(e,"topLeft"),n=this.zoomControl=new u.ZoomControl(t,e);this._zoomControlChange=a(this._zoomControlChange,this),n.bind("change",this._zoomControlChange);},_zoomControlChange:function _zoomControlChange(e){this.trigger("zoomStart",{originalEvent:e})||(this.zoom(this.zoom()+e.delta),this.trigger("zoomEnd",{originalEvent:e}));},_initScroller:function _initScroller(){var e=s.support.mobileOS?S:C,t=this.options.zoomable!==!1,n=this.scroller=new s.mobile.ui.Scroller(this.element.children(0),{friction:e,velocityMultiplier:D,zoom:t,mousewheelScrolling:!1});n.bind("scroll",a(this._scroll,this)),n.bind("scrollEnd",a(this._scrollEnd,this)),n.userEvents.bind("gesturestart",a(this._scaleStart,this)),n.userEvents.bind("gestureend",a(this._scale,this)),this.scrollElement=n.scrollElement;},_initLayers:function _initLayers(){var e,t,n,i,o,r=this.options.layers,a=this.layers=[];for(e=0;r.length>e;e++){t=r[e],n=t.type||"shape",i=this.options.layerDefaults[n],o=d.map.layers[n],a.push(new o(this,c({},i,t)));}},_initMarkers:function _initMarkers(){this.markers=new p.layers.MarkerLayer(this,this.options.markerDefaults),this.markers.add(this.options.markers);},_scroll:function _scroll(e){var t=this.locationToLayer(this._viewOrigin).round(),n=e.sender.movable,i=new h.Point(n.x,n.y).scale(-1).scale(1/n.scale);t.x+=i.x,t.y+=i.y,this._scrollOffset=i,this._setOrigin(this.layerToLocation(t)),this.trigger("pan",{originalEvent:e,origin:this._getOrigin(),center:this.center()});},_scrollEnd:function _scrollEnd(e){this._scrollOffset&&this._panComplete()&&(this._scrollOffset=null,this._panEndTS=new Date(),this.trigger("panEnd",{originalEvent:e,origin:this._getOrigin(),center:this.center()}));},_panComplete:function _panComplete(){return new Date()-(this._panEndTS||0)>50;},_scaleStart:function _scaleStart(e){if(this.trigger("zoomStart",{originalEvent:e})){var t=e.touches[1];t&&t.cancel();}},_scale:function _scale(e){var t=this.scroller.movable.scale,n=this._scaleToZoom(t),i=new h.Point(e.center.x,e.center.y),o=this.viewToLocation(i,n),r=this.locationToLayer(o,n),a=r.translate(-i.x,-i.y);this._zoomAround(a,n),this.trigger("zoomEnd",{originalEvent:e});},_scaleToZoom:function _scaleToZoom(e){var t=this._layerSize()*e,n=t/this.options.minSize,o=i.log(n)/i.log(2);return i.round(o);},_reset:function _reset(){this.attribution&&this.attribution.filter(this.center(),this.zoom()),this._viewOrigin=this._getOrigin(!0),this._resetScroller(),this.trigger("beforeReset"),this.trigger("reset");},_resetScroller:function _resetScroller(){var e,t,n,i,o=this.scroller,a=o.dimensions.x,s=o.dimensions.y,l=this._layerSize(),c=this.extent().nw,d=this.locationToLayer(c).round();o.movable.round=!0,o.reset(),o.userEvents.cancel(),e=this.zoom(),o.dimensions.forcedMinScale=r(2,this.options.minZoom-e),o.dimensions.maxScale=r(2,this.options.maxZoom-e),t={min:-d.x,max:l-d.x},n={min:-d.y,max:l-d.y},this.options.wraparound&&(t.max=20*l,t.min=-t.max),this.options.pannable===!1&&(i=this.viewSize(),t.min=n.min=0,t.max=i.width,n.max=i.height),a.makeVirtual(),s.makeVirtual(),a.virtualSize(t.min,t.max),s.virtualSize(n.min,n.max),this._virtualSize={x:t,y:n};},_renderLayers:function _renderLayers(){var e,t,n,i,o,r=this.options.layers,a=this.layers=[],s=this.scrollWrap;for(s.empty(),e=0;r.length>e;e++){t=r[e],n=t.type||"shape",i=this.options.layerDefaults[n],o=d.map.layers[n],a.push(new o(this,c({},i,t)));}},_layerSize:function _layerSize(e){return e=k(e,this.options.zoom),this.options.minSize*r(2,e);},_click:function _click(e){if(this._panComplete()){var t=this.eventOffset(e);this.trigger("click",{originalEvent:e,location:this.viewToLocation(t)});}},_mousewheel:function _mousewheel(e){var t,n,i,o,r,a,s,l;e.preventDefault(),t=d.mwDelta(e)>0?-1:1,n=this.options,i=this.zoom(),o=w(i+t,n.minZoom,n.maxZoom),n.zoomable!==!1&&o!==i&&(this.trigger("zoomStart",{originalEvent:e})||(r=this.eventOffset(e),a=this.viewToLocation(r),s=this.locationToLayer(a,o),l=s.translate(-r.x,-r.y),this._zoomAround(l,o),this.trigger("zoomEnd",{originalEvent:e})));}});d.ui.plugin(A);}(window.kendo.jQuery);},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("kendo.dataviz.map.min",["kendo.data.min","kendo.userevents.min","kendo.tooltip.min","kendo.mobile.scroller.min","kendo.draganddrop.min","kendo.dataviz.core.min","dataviz/map/location.min","dataviz/map/attribution.min","dataviz/map/navigator.min","dataviz/map/zoom.min","dataviz/map/crs.min","dataviz/map/layers/base.min","dataviz/map/layers/shape.min","dataviz/map/layers/bubble.min","dataviz/map/layers/tile.min","dataviz/map/layers/bing.min","dataviz/map/layers/marker.min","dataviz/map/main.min"],e);}(function(){},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("dataviz/diagram/utils.min",["kendo.core.min"],e);}(function(){!function(e,t){function n(e,n,i){function o(e){for(var t=1;e*t%1;){t*=10;}return t;}var r,a,s,l;if(t===e||t===n)return[];if(i&&u.sign(n-e)!=u.sign(i))throw"The sign of the increment should allow to reach the stop-value.";if(i=i||1,e=e||0,n=n||e,(n-e)/i===1/0)throw"Infinite range defined.";if(r=[],a=-1,l=o(Math.abs(i)),e*=l,n*=l,i*=l,e>n&&i>0&&(i=-i),0>i)for(;(s=e+i*++a)>=n;){r.push(s/l);}else for(;(s=e+i*++a)<=n;){r.push(s/l);}return r;}function i(e,t){if(e==t)return 0;var n=t.x-e.x,i=e.y-t.y,o=Math.atan(n/i);return i>=0?0>n?o+2*Math.PI:o:o+Math.PI;}var o,r,a=window.kendo,s=a.dataviz.diagram={},l=a.deepExtend,c=e.isArray,d=1e-6,u={};l(u,{isNearZero:function isNearZero(e){return Math.abs(e)<d;},isDefined:function isDefined(e){return t!==e;},isUndefined:function isUndefined(e){return t===e||null===e;},isObject:function isObject(e){return e===Object(e);},has:function has(e,t){return Object.hasOwnProperty.call(e,t);},isString:function isString(e){return"[object String]"==Object.prototype.toString.call(e);},isBoolean:function isBoolean(e){return"[object Boolean]"==Object.prototype.toString.call(e);},isType:function isType(e,t){return Object.prototype.toString.call(e)=="[object "+t+"]";},isNumber:function isNumber(e){return!isNaN(parseFloat(e))&&isFinite(e);},isEmpty:function isEmpty(e){if(null===e)return!0;if(c(e)||u.isString(e))return 0===e.length;for(var t in e){if(u.has(e,t))return!1;}return!0;},simpleExtend:function simpleExtend(e,t){if(u.isObject(t))for(var n in t){e[n]=t[n];}},initArray:function initArray(e,t){var n,i=[];for(n=0;e>n;++n){i[n]=t;}return i;},serializePoints:function serializePoints(e){var t,n,i=[];for(t=0;e.length>t;t++){n=e[t],i.push(n.x+";"+n.y);}return i.join(";");},deserializePoints:function deserializePoints(e){var t,n=e.split(";"),i=[];if(n.length%2!==0)throw"Not an array of points.";for(t=0;n.length>t;t+=2){i.push(new s.Point(parseInt(n[t],10),parseInt(n[t+1],10)));}return i;},randomInteger:function randomInteger(e,t){return parseInt(Math.floor(Math.random()*t)+e,10);},DFT:function DFT(e,t){var n,i;if(t(e),e.childNodes)for(n=0;e.childNodes.length>n;n++){i=e.childNodes[n],this.DFT(i,t);}},getMatrixAngle:function getMatrixAngle(e){return null===e||0===e.d?0:180*Math.atan2(e.b,e.d)/Math.PI;},getMatrixScaling:function getMatrixScaling(e){var t=Math.sqrt(e.a*e.a+e.c*e.c),n=Math.sqrt(e.b*e.b+e.d*e.d);return[t,n];}}),u.sign=function(e){return e?0>e?-1:1:0;},u.findAngle=function(e,t){return 180*i(e,t)/Math.PI;},u.forEach=function(e,t,n){for(var i=0;e.length>i;i++){t.call(n,e[i],i,e);}},u.any=function(e,t){for(var n=0;e.length>n;++n){if(t(e[n]))return e[n];}return null;},u.remove=function(e,t){for(var n;-1!==(n=u.indexOf(e,t));){e.splice(n,1);}return e;},u.contains=function(e,t){return-1!==u.indexOf(e,t);},u.indexOf=function(t,n){return e.inArray(n,t);},u.fold=function(e,t,n,i){var o,r,a=arguments.length>2;for(o=0;e.length>o;o++){r=e[o],a?n=t.call(i,n,r,o,e):(n=r,a=!0);}if(!a)throw"Reduce of empty array with no initial value";return n;},u.find=function(e,t,n){var i;return u.any(e,function(e,o,r){return t.call(n,e,o,r)?(i=e,!0):!1;}),i;},u.first=function(e,t,n){return 0===e.length?null:u.isUndefined(t)?e[0]:u.find(e,t,n);},u.insert=function(e,t,n){return e.splice(n,0,t),e;},u.all=function(e,t,n){var i,o,r=!0;for(o=0;e.length>o&&(i=e[o],r=r&&t.call(n,i,o,e),r);o++){}return r;},u.clear=function(e){e.splice(0,e.length);},u.bisort=function(e,t,n){if(u.isUndefined(e))throw"First array is not specified.";if(u.isUndefined(t))throw"Second array is not specified.";if(e.length!=t.length)throw"The two arrays should have equal length";var i,o=[];for(i=0;e.length>i;i++){o.push({x:e[i],y:t[i]});}for(o.sort(u.isUndefined(n)?function(e,t){return e.x-t.x;}:function(e,t){return n(e.x,t.x);}),u.clear(e),u.clear(t),i=0;o.length>i;i++){e.push(o[i].x),t.push(o[i].y);}},u.addRange=function(e,t){e.push.apply(e,t);},o={easeInOut:function easeInOut(e){return-Math.cos(e*Math.PI)/2+.5;}},r=a.Class.extend({init:function init(){this.adapters=[],this.target=0,this.tick=0,this.interval=20,this.duration=800,this.lastTime=null,this.handlers=[];var e=this;this.transition=o.easeInOut,this.timerDelegate=function(){e.onTimerEvent();};},addAdapter:function addAdapter(e){this.adapters.push(e);},onComplete:function onComplete(e){this.handlers.push(e);},removeHandler:function removeHandler(t){this.handlers=e.grep(this.handlers,function(e){return e!==t;});},trigger:function trigger(){var e=this;this.handlers&&u.forEach(this.handlers,function(t){return t.call(null!==e.caller?e.caller:e);});},onStep:function onStep(){},seekTo:function seekTo(e){this.seekFromTo(this.tick,e);},seekFromTo:function seekFromTo(e,t){this.target=Math.max(0,Math.min(1,t)),this.tick=Math.max(0,Math.min(1,e)),this.lastTime=new Date().getTime(),this.intervalId||(this.intervalId=window.setInterval(this.timerDelegate,this.interval));},stop:function stop(){this.intervalId&&(window.clearInterval(this.intervalId),this.intervalId=null,this.trigger());},play:function play(e){0!==this.adapters.length&&(null!==e&&(this.caller=e),this.initState(),this.seekFromTo(0,1));},reverse:function reverse(){this.seekFromTo(1,0);},initState:function initState(){if(0!==this.adapters.length)for(var e=0;this.adapters.length>e;e++){this.adapters[e].initState();}},propagate:function propagate(){var e,t=this.transition(this.tick);for(e=0;this.adapters.length>e;e++){this.adapters[e].update(t);}},onTimerEvent:function onTimerEvent(){var e,t=new Date().getTime(),n=t-this.lastTime;this.lastTime=t,e=n/this.duration*(this.target>this.tick?1:-1),Math.abs(e)>=Math.abs(this.tick-this.target)?this.tick=this.target:this.tick+=e;try{this.propagate();}finally{this.onStep.call(this),this.target==this.tick&&this.stop();}}}),a.deepExtend(s,{init:function init(e){a.init(e,s.ui);},Utils:u,Range:n,Ticker:r});}(window.kendo.jQuery);},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("dataviz/diagram/math.min",["dataviz/diagram/utils.min","kendo.dataviz.core.min"],e);}(function(){!function(e,t){function n(e){return Math.abs(e)<M;}function i(e,t,i,o,r){var a,s,l,c,d=(t.x-e.x)*(o.y-i.y)-(t.y-e.y)*(o.x-i.x);if(!n(d)&&(a=(e.y-i.y)*(o.x-i.x)-(e.x-i.x)*(o.y-i.y),s=(e.y-i.y)*(t.x-e.x)-(e.x-i.x)*(t.y-e.y),l=a/d,c=s/d,!r||!(0>l||l>1||0>c||c>1)))return new A(e.x+l*(t.x-e.x),e.y+l*(t.y-e.y));}function o(e,t){var n,i,o;do{n=2*Math.random()-1,i=2*Math.random()-1,o=n*n+i*i;}while(!o||o>1);return e+t*n*Math.sqrt(-2*Math.log(o)/o);}function r(e){var t,n,i;for(D.isUndefined(e)&&(e=10),t="",n="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",i=e;i>0;--i){t+=n.charAt(Math.round(Math.random()*(n.length-1)));}return t;}var a,s,l,c,d,u,h,f,p,m,g,v,_,b,w,y,k=window.kendo,x=k.dataviz.diagram,C=k.Class,S=k.deepExtend,T=k.dataviz,D=x.Utils,A=T.Point2D,E=k.isFunction,R=D.contains,I=e.map,F=3,M=1e-6;S(A.fn,{plus:function plus(e){return new A(this.x+e.x,this.y+e.y);},minus:function minus(e){return new A(this.x-e.x,this.y-e.y);},offset:function offset(e){return new A(this.x-e,this.y-e);},times:function times(e){return new A(this.x*e,this.y*e);},normalize:function normalize(){return 0===this.length()?new A():this.times(1/this.length());},length:function length(){return Math.sqrt(this.x*this.x+this.y*this.y);},toString:function toString(){return"("+this.x+","+this.y+")";},lengthSquared:function lengthSquared(){return this.x*this.x+this.y*this.y;},middleOf:function middleOf(e,t){return new A(t.x-e.x,t.y-e.y).times(.5).plus(e);},toPolar:function toPolar(e){var t,n,i,o=1;if(e&&(o=180/Math.PI),t=Math.atan2(Math.abs(this.y),Math.abs(this.x)),n=Math.PI/2,i=this.length(),0===this.x){if(0===this.y)return new u(0,0);if(this.y>0)return new u(i,o*n);if(0>this.y)return new u(i,3*o*n);}else if(this.x>0){if(0===this.y)return new u(i,0);if(this.y>0)return new u(i,o*t);if(0>this.y)return new u(i,o*(4*n-t));}else{if(0===this.y)return new u(i,2*n);if(this.y>0)return new u(i,o*(2*n-t));if(0>this.y)return new u(i,o*(2*n+t));}},isOnLine:function isOnLine(e,t){var n,i,o,r,a;return e.x>t.x&&(n=t,t=e,e=n),i=new s(e.x,e.y).inflate(F,F),o=new s(t.x,t.y).inflate(F,F),i.union(o).contains(this)?e.x===t.x||e.y===t.y?!0:(t.y>e.y?(r=i.x+(o.x-i.x)*(this.y-(i.y+i.height))/(o.y+o.height-(i.y+i.height)),a=i.x+i.width+(o.x+o.width-(i.x+i.width))*(this.y-i.y)/(o.y-i.y)):(r=i.x+(o.x-i.x)*(this.y-i.y)/(o.y-i.y),a=i.x+i.width+(o.x+o.width-(i.x+i.width))*(this.y-(i.y+i.height))/(o.y+o.height-(i.y+i.height))),this.x>r&&a>this.x):!1;}}),S(A,{parse:function parse(e){var n=e.slice(1,e.length-1),i=n.split(","),o=parseInt(i[0],10),r=parseInt(i[1],10);return isNaN(o)||isNaN(r)?t:new A(o,r);}}),a=C.extend({init:function init(e,t,n){this.point=e,this.left=t,this.right=n;}}),s=C.extend({init:function init(e,t,n,i){this.x=e||0,this.y=t||0,this.width=n||0,this.height=i||0;},contains:function contains(e){return e.x>=this.x&&this.x+this.width>=e.x&&e.y>=this.y&&this.y+this.height>=e.y;},inflate:function inflate(e,n){return n===t&&(n=e),this.x-=e,this.y-=n,this.width+=2*e+1,this.height+=2*n+1,this;},offset:function offset(e,t){var n=e,i=t;return e instanceof A&&(n=e.x,i=e.y),this.x+=n,this.y+=i,this;},union:function union(e){var t=Math.min(this.x,e.x),n=Math.min(this.y,e.y),i=Math.max(this.x+this.width,e.x+e.width),o=Math.max(this.y+this.height,e.y+e.height);return new s(t,n,i-t,o-n);},center:function center(){return new A(this.x+this.width/2,this.y+this.height/2);},top:function top(){return new A(this.x+this.width/2,this.y);},right:function right(){return new A(this.x+this.width,this.y+this.height/2);},bottom:function bottom(){return new A(this.x+this.width/2,this.y+this.height);},left:function left(){return new A(this.x,this.y+this.height/2);},topLeft:function topLeft(){return new A(this.x,this.y);},topRight:function topRight(){return new A(this.x+this.width,this.y);},bottomLeft:function bottomLeft(){return new A(this.x,this.y+this.height);},bottomRight:function bottomRight(){return new A(this.x+this.width,this.y+this.height);},clone:function clone(){return new s(this.x,this.y,this.width,this.height);},isEmpty:function isEmpty(){return!this.width&&!this.height;},equals:function equals(e){return this.x===e.x&&this.y===e.y&&this.width===e.width&&this.height===e.height;},rotatedBounds:function rotatedBounds(e){var t=this.clone(),n=this.rotatedPoints(e),i=n[0],o=n[1],r=n[2],a=n[3];return t.x=Math.min(r.x,i.x,o.x,a.x),t.y=Math.min(r.y,i.y,o.y,a.y),t.width=Math.max(r.x,i.x,o.x,a.x)-t.x,t.height=Math.max(r.y,i.y,o.y,a.y)-t.y,t;},rotatedPoints:function rotatedPoints(e){var t=this,n=t.center(),i=t.bottomRight().rotate(n,360-e),o=t.topLeft().rotate(n,360-e),r=t.topRight().rotate(n,360-e),a=t.bottomLeft().rotate(n,360-e);return[o,r,i,a];},toString:function toString(e){return e=e||" ",this.x+e+this.y+e+this.width+e+this.height;},scale:function scale(e,t,n,i,o){var r,a,s,l=this.topLeft(),c=this.center();l.rotate(c,360-o).rotate(i,o),r=n.minus(l),a=new A(r.x*e,r.y*t),s=r.minus(a),l=l.plus(s),l.rotate(i,360-o).rotate(c,o),this.x=l.x,this.y=l.y,this.width*=e,this.height*=t;},zoom:function zoom(e){return this.x*=e,this.y*=e,this.width*=e,this.height*=e,this;},overlaps:function overlaps(e){var t=this.bottomRight(),n=e.bottomRight(),i=!(e.x>t.x||e.y>t.y||this.x>n.x||this.y>n.y);return i;}}),l=C.extend({init:function init(e,t){this.width=e,this.height=t;}}),l.prototype.Empty=new l(0,0),s.toRect=function(e){return e instanceof s||(e=new s(e.x,e.y,e.width,e.height)),e;},s.empty=function(){return new s(0,0,0,0);},s.fromPoints=function(e,t){if(isNaN(e.x)||isNaN(e.y)||isNaN(t.x)||isNaN(t.y))throw"Some values are NaN.";return new s(Math.min(e.x,t.x),Math.min(e.y,t.y),Math.abs(e.x-t.x),Math.abs(e.y-t.y));},c={lines:function lines(e,t,n,o){return i(e,t,n,o);},segments:function segments(e,t,n,o){return i(e,t,n,o,!0);},rectWithLine:function rectWithLine(e,t,n){return c.segments(t,n,e.topLeft(),e.topRight())||c.segments(t,n,e.topRight(),e.bottomRight())||c.segments(t,n,e.bottomLeft(),e.bottomRight())||c.segments(t,n,e.topLeft(),e.bottomLeft());},rects:function rects(e,t,n){var i,o,r=t.topLeft(),a=t.topRight(),s=t.bottomLeft(),l=t.bottomRight(),d=t.center();return n&&(r=r.rotate(d,n),a=a.rotate(d,n),s=s.rotate(d,n),l=l.rotate(d,n)),i=e.contains(r)||e.contains(a)||e.contains(s)||e.contains(l)||c.rectWithLine(e,r,a)||c.rectWithLine(e,r,s)||c.rectWithLine(e,a,l)||c.rectWithLine(e,s,l),i||(r=e.topLeft(),a=e.topRight(),s=e.bottomLeft(),l=e.bottomRight(),n&&(o=360-n,r=r.rotate(d,o),a=a.rotate(d,o),s=s.rotate(d,o),l=l.rotate(d,o)),i=t.contains(r)||t.contains(a)||t.contains(s)||t.contains(l)),i;}},d=C.extend({init:function init(e){this.container=s.toRect(e);},align:function align(e,t){var n,i=t.toLowerCase().split(" ");for(n=0;i.length>n;n++){e=this._singleAlign(e,i[n]);}return e;},_singleAlign:function _singleAlign(e,t){return E(this[t])?this[t](e):e;},left:function left(e){return this._align(e,this._left);},center:function center(e){return this._align(e,this._center);},right:function right(e){return this._align(e,this._right);},stretch:function stretch(e){return this._align(e,this._stretch);},top:function top(e){return this._align(e,this._top);},middle:function middle(e){return this._align(e,this._middle);},bottom:function bottom(e){return this._align(e,this._bottom);},_left:function _left(e,t){t.x=e.x;},_center:function _center(e,t){t.x=(e.width-t.width)/2||0;},_right:function _right(e,t){t.x=e.width-t.width;},_top:function _top(e,t){t.y=e.y;},_middle:function _middle(e,t){t.y=(e.height-t.height)/2||0;},_bottom:function _bottom(e,t){t.y=e.height-t.height;},_stretch:function _stretch(e,t){t.x=0,t.y=0,t.height=e.height,t.width=e.width;},_align:function _align(e,t){return e=s.toRect(e),t(this.container,e),e;}}),u=C.extend({init:function init(e,t){this.r=e,this.angle=t;}}),h=C.extend({init:function init(e,t,n,i,o,r){this.a=e||0,this.b=t||0,this.c=n||0,this.d=i||0,this.e=o||0,this.f=r||0;},plus:function plus(e){this.a+=e.a,this.b+=e.b,this.c+=e.c,this.d+=e.d,this.e+=e.e,this.f+=e.f;},minus:function minus(e){this.a-=e.a,this.b-=e.b,this.c-=e.c,this.d-=e.d,this.e-=e.e,this.f-=e.f;},times:function times(e){return new h(this.a*e.a+this.c*e.b,this.b*e.a+this.d*e.b,this.a*e.c+this.c*e.d,this.b*e.c+this.d*e.d,this.a*e.e+this.c*e.f+this.e,this.b*e.e+this.d*e.f+this.f);},apply:function apply(e){return new A(this.a*e.x+this.c*e.y+this.e,this.b*e.x+this.d*e.y+this.f);},applyRect:function applyRect(e){return s.fromPoints(this.apply(e.topLeft()),this.apply(e.bottomRight()));},toString:function toString(){return"matrix("+this.a+" "+this.b+" "+this.c+" "+this.d+" "+this.e+" "+this.f+")";}}),S(h,{fromSVGMatrix:function fromSVGMatrix(e){var t=new h();return t.a=e.a,t.b=e.b,t.c=e.c,t.d=e.d,t.e=e.e,t.f=e.f,t;},fromMatrixVector:function fromMatrixVector(e){var t=new h();return t.a=e.a,t.b=e.b,t.c=e.c,t.d=e.d,t.e=e.e,t.f=e.f,t;},fromList:function fromList(e){if(6!==e.length)throw"The given list should consist of six elements.";var t=new h();return t.a=e[0],t.b=e[1],t.c=e[2],t.d=e[3],t.e=e[4],t.f=e[5],t;},translation:function translation(e,t){var n=new h();return n.a=1,n.b=0,n.c=0,n.d=1,n.e=e,n.f=t,n;},unit:function unit(){return new h(1,0,0,1,0,0);},rotation:function rotation(e,t,n){var i=new h();return i.a=Math.cos(e*Math.PI/180),i.b=Math.sin(e*Math.PI/180),i.c=-i.b,i.d=i.a,i.e=t-t*i.a+n*i.b||0,i.f=n-n*i.a-t*i.b||0,i;},scaling:function scaling(e,t){var n=new h();return n.a=e,n.b=0,n.c=0,n.d=t,n.e=0,n.f=0,n;},parse:function parse(e){var t,n;if(e){if(e=e.trim(),"matrix"===e.slice(0,6).toLowerCase()){if(n=e.slice(7,e.length-1).trim(),t=n.split(","),6===t.length)return h.fromList(I(t,function(e){return parseFloat(e);}));if(t=n.split(" "),6===t.length)return h.fromList(I(t,function(e){return parseFloat(e);}));}if("("===e.slice(0,1)&&")"===e.slice(e.length-1)&&(e=e.substr(1,e.length-1)),e.indexOf(",")>0&&(t=e.split(","),6===t.length))return h.fromList(I(t,function(e){return parseFloat(e);}));if(e.indexOf(" ")>0&&(t=e.split(" "),6===t.length))return h.fromList(I(t,function(e){return parseFloat(e);}));}return t;}}),f=C.extend({init:function init(e,t,n,i,o,r){this.a=e||0,this.b=t||0,this.c=n||0,this.d=i||0,this.e=o||0,this.f=r||0;},fromMatrix:function fromMatrix(e){var t=new f();return t.a=e.a,t.b=e.b,t.c=e.c,t.d=e.d,t.e=e.e,t.f=e.f,t;}}),p={_distanceToLineSquared:function _distanceToLineSquared(e,t,n){function i(e,t){return(e.x-t.x)*(e.x-t.x)+(e.y-t.y)*(e.y-t.y);}if(t===n)return i(e,t);var o=n.x-t.x,r=n.y-t.y,a=(e.x-t.x)*o+(e.y-t.y)*r;return 0>a?i(t,e):(a=(n.x-e.x)*o+(n.y-e.y)*r,0>a?i(n,e):(a=(n.x-e.x)*r-(n.y-e.y)*o,a*a/(o*o+r*r)));},distanceToLine:function distanceToLine(e,t,n){return Math.sqrt(this._distanceToLineSquared(e,t,n));},distanceToPolyline:function distanceToPolyline(e,t){var n,i,o,r,a=Number.MAX_VALUE;if(D.isUndefined(t)||0===t.length)return Number.MAX_VALUE;for(n=0;t.length-1>n;n++){i=t[n],o=t[n+1],r=this._distanceToLineSquared(e,i,o),a>r&&(a=r);}return Math.sqrt(a);}},m=k.Class.extend({init:function init(){this._buckets=[],this.length=0;},add:function add(e,t){var n=this._createGetBucket(e);return D.isDefined(t)&&(n.value=t),n;},get:function get(e){return this._bucketExists(e)?this._createGetBucket(e):null;},set:function set(e,t){this.add(e,t);},containsKey:function containsKey(e){return this._bucketExists(e);},remove:function remove(e){if(this._bucketExists(e)){var t=this._hash(e);return delete this._buckets[t],this.length--,e;}},forEach:function forEach(e){var t,n,i,o,r=this._hashes();for(t=0,n=r.length;n>t;t++){i=r[t],o=this._buckets[i],D.isUndefined(o)||e(o);}},clone:function clone(){var e,t,n,i,o=new m(),r=this._hashes();for(e=0,t=r.length;t>e;e++){n=r[e],i=this._buckets[n],D.isUndefined(i)||o.add(i.key,i.value);}return o;},_hashes:function _hashes(){var e,t=[];for(e in this._buckets){this._buckets.hasOwnProperty(e)&&t.push(e);}return t;},_bucketExists:function _bucketExists(e){var t=this._hash(e);return D.isDefined(this._buckets[t]);},_createGetBucket:function _createGetBucket(e){var t=this._hash(e),n=this._buckets[t];return D.isUndefined(n)&&(n={key:e},this._buckets[t]=n,this.length++),n;},_hash:function _hash(e){if(D.isNumber(e))return e;if(D.isString(e))return this._hashString(e);if(D.isObject(e))return this._objectHashId(e);throw"Unsupported key type.";},_hashString:function _hashString(e){var t,n,i=0;if(0===e.length)return i;for(t=0;e.length>t;t++){n=e.charCodeAt(t),i=32*i-i+n;}return i;},_objectHashId:function _objectHashId(e){var t=e._hashId;return D.isUndefined(t)&&(t=r(),e._hashId=t),t;}}),g=k.Observable.extend({init:function init(t){var n,i=this;if(k.Observable.fn.init.call(i),this._hashTable=new m(),this.length=0,D.isDefined(t))if(e.isArray(t))for(n=0;t.length>n;n++){this.add(t[n]);}else t.forEach(function(e,t){this.add(e,t);},this);},add:function add(e,t){var n=this._hashTable.get(e);n||(n=this._hashTable.add(e),this.length++,this.trigger("changed")),n.value=t;},set:function set(e,t){this.add(e,t);},get:function get(e){var t=this._hashTable.get(e);if(t)return t.value;throw Error("Cannot find key "+e);},containsKey:function containsKey(e){return this._hashTable.containsKey(e);},remove:function remove(e){return this.containsKey(e)?(this.trigger("changed"),this.length--,this._hashTable.remove(e)):t;},forEach:function forEach(e,t){this._hashTable.forEach(function(n){e.call(t,n.key,n.value);});},forEachValue:function forEachValue(e,t){this._hashTable.forEach(function(n){e.call(t,n.value);});},forEachKey:function forEachKey(e,t){this._hashTable.forEach(function(n){e.call(t,n.key);});},keys:function keys(){var e=[];return this.forEachKey(function(t){e.push(t);}),e;}}),v=k.Class.extend({init:function init(){this._tail=null,this._head=null,this.length=0;},enqueue:function enqueue(e){var t={value:e,next:null};this._head?(this._tail.next=t,this._tail=this._tail.next):(this._head=t,this._tail=this._head),this.length++;},dequeue:function dequeue(){if(1>this.length)throw Error("The queue is empty.");var e=this._head.value;return this._head=this._head.next,this.length--,e;},contains:function contains(e){for(var t=this._head;t;){if(t.value===e)return!0;t=t.next;}return!1;}}),_=k.Observable.extend({init:function init(e){var t=this;k.Observable.fn.init.call(t),this._hashTable=new m(),this.length=0,D.isDefined(e)&&(e instanceof m?e.forEach(function(e){this.add(e);}):e instanceof g&&e.forEach(function(e,t){this.add({key:e,value:t});},this));},contains:function contains(e){return this._hashTable.containsKey(e);},add:function add(e){var t=this._hashTable.get(e);t||(this._hashTable.add(e,e),this.length++,this.trigger("changed"));},get:function get(e){return this.contains(e)?this._hashTable.get(e).value:null;},hash:function hash(e){return this._hashTable._hash(e);},remove:function remove(e){this.contains(e)&&(this._hashTable.remove(e),this.length--,this.trigger("changed"));},forEach:function forEach(e,t){this._hashTable.forEach(function(t){e(t.value);},t);},toArray:function toArray(){var e=[];return this.forEach(function(t){e.push(t);}),e;}}),b=k.Class.extend({init:function init(e,t){if(this.links=[],this.outgoing=[],this.incoming=[],this.weight=1,this.id=D.isDefined(e)?e:r(),D.isDefined(t)){this.associatedShape=t;var n=t.bounds();this.width=n.width,this.height=n.height,this.x=n.x,this.y=n.y;}else this.associatedShape=null;this.data=null,this.type="Node",this.shortForm="Node '"+this.id+"'",this.isVirtual=!1;},isIsolated:function isIsolated(){return D.isEmpty(this.links);},bounds:function bounds(e){return D.isDefined(e)?(this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,t):new x.Rect(this.x,this.y,this.width,this.height);},isLinkedTo:function isLinkedTo(e){var t=this;return D.any(t.links,function(n){return n.getComplement(t)===e;});},getChildren:function getChildren(){var e,t,n,i;if(0===this.outgoing.length)return[];for(e=[],t=0,n=this.outgoing.length;n>t;t++){i=this.outgoing[t],e.push(i.getComplement(this));}return e;},getParents:function getParents(){var e,t,n,i;if(0===this.incoming.length)return[];for(e=[],t=0,n=this.incoming.length;n>t;t++){i=this.incoming[t],e.push(i.getComplement(this));}return e;},clone:function clone(){var e=new b();return D.isDefined(this.weight)&&(e.weight=this.weight),D.isDefined(this.balance)&&(e.balance=this.balance),D.isDefined(this.owner)&&(e.owner=this.owner),e.associatedShape=this.associatedShape,e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e;},adjacentTo:function adjacentTo(e){return null!==this.isLinkedTo(e);},removeLink:function removeLink(e){e.source===this&&(D.remove(this.links,e),D.remove(this.outgoing,e),e.source=null),e.target===this&&(D.remove(this.links,e),D.remove(this.incoming,e),e.target=null);},hasLinkTo:function hasLinkTo(e){return D.any(this.outgoing,function(t){return t.target===e;});},degree:function degree(){return this.links.length;},incidentWith:function incidentWith(e){return R(this.links,e);},getLinksWith:function getLinksWith(e){return D.all(this.links,function(t){return t.getComplement(this)===e;},this);},getNeighbors:function getNeighbors(){var e=[];return D.forEach(this.incoming,function(t){e.push(t.getComplement(this));},this),D.forEach(this.outgoing,function(t){e.push(t.getComplement(this));},this),e;}}),w=k.Class.extend({init:function init(e,t,n,i){if(D.isUndefined(e))throw"The source of the new link is not set.";if(D.isUndefined(t))throw"The target of the new link is not set.";var o,a;o=D.isString(e)?new b(e):e,a=D.isString(t)?new b(t):t,this.source=o,this.target=a,this.source.links.push(this),this.target.links.push(this),this.source.outgoing.push(this),this.target.incoming.push(this),this.id=D.isDefined(n)?n:r(),this.associatedConnection=D.isDefined(i)?i:null,this.type="Link",this.shortForm="Link '"+this.source.id+"->"+this.target.id+"'";},getComplement:function getComplement(e){if(this.source!==e&&this.target!==e)throw"The given node is not incident with this link.";return this.source===e?this.target:this.source;},getCommonNode:function getCommonNode(e){return this.source===e.source||this.source===e.target?this.source:this.target===e.source||this.target===e.target?this.target:null;},isBridging:function isBridging(e,t){return this.source===e&&this.target===t||this.source===t&&this.target===e;},getNodes:function getNodes(){return[this.source,this.target];},incidentWith:function incidentWith(e){return this.source===e||this.target===e;},adjacentTo:function adjacentTo(e){return R(this.source.links,e)||R(this.target.links,e);},changeSource:function changeSource(e){D.remove(this.source.links,this),D.remove(this.source.outgoing,this),e.links.push(this),e.outgoing.push(this),this.source=e;},changeTarget:function changeTarget(e){D.remove(this.target.links,this),D.remove(this.target.incoming,this),e.links.push(this),e.incoming.push(this),this.target=e;},changesNodes:function changesNodes(e,t){this.source===e?this.changeSource(t):this.target===e&&this.changeTarget(t);},reverse:function reverse(){var e=this.source,t=this.target;return this.source=t,D.remove(e.outgoing,this),this.source.outgoing.push(this),this.target=e,D.remove(t.incoming,this),this.target.incoming.push(this),this;},directTo:function directTo(e){if(this.source!==e&&this.target!==e)throw"The given node is not incident with this link.";this.target!==e&&this.reverse();},createReverseEdge:function createReverseEdge(){var e=this.clone();return e.reverse(),e.reversed=!0,e;},clone:function clone(){var e=new w(this.source,this.target);return e;}}),y=k.Class.extend({init:function init(e){this.links=[],this.nodes=[],this._nodeMap=new g(),this.diagram=null,this._root=null,D.isDefined(e)?D.isString(e)?this.id=e:(this.diagram=e,this.id=e.id):this.id=r(),this.bounds=new s(),this._hasCachedRelationships=!1,this.type="Graph";},cacheRelationships:function cacheRelationships(e){var t,n,i;if(D.isUndefined(e)&&(e=!1),!this._hasCachedRelationships||e){for(t=0,n=this.nodes.length;n>t;t++){i=this.nodes[t],i.children=this.getChildren(i),i.parents=this.getParents(i);}this._hasCachedRelationships=!0;}},assignLevels:function assignLevels(e,t,n){var i,o,r,a;if(!e)throw"Start node not specified.";for(D.isUndefined(t)&&(t=0),this.cacheRelationships(),D.isUndefined(n)&&(n=new g(),D.forEach(this.nodes,function(e){n.add(e,!1);})),n.set(e,!0),e.level=t,i=e.children,o=0,r=i.length;r>o;o++){a=i[o],a&&!n.get(a)&&this.assignLevels(a,t+1,n);}},root:function root(e){if(D.isUndefined(e)){if(this._root)return this._root;var t=D.first(this.nodes,function(e){return 0===e.incoming.length;});return t?t:D.first(this.nodes);}this._root=e;},getConnectedComponents:function getConnectedComponents(){var e,t,n,i,o;for(this.componentIndex=0,this.setItemIndices(),e=D.initArray(this.nodes.length,-1),t=0;this.nodes.length>t;t++){-1===e[t]&&(this._collectConnectedNodes(e,t),this.componentIndex++);}for(n=[],i=0;this.componentIndex>i;++i){n[i]=new y();}for(i=0;e.length>i;++i){o=n[e[i]],o.addNodeAndOutgoings(this.nodes[i]);}return n.sort(function(e,t){return t.nodes.length-e.nodes.length;}),n;},_collectConnectedNodes:function _collectConnectedNodes(e,t){e[t]=this.componentIndex;var n=this.nodes[t];D.forEach(n.links,function(t){var i=t.getComplement(n),o=i.index;-1===e[o]&&this._collectConnectedNodes(e,o);},this);},calcBounds:function calcBounds(){var e,t,n,i;if(this.isEmpty())return this.bounds=new s();for(e=null,t=0,n=this.nodes.length;n>t;t++){i=this.nodes[t],e=e?e.union(i.bounds()):i.bounds();}return this.bounds=e;},getSpanningTree:function getSpanningTree(e){var t,n,i,o,r,a,s,l,c,d,u,h,f=new y(),p=new g();for(f.root=e.clone(),f.root.level=0,f.root.id=e.id,p.add(e,f.root),e.level=0,i=[],o=[],f._addNode(f.root),i.push(e),o.push(e),r=1;o.length>0;){for(a=o.pop(),s=0;a.links.length>s;s++){l=a.links[s],c=l.getComplement(a),R(i,c)||(c.level=a.level+1,c.level+1>r&&(r=c.level+1),R(o,c)||o.push(c),R(i,c)||i.push(c),p.containsKey(a)?t=p.get(a):(t=a.clone(),t.level=a.level,t.id=a.id,p.add(a,t)),p.containsKey(c)?n=p.get(c):(n=c.clone(),n.level=c.level,n.id=c.id,p.add(c,n)),d=new w(t,n),f.addLink(d));}}for(u=[],h=0;r>h;h++){u.push([]);}return D.forEach(f.nodes,function(e){u[e.level].push(e);}),f.treeLevels=u,f.cacheRelationships(),f;},takeRandomNode:function takeRandomNode(t,n){if(D.isUndefined(t)&&(t=[]),D.isUndefined(n)&&(n=4),0===this.nodes.length)return null;if(1===this.nodes.length)return R(t,this.nodes[0])?null:this.nodes[0];var i=e.grep(this.nodes,function(e){return!R(t,e)&&e.degree()<=n;});return D.isEmpty(i)?null:i[D.randomInteger(0,i.length)];},isEmpty:function isEmpty(){return D.isEmpty(this.nodes);},isHealthy:function isHealthy(){return D.all(this.links,function(e){return R(this.nodes,e.source)&&R(this.nodes,e.target);},this);},getParents:function getParents(e){if(!this.hasNode(e))throw"The given node is not part of this graph.";return e.getParents();},getChildren:function getChildren(e){if(!this.hasNode(e))throw"The given node is not part of this graph.";return e.getChildren();},addLink:function addLink(e,n,i){var o,r,a;if(D.isUndefined(e))throw"The source of the link is not defined.";if(D.isUndefined(n)){if(D.isDefined(e.type)&&"Link"===e.type)return this.addExistingLink(e),t;throw"The target of the link is not defined.";}return o=this.getNode(e),D.isUndefined(o)&&(o=this.addNode(e)),r=this.getNode(n),D.isUndefined(r)&&(r=this.addNode(n)),a=new w(o,r),D.isDefined(i)&&(a.owner=i),this.links.push(a),a;},removeAllLinks:function removeAllLinks(){for(;this.links.length>0;){var e=this.links[0];this.removeLink(e);}},addExistingLink:function addExistingLink(e){var t,n;this.hasLink(e)||(this.links.push(e),this.hasNode(e.source.id)?(t=this.getNode(e.source.id),e.changeSource(t)):this.addNode(e.source),this.hasNode(e.target.id)?(n=this.getNode(e.target.id),e.changeTarget(n)):this.addNode(e.target));},hasLink:function hasLink(e){if(D.isString(e))return D.any(this.links,function(t){return t.id===e;});if("Link"===e.type)return R(this.links,e);throw"The given object is neither an identifier nor a Link.";},getNode:function getNode(e){var n=e.id||e;return this._nodeMap.containsKey(n)?this._nodeMap.get(n):t;},hasNode:function hasNode(e){var t=e.id||e;return this._nodeMap.containsKey(t);},_addNode:function _addNode(e){this.nodes.push(e),this._nodeMap.add(e.id,e);},_removeNode:function _removeNode(e){D.remove(this.nodes,e),this._nodeMap.remove(e.id);},removeNode:function removeNode(e){var t,n,i,o,r=e;if(D.isString(e)&&(r=this.getNode(e)),!D.isDefined(r))throw"The identifier should be a Node or the Id (string) of a node.";for(t=r.links,r.links=[],n=0,i=t.length;i>n;n++){o=t[n],this.removeLink(o);}this._removeNode(r);},areConnected:function areConnected(e,t){return D.any(this.links,function(n){return n.source==e&&n.target==t||n.source==t&&n.target==e;});},removeLink:function removeLink(e){D.remove(this.links,e),D.remove(e.source.outgoing,e),D.remove(e.source.links,e),D.remove(e.target.incoming,e),D.remove(e.target.links,e);},addNode:function addNode(e,t,n){var i=null;if(!D.isDefined(e))throw"No Node or identifier for a new Node is given.";if(D.isString(e)){if(this.hasNode(e))return this.getNode(e);i=new b(e);}else{if(this.hasNode(e))return this.getNode(e);i=e;}return D.isDefined(t)&&i.bounds(t),D.isDefined(n)&&(i.owner=n),this._addNode(i),i;},addNodeAndOutgoings:function addNodeAndOutgoings(e){this.hasNode(e)||this._addNode(e);var t=e.outgoing;e.outgoing=[],D.forEach(t,function(e){this.addExistingLink(e);},this);},setItemIndices:function setItemIndices(){var e;for(e=0;this.nodes.length>e;++e){this.nodes[e].index=e;}for(e=0;this.links.length>e;++e){this.links[e].index=e;}},clone:function clone(e){var t,n=new y(),i=D.isDefined(e)&&e===!0;return i&&(n.nodeMap=new g(),n.linkMap=new g()),t=new g(),D.forEach(this.nodes,function(e){var o=e.clone();t.set(e,o),n._addNode(o),i&&n.nodeMap.set(o,e);}),D.forEach(this.links,function(e){if(t.containsKey(e.source)&&t.containsKey(e.target)){var o=n.addLink(t.get(e.source),t.get(e.target));i&&n.linkMap.set(o,e);}}),n;},linearize:function linearize(e){return y.Utils.linearize(this,e);},depthFirstTraversal:function depthFirstTraversal(e,t){var n,i;if(D.isUndefined(e))throw"You need to supply a starting node.";if(D.isUndefined(t))throw"You need to supply an action.";if(!this.hasNode(e))throw"The given start-node is not part of this graph";n=this.getNode(e),i=[],this._dftIterator(n,t,i);},_dftIterator:function _dftIterator(e,t,n){var i,o,r,a;for(t(e),n.push(e),i=e.getChildren(),o=0,r=i.length;r>o;o++){a=i[o],R(n,a)||this._dftIterator(a,t,n);}},breadthFirstTraversal:function breadthFirstTraversal(e,t){var n,i,o,r,a,s,l,c;if(D.isUndefined(e))throw"You need to supply a starting node.";if(D.isUndefined(t))throw"You need to supply an action.";if(!this.hasNode(e))throw"The given start-node is not part of this graph";for(n=this.getNode(e),i=new v(),o=[],i.enqueue(n);i.length>0;){for(r=i.dequeue(),t(r),o.push(r),a=r.getChildren(),s=0,l=a.length;l>s;s++){c=a[s],R(o,c)||R(i,c)||i.enqueue(c);}}},_stronglyConnectedComponents:function _stronglyConnectedComponents(e,t,n,i,o,r,a){var s,l,c,d,u;for(n.add(t,a),i.add(t,a),a++,r.push(t),s=t.getChildren(),c=0,d=s.length;d>c;c++){l=s[c],n.containsKey(l)?R(r,l)&&i.add(t,Math.min(i.get(t),n.get(l))):(this._stronglyConnectedComponents(e,l,n,i,o,r,a),i.add(t,Math.min(i.get(t),i.get(l))));}if(i.get(t)===n.get(t)){u=[];do{l=r.pop(),u.push(l);}while(l!==t);(!e||u.length>1)&&o.push(u);}},findCycles:function findCycles(e){var t,n,i,o,r,a,s;for(D.isUndefined(e)&&(e=!0),t=new g(),n=new g(),i=[],o=[],r=0,a=this.nodes.length;a>r;r++){s=this.nodes[r],t.containsKey(s)||this._stronglyConnectedComponents(e,s,t,n,i,o,0);}return i;},isAcyclic:function isAcyclic(){return D.isEmpty(this.findCycles());},isSubGraph:function isSubGraph(e){var t=e.linearize(),n=this.linearize();return D.all(t,function(e){return R(n,e);});},makeAcyclic:function makeAcyclic(){var e,t,n,i,o,r,a,s,l,c,d,u,h,f,p,m,v,_,b,w,y,k,x,C,S,T,A,E,R,I,F,M;if(this.isEmpty()||1>=this.nodes.length||1>=this.links.length)return[];if(2==this.nodes.length){if(e=[],this.links.length>1)for(t=this.links[0],n=t.source,i=0,o=this.links.length;o>i;i++){r=this.links[i],r.source!=n&&(a=r.reverse(),e.push(a));}return e;}for(s=this.clone(!0),l=this.nodes.length,c=new g(),d=function d(e){return 0===e.outgoing.length?2-l:0===e.incoming.length?l-2:e.outgoing.length-e.incoming.length;},u=function u(e,t){var n=d(e,l);t.containsKey(n)||t.set(n,[]),t.get(n).push(e);},D.forEach(s.nodes,function(e){u(e,c);}),h=[],f=[];s.nodes.length>0;){if(c.containsKey(2-l))for(_=c.get(2-l);_.length>0;){for(m=_.pop(),b=0;m.links.length>b;b++){w=m.links[b],p=w.getComplement(m),v=d(p,l),D.remove(c.get(v),p),p.removeLink(w),u(p,c);}s._removeNode(m),f.unshift(m);}if(c.containsKey(l-2))for(y=c.get(l-2);y.length>0;){for(p=y.pop(),k=0;p.links.length>k;k++){x=p.links[k],m=x.getComplement(p),v=d(m,l),D.remove(c.get(v),m),m.removeLink(x),u(m,c);}h.push(p),s._removeNode(p);}if(s.nodes.length>0)for(C=l-3;C>2-l;C--){if(c.containsKey(C)&&c.get(C).length>0){for(S=c.get(C),T=S.pop(),A=0;T.links.length>A;A++){E=T.links[A],R=E.getComplement(T),v=d(R,l),D.remove(c.get(v),R),R.removeLink(E),u(R,c);}h.push(T),s._removeNode(T);break;}}}for(h=h.concat(f),I=new g(),F=0;this.nodes.length>F;F++){I.set(s.nodeMap.get(h[F]),F);}return M=[],D.forEach(this.links,function(e){I.get(e.source)>I.get(e.target)&&(e.reverse(),M.push(e));}),M;}}),y.Predefined={EightGraph:function EightGraph(){return y.Utils.parse(["1->2","2->3","3->4","4->1","3->5","5->6","6->7","7->3"]);},Mindmap:function Mindmap(){return y.Utils.parse(["0->1","0->2","0->3","0->4","0->5","1->6","1->7","7->8","2->9","9->10","9->11","3->12","12->13","13->14","4->15","4->16","15->17","15->18","18->19","18->20","14->21","14->22","5->23","23->24","23->25","6->26"]);},ThreeGraph:function ThreeGraph(){return y.Utils.parse(["1->2","2->3","3->1"]);},BinaryTree:function BinaryTree(e){return D.isUndefined(e)&&(e=5),y.Utils.createBalancedTree(e,2);},Linear:function Linear(e){return D.isUndefined(e)&&(e=10),y.Utils.createBalancedTree(e,1);},Tree:function Tree(e,t){return y.Utils.createBalancedTree(e,t);},Forest:function Forest(e,t,n){return y.Utils.createBalancedForest(e,t,n);},Workflow:function Workflow(){return y.Utils.parse(["0->1","1->2","2->3","1->4","4->3","3->5","5->6","6->3","6->7","5->4"]);},Grid:function Grid(e,t){var n,i,o,r,a,s=new x.Graph();if(0>=e&&0>=t)return s;for(n=0;e+1>n;n++){for(i=null,o=0;t+1>o;o++){r=new b(""+n+"."+o),s.addNode(r),i&&s.addLink(i,r),n>0&&(a=s.getNode(""+(n-1)+"."+o),s.addLink(a,r)),i=r;}}return s;}},y.Utils={parse:function parse(e){var t,n,i,o,r,a=new x.Graph(),s=e.slice();for(n=0,i=s.length;i>n;n++){if(o=s[n],D.isString(o)){if(o.indexOf("->")<0)throw"The link should be specified as 'a->b'.";if(r=o.split("->"),2!=r.length)throw"The link should be specified as 'a->b'.";t=new w(r[0],r[1]),a.addLink(t);}if(D.isObject(o)){if(!t)throw"Specification found before Link definition.";k.deepExtend(t,o);}}return a;},linearize:function linearize(e,t){var n,i,o,r;if(D.isUndefined(e))throw"Expected an instance of a Graph object in slot one.";for(D.isUndefined(t)&&(t=!1),n=[],i=0,o=e.links.length;o>i;i++){r=e.links[i],n.push(r.source.id+"->"+r.target.id),t&&n.push({id:r.id});}return n;},_addShape:function _addShape(e,t,n,i){return D.isUndefined(t)&&(t=new x.Point(0,0)),D.isUndefined(n)&&(n=r()),i=k.deepExtend({width:20,height:20,id:n,radius:10,fill:"#778899",data:"circle",undoable:!1,x:t.x,y:t.y},i),e.addShape(i);},_addConnection:function _addConnection(e,t,n,i){return e.connect(t,n,i);},createDiagramFromGraph:function createDiagramFromGraph(e,t,n,i){var o,r,a,l,c,d,u,h,f,p,m,g,v,_,b,w;if(D.isUndefined(e))throw"The diagram surface is undefined.";if(D.isUndefined(t))throw"No graph specification defined.";for(D.isUndefined(n)&&(n=!0),D.isUndefined(i)&&(i=!1),o=e.element.clientWidth||200,r=e.element.clientHeight||200,a=[],d=0,u=t.nodes.length;u>d;d++){l=t.nodes[d],h=l.position,D.isUndefined(h)&&(h=D.isDefined(l.x)&&D.isDefined(l.y)?new A(l.x,l.y):new A(D.randomInteger(10,o-20),D.randomInteger(10,r-20))),f={},"0"===l.id||i&&k.deepExtend(f,{width:150*Math.random()+20,height:80*Math.random()+50,data:"rectangle",fill:{color:"#778899"}}),c=this._addShape(e,h,l.id,f),p=c.bounds(),D.isDefined(p)&&(l.x=p.x,l.y=p.y,l.width=p.width,l.height=p.height),a[l.id]=c;}for(m=0;t.links.length>m;m++){g=t.links[m],v=a[g.source.id],D.isUndefined(v)||(_=a[g.target.id],D.isUndefined(_)||this._addConnection(e,v,_,{id:g.id}));}if(n)for(b=new e.SpringLayout(e),b.layoutGraph(t,{limitToView:!1}),w=0;t.nodes.length>w;w++){l=t.nodes[w],c=a[l.id],c.bounds(new s(l.x,l.y,l.width,l.height));}},createBalancedTree:function createBalancedTree(e,t){var n,i,o,r,a,s,l,c,d,u;if(D.isUndefined(e)&&(e=3),D.isUndefined(t)&&(t=3),n=new x.Graph(),i=-1,o=[],0>=e||0>=t)return n;for(a=new b(""+ ++i),n.addNode(a),n.root=a,o.push(a),s=0;e>s;s++){for(r=[],l=0;o.length>l;l++){for(c=o[l],d=0;t>d;d++){u=new b(""+ ++i),n.addLink(c,u),r.push(u);}}o=r;}return n;},createBalancedForest:function createBalancedForest(e,t,n){var i,o,r,a,s,l,c,d,u,h,f;if(D.isUndefined(e)&&(e=3),D.isUndefined(t)&&(t=3),D.isUndefined(n)&&(n=5),i=new x.Graph(),o=-1,r=[],0>=e||0>=t||0>=n)return i;for(s=0;n>s;s++){for(l=new b(""+ ++o),i.addNode(l),r=[l],c=0;e>c;c++){for(a=[],d=0;r.length>d;d++){for(u=r[d],h=0;t>h;h++){f=new b(""+ ++o),i.addLink(u,f),a.push(f);}}r=a;}}return i;},createRandomConnectedGraph:function createRandomConnectedGraph(e,t,n){var i,o,r,a,s,l,c,d,u,h;if(D.isUndefined(e)&&(e=40),D.isUndefined(t)&&(t=4),D.isUndefined(n)&&(n=!1),i=new x.Graph(),o=-1,0>=e)return i;if(r=new b(""+ ++o),i.addNode(r),1===e)return i;if(e>1){for(a=1;e>a&&(s=i.takeRandomNode([],t),s);a++){l=i.addNode(""+a),i.addLink(s,l);}if(!n&&e>1)for(c=D.randomInteger(1,e),d=0;c>d;d++){u=i.takeRandomNode([],t),h=i.takeRandomNode([],t),u&&h&&!i.areConnected(u,h)&&i.addLink(u,h);}return i;}},randomDiagram:function randomDiagram(e,t,n,i,o){var r=k.dataviz.diagram.Graph.Utils.createRandomConnectedGraph(t,n,i);y.Utils.createDiagramFromGraph(e,r,!1,o);}},k.deepExtend(x,{init:function init(e){k.init(e,x.ui);},Point:A,Intersect:c,Geometry:p,Rect:s,Size:l,RectAlign:d,Matrix:h,MatrixVector:f,normalVariable:o,randomId:r,Dictionary:g,HashTable:m,Queue:v,Set:_,Node:b,Link:w,Graph:y,PathDefiner:a});}(window.kendo.jQuery);},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("dataviz/diagram/svg.min",["kendo.drawing.min","dataviz/diagram/math.min"],e);}(function(){!function(e,t){function n(e,t){var n,i,o,r=this.options,a=!1;for(o=0;t.length>o;o++){i=t[o],n=e[i],H(n)&&r[i]!==n&&(r[i]=n,a=!0);}return a;}function i(e){return{x:e.x||0,y:e.y||0,width:e.width||0,height:e.height||0};}function o(e){if(e){var t=e;return N(t)&&(t={color:t}),t.color&&(t.color=r(t.color)),t;}}function r(e){var t;return t=e!=q?new U.Color(e).toHex():e;}function a(e,t){var n=t.x-e.x,i=t.y-e.y,o=R.util.deg(Math.atan2(i,n));return o;}function s(e,t){return new U.Segment(new V.Point(e,t));}function l(e){return e?new V.Rect([e.x,e.y],[e.width,e.height]):t;}var c,d,u,h,f,p,m,g,v,_,b,w,y,k,x,C,S,T,D,A,E,R=window.kendo,I=R.dataviz.diagram,F=R.Class,M=R.deepExtend,P=I.Point,z=I.Rect,B=I.Matrix,L=I.Utils,H=L.isNumber,N=L.isString,O=I.MatrixVector,V=R.geometry,U=R.drawing,W=R.util.defined,j=e.inArray,q="transparent",G={none:"none",arrowStart:"ArrowStart",filledCircle:"FilledCircle",arrowEnd:"ArrowEnd"},$=360,Y="start",K="end",Q="width",X="height",J="x",Z="y";I.Markers=G,c=F.extend({init:function init(e,t){this.x=e,this.y=t;},toMatrix:function toMatrix(){return B.scaling(this.x,this.y);},toString:function toString(){return R.format("scale({0},{1})",this.x,this.y);},invert:function invert(){return new c(1/this.x,1/this.y);}}),d=F.extend({init:function init(e,t){this.x=e,this.y=t;},toMatrixVector:function toMatrixVector(){return new O(0,0,0,0,this.x,this.y);},toMatrix:function toMatrix(){return B.translation(this.x,this.y);},toString:function toString(){return R.format("translate({0},{1})",this.x,this.y);},plus:function plus(e){this.x+=e.x,this.y+=e.y;},times:function times(e){this.x*=e,this.y*=e;},length:function length(){return Math.sqrt(this.x*this.x+this.y*this.y);},normalize:function normalize(){0!==this.Length&&this.times(1/this.length());},invert:function invert(){return new d(-this.x,-this.y);}}),u=F.extend({init:function init(e,t,n){this.x=t||0,this.y=n||0,this.angle=e;},toString:function toString(){return this.x&&this.y?R.format("rotate({0},{1},{2})",this.angle,this.x,this.y):R.format("rotate({0})",this.angle);},toMatrix:function toMatrix(){return B.rotation(this.angle,this.x,this.y);},center:function center(){return new P(this.x,this.y);},invert:function invert(){return new u($-this.angle,this.x,this.y);}}),u.ZERO=new u(0),u.create=function(e){return new u(e.angle,e.x,e.y);},u.parse=function(e){var t=e.slice(1,e.length-1).split(","),n=t[0],i=t[1],o=t[2],r=new u(n,i,o);return r;},h=F.extend({init:function init(e,n,i,o,r,a){this.translate=new d(e,n),i!==t&&o!==t&&(this.scale=new c(i,o)),r!==t&&(this.rotate=a?new u(r,a.x,a.y):new u(r));},toString:function toString(){var e=function e(_e5){return _e5?""+_e5:"";};return e(this.translate)+e(this.rotate)+e(this.scale);},render:function render(e){e._transform=this,e._renderTransform();},toMatrix:function toMatrix(){var e=B.unit();return this.translate&&(e=e.times(this.translate.toMatrix())),this.rotate&&(e=e.times(this.rotate.toMatrix())),this.scale&&(e=e.times(this.scale.toMatrix())),e;},invert:function invert(){var e,n,i=this.rotate?this.rotate.invert():t,o=i?i.toMatrix():B.unit(),r=this.scale?this.scale.invert():t,a=r?r.toMatrix():B.unit(),s=new P(-this.translate.x,-this.translate.y);return s=o.times(a).apply(s),e=new d(s.x,s.y),n=new h(),n.translate=e,n.rotate=i,n.scale=r,n;}}),f={_setScale:function _setScale(){var e=this.options,t=this._originWidth,n=this._originHeight,i=e.width/t,o=e.height/n;H(i)||(i=1),H(o)||(o=1),this._transform.scale=new c(i,o);},_setTranslate:function _setTranslate(){var e=this.options,t=e.x||0,n=e.y||0;this._transform.translate=new d(t,n);},_initSize:function _initSize(){var e=this.options,t=!1;e.autoSize!==!1&&(W(e.width)||W(e.height))&&(this._measure(!0),this._setScale(),t=!0),(W(e.x)||W(e.y))&&(this._setTranslate(),t=!0),t&&this._renderTransform();},_updateSize:function _updateSize(e){var t=!1;return this.options.autoSize!==!1&&this._diffNumericOptions(e,[Q,X])&&(t=!0,this._measure(!0),this._setScale()),this._diffNumericOptions(e,[J,Z])&&(t=!0,this._setTranslate()),t&&this._renderTransform(),t;}},p=F.extend({init:function init(e){var t=this;t.options=M({},t.options,e),t.id=t.options.id,t._originSize=z.empty(),t._transform=new h();},visible:function visible(e){return this.drawingContainer().visible(e);},redraw:function redraw(e){e&&e.id&&(this.id=e.id);},position:function position(e,n){var i=this.options;return W(e)?(W(n)?(i.x=e,i.y=n):e instanceof P&&(i.x=e.x,i.y=e.y),this._transform.translate=new d(i.x,i.y),this._renderTransform(),t):new P(i.x,i.y);},rotate:function rotate(e,t){return W(e)&&(this._transform.rotate=new u(e,t.x,t.y),this._renderTransform()),this._transform.rotate||u.ZERO;},drawingContainer:function drawingContainer(){return this.drawingElement;},_renderTransform:function _renderTransform(){var e=this._transform.toMatrix();this.drawingContainer().transform(new V.Matrix(e.a,e.b,e.c,e.d,e.e,e.f));},_hover:function _hover(){},_diffNumericOptions:n,_measure:function _measure(e){var t,n,i;return!this._measured||e?(n=this._boundingBox()||new V.Rect(),i=n.topLeft(),t=new z(i.x,i.y,n.width(),n.height()),this._originSize=t,this._originWidth=t.width,this._originHeight=t.height,this._measured=!0):t=this._originSize,t;},_boundingBox:function _boundingBox(){return this.drawingElement.rawBBox();}}),m=p.extend({init:function init(e){p.fn.init.call(this,e),e=this.options,e.fill=o(e.fill),e.stroke=o(e.stroke);},options:{stroke:{color:"gray",width:1},fill:{color:q}},fill:function fill(e,t){this._fill({color:r(e),opacity:t});},stroke:function stroke(e,t,n){this._stroke({color:r(e),width:t,opacity:n});},redraw:function redraw(e){var t,n;e&&(t=e.stroke,n=e.fill,t&&this._stroke(o(t)),n&&this._fill(o(n)),p.fn.redraw.call(this,e));},_hover:function _hover(e){var t,n=this.drawingElement,i=this.options,r=i.hover;r&&r.fill&&(t=e?o(r.fill):i.fill,n.fill(t.color,t.opacity));},_stroke:function _stroke(e){var t,n=this.options;M(n,{stroke:e}),e=n.stroke,t=null,e.width>0&&(t={color:e.color,width:e.width,opacity:e.opacity,dashType:e.dashType}),this.drawingElement.options.set("stroke",t);},_fill:function _fill(e){var t,n,i,o=this.options;M(o,{fill:e||{}}),t=o.fill,t.gradient?(n=t.gradient,i="radial"===n.type?U.RadialGradient:U.LinearGradient,this.drawingElement.fill(new i(n))):this.drawingElement.fill(t.color,t.opacity);}}),g=m.extend({init:function init(e){e=this._textColor(e),m.fn.init.call(this,e),this._font(),this._initText(),this._initSize();},options:{fontSize:15,fontFamily:"sans-serif",stroke:{width:0},fill:{color:"black"},autoSize:!0},_initText:function _initText(){var e=this.options;this.drawingElement=new U.Text(W(e.text)?e.text:"",new V.Point(),{font:e.font}),this._fill(),this._stroke();},_textColor:function _textColor(e){return e&&e.color&&(e=M({},e,{fill:{color:e.color}})),e;},_font:function _font(){var e,t=this.options;t.fontFamily&&W(t.fontSize)?(e=[],t.fontStyle&&e.push(t.fontStyle),t.fontWeight&&e.push(t.fontWeight),e.push(t.fontSize+(H(t.fontSize)?"px":"")),e.push(t.fontFamily),t.font=e.join(" ")):delete t.font;},content:function content(e){return this.drawingElement.content(e);},redraw:function redraw(e){var t,n;e&&(t=!1,n=this.options,e=this._textColor(e),m.fn.redraw.call(this,e),(e.fontFamily||W(e.fontSize)||e.fontStyle||e.fontWeight)&&(M(n,{fontFamily:e.fontFamily,fontSize:e.fontSize,fontStyle:e.fontStyle,fontWeight:e.fontWeight}),this._font(),this.drawingElement.options.set("font",n.font),t=!0),e.text&&(this.content(e.text),t=!0),!this._updateSize(e)&&t&&this._initSize());}}),M(g.fn,f),v=m.extend({init:function init(e){m.fn.init.call(this,e),this._initPath(),this._setPosition();},_setPosition:function _setPosition(){var e=this.options,t=e.x,n=e.y;(W(t)||W(n))&&this.position(t||0,n||0);},redraw:function redraw(e){e&&(m.fn.redraw.call(this,e),this._diffNumericOptions(e,[Q,X])&&this._drawPath(),this._diffNumericOptions(e,[J,Z])&&this._setPosition());},_initPath:function _initPath(){var e=this.options;this.drawingElement=new U.Path({stroke:e.stroke,closed:!0}),this._fill(),this._drawPath();},_drawPath:function _drawPath(){var e=this.drawingElement,t=i(this.options),n=t.width,o=t.height;e.segments.elements([s(0,0),s(n,0),s(n,o),s(0,o)]);}}),_=m.extend({init:function init(e){m.fn.init.call(this,e);var t=this.options.anchor;this.anchor=new V.Point(t.x,t.y),this.createElement();},options:{stroke:{color:q,width:0},fill:{color:"black"}},_transformToPath:function _transformToPath(e,t){var n=t.transform();return e&&n&&(e=e.transformCopy(n)),e;},redraw:function redraw(e){e&&(e.position&&(this.options.position=e.position),m.fn.redraw.call(this,e));}}),b=_.extend({options:{radius:4,anchor:{x:0,y:0}},createElement:function createElement(){var e=this.options;this.drawingElement=new U.Circle(new V.Circle(this.anchor,e.radius),{fill:e.fill,stroke:e.stroke});},positionMarker:function positionMarker(e){var t,n,i=this.options,o=i.position,r=e.segments;t=o==Y?r[0]:r[r.length-1],t&&(n=this._transformToPath(t.anchor(),e),this.drawingElement.transform(V.transform().translate(n.x,n.y)));}}),w=_.extend({options:{path:"M 0 0 L 10 5 L 0 10 L 3 5 z",anchor:{x:10,y:5}},createElement:function createElement(){var e=this.options;this.drawingElement=U.Path.parse(e.path,{fill:e.fill,stroke:e.stroke});},positionMarker:function positionMarker(e){var t,n,i=this._linePoints(e),o=i.start,r=i.end,s=V.transform();o&&s.rotate(a(o,r),r),r&&(t=this.anchor,n=r.clone().translate(-t.x,-t.y),s.translate(n.x,n.y)),this.drawingElement.transform(s);},_linePoints:function _linePoints(e){var n,i,o,r,a,s=this.options,l=e.segments;return s.position==Y?(o=l[0],o&&(i=o.anchor(),n=o.controlOut(),r=l[1],!n&&r&&(n=r.anchor()))):(o=l[l.length-1],o&&(i=o.anchor(),n=o.controlIn(),a=l[l.length-2],!n&&a&&(n=a.anchor()))),i?{start:this._transformToPath(n,e),end:this._transformToPath(i,e)}:t;}}),y={_getPath:function _getPath(e){var n=this.drawingElement;return n instanceof U.MultiPath&&(n=e==Y?n.paths[0]:n.paths[n.paths.length-1]),n&&n.segments.length?n:t;},_normalizeMarkerOptions:function _normalizeMarkerOptions(e){var t=e.startCap,n=e.endCap;N(t)&&(e.startCap={type:t}),N(n)&&(e.endCap={type:n});},_removeMarker:function _removeMarker(e){var t=this._markers[e];t&&(this.drawingContainer().remove(t.drawingElement),delete this._markers[e]);},_createMarkers:function _createMarkers(){var e=this.options;this._normalizeMarkerOptions(e),this._markers={},this._markers[Y]=this._createMarker(e.startCap,Y),this._markers[K]=this._createMarker(e.endCap,K);},_createMarker:function _createMarker(e,n){var i,o,r=(e||{}).type,a=this._getPath(n);return a?(r==G.filledCircle?i=b:r==G.arrowStart||r==G.arrowEnd?i=w:this._removeMarker(n),i?(o=new i(M({},e,{position:n})),o.positionMarker(a),this.drawingContainer().append(o.drawingElement),o):t):(this._removeMarker(n),t);},_positionMarker:function _positionMarker(e){var t,n=this._markers[e];n&&(t=this._getPath(e),t?n.positionMarker(t):this._removeMarker(e));},_capMap:{start:"startCap",end:"endCap"},_redrawMarker:function _redrawMarker(e,t,n){var i,o,r,a,s;return this._normalizeMarkerOptions(n),i=this.options,o=this._capMap[t],r=(i[o]||{}).type,a=n[o],s=!1,a?(i[o]=M({},i[o],a),a.type&&r!=a.type?(this._removeMarker(t),this._markers[t]=this._createMarker(i[o],t),s=!0):this._markers[t]&&this._markers[t].redraw(a)):e&&!this._markers[t]&&i[o]&&(this._markers[t]=this._createMarker(i[o],t),s=!0),s;},_redrawMarkers:function _redrawMarkers(e,t){!this._redrawMarker(e,Y,t)&&e&&this._positionMarker(Y),!this._redrawMarker(e,K,t)&&e&&this._positionMarker(K);}},k=m.extend({init:function init(e){m.fn.init.call(this,e),this.container=new U.Group(),this._createElements(),this._initSize();},options:{autoSize:!0},drawingContainer:function drawingContainer(){return this.container;},data:function data(e){var n=this.options;return e?(n.data!=e&&(n.data=e,this._setData(e),this._initSize(),this._redrawMarkers(!0,{})),t):n.data;},redraw:function redraw(e){var t,n;e&&(m.fn.redraw.call(this,e),t=this.options,n=e.data,W(n)&&t.data!=n?(t.data=n,this._setData(n),this._updateSize(e)||this._initSize(),this._redrawMarkers(!0,e)):(this._updateSize(e),this._redrawMarkers(!1,e)));},_createElements:function _createElements(){var e=this.options;this.drawingElement=U.Path.parse(e.data||"",{stroke:e.stroke}),this._fill(),this.container.append(this.drawingElement),this._createMarkers();},_setData:function _setData(e){var t=this.drawingElement,n=U.Path.parse(e||""),i=n.paths.slice(0);n.paths.elements([]),t.paths.elements(i);}}),M(k.fn,f),M(k.fn,y),x=m.extend({init:function init(e){m.fn.init.call(this,e),this.container=new U.Group(),this._initPath(),this._createMarkers();},drawingContainer:function drawingContainer(){return this.container;},redraw:function redraw(e){var t,n;e&&(e=e||{},t=e.from,n=e.to,t&&(this.options.from=t),n&&(this.options.to=n),t||n?(this._drawPath(),this._redrawMarkers(!0,e)):this._redrawMarkers(!1,e),m.fn.redraw.call(this,e));},_initPath:function _initPath(){var e=this.options,t=this.drawingElement=new U.Path({stroke:e.stroke});this._fill(),this._drawPath(),this.container.append(t);},_drawPath:function _drawPath(){var e=this.options,t=this.drawingElement,n=e.from||new P(),i=e.to||new P();t.segments.elements([s(n.x,n.y),s(i.x,i.y)]);}}),M(x.fn,y),C=m.extend({init:function init(e){m.fn.init.call(this,e),this.container=new U.Group(),this._initPath(),this._createMarkers();},drawingContainer:function drawingContainer(){return this.container;},points:function points(e){var n=this.options;return e?(n.points=e,this._updatePath(),t):n.points;},redraw:function redraw(e){if(e){var t=e.points;m.fn.redraw.call(this,e),t&&this._pointsDiffer(t)?(this.points(t),this._redrawMarkers(!0,e)):this._redrawMarkers(!1,e);}},_initPath:function _initPath(){var e=this.options;this.drawingElement=new U.Path({stroke:e.stroke}),this._fill(),this.container.append(this.drawingElement),e.points&&this._updatePath();},_pointsDiffer:function _pointsDiffer(e){var t,n=this.options.points,i=n.length!==e.length;if(!i)for(t=0;e.length>t;t++){if(n[t].x!==e[t].x||n[t].y!==e[t].y){i=!0;break;}}return i;},_updatePath:function _updatePath(){var e,t,n=this.drawingElement,i=this.options,o=i.points,r=[];for(t=0;o.length>t;t++){e=o[t],r.push(s(e.x,e.y));}n.segments.elements(r);},options:{points:[]}}),M(C.fn,y),S=p.extend({init:function init(e){p.fn.init.call(this,e),this._initImage();},redraw:function redraw(e){e&&(e.source&&this.drawingElement.src(e.source),this._diffNumericOptions(e,[Q,X,J,Z])&&this.drawingElement.rect(this._rect()),p.fn.redraw.call(this,e));},_initImage:function _initImage(){var e=this.options,t=this._rect();this.drawingElement=new U.Image(e.source,t,{});},_rect:function _rect(){var e=i(this.options),t=new V.Point(e.x,e.y),n=new V.Size(e.width,e.height);return new V.Rect(t,n);}}),T=p.extend({init:function init(e){this.children=[],p.fn.init.call(this,e),this.drawingElement=new U.Group(),this._initSize();},options:{autoSize:!1},append:function append(e){this.drawingElement.append(e.drawingContainer()),this.children.push(e),this._childrenChange=!0;},remove:function remove(e){this._remove(e)&&(this._childrenChange=!0);},_remove:function _remove(e){var n=j(e,this.children);return n>=0?(this.drawingElement.removeAt(n),this.children.splice(n,1),!0):t;},clear:function clear(){this.drawingElement.clear(),this.children=[],this._childrenChange=!0;},toFront:function toFront(e){var t,n;for(n=0;e.length>n;n++){t=e[n],this._remove(t)&&this.append(t);}},toBack:function toBack(e){this._reorderChildren(e,0);},toIndex:function toIndex(e,t){this._reorderChildren(e,t);},_reorderChildren:function _reorderChildren(e,t){var n,i,o,r,a,s=this.drawingElement,l=s.children.slice(0),c=this.children,d=H(t);for(n=0;e.length>n;n++){a=e[n],r=a.drawingContainer(),i=j(a,c),i>=0&&(l.splice(i,1),c.splice(i,1),o=d?t:t[n],l.splice(o,0,r),c.splice(o,0,a));}s.clear(),s.append.apply(s,l);},redraw:function redraw(e){e&&(this._childrenChange?(this._childrenChange=!1,this._updateSize(e)||this._initSize()):this._updateSize(e),p.fn.redraw.call(this,e));},_boundingBox:function _boundingBox(){var e,t,n,i,o=this.children;for(i=0;o.length>i;i++){t=o[i],t.visible()&&t._includeInBBox!==!1&&(n=t.drawingContainer().clippedBBox(null),n&&(e=e?V.Rect.union(e,n):n));}return e;}}),M(T.fn,f),D=T.extend({init:function init(e,t){this.children=[],p.fn.init.call(this,t),this.drawingElement=new U.Layout(l(e),t),this._initSize();},rect:function rect(e){if(e)this.drawingElement.rect(l(e));else{var t=this.drawingElement.rect();if(t)return new z(t.origin.x,t.origin.y,t.size.width,t.size.height);}},reflow:function reflow(){this.drawingElement.reflow();},redraw:function redraw(e){R.deepExtend(this.drawingElement.options,e),T.fn.redraw.call(this,e);}}),A=m.extend({init:function init(e){m.fn.init.call(this,e),this._initCircle(),this._initSize();},redraw:function redraw(e){if(e){var t=this.options;e.center&&(M(t,{center:e.center}),this._center.move(t.center.x,t.center.y)),this._diffNumericOptions(e,["radius"])&&this._circle.setRadius(t.radius),this._updateSize(e),m.fn.redraw.call(this,e);}},_initCircle:function _initCircle(){var e,t=this.options,n=t.width,i=t.height,o=t.radius;W(o)||(W(n)||(n=i),W(i)||(i=n),t.radius=o=Math.min(n,i)/2),e=t.center||{x:o,y:o},this._center=new V.Point(e.x,e.y),this._circle=new V.Circle(this._center,o),this.drawingElement=new U.Circle(this._circle,{stroke:t.stroke}),this._fill();}}),M(A.fn,f),E=F.extend({init:function init(e,t){t=t||{},this.element=e,this.surface=U.Surface.create(e,t),R.isFunction(this.surface.translate)&&(this.translate=this._translate),this.drawingElement=new U.Group(),this._viewBox=new z(0,0,t.width,t.height),this.size(this._viewBox);},bounds:function bounds(){var e=this.drawingElement.clippedBBox();return new z(0,0,e.width(),e.height());},size:function size(e){var t=this._viewBox;return W(e)&&(t.width=e.width,t.height=e.height,this.surface.setSize(e)),{width:t.width,height:t.height};},_translate:function _translate(e,t){var n=this._viewBox;return W(e)&&W(t)&&(n.x=e,n.y=t,this.surface.translate({x:e,y:t})),{x:n.x,y:n.y};},draw:function draw(){this.surface.draw(this.drawingElement);},append:function append(e){return this.drawingElement.append(e.drawingContainer()),this;},remove:function remove(e){this.drawingElement.remove(e.drawingContainer());},insertBefore:function insertBefore(){},clear:function clear(){this.drawingElement.clear();},destroy:function destroy(t){this.surface.destroy(),t&&e(this.element).remove();}}),R.deepExtend(I,{init:function init(e){R.init(e,I.ui);},diffNumericOptions:n,Element:p,Scale:c,Translation:d,Rotation:u,Circle:A,Group:T,Rectangle:v,Canvas:E,Path:k,Layout:D,Line:x,MarkerBase:_,ArrowMarker:w,CircleMarker:b,Polyline:C,CompositeTransform:h,TextBlock:g,Image:S,VisualBase:m});}(window.kendo.jQuery);},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("dataviz/diagram/services.min",["kendo.drawing.min","dataviz/diagram/svg.min"],e);}(function(){!function(e,t){function n(e,t){return t.charCodeAt(0)==e||t.toUpperCase().charCodeAt(0)==e;}function i(e,t){var n;return-1==e.x&&-1==e.y?n=t.bottomRight():1==e.x&&1==e.y?n=t.topLeft():-1==e.x&&1==e.y?n=t.topRight():1==e.x&&-1==e.y?n=t.bottomLeft():0===e.x&&-1==e.y?n=t.bottom():0===e.x&&1==e.y?n=t.top():1==e.x&&0===e.y?n=t.left():-1==e.x&&0===e.y&&(n=t.right()),n;}function o(e){var t=e.options.editable;return t&&t.drag!==!1;}function r(e,t){var n,i,o,r;for(r=0;e.connectors.length>r;r++){if(n=e.connectors[r],i=n.position(),o=new j(i.x,i.y),o.inflate(oe,oe),o.contains(t))return n;}}function a(e){return e.ctrlKey===!1&&e.altKey===!1&&e.shiftKey===!1;}var s,l,c,d,u,h,f,p,m,g,v,_,b,w,y,k,x,C,S,T,D,A,E,R,I,F,M,P,z,B,L,H,N=window.kendo,O=N.dataviz,V=O.diagram,U=N.Class,W=V.Group,j=V.Rect,q=V.Rectangle,G=V.Utils,$=G.isUndefined,Y=V.Point,K=V.Circle,Q=V.Ticker,X=N.deepExtend,J=N.ui.Movable,Z=N.support.browser,ee=N.util.defined,te=e.inArray,ne=e.proxy,ie={arrow:"default",grip:"pointer",cross:"pointer",add:"pointer",move:"move",select:"pointer",south:"s-resize",east:"e-resize",west:"w-resize",north:"n-resize",rowresize:"row-resize",colresize:"col-resize"},oe=10,re="Auto",ae="Top",se="Right",le="Left",ce="Bottom",de=10,ue=10,he="dragStart",fe="drag",pe="dragEnd",me="itemRotate",ge="itemBoundsChange",ve=5,_e=5,be="mouseEnter",we="mouseLeave",ye="zoomStart",ke="zoomEnd",xe=-2e4,Ce=2e4,Se=.9,Te=.93,De=5,Ae="transparent",Ee="pan",Re="rotated",Ie="source",Fe="target",Me={"-1":Ie,1:Fe};V.Cursors=ie,s=N.Class.extend({init:function init(e){this.layoutState=e,this.diagram=e.diagram;},initState:function initState(){function e(e,t){var n=this.diagram.getShapeById(e);n&&(this.subjects.push(n),this.froms.push(n.bounds().topLeft()),this.tos.push(t.topLeft()));}this.froms=[],this.tos=[],this.subjects=[],this.layoutState.nodeMap.forEach(e,this);},update:function update(e){if(!(0>=this.subjects.length))for(var t=0;this.subjects.length>t;t++){this.subjects[t].position(new Y(this.froms[t].x+(this.tos[t].x-this.froms[t].x)*e,this.froms[t].y+(this.tos[t].y-this.froms[t].y)*e));}}}),l=U.extend({init:function init(e,t,n){this.animate=$(n)?!1:n,this._initialState=e,this._finalState=t,this.title="Diagram layout";},undo:function undo(){this.setState(this._initialState);},redo:function redo(){this.setState(this._finalState);},setState:function setState(e){var t,n=e.diagram;this.animate?(e.linkMap.forEach(function(e,t){var i=n.getShapeById(e);i.visible(!1),i&&i.points(t);}),t=new Q(),t.addAdapter(new s(e)),t.onComplete(function(){e.linkMap.forEach(function(e){var t=n.getShapeById(e);t.visible(!0);});}),t.play()):(e.nodeMap.forEach(function(e,t){var i=n.getShapeById(e);i&&i.position(t.topLeft());}),e.linkMap.forEach(function(e,t){var i=n.getShapeById(e);i&&i.points(t);}));}}),c=U.extend({init:function init(e){this.units=[],this.title="Composite unit",e!==t&&this.units.push(e);},add:function add(e){this.units.push(e);},undo:function undo(){for(var e=0;this.units.length>e;e++){this.units[e].undo();}},redo:function redo(){for(var e=0;this.units.length>e;e++){this.units[e].redo();}}}),d=U.extend({init:function init(e,t,n){this.item=e,this._redoSource=t,this._redoTarget=n,ee(t)&&(this._undoSource=e.source()),ee(n)&&(this._undoTarget=e.target()),this.title="Connection Editing";},undo:function undo(){this._undoSource!==t&&this.item._updateConnector(this._undoSource,"source"),this._undoTarget!==t&&this.item._updateConnector(this._undoTarget,"target"),this.item.updateModel();},redo:function redo(){this._redoSource!==t&&this.item._updateConnector(this._redoSource,"source"),this._redoTarget!==t&&this.item._updateConnector(this._redoTarget,"target"),this.item.updateModel();}}),u=U.extend({init:function init(e,t,n){this.item=e,this._undoSource=t,this._undoTarget=n,this._redoSource=e.source(),this._redoTarget=e.target(),this.title="Connection Editing";},undo:function undo(){this.item._updateConnector(this._undoSource,"source"),this.item._updateConnector(this._undoTarget,"target"),this.item.updateModel();},redo:function redo(){this.item._updateConnector(this._redoSource,"source"),this.item._updateConnector(this._redoTarget,"target"),this.item.updateModel();}}),h=U.extend({init:function init(e){this.connection=e,this.diagram=e.diagram,this.targetConnector=e.targetConnector,this.title="Delete connection";},undo:function undo(){this.diagram._addConnection(this.connection,!1);},redo:function redo(){this.diagram.remove(this.connection,!1);}}),f=U.extend({init:function init(e){this.shape=e,this.diagram=e.diagram,this.title="Deletion";},undo:function undo(){this.diagram._addShape(this.shape,!1),this.shape.select(!1);},redo:function redo(){this.shape.select(!1),this.diagram.remove(this.shape,!1);}}),p=U.extend({init:function init(e,t,n){var i,o;for(this.shapes=e,this.undoStates=t,this.title="Transformation",this.redoStates=[],this.adorner=n,i=0;this.shapes.length>i;i++){o=this.shapes[i],this.redoStates.push(o.bounds());}},undo:function undo(){var e,t;for(e=0;this.shapes.length>e;e++){t=this.shapes[e],t.bounds(this.undoStates[e]),t.hasOwnProperty("layout")&&t.layout(t,this.redoStates[e],this.undoStates[e]),t.updateModel();}this.adorner&&(this.adorner.refreshBounds(),this.adorner.refresh());},redo:function redo(){var e,t;for(e=0;this.shapes.length>e;e++){t=this.shapes[e],t.bounds(this.redoStates[e]),t.hasOwnProperty("layout")&&t.layout(t,this.undoStates[e],this.redoStates[e]),t.updateModel();}this.adorner&&(this.adorner.refreshBounds(),this.adorner.refresh());}}),m=U.extend({init:function init(e,t){this.connection=e,this.diagram=t,this.title="New connection";},undo:function undo(){this.diagram.remove(this.connection,!1);},redo:function redo(){this.diagram._addConnection(this.connection,!1);}}),g=U.extend({init:function init(e,t){this.shape=e,this.diagram=t,this.title="New shape";},undo:function undo(){this.diagram.deselect(),this.diagram.remove(this.shape,!1);},redo:function redo(){this.diagram._addShape(this.shape,!1);}}),v=U.extend({init:function init(e,t,n){this.initial=e,this.finalPos=t,this.diagram=n,this.title="Pan Unit";},undo:function undo(){this.diagram.pan(this.initial);},redo:function redo(){this.diagram.pan(this.finalPos);}}),_=U.extend({init:function init(e,t,n){var i,o;for(this.shapes=t,this.undoRotates=n,this.title="Rotation",this.redoRotates=[],this.redoAngle=e._angle,this.adorner=e,this.center=e._innerBounds.center(),i=0;this.shapes.length>i;i++){o=this.shapes[i],this.redoRotates.push(o.rotate().angle);}},undo:function undo(){var e,t;for(e=0;this.shapes.length>e;e++){t=this.shapes[e],t.rotate(this.undoRotates[e],this.center,!1),t.hasOwnProperty("layout")&&t.layout(t),t.updateModel();}this.adorner&&(this.adorner._initialize(),this.adorner.refresh());},redo:function redo(){var e,t;for(e=0;this.shapes.length>e;e++){t=this.shapes[e],t.rotate(this.redoRotates[e],this.center,!1),t.hasOwnProperty("layout")&&t.layout(t),t.updateModel();}this.adorner&&(this.adorner._initialize(),this.adorner.refresh());}}),b=U.extend({init:function init(e,t,n){this.diagram=e,this.indices=n,this.items=t,this.title="Rotate Unit";},undo:function undo(){this.diagram._toIndex(this.items,this.indices);},redo:function redo(){this.diagram.toFront(this.items,!1);}}),w=U.extend({init:function init(e,t,n){this.diagram=e,this.indices=n,this.items=t,this.title="Rotate Unit";},undo:function undo(){this.diagram._toIndex(this.items,this.indices);},redo:function redo(){this.diagram.toBack(this.items,!1);}}),y=N.Observable.extend({init:function init(e){N.Observable.fn.init.call(this,e),this.bind(this.events,e),this.stack=[],this.index=0,this.capacity=100;},events:["undone","redone"],begin:function begin(){this.composite=new c();},cancel:function cancel(){this.composite=t;},commit:function commit(e){this.composite.units.length>0&&this._restart(this.composite,e),this.composite=t;},addCompositeItem:function addCompositeItem(e){this.composite?this.composite.add(e):this.add(e);},add:function add(e,t){this._restart(e,t);},pop:function pop(){this.index>0&&(this.stack.pop(),this.index--);},count:function count(){return this.stack.length;},undo:function undo(){this.index>0&&(this.index--,this.stack[this.index].undo(),this.trigger("undone"));},redo:function redo(){this.stack.length>0&&this.stack.length>this.index&&(this.stack[this.index].redo(),this.index++,this.trigger("redone"));},_restart:function _restart(e,t){this.stack.splice(this.index,this.stack.length-this.index),this.stack.push(e),t!==!1?this.redo():this.index++,this.stack.length>this.capacity&&(this.stack.splice(0,this.stack.length-this.capacity),this.index=this.capacity);},clear:function clear(){this.stack=[],this.index=0;}}),k=U.extend({init:function init(e){this.toolService=e;},start:function start(){},move:function move(){},end:function end(){},tryActivate:function tryActivate(){return!1;},getCursor:function getCursor(){return ie.arrow;}}),x=k.extend({init:function init(t){var n,i,o,r,a=this,s=N.support.mobileOS?Te:Se;k.fn.init.call(a,t),n=a.toolService.diagram,i=n.canvas,o=n.scroller=a.scroller=e(n.scrollable).kendoMobileScroller({friction:s,velocityMultiplier:De,mousewheelScrolling:!1,zoom:!1,scroll:ne(a._move,a)}).data("kendoMobileScroller"),i.translate&&(a.movableCanvas=new J(i.element)),r=function r(e,t,n){e.makeVirtual(),e.virtualSize(t||xe,n||Ce);},r(o.dimensions.x),r(o.dimensions.y),o.disable();},tryActivate:function tryActivate(e,t){var n=this.toolService,i=n.diagram.options.pannable,o=t.ctrlKey;return ee(i.key)&&(o=i.key&&"none"!=i.key?t[i.key+"Key"]:a(t)&&!ee(n.hoveredItem)),i!==!1&&o&&!ee(n.hoveredAdorner)&&!ee(n._hoveredConnector);},start:function start(){this.scroller.enable();},move:function move(){},_move:function _move(e){var t=this,n=t.toolService.diagram,i=n.canvas,o=new Y(e.scrollLeft,e.scrollTop);i.translate?(n._storePan(o.times(-1)),t.movableCanvas.moveTo(o),i.translate(o.x,o.y)):o=o.plus(n._pan.times(-1)),n.trigger(Ee,{pan:o});},end:function end(){this.scroller.disable();},getCursor:function getCursor(){return ie.move;}}),C=U.extend({init:function init(e){this.toolService=e;},tryActivate:function tryActivate(){return!0;},start:function start(e,t){var n=this.toolService,i=n.diagram,o=n.hoveredItem;o&&(n.selectSingle(o,t),o.adorner&&(this.adorner=o.adorner,this.handle=this.adorner._hitTest(e))),this.handle||(this.handle=i._resizingAdorner._hitTest(e),this.handle&&(this.adorner=i._resizingAdorner)),this.adorner&&(this.adorner.isDragHandle(this.handle)&&i.trigger(he,{shapes:this.adorner.shapes,connections:[]})?(n.startPoint=e,n.end(e)):this.adorner.start(e));},move:function move(e){this.adorner&&(this.adorner.move(this.handle,e),this.adorner.isDragHandle(this.handle)&&this.toolService.diagram.trigger(fe,{shapes:this.adorner.shapes,connections:[]}));},end:function end(){var e,n=this.toolService.diagram,i=this.adorner;i&&(i.isDragHandle(this.handle)&&n.trigger(pe,{shapes:i.shapes,connections:[]})?i.cancel():(e=i.stop(),e&&n.undoRedoService.add(e,!1))),this.adorner=t,this.handle=t;},getCursor:function getCursor(e){return this.toolService.hoveredItem?this.toolService.hoveredItem._getCursor(e):ie.arrow;}}),S=U.extend({init:function init(e){this.toolService=e;},tryActivate:function tryActivate(e,t){var n=this.toolService,i=n.diagram.options.selectable,o=i&&i.multiple!==!1;return o&&(o=i.key&&"none"!=i.key?t[i.key+"Key"]:a(t)),o&&!ee(n.hoveredItem)&&!ee(n.hoveredAdorner);},start:function start(e){var t=this.toolService.diagram;t.deselect(),t.selector.start(e);},move:function move(e){var t=this.toolService.diagram;t.selector.move(e);},end:function end(e,t){var n=this.toolService.diagram,i=this.toolService.hoveredItem,o=n.selector.bounds();i&&i.isSelected||t.ctrlKey||n.deselect(),o.isEmpty()||n.selectArea(o),n.selector.end();},getCursor:function getCursor(){return ie.arrow;}}),T=U.extend({init:function init(e){this.toolService=e,this.type="ConnectionTool";},tryActivate:function tryActivate(){return this.toolService._hoveredConnector;},start:function start(e,t){var n=this.toolService,i=n.diagram,r=n._hoveredConnector,a=i._createConnection({},r._c,e);o(a)&&!i.trigger(he,{shapes:[],connections:[a],connectionHandle:Fe})&&i._addConnection(a)?(n._connectionManipulation(a,r._c.shape,!0),n._removeHover(),n.selectSingle(n.activeConnection,t)):(a.source(null),n.end(e));},move:function move(e){var t=this.toolService,n=t.activeConnection;return n.target(e),t.diagram.trigger(fe,{shapes:[],connections:[n],connectionHandle:Fe}),!0;},end:function end(e){var t,n=this.toolService,i=n.diagram,o=n.activeConnection,r=n.hoveredItem,a=n._hoveredConnector;o&&(t=a&&a._c!=o.sourceConnector?a._c:r&&r instanceof V.Shape?r.getConnector(re)||r.getConnector(e):e,o.target(t),i.trigger(pe,{shapes:[],connections:[o],connectionHandle:Fe})?(i.remove(o,!1),i.undoRedoService.pop()):(o.updateModel(),i._syncConnectionChanges()),n._connectionManipulation());},getCursor:function getCursor(){return ie.arrow;}}),D=U.extend({init:function init(e){this.toolService=e,this.type="ConnectionTool";},tryActivate:function tryActivate(e,t){var n=this.toolService,i=n.diagram,o=i.options.selectable,r=n.hoveredItem,a=o!==!1&&r&&r.path&&!(r.isSelected&&t.ctrlKey);return a&&(this._c=r),a;},start:function start(e,t){var n,i,r,a=this.toolService,s=this._c;a.selectSingle(s,t),n=s.adorner,n&&(i=n._hitTest(e),r=Me[i]),o(s)&&n&&!a.diagram.trigger(he,{shapes:[],connections:[s],connectionHandle:r})?(this.handle=i,this.handleName=r,n.start(e)):(a.startPoint=e,a.end(e));},move:function move(e){var n=this._c.adorner;return o(this._c)&&n?(n.move(this.handle,e),this.toolService.diagram.trigger(fe,{shapes:[],connections:[this._c],connectionHandle:this.handleName}),!0):t;},end:function end(e){var t,n=this._c,i=n.adorner,r=this.toolService,a=r.diagram;i&&o(n)&&(t=i.stop(e),a.trigger(pe,{shapes:[],connections:[n],connectionHandle:this.handleName})?t.undo():(a.undoRedoService.add(t,!1),n.updateModel(),a._syncConnectionChanges()));},getCursor:function getCursor(){return ie.move;}}),A=U.extend({init:function init(e){this.diagram=e,this.tools=[new x(this),new D(this),new T(this),new S(this),new C(this)],this.activeTool=t;},start:function start(e,t){return t=X({},t),this.activeTool&&this.activeTool.end(e,t),this._updateHoveredItem(e),this._activateTool(e,t),this.activeTool.start(e,t),this._updateCursor(e),this.diagram.focus(),this.diagram.canvas.surface.suspendTracking(),this.startPoint=e,!0;},move:function move(e,t){t=X({},t);var n=!0;return this.activeTool&&(n=this.activeTool.move(e,t)),n&&this._updateHoveredItem(e),this._updateCursor(e),!0;},end:function end(e,n){return n=X({},n),this.activeTool&&this.activeTool.end(e,n),this.diagram.canvas.surface.resumeTracking(),this.activeTool=t,this._updateCursor(e),!0;},keyDown:function keyDown(e,t){var i,o=this.diagram;if(t=X({ctrlKey:!1,metaKey:!1,altKey:!1},t),!t.ctrlKey&&!t.metaKey||t.altKey){if(46===e||8===e)return i=this.diagram._triggerRemove(o.select()),i.length&&(this.diagram.remove(i,!0),this.diagram._syncChanges(),this.diagram._destroyToolBar()),!0;if(27===e)return this._discardNewConnection(),o.deselect(),o._destroyToolBar(),!0;}else{if(n(e,"a"))return o.selectAll(),o._destroyToolBar(),!0;if(n(e,"z"))return o.undo(),o._destroyToolBar(),!0;if(n(e,"y"))return o.redo(),o._destroyToolBar(),!0;n(e,"c")?(o.copy(),o._destroyToolBar()):n(e,"x")?(o.cut(),o._destroyToolBar()):n(e,"v")?(o.paste(),o._destroyToolBar()):n(e,"l")?(o.layout(),o._destroyToolBar()):n(e,"d")&&(o._destroyToolBar(),o.copy(),o.paste());}},wheel:function wheel(e,t){var n=this.diagram,i=t.delta,o=n.zoom(),r=n.options,a=r.zoomRate,s={point:e,meta:t,zoom:o};if(!n.trigger(ye,s))return 0>i?o+=a:o-=a,o=N.dataviz.round(Math.max(r.zoomMin,Math.min(r.zoomMax,o)),2),s.zoom=o,n.zoom(o,s),n.trigger(ke,s),!0;},setTool:function setTool(e,t){e.toolService=this,this.tools[t]=e;},selectSingle:function selectSingle(e,t){var n,i=this.diagram,o=i.options.selectable;o&&!e.isSelected&&e.options.selectable!==!1&&(n=t.ctrlKey&&o.multiple!==!1,i.select(e,{addToSelection:n}));},_discardNewConnection:function _discardNewConnection(){this.newConnection&&(this.diagram.remove(this.newConnection),this.newConnection=t);},_activateTool:function _activateTool(e,t){var n,i;for(n=0;this.tools.length>n;n++){if(i=this.tools[n],i.tryActivate(e,t)){this.activeTool=i;break;}}},_updateCursor:function _updateCursor(e){var t=this.diagram.element,n=this.activeTool?this.activeTool.getCursor(e):this.hoveredAdorner?this.hoveredAdorner._getCursor(e):this.hoveredItem?this.hoveredItem._getCursor(e):ie.arrow;t.css({cursor:n}),Z.msie&&7==Z.version&&(t[0].style.cssText=t[0].style.cssText);},_connectionManipulation:function _connectionManipulation(e,n,i){this.activeConnection=e,this.disabledShape=n,this.newConnection=i?this.activeConnection:t;},_updateHoveredItem:function _updateHoveredItem(e){var n=this._hitTest(e),i=this.diagram;n==this.hoveredItem||this.disabledShape&&n==this.disabledShape||(this.hoveredItem&&(i.trigger(we,{item:this.hoveredItem}),this.hoveredItem._hover(!1)),n&&n.options.enable?(i.trigger(be,{item:n}),this.hoveredItem=n,this.hoveredItem._hover(!0)):this.hoveredItem=t);},_removeHover:function _removeHover(){this.hoveredItem&&(this.hoveredItem._hover(!1),this.hoveredItem=t);},_hitTest:function _hitTest(e){var n,i,o,r,a=this.diagram;if(this._hoveredConnector&&(this._hoveredConnector._hover(!1),this._hoveredConnector=t),a._connectorsAdorner._visible&&(n=a._connectorsAdorner._hitTest(e)))return n;if(n=this.diagram._resizingAdorner._hitTest(e)){if(this.hoveredAdorner=a._resizingAdorner,0!==n.x||0!==n.y)return;n=t;}else this.hoveredAdorner=t;if(!this.activeTool||"ConnectionTool"!==this.activeTool.type){for(r=[],o=0;a._selectedItems.length>o;o++){i=a._selectedItems[o],i instanceof V.Connection&&r.push(i);}n=this._hitTestItems(r,e);}return n||this._hitTestElements(e);},_hitTestElements:function _hitTestElements(e){var t,n,i,o,a=this.diagram,s=this._hitTestItems(a.shapes,e),l=this._hitTestItems(a.connections,e);return this.activeTool&&"ConnectionTool"==this.activeTool.type||!s||!l||r(s,e)||(n=a.mainLayer,i=te(s.visual,n.children),o=te(l.visual,n.children),t=i>o?s:l),t||s||l;},_hitTestItems:function _hitTestItems(e,t){var n,i,o;for(n=e.length-1;n>=0;n--){if(i=e[n],o=i._hitTest(t))return o;}}}),E=N.Class.extend({init:function init(){}}),R=E.extend({init:function init(e){var t=this;E.fn.init.call(t),this.connection=e;},hitTest:function hitTest(e){var t=this.getBounds().inflate(oe);return t.contains(e)?V.Geometry.distanceToPolyline(e,this.connection.allPoints())<oe:!1;},getBounds:function getBounds(){var e,t=this.connection.allPoints(),n=t[0],i=t[t.length-1],o=Math.max(n.x,i.x),r=Math.min(n.x,i.x),a=Math.min(n.y,i.y),s=Math.max(n.y,i.y);for(e=1;t.length-1>e;++e){o=Math.max(o,t[e].x),r=Math.min(r,t[e].x),a=Math.min(a,t[e].y),s=Math.max(s,t[e].y);}return new j(r,a,o-r,s-a);}}),I=R.extend({init:function init(e){var t=this;R.fn.init.call(t),this.connection=e;},route:function route(){}}),F=R.extend({SAME_SIDE_DISTANCE_RATIO:5,init:function init(e){var t=this;R.fn.init.call(t),this.connection=e;},routePoints:function routePoints(e,t,n,i){var o;return o=n&&i?this._connectorPoints(e,t,n,i):this._floatingPoints(e,t,n);},route:function route(){var e=this.connection._resolvedSourceConnector,t=this.connection._resolvedTargetConnector,n=this.connection.sourcePoint(),i=this.connection.targetPoint(),o=this.routePoints(n,i,e,t);this.connection.points(o);},_connectorSides:[{name:"Top",axis:"y",boundsPoint:"topLeft",secondarySign:1},{name:"Left",axis:"x",boundsPoint:"topLeft",secondarySign:1},{name:"Bottom",axis:"y",boundsPoint:"bottomRight",secondarySign:-1},{name:"Right",axis:"x",boundsPoint:"bottomRight",secondarySign:-1}],_connectorSide:function _connectorSide(e,t){var n,i,o,r,a,s=e.position(),l=e.shape.bounds(Re),c={topLeft:l.topLeft(),bottomRight:l.bottomRight()},d=this._connectorSides,u=N.util.MAX_NUM;for(a=0;d.length>a;a++){r=d[a],o=r.axis,n=Math.round(Math.abs(s[o]-c[r.boundsPoint][o])),u>n?(u=n,i=r):n===u&&(s[o]-t[o])*r.secondarySign>(s[i.axis]-t[i.axis])*i.secondarySign&&(i=r);}return i.name;},_sameSideDistance:function _sameSideDistance(e){var t=e.shape.bounds(Re);return Math.min(t.width,t.height)/this.SAME_SIDE_DISTANCE_RATIO;},_connectorPoints:function _connectorPoints(e,t,n,i){var o,r,a=this._connectorSide(n,t),s=this._connectorSide(i,e),l=t.x-e.x,c=t.y-e.y,d=this._sameSideDistance(n),u=[];return a===ae||a==ce?s==ae||s==ce?a==s?(r=a==ae?Math.min(e.y,t.y)-d:Math.max(e.y,t.y)+d,u=[new Y(e.x,r),new Y(t.x,r)]):u=[new Y(e.x,e.y+c/2),new Y(t.x,e.y+c/2)]:u=[new Y(e.x,t.y)]:s==le||s==se?a==s?(o=a==le?Math.min(e.x,t.x)-d:Math.max(e.x,t.x)+d,u=[new Y(o,e.y),new Y(o,t.y)]):u=[new Y(e.x+l/2,e.y),new Y(e.x+l/2,e.y+c)]:u=[new Y(t.x,e.y)],u;},_floatingPoints:function _floatingPoints(e,t,n){var i,o,r,a=n?this._connectorSide(n,t):null,s=this._startHorizontal(e,t,a),l=[e,e,t,t],c=t.x-e.x,d=t.y-e.y,u=l.length;for(r=1;u-1>r;++r){s?r%2!==0?(i=c/(u/2),o=0):(i=0,o=d/((u-1)/2)):r%2!==0?(i=0,o=d/(u/2)):(i=c/((u-1)/2),o=0),l[r]=new Y(l[r-1].x+i,l[r-1].y+o);}return r--,l[u-2]=s&&r%2!==0||!s&&r%2===0?new Y(l[u-1].x,l[u-2].y):new Y(l[u-2].x,l[u-1].y),[l[1],l[2]];},_startHorizontal:function _startHorizontal(e,t,n){var i;return i=null===n||n!==se&&n!==le?Math.abs(e.x-t.x)>Math.abs(e.y-t.y):!0;}}),M=U.extend({init:function init(e,t){var n=this;n.diagram=e,n.options=X({},n.options,t),n.visual=new W(),n.diagram._adorners.push(n);},refresh:function refresh(){}}),P=M.extend({init:function init(e,t){var n,i,o,r=this;r.connection=e,n=r.connection.diagram,r._ts=n.toolService,M.fn.init.call(r,n,t),i=r.connection.sourcePoint(),o=r.connection.targetPoint(),r.spVisual=new K(X(r.options.handles,{center:i})),r.epVisual=new K(X(r.options.handles,{center:o})),r.visual.append(r.spVisual),r.visual.append(r.epVisual);},options:{handles:{}},_getCursor:function _getCursor(){return ie.move;},start:function start(e){switch(this.handle=this._hitTest(e),this.startPoint=e,this._initialSource=this.connection.source(),this._initialTarget=this.connection.target(),this.handle){case-1:this.connection.targetConnector&&this._ts._connectionManipulation(this.connection,this.connection.targetConnector.shape);break;case 1:this.connection.sourceConnector&&this._ts._connectionManipulation(this.connection,this.connection.sourceConnector.shape);}},move:function move(e,t){switch(e){case-1:this.connection.source(t);break;case 1:this.connection.target(t);break;default:var n=t.minus(this.startPoint);this.startPoint=t,this.connection.sourceConnector||this.connection.source(this.connection.sourcePoint().plus(n)),this.connection.targetConnector||this.connection.target(this.connection.targetPoint().plus(n));}return this.refresh(),!0;},stop:function stop(e){var n,i=this.diagram.toolService,o=i.hoveredItem;return n=i._hoveredConnector?i._hoveredConnector._c:o&&o instanceof V.Shape?o.getConnector(re)||o.getConnector(e):e,-1===this.handle?this.connection.source(n):1===this.handle&&this.connection.target(n),this.handle=t,this._ts._connectionManipulation(),new u(this.connection,this._initialSource,this._initialTarget);},_hitTest:function _hitTest(e){var t=this.connection.sourcePoint(),n=this.connection.targetPoint(),i=this.options.handles.width/2+oe,o=this.options.handles.height/2+oe,r=t.distanceTo(e),a=n.distanceTo(e),s=new j(t.x,t.y).inflate(i,o).contains(e),l=new j(n.x,n.y).inflate(i,o).contains(e),c=0;return s&&(!l||a>r)?c=-1:l&&(!s||r>a)&&(c=1),c;},refresh:function refresh(){this.spVisual.redraw({center:this.diagram.modelToLayer(this.connection.sourcePoint())}),this.epVisual.redraw({center:this.diagram.modelToLayer(this.connection.targetPoint())});}}),z=M.extend({init:function init(e,t){var n=this;M.fn.init.call(n,e,t),n._refreshHandler=function(e){e.item==n.shape&&n.refresh();};},show:function show(e){var t,n,i,o=this;for(o._visible=!0,o.shape=e,o.diagram.bind(ge,o._refreshHandler),t=e.connectors.length,o.connectors=[],o.visual.clear(),n=0;t>n;n++){i=new H(e.connectors[n]),o.connectors.push(i),o.visual.append(i.visual);}o.visual.visible(!0),o.refresh();},destroy:function destroy(){var e=this;e.diagram.unbind(ge,e._refreshHandler),e.shape=t,e._visible=t,e.visual.visible(!1);},_hitTest:function _hitTest(e){var t,n;for(n=0;this.connectors.length>n;n++){if(t=this.connectors[n],t._hitTest(e)){t._hover(!0),this.diagram.toolService._hoveredConnector=t;break;}}},refresh:function refresh(){if(this.shape){var t=this.shape.bounds();t=this.diagram.modelToLayer(t),this.visual.position(t.topLeft()),e.each(this.connectors,function(){this.refresh();});}}}),B=M.extend({init:function init(e,t){var n=this;M.fn.init.call(n,e,t),n._manipulating=!1,n.map=[],n.shapes=[],n._initSelection(),n._createHandles(),n.redraw(),n.diagram.bind("select",function(e){n._initialize(e.selected);}),n._refreshHandler=function(){n._internalChange||(n.refreshBounds(),n.refresh());},n._rotatedHandler=function(){1==n.shapes.length&&(n._angle=n.shapes[0].rotate().angle),n._refreshHandler();},n.diagram.bind(ge,n._refreshHandler).bind(me,n._rotatedHandler),n.refreshBounds(),n.refresh();},options:{handles:{fill:{color:"#fff"},stroke:{color:"#282828"},height:7,width:7,hover:{fill:{color:"#282828"},stroke:{color:"#282828"}}},selectable:{stroke:{color:"#778899",width:1,dashType:"dash"},fill:{color:Ae}},offset:10},_initSelection:function _initSelection(){var e=this,t=e.diagram,n=t.options.selectable,i=X({},e.options.selectable,n);e.rect=new q(i),e.visual.append(e.rect);},_resizable:function _resizable(){return this.options.editable&&this.options.editable.resize!==!1;},_handleOptions:function _handleOptions(){return(this.options.editable.resize||{}).handles||this.options.handles;},_createHandles:function _createHandles(){var e,t,n,i;if(this._resizable())for(e=this._handleOptions(),i=-1;1>=i;i++){for(n=-1;1>=n;n++){0===i&&0===n||(t=new q(e),t.drawingElement._hover=ne(this._hover,this),this.map.push({x:i,y:n,visual:t}),this.visual.append(t));}}},bounds:function bounds(e){return e?(this._innerBounds=e.clone(),this._bounds=this.diagram.modelToLayer(e).inflate(this.options.offset,this.options.offset),t):this._bounds;},_hitTest:function _hitTest(e){var n,i,o,r,a=this.diagram.modelToLayer(e),s=this.map.length;if(this._angle&&(a=a.clone().rotate(this._bounds.center(),this._angle)),this._resizable())for(n=0;s>n;n++){if(r=this.map[n],i=new Y(r.x,r.y),o=this._getHandleBounds(i),o.offset(this._bounds.x,this._bounds.y),o.contains(a))return i;}return this._bounds.contains(a)?new Y(0,0):t;},_getHandleBounds:function _getHandleBounds(e){if(this._resizable()){var t=this._handleOptions(),n=t.width,i=t.height,o=new j(0,0,n,i);return 0>e.x?o.x=-n/2:0===e.x?o.x=Math.floor(this._bounds.width/2)-n/2:e.x>0&&(o.x=this._bounds.width+1-n/2),0>e.y?o.y=-i/2:0===e.y?o.y=Math.floor(this._bounds.height/2)-i/2:e.y>0&&(o.y=this._bounds.height+1-i/2),o;}},_getCursor:function _getCursor(e){var t,n=this._hitTest(e);if(n&&n.x>=-1&&1>=n.x&&n.y>=-1&&1>=n.y&&this._resizable()){if(t=this._angle,t&&(t=360-t,n.rotate(new Y(0,0),t),n=new Y(Math.round(n.x),Math.round(n.y))),-1==n.x&&-1==n.y)return"nw-resize";if(1==n.x&&1==n.y)return"se-resize";if(-1==n.x&&1==n.y)return"sw-resize";if(1==n.x&&-1==n.y)return"ne-resize";if(0===n.x&&-1==n.y)return"n-resize";if(0===n.x&&1==n.y)return"s-resize";if(1==n.x&&0===n.y)return"e-resize";if(-1==n.x&&0===n.y)return"w-resize";}return this._manipulating?ie.move:ie.select;},_initialize:function _initialize(){var e,t,n=this,i=n.diagram.select();for(n.shapes=[],e=0;i.length>e;e++){t=i[e],t instanceof V.Shape&&(n.shapes.push(t),t._rotationOffset=new Y());}n._angle=1==n.shapes.length?n.shapes[0].rotate().angle:0,n._startAngle=n._angle,n._rotates(),n._positions(),n.refreshBounds(),n.refresh(),n.redraw();},_rotates:function _rotates(){var e,t,n=this;for(n.initialRotates=[],e=0;n.shapes.length>e;e++){t=n.shapes[e],n.initialRotates.push(t.rotate().angle);}},_positions:function _positions(){var e,t,n=this;for(n.initialStates=[],e=0;n.shapes.length>e;e++){t=n.shapes[e],n.initialStates.push(t.bounds());}},_hover:function _hover(e,t){if(this._resizable()){var n=this._handleOptions(),i=n.hover,o=n.stroke,r=n.fill;e&&G.isDefined(i.stroke)&&(o=X({},o,i.stroke)),e&&G.isDefined(i.fill)&&(r=i.fill),t.stroke(o.color,o.width,o.opacity),t.fill(r.color,r.opacity);}},start:function start(e){var t,n;for(this._sp=e,this._cp=e,this._lp=e,this._manipulating=!0,this._internalChange=!0,this.shapeStates=[],t=0;this.shapes.length>t;t++){n=this.shapes[t],this.shapeStates.push(n.bounds());}},redraw:function redraw(){var e,t,n=this._resizable();for(e=0;this.map.length>e;e++){t=this.map[e],t.visual.visible(n);}},angle:function angle(e){return ee(e)&&(this._angle=e),this._angle;},rotate:function rotate(){var e,t,n=this._innerBounds.center(),i=this.angle();for(this._internalChange=!0,e=0;this.shapes.length>e;e++){t=this.shapes[e],i=(i+this.initialRotates[e]-this._startAngle)%360,t.rotate(i,n);}this.refresh();},move:function move(e,n){var r,a,s,l,c,d,u,h,f,p,m,g,v,_,b=new Y(),w=new Y(),y=0;if(-2===e.y&&-1===e.x){for(l=this._innerBounds.center(),this._angle=this._truncateAngle(G.findAngle(l,n)),d=0;this.shapes.length>d;d++){c=this.shapes[d],u=(this._angle+this.initialRotates[d]-this._startAngle)%360,c.rotate(u,l),c.hasOwnProperty("layout")&&c.layout(c),this._rotating=!0;}this.refresh();}else{if(this.shouldSnap()){if(g=this._truncateDistance(n.minus(this._lp)),0===g.x&&0===g.y)return this._cp=n,t;r=g,this._lp=new Y(this._lp.x+g.x,this._lp.y+g.y);}else r=n.minus(this._cp);for(this.isDragHandle(e)?(w=b=r,a=!0):(this._angle&&r.rotate(new Y(0,0),this._angle),-1==e.x?b.x=r.x:1==e.x&&(w.x=r.x),-1==e.y?b.y=r.y:1==e.y&&(w.y=r.y)),a||(f=i(e,this._innerBounds),p=(this._innerBounds.width+r.x*e.x)/this._innerBounds.width,m=(this._innerBounds.height+r.y*e.y)/this._innerBounds.height),d=0;this.shapes.length>d;d++){if(c=this.shapes[d],s=c.bounds(),a){if(!o(c))continue;h=this._displaceBounds(s,b,w,a);}else h=s.clone(),h.scale(p,m,f,this._innerBounds.center(),c.rotate().angle),v=h.center(),v.rotate(s.center(),-this._angle),h=new j(v.x-h.width/2,v.y-h.height/2,h.width,h.height);h.width>=c.options.minWidth&&h.height>=c.options.minHeight&&(_=s,c.bounds(h),c.hasOwnProperty("layout")&&c.layout(c,_,h),_.width===h.width&&_.height===h.height||c.rotate(c.rotate().angle),y+=1);}y&&(y==d?(h=this._displaceBounds(this._innerBounds,b,w,a),this.bounds(h)):this.refreshBounds(),this.refresh()),this._positions();}this._cp=n;},isDragHandle:function isDragHandle(e){return 0===e.x&&0===e.y;},cancel:function cancel(){var e,n=this.shapes,i=this.shapeStates;for(e=0;n.length>e;e++){n[e].bounds(i[e]);}this.refreshBounds(),this.refresh(),this._manipulating=t,this._internalChange=t,this._rotating=t;},_truncatePositionToGuides:function _truncatePositionToGuides(e){return this.diagram.ruler?this.diagram.ruler.truncatePositionToGuides(e):e;},_truncateSizeToGuides:function _truncateSizeToGuides(e){return this.diagram.ruler?this.diagram.ruler.truncateSizeToGuides(e):e;},_truncateAngle:function _truncateAngle(e){var t=this.snapOptions(),n=Math.max(t.angle||ue,_e);return t?Math.floor(e%360/n)*n:e%360;},_truncateDistance:function _truncateDistance(e){var t,n;return e instanceof V.Point?new V.Point(this._truncateDistance(e.x),this._truncateDistance(e.y)):(t=this.snapOptions()||{},n=Math.max(t.size||de,ve),t?Math.floor(e/n)*n:e);},snapOptions:function snapOptions(){var e=this.diagram.options.editable,t=((e||{}).drag||{}).snap||{};return t;},shouldSnap:function shouldSnap(){var e=this.diagram.options.editable,t=(e||{}).drag,n=(t||{}).snap;return e!==!1&&t!==!1&&n!==!1;},_displaceBounds:function _displaceBounds(e,t,n,i){var o,r=e.topLeft().plus(t),a=e.bottomRight().plus(n),s=j.fromPoints(r,a);return i||(o=s.center(),o.rotate(e.center(),-this._angle),s=new j(o.x-s.width/2,o.y-s.height/2,s.width,s.height)),s;},stop:function stop(){var e,n,i,o;if(this._cp!=this._sp)if(this._rotating)e=new _(this,this.shapes,this.initialRotates),this._rotating=!1;else if(this._diffStates()){if(this.diagram.ruler)for(n=0;this.shapes.length>n;n++){i=this.shapes[n],o=i.bounds(),o=this._truncateSizeToGuides(this._truncatePositionToGuides(o)),i.bounds(o),this.refreshBounds(),this.refresh();}for(n=0;this.shapes.length>n;n++){i=this.shapes[n],i.updateModel();}e=new p(this.shapes,this.shapeStates,this),this.diagram._syncShapeChanges();}return this._manipulating=t,this._internalChange=t,this._rotating=t,e;},_diffStates:function _diffStates(){var e,t=this.shapes,n=this.shapeStates;for(e=0;t.length>e;e++){if(!t[e].bounds().equals(n[e]))return!0;}return!1;},refreshBounds:function refreshBounds(){var e=1==this.shapes.length?this.shapes[0].bounds().clone():this.diagram.boundingBox(this.shapes,!0);this.bounds(e);},refresh:function refresh(){var t,n,i,o,r=this;this.shapes.length>0?(n=this.bounds(),this.visual.visible(!0),this.visual.position(n.topLeft()),e.each(this.map,function(){t=r._getHandleBounds(new Y(this.x,this.y)),this.visual.position(t.topLeft());}),this.visual.position(n.topLeft()),i=new Y(n.width/2,n.height/2),this.visual.rotate(this._angle,i),this.rect.redraw({width:n.width,height:n.height}),this.rotationThumb&&(o=this.options.editable.rotate.thumb,this._rotationThumbBounds=new j(n.center().x,n.y+o.y,0,0).inflate(o.width),this.rotationThumb.redraw({x:n.width/2-o.width/2}))):this.visual.visible(!1);}}),L=U.extend({init:function init(e){var t=e.options.selectable;this.options=X({},this.options,t),this.visual=new q(this.options),this.diagram=e;},options:{stroke:{color:"#778899",width:1,dashType:"dash"},fill:{color:Ae}},start:function start(e){this._sp=this._ep=e,this.refresh(),this.diagram._adorn(this,!0);},end:function end(){this._sp=this._ep=t,this.diagram._adorn(this,!1);},bounds:function bounds(e){return e&&(this._bounds=e),this._bounds;},move:function move(e){this._ep=e,this.refresh();},refresh:function refresh(){if(this._sp){var e=j.fromPoints(this.diagram.modelToLayer(this._sp),this.diagram.modelToLayer(this._ep));this.bounds(j.fromPoints(this._sp,this._ep)),this.visual.position(e.topLeft()),this.visual.redraw({height:e.height+1,width:e.width+1});}}}),H=U.extend({init:function init(e){this.options=X({},e.options),this._c=e,this.visual=new K(this.options),this.refresh();},_hover:function _hover(e){var t=this.options,n=t.hover,i=t.stroke,o=t.fill;e&&G.isDefined(n.stroke)&&(i=X({},i,n.stroke)),e&&G.isDefined(n.fill)&&(o=n.fill),this.visual.redraw({stroke:i,fill:o});},refresh:function refresh(){var e=this._c.shape.diagram.modelToView(this._c.position()),t=e.minus(this._c.shape.bounds("transformed").topLeft()),n=new j(e.x,e.y,0,0);n.inflate(this.options.width/2,this.options.height/2),this._visualBounds=n,this.visual.redraw({center:new Y(t.x,t.y)});},_hitTest:function _hitTest(e){var t=this._c.shape.diagram.modelToView(e);return this._visualBounds.contains(t);}}),X(V,{CompositeUnit:c,TransformUnit:p,PanUndoUnit:v,AddShapeUnit:g,AddConnectionUnit:m,DeleteShapeUnit:f,DeleteConnectionUnit:h,ConnectionEditAdorner:P,ConnectionTool:T,ConnectorVisual:H,UndoRedoService:y,ResizingAdorner:B,Selector:L,ToolService:A,ConnectorsAdorner:z,LayoutUndoUnit:l,ConnectionEditUnit:d,ToFrontUnit:b,ToBackUnit:w,ConnectionRouterBase:E,PolylineRouter:I,CascadingRouter:F,SelectionTool:S,ScrollerTool:x,PointerTool:C,ConnectionEditTool:D,RotateUnit:_});}(window.kendo.jQuery);},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("dataviz/diagram/layout.min",["dataviz/diagram/math.min"],e);}(function(){!function(e,t){var n=window.kendo,i=n.dataviz.diagram,o=i.Graph,r=i.Node,a=i.Link,s=n.deepExtend,l=i.Size,c=i.Rect,d=i.Dictionary,u=i.Set,h=i.Graph,f=i.Utils,p=i.Point,m=1e-6,g=Math.PI/180,v=f.contains,_=e.grep,b=n.Class.extend({defaultOptions:{type:"Tree",subtype:"Down",roots:null,animate:!1,limitToView:!1,friction:.9,nodeDistance:50,iterations:300,horizontalSeparation:90,verticalSeparation:50,underneathVerticalTopOffset:15,underneathHorizontalOffset:15,underneathVerticalSeparation:15,grid:{width:1500,offsetX:50,offsetY:50,componentSpacingX:20,componentSpacingY:20},layerSeparation:50,layeredIterations:2,startRadialAngle:0,endRadialAngle:360,radialSeparation:150,radialFirstLevelSeparation:200,keepComponentsInOneRadialLayout:!1,ignoreContainers:!0,layoutContainerChildren:!1,ignoreInvisible:!0,animateTransitions:!1},init:function init(){},gridLayoutComponents:function gridLayoutComponents(e){var t,n,i,o,r,a,s,l,c,d,u,h,m,g,v;if(!e)throw"No components supplied.";for(f.forEach(e,function(e){e.calcBounds();}),e.sort(function(e,t){return t.bounds.width-e.bounds.width;}),t=this.options.grid.width,n=this.options.grid.componentSpacingX,i=this.options.grid.componentSpacingY,o=0,r=this.options.grid.offsetX,a=this.options.grid.offsetY,s=r,l=a,d=[],u=[];e.length>0;){for(s>=t&&(s=r,l+=o+i,o=0),h=e.pop(),this.moveToOffset(h,new p(s,l)),c=0;h.nodes.length>c;c++){u.push(h.nodes[c]);}for(c=0;h.links.length>c;c++){d.push(h.links[c]);}m=h.bounds,g=m.height,(0>=g||isNaN(g))&&(g=0),v=m.width,(0>=v||isNaN(v))&&(v=0),g>=o&&(o=g),s+=v+n;}return{nodes:u,links:d};},moveToOffset:function moveToOffset(e,t){var n,i,o,r,a,s,l,d,u=e.bounds,h=t.x-u.x,f=t.y-u.y;for(n=0;e.nodes.length>n;n++){o=e.nodes[n],r=o.bounds(),0===r.width&&0===r.height&&0===r.x&&0===r.y&&(r=new c(0,0,0,0)),r.x+=h,r.y+=f,o.bounds(r);}for(n=0;e.links.length>n;n++){if(a=e.links[n],a.points){for(s=[],l=a.points,i=0;l.length>i;i++){d=l[i],d.x+=h,d.y+=f,s.push(d);}a.points=s;}}return this.currentHorizontalOffset+=u.width+this.options.grid.offsetX,new p(h,f);},transferOptions:function transferOptions(e){this.options=n.deepExtend({},this.defaultOptions),f.isUndefined(e)||(this.options=n.deepExtend(this.options,e||{}));}}),w=n.Class.extend({init:function init(e){this.nodeMap=new d(),this.shapeMap=new d(),this.nodes=[],this.edges=[],this.edgeMap=new d(),this.finalNodes=[],this.finalLinks=[],this.ignoredConnections=[],this.ignoredShapes=[],this.hyperMap=new d(),this.hyperTree=new o(),this.finalGraph=null,this.diagram=e;},convert:function convert(e){if(f.isUndefined(this.diagram))throw"No diagram to convert.";return this.options=n.deepExtend({ignoreInvisible:!0,ignoreContainers:!0,layoutContainerChildren:!1},e||{}),this.clear(),this._renormalizeShapes(),this._renormalizeConnections(),this.finalNodes=new d(this.nodes),this.finalLinks=new d(this.edges),this.finalGraph=new o(),this.finalNodes.forEach(function(e){this.finalGraph.addNode(e);},this),this.finalLinks.forEach(function(e){this.finalGraph.addExistingLink(e);},this),this.finalGraph;},mapConnection:function mapConnection(e){return this.edgeMap.get(e.id);},mapShape:function mapShape(e){return this.nodeMap.get(e.id);},getEdge:function getEdge(e,t){return f.first(e.links,function(n){return n.getComplement(e)===t;});},clear:function clear(){this.finalGraph=null,this.hyperTree=!this.options.ignoreContainers&&this.options.layoutContainerChildren?new h():null,this.hyperMap=!this.options.ignoreContainers&&this.options.layoutContainerChildren?new d():null,this.nodeMap=new d(),this.shapeMap=new d(),this.nodes=[],this.edges=[],this.edgeMap=new d(),this.ignoredConnections=[],this.ignoredShapes=[],this.finalNodes=[],this.finalLinks=[];},listToRoot:function listToRoot(e){var t=[],n=e.container;if(!n)return t;for(t.push(n);n.parentContainer;){n=n.parentContainer,t.push(n);}return t.reverse(),t;},firstNonIgnorableContainer:function firstNonIgnorableContainer(e){return e.isContainer&&!this._isIgnorableItem(e)?e:e.parentContainer?this.firstNonIgnorableContainer(e.parentContainer):null;},isContainerConnection:function isContainerConnection(e,t){return e.isContainer&&this.isDescendantOf(e,t)?!0:t.isContainer&&this.isDescendantOf(t,e);},isDescendantOf:function isDescendantOf(e,t){var n,i,o,r;if(!e.isContainer)throw"Expecting a container.";if(e===t)return!1;if(v(e.children,t))return!0;for(n=[],i=0,o=e.children.length;o>i;i++){r=e.children[i],r.isContainer&&this.isDescendantOf(r,t)&&n.push(r);}return n.length>0;},isIgnorableItem:function isIgnorableItem(e){return this.options.ignoreInvisible?e.isCollapsed&&this._isVisible(e)?!1:e.isCollapsed||!this._isVisible(e):e.isCollapsed&&!this._isTop(e);},isShapeMapped:function isShapeMapped(e){return e.isCollapsed&&!this._isVisible(e)&&!this._isTop(e);},leastCommonAncestor:function leastCommonAncestor(e,t){var n,i,o,r,a,s;if(!e)throw"Parameter should not be null.";if(!t)throw"Parameter should not be null.";if(!this.hyperTree)throw"No hypertree available.";if(n=this.listToRoot(e),i=this.listToRoot(t),o=null,f.isEmpty(n)||f.isEmpty(i))return this.hyperTree.root.data;for(r=n[0],a=i[0],s=0;r===a&&(o=n[s],s++,!(s>=n.length||s>=i.length));){r=n[s],a=i[s];}return o?_(this.hyperTree.nodes,function(e){return e.data.container===o;}):this.hyperTree.root.data;},_isTop:function _isTop(e){return!e.parentContainer;},_isVisible:function _isVisible(e){return e.visible()?e.parentContainer?this._isVisible(e.parentContainer):e.visible():!1;},_isCollapsed:function _isCollapsed(e){return e.isContainer&&e.isCollapsed?!0:e.parentContainer&&this._isCollapsed(e.parentContainer);},_renormalizeShapes:function _renormalizeShapes(){var e,t,n,i;if(!this.options.ignoreContainers)throw"Containers are not supported yet, but stay tuned.";for(e=0,t=this.diagram.shapes.length;t>e;e++){n=this.diagram.shapes[e],this.options.ignoreInvisible&&!this._isVisible(n)||n.isContainer?this.ignoredShapes.push(n):(i=new r(n.id,n),i.isVirtual=!1,this.nodeMap.add(n.id,i),this.nodes.push(i));}},_renormalizeConnections:function _renormalizeConnections(){var e,t,n,i,o,r,s,l;if(0!==this.diagram.connections.length)for(e=0,t=this.diagram.connections.length;t>e;e++){if(n=this.diagram.connections[e],this.isIgnorableItem(n))this.ignoredConnections.push(n);else if(i=n.sourceConnector?n.sourceConnector.shape:null,o=n.targetConnector?n.targetConnector.shape:null,i&&o){if(!v(this.ignoredShapes,i)||this.shapeMap.containsKey(i)){if(!v(this.ignoredShapes,o)||this.shapeMap.containsKey(o)){if(this.shapeMap.containsKey(i)&&(i=this.shapeMap[i]),this.shapeMap.containsKey(o)&&(o=this.shapeMap[o]),r=this.mapShape(i),s=this.mapShape(o),r===s||this.areConnectedAlready(r,s))this.ignoredConnections.push(n);else{if(null===r||null===s)throw"A shape was not mapped to a node.";if(!this.options.ignoreContainers)throw"Containers are not supported yet, but stay tuned.";r.isVirtual||s.isVirtual?this.ignoredConnections.push(n):(l=new a(r,s,n.id,n),this.edgeMap.add(n.id,l),this.edges.push(l));}}else this.ignoredConnections.push(n);}else this.ignoredConnections.push(n);}else this.ignoredConnections.push(n);}},areConnectedAlready:function areConnectedAlready(e,t){return f.any(this.edges,function(n){return n.source===e&&n.target===t||n.source===t&&n.target===e;});}}),y=b.extend({init:function init(e){var t=this;if(b.fn.init.call(t),f.isUndefined(e))throw"Diagram is not specified.";this.diagram=e;},layout:function layout(e){var t,n,o,r,a,s;if(this.transferOptions(e),t=new w(this.diagram),n=t.convert(e),!n.isEmpty()&&(o=n.getConnectedComponents(),!f.isEmpty(o))){for(r=0;o.length>r;r++){a=o[r],this.layoutGraph(a,e);}return s=this.gridLayoutComponents(o),new i.LayoutState(this.diagram,s);}},layoutGraph:function layoutGraph(e,t){var n,i,o;for(f.isDefined(t)&&this.transferOptions(t),this.graph=e,n=9*this.options.nodeDistance,this.temperature=n,i=this._expectedBounds(),this.width=i.width,this.height=i.height,o=0;this.options.iterations>o;o++){this.refineStage=o>=5*this.options.iterations/6,this.tick(),this.temperature=this.refineStage?n/30:n*(1-o/(2*this.options.iterations));}},tick:function tick(){var e,t,n;for(e=0;this.graph.nodes.length>e;e++){this._repulsion(this.graph.nodes[e]);}for(e=0;this.graph.links.length>e;e++){this._attraction(this.graph.links[e]);}for(e=0;this.graph.nodes.length>e;e++){if(t=this.graph.nodes[e],n=Math.sqrt(t.dx*t.dx+t.dy*t.dy),0===n)return;t.x+=Math.min(n,this.temperature)*t.dx/n,t.y+=Math.min(n,this.temperature)*t.dy/n,this.options.limitToView&&(t.x=Math.min(this.width,Math.max(t.width/2,t.x)),t.y=Math.min(this.height,Math.max(t.height/2,t.y)));}},_shake:function _shake(e){var t=Math.random()*this.options.nodeDistance/4,n=2*Math.random()*Math.PI;e.x+=t*Math.cos(n),e.y-=t*Math.sin(n);},_InverseSquareForce:function _InverseSquareForce(e,t,n){var i,o,r,a,s,l,c;return this.refineStage?(o=t.x-n.x,r=t.y-n.y,a=t.width/2,s=t.height/2,l=n.width/2,c=n.height/2,i=Math.pow(o,2)/Math.pow(a+l+this.options.nodeDistance,2)+Math.pow(r,2)/Math.pow(s+c+this.options.nodeDistance,2)):i=Math.pow(e,2)/Math.pow(this.options.nodeDistance,2),4*i/3;},_SquareForce:function _SquareForce(e,t,n){return 1/this._InverseSquareForce(e,t,n);},_repulsion:function _repulsion(e){e.dx=0,e.dy=0,f.forEach(this.graph.nodes,function(t){var n,i,o,r;if(t!==e){for(;e.x===t.x&&e.y===t.y;){this._shake(t);}n=e.x-t.x,i=e.y-t.y,o=Math.sqrt(n*n+i*i),r=2*this._SquareForce(o,e,t),e.dx+=n/o*r,e.dy+=i/o*r;}},this);},_attraction:function _attraction(e){var t,n,i,o,r,a,s=e.target,l=e.source;if(l!==s){for(;l.x===s.x&&l.y===s.y;){this._shake(s);}t=l.x-s.x,n=l.y-s.y,i=Math.sqrt(t*t+n*n),o=5*this._InverseSquareForce(i,l,s),r=t/i*o,a=n/i*o,s.dx+=r,s.dy+=a,l.dx-=r,l.dy-=a;}},_expectedBounds:function _expectedBounds(){var e,t,n,i,o,r=this.graph.nodes.length,a=1.5,s=4;return 0===r?e:(e=f.fold(this.graph.nodes,function(e,t){var n=t.width*t.height;return n>0?e+=Math.sqrt(n):0;},0,this),t=e/r,n=t*Math.ceil(Math.sqrt(r)),i=n*Math.sqrt(a),o=n/Math.sqrt(a),{width:i*s,height:o*s});}}),k=n.Class.extend({init:function init(e){this.center=null,this.options=e;},layout:function layout(e,t){if(this.graph=e,this.graph.nodes&&0!==this.graph.nodes.length){if(!v(this.graph.nodes,t))throw"The given root is not in the graph.";this.center=t,this.graph.cacheRelationships(),this.layoutSwitch();}},layoutLeft:function layoutLeft(e){var t,n,i,o,r,a,s,c;for(this.setChildrenDirection(this.center,"Left",!1),this.setChildrenLayout(this.center,"Default",!1),t=0,n=0,o=0;e.length>o;o++){r=e[o],r.TreeDirection="Left",a=this.measure(r,l.Empty),n=Math.max(n,a.Width),t+=a.height+this.options.verticalSeparation;}for(t-=this.options.verticalSeparation,s=this.center.x-this.options.horizontalSeparation,i=this.center.y+(this.center.height-t)/2,o=0;e.length>o;o++){r=e[o],c=new p(s-r.Size.width,i),this.arrange(r,c),i+=r.Size.height+this.options.verticalSeparation;}},layoutRight:function layoutRight(e){var t,n,i,o,r,a,s,c;for(this.setChildrenDirection(this.center,"Right",!1),this.setChildrenLayout(this.center,"Default",!1),t=0,n=0,o=0;e.length>o;o++){r=e[o],r.TreeDirection="Right",a=this.measure(r,l.Empty),n=Math.max(n,a.Width),t+=a.height+this.options.verticalSeparation;}for(t-=this.options.verticalSeparation,s=this.center.x+this.options.horizontalSeparation+this.center.width,i=this.center.y+(this.center.height-t)/2,o=0;e.length>o;o++){r=e[o],c=new p(s,i),this.arrange(r,c),i+=r.Size.height+this.options.verticalSeparation;}},layoutUp:function layoutUp(e){var t,n,i,o,r,a,s;for(this.setChildrenDirection(this.center,"Up",!1),this.setChildrenLayout(this.center,"Default",!1),t=0,o=0;e.length>o;o++){i=e[o],i.TreeDirection="Up",r=this.measure(i,l.Empty),t+=r.width+this.options.horizontalSeparation;}for(t-=this.options.horizontalSeparation,a=this.center.x+this.center.width/2-t/2,o=0;e.length>o;o++){i=e[o],n=this.center.y-this.options.verticalSeparation-i.Size.height,s=new p(a,n),this.arrange(i,s),a+=i.Size.width+this.options.horizontalSeparation;}},layoutDown:function layoutDown(e){var t,n,i,o,r,a,s;for(this.setChildrenDirection(this.center,"Down",!1),this.setChildrenLayout(this.center,"Default",!1),i=0,n=0;e.length>n;n++){t=e[n],t.treeDirection="Down",r=this.measure(t,l.Empty),i+=r.width+this.options.horizontalSeparation;}for(i-=this.options.horizontalSeparation,a=this.center.x+this.center.width/2-i/2,o=this.center.y+this.options.verticalSeparation+this.center.height,n=0;e.length>n;n++){t=e[n],s=new p(a,o),this.arrange(t,s),a+=t.Size.width+this.options.horizontalSeparation;}},layoutRadialTree:function layoutRadialTree(){var e,t;if(this.setChildrenDirection(this.center,"Radial",!1),this.setChildrenLayout(this.center,"Default",!1),this.previousRoot=null,e=this.options.startRadialAngle*g,t=this.options.endRadialAngle*g,e>=t)throw"Final angle should not be less than the start angle.";this.maxDepth=0,this.origin=new p(this.center.x,this.center.y),this.calculateAngularWidth(this.center,0),this.maxDepth>0&&this.radialLayout(this.center,this.options.radialFirstLevelSeparation,e,t),this.center.Angle=t-e;},tipOverTree:function tipOverTree(e,t){var n,i,o,r,a,s,c;for(f.isUndefined(t)&&(t=0),this.setChildrenDirection(this.center,"Down",!1),this.setChildrenLayout(this.center,"Default",!1),this.setChildrenLayout(this.center,"Underneath",!1,t),n=0,r=0;e.length>r;r++){o=e[r],o.TreeDirection="Down",a=this.measure(o,l.Empty),n+=a.width+this.options.horizontalSeparation;}for(n-=this.options.horizontalSeparation,n-=e[e.length-1].width,n+=e[e.length-1].associatedShape.bounds().width,s=this.center.x+this.center.width/2-n/2,i=this.center.y+this.options.verticalSeparation+this.center.height,r=0;e.length>r;r++){o=e[r],c=new p(s,i),this.arrange(o,c),s+=o.Size.width+this.options.horizontalSeparation;}},calculateAngularWidth:function calculateAngularWidth(e,t){var n,i,o,r,a,s,l;if(t>this.maxDepth&&(this.maxDepth=t),n=0,i=1e3,o=1e3,r=0===t?0:Math.sqrt(i*i+o*o)/t,e.children.length>0){for(a=0,s=e.children.length;s>a;a++){l=e.children[a],n+=this.calculateAngularWidth(l,t+1);}n=Math.max(r,n);}else n=r;return e.sectorAngle=n,n;},sortChildren:function sortChildren(e){var t,n,i,o,r,a,s,l,c,d,u,h=0;if(e.parents.length>1)throw"Node is not part of a tree.";if(n=e.parents[0],n&&(i=new p(n.x,n.y),o=new p(e.x,e.y),h=this.normalizeAngle(Math.atan2(i.y-o.y,i.x-o.x))),r=e.children.length,0===r)return null;for(a=[],s=[],t=0;r>t;++t){l=e.children[t],c=new p(l.x,l.y),s[t]=t,a[t]=this.normalizeAngle(-h+Math.atan2(c.y-c.y,c.x-c.x));}for(f.bisort(a,s),d=[],u=e.children,t=0;r>t;++t){d.push(u[s[t]]);}return d;},normalizeAngle:function normalizeAngle(e){for(;e>2*Math.PI;){e-=2*Math.PI;}for(;0>e;){e+=2*Math.PI;}return e;},radialLayout:function radialLayout(e,t,n,i){var o,r,a,s,l,c=i-n,d=c/2,u=e.sectorAngle,h=0,f=this.sortChildren(e);for(o=0,r=f.length;r>o;o++){a=f[o],s=a,l=s.sectorAngle/u,a.children.length>0&&this.radialLayout(a,t+this.options.radialSeparation,n+h*c,n+(h+l)*c),this.setPolarLocation(a,t,n+h*c+l*d),s.angle=l*c,h+=l;}},setPolarLocation:function setPolarLocation(e,t,n){e.x=this.origin.x+t*Math.cos(n),e.y=this.origin.y+t*Math.sin(n),e.BoundingRectangle=new c(e.x,e.y,e.width,e.height);},setChildrenDirection:function setChildrenDirection(e,t,n){var i=e.treeDirection;this.graph.depthFirstTraversal(e,function(e){e.treeDirection=t;}),n||(e.treeDirection=i);},setChildrenLayout:function setChildrenLayout(e,t,n,i){f.isUndefined(i)&&(i=0);var o=e.childrenLayout;i>0?(this.graph.assignLevels(e),this.graph.depthFirstTraversal(e,function(e){e.level>=i+1&&(e.childrenLayout=t);})):(this.graph.depthFirstTraversal(e,function(e){e.childrenLayout=t;}),n||(e.childrenLayout=o));},measure:function measure(e,t){var n,i,o,r,a,s,c,d=0,u=0,h=new l(0,0);if(!e)throw"";if(i=e.associatedShape.bounds(),o=i.width,r=i.height,1!==e.parents.length)throw"Node not in a spanning tree.";if(a=e.parents[0],"Undefined"===e.treeDirection&&(e.treeDirection=a.treeDirection),f.isEmpty(e.children))h=new l(Math.abs(o)<m?50:o,Math.abs(r)<m?25:r);else if(1===e.children.length){switch(e.treeDirection){case"Radial":n=this.measure(e.children[0],t),d=o+this.options.radialSeparation*Math.cos(e.AngleToParent)+n.width,u=r+Math.abs(this.options.radialSeparation*Math.sin(e.AngleToParent))+n.height;break;case"Left":case"Right":switch(e.childrenLayout){case"TopAlignedWithParent":break;case"BottomAlignedWithParent":break;case"Underneath":n=this.measure(e.children[0],t),d=o+n.width+this.options.underneathHorizontalOffset,u=r+this.options.underneathVerticalTopOffset+n.height;break;case"Default":n=this.measure(e.children[0],t),d=o+this.options.horizontalSeparation+n.width,u=Math.max(r,n.height);break;default:throw"Unhandled TreeDirection in the Radial layout measuring.";}break;case"Up":case"Down":switch(e.childrenLayout){case"TopAlignedWithParent":case"BottomAlignedWithParent":break;case"Underneath":n=this.measure(e.children[0],t),d=Math.max(o,n.width+this.options.underneathHorizontalOffset),u=r+this.options.underneathVerticalTopOffset+n.height;break;case"Default":n=this.measure(e.children[0],t),u=r+this.options.verticalSeparation+n.height,d=Math.max(o,n.width);break;default:throw"Unhandled TreeDirection in the Down layout measuring.";}break;default:throw"Unhandled TreeDirection in the layout measuring.";}h=new l(d,u);}else{switch(e.treeDirection){case"Left":case"Right":switch(e.childrenLayout){case"TopAlignedWithParent":case"BottomAlignedWithParent":break;case"Underneath":for(d=o,u=r+this.options.underneathVerticalTopOffset,s=0;e.children.length>s;s++){c=e.children[s],n=this.measure(c,t),d=Math.max(d,n.width+this.options.underneathHorizontalOffset),u+=n.height+this.options.underneathVerticalSeparation;}u-=this.options.underneathVerticalSeparation;break;case"Default":for(d=o,u=0,s=0;e.children.length>s;s++){c=e.children[s],n=this.measure(c,t),d=Math.max(d,o+this.options.horizontalSeparation+n.width),u+=n.height+this.options.verticalSeparation;}u-=this.options.verticalSeparation;break;default:throw"Unhandled TreeDirection in the Right layout measuring.";}break;case"Up":case"Down":switch(e.childrenLayout){case"TopAlignedWithParent":case"BottomAlignedWithParent":break;case"Underneath":for(d=o,u=r+this.options.underneathVerticalTopOffset,s=0;e.children.length>s;s++){c=e.children[s],n=this.measure(c,t),d=Math.max(d,n.width+this.options.underneathHorizontalOffset),u+=n.height+this.options.underneathVerticalSeparation;}u-=this.options.underneathVerticalSeparation;break;case"Default":for(d=0,u=0,s=0;e.children.length>s;s++){c=e.children[s],n=this.measure(c,t),d+=n.width+this.options.horizontalSeparation,u=Math.max(u,n.height+this.options.verticalSeparation+r);}d-=this.options.horizontalSeparation;break;default:throw"Unhandled TreeDirection in the Down layout measuring.";}break;default:throw"Unhandled TreeDirection in the layout measuring.";}h=new l(d,u);}return e.SectorAngle=Math.sqrt(d*d/4+u*u/4),e.Size=h,h;},arrange:function arrange(e,t){var n,i,o,r,a,s,l,d,u=e.associatedShape.bounds(),h=u.width,g=u.height;if(f.isEmpty(e.children))e.x=t.x,e.y=t.y,e.BoundingRectangle=new c(t.x,t.y,h,g);else switch(e.treeDirection){case"Left":switch(e.childrenLayout){case"TopAlignedWithParent":case"BottomAlignedWithParent":break;case"Underneath":for(d=t,e.x=d.x,e.y=d.y,e.BoundingRectangle=new c(e.x,e.y,e.width,e.height),l=t.y+g+this.options.underneathVerticalTopOffset,n=0;r.children.length>n;n++){r=r.children[n],s=d.x-r.associatedShape.width-this.options.underneathHorizontalOffset,i=new p(s,l),this.arrange(r,i),l+=r.Size.height+this.options.underneathVerticalSeparation;}break;case"Default":for(d=new p(t.x+e.Size.width-h,t.y+(e.Size.height-g)/2),e.x=d.x,e.y=d.y,e.BoundingRectangle=new c(e.x,e.y,e.width,e.height),s=d.x-this.options.horizontalSeparation,l=t.y,n=0;e.children.length>n;n++){r=e.children[n],i=new p(s-r.Size.width,l),this.arrange(r,i),l+=r.Size.height+this.options.verticalSeparation;}break;default:throw"Unsupported TreeDirection";}break;case"Right":switch(e.childrenLayout){case"TopAlignedWithParent":case"BottomAlignedWithParent":break;case"Underneath":for(d=t,e.x=d.x,e.y=d.y,e.BoundingRectangle=new c(e.x,e.y,e.width,e.height),s=t.x+h+this.options.underneathHorizontalOffset,l=t.y+g+this.options.underneathVerticalTopOffset,n=0;e.children.length>n;n++){r=e.children[n],i=new p(s,l),this.arrange(r,i),l+=r.Size.height+this.options.underneathVerticalSeparation;}break;case"Default":for(d=new p(t.x,t.y+(e.Size.height-g)/2),e.x=d.x,e.y=d.y,e.BoundingRectangle=new c(e.x,e.y,e.width,e.height),s=t.x+h+this.options.horizontalSeparation,l=t.y,n=0;e.children.length>n;n++){r=e.children[n],i=new p(s,l),this.arrange(r,i),l+=r.Size.height+this.options.verticalSeparation;}break;default:throw"Unsupported TreeDirection";}break;case"Up":if(d=new p(t.x+(e.Size.width-h)/2,t.y+e.Size.height-g),e.x=d.x,e.y=d.y,e.BoundingRectangle=new c(e.x,e.y,e.width,e.height),Math.abs(d.x-t.x)<m){for(a=0,n=0;e.children.length>n;n++){o=e.children[n],a+=o.Size.width+this.options.horizontalSeparation;}a-=this.options.horizontalSeparation,s=t.x+(h-a)/2;}else s=t.x;for(n=0;e.children.length>n;n++){r=e.children[n],l=d.y-this.options.verticalSeparation-r.Size.height,i=new p(s,l),this.arrange(r,i),s+=r.Size.width+this.options.horizontalSeparation;}break;case"Down":switch(e.childrenLayout){case"TopAlignedWithParent":case"BottomAlignedWithParent":break;case"Underneath":for(d=t,e.x=d.x,e.y=d.y,e.BoundingRectangle=new c(e.x,e.y,e.width,e.height),s=t.x+this.options.underneathHorizontalOffset,l=t.y+g+this.options.underneathVerticalTopOffset,n=0;e.children.length>n;n++){r=e.children[n],i=new p(s,l),this.arrange(r,i),l+=r.Size.height+this.options.underneathVerticalSeparation;}break;case"Default":if(d=new p(t.x+(e.Size.width-h)/2,t.y),e.x=d.x,e.y=d.y,e.BoundingRectangle=new c(e.x,e.y,e.width,e.height),Math.abs(d.x-t.x)<m){for(a=0,n=0;e.children.length>n;n++){o=e.children[n],a+=o.Size.width+this.options.horizontalSeparation;}a-=this.options.horizontalSeparation,s=t.x+(h-a)/2;}else s=t.x;for(n=0;e.children.length>n;n++){r=e.children[n],l=d.y+this.options.verticalSeparation+g,i=new p(s,l),this.arrange(r,i),s+=r.Size.width+this.options.horizontalSeparation;}break;default:throw"Unsupported TreeDirection";}break;case"None":break;default:throw"Unsupported TreeDirection";}},layoutSwitch:function layoutSwitch(){var e,t,n,i,o,r;if(this.center&&!f.isEmpty(this.center.children))switch(e=this.options.subtype,f.isUndefined(e)&&(e="Down"),r=this.center.children,e.toLowerCase()){case"radial":case"radialtree":this.layoutRadialTree();break;case"mindmaphorizontal":case"mindmap":t=this.center.children,1===this.center.children.length?this.layoutRight(t):(o=r.length/2,n=_(this.center.children,function(e){return f.indexOf(r,e)<o;}),i=_(this.center.children,function(e){return f.indexOf(r,e)>=o;}),this.layoutLeft(n),this.layoutRight(i));break;case"mindmapvertical":t=this.center.children,1===this.center.children.length?this.layoutDown(t):(o=r.length/2,n=_(this.center.children,function(e){return f.indexOf(r,e)<o;}),i=_(this.center.children,function(e){return f.indexOf(r,e)>=o;}),this.layoutUp(n),this.layoutDown(i));break;case"right":this.layoutRight(this.center.children);break;case"left":this.layoutLeft(this.center.children);break;case"up":case"bottom":this.layoutUp(this.center.children);break;case"down":case"top":this.layoutDown(this.center.children);break;case"tipover":case"tipovertree":if(0>this.options.tipOverTreeStartLevel)throw"The tip-over level should be a positive integer.";this.tipOverTree(this.center.children,this.options.tipOverTreeStartLevel);break;case"undefined":case"none":}}}),x=b.extend({init:function init(e){var t=this;if(b.fn.init.call(t),f.isUndefined(e))throw"No diagram specified.";this.diagram=e;},layout:function layout(e){var t,n;return this.transferOptions(e),t=new w(this.diagram),this.graph=t.convert(),n=this.layoutComponents(),new i.LayoutState(this.diagram,n);},layoutComponents:function layoutComponents(){var e,t,n,i,o,r,a,s;if(!this.graph.isEmpty()&&(e=this.graph.getConnectedComponents(),!f.isEmpty(e))){for(t=new k(this.options),n=[],i=0;e.length>i;i++){if(o=e[i],r=this.getTree(o),!r)throw"Failed to find a spanning tree for the component.";a=r.root,s=r.tree,t.layout(s,a),n.push(s);}return this.gridLayoutComponents(n);}},getTree:function getTree(e){var t,n,i,o,r,a=null;if(this.options.roots&&this.options.roots.length>0)for(t=0,n=e.nodes.length;n>t;t++){for(i=e.nodes[t],o=0;this.options.roots.length>o;o++){if(r=this.options.roots[o],r===i.associatedShape){a=i;break;}}}if(!a&&(a=e.root(),!a))throw"Unable to find a root for the tree.";return this.getTreeForRoot(e,a);},getTreeForRoot:function getTreeForRoot(e,t){var n=e.getSpanningTree(t);return f.isUndefined(n)||n.isEmpty()?null:{tree:n,root:n.root};}}),C=b.extend({init:function init(e){var t=this;if(b.fn.init.call(t),f.isUndefined(e))throw"Diagram is not specified.";this.diagram=e;},layout:function layout(e){var t,n,o,r,a,s;if(this.transferOptions(e),t=new w(this.diagram),n=t.convert(e),!n.isEmpty()&&(o=n.getConnectedComponents(),!f.isEmpty(o))){for(r=0;o.length>r;r++){a=o[r],this.layoutGraph(a,e);}return s=this.gridLayoutComponents(o),new i.LayoutState(this.diagram,s);}},_initRuntimeProperties:function _initRuntimeProperties(){var e,t;for(e=0;this.graph.nodes.length>e;e++){t=this.graph.nodes[e],t.layer=-1,t.downstreamLinkCount=0,t.upstreamLinkCount=0,t.isVirtual=!1,t.uBaryCenter=0,t.dBaryCenter=0,t.upstreamPriority=0,t.downstreamPriority=0,t.gridPosition=0;}},_prepare:function _prepare(e){var t,n,i,o,r,a,s,l,c,u,h,p=[],m=new d(),g=0;for(f.forEach(e.nodes,function(e){0===e.incoming.length&&(m.set(e,0),p.push(e));});p.length>0;){for(r=p.shift(),t=0;r.outgoing.length>t;t++){i=r.outgoing[t],a=i.target,o=m.containsKey(a)?Math.max(m.get(r)+1,m.get(a)):m.get(r)+1,m.set(a,o),o>g&&(g=o),v(p,a)||p.push(a);}}for(s=m.keys(),s.sort(function(e,t){var n=m.get(e),i=m.get(t);return f.sign(i-n);}),l=0;s.length>l;++l){if(c=s[l],u=Number.MAX_VALUE,0!==c.outgoing.length){for(n=0;c.outgoing.length>n;++n){i=c.outgoing[n],u=Math.min(u,m.get(i.target));}u>1&&m.set(c,u-1);}}for(this.layers=[],t=0;g+1>t;t++){h=[],h.linksTo={},this.layers.push(h);}for(m.forEach(function(e,t){e.layer=t,this.layers[t].push(e);},this),n=0;this.layers.length>n;n++){for(h=this.layers[n],t=0;h.length>t;t++){h[t].gridPosition=t;}}},layoutGraph:function layoutGraph(e,t){if(f.isUndefined(e))throw"No graph given or graph analysis of the diagram failed.";f.isDefined(t)&&this.transferOptions(t),this.graph=e,e.setItemIndices();var n=e.makeAcyclic();this._initRuntimeProperties(),this._prepare(e,t),this._dummify(),this._optimizeCrossings(),this._swapPairs(),this.arrangeNodes(),this._moveThingsAround(),this._dedummify(),f.forEach(n,function(e){e.points&&e.points.reverse();});},setMinDist:function setMinDist(e,t,n){var i=e.layer,o=e.layerIndex;this.minDistances[i][o]=n;},getMinDist:function getMinDist(e,t){var n,i=0,o=e.layerIndex,r=t.layerIndex,a=e.layer,s=Math.min(o,r),l=Math.max(o,r);for(n=s;l>n;++n){i+=this.minDistances[a][n];}return i;},placeLeftToRight:function placeLeftToRight(e){var t,n,i,o,r,a,s,l,c,u,h=new d();for(i=0;this.layers.length>i;++i){if(o=e[i]){for(t=0;o.length>t;t++){n=o[t],h.containsKey(n)||this.placeLeft(n,h,i);}for(r=Number.POSITIVE_INFINITY,t=0;o.length>t;t++){n=o[t],a=this.rightSibling(n),a&&this.nodeLeftClass.get(a)!==i&&(r=Math.min(r,h.get(a)-h.get(n)-this.getMinDist(n,a)));}if(r===Number.POSITIVE_INFINITY){for(s=[],t=0;o.length>t;t++){for(n=o[t],l=[],f.addRange(l,this.upNodes.get(n)),f.addRange(l,this.downNodes.get(n)),c=0;l.length>c;c++){u=l[c],this.nodeLeftClass.get(u)<i&&s.push(h.get(u)-h.get(n));}}s.sort(),r=0===s.length?0:s.length%2===1?s[this.intDiv(s.length,2)]:(s[this.intDiv(s.length,2)-1]+s[this.intDiv(s.length,2)])/2;}for(t=0;o.length>t;t++){n=o[t],h.set(n,h.get(n)+r);}}}return h;},placeRightToLeft:function placeRightToLeft(e){var t,n,i,o,r,a,s,l,c,u,h=new d();for(i=0;this.layers.length>i;++i){if(o=e[i]){for(t=0;o.length>t;t++){n=o[t],h.containsKey(n)||this.placeRight(n,h,i);}for(r=Number.NEGATIVE_INFINITY,t=0;o.length>t;t++){n=o[t],a=this.leftSibling(n),a&&this.nodeRightClass.get(a)!==i&&(r=Math.max(r,h.get(a)-h.get(n)+this.getMinDist(a,n)));}if(r===Number.NEGATIVE_INFINITY){for(s=[],t=0;o.length>t;t++){for(n=o[t],l=[],f.addRange(l,this.upNodes.get(n)),f.addRange(l,this.downNodes.get(n)),c=0;l.length>c;c++){u=l[c],this.nodeRightClass.get(u)<i&&s.push(h.get(n)-h.get(u));}}s.sort(),r=0===s.length?0:s.length%2===1?s[this.intDiv(s.length,2)]:(s[this.intDiv(s.length,2)-1]+s[this.intDiv(s.length,2)])/2;}for(t=0;o.length>t;t++){n=o[t],h.set(n,h.get(n)+r);}}}return h;},_getLeftWing:function _getLeftWing(){var e={value:null},t=this.computeClasses(e,1);return this.nodeLeftClass=e.value,t;},_getRightWing:function _getRightWing(){var e={value:null},t=this.computeClasses(e,-1);return this.nodeRightClass=e.value,t;},computeClasses:function computeClasses(e,t){var n,i,o,r,a,s,l,c,u,h=0,f=e.value=new d();for(n=0;this.layers.length>n;++n){for(h=n,i=this.layers[n],o=1===t?0:i.length-1;o>=0&&i.length>o;o+=t){if(r=i[o],f.containsKey(r))h=f.get(r);else if(f.set(r,h),r.isVirtual)for(a=this._nodesInLink(r),s=0;a.length>s;s++){l=a[s],f.set(l,h);}}}for(c=[],u=0;this.layers.length>u;u++){c.push(null);}return f.forEach(function(e,t){null===c[t]&&(c[t]=[]),c[t].push(e);}),c;},_isVerticalLayout:function _isVerticalLayout(){return"up"===this.options.subtype.toLowerCase()||"down"===this.options.subtype.toLowerCase()||"vertical"===this.options.subtype.toLowerCase();},_isHorizontalLayout:function _isHorizontalLayout(){return"right"===this.options.subtype.toLowerCase()||"left"===this.options.subtype.toLowerCase()||"horizontal"===this.options.subtype.toLowerCase();},_isIncreasingLayout:function _isIncreasingLayout(){return"right"===this.options.subtype.toLowerCase()||"down"===this.options.subtype.toLowerCase();},_moveThingsAround:function _moveThingsAround(){function e(e,t){var n,i,o=Number.MIN_VALUE;for(n=0;e.length>n;++n){i=e[n],o=t._isVerticalLayout()?Math.max(o,i.height):Math.max(o,i.width);}return o;}var t,n,i,o,r,a,s,l,c,u,h,p,m,g,v,_,b,w,y,k,x,C,S,T,D,A,E;for(n=0;this.layers.length>n;++n){o=this.layers[n],o.sort(this._gridPositionComparer);}for(this.minDistances=[],n=0;this.layers.length>n;++n){for(o=this.layers[n],this.minDistances[n]=[],r=0;o.length>r;++r){i=o[r],i.layerIndex=r,this.minDistances[n][r]=this.options.nodeDistance,o.length-1>r&&(this.minDistances[n][r]+=this._isVerticalLayout()?(i.width+o[r+1].width)/2:(i.height+o[r+1].height)/2);}}for(this.downNodes=new d(),this.upNodes=new d(),f.forEach(this.graph.nodes,function(e){this.downNodes.set(e,[]),this.upNodes.set(e,[]);},this),f.forEach(this.graph.links,function(e){var t=e.source,n=e.target,i=null,o=null;t.layer>n.layer?(i=e.source,o=e.target):(o=e.source,i=e.target),this.downNodes.get(o).push(i),this.upNodes.get(i).push(o);},this),this.downNodes.forEachValue(function(e){e.sort(this._gridPositionComparer);},this),this.upNodes.forEachValue(function(e){e.sort(this._gridPositionComparer);},this),n=0;this.layers.length-1>n;++n){for(o=this.layers[n],a=0;o.length-1>a;a++){if(s=o[a],s.isVirtual&&(l=this.downNodes.get(s)[0],l.isVirtual))for(r=a+1;o.length>r;++r){i=o[r],i.isVirtual&&(c=this.downNodes.get(i)[0],c.isVirtual&&l.gridPosition>c.gridPosition&&(u=l.gridPosition,l.gridPosition=c.gridPosition,c.gridPosition=u,h=l.layerIndex,p=c.layerIndex,this.layers[n+1][h]=c,this.layers[n+1][p]=l,l.layerIndex=p,c.layerIndex=h));}}}for(m=this._getLeftWing(),g=this._getRightWing(),v=this.placeLeftToRight(m),_=this.placeRightToLeft(g),b=new d(),f.forEach(this.graph.nodes,function(e){b.set(e,(v.get(e)+_.get(e))/2);}),w=new d(),y=new d(),n=0;this.layers.length>n;++n){for(o=this.layers[n],k=-1,x=-1,r=0;o.length>r;++r){i=o[r],w.set(i,0),y.set(i,!1),i.isVirtual&&(-1===k?k=r:k===r-1?k=r:(x=r,w.set(o[k],0),b.get(i)-b.get(o[k])===this.getMinDist(o[k],i)?y.set(o[k],!0):y.set(o[k],!1),k=r));}}for(C=[1,-1],f.forEach(C,function(e){var n,i,o,r,a,s,l,c=1===e?0:this.layers.length-1;for(n=c;n>=0&&this.layers.length>n;n+=e){if(i=this.layers[n],o=this._firstVirtualNode(i),r=null,a=null,-1!==o)for(r=i[o],a=[],t=0;o>t;t++){a.push(i[t]);}else r=null,a=i;if(a.length>0){for(this._sequencer(b,null,r,e,a),t=0;a.length-1>t;++t){this.setMinDist(a[t],a[t+1],b.get(a[t+1])-b.get(a[t]));}r&&this.setMinDist(a[a.length-1],r,b.get(r)-b.get(a[a.length-1]));}for(;r;){if(s=this.nextVirtualNode(i,r)){if(w.get(r)===e){for(o=r.layerIndex,l=s.layerIndex,a=[],t=o+1;l>t;t++){a.push(i[t]);}a.length>0&&this._sequencer(b,r,s,e,a),y.set(r,!0);}}else{for(o=r.layerIndex,a=[],t=o+1;i.length>t;t++){a.push(i[t]);}if(a.length>0){for(this._sequencer(b,r,null,e,a),t=0;a.length-1>t;++t){this.setMinDist(a[t],a[t+1],b.get(a[t+1])-b.get(a[t]));}this.setMinDist(r,a[0],b.get(a[0])-b.get(r));}}r=s;}this.adjustDirections(n,e,w,y);}},this),S=this._isIncreasingLayout()?0:this.layers.length-1,T=function T(e,t){return t._isIncreasingLayout()?t.layers.length>e:e>=0;},D=this._isIncreasingLayout()?1:-1,A=0,t=S;T(t,this);t+=D){for(o=this.layers[t],E=e(o,this),r=0;o.length>r;++r){i=o[r],this._isVerticalLayout()?(i.x=b.get(i),i.y=A+E/2):(i.x=A+E/2,i.y=b.get(i));}A+=this.options.layerSeparation+E;}},adjustDirections:function adjustDirections(e,t,n,i){var o,r,a,s,l,c,d,u,h,f,p,m,g,v;if(!(0>e+t||e+t>=this.layers.length))for(o=null,r=null,a=this.layers[e+t],s=0;a.length>s;++s){if(l=a[s],l.isVirtual&&(c=this.getNeighborOnLayer(l,e),c.isVirtual)){if(o){for(d=i.get(r),u=this.layers[e],h=r.layerIndex,f=c.layerIndex,p=h+1;f>p;++p){u[p].isVirtual&&(d=d&&i.get(u[p]));}if(d)for(n.set(o,t),m=o.layerIndex,g=l.layerIndex,v=m+1;g>v;++v){a[v].isVirtual&&n.set(a[v],t);}}o=l,r=c;}}},getNeighborOnLayer:function getNeighborOnLayer(e,t){var n=this.upNodes.get(e)[0];return n.layer===t?n:(n=this.downNodes.get(e)[0],n.layer===t?n:null);},_sequencer:function _sequencer(e,t,n,i,o){if(1===o.length&&this._sequenceSingle(e,t,n,i,o[0]),o.length>1){var r=o.length,a=this.intDiv(r,2);this._sequencer(e,t,n,i,o.slice(0,a)),this._sequencer(e,t,n,i,o.slice(a)),this.combineSequences(e,t,n,i,o);}},_sequenceSingle:function _sequenceSingle(e,t,n,i,o){var r=-1===i?this.downNodes.get(o):this.upNodes.get(o),a=r.length;0!==a&&(a%2===1?e.set(o,e.get(r[this.intDiv(a,2)])):e.set(o,(e.get(r[this.intDiv(a,2)-1])+e.get(r[this.intDiv(a,2)]))/2),t&&e.set(o,Math.max(e.get(o),e.get(t)+this.getMinDist(t,o))),n&&e.set(o,Math.min(e.get(o),e.get(n)-this.getMinDist(o,n))));},combineSequences:function combineSequences(e,t,n,i,o){var r,a,s,l,c,d,u,h,f,p,m=o.length,g=this.intDiv(m,2),v=[];for(r=0;g>r;++r){for(a=0,l=-1===i?this.downNodes.get(o[r]):this.upNodes.get(o[r]),s=0;l.length>s;++s){c=l[s],e.get(c)>=e.get(o[r])?a++:(a--,v.push({k:e.get(c)+this.getMinDist(o[r],o[g-1]),v:2}));}v.push({k:e.get(o[r])+this.getMinDist(o[r],o[g-1]),v:a});}for(t&&v.push({k:e.get(t)+this.getMinDist(t,o[g-1]),v:Number.MAX_VALUE}),v.sort(this._positionDescendingComparer),u=[],r=g;m>r;++r){for(a=0,l=-1===i?this.downNodes.get(o[r]):this.upNodes.get(o[r]),s=0;l.length>s;++s){c=l[s],e.get(c)<=e.get(o[r])?a++:(a--,u.push({k:e.get(c)-this.getMinDist(o[r],o[g]),v:2}));}u.push({k:e.get(o[r])-this.getMinDist(o[r],o[g]),v:a});}for(n&&u.push({k:e.get(n)-this.getMinDist(n,o[g]),v:Number.MAX_VALUE}),u.sort(this._positionAscendingComparer),h=0,f=0,p=this.getMinDist(o[g-1],o[g]);e.get(o[g])-e.get(o[g-1])<p;){if(f>h){if(0===v.length){e.set(o[g-1],e.get(o[g])-p);break;}d=v.shift(),h+=d.v,e.set(o[g-1],d.k),e.set(o[g-1],Math.max(e.get(o[g-1]),e.get(o[g])-p));}else{if(0===u.length){e.set(o[g],e.get(o[g-1])+p);break;}d=u.shift(),f+=d.v,e.set(o[g],d.k),e.set(o[g],Math.min(e.get(o[g]),e.get(o[g-1])+p));}}for(r=g-2;r>=0;r--){e.set(o[r],Math.min(e.get(o[r]),e.get(o[g-1])-this.getMinDist(o[r],o[g-1])));}for(r=g+1;m>r;r++){e.set(o[r],Math.max(e.get(o[r]),e.get(o[g])+this.getMinDist(o[r],o[g])));}},placeLeft:function placeLeft(e,t,n){var i=Number.NEGATIVE_INFINITY;f.forEach(this._getComposite(e),function(e){var o=this.leftSibling(e);o&&this.nodeLeftClass.get(o)===this.nodeLeftClass.get(e)&&(t.containsKey(o)||this.placeLeft(o,t,n),i=Math.max(i,t.get(o)+this.getMinDist(o,e)));},this),i===Number.NEGATIVE_INFINITY&&(i=0),f.forEach(this._getComposite(e),function(e){t.set(e,i);});},placeRight:function placeRight(e,t,n){var i=Number.POSITIVE_INFINITY;f.forEach(this._getComposite(e),function(e){var o=this.rightSibling(e);o&&this.nodeRightClass.get(o)===this.nodeRightClass.get(e)&&(t.containsKey(o)||this.placeRight(o,t,n),i=Math.min(i,t.get(o)-this.getMinDist(e,o)));},this),i===Number.POSITIVE_INFINITY&&(i=0),f.forEach(this._getComposite(e),function(e){t.set(e,i);});},leftSibling:function leftSibling(e){var t=this.layers[e.layer],n=e.layerIndex;return 0===n?null:t[n-1];},rightSibling:function rightSibling(e){var t=this.layers[e.layer],n=e.layerIndex;return n===t.length-1?null:t[n+1];},_getComposite:function _getComposite(e){return e.isVirtual?this._nodesInLink(e):[e];},arrangeNodes:function arrangeNodes(){var e,t,n,i,o,r,a,s;for(t=0;this.layers.length>t;t++){for(i=this.layers[t],n=0;i.length>n;n++){o=i[n],o.upstreamPriority=o.upstreamLinkCount,o.downstreamPriority=o.downstreamLinkCount;}}for(r=2,a=0;r>a;a++){for(e=this.layers.length-1;e>=1;e--){this.layoutLayer(!1,e);}for(e=0;this.layers.length-1>e;e++){this.layoutLayer(!0,e);}}for(s=Number.MAX_VALUE,t=0;this.layers.length>t;t++){for(i=this.layers[t],n=0;i.length>n;n++){o=i[n],s=Math.min(s,o.gridPosition);}}if(0>s)for(t=0;this.layers.length>t;t++){for(i=this.layers[t],n=0;i.length>n;n++){o=i[n],o.gridPosition=o.gridPosition-s;}}},layoutLayer:function layoutLayer(e,t){var n,i,o,r;for(i=e?this.layers[n=t+1]:this.layers[n=t-1],o=[],r=0;i.length>r;r++){o.push(i[r]);}o.sort(function(e,t){var n=(e.upstreamPriority+e.downstreamPriority)/2,i=(t.upstreamPriority+t.downstreamPriority)/2;return Math.abs(n-i)<1e-4?0:i>n?1:-1;}),f.forEach(o,function(e){var t=e.gridPosition,n=this.calcBaryCenter(e),o=(e.upstreamPriority+e.downstreamPriority)/2;if(!(Math.abs(t-n)<1e-4||Math.abs(t-n)<.2501))if(n>t)for(;n>t&&this.moveRight(e,i,o);){t=e.gridPosition;}else for(;t>n&&this.moveLeft(e,i,o);){t=e.gridPosition;}},this),n>0&&this.calcDownData(n-1),this.layers.length-1>n&&this.calcUpData(n+1);},moveRight:function moveRight(e,t,n){var i,o,r=f.indexOf(t,e);return r===t.length-1?(e.gridPosition=e.gridPosition+.5,!0):(i=t[r+1],o=(i.upstreamPriority+i.downstreamPriority)/2,i.gridPosition>e.gridPosition+1?(e.gridPosition=e.gridPosition+.5,!0):o>n||Math.abs(o-n)<1e-4?!1:this.moveRight(i,t,n)?(e.gridPosition=e.gridPosition+.5,!0):!1);},moveLeft:function moveLeft(e,t,n){var i,o,r=f.indexOf(t,e);return 0===r?(e.gridPosition=e.gridPosition-.5,!0):(i=t[r-1],o=(i.upstreamPriority+i.downstreamPriority)/2,e.gridPosition-1>i.gridPosition?(e.gridPosition=e.gridPosition-.5,!0):o>n||Math.abs(o-n)<1e-4?!1:this.moveLeft(i,t,n)?(e.gridPosition=e.gridPosition-.5,!0):!1);},mapVirtualNode:function mapVirtualNode(e,t){this.nodeToLinkMap.set(e,t),this.linkToNodeMap.containsKey(t)||this.linkToNodeMap.set(t,[]),this.linkToNodeMap.get(t).push(e);},_nodesInLink:function _nodesInLink(e){return this.linkToNodeMap.get(this.nodeToLinkMap.get(e));},_dummify:function _dummify(){var e,t,n,i,o,s,l,c,u,h,p,m,g,v,_,b,w,y,k,x;for(this.linkToNodeMap=new d(),this.nodeToLinkMap=new d(),u=this.graph.links.slice(0),h=this.layers,p=function p(e,t,n){h[e].linksTo[t]=h[e].linksTo[t]||[],h[e].linksTo[t].push(n);},c=0;u.length>c;c++){if(m=u[c],g=m.source,v=m.target,_=g.layer,b=v.layer,w=g.gridPosition,y=v.gridPosition,k=(y-w)/Math.abs(b-_),x=g,_-b>1){for(l=_-1;l>b;l--){for(n=new r(),n.x=g.x,n.y=g.y,n.width=g.width/100,n.height=g.height/100,e=h[l],t=(l-b)*k+w,t>e.length&&(t=e.length),w>=h[_].length-1&&y>=h[b].length-1?t=e.length:0===w&&0===y&&(t=0),n.layer=l,n.uBaryCenter=0,n.dBaryCenter=0,n.upstreamLinkCount=0,n.downstreamLinkCount=0,n.gridPosition=t,n.isVirtual=!0,f.insert(e,n,t),o=t+1;e.length>o;o++){i=e[o],i.gridPosition=i.gridPosition+1;}s=new a(x,n),s.depthOfDumminess=0,p(l-1,l,s),x=n,this.graph._addNode(n),this.graph.addLink(s),n.index=this.graph.nodes.length-1,this.mapVirtualNode(n,m);}p(b-1,b,s),m.changeSource(x),m.depthOfDumminess=_-b-1;}else if(-1>_-b){for(l=_+1;b>l;l++){for(n=new r(),n.x=g.x,n.y=g.y,n.width=g.width/100,n.height=g.height/100,e=h[l],t=(l-_)*k+w,t>e.length&&(t=e.length),w>=h[_].length-1&&y>=h[b].length-1?t=e.length:0===w&&0===y&&(t=0),n.layer=l,n.uBaryCenter=0,n.dBaryCenter=0,n.upstreamLinkCount=0,n.downstreamLinkCount=0,n.gridPosition=t,n.isVirtual=!0,t&=t,f.insert(e,n,t),o=t+1;e.length>o;o++){i=e[o],i.gridPosition=i.gridPosition+1;}s=new a(x,n),s.depthOfDumminess=0,p(l-1,l,s),x=n,this.graph._addNode(n),this.graph.addLink(s),n.index=this.graph.nodes.length-1,this.mapVirtualNode(n,m);}p(b-1,b,m),m.changeSource(x),m.depthOfDumminess=b-_-1;}else p(_,b,m);}},_dedummify:function _dedummify(){for(var e,t,n,i,o,r,a,s,l=!0;l;){for(l=!1,e=0;this.graph.links.length>e;e++){if(t=this.graph.links[e],t.depthOfDumminess){for(n=[],n.unshift({x:t.target.x,y:t.target.y}),n.unshift({x:t.source.x,y:t.source.y}),i=t,o=t.depthOfDumminess,r=0;o>r;r++){a=i.source,s=a.incoming[0],n.unshift({x:s.source.x,y:s.source.y}),i=s;}t.changeSource(i.source),t.depthOfDumminess=0,n.length>2?(n.splice(0,1),n.splice(n.length-1),t.points=n):t.points=[],l=!0;break;}}}},_optimizeCrossings:function _optimizeCrossings(){for(var e,t=-1,n=3,i=0;0!==t&&!(i++>n);){for(t=0,e=this.layers.length-1;e>=1;e--){t+=this.optimizeLayerCrossings(!1,e);}for(e=0;this.layers.length-1>e;e++){t+=this.optimizeLayerCrossings(!0,e);}}},calcUpData:function calcUpData(e){var t,n,i,o,r,a,s,l,c;if(0!==e){for(t=this.layers[e],r=new u(),a=this.layers[e-1],n=0;a.length>n;n++){r.add(a[n]);}for(n=0;t.length>n;n++){for(s=t[n],l=0,c=0,i=0;s.incoming.length>i;i++){o=s.incoming[i],r.contains(o.source)&&(c++,l+=o.source.gridPosition);}for(i=0;s.outgoing.length>i;i++){o=s.outgoing[i],r.contains(o.target)&&(c++,l+=o.target.gridPosition);}c>0?(s.uBaryCenter=l/c,s.upstreamLinkCount=c):(s.uBaryCenter=n,s.upstreamLinkCount=0);}}},calcDownData:function calcDownData(e){var t,n,i,o,r,a,s,l,c;if(e!==this.layers.length-1){for(t=this.layers[e],r=new u(),a=this.layers[e+1],n=0;a.length>n;n++){r.add(a[n]);}for(n=0;t.length>n;n++){for(s=t[n],l=0,c=0,i=0;s.incoming.length>i;i++){o=s.incoming[i],r.contains(o.source)&&(c++,l+=o.source.gridPosition);}for(i=0;s.outgoing.length>i;i++){o=s.outgoing[i],r.contains(o.target)&&(c++,l+=o.target.gridPosition);}c>0?(s.dBaryCenter=l/c,s.downstreamLinkCount=c):(s.dBaryCenter=n,s.downstreamLinkCount=0);}}},optimizeLayerCrossings:function optimizeLayerCrossings(e,t){var n,i,o,r,a,s,l,c;for(i=e?this.layers[n=t+1]:this.layers[n=t-1],o=i.slice(0),e?this.calcUpData(n):this.calcDownData(n),r=this,i.sort(function(e,t){var n,i=r.calcBaryCenter(e),o=r.calcBaryCenter(t);return Math.abs(i-o)<1e-4?e.degree()===t.degree()?r.compareByIndex(e,t):e.degree()<t.degree()?1:-1:(n=1e3*(o-i),n>0?-1:0>n?1:r.compareByIndex(e,t));}),s=0,a=0;i.length>a;a++){i[a]!==o[a]&&s++;}if(s>0)for(l=0,a=0;i.length>a;a++){c=i[a],c.gridPosition=l++;}return s;},_swapPairs:function _swapPairs(){for(var e,t,n,i,o,r,a,s,l,c,d,u,h,f,p,m,g,v=this.options.layeredIterations,_=0;;){if(_++>v)break;for(e=1>=_%4,t=_%4===1,n=e?0:this.layers.length-1;e?this.layers.length-1>=n:n>=0;n+=e?1:-1){for(i=this.layers[n],o=!1,r=!0,a=0,s=0;i.length-1>s;s++){l=0,c=0,d=0,r?(0!==n&&(l=this.countLinksCrossingBetweenTwoLayers(n-1,n)),n!==this.layers.length-1&&(c=this.countLinksCrossingBetweenTwoLayers(n,n+1)),e?l*=2:c*=2,d=l+c):d=a,0!==d&&(u=i[s],h=i[s+1],f=u.gridPosition,p=h.gridPosition,i[s]=h,i[s+1]=u,u.gridPosition=p,h.gridPosition=f,l=0,0!==n&&(l=this.countLinksCrossingBetweenTwoLayers(n-1,n)),c=0,n!==this.layers.length-1&&(c=this.countLinksCrossingBetweenTwoLayers(n,n+1)),e?l*=2:c*=2,m=l+c,g=!1,g=t?m>=d:m>d,g?(u=i[s],h=i[s+1],f=u.gridPosition,p=h.gridPosition,i[s]=h,i[s+1]=u,u.gridPosition=p,h.gridPosition=f,a=d,r=!1):(o=!0,r=!0));}o&&(n!==this.layers.length-1&&this.calcUpData(n+1),0!==n&&this.calcDownData(n-1));}}},countLinksCrossingBetweenTwoLayers:function countLinksCrossingBetweenTwoLayers(e,t){var n,i,o,r,a,s,l,c,d,u,h,f,p=this.layers[e].linksTo[t],m=0,g=p.length;for(l=0;g>l;l++){for(n=p[l],c=l+1;g>c;c++){i=p[c],n.target.layer===t?(o=n.source,r=n.target):(o=n.target,r=n.source),i.target.layer===t?(a=i.source,s=i.target):(a=i.target,s=i.source),d=o.gridPosition,u=r.gridPosition,h=a.gridPosition,f=s.gridPosition,0>(d-h)*(u-f)&&m++;}}return m;},calcBaryCenter:function calcBaryCenter(e){var t=e.upstreamLinkCount,n=e.downstreamLinkCount,i=e.uBaryCenter,o=e.dBaryCenter;return t>0&&n>0?(i+o)/2:t>0?i:n>0?o:0;},_gridPositionComparer:function _gridPositionComparer(e,t){return t.gridPosition>e.gridPosition?-1:e.gridPosition>t.gridPosition?1:0;},_positionAscendingComparer:function _positionAscendingComparer(e,t){return t.k>e.k?-1:e.k>t.k?1:0;},_positionDescendingComparer:function _positionDescendingComparer(e,t){return t.k>e.k?1:e.k>t.k?-1:0;},_firstVirtualNode:function _firstVirtualNode(e){for(var t=0;e.length>t;t++){if(e[t].isVirtual)return t;}return-1;},compareByIndex:function compareByIndex(e,t){var n=e.index,i=t.index;return i>n?1:n>i?-1:0;},intDiv:function intDiv(e,t){return(e-e%t)/t;},nextVirtualNode:function nextVirtualNode(e,t){var n,i=t.layerIndex;for(n=i+1;e.length>n;++n){if(e[n].isVirtual)return e[n];}return null;}}),S=n.Class.extend({init:function init(e,t){if(f.isUndefined(e))throw"No diagram given";this.diagram=e,this.nodeMap=new d(),this.linkMap=new d(),this.capture(t?t:e);},capture:function capture(e){var t,n,o,r,a,s,l,d,u;if(e instanceof i.Graph){for(r=0;e.nodes.length>r;r++){t=e.nodes[r],o=t.associatedShape,this.nodeMap.set(o.visual.id,new c(t.x,t.y,t.width,t.height));}for(r=0;e.links.length>r;r++){s=e.links[r],a=s.associatedConnection,this.linkMap.set(a.visual.id,s.points());}}else if(e instanceof Array)for(n=e,r=0;n.length>r;r++){t=n[r],o=t.associatedShape,o&&this.nodeMap.set(o.visual.id,new c(t.x,t.y,t.width,t.height));}else if(e.hasOwnProperty("links")&&e.hasOwnProperty("nodes")){for(n=e.nodes,l=e.links,r=0;n.length>r;r++){t=n[r],o=t.associatedShape,o&&this.nodeMap.set(o.visual.id,new c(t.x,t.y,t.width,t.height));}for(r=0;l.length>r;r++){s=l[r],a=s.associatedConnection,a&&this.linkMap.set(a.visual.id,s.points);}}else{for(d=this.diagram.shapes,u=this.diagram.connections,r=0;d.length>r;r++){o=d[r],this.nodeMap.set(o.visual.id,o.bounds());}for(r=0;u.length>r;r++){a=u[r],this.linkMap.set(a.visual.id,a.points());}}}});s(i,{init:function init(e){n.init(e,i.ui);},SpringLayout:y,TreeLayout:x,GraphAdapter:w,LayeredLayout:C,LayoutBase:b,LayoutState:S});}(window.kendo.jQuery);},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("dataviz/diagram/dom.min",["kendo.data.min","kendo.draganddrop.min","kendo.toolbar.min","kendo.editable.min","kendo.window.min","kendo.dropdownlist.min","kendo.dataviz.core.min","kendo.dataviz.themes.min","dataviz/diagram/svg.min","dataviz/diagram/services.min","dataviz/diagram/layout.min"],e);}(function(){!function(e,t){function n(e){var t=e.originalEvent,n=0;return t.wheelDelta?(n=-t.wheelDelta/40,n=n>0?be.ceil(n):be.floor(n)):t.detail&&(n=t.detail),n;}function i(e){return e.options.name.toLowerCase()===Ie.toLowerCase();}function o(e,t){var n,o,r,a,s=Be;for(r=0;t.length>r;r++){o=t[r],i(o)||(a=e.distanceTo(o.position()),s>a&&(s=a,n=o));}return n;}function r(e,t){var n,i,o,r=[],a=e.drawingContainer().children,s=a.length;for(n=0;t.length>n;n++){for(i=t[n],o=0;s>o;o++){if(a[o]==i.drawingContainer()){r.push(o);break;}}}return r;}function a(e){var t={};return e=e||{},pe(e.text)&&null!==e.text&&(t.text=e.text),pe(e.x)&&null!==e.x&&(t.x=e.x),pe(e.y)&&null!==e.y&&(t.y=e.y),pe(e.width)&&null!==e.width&&(t.width=e.width),pe(e.height)&&null!==e.height&&(t.height=e.height),pe(e.type)&&null!==e.type&&(t.type=e.type),t;}function s(e){var t={};return e=e||{},pe(e.text)&&null!==e.text&&(t.content=e.text),pe(e.type)&&null!==e.type&&(t.type=e.type),pe(e.from)&&null!==e.from&&(t.from=e.from),pe(e.fromConnector)&&null!==e.fromConnector&&(t.fromConnector=e.fromConnector),pe(e.fromX)&&null!==e.fromX&&(t.fromX=e.fromX),pe(e.fromY)&&null!==e.fromY&&(t.fromY=e.fromY),pe(e.to)&&null!==e.to&&(t.to=e.to),pe(e.toConnector)&&null!==e.toConnector&&(t.toConnector=e.toConnector),pe(e.toX)&&null!==e.toX&&(t.toX=e.toX),pe(e.toY)&&null!==e.toY&&(t.toY=e.toY),t;}function l(t,n){var i,o=this.dataSource.reader.model;o&&(i=o.fn.fields.text?"text":o.idField,e("<input name='"+n.field+"' />").appendTo(t).kendoDropDownList({dataValueField:o.idField,dataTextField:i,dataSource:this.dataSource.data().toJSON(),optionLabel:" ",valuePrimitive:!0}));}function c(e){this.dataItem=e,this.callbacks=[];}function d(){this.items={};}function u(e){var t=e;return e instanceof kendo.data.Model&&(t=e.toJSON(),t[e.idField]=e._defaultId),t;}function h(e){var t,n,i=[],o=[];for(n=0;e.length>n;n++){t=e[n],t instanceof y?o.push(t):i.push(t);}return{shapes:o,connections:i};}function f(e,t){return e.reader.model?new e.reader.model(t):new kendo.data.ObservableObject(t);}function p(e,t){pe(t[e])&&t.set(e,null);}function m(e,t,n){var i,o;for(o=0;n.length>o;o++){i=n[o],t&&!pe(t[i])&&(t[i]=e[i]);}}function g(e){var t=e.drawingContainer().clippedBBox(null);0===t.origin.x&&0===t.origin.y||e.position(-t.origin.x,-t.origin.y);}function v(e){e.preventDefault();}var _,b,w,y,k,x,C,S,T,D,A,E,R=kendo.dataviz,I=kendo.drawing,F=kendo.geometry,M=R.diagram,P=kendo.ui.Widget,z=kendo.Class,B=e.proxy,L=kendo.deepExtend,H=e.extend,N=kendo.data.HierarchicalDataSource,O=M.Canvas,V=M.Group,U=M.Rectangle,W=M.Circle,j=M.CompositeTransform,q=M.Rect,G=M.Path,$=M.DeleteShapeUnit,Y=M.DeleteConnectionUnit,K=M.TextBlock,Q=M.Image,X=M.Point,J=M.Intersect,Z=M.ConnectionEditAdorner,ee=M.UndoRedoService,te=M.ToolService,ne=M.Selector,ie=M.ResizingAdorner,oe=M.ConnectorsAdorner,re=M.Cursors,ae=M.Utils,se=kendo.Observable,le=M.ToBackUnit,ce=M.ToFrontUnit,de=M.PolylineRouter,ue=M.CascadingRouter,he=ae.isUndefined,fe=ae.isDefined,pe=kendo.util.defined,me=e.isArray,ge=kendo.isFunction,ve=ae.isString,_e=e.isPlainObject,be=Math,we=".kendoDiagram",ye="cascading",ke="itemBoundsChange",xe="change",Ce="click",Se="drag",Te="dragEnd",De="dragStart",Ae="mouseEnter",Ee="mouseLeave",Re="error",Ie="Auto",Fe="Top",Me="Right",Pe="Left",ze="Bottom",Be=9007199254740992,Le="select",He="itemRotate",Ne="pan",Oe="zoomStart",Ve="zoomEnd",Ue="none",We=600,je=600,qe="rectangle",Ge=100,$e=100,Ye=20,Ke=20,Qe=0,Xe="Yellow",Je=Number.MAX_VALUE,Ze=-Number.MAX_VALUE,et="absolute",tt="transformed",nt="rotated",it="transparent",ot="width",rt="height",at="x",st="y",lt="DOMMouseScroll"+we+" mousewheel"+we,ct=.05,dt=5,ut='<a class="k-button k-button-icontext #=className#" href="\\#"><span class="#=iconClass# #=imageClass#"></span>#=text#</a>',ht=5;M.DefaultConnectors=[{name:Fe},{name:ze},{name:Pe},{name:Me},{name:Ie,position:function position(e){return e.getPosition("center");}}],_={cancel:{text:"Cancel",imageClass:"k-cancel",className:"k-diagram-cancel",iconClass:"k-icon"},update:{text:"Update",imageClass:"k-update",className:"k-diagram-update",iconClass:"k-icon"}},M.shapeDefaults=function(e){var t={type:qe,path:"",autoSize:!0,visual:null,x:Qe,y:Qe,minWidth:Ye,minHeight:Ke,width:Ge,height:$e,hover:{},editable:{connect:!0,tools:[]},connectors:M.DefaultConnectors,rotation:{angle:0}};return ae.simpleExtend(t,e),t;},b=se.extend({init:function init(e){var t=this;t.dataItem=(e||{}).dataItem,se.fn.init.call(t),t.options=L({id:M.randomId()},t.options,e),t.isSelected=!1,t.visual=new V({id:t.options.id,autoSize:t.options.autoSize}),t.id=t.options.id,t._template();},options:{hover:{},cursor:re.grip,content:{align:"center middle"},selectable:!0,serializable:!0,enable:!0},_getCursor:function _getCursor(e){return this.adorner?this.adorner._getCursor(e):this.options.cursor;},visible:function visible(e){return he(e)?this.visual.visible():(this.visual.visible(e),t);},bounds:function bounds(){},refresh:function refresh(){this.visual.redraw();},position:function position(e){this.options.x=e.x,this.options.y=e.y,this.visual.position(e);},toString:function toString(){return this.options.id;},serialize:function serialize(){var e=L({},{options:this.options});return this.dataItem&&(e.dataItem=""+this.dataItem),e;},_content:function _content(e){var n,i,o;return e!==t&&(n=this.options,M.Utils.isString(e)?n.content.text=e:L(n.content,e),i=n.content,o=this._contentVisual,o?this._updateContentVisual(i):this._createContentVisual(i)),this.options.content.text;},_createContentVisual:function _createContentVisual(e){e.text&&(this._contentVisual=new K(e),this._contentVisual._includeInBBox=!1,this.visual.append(this._contentVisual));},_updateContentVisual:function _updateContentVisual(e){this._contentVisual.redraw(e);},_hitTest:function _hitTest(e){var t=this.bounds();return this.visible()&&t.contains(e)&&this.options.enable;},_template:function _template(){var e,t,n=this;n.options.content.template&&(e=n.dataItem||{},t=kendo.template(n.options.content.template,{paramName:"dataItem"}),n.options.content.text=t(e));},_canSelect:function _canSelect(){return this.options.selectable!==!1;},toJSON:function toJSON(){return{id:this.options.id};}}),w=z.extend({init:function init(e,t){this.options=L({},this.options,t),this.connections=[],this.shape=e;},options:{width:7,height:7,fill:{color:Xe},hover:{}},position:function position(){return this.options.position?this.options.position(this.shape):this.shape.getPosition(this.options.name);},toJSON:function toJSON(){return{shapeId:""+this.shape,connector:this.options.name};}}),w.parse=function(e,t){var n,i,o=t.split(":"),r=o[0],a=o[1]||Ie;for(n=0;e.shapes.length>n;n++){if(i=e.shapes[n],i.options.id==r)return i.getConnector(a.trim());}},y=b.extend({init:function init(e,t){var n=this;b.fn.init.call(n,e),this.diagram=t,this.updateOptionsFromModel(),e=n.options,n.connectors=[],n.type=e.type,n.createShapeVisual(),n.updateBounds(),n.content(n.content()),n._createConnectors();},options:M.shapeDefaults(),_setOptionsFromModel:function _setOptionsFromModel(e){var t=a(e||this.dataItem);this.options=L({},this.options,t),this.redrawVisual();},updateOptionsFromModel:function updateOptionsFromModel(e,t){var n,i;this.diagram&&this.diagram._isEditable&&(n=a(e||this.dataItem),e&&t?R.inArray(t,["x","y","width","height"])?(i=this.bounds(),i[t]=e[t],this.bounds(i)):(this.options.visual?this._redrawVisual():n.type&&(this.options=L({},this.options,n),this._redrawVisual()),this.options.content&&(this._template(),this.content(this.options.content))):this.options=L({},this.options,n));},_redrawVisual:function _redrawVisual(){this.visual.clear(),this._contentVisual=null,this.options.dataItem=this.dataItem,this.createShapeVisual(),this.updateBounds();},redrawVisual:function redrawVisual(){this._redrawVisual(),this.options.content&&(this._template(),this.content(this.options.content));},updateModel:function updateModel(e){var t,n,i=this.diagram;i&&i._isEditable&&(t=this._bounds,n=this.dataItem,n&&(i._suspendModelRefresh(),pe(n.x)&&t.x!==n.x&&n.set("x",t.x),pe(n.y)&&t.y!==n.y&&n.set("y",t.y),pe(n.width)&&t.width!==n.width&&n.set("width",t.width),pe(n.height)&&t.height!==n.height&&n.set("height",t.height),this.dataItem=n,i._resumeModelRefresh(),e&&i._syncShapeChanges()));},updateBounds:function updateBounds(){var e=this.visual._measure(!0),t=this.options;this.bounds(new q(t.x,t.y,e.width,e.height)),this._rotate(),this._alignContent();},content:function content(e){var t=this._content(e);return this._alignContent(),t;},_alignContent:function _alignContent(){var e,t,n,i,o,r=this.options.content||{},a=this._contentVisual;a&&r.align&&(e=this.visual._measure(),t=new M.RectAlign(e),n=a.drawingElement.bbox(null),i=new q(0,0,n.width(),n.height()),o=t.align(i,r.align),a.position(o.topLeft()));},_createConnectors:function _createConnectors(){var e,t,n=this.options,i=n.connectors.length,o=n.connectorDefaults;for(t=0;i>t;t++){e=new w(this,L({},o,n.connectors[t])),this.connectors.push(e);}},bounds:function bounds(e){var t,n;if(e){if(ve(e))switch(e){case tt:t=this._transformedBounds();break;case et:t=this._transformedBounds(),n=this.diagram._pan,t.x+=n.x,t.y+=n.y;break;case nt:t=this._rotatedBounds();break;default:t=this._bounds;}else this._setBounds(e),this._triggerBoundsChange(),this.diagram&&this.diagram._layouting||this.refreshConnections();}else t=this._bounds;return t;},_setBounds:function _setBounds(e){var t=this.options,n=e.topLeft(),i=t.x=n.x,o=t.y=n.y,r=t.width=be.max(e.width,t.minWidth),a=t.height=be.max(e.height,t.minHeight);this._bounds=new q(i,o,r,a),this.visual.redraw({x:i,y:o,width:r,height:a});},position:function position(e){return e?(this.bounds(new q(e.x,e.y,this._bounds.width,this._bounds.height)),t):this._bounds.topLeft();},clone:function clone(){var e=this.serialize();return e.options.id=M.randomId(),this.diagram&&this.diagram._isEditable&&pe(this.dataItem)&&(e.options.dataItem=u(this.dataItem)),new y(e.options);},select:function select(e){var n,i,o=this.diagram;return he(e)&&(e=!0),this._canSelect()&&this.isSelected!=e?(n=[],i=[],this.isSelected=e,this.isSelected?(o._selectedItems.push(this),n.push(this)):(ae.remove(o._selectedItems,this),i.push(this)),o._internalSelection||o._selectionChanged(n,i),!0):t;},rotate:function rotate(e,n,i){var o,r,a,s,l=this.visual.rotate();return e!==t&&(i!==!1&&this.diagram&&this.diagram.undoRedoService&&e!==l.angle&&this.diagram.undoRedoService.add(new M.RotateUnit(this.diagram._resizingAdorner,[this],[l.angle]),!1),o=this.bounds(),r=new X(o.width/2,o.height/2),n&&(a=e-l.angle,s=o.center().rotate(n,360-a).minus(r),this._rotationOffset=this._rotationOffset.plus(s.minus(o.topLeft())),this.position(s)),this.visual.rotate(e,r),this.options.rotation.angle=e,this.diagram&&this.diagram._connectorsAdorner&&this.diagram._connectorsAdorner.refresh(),this.refreshConnections(),this.diagram&&this.diagram.trigger(He,{item:this})),l;},connections:function connections(e){var t,n,i,o,r,a,s,l=[];for(t=0;this.connectors.length>t;t++){for(r=this.connectors[t],o=r.connections,n=0,o;o.length>n;n++){i=o[n],"out"==e?(a=i.source(),a.shape&&a.shape==this&&l.push(i)):"in"==e?(s=i.target(),s.shape&&s.shape==this&&l.push(i)):l.push(i);}}return l;},refreshConnections:function refreshConnections(){e.each(this.connections(),function(){this.refresh();});},getConnector:function getConnector(e){var t,n;if(!ve(e))return e instanceof X?o(e,this.connectors):this.connectors.length?this.connectors[0]:null;for(e=e.toLocaleLowerCase(),t=0;this.connectors.length>t;t++){if(n=this.connectors[t],n.options.name.toLocaleLowerCase()==e)return n;}},getPosition:function getPosition(e){var t=this.bounds(),n=e.charAt(0).toLowerCase()+e.slice(1);return ge(t[n])?this._transformPoint(t[n]()):t.center();},redraw:function redraw(e){var t,n;e&&(t=this.options,this.shapeVisual.redraw(this._visualOptions(e)),this._diffNumericOptions(e,[ot,rt,at,st])&&(this.bounds(new q(t.x,t.y,t.width,t.height)),n=!0),e.connectors&&(t.connectors=e.connectors,this._updateConnectors()),t=L(t,e),(e.rotation||n)&&this._rotate(),t.content&&this.content(t.content));},_updateConnectors:function _updateConnectors(){var e,t,n,i,o=this.connections();for(this.connectors=[],this._createConnectors(),i=0;o.length>i;i++){e=o[i],t=e.source(),n=e.target(),t.shape&&t.shape===this?e.source(this.getConnector(t.options.name)||null):n.shape&&n.shape===this&&e.target(this.getConnector(n.options.name)||null),e.updateModel();}},_diffNumericOptions:M.diffNumericOptions,_visualOptions:function _visualOptions(e){return{data:e.path,source:e.source,hover:e.hover,fill:e.fill,stroke:e.stroke};},_triggerBoundsChange:function _triggerBoundsChange(){this.diagram&&this.diagram.trigger(ke,{item:this,bounds:this._bounds.clone()});},_transformPoint:function _transformPoint(e){var t=this.rotate(),n=this.bounds(),i=n.topLeft();return t.angle&&e.rotate(t.center().plus(i),360-t.angle),e;},_transformedBounds:function _transformedBounds(){var e=this.bounds(),t=e.topLeft(),n=e.bottomRight();return q.fromPoints(this.diagram.modelToView(t),this.diagram.modelToView(n));},_rotatedBounds:function _rotatedBounds(){var e=this.bounds().rotatedBounds(this.rotate().angle),t=e.topLeft(),n=e.bottomRight();return q.fromPoints(t,n);},_rotate:function _rotate(){var e=this.options.rotation;e&&e.angle&&this.rotate(e.angle),this._rotationOffset=new X();},_hover:function _hover(e){var t=this.options,n=t.hover,i=t.stroke,o=t.fill;e&&fe(n.stroke)&&(i=L({},i,n.stroke)),e&&fe(n.fill)&&(o=n.fill),this.shapeVisual.redraw({stroke:i,fill:o}),t.editable&&t.editable.connect&&this.diagram._showConnectors(this,e);},_hitTest:function _hitTest(e){if(this.visible()){var t,n=this.bounds(),i=this.rotate().angle;if(e.isEmpty&&!e.isEmpty())return J.rects(e,n,i?i:0);if(t=e.clone().rotate(n.center(),i),n.contains(t))return this;}},toJSON:function toJSON(){return{shapeId:this.options.id};},createShapeVisual:function createShapeVisual(){var e,t=this.options,n=this._visualOptions(t),i=t.visual,o=(t.type+"").toLocaleLowerCase();n.width=t.width,n.height=t.height,ge(i)?e=i.call(this,t):n.data?(e=new G(n),g(e)):e="rectangle"==o?new U(n):"circle"==o?new W(n):"text"==o?new K(n):"image"==o?new Q(n):new G(n),this.shapeVisual=e,this.visual.append(this.shapeVisual);}}),k=b.extend({init:function init(e,t,n){var i=this;b.fn.init.call(i,n),this.updateOptionsFromModel(),this._initRouter(),i.path=new M.Polyline(i.options),i.path.fill(it),i.visual.append(i.path),i._sourcePoint=i._targetPoint=new X(),i._setSource(e),i._setTarget(t),i.content(i.options.content),i.definers=[],pe(n)&&n.points&&i.points(n.points);},options:{hover:{stroke:{}},startCap:Ue,endCap:Ue,points:[],selectable:!0,fromConnector:Ie,toConenctor:Ie},_setOptionsFromModel:function _setOptionsFromModel(e){this.updateOptionsFromModel(e||this.dataItem);},updateOptionsFromModel:function updateOptionsFromModel(e){var t,n,i,o;this.diagram&&this.diagram._isEditable&&(t=this.diagram._dataMap,n=s(e||this.dataItem),e?(pe(n.from)?(i=t[n.from],i&&pe(n.fromConnector)&&(i=i.getConnector(n.fromConnector)),this.source(i)):pe(n.fromX)&&pe(n.fromY)&&this.source(new X(n.fromX,n.fromY)),pe(n.to)?(o=t[n.to],o&&pe(n.toConnector)&&(o=o.getConnector(n.toConnector)),this.target(o)):pe(n.toX)&&pe(n.toY)&&this.target(new X(n.toX,n.toY)),pe(n.type)&&this.type()!==n.type&&(this.points([]),this.type(n.type)),this.dataItem=e,this._template(),this.redraw(this.options)):this.options=L({},n,this.options));},updateModel:function updateModel(e){if(this.diagram&&this.diagram._isEditable&&this.diagram.connectionsDataSource){var t=this.diagram.connectionsDataSource.getByUid(this.dataItem.uid);t&&(this.diagram._suspendModelRefresh(),pe(this.options.fromX)&&null!==this.options.fromX?(p("from",t),p("fromConnector",t),t.set("fromX",this.options.fromX),t.set("fromY",this.options.fromY)):(t.set("from",this.options.from),pe(t.fromConnector)&&t.set("fromConnector",this.sourceConnector?this.sourceConnector.options.name:null),p("fromX",t),p("fromY",t)),pe(this.options.toX)&&null!==this.options.toX?(p("to",t),p("toConnector",t),t.set("toX",this.options.toX),t.set("toY",this.options.toY)):(t.set("to",this.options.to),pe(t.toConnector)&&t.set("toConnector",this.targetConnector?this.targetConnector.options.name:null),p("toX",t),p("toY",t)),pe(this.options.type)&&pe(t.type)&&t.set("type",this.options.type),this.dataItem=t,this.diagram._resumeModelRefresh(),e&&this.diagram._syncConnectionChanges());}},sourcePoint:function sourcePoint(){return this._resolvedSourceConnector?this._resolvedSourceConnector.position():this._sourcePoint;},_setSource:function _setSource(e){var n,i=e instanceof y,o=this.options.fromConnector||Ie;i&&!e.getConnector(o)||(e!==t&&(this.from=e),this._removeFromSourceConnector(),null===e?this.sourceConnector&&(this._sourcePoint=(this._resolvedSourceConnector||this.sourceConnector).position(),this._clearSourceConnector(),this._setFromOptions(null,this._sourcePoint)):e instanceof w?(n=e.shape.dataItem,n&&this._setFromOptions(n.id),this.sourceConnector=e,this.sourceConnector.connections.push(this)):e instanceof X?(this._setFromOptions(null,e),this._sourcePoint=e,this.sourceConnector&&this._clearSourceConnector()):i&&(n=e.dataItem,n&&this._setFromOptions(n.id),this.sourceConnector=e.getConnector(o),this.sourceConnector.connections.push(this)));},source:function source(e,t){return fe(e)&&(t&&this.diagram&&this.diagram.undoRedoService.addCompositeItem(new M.ConnectionEditUnit(this,e)),this._setSource(e),this.refresh()),this.sourceConnector?this.sourceConnector:this._sourcePoint;},_setFromOptions:function _setFromOptions(e,t){this.options.from=e,t?(this.options.fromX=t.x,this.options.fromY=t.y):(this.options.fromX=null,this.options.fromY=null);},sourceDefiner:function sourceDefiner(e){if(!e)return this._sourceDefiner||(this._sourceDefiner=new M.PathDefiner(this.sourcePoint(),null,null)),this._sourceDefiner;if(!(e instanceof M.PathDefiner))throw"The sourceDefiner needs to be a PathDefiner.";e.left=null,this._sourceDefiner=e,this.source(e.point);},targetPoint:function targetPoint(){return this._resolvedTargetConnector?this._resolvedTargetConnector.position():this._targetPoint;},_setTarget:function _setTarget(e){var n,i=e instanceof y,o=this.options.toConnector||Ie;i&&!e.getConnector(o)||(e!==t&&(this.to=e),this._removeFromTargetConnector(),null===e?this.targetConnector&&(this._targetPoint=(this._resolvedTargetConnector||this.targetConnector).position(),this._clearTargetConnector(),this._setToOptions(null,this._targetPoint)):e instanceof w?(n=e.shape.dataItem,n&&this._setToOptions(n.id),this.targetConnector=e,this.targetConnector.connections.push(this)):e instanceof X?(this._setToOptions(null,e),this._targetPoint=e,this.targetConnector&&this._clearTargetConnector()):i&&(n=e.dataItem,n&&this._setToOptions(n.id),this.targetConnector=e.getConnector(o),this.targetConnector.connections.push(this)));},target:function target(e,n){return fe(e)&&(n&&this.diagram&&this.diagram.undoRedoService.addCompositeItem(new M.ConnectionEditUnit(this,t,e)),this._setTarget(e),this.refresh()),this.targetConnector?this.targetConnector:this._targetPoint;},_setToOptions:function _setToOptions(e,t){this.options.to=e,t?(this.options.toX=t.x,this.options.toY=t.y):(this.options.toX=null,this.options.toY=null);},targetDefiner:function targetDefiner(e){if(!e)return this._targetDefiner||(this._targetDefiner=new M.PathDefiner(this.targetPoint(),null,null)),this._targetDefiner;if(!(e instanceof M.PathDefiner))throw"The sourceDefiner needs to be a PathDefiner.";e.right=null,this._targetDefiner=e,this.target(e.point);},_updateConnectors:function _updateConnectors(){this._updateConnector(this.source(),"source"),this._updateConnector(this.target(),"target");},_updateConnector:function _updateConnector(e,t){var n,i,o,r,a=this,s=a.diagram;e instanceof w&&!s.getShapeById(e.shape.id)?(n=e.shape.dataItem,i=e.options.name,o=function o(){var o=s._dataMap[n.id];e=o.getConnector(i),a[t](e,!1),a.updateModel();},s._dataMap[n.id]?o():(r=s._inactiveShapeItems.getByUid(n.uid),r&&s._deferredConnectionUpdates.push(r.onActivate(o)))):a[t](e,!1);},content:function content(e){var t=this._content(e);return pe(e)&&this._alignContent(),t;},_createContentVisual:function _createContentVisual(e){var t;return ge(e.visual)?t=e.visual.call(this,e):e.text&&(t=new K(e)),t&&(this._contentVisual=t,t._includeInBBox=!1,this.visual.append(t)),t;},_updateContentVisual:function _updateContentVisual(e){ge(e.visual)?(this.visual.remove(this._contentVisual),this._createContentVisual(e)):this._contentVisual.redraw(e);},_alignContent:function _alignContent(){var e,t,n,i,o,r,a,s,l,c,d,u,h,f,p,m;if(this._contentVisual){for(e=ht,t=this.allPoints(),n=be.floor(t.length/2),i=n-1;i>0&&t[i].equals(t[n]);){i--,n++;}o=t[n],r=t[i],a=this._contentVisual._measure(),s=a.width,l=a.height,c=t.length%2===0,d=r.distanceTo(o),c&&t.length>2&&d>0&&(r.y===o.y&&s>d||r.x===o.x&&l>d)&&(c=!1,e=0),c?(h=kendo.util.deg(be.atan2(o.y-r.y,o.x-r.x)),u=new X((o.x-r.x)/2+r.x,(o.y-r.y)/2+r.y),90===be.abs(h)?(u.x+=e,u.y-=l/2):h%180===0?(u.x-=s/2,u.y-=l+e):-90>h||h>0&&90>h?u.y-=l:(0>h||h>90)&&(u.x-=s,u.y-=l)):(f=be.floor(t.length/2),u=t[f].clone(),r=t[f-1],o=t[f+1],p=u.x>=r.x&&u.x>=o.x?e:-a.width-e,m=u.y>=r.y&&u.y>=o.y?e:-a.height-e,u.x+=p,u.y+=m),this._contentVisual.position(u);}},select:function select(e){var n,i,o=this.diagram;return this._canSelect()&&this.isSelected!==e?(this.isSelected=e,n=[],i=[],this.isSelected?(this.adorner=new Z(this,this.options.selection),o._adorn(this.adorner,!0),o._selectedItems.push(this),n.push(this)):this.adorner&&(o._adorn(this.adorner,!1),ae.remove(o._selectedItems,this),this.adorner=t,i.push(this)),this.adorner&&this.adorner.refresh(),o._internalSelection||o._selectionChanged(n,i),!0):t;},bounds:function bounds(e){return!e||ve(e)?this._bounds:(this._bounds=e,t);},type:function type(e){var n=this.options;return e?(e!==n.type&&(n.type=e,this._initRouter(),this.refresh()),t):n.type;},_initRouter:function _initRouter(){var e=(this.options.type||"").toLowerCase();this._router=e==ye?new ue(this):new de(this);},points:function points(e){var t,n,i,o;if(!e){if(i=[],fe(this.definers))for(o=0;this.definers.length>o;o++){i.push(this.definers[o].point);}return i;}for(this.definers=[],t=0;e.length>t;t++){if(n=e[t],n instanceof M.Point)this.definers.push(new M.PathDefiner(n));else{if(!n.hasOwnProperty("x")||!n.hasOwnProperty("y"))throw"A Connection point needs to be a Point or an object with x and y properties.";this.definers.push(new M.PathDefiner(new X(n.x,n.y)));}}},allPoints:function allPoints(){var e,t=[this.sourcePoint()];if(this.definers)for(e=0;this.definers.length>e;e++){t.push(this.definers[e].point);}return t.push(this.targetPoint()),t;},refresh:function refresh(){this._resolveConnectors(),this._refreshPath(),this._alignContent(),this.adorner&&this.adorner.refresh();},_resolveConnectors:function _resolveConnectors(){var e,t,n,r,a=this,s=a.source(),l=a.target();s instanceof X?e=s:s instanceof w&&(n=i(s)?s.shape.connectors:[s]),l instanceof X?t=l:l instanceof w&&(r=i(l)?l.shape.connectors:[l]),e?r&&(a._resolvedTargetConnector=o(e,r)):n&&(t?a._resolvedSourceConnector=o(t,n):r&&this._resolveAutoConnectors(n,r));},_resolveAutoConnectors:function _resolveAutoConnectors(e,t){var n,o,r,a,s,l,c,d,u,h,f,p=Be,m=Be;for(u=0;e.length>u;u++){if(c=e[u],!i(c))for(r=c.position(),h=0;t.length>h;h++){d=t[h],i(d)||(a=d.position(),f=be.round(r.distanceTo(a)),p>f&&this.diagram&&this._testRoutePoints(r,a,c,d)&&(p=f,n=c,o=d),m>f&&(s=c,l=d,m=f));}}n&&(s=n,l=o),this._resolvedSourceConnector=s,this._resolvedTargetConnector=l;},_testRoutePoints:function _testRoutePoints(e,t,n,i){var o,r,a,s,l,c=this._router,d=!0;if(c instanceof ue)for(o=c.routePoints(e,t,n,i),o.unshift(e),o.push(t),l=1;o.length>l;l++){if(r=o[l-1],a=o[l],s=new q(be.min(r.x,a.x),be.min(r.y,a.y),be.abs(r.x-a.x),be.abs(r.y-a.y)),s.width>0&&(s.x++,s.width-=2),s.height>0&&(s.y++,s.height-=2),!s.isEmpty()&&this.diagram._shapesQuadTree.hitTestRect(s)){d=!1;break;}}return d;},redraw:function redraw(e){if(e){this.options=L({},this.options,e);var t=this.options.points;pe(t)&&t.length>0&&(this.points(t),this._refreshPath()),(e&&e.content||e.text)&&this.content(e.content),this.path.redraw({fill:e.fill,stroke:e.stroke,startCap:e.startCap,endCap:e.endCap});}},clone:function clone(){var e=this.serialize();return this.diagram&&this.diagram._isEditable&&pe(this.dataItem)&&(e.options.dataItem=u(this.dataItem)),new k(this.from,this.to,e.options);},serialize:function serialize(){var e=this.from.toJSON?this.from.toJSON:""+this.from,t=this.to.toJSON?this.to.toJSON:""+this.to,n=L({},{options:this.options,from:e,to:t});return pe(this.dataItem)&&(n.dataItem=""+this.dataItem),n.options.points=this.points(),n;},_hitTest:function _hitTest(e){if(this.visible()){var t=new X(e.x,e.y),n=this.sourcePoint(),i=this.targetPoint();if(e.isEmpty&&!e.isEmpty()&&e.contains(n)&&e.contains(i))return this;if(this._router.hitTest(t))return this;}},_hover:function _hover(e){var t=(this.options.stroke||{}).color;e&&fe(this.options.hover.stroke.color)&&(t=this.options.hover.stroke.color),this.path.redraw({stroke:{color:t}});},_refreshPath:function _refreshPath(){pe(this.path)&&(this._drawPath(),this.bounds(this._router.getBounds()));},_drawPath:function _drawPath(){var e,t,n;this._router&&this._router.route(),e=this.sourcePoint(),t=this.targetPoint(),n=this.points(),this.path.redraw({points:[e].concat(n,[t])});},_clearSourceConnector:function _clearSourceConnector(){this.sourceConnector=t,this._resolvedSourceConnector=t;},_clearTargetConnector:function _clearTargetConnector(){this.targetConnector=t,this._resolvedTargetConnector=t;},_removeFromSourceConnector:function _removeFromSourceConnector(){this.sourceConnector&&ae.remove(this.sourceConnector.connections,this);},_removeFromTargetConnector:function _removeFromTargetConnector(){this.targetConnector&&ae.remove(this.targetConnector.connections,this);},toJSON:function toJSON(){var e,t,n,i=this;return i.from&&i.from.toJSON?e=i.from.toJSON():(n=i._sourcePoint,e={x:n.x,y:n.y}),i.to&&i.to.toJSON?t=i.to.toJSON():(n=i._targetPoint,t={x:n.x,y:n.y}),{from:e,to:t};}}),x=P.extend({init:function init(e,t){var n=this;kendo.destroy(e),P.fn.init.call(n,e,t),n._initTheme(),n._initElements(),n._extendLayoutOptions(n.options),n._initDefaults(t),n._interactionDefaults(),n._initCanvas(),n.mainLayer=new V({id:"main-layer"}),n.canvas.append(n.mainLayer),n._shapesQuadTree=new E(n),n._pan=new X(),n._adorners=[],n.adornerLayer=new V({id:"adorner-layer"}),n.canvas.append(n.adornerLayer),n._createHandlers(),n._initialize(),n._resizingAdorner=new ie(n,{editable:n.options.editable}),n._connectorsAdorner=new oe(n),n._adorn(n._resizingAdorner,!0),n._adorn(n._connectorsAdorner,!0),n.selector=new ne(n),n._clipboard=[],n.pauseMouseHandlers=!1,n._fetchFreshData(),n._createGlobalToolBar(),n._createOptionElements(),n.zoom(n.options.zoom),n.canvas.draw();},options:{name:"Diagram",theme:"default",layout:"",zoomRate:.1,zoom:1,zoomMin:0,zoomMax:2,dataSource:{},draggable:!0,template:"",autoBind:!0,editable:{rotate:{},resize:{},text:!0,tools:[],drag:{snap:{size:10,angle:10}},remove:!0},pannable:{},selectable:{key:"none"},tooltip:{enabled:!0,format:"{0}"},copy:{enabled:!0,offsetX:20,offsetY:20},shapeDefaults:M.shapeDefaults({undoable:!0}),connectionDefaults:{editable:{tools:[]},type:ye},shapes:[],connections:[]},events:[Ve,Oe,Ne,Le,He,ke,xe,Ce,Ae,Ee,"toolBarClick","save","cancel","edit","remove","add","dataBound",De,Se,Te],items:function items(){return e();},_createGlobalToolBar:function _createGlobalToolBar(){var e,t=this.options.editable;t&&(e=t.tools,!this._isEditable||e===!1||e&&0!==e.length||(e=["createShape","undo","redo","rotateClockwise","rotateAnticlockwise"]),e&&e.length&&(this.toolBar=new C(this,{tools:e||{},click:B(this._toolBarClick,this),modal:!1}),this.toolBar.element.css({textAlign:"left"}),this.element.prepend(this.toolBar.element),this._resize()));},createShape:function createShape(){var e,t,n,i,o,r;(this.editor&&this.editor.end()||!this.editor)&&(e=this.dataSource,t=e.view()||[],n=t.length,i=f(e,{}),o=this._createShape(i,{}),this.trigger("add",{shape:o})||(e.insert(n,i),r=this._inactiveShapeItems.getByUid(i.uid),r.element=o,this.edit(o)));},_createShape:function _createShape(e,t){t=L({},this.options.shapeDefaults,t),t.dataItem=e;var n=new y(t,this);return n;},createConnection:function createConnection(){var e,t,n,i,o;(this.editor&&this.editor.end()||!this.editor)&&(e=this.connectionsDataSource,t=e.view()||[],n=t.length,i=f(e,{}),o=this._createConnection(i),this.trigger("add",{connection:o})||(this._connectionsDataMap[i.uid]=o,e.insert(n,i),this.addConnection(o,!1),this.edit(o)));},_createConnection:function _createConnection(e,t,n){var i,o=L({},this.options.connectionDefaults);return o.dataItem=e,i=new k(t||new X(),n||new X(),o);},editModel:function editModel(e,t){var n,i,o,r;if(this.cancelEdit(),o=this.options.editable,"shape"==t)n=o.shapeEditors,i=o.shapeTemplate;else{if("connection"!=t)return;r=B(l,this),n=L({},{from:r,to:r},o.connectionEditors),i=o.connectionTemplate;}this.editor=new T(this.element,{update:B(this._update,this),cancel:B(this._cancel,this),model:e,type:t,target:this,editors:n,template:i}),this.trigger("edit",this._editArgs());},edit:function edit(e){if(e.dataItem){var t=e instanceof y?"shape":"connection";this.editModel(e.dataItem,t);}},cancelEdit:function cancelEdit(){this.editor&&(this._getEditDataSource().cancelChanges(this.editor.model),this._destroyEditor());},saveEdit:function saveEdit(){this.editor&&this.editor.end()&&!this.trigger("save",this._editArgs())&&this._getEditDataSource().sync();},_update:function _update(){this.editor&&this.editor.end()&&!this.trigger("save",this._editArgs())&&(this._getEditDataSource().sync(),this._destroyEditor());},_cancel:function _cancel(){var e,t;this.editor&&!this.trigger("cancel",this._editArgs())&&(e=this.editor.model,this._getEditDataSource().cancelChanges(e),t=this._connectionsDataMap[e.uid]||this._dataMap[e.id],t&&t._setOptionsFromModel(e),this._destroyEditor());},_getEditDataSource:function _getEditDataSource(){return"shape"===this.editor.options.type?this.dataSource:this.connectionsDataSource;},_editArgs:function _editArgs(){var e={container:this.editor.wrapper};return e[this.editor.options.type]=this.editor.model,e;},_destroyEditor:function _destroyEditor(){this.editor&&(this.editor.close(),this.editor=null);},_initElements:function _initElements(){this.wrapper=this.element.empty().css("position","relative").attr("tabindex",0).addClass("k-widget k-diagram"),this.scrollable=e("<div />").appendTo(this.element);},_initDefaults:function _initDefaults(e){var t=this.options,n=t.editable,i=t.shapeDefaults,o=t.connectionDefaults,r=(e||{}).shapeDefaults;n===!1?(i.editable=!1,o.editable=!1):(m(n,i.editable,["drag","remove","connect"]),m(n,o.editable,["drag","remove"])),r&&r.connectors&&(t.shapeDefaults.connectors=r.connectors);},_interactionDefaults:function _interactionDefaults(){var e=this.options,t=e.selectable,n=e.pannable,i=kendo.support.mobileOS;t&&!pe(t.multiple)&&(e.selectable=L({multiple:!i},e.selectable)),n&&!pe(n.key)&&(e.pannable=L({key:i?"none":"ctrl"},e.pannable));},_initCanvas:function _initCanvas(){var t=e("<div class='k-layer'></div>").appendTo(this.scrollable)[0],n=this.viewport();this.canvas=new O(t,{width:n.width||We,height:n.height||je});},_createHandlers:function _createHandlers(){var e=this,t=e.element;t.on(lt,B(e._wheel,e)).on("keydown"+we,B(e._keydown,e)),e._userEvents=new kendo.UserEvents(this.scrollable,{multiTouch:!0,fastTap:!0,tap:B(e._tap,e),start:B(e._dragStart,e),move:B(e._drag,e),end:B(e._dragEnd,e),gesturestart:B(e._gestureStart,e),gesturechange:B(e._gestureChange,e),gestureend:B(e._gestureEnd,e)}),e.toolService=new te(e),this.scrollable.on("mouseover"+we,B(e._mouseover,e)).on("mouseout"+we,B(e._mouseout,e)).on("mousemove"+we,B(e._mouseMove,e)),this._syncHandler=B(e._syncChanges,e),e._resizeHandler=B(e.resize,e,!1),kendo.onResize(e._resizeHandler),this.bind(Oe,B(e._destroyToolBar,e)),this.bind(Ne,B(e._destroyToolBar,e));},_dragStart:function _dragStart(e){var t,n;this._pauseMouseHandlers=!0,t=this._eventPositions(e,!0),n=e.event,this.toolService.start(t,this._meta(n))&&(this._destroyToolBar(),n.preventDefault());},_drag:function _drag(e){var t=this._eventPositions(e),n=e.event;this.toolService.move(t,this._meta(n))&&n.preventDefault();},_dragEnd:function _dragEnd(e){var t,n;this._pauseMouseHandlers=!1,t=this._eventPositions(e),n=e.event,this.toolService.end(t,this._meta(n))&&(this._createToolBar(),n.preventDefault());},_mouseMove:function _mouseMove(e){if(!this._pauseMouseHandlers&&(0===e.which||1===e.which)){var t=this._eventPositions(e);this.toolService._updateHoveredItem(t),this.toolService._updateCursor(t);}},_tap:function _tap(e){var t,n,i,o=this.toolService,r=this.options.selectable,a=this._eventPositions(e),s=this.focus();o._updateHoveredItem(a),o.hoveredItem?(t=o.hoveredItem,this.trigger("click",{item:t,point:a}),r&&t.options.selectable!==!1&&(n=r.multiple!==!1,i=kendo.support.mobileOS||this._meta(e.event).ctrlKey,t.isSelected?i?(this._destroyToolBar(),t.select(!1)):this._createToolBar(s):(this._destroyToolBar(),this.select(t,{addToSelection:n&&i}),this._createToolBar(s)))):r&&(this._destroyToolBar(),this.deselect());},_keydown:function _keydown(e){this.toolService.keyDown(e.keyCode,this._meta(e))&&e.preventDefault();},_wheel:function _wheel(e){var t=n(e),i=this._eventPositions(e),o=L(this._meta(e),{delta:t});this.toolService.wheel(i,o)&&e.preventDefault();},_meta:function _meta(e){return{ctrlKey:e.ctrlKey,metaKey:e.metaKey,altKey:e.altKey,shiftKey:e.shiftKey};},_eventPositions:function _eventPositions(e,t){var n,i;return e.touch?(i=t?"startLocation":"location",n=new X(e.x[i],e.y[i])):n=new X(e.pageX,e.pageY),this.documentToModel(n);},_gestureStart:function _gestureStart(e){var t,n;this._destroyToolBar(),this.scroller.disable(),t=this.documentToModel(new X(e.center.x,e.center.y)),n={point:t,zoom:this.zoom()},this.trigger(Oe,n)||(this._gesture=e,this._initialCenter=t);},_gestureChange:function _gestureChange(e){var t,n,i=this._gesture,o=this._initialCenter,r=this.documentToView(new X(e.center.x,e.center.y)),a=e.distance/i.distance,s=this._zoom,l=!1;be.abs(a-1)>=ct&&(this._zoom=s=this._getValidZoom(s*a),this.options.zoom=s,this._gesture=e,l=!0),t=o.times(s),n=r.minus(t),(l||this._pan.distanceTo(n)>=dt)&&(this._panTransform(n),this._updateAdorners()),e.preventDefault();},_gestureEnd:function _gestureEnd(){this.options.pannable!==!1&&this.scroller.enable(),this.trigger(Ve,{point:this._initialCenter,zoom:this.zoom()});},_resize:function _resize(){var e=this.viewport();this.canvas&&this.canvas.size(e),this.scrollable&&this.toolBar&&this.scrollable.height(e.height);},_mouseover:function _mouseover(e){var t=e.target._kendoNode;t&&t.srcElement._hover&&t.srcElement._hover(!0,t.srcElement);},_mouseout:function _mouseout(e){var t=e.target._kendoNode;t&&t.srcElement._hover&&t.srcElement._hover(!1,t.srcElement);},_initTheme:function _initTheme(){var e=this,t=R.ui.themes||{},n=((e.options||{}).theme||"").toLowerCase(),i=(t[n]||{}).diagram;e.options=L({},i,e.options),e.options.editable===!0&&L(e.options,{editable:(i||{}).editable});},_createOptionElements:function _createOptionElements(){var e=this.options,t=e.shapes.length;t&&this._createShapes(),e.connections.length&&this._createConnections(),t&&e.layout&&this.layout(e.layout);},_createShapes:function _createShapes(){var e,t,n=this,i=n.options,o=i.shapes;for(t=0;o.length>t;t++){e=o[t],n.addShape(e);}},_createConnections:function _createConnections(){var e,t,n,i,o=this,r=o.options,a=r.connectionDefaults,s=r.connections;for(i=0;s.length>i;i++){e=s[i],t=o._findConnectionTarget(e.from),n=o._findConnectionTarget(e.to),o.connect(t,n,L({},a,e));}},_findConnectionTarget:function _findConnectionTarget(e){var t,n,i;return e=e||{},t=this,n=ve(e)?e:e.shapeId||e.id,n?(i=t.getShapeById(n),e.connector&&(i=i.getConnector(e.connector))):i=new X(e.x||0,e.y||0),i;},destroy:function destroy(){var e=this;P.fn.destroy.call(e),this._userEvents&&this._userEvents.destroy(),kendo.unbindResize(e._resizeHandler),e.clear(),e.element.off(we),e.scroller.wrapper.off(we),e.canvas.destroy(!0),e.canvas=t,e._destroyEditor(),e.destroyScroller(),e._destroyGlobalToolBar(),e._destroyToolBar();},destroyScroller:function destroyScroller(){var e=this.scroller;e&&(e.destroy(),e.element.remove(),this.scroller=null);},save:function save(){var e,t,n,i={shapes:[],connections:[]};for(e=0;this.shapes.length>e;e++){n=this.shapes[e],n.options.serializable&&i.shapes.push(n.options);}for(e=0;this.connections.length>e;e++){t=this.connections[e],i.connections.push(L({},t.options,t.toJSON()));}return i;},focus:function focus(){if(!this.element.is(kendo._activeElement())){var e,t=this.element,n=t[0],i=[],o=[],r=document.documentElement;do{n=n.parentNode,n.scrollHeight>n.clientHeight&&(i.push(n),o.push(n.scrollTop));}while(n!=r);for(t.focus(),e=0;i.length>e;e++){i[e].scrollTop=o[e];}return!0;}},load:function load(e){this.clear(),this.setOptions(e),this._createShapes(),this._createConnections();},setOptions:function setOptions(e){L(this.options,e);},clear:function clear(){var e=this;e.select(!1),e.mainLayer.clear(),e._shapesQuadTree.clear(),e._initialize();},connect:function connect(e,t,n){var i,o;return this.connectionsDataSource&&this._isEditable?(o=this.connectionsDataSource.add({}),i=this._connectionsDataMap[o.uid],i.source(e),i.target(t),i.redraw(n),i.updateModel()):(i=new k(e,t,L({},this.options.connectionDefaults,n)),this.addConnection(i)),i;},connected:function connected(e,t){var n,i;for(n=0;this.connections.length>n;n++){if(i=this.connections[n],i.from==e&&i.to==t)return!0;}return!1;},addConnection:function addConnection(e,t){return t!==!1&&this.undoRedoService.add(new M.AddConnectionUnit(e,this),!1),e.diagram=this,e._setOptionsFromModel(),e.refresh(),this.mainLayer.append(e.visual),this.connections.push(e),this.trigger(xe,{added:[e],removed:[]}),e;},_addConnection:function _addConnection(e,t){var n,i=this.connectionsDataSource;if(i&&this._isEditable){if(n=f(i,u(e.dataItem)),e.dataItem=n,e.updateModel(),!this.trigger("add",{connection:e}))return this._connectionsDataMap[n.uid]=e,i.add(n),this.addConnection(e,t),e._updateConnectors(),e;}else if(!this.trigger("add",{connection:e}))return this.addConnection(e,t),e._updateConnectors(),e;},addShape:function addShape(e,t){var n,i=this.options.shapeDefaults;if(e instanceof y)n=e;else{if(e instanceof kendo.Class)return;i=L({},i,e||{}),n=new y(i,this);}return t!==!1&&this.undoRedoService.add(new M.AddShapeUnit(n,this),!1),this.shapes.push(n),n.diagram!==this&&(this._shapesQuadTree.insert(n),n.diagram=this),this.mainLayer.append(n.visual),this.trigger(xe,{added:[n],removed:[]}),n;},_addShape:function _addShape(e,t){var n,i,o=this,r=o.dataSource;if(r&&this._isEditable){if(n=f(r,u(e.dataItem)),e.dataItem=n,e.updateModel(),!this.trigger("add",{shape:e}))return this.dataSource.add(n),i=this._inactiveShapeItems.getByUid(n.uid),i.element=e,i.undoable=t,e;}else if(!this.trigger("add",{shape:e}))return this.addShape(e,t);},remove:function remove(e,t){var n,i,o,r;for(e=me(e)?e.slice(0):[e],n=h(e),i=n.shapes,o=n.connections,pe(t)||(t=!0),t&&this.undoRedoService.begin(),this._suspendModelRefresh(),r=i.length-1;r>=0;r--){this._removeItem(i[r],t,o);}for(r=o.length-1;r>=0;r--){this._removeItem(o[r],t);}this._resumeModelRefresh(),t&&this.undoRedoService.commit(!1),this.trigger(xe,{added:[],removed:e});},_removeShapeDataItem:function _removeShapeDataItem(e){this._isEditable&&(this.dataSource.remove(e.dataItem),delete this._dataMap[e.dataItem.id]);},_removeConnectionDataItem:function _removeConnectionDataItem(e){this._isEditable&&(this.connectionsDataSource.remove(e.dataItem),delete this._connectionsDataMap[e.dataItem.uid]);},_triggerRemove:function _triggerRemove(e){var t,n,i,o,r=[];for(o=0;e.length>o;o++){t=e[o],i=t.options.editable,n=t instanceof y?{shape:t}:{connection:t},i&&i.remove!==!1&&!this.trigger("remove",n)&&r.push(t);}return r;},undo:function undo(){this.undoRedoService.undo();},redo:function redo(){this.undoRedoService.redo();},select:function select(e,t){if(!fe(e))return this._selectedItems;t=L({addToSelection:!1},t);var n,i,o=t.addToSelection,r=[],a=[];for(o||this.deselect(),this._internalSelection=!0,e instanceof Array?r=e:e instanceof b&&(r=[e]),n=0;r.length>n;n++){i=r[n],i.select(!0)&&a.push(i);}this._selectionChanged(a,[]),this._internalSelection=!1;},selectAll:function selectAll(){this.select(this.shapes.concat(this.connections));},selectArea:function selectArea(e){var t,n,i,o;if(this._internalSelection=!0,o=[],e instanceof q)for(n=this.shapes.concat(this.connections),t=0;n.length>t;t++){i=n[t],e&&!i._hitTest(e)||!i.options.enable||i.select(!0)&&o.push(i);}this._selectionChanged(o,[]),this._internalSelection=!1;},deselect:function deselect(e){this._internalSelection=!0;var t,n,i=[],o=[];for(e instanceof Array?o=e:e instanceof b?o.push(e):fe(e)||(o=this._selectedItems.slice(0)),n=0;o.length>n;n++){t=o[n],t.select(!1)&&i.push(t);}this._selectionChanged([],i),this._internalSelection=!1;},toFront:function toFront(e,t){var n,i,o;e||(e=this._selectedItems.slice()),n=this._getDiagramItems(e),!pe(t)||t?(i=r(this.mainLayer,n.visuals),o=new ce(this,e,i),this.undoRedoService.add(o)):(this.mainLayer.toFront(n.visuals),this._fixOrdering(n,!0));},toBack:function toBack(e,t){var n,i,o;e||(e=this._selectedItems.slice()),n=this._getDiagramItems(e),!pe(t)||t?(i=r(this.mainLayer,n.visuals),o=new le(this,e,i),this.undoRedoService.add(o)):(this.mainLayer.toBack(n.visuals),this._fixOrdering(n,!1));},bringIntoView:function bringIntoView(e,t){var n,i,o,r,a=this.viewport(),s=new M.RectAlign(a);0!==a.width&&0!==a.height&&(t=L({animate:!1,align:"center middle"},t),"none"==t.align&&(t.align="center middle"),e instanceof b?i=e.bounds(tt):me(e)?i=this.boundingBox(e):e instanceof q&&(i=e.clone()),o=i.clone(),i.zoom(this._zoom),(i.width>a.width||i.height>a.height)&&(this._zoom=this._getValidZoom(be.min(a.width/o.width,a.height/o.height)),i=o.clone().zoom(this._zoom)),this._zoomMainLayer(),n=i.clone(),s.align(i,t.align),r=i.topLeft().minus(n.topLeft()),this.pan(r.times(-1),t.animate));},alignShapes:function alignShapes(e){var t,n,i,o,r,a,s;if(he(e)&&(e="Left"),t=this.select(),0!==t.length){switch(e.toLowerCase()){case"left":case"top":n=Je;break;case"right":case"bottom":n=Ze;}for(o=0;t.length>o;o++){if(i=t[o],i instanceof y)switch(e.toLowerCase()){case"left":n=be.min(n,i.options.x);break;case"top":n=be.min(n,i.options.y);break;case"right":n=be.max(n,i.options.x);break;case"bottom":n=be.max(n,i.options.y);}}for(r=[],a=[],o=0;t.length>o;o++){if(i=t[o],i instanceof y)switch(a.push(i),r.push(i.bounds()),e.toLowerCase()){case"left":case"right":i.position(new X(n,i.options.y));break;case"top":case"bottom":i.position(new X(i.options.x,n));}}s=new M.TransformUnit(a,r),this.undoRedoService.add(s,!1);}},zoom:function zoom(e,t){var n,i,o,r;return e&&(n=t?t.point:new M.Point(0,0),e=this._zoom=this._getValidZoom(e),he(n)||(n=new M.Point(be.round(n.x),be.round(n.y)),i=n.times(e),o=this.modelToView(n),r=o.minus(i),this._storePan(new M.Point(be.round(r.x),be.round(r.y)))),t&&(t.zoom=e),this._panTransform(),this.canvas.surface.hideTooltip(),this._updateAdorners()),this._zoom;},_getPan:function _getPan(e){var t=this.canvas;return t.translate||(e=e.plus(this._pan)),e;},pan:function pan(e,n){var i,o;return e instanceof X?(i=this,o=i.scroller,e=i._getPan(e),e=e.times(-1),n?o.animatedScrollTo(e.x,e.y,function(){i._updateAdorners();}):(o.scrollTo(e.x,e.y),i._updateAdorners()),t):this._pan.times(-1);},viewport:function viewport(){var e=this.element,t=e.width(),n=e.height();return this.toolBar&&(n-=this.toolBar.element.outerHeight()),new q(0,0,t,n);},copy:function copy(){var e,t;if(this.options.copy.enabled)for(this._clipboard=[],this._copyOffset=1,e=0;this._selectedItems.length>e;e++){t=this._selectedItems[e],this._clipboard.push(t);}},cut:function cut(){var e,t;if(this.options.copy.enabled){for(this._clipboard=[],this._copyOffset=0,e=0;this._selectedItems.length>e;e++){t=this._selectedItems[e],this._clipboard.push(t);}this.remove(this._clipboard,!0);}},paste:function paste(){var e,t,n,i,o,r,a,s;if(this._clipboard.length>0){for(i={},o=h(this._clipboard),r=o.connections,a=o.shapes,s={x:this._copyOffset*this.options.copy.offsetX,y:this._copyOffset*this.options.copy.offsetY},this.deselect(),n=0;a.length>n;n++){e=a[n],t=e.clone(),i[e.id]=t,t.position(new X(e.options.x+s.x,e.options.y+s.y)),t.diagram=this,t=this._addShape(t),t&&t.select();}for(n=0;r.length>n;n++){e=r[n],t=this._addConnection(e.clone()),t&&(this._updateCopiedConnection(t,e,"source",i,s),this._updateCopiedConnection(t,e,"target",i,s),t.select(!0),t.updateModel());}this._syncChanges(),this._copyOffset+=1;}},_updateCopiedConnection:function _updateCopiedConnection(e,t,n,i,o){var r,a,s,l=t[n](),c=this;l instanceof w&&i[l.shape.id]?(s=i[l.shape.id],c.getShapeById(s.id)?e[n](s.getConnector(l.options.name)):(a=c._inactiveShapeItems.getByUid(s.dataItem.uid),a&&(r=function r(t){s=c._dataMap[t.id],e[n](s.getConnector(l.options.name)),e.updateModel();},c._deferredConnectionUpdates.push(a.onActivate(r))))):e[n](new X(t[n+"Point"]().x+o.x,t[n+"Point"]().y+o.y));},boundingBox:function boundingBox(e,t){var n,i,o,r=q.empty(),a=fe(e)?this._getDiagramItems(e):{shapes:this.shapes};if(a.shapes.length>0)for(i=a.shapes[0],r=i.bounds(nt),o=1;a.shapes.length>o;o++){i=a.shapes[o],n=i.bounds(nt),t===!0&&(n.x-=i._rotationOffset.x,n.y-=i._rotationOffset.y),r=r.union(n);}return r;},_containerOffset:function _containerOffset(){var e=this.element.offset();return this.toolBar&&(e.top+=this.toolBar.element.outerHeight()),e;},documentToView:function documentToView(e){var t=this._containerOffset();return new X(e.x-t.left,e.y-t.top);},viewToDocument:function viewToDocument(e){var t=this._containerOffset();return new X(e.x+t.left,e.y+t.top);},viewToModel:function viewToModel(e){return this._transformWithMatrix(e,this._matrixInvert);},modelToView:function modelToView(e){return this._transformWithMatrix(e,this._matrix);},modelToLayer:function modelToLayer(e){return this._transformWithMatrix(e,this._layerMatrix);},layerToModel:function layerToModel(e){return this._transformWithMatrix(e,this._layerMatrixInvert);},documentToModel:function documentToModel(e){var t=this.documentToView(e);return this.canvas.translate||(t.x=t.x+this.scroller.scrollLeft,t.y=t.y+this.scroller.scrollTop),this.viewToModel(t);},modelToDocument:function modelToDocument(e){return this.viewToDocument(this.modelToView(e));},_transformWithMatrix:function _transformWithMatrix(e,t){var n,i,o=e;return e instanceof X?t&&(o=t.apply(e)):(n=this._transformWithMatrix(e.topLeft(),t),i=this._transformWithMatrix(e.bottomRight(),t),o=q.fromPoints(n,i)),o;},setDataSource:function setDataSource(e){this.options.dataSource=e,this._dataSource(),this.options.autoBind&&this.dataSource.fetch();},setConnectionsDataSource:function setConnectionsDataSource(e){this.options.connectionsDataSource=e,this._connectionDataSource(),this.options.autoBind&&this.connectionsDataSource.fetch();},layout:function layout(e){var t,n,i,o,r;switch(this._layouting=!0,he(e)&&(e=this.options.layout),t=he(e)||he(e.type)?"Tree":e.type,t.toLowerCase()){case"tree":n=new M.TreeLayout(this);break;case"layered":n=new M.LayeredLayout(this);break;case"forcedirected":case"force":case"spring":case"springembedder":n=new M.SpringLayout(this);break;default:throw"Layout algorithm '"+t+"' is not supported.";}i=new M.LayoutState(this),o=n.layout(e),o&&(r=new M.LayoutUndoUnit(i,o,e?e.animate:null),this.undoRedoService.add(r)),this._layouting=!1,this._redrawConnections();},getShapeById:function getShapeById(e){var t;return(t=ae.first(this.shapes,function(t){return t.visual.id===e;}))?t:t=ae.first(this.connections,function(t){return t.visual.id===e;});},getShapeByModelId:function getShapeByModelId(e){var t;return t=this._isEditable?this._dataMap[e]:ae.first(this.shapes,function(t){return(t.dataItem||{}).id===e;});},getShapeByModelUid:function getShapeByModelUid(e){var t;return t=this._isEditable?ae.first(this.shapes,function(t){return(t.dataItem||{}).uid===e;}):this._dataMap[e];},getConnectionByModelId:function getConnectionByModelId(e){var t;return this.connectionsDataSource&&(t=ae.first(this.connections,function(t){return(t.dataItem||{}).id===e;})),t;},getConnectionByModelUid:function getConnectionByModelUid(e){var t;return this.connectionsDataSource&&(t=this._connectionsDataMap[e]),t;},_extendLayoutOptions:function _extendLayoutOptions(e){e.layout&&(e.layout=L(M.LayoutBase.fn.defaultOptions||{},e.layout));},_selectionChanged:function _selectionChanged(e,t){(e.length||t.length)&&this.trigger(Le,{selected:e,deselected:t});},_getValidZoom:function _getValidZoom(e){return be.min(be.max(e,this.options.zoomMin),this.options.zoomMax);},_panTransform:function _panTransform(e){var t=this,n=e||t._pan;t.canvas.translate?(t.scroller.scrollTo(n.x,n.y),t._zoomMainLayer()):(t._storePan(n),t._transformMainLayer());},_finishPan:function _finishPan(){this.trigger(Ne,{total:this._pan,delta:Number.NaN});},_storePan:function _storePan(e){this._pan=e,this._storeViewMatrix();},_zoomMainLayer:function _zoomMainLayer(){var e=this._zoom,t=new j(0,0,e,e);t.render(this.mainLayer),this._storeLayerMatrix(t),this._storeViewMatrix();},_transformMainLayer:function _transformMainLayer(){var e=this._pan,t=this._zoom,n=new j(e.x,e.y,t,t);n.render(this.mainLayer),this._storeLayerMatrix(n),this._storeViewMatrix();},_storeLayerMatrix:function _storeLayerMatrix(e){this._layerMatrix=e.toMatrix(),this._layerMatrixInvert=e.invert().toMatrix();},_storeViewMatrix:function _storeViewMatrix(){var e=this._pan,t=this._zoom,n=new j(e.x,e.y,t,t);this._matrix=n.toMatrix(),this._matrixInvert=n.invert().toMatrix();},_toIndex:function _toIndex(e,t){var n=this._getDiagramItems(e);this.mainLayer.toIndex(n.visuals,t),this._fixOrdering(n,!1);},_fixOrdering:function _fixOrdering(e,t){var n,i,o=t?this.shapes.length-1:0,r=t?this.connections.length-1:0;for(n=0;e.shapes.length>n;n++){i=e.shapes[n],ae.remove(this.shapes,i),ae.insert(this.shapes,i,o);}for(n=0;e.cons.length>n;n++){i=e.cons[n],ae.remove(this.connections,i),ae.insert(this.connections,i,r);}},_getDiagramItems:function _getDiagramItems(e){var t,n,i={},o=e;for(i.visuals=[],i.shapes=[],i.cons=[],e?me(e)||(o=[e]):o=this._selectedItems.slice(),t=0;o.length>t;t++){n=o[t],n instanceof y?(i.shapes.push(n),i.visuals.push(n.visual)):n instanceof k&&(i.cons.push(n),i.visuals.push(n.visual));}return i;},_removeItem:function _removeItem(e,t,n){e.select(!1),e instanceof y?(this._removeShapeDataItem(e),this._removeShape(e,t,n)):e instanceof k&&(this._removeConnectionDataItem(e),this._removeConnection(e,t)),this.mainLayer.remove(e.visual);},_removeShape:function _removeShape(e,t,n){var i,o,r,a,s=[],l=[];for(this.toolService._removeHover(),t&&this.undoRedoService.addCompositeItem(new $(e)),ae.remove(this.shapes,e),this._shapesQuadTree.remove(e),i=0;e.connectors.length>i;i++){for(r=e.connectors[i],a=0;r.connections.length>a;a++){o=r.connections[a],n&&R.inArray(o,n)||(o.sourceConnector==r?s.push(o):o.targetConnector==r&&l.push(o));}}for(i=0;s.length>i;i++){s[i].source(null,t),s[i].updateModel();}for(i=0;l.length>i;i++){l[i].target(null,t),l[i].updateModel();}},_removeConnection:function _removeConnection(e,t){e.sourceConnector&&ae.remove(e.sourceConnector.connections,e),e.targetConnector&&ae.remove(e.targetConnector.connections,e),t&&this.undoRedoService.addCompositeItem(new Y(e)),ae.remove(this.connections,e);},_removeDataItems:function _removeDataItems(e,t){var n,i,o,r;for(e=me(e)?e:[e];e.length;){if(n=e.shift(),o=this._dataMap[n.uid],o&&(this._removeShapeConnections(o),this._removeItem(o,!1),delete this._dataMap[n.uid],t&&n.hasChildren&&n.loaded()))for(i=n.children.data(),r=0;i.length>r;r++){e.push(i[r]);}}},_removeShapeConnections:function _removeShapeConnections(e){var t,n=e.connections();if(n)for(t=0;n.length>t;t++){this._removeItem(n[t],!1);}},_addDataItem:function _addDataItem(e,t){var n,i;if(pe(e))return(n=this._dataMap[e.id])?n:(i=L({},this.options.shapeDefaults),i.dataItem=e,n=new y(i,this),this.addShape(n,t!==!1),this._dataMap[e.id]=n,n);},_addDataItemByUid:function _addDataItemByUid(e){var t,n;if(pe(e))return(t=this._dataMap[e.uid])?t:(n=L({},this.options.shapeDefaults),n.dataItem=e,t=new y(n,this),this.addShape(t),this._dataMap[e.uid]=t,t);},_addDataItems:function _addDataItems(e,t){var n,i,o,r,a;for(i=0;e.length>i;i++){n=e[i],o=this._addDataItemByUid(n),r=this._addDataItemByUid(t),r&&!this.connected(r,o)&&(a=this.connect(r,o));}},_refreshSource:function _refreshSource(e){var t,n,i=this,o=e.node,r=e.action,a=e.items,s=i.options;if(e.field)for(t=0;a.length>t;t++){this._dataMap[a[t].uid]&&this._dataMap[a[t].uid].redrawVisual();}else{if("remove"==r)this._removeDataItems(e.items,!0);else for(r&&"itemloaded"!==r||this._bindingRoots||(this._bindingRoots=!0,n=!0),r||o||i.clear(),this._addDataItems(a,o),t=0;a.length>t;t++){a[t].load();}s.layout&&(n||"remove"==r||"add"==r)&&i.layout(s.layout),n&&(this.trigger("dataBound"),this._bindingRoots=!1);}},_addItem:function _addItem(e){e instanceof y?this.addShape(e):e instanceof k&&this.addConnection(e);},_createToolBar:function _createToolBar(e){var t,n,i,o,r,a,s,l,c,d=this.toolService.diagram;this.singleToolBar||1!==d.select().length||(t=d.select()[0],t&&t.options.editable!==!1&&(n=t.options.editable,i=n.tools,this._isEditable&&0===i.length&&(t instanceof y?i=["edit","rotateClockwise","rotateAnticlockwise"]:t instanceof k&&(i=["edit"]),n&&n.remove!==!1&&i.push("delete")),i&&i.length&&(o=20,this.singleToolBar=new C(d,{tools:i,click:B(this._toolBarClick,this),modal:!0}),a=this.singleToolBar._popup.element.outerWidth(),s=this.singleToolBar._popup.element.outerHeight(),t instanceof y?(l=this.modelToView(t.bounds(nt)),r=X(l.x,l.y).minus(X((a-l.width)/2,s+o))):t instanceof k&&(c=this.modelToView(t.bounds()),r=X(c.x,c.y).minus(X((a-c.width-20)/2,s+o))),r?(this.canvas.translate||(r=r.minus(X(this.scroller.scrollLeft,this.scroller.scrollTop))),r=this.viewToDocument(r),r=X(be.max(r.x,0),be.max(r.y,0)),this.singleToolBar.showAt(r),e&&this.singleToolBar._popup.one("close",v)):this._destroyToolBar())));},_toolBarClick:function _toolBarClick(e){this.trigger("toolBarClick",e),this._destroyToolBar();},_normalizePointZoom:function _normalizePointZoom(e){return e.times(1/this.zoom());},_initialize:function _initialize(){this.shapes=[],this._selectedItems=[],this.connections=[],this._dataMap={},this._connectionsDataMap={},this._inactiveShapeItems=new d(),this._deferredConnectionUpdates=[],this.undoRedoService=new ee({undone:this._syncHandler,redone:this._syncHandler}),this.id=M.randomId();},_fetchFreshData:function _fetchFreshData(){var e=this;e._dataSource(),e._isEditable&&e._connectionDataSource(),e.options.autoBind&&(e._isEditable?(this._loadingShapes=!0,this._loadingConnections=!0,e.dataSource.fetch(),e.connectionsDataSource.fetch()):e.dataSource.fetch());},_dataSource:function _dataSource(){var e,t;pe(this.options.connectionsDataSource)?(this._isEditable=!0,e=this.options.dataSource||{},t=me(e)?{data:e}:e,this.dataSource&&this._shapesRefreshHandler?this.dataSource.unbind("change",this._shapesRefreshHandler).unbind("requestStart",this._shapesRequestStartHandler).unbind("error",this._shapesErrorHandler):(this._shapesRefreshHandler=B(this._refreshShapes,this),this._shapesRequestStartHandler=B(this._shapesRequestStart,this),this._shapesErrorHandler=B(this._error,this)),this.dataSource=kendo.data.DataSource.create(t).bind("change",this._shapesRefreshHandler).bind("requestStart",this._shapesRequestStartHandler).bind("error",this._shapesErrorHandler)):(this._treeDataSource(),this._isEditable=!1);},_connectionDataSource:function _connectionDataSource(){var e,t=this.options.connectionsDataSource;t&&(e=me(t)?{data:t}:t,this.connectionsDataSource&&this._connectionsRefreshHandler?this.connectionsDataSource.unbind("change",this._connectionsRefreshHandler).unbind("requestStart",this._connectionsRequestStartHandler).unbind("error",this._connectionsErrorHandler):(this._connectionsRefreshHandler=B(this._refreshConnections,this),this._connectionsRequestStartHandler=B(this._connectionsRequestStart,this),this._connectionsErrorHandler=B(this._connectionsError,this)),this.connectionsDataSource=kendo.data.DataSource.create(e).bind("change",this._connectionsRefreshHandler).bind("requestStart",this._connectionsRequestStartHandler).bind("error",this._connectionsErrorHandler));},_shapesRequestStart:function _shapesRequestStart(e){"read"==e.type&&(this._loadingShapes=!0);},_connectionsRequestStart:function _connectionsRequestStart(e){"read"==e.type&&(this._loadingConnections=!0);},_error:function _error(){this._loadingShapes=!1;},_connectionsError:function _connectionsError(){this._loadingConnections=!1;},_refreshShapes:function _refreshShapes(e){"remove"===e.action?this._shouldRefresh()&&this._removeShapes(e.items):"itemchange"===e.action?this._shouldRefresh()&&this._updateShapes(e.items,e.field):"add"===e.action?this._inactiveShapeItems.add(e.items):"sync"===e.action?this._syncShapes(e.items):this.refresh();},_shouldRefresh:function _shouldRefresh(){return!this._suspended;},_suspendModelRefresh:function _suspendModelRefresh(){this._suspended=(this._suspended||0)+1;},_resumeModelRefresh:function _resumeModelRefresh(){this._suspended=be.max((this._suspended||0)-1,0);},refresh:function refresh(){this._loadingShapes=!1,this._loadingConnections||this._rebindShapesAndConnections();},_rebindShapesAndConnections:function _rebindShapesAndConnections(){this.clear(),this._addShapes(this.dataSource.view()),this.connectionsDataSource&&this._addConnections(this.connectionsDataSource.view(),!1),this.options.layout?this.layout(this.options.layout):this._redrawConnections(),this.trigger("dataBound");},refreshConnections:function refreshConnections(){this._loadingConnections=!1,this._loadingShapes||this._rebindShapesAndConnections();},_redrawConnections:function _redrawConnections(){var e,t=this.connections;for(e=0;t.length>e;e++){t[e].refresh();}},_removeShapes:function _removeShapes(e){var t,n,i=this._dataMap;for(n=0;e.length>n;n++){t=e[n],i[t.id]&&(this.remove(i[t.id],!1),i[t.id]=null);}},_syncShapes:function _syncShapes(){var e=this,t=e._inactiveShapeItems;t.forEach(function(n){var i=n.dataItem,o=n.element;i.isNew()||(o?(o._setOptionsFromModel(),e.addShape(o,n.undoable),e._dataMap[i.id]=o):e._addDataItem(i),n.activate(),t.remove(i));});},_updateShapes:function _updateShapes(e,t){var n,i,o;for(n=0;e.length>n;n++){i=e[n],o=this._dataMap[i.id],o&&o.updateOptionsFromModel(i,t);}},_addShapes:function _addShapes(e){for(var t=0;e.length>t;t++){this._addDataItem(e[t],!1);}},_refreshConnections:function _refreshConnections(e){"remove"===e.action?this._shouldRefresh()&&this._removeConnections(e.items):"add"===e.action?this._addConnections(e.items):"sync"===e.action||("itemchange"===e.action?this._shouldRefresh()&&this._updateConnections(e.items):this.refreshConnections());},_removeConnections:function _removeConnections(e){for(var t=0;e.length>t;t++){this.remove(this._connectionsDataMap[e[t].uid],!1),this._connectionsDataMap[e[t].uid]=null;}},_updateConnections:function _updateConnections(e){var t,n,i;for(t=0;e.length>t;t++){n=e[t],i=this._connectionsDataMap[n.uid],i.updateOptionsFromModel(n);}},_addConnections:function _addConnections(e,t){var n,i,o=e.length;for(n=0;o>n;n++){i=e[n],this._addConnectionDataItem(i,t);}},_addConnectionDataItem:function _addConnectionDataItem(e,t){var n,i,o,r;this._connectionsDataMap[e.uid]||(n=this._validateConnector(e.from),pe(n)&&null!==n||(n=new X(e.fromX,e.fromY)),i=this._validateConnector(e.to),pe(i)&&null!==i||(i=new X(e.toX,e.toY)),pe(n)&&pe(i)&&(o=L({},this.options.connectionDefaults),o.dataItem=e,r=new k(n,i,o),this._connectionsDataMap[e.uid]=r,this.addConnection(r,t)));},_validateConnector:function _validateConnector(e){var t;return pe(e)&&null!==e&&(t=this._dataMap[e]),t;},_treeDataSource:function _treeDataSource(){var e=this,t=e.options,n=t.dataSource;if(n=me(n)?{data:n}:n,n instanceof kendo.data.DataSource&&!(n instanceof kendo.data.HierarchicalDataSource))throw Error("Incorrect DataSource type. If a single dataSource instance is set to the diagram then it should be a HierarchicalDataSource. You should set only the options instead of an instance or a HierarchicalDataSource instance or supply connectionsDataSource as well.");n.fields||(n.fields=[{field:"text"},{field:"url"},{field:"spriteCssClass"},{field:"imageUrl"}]),e.dataSource&&e._refreshHandler&&e._unbindDataSource(),e._refreshHandler=B(e._refreshSource,e),e._errorHandler=B(e._error,e),e.dataSource=N.create(n).bind(xe,e._refreshHandler).bind(Re,e._errorHandler);},_unbindDataSource:function _unbindDataSource(){var e=this;e.dataSource.unbind(xe,e._refreshHandler).unbind(Re,e._errorHandler);},_adorn:function _adorn(e,n){n!==t&&e&&(n?(this._adorners.push(e),this.adornerLayer.append(e.visual)):(ae.remove(this._adorners,e),this.adornerLayer.remove(e.visual)));},_showConnectors:function _showConnectors(e,t){t?this._connectorsAdorner.show(e):this._connectorsAdorner.destroy();},_updateAdorners:function _updateAdorners(){var e,t,n=this._adorners;for(e=0;n.length>e;e++){t=n[e],t.refreshBounds&&t.refreshBounds(),t.refresh();}},_refresh:function _refresh(){for(var e=0;this.connections.length>e;e++){this.connections[e].refresh();}},_destroyToolBar:function _destroyToolBar(){this.singleToolBar&&(this.singleToolBar.hide(),this.singleToolBar.destroy(),this.singleToolBar=null);},_destroyGlobalToolBar:function _destroyGlobalToolBar(){this.toolBar&&(this.toolBar.hide(),this.toolBar.destroy(),this.toolBar=null);},exportDOMVisual:function exportDOMVisual(){var e=this.canvas._viewBox,t=F.transform().translate(-e.x,-e.y),n=new F.Rect([0,0],[e.width,e.height]),i=I.Path.fromRect(n),o=new I.Group({transform:t}),r=new I.Group({clip:i}),a=this.canvas.drawingElement.children[0];return r.append(o),o.children.push(a),r;},exportVisual:function exportVisual(){var e=F.transform().scale(1/this._zoom),t=new I.Group({transform:e}),n=this.mainLayer.drawingElement;return t.children.push(n),t;},_syncChanges:function _syncChanges(){this._syncShapeChanges(),this._syncConnectionChanges();},_syncShapeChanges:function _syncShapeChanges(){this.dataSource&&this._isEditable&&this.dataSource.sync();},_syncConnectionChanges:function _syncConnectionChanges(){var t=this;t.connectionsDataSource&&t._isEditable&&(e.when.apply(e,t._deferredConnectionUpdates).then(function(){t.connectionsDataSource.sync();}),t.deferredConnectionUpdates=[]);}}),R.ExportMixin.extend(x.fn,!0),kendo.PDFMixin&&kendo.PDFMixin.extend(x.fn),C=kendo.Observable.extend({init:function init(e,t){kendo.Observable.fn.init.call(this),this.diagram=e,this.options=L({},this.options,t),this._tools=[],this.createToolBar(),this.createTools(),this.appendTools(),this.options.modal&&this.createPopup(),this.bind(this.events,t);},events:["click"],createPopup:function createPopup(){this.container=e("<div/>").append(this.element),this._popup=this.container.kendoPopup({}).getKendoPopup();},appendTools:function appendTools(){var e,t;for(e=0;this._tools.length>e;e++){t=this._tools[e],(t.buttons&&t.buttons.length||!pe(t.buttons))&&this._toolBar.add(t);}},createToolBar:function createToolBar(){this.element=e("<div/>"),this._toolBar=this.element.kendoToolBar({click:B(this.click,this),resizable:!1}).getKendoToolBar(),this.element.css("border","none");},createTools:function createTools(){for(var e=0;this.options.tools.length>e;e++){this.createTool(this.options.tools[e]);}},createTool:function createTool(e){_e(e)||(e={name:e});var t=e.name+"Tool";this[t]?this[t](e):this._tools.push(L({},e,{attributes:this._setAttributes({action:e.name})}));},showAt:function showAt(e){this._popup&&this._popup.open(e.x,e.y);},hide:function hide(){this._popup&&this._popup.close();},newGroup:function newGroup(){return{type:"buttonGroup",buttons:[]};},editTool:function editTool(){this._tools.push({spriteCssClass:"k-icon k-i-pencil",showText:"overflow",type:"button",text:"Edit",attributes:this._setAttributes({action:"edit"})});},deleteTool:function deleteTool(){this._tools.push({spriteCssClass:"k-icon k-i-close",showText:"overflow",type:"button",text:"Delete",attributes:this._setAttributes({action:"delete"})});},rotateAnticlockwiseTool:function rotateAnticlockwiseTool(e){this._appendGroup("rotate"),this._rotateGroup.buttons.push({spriteCssClass:"k-icon k-i-rotateccw",showText:"overflow",text:"RotateAnticlockwise",group:"rotate",attributes:this._setAttributes({action:"rotateAnticlockwise",step:e.step})});},rotateClockwiseTool:function rotateClockwiseTool(e){this._appendGroup("rotate"),this._rotateGroup.buttons.push({spriteCssClass:"k-icon k-i-rotatecw",attributes:this._setAttributes({action:"rotateClockwise",step:e.step}),showText:"overflow",text:"RotateClockwise",group:"rotate"});},createShapeTool:function createShapeTool(){this._appendGroup("create"),this._createGroup.buttons.push({spriteCssClass:"k-icon k-i-shape",showText:"overflow",text:"CreateShape",group:"create",attributes:this._setAttributes({action:"createShape"})});},createConnectionTool:function createConnectionTool(){this._appendGroup("create"),this._createGroup.buttons.push({spriteCssClass:"k-icon k-i-connector",showText:"overflow",text:"CreateConnection",group:"create",attributes:this._setAttributes({action:"createConnection"})});},undoTool:function undoTool(){this._appendGroup("history"),this._historyGroup.buttons.push({spriteCssClass:"k-icon k-i-undo",showText:"overflow",text:"Undo",group:"history",attributes:this._setAttributes({action:"undo"})});},redoTool:function redoTool(){this._appendGroup("history"),this._historyGroup.buttons.push({spriteCssClass:"k-icon k-i-redo",showText:"overflow",text:"Redo",group:"history",attributes:this._setAttributes({action:"redo"})});},_appendGroup:function _appendGroup(e){var t="_"+e+"Group";this[t]||(this[t]=this.newGroup(),this._tools.push(this[t]));},_setAttributes:function _setAttributes(e){var t={};return e.action&&(t[kendo.attr("action")]=e.action),e.step&&(t[kendo.attr("step")]=e.step),t;},_getAttributes:function _getAttributes(e){var t,n={},i=e.attr(kendo.attr("action"));return i&&(n.action=i),t=e.attr(kendo.attr("step")),t&&(n.step=t),n;},click:function click(t){var n=this._getAttributes(e(t.target)),i=n.action;i&&this[i]&&this[i](n),this.trigger("click",this.eventData(i,t.target));},eventData:function eventData(e,t){var n,i,o=this.selectedElements(),r=o.length,a=[],s=[];for(i=0;r>i;i++){n=o[i],n instanceof y?a.push(n):s.push(n);}return{shapes:a,connections:s,action:e,target:t};},"delete":function _delete(){var e=this.diagram,t=e._triggerRemove(this.selectedElements());t.length&&(this.diagram.remove(t,!0),this.diagram._syncChanges());},edit:function edit(){var e=this.selectedElements();1===e.length&&this.diagram.edit(e[0]);},rotateClockwise:function rotateClockwise(e){var t=parseFloat(e.step||90);this._rotate(t);},rotateAnticlockwise:function rotateAnticlockwise(e){var t=parseFloat(e.step||90);this._rotate(-t);},_rotate:function _rotate(e){var t=this.diagram._resizingAdorner;t.angle(t.angle()+e),t.rotate();},selectedElements:function selectedElements(){return this.diagram.select();},createShape:function createShape(){this.diagram.createShape();},createConnection:function createConnection(){this.diagram.createConnection();},undo:function undo(){this.diagram.undo();},redo:function redo(){this.diagram.redo();},destroy:function destroy(){this.diagram=null,this.element=null,this.options=null,this._toolBar&&this._toolBar.destroy(),this._popup&&this._popup.destroy();}}),S=kendo.Observable.extend({init:function init(e,t){kendo.Observable.fn.init.call(this),this.options=H(!0,{},this.options,t),this.element=e,this.model=this.options.model,this.fields=this._getFields(),this._initContainer(),this.createEditable();},options:{editors:{}},_initContainer:function _initContainer(){this.wrapper=this.element;},createEditable:function createEditable(){var e=this.options;this.editable=new kendo.ui.Editable(this.wrapper,{fields:this.fields,target:e.target,clearContainer:!1,model:this.model});},_isEditable:function _isEditable(e){return this.model.editable&&this.model.editable(e);},_getFields:function _getFields(){var e,t,n,i=[],o=this.model.fields;for(e in o){t={},this._isEditable(e)&&(n=this.options.editors[e],n&&(t.editor=n),t.field=e,i.push(t));}return i;},end:function end(){return this.editable.end();},destroy:function destroy(){this.editable.destroy(),this.editable.element.find("["+kendo.attr("container-for")+"]").empty(),this.model=this.wrapper=this.element=this.columns=this.editable=null;}}),T=S.extend({init:function init(e,t){S.fn.init.call(this,e,t),this.bind(this.events,this.options),this.open();},events:["update","cancel"],options:{window:{modal:!0,resizable:!1,draggable:!0,title:"Edit",visible:!1}},_initContainer:function _initContainer(){var t,n=this;this.wrapper=e('<div class="k-popup-edit-form"/>').attr(kendo.attr("uid"),this.model.uid),t="",this.options.template?(t+=this._renderTemplate(),this.fields=[]):t+=this._renderFields(),t+=this._renderButtons(),this.wrapper.append(e('<div class="k-edit-form-container"/>').append(t)),this.window=new kendo.ui.Window(this.wrapper.appendTo(this.element),this.options.window),this.window.bind("close",function(e){e.userTriggered&&(e.sender.element.focus(),n._cancelClick(e));}),this._attachButtonEvents();},_renderTemplate:function _renderTemplate(){var e=this.options.template;return"string"==typeof e&&(e=window.unescape(e)),e=kendo.template(e)(this.model);},_renderFields:function _renderFields(){var e,t,n="";for(e=0;this.fields.length>e;e++){t=this.fields[e],n+='<div class="k-edit-label"><label for="'+t.field+'">'+(t.field||"")+"</label></div>",this._isEditable(t.field)&&(n+="<div "+kendo.attr("container-for")+'="'+t.field+'" class="k-edit-field"></div>');}return n;},_renderButtons:function _renderButtons(){var e='<div class="k-edit-buttons k-state-default">';return e+=this._createButton("update"),e+=this._createButton("cancel"),e+="</div>";},_createButton:function _createButton(e){return kendo.template(ut)(_[e]);},_attachButtonEvents:function _attachButtonEvents(){this._cancelClickHandler=B(this._cancelClick,this),this.window.element.on(Ce+we,"a.k-diagram-cancel",this._cancelClickHandler),this._updateClickHandler=B(this._updateClick,this),this.window.element.on(Ce+we,"a.k-diagram-update",this._updateClickHandler);},_updateClick:function _updateClick(e){e.preventDefault(),this.trigger("update");},_cancelClick:function _cancelClick(e){e.preventDefault(),this.trigger("cancel");},open:function open(){this.window.center().open();},close:function close(){this.window.bind("deactivate",B(this.destroy,this)).close();},destroy:function destroy(){this.window.close().destroy(),this.window.element.off(Ce+we,"a.k-diagram-cancel",this._cancelClickHandler),this.window.element.off(Ce+we,"a.k-diagram-update",this._updateClickHandler),this._cancelClickHandler=null,this._editUpdateClickHandler=null,this.window=null,S.fn.destroy.call(this);}}),c.fn=c.prototype={onActivate:function onActivate(t){var n=e.Deferred();return this.callbacks.push({callback:t,deferred:n}),n;},activate:function activate(){var e,t,n=this.callbacks;for(t=0;n.length>t;t++){e=this.callbacks[t],e.callback(this.dataItem),e.deferred.resolve();}this.callbacks=[];}},d.fn=d.prototype={add:function add(e){for(var t=0;e.length>t;t++){this.items[e[t].uid]=new c(e[t]);}},forEach:function forEach(e){for(var t in this.items){e(this.items[t]);}},getByUid:function getByUid(e){return this.items[e];},remove:function remove(e){delete this.items[e.uid];}},D=z.extend({init:function init(){this.shapes=[];},_add:function _add(e,t){this.shapes.push({bounds:t,shape:e}),e._quadNode=this;},insert:function insert(e,t){this._add(e,t);},remove:function remove(e){var t,n=this.shapes,i=n.length;for(t=0;i>t;t++){if(n[t].shape===e){n.splice(t,1);break;}}},hitTestRect:function hitTestRect(e){var t,n=this.shapes,i=n.length;for(t=0;i>t;t++){if(this._testRect(n[t].shape,e))return!0;}},_testRect:function _testRect(e,t){var n,i=e.rotate().angle,o=e.bounds();return n=i?J.rects(t,o,-i):o.overlaps(t);}}),A=D.extend({init:function init(e){D.fn.init.call(this),this.children=[],this.rect=e;},inBounds:function inBounds(e){var t=this.rect,n=t.bottomRight(),i=e.bottomRight(),o=e.x>=t.x&&e.y>=t.y&&n.x>=i.x&&n.y>=i.y;return o;},overlapsBounds:function overlapsBounds(e){return this.rect.overlaps(e);},insert:function insert(e,t){var n,i=!1,o=this.children,r=o.length;if(this.inBounds(t)){if(!r&&4>this.shapes.length)this._add(e,t);else{for(r||this._initChildren(),n=0;o.length>n;n++){if(o[n].insert(e,t)){i=!0;break;}}i||this._add(e,t);}i=!0;}return i;},_initChildren:function _initChildren(){var e,t,n=this.rect,i=this.children,o=this.shapes,r=n.center(),a=n.width/2,s=n.height/2;for(i.push(new A(new q(n.x,n.y,a,s)),new A(new q(r.x,n.y,a,s)),new A(new q(n.x,r.y,a,s)),new A(new q(r.x,r.y,a,s))),t=o.length-1;t>=0;t--){for(e=0;i.length>e;e++){if(i[e].insert(o[t].shape,o[t].bounds)){o.splice(t,1);break;}}}},hitTestRect:function hitTestRect(e){var t,n=this.children,i=n.length,o=!1;if(this.overlapsBounds(e))if(D.fn.hitTestRect.call(this,e))o=!0;else for(t=0;i>t;t++){if(n[t].hitTestRect(e)){o=!0;break;}}return o;}}),E=z.extend({ROOT_SIZE:1e3,init:function init(e){var t=B(this._boundsChange,this);e.bind(ke,t),e.bind(He,t),this.initRoots();},initRoots:function initRoots(){this.rootMap={},this.root=new D();},clear:function clear(){this.initRoots();},_boundsChange:function _boundsChange(e){e.item._quadNode&&e.item._quadNode.remove(e.item),this.insert(e.item);},insert:function insert(e){var t=e.bounds(nt),n=this.ROOT_SIZE,i=this.getSectors(t),o=i[0][0],r=i[1][0];this.inRoot(i)?this.root.insert(e,t):(this.rootMap[o]||(this.rootMap[o]={}),this.rootMap[o][r]||(this.rootMap[o][r]=new A(new q(o*n,r*n,n,n))),this.rootMap[o][r].insert(e,t));},remove:function remove(e){e._quadNode&&e._quadNode.remove(e);},inRoot:function inRoot(e){return e[0].length>1||e[1].length>1;},getSectors:function getSectors(e){var t,n,i=this.ROOT_SIZE,o=e.bottomRight(),r=be.floor(o.x/i),a=be.floor(o.y/i),s=[[],[]];for(t=be.floor(e.x/i);r>=t;t++){s[0].push(t);}for(n=be.floor(e.y/i);a>=n;n++){s[1].push(n);}return s;},hitTestRect:function hitTestRect(e){var t,n,i,o,r,a=this.getSectors(e);if(this.root.hitTestRect(e))return!0;for(t=0;a[0].length>t;t++){for(i=a[0][t],n=0;a[1].length>n;n++){if(o=a[1][n],r=(this.rootMap[i]||{})[o],r&&r.hitTestRect(e))return!0;}}return!1;}}),R.ui.plugin(x),L(M,{Shape:y,Connection:k,Connector:w,DiagramToolBar:C,QuadNode:A,QuadRoot:D,ShapesQuadTree:E,PopupEditor:T});}(window.kendo.jQuery);},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("kendo.dataviz.diagram.min",["kendo.data.min","kendo.draganddrop.min","kendo.userevents.min","kendo.mobile.scroller.min","kendo.drawing.min","dataviz/diagram/utils.min","dataviz/diagram/math.min","dataviz/diagram/svg.min","dataviz/diagram/services.min","dataviz/diagram/layout.min","dataviz/diagram/dom.min"],e);}(function(){},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("kendo.dataviz.treemap.min",["kendo.data.min","kendo.userevents.min","kendo.dataviz.themes.min"],e);}(function(){return function(e,t){function n(e,t){if(null===t)return t;var n=k(e,!0);return n(t);}function i(e){return(typeof e==="undefined"?"undefined":_typeof(e))!==I;}function o(e,t,n){var i,o,l=s(e),c=s(t),d=u(e)-u(t)<0,h=[];for(h.push(e),i=0;n>i;i++){o={r:r(l.r,c.r,i,n,d),g:r(l.g,c.g,i,n,d),b:r(l.b,c.b,i,n,d)},h.push(a(o));}return h.push(t),h;}function r(e,t,n,i,o){var r,a=f.min(f.abs(e),f.abs(t)),s=f.max(f.abs(e),f.abs(t)),l=(s-a)/(i+1),c=l*(n+1);return r=o?a+c:s-c;}function a(e){return"#"+l(e.r)+l(e.g)+l(e.b);}function s(e){e=e.replace("#","");var t=c(e);return{r:d(t.r),g:d(t.g),b:d(t.b)};}function l(e){var t=f.round(e).toString(16).toUpperCase();return 1===t.length&&(t="0"+t),t;}function c(e){var t=e.length,n={};return 3===t?(n.r=e[0],n.g=e[1],n.b=e[2]):(n.r=e.substring(0,2),n.g=e.substring(2,4),n.b=e.substring(4,6)),n;}function d(e){return parseInt(e.toString(16),16);}function u(e){var t=0;return e&&(e=s(e),t=f.sqrt(.241*e.r*e.r+.691*e.g*e.g+.068*e.b*e.b)),t;}function h(e){var t=f.pow(10,4);return f.round(e*t)/t;}var f=Math,p=e.proxy,m=e.isArray,g=window.kendo,v=g.Class,_=g.ui.Widget,b=g.template,w=g.deepExtend,y=g.data.HierarchicalDataSource,k=g.getter,x=g.dataviz,C=".kendoTreeMap",S="change",T="dataBound",D="itemCreated",A=Number.MAX_VALUE,E="mouseover"+C,R="mouseleave"+C,I="undefined",F=_.extend({init:function init(t,n){g.destroy(t),e(t).empty(),_.fn.init.call(this,t,n),this.wrapper=this.element,this._initTheme(this.options),this.element.addClass("k-widget k-treemap"),this._setLayout(),this._originalOptions=w({},this.options),this._initDataSource(),this._attachEvents(),g.notify(this,x.ui);},options:{name:"TreeMap",theme:"default",autoBind:!0,textField:"text",valueField:"value",colorField:"color"},events:[T,D],_initTheme:function _initTheme(e){var t=this,n=x.ui.themes||{},i=((e||{}).theme||"").toLowerCase(),o=(n[i]||{}).treeMap;t.options=w({},o,e);},_attachEvents:function _attachEvents(){this.element.on(E,p(this._mouseover,this)).on(R,p(this._mouseleave,this)),this._resizeHandler=p(this.resize,this,!1),g.onResize(this._resizeHandler);},_setLayout:function _setLayout(){"horizontal"===this.options.type?(this._layout=new z(!1),this._view=new B(this,this.options)):"vertical"===this.options.type?(this._layout=new z(!0),this._view=new B(this,this.options)):(this._layout=new M(),this._view=new P(this,this.options));},_initDataSource:function _initDataSource(){var e=this,t=e.options,n=t.dataSource;e._dataChangeHandler=p(e._onDataChange,e),e.dataSource=y.create(n).bind(S,e._dataChangeHandler),n&&e.options.autoBind&&e.dataSource.fetch();},setDataSource:function setDataSource(e){var t=this;t.dataSource.unbind(S,t._dataChangeHandler),t.dataSource=e.bind(S,t._dataChangeHandler),e&&t.options.autoBind&&t.dataSource.fetch();},_onDataChange:function _onDataChange(e){var t,n,i,o,r=e.node,a=e.items,s=this.options;if(r){if(a.length){for(i=this._getByUid(r.uid),i.children=[],a=new g.data.Query(a)._sortForGrouping(s.valueField,"desc"),n=0;a.length>n;n++){t=a[n],i.children.push(this._wrapItem(t));}o=this._view.htmlSize(i),this._layout.compute(i.children,i.coord,o),this._setColors(i.children),this._view.render(i);}}else this._cleanItems(),this.element.empty(),t=this._wrapItem(a[0]),this._layout.createRoot(t,this.element.outerWidth(),this.element.outerHeight(),"vertical"===this.options.type),this._view.createRoot(t),this._root=t,this._colorIdx=0;for(n=0;a.length>n;n++){a[n].load();}r&&this.trigger(T,{node:r});},_cleanItems:function _cleanItems(){var e=this;e.angular("cleanup",function(){return{elements:e.element.find(".k-leaf div,.k-treemap-title,.k-treemap-title-vertical")};});},_setColors:function _setColors(e){var t,n,r,a,s=this.options.colors,l=this._colorIdx,c=s[l%s.length];for(m(c)&&(t=o(c[0],c[1],e.length)),r=!1,a=0;e.length>a;a++){n=e[a],i(n.color)||(n.color=t?t[a]:c),n.dataItem.hasChildren||(r=!0);}r&&this._colorIdx++;},_contentSize:function _contentSize(e){this.view.renderHeight(e);},_wrapItem:function _wrapItem(e){var t={};return i(this.options.valueField)&&(t.value=n(this.options.valueField,e)),i(this.options.colorField)&&(t.color=n(this.options.colorField,e)),i(this.options.textField)&&(t.text=n(this.options.textField,e)),t.level=e.level(),t.dataItem=e,t;},_getByUid:function _getByUid(e){for(var t,n=[this._root];n.length;){if(t=n.pop(),t.dataItem.uid===e)return t;t.children&&(n=n.concat(t.children));}},dataItem:function dataItem(t){var n=e(t).attr(g.attr("uid")),i=this.dataSource;return i&&i.getByUid(n);},findByUid:function findByUid(e){return this.element.find(".k-treemap-tile["+g.attr("uid")+"='"+e+"']");},_mouseover:function _mouseover(t){var n=e(t.target);n.hasClass("k-leaf")&&(this._removeActiveState(),n.removeClass("k-state-hover").addClass("k-state-hover"));},_removeActiveState:function _removeActiveState(){this.element.find(".k-state-hover").removeClass("k-state-hover");},_mouseleave:function _mouseleave(){this._removeActiveState();},destroy:function destroy(){_.fn.destroy.call(this),this.element.off(C),this.dataSource&&this.dataSource.unbind(S,this._dataChangeHandler),this._root=null,g.unbindResize(this._resizeHandler),g.destroy(this.element);},items:function items(){return e();},getSize:function getSize(){return g.dimensions(this.element);},_resize:function _resize(){var e,t,n=this._root;n&&(e=this.element,t=e.children(),n.coord.width=e.outerWidth(),n.coord.height=e.outerHeight(),t.css({width:n.coord.width,height:n.coord.height}),this._resizeItems(n,t));},_resizeItems:function _resizeItems(e,t){var n,i,o,r;if(e.children&&e.children.length)for(n=t.children(".k-treemap-wrap").children(),this._layout.compute(e.children,e.coord,{text:this._view.titleSize(e,t)}),r=0;e.children.length>r;r++){i=e.children[r],o=n.filter("["+g.attr("uid")+"='"+i.dataItem.uid+"']"),this._view.setItemSize(i,o),this._resizeItems(i,o);}},setOptions:function setOptions(e){var n=e.dataSource;e.dataSource=t,this._originalOptions=w(this._originalOptions,e),this.options=w({},this._originalOptions),this._setLayout(),this._initTheme(this.options),_.fn._setEvents.call(this,e),n&&this.setDataSource(y.create(n)),this.options.autoBind&&this.dataSource.fetch();}}),M=v.extend({createRoot:function createRoot(e,t,n){e.coord={width:t,height:n,top:0,left:0};},leaf:function leaf(e){return!e.children;},layoutChildren:function layoutChildren(e,t){var n,i,o,r,a=t.width*t.height,s=0,l=[];for(n=0;e.length>n;n++){l[n]=parseFloat(e[n].value),s+=l[n];}for(n=0;l.length>n;n++){e[n].area=a*l[n]/s;}i=this.layoutHorizontal()?t.height:t.width,o=[e[0]],r=e.slice(1),this.squarify(r,o,i,t);},squarify:function squarify(e,t,n,i){this.computeDim(e,t,n,i);},computeDim:function computeDim(e,n,i,o){var r,a,s;return e.length+n.length==1?(r=1==e.length?e:n,this.layoutLast(r,i,o),t):(e.length>=2&&0===n.length&&(n=[e[0]],e=e.slice(1)),0===e.length?(n.length>0&&this.layoutRow(n,i,o),t):(a=e[0],this.worstAspectRatio(n,i)>=this.worstAspectRatio([a].concat(n),i)?this.computeDim(e.slice(1),n.concat([a]),i,o):(s=this.layoutRow(n,i,o),this.computeDim(e,[],s.dim,s)),t));},layoutLast:function layoutLast(e,t,n){e[0].coord=n;},layoutRow:function layoutRow(e,t,n){return this.layoutHorizontal()?this.layoutV(e,t,n):this.layoutH(e,t,n);},orientation:"h",layoutVertical:function layoutVertical(){return"v"===this.orientation;},layoutHorizontal:function layoutHorizontal(){return"h"===this.orientation;},layoutChange:function layoutChange(){this.orientation=this.layoutVertical()?"h":"v";},worstAspectRatio:function worstAspectRatio(e,t){var n,i,o,r,a;if(!e||0===e.length)return A;for(n=0,i=0,o=A,r=0;e.length>r;r++){a=e[r].area,n+=a,o=a>o?o:a,i=i>a?i:a;}return f.max(t*t*i/(n*n),n*n/(t*t*o));},compute:function compute(e,t,n){if(t.width>=t.height&&this.layoutHorizontal()||this.layoutChange(),e&&e.length>0){var i={width:t.width,height:t.height-n.text,top:0,left:0};this.layoutChildren(e,i);}},layoutV:function layoutV(e,t,n){var i,o,r,a=this._totalArea(e),s=0;for(t=h(a/t),i=0;e.length>i;i++){o=h(e[i].area/t),e[i].coord={height:o,width:t,top:n.top+s,left:n.left},s+=o;}return r={height:n.height,width:n.width-t,top:n.top,left:n.left+t},r.dim=f.min(r.width,r.height),r.dim!=r.height&&this.layoutChange(),r;},layoutH:function layoutH(e,t,n){var i,o,r=this._totalArea(e),a=h(r/t),s=n.top,l=0;for(i=0;e.length>i;i++){e[i].coord={height:a,width:h(e[i].area/a),top:s,left:n.left+l},l+=e[i].coord.width;}return o={height:n.height-a,width:n.width,top:n.top+a,left:n.left},o.dim=f.min(o.width,o.height),o.dim!=o.width&&this.layoutChange(),o;},_totalArea:function _totalArea(e){var t,n=0;for(t=0;e.length>t;t++){n+=e[t].area;}return n;}}),P=v.extend({init:function init(t,n){this.options=w({},this.options,n),this.treeMap=t,this.element=e(t.element),this.offset=0;},titleSize:function titleSize(e,t){var n=t.children(".k-treemap-title");return n.height();},htmlSize:function htmlSize(e){var t,n,i=this._getByUid(e.dataItem.uid),o={text:0};return e.children&&(this._clean(i),t=this._getText(e),t&&(n=this._createTitle(e),i.append(n),this._compile(n,e.dataItem),o.text=n.height()),i.append(this._createWrap()),this.offset=(i.outerWidth()-i.innerWidth())/2),o;},_compile:function _compile(e,t){this.treeMap.angular("compile",function(){return{elements:e,data:[{dataItem:t}]};});},_getByUid:function _getByUid(e){return this.element.find(".k-treemap-tile["+g.attr("uid")+"='"+e+"']");},render:function render(e){var t,n,i,o,r=this._getByUid(e.dataItem.uid),a=e.children;if(a)for(t=r.find(".k-treemap-wrap"),n=0;a.length>n;n++){i=a[n],o=this._createLeaf(i),t.append(o),this._compile(o.children(),i.dataItem),this.treeMap.trigger(D,{element:o});}},createRoot:function createRoot(e){var t=this._createLeaf(e);this.element.append(t),this._compile(t.children(),e.dataItem),this.treeMap.trigger(D,{element:t});},_clean:function _clean(e){this.treeMap.angular("cleanup",function(){return{elements:e.children(":not(.k-treemap-wrap)")};}),e.css("background-color",""),e.removeClass("k-leaf"),e.removeClass("k-inverse"),e.empty();},_createLeaf:function _createLeaf(t){return this._createTile(t).css("background-color",t.color).addClass("k-leaf").toggleClass("k-inverse",this._tileColorBrightness(t)>180).append(e("<div></div>").html(this._getText(t)));},_createTile:function _createTile(t){var n=e("<div class='k-treemap-tile'></div>");return this.setItemSize(t,n),i(t.dataItem)&&i(t.dataItem.uid)&&n.attr(g.attr("uid"),t.dataItem.uid),n;},_itemCoordinates:function _itemCoordinates(e){var t={width:e.coord.width,height:e.coord.height,left:e.coord.left,top:e.coord.top};return t.width+=t.left&&this.offset?2*this.offset:this.offset,t.height+=t.top?2*this.offset:this.offset,t;},setItemSize:function setItemSize(e,t){var n=this._itemCoordinates(e);t.css({width:n.width,height:n.height,left:n.left,top:n.top});},_getText:function _getText(e){var t=e.text;return this.options.template&&(t=this._renderTemplate(e)),t;},_renderTemplate:function _renderTemplate(e){var t=b(this.options.template);return t({dataItem:e.dataItem,text:e.text});},_createTitle:function _createTitle(t){return e("<div class='k-treemap-title'></div>").append(e("<div></div>").html(this._getText(t)));},_createWrap:function _createWrap(){return e("<div class='k-treemap-wrap'></div>");},_tileColorBrightness:function _tileColorBrightness(e){return u(e.color);}}),z=v.extend({createRoot:function createRoot(e,t,n,i){e.coord={width:t,height:n,top:0,left:0},e.vertical=i;},init:function init(e){this.vertical=e,this.quotient=e?1:0;},compute:function compute(e,t,n){var i,o,r;e.length>0&&(i=t.width,o=t.height,this.vertical?o-=n.text:i-=n.text,r={width:i,height:o,top:0,left:0},this.layoutChildren(e,r));},layoutChildren:function layoutChildren(e,t){var n,i,o=t.width*t.height,r=0,a=[];for(n=0;e.length>n;n++){i=e[n],a[n]=parseFloat(e[n].value),r+=a[n],i.vertical=this.vertical;}for(n=0;a.length>n;n++){e[n].area=o*a[n]/r;}this.sliceAndDice(e,t);},sliceAndDice:function sliceAndDice(e,t){var n=this._totalArea(e);e[0].level%2===this.quotient?this.layoutHorizontal(e,t,n):this.layoutVertical(e,t,n);},layoutHorizontal:function layoutHorizontal(e,t,n){var i,o,r,a=0;for(i=0;e.length>i;i++){o=e[i],r=o.area/(n/t.width),o.coord={height:t.height,width:r,top:t.top,left:t.left+a},a+=r;}},layoutVertical:function layoutVertical(e,t,n){var i,o,r,a=0;for(i=0;e.length>i;i++){o=e[i],r=o.area/(n/t.height),o.coord={height:r,width:t.width,top:t.top+a,left:t.left},a+=r;}},_totalArea:function _totalArea(e){var t,n=0;for(t=0;e.length>t;t++){n+=e[t].area;}return n;}}),B=P.extend({htmlSize:function htmlSize(e){var t,n,i=this._getByUid(e.dataItem.uid),o={text:0,offset:0};return e.children&&(this._clean(i),t=this._getText(e),t&&(n=this._createTitle(e),i.append(n),this._compile(n,e.dataItem),o.text=e.vertical?n.height():n.width()),i.append(this._createWrap()),this.offset=(i.outerWidth()-i.innerWidth())/2),o;},titleSize:function titleSize(e,t){var n;return n=e.vertical?t.children(".k-treemap-title").height():t.children(".k-treemap-title-vertical").width();},_createTitle:function _createTitle(t){var n;return n=e(t.vertical?"<div class='k-treemap-title'></div>":"<div class='k-treemap-title-vertical'></div>"),n.append(e("<div></div>").html(this._getText(t)));}});x.ui.plugin(F);}(window.kendo.jQuery),window.kendo;},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("kendo.dataviz.min",["kendo.core.min","kendo.fx.min","kendo.router.min","kendo.view.min","kendo.data.odata.min","kendo.data.xml.min","kendo.data.min","kendo.data.signalr.min","kendo.binder.min","kendo.userevents.min","kendo.draganddrop.min","kendo.mobile.scroller.min","kendo.popup.min","kendo.tooltip.min","kendo.drawing.min","kendo.dataviz.core.min","kendo.dataviz.themes.min","kendo.dataviz.chart.min","kendo.dataviz.chart.polar.min","kendo.dataviz.chart.funnel.min","kendo.dataviz.gauge.min","kendo.dataviz.barcode.min","kendo.dataviz.qrcode.min","kendo.dataviz.stock.min","kendo.dataviz.sparkline.min","kendo.dataviz.map.min","kendo.dataviz.diagram.min","kendo.dataviz.treemap.min","kendo.angular.min","kendo.webcomponents.min","kendo.angular2.min"],e);}(function(){"bundle all";return window.kendo;},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("kendo.mobile.modalview.min",["kendo.mobile.shim.min","kendo.mobile.view.min"],e);}(function(){return function(e,t){var n=window.kendo,i=n.mobile.ui,o=i.Shim,r=i.Widget,a="beforeOpen",s="open",l="close",c="init",d='<div class="km-modalview-wrapper" />',u=i.View.extend({init:function init(e,t){var n=this;r.fn.init.call(n,e,t),n._id(),n._wrap(),n._shim(),this.options.$angular||(n._layout(),n._scroller(),n._model()),n.element.css("display",""),n.trigger(c);},events:[c,a,s,l],options:{name:"ModalView",modal:!0,width:null,height:null},destroy:function destroy(){r.fn.destroy.call(this),this.shim.destroy();},open:function open(t){var n=this;n.target=e(t),n.shim.show(),n._invokeNgController(),n.trigger("show",{view:n});},openFor:function openFor(e){this.trigger(a,{target:e})||(this.open(e),this.trigger(s,{target:e}));},close:function close(){this.element.is(":visible")&&!this.trigger(l)&&this.shim.hide();},_wrap:function _wrap(){var e,t,n=this,i=n.element,o=n.options;e=i[0].style.width||"auto",t=i[0].style.height||"auto",i.addClass("km-modalview").wrap(d),n.wrapper=i.parent().css({width:o.width||e||300,height:o.height||t||300}).addClass("auto"==t?" km-auto-height":""),i.css({width:"",height:""});},_shim:function _shim(){var e=this;e.shim=new o(e.wrapper,{modal:e.options.modal,position:"center center",align:"center center",effect:"fade:in",className:"km-modalview-root",hide:function hide(t){e.trigger(l)&&t.preventDefault();}});}});i.plugin(u);}(window.kendo.jQuery),window.kendo;},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("kendo.mobile.drawer.min",["kendo.mobile.view.min","kendo.userevents.min"],e);}(function(){return function(e,t){var n=window.kendo,i=n.mobile,o=n.support.mobileOS,r=n.effects.Transition,a=n.roleSelector,s="x",l=i.ui,c=!(o.ios&&7==o.majorVersion&&!o.appMode),d="beforeShow",u="init",h="show",f="hide",p="afterHide",m={enable:e.noop},g=l.View.extend({init:function init(t,o){var r,s,l,d,h;if(e(t).parent().prepend(t),i.ui.Widget.fn.init.call(this,t,o),this.options.$angular||(this._layout(),this._scroller()),this._model(),r=this.element.closest(a("pane")).data("kendoMobilePane"))this.pane=r,this.pane.bind("viewShow",function(e){d._viewShow(e);}),this.pane.bind("sameViewRequested",function(){d.hide();}),s=this.userEvents=new n.UserEvents(r.element,{fastTap:!0,filter:a("view splitview"),allowSelection:!0});else{if(this.currentView=m,l=e(this.options.container),!l)throw Error("The drawer needs a container configuration option set.");s=this.userEvents=new n.UserEvents(l,{fastTap:!0,allowSelection:!0}),this._attachTransition(l);}d=this,h=function h(e){d.visible&&(d.hide(),e.preventDefault());},this.options.swipeToOpen&&c?(s.bind("press",function(){d.transition.cancel();}),s.bind("start",function(e){d._start(e);}),s.bind("move",function(e){d._update(e);}),s.bind("end",function(e){d._end(e);}),s.bind("tap",h)):s.bind("press",h),this.leftPositioned="left"===this.options.position,this.visible=!1,this.element.hide().addClass("km-drawer").addClass(this.leftPositioned?"km-left-drawer":"km-right-drawer"),this.trigger(u);},options:{name:"Drawer",position:"left",views:[],swipeToOpenViews:[],swipeToOpen:!0,title:"",container:null},events:[d,f,p,u,h],show:function show(){this._activate()&&this._show();},hide:function hide(){this.currentView&&(this.currentView.enable(),g.current=null,this._moveViewTo(0),this.trigger(f,{view:this}));},openFor:function openFor(){this.visible?this.hide():this.show();},destroy:function destroy(){l.View.fn.destroy.call(this),this.userEvents.destroy();},_activate:function _activate(){if(this.visible)return!0;var e=this._currentViewIncludedIn(this.options.views);return!e||this.trigger(d,{view:this})?!1:(this._setAsCurrent(),this.element.show(),this.trigger(h,{view:this}),this._invokeNgController(),!0);},_currentViewIncludedIn:function _currentViewIncludedIn(t){if(!this.pane||!t.length)return!0;var n=this.pane.view();return e.inArray(n.id.replace("#",""),t)>-1||e.inArray(n.element.attr("id"),t)>-1;},_show:function _show(){this.currentView.enable(!1),this.visible=!0;var e=this.element.width();this.leftPositioned||(e=-e),this._moveViewTo(e);},_setAsCurrent:function _setAsCurrent(){g.last!==this&&(g.last&&g.last.element.hide(),this.element.show()),g.last=this,g.current=this;},_moveViewTo:function _moveViewTo(e){this.userEvents.cancel(),this.transition.moveTo({location:e,duration:400,ease:r.easeOutExpo});},_viewShow:function _viewShow(e){return this.currentView&&this.currentView.enable(),this.currentView===e.view?(this.hide(),t):(this.currentView=e.view,this._attachTransition(e.view.element),t);},_attachTransition:function _attachTransition(e){var t=this,i=this.movable,o=i&&i.x;this.transition&&(this.transition.cancel(),this.movable.moveAxis("x",0)),i=this.movable=new n.ui.Movable(e),this.transition=new r({axis:s,movable:this.movable,onEnd:function onEnd(){0===i[s]&&(e[0].style.cssText="",t.element.hide(),t.trigger(p),t.visible=!1);}}),o&&(e.addClass("k-fx-hidden"),n.animationFrame(function(){e.removeClass("k-fx-hidden"),t.movable.moveAxis(s,o),t.hide();}));},_start:function _start(e){var i,o,r,a,s,l=e.sender;return Math.abs(e.x.velocity)<Math.abs(e.y.velocity)||n.triggeredByInput(e.event)||!this._currentViewIncludedIn(this.options.swipeToOpenViews)?(l.cancel(),t):(i=this.leftPositioned,o=this.visible,r=i&&o||!i&&!g.current,a=!i&&o||i&&!g.current,s=0>e.x.velocity,(r&&s||a&&!s)&&this._activate()?(l.capture(),t):(l.cancel(),t));},_update:function _update(e){var t,n=this.movable,i=n.x+e.x.delta;t=this.leftPositioned?Math.min(Math.max(0,i),this.element.width()):Math.max(Math.min(0,i),-this.element.width()),this.movable.moveAxis(s,t),e.event.preventDefault(),e.event.stopPropagation();},_end:function _end(e){var t,n=e.x.velocity,i=Math.abs(this.movable.x)>this.element.width()/2,o=.8;t=this.leftPositioned?n>-o&&(n>o||i):o>n&&(-o>n||i),t?this._show():this.hide();}});l.plugin(g);}(window.kendo.jQuery),window.kendo;},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("kendo.mobile.splitview.min",["kendo.mobile.pane.min"],e);}(function(){return function(e,t){var n=window.kendo,i=n.mobile.ui,o=i.Widget,r="<div class='km-expanded-pane-shim' />",a=i.View,s=a.extend({init:function init(t,a){var s,l,c=this;o.fn.init.call(c,t,a),t=c.element,e.extend(c,a),c._id(),c.options.$angular?c._overlay():(c._layout(),c._overlay()),c._style(),l=t.children(c._locate("modalview")),c.options.$angular?l.each(function(t,i){n.compileMobileDirective(e(i),a.$angular[0]);}):n.mobile.init(l),c.panes=[],c._paramsHistory=[],c.options.$angular?(c.element.children(n.directiveSelector("pane")).each(function(){s=n.compileMobileDirective(e(this),a.$angular[0]),c.panes.push(s);}),c.element.children(n.directiveSelector("header footer")).each(function(){n.compileMobileDirective(e(this),a.$angular[0]);})):c.content.children(n.roleSelector("pane")).each(function(){s=n.initWidget(this,{},i.roles),c.panes.push(s);}),c.expandedPaneShim=e(r).appendTo(c.element),c._shimUserEvents=new n.UserEvents(c.expandedPaneShim,{fastTap:!0,tap:function tap(){c.collapsePanes();}});},_locate:function _locate(e){return this.options.$angular?n.directiveSelector(e):n.roleSelector(e);},options:{name:"SplitView",style:"horizontal"},expandPanes:function expandPanes(){this.element.addClass("km-expanded-splitview");},collapsePanes:function collapsePanes(){this.element.removeClass("km-expanded-splitview");},_layout:function _layout(){var e=this,t=e.element;e.transition=n.attrValue(t,"transition"),n.mobile.ui.View.prototype._layout.call(this),n.mobile.init(this.header.add(this.footer)),e.element.addClass("km-splitview"),e.content.addClass("km-split-content");},_style:function _style(){var t,n=this.options.style,i=this.element;n&&(t=n.split(" "),e.each(t,function(){i.addClass("km-split-"+this);}));},showStart:function showStart(){var t=this;t.element.css("display",""),t.inited?this._invokeNgController():(t.inited=!0,e.each(t.panes,function(){this.options.initial?this.navigateToInitial():this.navigate("");}),t.trigger("init",{view:t})),t.trigger("show",{view:t});}});i.plugin(s);}(window.kendo.jQuery),window.kendo;},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("kendo.mobile.application.min",["kendo.mobile.pane.min","kendo.router.min"],e);}(function(){return function(e,t){function n(e,t){var n=[];return p&&n.push("km-on-"+p.name),n.push(e.skin?"km-"+e.skin:"ios"==e.name&&e.majorVersion>6?"km-ios7":"km-"+e.name),("ios"==e.name&&7>e.majorVersion||"ios"!=e.name)&&n.push("km-"+e.name+e.majorVersion),n.push("km-"+e.majorVersion),n.push("km-m"+(e.minorVersion?e.minorVersion[0]:0)),e.variant&&(e.skin&&e.skin===e.name||!e.skin||e.setDefaultPlatform===!1)&&n.push("km-"+(e.skin?e.skin:e.name)+"-"+e.variant),e.cordova&&n.push("km-cordova"),n.push(e.appMode?"km-app":"km-web"),t&&t.statusBarStyle&&n.push("km-"+t.statusBarStyle+"-status-bar"),n.join(" ");}function i(t){return"km-wp-"+(t.noVariantSet?0===parseInt(e("<div style='background: Background' />").css("background-color").split(",")[1],10)?"dark":"light":t.variant+" km-wp-"+t.variant+"-force");}function o(e){return p.wp?"-kendo-landscape"==e.css("animation-name"):Math.abs(window.orientation)/90==1;}function r(e){return o(e)?y:v;}function a(e){e.parent().addBack().css("min-height",window.innerHeight);}function s(){e("meta[name=viewport]").remove(),z.append(x({height:", width=device-width"+(o()?", height="+window.innerHeight+"px":d.mobileOS.flatVersion>=600&&700>d.mobileOS.flatVersion?", height="+window.innerWidth+"px":", height=device-height")}));}var l=window.kendo,c=l.mobile,d=l.support,u=c.ui.Widget,h=c.ui.Pane,f="ios7",p=d.mobileOS,m="blackberry"==p.device&&p.flatVersion>=600&&1e3>p.flatVersion&&p.appMode,g=.93,v="km-vertical",_="chrome"===p.browser,b=p.ios&&p.flatVersion>=700&&800>p.flatVersion&&(p.appMode||_),w=Math.abs(window.orientation)/90==1,y="km-horizontal",k={ios7:{ios:!0,browser:"default",device:"iphone",flatVersion:"700",majorVersion:"7",minorVersion:"0.0",name:"ios",tablet:!1},ios:{ios:!0,browser:"default",device:"iphone",flatVersion:"612",majorVersion:"6",minorVersion:"1.2",name:"ios",tablet:!1},android:{android:!0,browser:"default",device:"android",flatVersion:"442",majorVersion:"4",minorVersion:"4.2",name:"android",tablet:!1},blackberry:{blackberry:!0,browser:"default",device:"blackberry",flatVersion:"710",majorVersion:"7",minorVersion:"1.0",name:"blackberry",tablet:!1},meego:{meego:!0,browser:"default",device:"meego",flatVersion:"850",majorVersion:"8",minorVersion:"5.0",name:"meego",tablet:!1},wp:{wp:!0,browser:"default",device:"wp",flatVersion:"800",majorVersion:"8",minorVersion:"0.0",name:"wp",tablet:!1}},x=l.template('<meta content="initial-scale=#: data.scale #, maximum-scale=#: data.scale #, user-scalable=no#=data.height#" name="viewport" />',{usedWithBlock:!1}),C=l.template('<meta name="apple-mobile-web-app-capable" content="#= data.webAppCapable === false ? \'no\' : \'yes\' #" /> <meta name="apple-mobile-web-app-status-bar-style" content="#=data.statusBarStyle#" /> <meta name="msapplication-tap-highlight" content="no" /> ',{usedWithBlock:!1}),S=l.template("<style>.km-view { clip: rect(0 #= data.width #px #= data.height #px 0); }</style>",{usedWithBlock:!1}),T=p.android&&"chrome"!=p.browser||p.blackberry,D=l.template('<link rel="apple-touch-icon'+(p.android?"-precomposed":"")+'" # if(data.size) { # sizes="#=data.size#" #}# href="#=data.icon#" />',{usedWithBlock:!1}),A=("iphone"==p.device||"ipod"==p.device)&&7>p.majorVersion,E=("iphone"==p.device||"ipod"==p.device)&&p.majorVersion>=7,R=E?"none":null,I="mobilesafari"==p.browser?60:0,F=20,M=e(window),P=window.screen,z=e("head"),B="init",L=e.proxy,H=u.extend({init:function init(t,n){c.application=this,e(e.proxy(this,"bootstrap",t,n));},bootstrap:function bootstrap(t,n){var i,o,r;t=e(t),t[0]||(t=e(document.body)),u.fn.init.call(this,t,n),this.element.removeAttr("data-"+l.ns+"role"),this._setupPlatform(),this._attachMeta(),this._setupElementClass(),this._attachHideBarHandlers(),i=e.extend({},this.options),delete i.name,o=this,r=function r(){o.pane=new h(o.element,i),o.pane.navigateToInitial(),o.options.updateDocumentTitle&&o._setupDocumentTitle(),o._startHistory(),o.trigger(B);},this.options.$angular?setTimeout(r):r();},options:{name:"Application",hideAddressBar:!0,browserHistory:!0,historyTransition:R,modelScope:window,statusBarStyle:"black",transition:"",retina:!1,platform:null,skin:null,updateDocumentTitle:!0,useNativeScrolling:!1},events:[B],navigate:function navigate(e,t){this.pane.navigate(e,t);},replace:function replace(e,t){this.pane.replace(e,t);},scroller:function scroller(){return this.view().scroller;},hideLoading:function hideLoading(){if(!this.pane)throw Error("The mobile application instance is not fully instantiated. Please consider activating loading in the application init event handler.");this.pane.hideLoading();},showLoading:function showLoading(){if(!this.pane)throw Error("The mobile application instance is not fully instantiated. Please consider activating loading in the application init event handler.");this.pane.showLoading();},changeLoadingMessage:function changeLoadingMessage(e){if(!this.pane)throw Error("The mobile application instance is not fully instantiated. Please consider changing the message in the application init event handler.");this.pane.changeLoadingMessage(e);},view:function view(){return this.pane.view();},skin:function skin(e){var t=this;return arguments.length?(t.options.skin=e||"",t.element[0].className="km-pane",t._setupPlatform(),t._setupElementClass(),t.options.skin):t.options.skin;},destroy:function destroy(){u.fn.destroy.call(this),this.pane.destroy(),this.options.browserHistory&&this.router.destroy();},_setupPlatform:function _setupPlatform(){var t=this,o=t.options.platform,r=t.options.skin,a=[],s=p||k[f];o&&(s.setDefaultPlatform=!0,"string"==typeof o?(a=o.split("-"),s=e.extend({variant:a[1]},s,k[a[0]])):s=o),r&&(a=r.split("-"),p||(s.setDefaultPlatform=!1),s=e.extend({},s,{skin:a[0],variant:a[1]})),s.variant||(s.noVariantSet=!0,s.variant="dark"),t.os=s,t.osCssClass=n(t.os,t.options),"wp"==s.name&&(t.refreshBackgroundColorProxy||(t.refreshBackgroundColorProxy=e.proxy(function(){(t.os.variant&&t.os.skin&&t.os.skin===t.os.name||!t.os.skin)&&t.element.removeClass("km-wp-dark km-wp-light km-wp-dark-force km-wp-light-force").addClass(i(t.os));},t)),e(document).off("visibilitychange",t.refreshBackgroundColorProxy),e(document).off("resume",t.refreshBackgroundColorProxy),s.skin||(t.element.parent().css("overflow","hidden"),e(document).on("visibilitychange",t.refreshBackgroundColorProxy),e(document).on("resume",t.refreshBackgroundColorProxy),t.refreshBackgroundColorProxy()));},_startHistory:function _startHistory(){this.options.browserHistory?(this.router=new l.Router({pushState:this.options.pushState,root:this.options.root,hashBang:this.options.hashBang}),this.pane.bindToRouter(this.router),this.router.start()):this.options.initial||this.pane.navigate("");},_resizeToScreenHeight:function _resizeToScreenHeight(){var t,n=e("meta[name=apple-mobile-web-app-status-bar-style]").attr("content").match(/black-translucent|hidden/),i=this.element;t=_?window.innerHeight:o(i)?n?w?P.availWidth+F:P.availWidth:w?P.availWidth:P.availWidth-F:n?w?P.availHeight:P.availHeight+F:w?P.availHeight-F:P.availHeight,i.height(t);},_setupElementClass:function _setupElementClass(){var t,n=this,i=n.element;i.parent().addClass("km-root km-"+(n.os.tablet?"tablet":"phone")),i.addClass(n.osCssClass+" "+r(i)),this.options.useNativeScrolling&&i.parent().addClass("km-native-scrolling"),_&&i.addClass("km-ios-chrome"),d.wpDevicePixelRatio&&i.parent().css("font-size",d.wpDevicePixelRatio+"em"),this.options.retina&&(i.parent().addClass("km-retina"),i.parent().css("font-size",d.devicePixelRatio*g+"em")),m&&s(),n.options.useNativeScrolling?i.parent().addClass("km-native-scrolling"):T&&(t=(screen.availWidth>screen.availHeight?screen.availWidth:screen.availHeight)+200,e(S({width:t,height:t})).appendTo(z)),b&&n._resizeToScreenHeight(),l.onResize(function(){i.removeClass("km-horizontal km-vertical").addClass(r(i)),n.options.useNativeScrolling&&a(i),b&&n._resizeToScreenHeight(),m&&s(),l.resize(i);});},_clearExistingMeta:function _clearExistingMeta(){z.find("meta").filter("[name|='apple-mobile-web-app'],[name|='msapplication-tap'],[name='viewport']").remove();},_attachMeta:function _attachMeta(){var e,t=this.options,n=t.icon;if(this._clearExistingMeta(),m||z.prepend(x({height:"",scale:this.options.retina?1/d.devicePixelRatio:"1.0"})),z.prepend(C(t)),n){"string"==typeof n&&(n={"":n});for(e in n){z.prepend(D({icon:n[e],size:e}));}}t.useNativeScrolling&&a(this.element);},_attachHideBarHandlers:function _attachHideBarHandlers(){var e=this,t=L(e,"_hideBar");!d.mobileOS.appMode&&e.options.hideAddressBar&&A&&!e.options.useNativeScrolling&&(e._initialHeight={},M.on("load",t),l.onResize(function(){setTimeout(window.scrollTo,0,0,1);}));},_setupDocumentTitle:function _setupDocumentTitle(){var e=this,n=document.title;e.pane.bind("viewShow",function(e){var i=e.view.title;document.title=i!==t?i:n;});},_hideBar:function _hideBar(){var t=this,n=t.element;n.height(l.support.transforms.css+"calc(100% + "+I+"px)"),e(window).trigger(l.support.resize);}});l.mobile.Application=H,l.ui.plugin(H,l.mobile,"Mobile");}(window.kendo.jQuery),window.kendo;},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("kendo.mobile.button.min",["kendo.userevents.min"],e);}(function(){return function(e,t){function n(t,n,i){e(n.target).closest(".km-button,.km-detail").toggleClass("km-state-active",i),d&&t.deactivateTimeoutID&&(clearTimeout(t.deactivateTimeoutID),t.deactivateTimeoutID=0);}function i(t){return e('<span class="km-badge">'+t+"</span>");}var o=window.kendo,r=o.mobile,a=r.ui,s=a.Widget,l=o.support,c=l.mobileOS,d=c.android&&c.flatVersion>=300,u="click",h="disabled",f="km-state-disabled",p=s.extend({init:function init(e,t){var i,r=this;s.fn.init.call(r,e,t),i="up"===r.options.clickOn,r._wrap(),r._style(),i||r.element.attr("data-navigate-on-press",!0),r.options.enable=r.options.enable&&!r.element.attr(h),r.enable(r.options.enable),r._userEvents=new o.UserEvents(r.element,{allowSelection:!i,fastTap:!0,press:function press(e){r._activate(e);},release:function release(e){n(r,e,!1),i||e.event.stopPropagation();}}),r._userEvents.bind(i?"tap":"press",function(e){r._release(e);}),d&&r.element.on("move",function(e){r._timeoutDeactivate(e);});},destroy:function destroy(){s.fn.destroy.call(this),this._userEvents.destroy();},events:[u],options:{name:"Button",icon:"",style:"",badge:"",clickOn:"up",enable:!0},badge:function badge(e){var t=this.badgeElement=this.badgeElement||i(e).appendTo(this.element);return e||0===e?(t.html(e),this):e===!1?(t.empty().remove(),this.badgeElement=!1,this):t.html();},enable:function enable(e){var n=this.element;t===e&&(e=!0),this.options.enable=e,e?n.removeAttr(h):n.attr(h,h),n.toggleClass(f,!e);},_timeoutDeactivate:function _timeoutDeactivate(e){this.deactivateTimeoutID||(this.deactivateTimeoutID=setTimeout(n,500,this,e,!1));},_activate:function _activate(e){var t=document.activeElement,i=t?t.nodeName:"";this.options.enable&&(n(this,e,!0),"INPUT"!=i&&"TEXTAREA"!=i||t.blur());},_release:function _release(n){var i=this;if(!(n.which>1))return i.options.enable?(i.trigger(u,{target:e(n.target),button:i.element})&&n.preventDefault(),t):(n.preventDefault(),t);},_style:function _style(){var t,n=this.options.style,i=this.element;n&&(t=n.split(" "),e.each(t,function(){i.addClass("km-"+this);}));},_wrap:function _wrap(){var t=this,n=t.options.icon,o=t.options.badge,r='<span class="km-icon km-'+n,a=t.element.addClass("km-button"),s=a.children("span:not(.km-icon)").addClass("km-text"),l=a.find("img").addClass("km-image");!s[0]&&a.html()&&(s=a.wrapInner('<span class="km-text" />').children("span.km-text")),!l[0]&&n&&(s[0]||(r+=" km-notext"),t.iconElement=a.prepend(e(r+'" />'))),(o||0===o)&&(t.badgeElement=i(o).appendTo(a));}}),m=p.extend({options:{name:"BackButton",style:"back"},init:function init(e,n){var i=this;p.fn.init.call(i,e,n),t===i.element.attr("href")&&i.element.attr("href","#:back");}}),g=p.extend({options:{name:"DetailButton",style:""},init:function init(e,t){p.fn.init.call(this,e,t);},_style:function _style(){var t,n=this.options.style+" detail",i=this.element;n&&(t=n.split(" "),e.each(t,function(){i.addClass("km-"+this);}));},_wrap:function _wrap(){var t=this,n=t.options.icon,i='<span class="km-icon km-'+n,o=t.element,r=o.children("span"),a=o.find("img").addClass("km-image");!a[0]&&n&&(r[0]||(i+=" km-notext"),o.prepend(e(i+'" />')));}});a.plugin(p),a.plugin(m),a.plugin(g);}(window.kendo.jQuery),window.kendo;},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("kendo.mobile.buttongroup.min",["kendo.core.min"],e);}(function(){return function(e,t){function n(t){return e('<span class="km-badge">'+t+"</span>");}var i=window.kendo,o=i.mobile.ui,r=o.Widget,a="km-state-active",s="km-state-disabled",l="select",c="li:not(."+a+")",d=r.extend({init:function init(e,t){var n=this;r.fn.init.call(n,e,t),n.element.addClass("km-buttongroup").find("li").each(n._button),n.element.on(n.options.selectOn,c,"_select"),n._enable=!0,n.select(n.options.index),n.options.enable||(n._enable=!1,n.wrapper.addClass(s));},events:[l],options:{name:"ButtonGroup",selectOn:"down",index:-1,enable:!0},current:function current(){return this.element.find("."+a);},select:function select(n){var i=this,o=-1;n!==t&&-1!==n&&i._enable&&!e(n).is("."+s)&&(i.current().removeClass(a),"number"==typeof n?(o=n,n=e(i.element[0].children[n])):n.nodeType&&(n=e(n),o=n.index()),n.addClass(a),i.selectedIndex=o);},badge:function badge(t,i){var o,r=this.element;return isNaN(t)||(t=r.children().get(t)),t=r.find(t),o=e(t.children(".km-badge")[0]||n(i).appendTo(t)),i||0===i?(o.html(i),this):i===!1?(o.empty().remove(),this):o.html();},enable:function enable(e){var n=this.wrapper;t===e&&(e=!0),e?n.removeClass(s):n.addClass(s),this._enable=this.options.enable=e;},_button:function _button(){var t=e(this).addClass("km-button"),o=i.attrValue(t,"icon"),r=i.attrValue(t,"badge"),a=t.children("span"),s=t.find("img").addClass("km-image");a[0]||(a=t.wrapInner("<span/>").children("span")),a.addClass("km-text"),!s[0]&&o&&t.prepend(e('<span class="km-icon km-'+o+'"/>')),(r||0===r)&&n(r).appendTo(t);},_select:function _select(e){e.which>1||e.isDefaultPrevented()||!this._enable||(this.select(e.currentTarget),this.trigger(l,{index:this.selectedIndex}));}});o.plugin(d);}(window.kendo.jQuery),window.kendo;},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("kendo.mobile.collapsible.min",["kendo.core.min"],e);}(function(){return function(e,t){var n=window.kendo,i=n.mobile.ui,o=i.Widget,r="km-collapsible",a="km-collapsible-header",s="km-collapsible-content",l="km-collapsibleinset",c="<div data-role='collapsible-header' class='"+a+"'></div>",d="<div data-role='collapsible-content' class='"+s+"'></div>",u="km-collapsed",h="km-expanded",f="km-animated",p="left",m="expand",g="collapse",v=o.extend({init:function init(t,i){var a=this,s=e(t);o.fn.init.call(a,s,i),s.addClass(r),a._buildHeader(),a.content=s.children().not(a.header).wrapAll(d).parent(),a._userEvents=new n.UserEvents(a.header,{fastTap:!0,tap:function tap(){a.toggle();}}),s.addClass(a.options.collapsed?u:h),a.options.inset&&s.addClass(l),a.options.animation?(a.content.addClass(f),a.content.height(0),a.options.collapsed&&a.content.hide()):a.options.collapsed&&a.content.hide();},events:[m,g],options:{name:"Collapsible",collapsed:!0,collapseIcon:"arrow-n",expandIcon:"arrow-s",iconPosition:p,animation:!0,inset:!1},destroy:function destroy(){o.fn.destroy.call(this),this._userEvents.destroy();},expand:function expand(e){var t=this.options.collapseIcon,i=this.content,o=n.support.mobileOS.ios;this.trigger(m)||(t&&this.header.find(".km-icon").removeClass().addClass("km-icon km-"+t),this.element.removeClass(u).addClass(h),this.options.animation&&!e?(i.off("transitionend"),i.show(),o&&i.removeClass(f),i.height(this._getContentHeight()),o&&i.addClass(f),n.resize(i)):i.show());},collapse:function collapse(e){var t=this.options.expandIcon,n=this.content;this.trigger(g)||(t&&this.header.find(".km-icon").removeClass().addClass("km-icon km-"+t),this.element.removeClass(h).addClass(u),this.options.animation&&!e?(n.one("transitionend",function(){n.hide();}),n.height(0)):n.hide());},toggle:function toggle(e){this.isCollapsed()?this.expand(e):this.collapse(e);},isCollapsed:function isCollapsed(){return this.element.hasClass(u);},resize:function resize(){!this.isCollapsed()&&this.options.animation&&this.content.height(this._getContentHeight());},_buildHeader:function _buildHeader(){var t=this.element.children(":header").wrapAll(c),n=e('<span class="km-icon"/>'),i=this.options.collapsed?this.options.expandIcon:this.options.collapseIcon,o=this.options.iconPosition;i&&(t.prepend(n),n.addClass("km-"+i)),this.header=t.parent(),this.header.addClass("km-icon-"+o);},_getContentHeight:function _getContentHeight(){var e,t=this.content.attr("style");return this.content.css({position:"absolute",visibility:"hidden",height:"auto"}),e=this.content.height(),this.content.attr("style",t?t:""),e;}});i.plugin(v);}(window.kendo.jQuery),window.kendo;},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("kendo.mobile.listview.min",["kendo.data.min","kendo.userevents.min","kendo.mobile.button.min"],e);}(function(){return function(e,t){function n(){return this.nodeType===v.TEXT_NODE&&this.nodeValue.match(U);}function i(e,t){t&&!e[0].querySelector(".km-icon")&&e.prepend('<span class="km-icon km-'+t+'"/>');}function o(e){i(e,T(e,"icon")),i(e,T(e.children(C),"icon"));}function r(e){var t=e.parent(),o=e.add(t.children(g.roleSelector("detailbutton"))),r=t.contents().not(o).not(n);r.length||(e.addClass("km-listview-link").attr(g.attr("role"),"listview-link"),i(e,T(t,"icon")),i(e,T(e,"icon")));}function a(e){if(e[0].querySelector("input[type=checkbox],input[type=radio]")){var t=e.parent();t.contents().not(e).not(function(){return 3==this.nodeType;})[0]||(e.addClass("km-listview-label"),e.children("[type=checkbox],[type=radio]").addClass("km-widget km-icon km-check"));}}function s(t,n){e(t).css("transform","translate3d(0px, "+n+"px, 0px)");}var l,c,d,u,h,f,p,m,g=window.kendo,v=window.Node,_=g.mobile,b=_.ui,w=g.data.DataSource,y=b.DataBoundWidget,k=".km-list > li, > li:not(.km-group-container)",x=".km-listview-link, .km-listview-label",C="["+g.attr("icon")+"]",S=e.proxy,T=g.attrValue,D="km-group-title",A="km-state-active",E='<div class="'+D+'"><div class="km-text"></div></div>',R=g.template('<li><div class="'+D+'"><div class="km-text">#= this.headerTemplate(data) #</div></div><ul>#= kendo.render(this.template, data.items)#</ul></li>'),I='<div class="km-listview-wrapper" />',F=g.template('<form class="km-filter-form"><div class="km-filter-wrap"><input type="search" placeholder="#=placeholder#"/><a href="\\#" class="km-filter-reset" title="Clear"><span class="km-icon km-clear"></span><span class="km-text">Clear</span></a></div></form>'),M=".kendoMobileListView",P="styled",z="dataBound",B="dataBinding",L="itemChange",H="click",N="change",O="progress",V="function",U=/^\s+$/,W=/button/,j=g.Class.extend({init:function init(e){var t,n,i=e.scroller();i&&(this.options=e.options,this.element=e.element,this.scroller=e.scroller(),this._shouldFixHeaders(),t=this,n=function n(){t._cacheHeaders();},e.bind("resize",n),e.bind(P,n),e.bind(z,n),i.bind("scroll",function(e){t._fixHeader(e);}));},_fixHeader:function _fixHeader(t){if(this.fixedHeaders){var n,i,o,r=0,a=this.scroller,s=this.headers,l=t.scrollTop;do{if(n=s[r++],!n){o=e("<div />");break;}i=n.offset,o=n.header;}while(i+1>l);this.currentHeader!=r&&(a.fixedContainer.html(o.clone()),this.currentHeader=r);}},_shouldFixHeaders:function _shouldFixHeaders(){this.fixedHeaders="group"===this.options.type&&this.options.fixedHeaders;},_cacheHeaders:function _cacheHeaders(){if(this._shouldFixHeaders(),this.fixedHeaders){var t=[],n=this.scroller.scrollTop;this.element.find("."+D).each(function(i,o){o=e(o),t.unshift({offset:o.position().top+n,header:o});}),this.headers=t,this._fixHeader({scrollTop:n});}}}),q=function q(){return{page:1};},G=g.Class.extend({init:function init(e){var t=this,n=e.options,i=e.scroller(),o=n.pullParameters||q;this.listView=e,this.scroller=i,e.bind("_dataSource",function(e){t.setDataSource(e.dataSource);}),i.setOptions({pullToRefresh:!0,pull:function pull(){t._pulled||(t._pulled=!0,t.dataSource.read(o.call(e,t._first)));},messages:{pullTemplate:n.messages.pullTemplate,releaseTemplate:n.messages.releaseTemplate,refreshTemplate:n.messages.refreshTemplate}});},setDataSource:function setDataSource(e){var t=this;this._first=e.view()[0],this.dataSource=e,e.bind("change",function(){t._change();}),e.bind("error",function(){t._change();});},_change:function _change(){var e,t=this.scroller,n=this.dataSource;this._pulled&&t.pullHandled(),!this._pulled&&this._first||(e=n.view(),e[0]&&(this._first=e[0])),this._pulled=!1;}}),$=g.Observable.extend({init:function init(e){var t=this;g.Observable.fn.init.call(t),t.buffer=e.buffer,t.height=e.height,t.item=e.item,t.items=[],t.footer=e.footer,t.buffer.bind("reset",function(){t.refresh();});},refresh:function refresh(){for(var e,t,n,i,o=this.buffer,r=this.items,a=!1;r.length;){r.pop().destroy();}for(this.offset=o.offset,e=this.item,i=0;o.viewSize>i;i++){if(i===o.total()){a=!0;break;}n=e(this.content(this.offset+r.length)),n.below(t),t=n,r.push(n);}this.itemCount=r.length,this.trigger("reset"),this._resize(),a&&this.trigger("endReached");},totalHeight:function totalHeight(){if(!this.items[0])return 0;var e=this,t=e.items,n=t[0].top,i=t[t.length-1].bottom,o=(i-n)/e.itemCount,r=e.buffer.length-e.offset-e.itemCount;return(this.footer?this.footer.height:0)+i+r*o;},batchUpdate:function batchUpdate(e){var t,n,i=this.height(),o=this.items,r=this.offset;if(o[0]){if(this.lastDirection)for(;o[o.length-1].bottom>e+2*i&&0!==this.offset;){this.offset--,t=o.pop(),t.update(this.content(this.offset)),t.above(o[0]),o.unshift(t);}else for(;e-i>o[0].top;){if(n=this.offset+this.itemCount,n===this.buffer.total()){this.trigger("endReached");break;}if(n===this.buffer.length)break;t=o.shift(),t.update(this.content(this.offset+this.itemCount)),t.below(o[o.length-1]),o.push(t),this.offset++;}r!==this.offset&&this._resize();}},update:function update(e){var t,n,i,o,r=this,a=this.items,s=this.height(),l=this.itemCount,c=s/2,d=(this.lastTop||0)>e,u=e-c,h=e+s+c;a[0]&&(this.lastTop=e,this.lastDirection=d,d?a[0].top>u&&a[a.length-1].bottom>h+c&&this.offset>0&&(this.offset--,t=a.pop(),n=a[0],t.update(this.content(this.offset)),a.unshift(t),t.above(n),r._resize()):h>a[a.length-1].bottom&&u-c>a[0].top&&(o=this.offset+l,o===this.buffer.total()?this.trigger("endReached"):o!==this.buffer.length&&(t=a.shift(),i=a[a.length-1],a.push(t),t.update(this.content(this.offset+this.itemCount)),r.offset++,t.below(i),r._resize())));},content:function content(e){return this.buffer.at(e);},destroy:function destroy(){this.unbind();},_resize:function _resize(){var e=this.items,t=0,n=0,i=e[0],o=e[e.length-1];i&&(t=i.top,n=o.bottom),this.trigger("resize",{top:t,bottom:n}),this.footer&&this.footer.below(o);}});g.mobile.ui.VirtualList=$,l=g.Class.extend({init:function init(t,n){var i=t.append([n],!0)[0],o=i.offsetHeight;e.extend(this,{top:0,element:i,listView:t,height:o,bottom:o});},update:function update(e){this.element=this.listView.setDataItem(this.element,e);},above:function above(e){e&&(this.height=this.element.offsetHeight,this.top=e.top-this.height,this.bottom=e.top,s(this.element,this.top));},below:function below(e){e&&(this.height=this.element.offsetHeight,this.top=e.bottom,this.bottom=this.top+this.height,s(this.element,this.top));},destroy:function destroy(){g.destroy(this.element),e(this.element).remove();}}),c='<div><span class="km-icon"></span><span class="km-loading-left"></span><span class="km-loading-right"></span></div>',d=g.Class.extend({init:function init(t){this.element=e('<li class="km-load-more km-scroller-refresh" style="display: none"></li>').appendTo(t.element),this._loadIcon=e(c).appendTo(this.element);},enable:function enable(){this.element.show(),this.height=this.element.outerHeight(!0);},disable:function disable(){this.element.hide(),this.height=0;},below:function below(e){e&&(this.top=e.bottom,this.bottom=this.height+this.top,s(this.element,this.top));}}),u=d.extend({init:function init(t,n){this._loadIcon=e(c).hide(),this._loadButton=e('<a class="km-load">'+t.options.messages.loadMoreText+"</a>").hide(),this.element=e('<li class="km-load-more" style="display: none"></li>').append(this._loadIcon).append(this._loadButton).appendTo(t.element);var i=this;this._loadButton.kendoMobileButton().data("kendoMobileButton").bind("click",function(){i._hideShowButton(),n.next();}),n.bind("resize",function(){i._showLoadButton();}),this.height=this.element.outerHeight(!0),this.disable();},_hideShowButton:function _hideShowButton(){this._loadButton.hide(),this.element.addClass("km-scroller-refresh"),this._loadIcon.css("display","block");},_showLoadButton:function _showLoadButton(){this._loadButton.show(),this.element.removeClass("km-scroller-refresh"),this._loadIcon.hide();}}),h=g.Class.extend({init:function init(e){var t=this;this.chromeHeight=e.wrapper.children().not(e.element).outerHeight()||0,this.listView=e,this.scroller=e.scroller(),this.options=e.options,e.bind("_dataSource",function(e){t.setDataSource(e.dataSource,e.empty);}),e.bind("resize",function(){t.list.items.length&&(t.scroller.reset(),t.buffer.range(0),t.list.refresh());}),this.scroller.makeVirtual(),this.scroller.bind("scroll",function(e){t.list.update(e.scrollTop);}),this.scroller.bind("scrollEnd",function(e){t.list.batchUpdate(e.scrollTop);});},destroy:function destroy(){this.list.unbind(),this.buffer.unbind();},setDataSource:function setDataSource(t,n){var i,o,r,a,s=this,c=this.options,h=this.listView,f=h.scroller(),p=c.loadMore;if(this.dataSource=t,i=t.pageSize()||c.virtualViewSize,!i&&!n)throw Error("the DataSource does not have page size configured. Page Size setting is mandatory for the mobile listview virtual scrolling to work as expected.");this.buffer&&this.buffer.destroy(),o=new g.data.Buffer(t,Math.floor(i/2),p),r=p?new u(h,o):new d(h),this.list&&this.list.destroy(),a=new $({buffer:o,footer:r,item:function item(e){return new l(h,e);},height:function height(){return f.height();}}),a.bind("resize",function(){s.updateScrollerSize(),h.updateSize();}),a.bind("reset",function(){s.footer.enable();}),a.bind("endReached",function(){r.disable(),s.updateScrollerSize();}),o.bind("expand",function(){a.lastDirection=!1,a.batchUpdate(f.scrollTop);}),e.extend(this,{buffer:o,scroller:f,list:a,footer:r});},updateScrollerSize:function updateScrollerSize(){this.scroller.virtualSize(0,this.list.totalHeight()+this.chromeHeight);},refresh:function refresh(){this.list.refresh();},reset:function reset(){this.buffer.range(0),this.list.refresh();}}),f=g.Class.extend({init:function init(e){var t,n=this;this.listView=e,this.options=e.options,t=this,this._refreshHandler=function(e){t.refresh(e);},this._progressHandler=function(){e.showLoading();},e.bind("_dataSource",function(e){n.setDataSource(e.dataSource);});},destroy:function destroy(){this._unbindDataSource();},reset:function reset(){},refresh:function refresh(e){var n,i,o,r,a,s,l,c=e&&e.action,d=e&&e.items,u=this.listView,h=this.dataSource,f=this.options.appendOnRefresh,p=h.view(),m=h.group(),g=m&&m[0];return"itemchange"===c?(u._hasBindingTarget()||(n=u.findByDataItem(d)[0],n&&u.setDataItem(n,d[0])),t):(a="add"===c&&!g||f&&!u._filter,s="remove"===c&&!g,a?i=[]:s&&(i=u.findByDataItem(d)),u.trigger(B,{action:c||"rebind",items:d,removedItems:i,index:e&&e.index})?(this._shouldShowLoading()&&u.hideLoading(),t):("add"!==c||g?"remove"!==c||g?g?u.replaceGrouped(p):f&&!u._filter?(o=u.prepend(p),r=p):u.replace(p):(o=[],u.remove(d)):(l=p.indexOf(d[0]),l>-1&&(o=u.insertAt(d,l),r=d)),this._shouldShowLoading()&&u.hideLoading(),u.trigger(z,{ns:b,addedItems:o,addedDataItems:r}),t));},setDataSource:function setDataSource(e){this.dataSource&&this._unbindDataSource(),this.dataSource=e,e.bind(N,this._refreshHandler),this._shouldShowLoading()&&this.dataSource.bind(O,this._progressHandler);},_unbindDataSource:function _unbindDataSource(){this.dataSource.unbind(N,this._refreshHandler).unbind(O,this._progressHandler);},_shouldShowLoading:function _shouldShowLoading(){var e=this.options;return!e.pullToRefresh&&!e.loadMore&&!e.endlessScroll;}}),p=g.Class.extend({init:function init(t){var n=this,i=t.options.filterable,o="change paste",r=this;this.listView=t,this.options=i,t.element.before(F({placeholder:i.placeholder||"Search..."})),i.autoFilter!==!1&&(o+=" keyup"),this.element=t.wrapper.find(".km-search-form"),this.searchInput=t.wrapper.find("input[type=search]").closest("form").on("submit"+M,function(e){e.preventDefault();}).end().on("focus"+M,function(){n._oldFilter=n.searchInput.val();}).on(o.split(" ").join(M+" ")+M,S(this._filterChange,this)),this.clearButton=t.wrapper.find(".km-filter-reset").on(H,S(this,"_clearFilter")).hide(),this._dataSourceChange=e.proxy(this._refreshInput,this),t.bind("_dataSource",function(e){e.dataSource.bind("change",r._dataSourceChange);});},_refreshInput:function _refreshInput(){var e=this.listView.dataSource.filter(),t=this.listView._filter.searchInput;t.val(e&&e.filters[0].field===this.listView.options.filterable.field?e.filters[0].value:"");},_search:function _search(e){this._filter=!0,this.clearButton[e?"show":"hide"](),this.listView.dataSource.filter(e);},_filterChange:function _filterChange(e){var t=this;"paste"==e.type&&this.options.autoFilter!==!1?setTimeout(function(){t._applyFilter();},1):this._applyFilter();},_applyFilter:function _applyFilter(){var e=this.options,t=this.searchInput.val(),n=t.length?{field:e.field,operator:e.operator||"startswith",ignoreCase:e.ignoreCase,value:t}:null;t!==this._oldFilter&&(this._oldFilter=t,this._search(n));},_clearFilter:function _clearFilter(e){this.searchInput.val(""),this._search(null),e.preventDefault();}}),m=y.extend({init:function init(t,n){var i=this;y.fn.init.call(this,t,n),t=this.element,n=this.options,n.scrollTreshold&&(n.scrollThreshold=n.scrollTreshold),t.on("down",x,"_highlight").on("move up cancel",x,"_dim"),this._userEvents=new g.UserEvents(t,{fastTap:!0,filter:k,allowSelection:!0,tap:function tap(e){i._click(e);}}),t.css("-ms-touch-action","auto"),t.wrap(I),this.wrapper=this.element.parent(),this._headerFixer=new j(this),this._itemsCache={},this._templates(),this.virtual=n.endlessScroll||n.loadMore,this._style(),this.options.$angular&&(this.virtual||this.options.pullToRefresh)?setTimeout(e.proxy(this,"_start")):this._start();},_start:function _start(){var e=this.options;this.options.filterable&&(this._filter=new p(this)),this._itemBinder=this.virtual?new h(this):new f(this),this.options.pullToRefresh&&(this._pullToRefreshHandler=new G(this)),this.setDataSource(e.dataSource),this._enhanceItems(this.items()),g.notify(this,b);},events:[H,B,z,L],options:{name:"ListView",style:"",type:"flat",autoBind:!0,fixedHeaders:!1,template:"#:data#",headerTemplate:'<span class="km-text">#:value#</span>',appendOnRefresh:!1,loadMore:!1,endlessScroll:!1,scrollThreshold:30,pullToRefresh:!1,messages:{loadMoreText:"Press to load more",pullTemplate:"Pull to refresh",releaseTemplate:"Release to refresh",refreshTemplate:"Refreshing"},pullOffset:140,filterable:!1,virtualViewSize:null},refresh:function refresh(){this._itemBinder.refresh();},reset:function reset(){this._itemBinder.reset();},setDataSource:function setDataSource(e){var t=!e;this.dataSource=w.create(e),this.trigger("_dataSource",{dataSource:this.dataSource,empty:t}),this.options.autoBind&&!t&&(this.items().remove(),this.dataSource.fetch());},destroy:function destroy(){y.fn.destroy.call(this),g.destroy(this.element),this._userEvents.destroy(),this._itemBinder&&this._itemBinder.destroy(),this.element.unwrap(),delete this.element,delete this.wrapper,delete this._userEvents;},items:function items(){return"group"===this.options.type?this.element.find(".km-list").children():this.element.children().not(".km-load-more");},scroller:function scroller(){return this._scrollerInstance||(this._scrollerInstance=this.element.closest(".km-scroll-wrapper").data("kendoMobileScroller")),this._scrollerInstance;},showLoading:function showLoading(){var e=this.view();e&&e.loader&&e.loader.show();},hideLoading:function hideLoading(){var e=this.view();e&&e.loader&&e.loader.hide();},insertAt:function insertAt(e,t,n){var i=this;return i._renderItems(e,function(o){if(0===t?i.element.prepend(o):-1===t?i.element.append(o):i.items().eq(t-1).after(o),n)for(var r=0;o.length>r;r++){i.trigger(L,{item:o.eq(r),data:e[r],ns:b});}});},append:function append(e,t){return this.insertAt(e,-1,t);},prepend:function prepend(e,t){return this.insertAt(e,0,t);},replace:function replace(e){return this.options.type="flat",this._angularItems("cleanup"),this.element.empty(),this._userEvents.cancel(),this._style(),this.insertAt(e,0);},replaceGrouped:function replaceGrouped(t){this.options.type="group",this._angularItems("cleanup"),this.element.empty();var n=e(g.render(this.groupTemplate,t));this._enhanceItems(n.children("ul").children("li")),this.element.append(n),_.init(n),this._style(),this._angularItems("compile");},remove:function remove(e){var t=this.findByDataItem(e);this.angular("cleanup",function(){return{elements:t};}),g.destroy(t),t.remove();},findByDataItem:function findByDataItem(e){var t,n,i=[];for(t=0,n=e.length;n>t;t++){i[t]="[data-"+g.ns+"uid="+e[t].uid+"]";}return this.element.find(i.join(","));},setDataItem:function setDataItem(t,n){var i=this,o=function o(_o3){var r=e(_o3[0]);g.destroy(t),i.angular("cleanup",function(){return{elements:[e(t)]};}),e(t).replaceWith(r),i.trigger(L,{item:r,data:n,ns:b});};return this._renderItems([n],o)[0];},updateSize:function updateSize(){this._size=this.getSize();},_renderItems:function _renderItems(t,n){var i=e(g.render(this.template,t));return n(i),this.angular("compile",function(){return{elements:i,data:t.map(function(e){return{dataItem:e};})};}),_.init(i),this._enhanceItems(i),i;},_dim:function _dim(e){this._toggle(e,!1);},_highlight:function _highlight(e){this._toggle(e,!0);},_toggle:function _toggle(t,n){if(!(t.which>1)){var i=e(t.currentTarget),o=i.parent(),r=T(i,"role")||"",a=!r.match(W),s=t.isDefaultPrevented();a&&o.toggleClass(A,n&&!s);}},_templates:function _templates(){var e=this.options.template,t=this.options.headerTemplate,n=' data-uid="#=arguments[0].uid || ""#"',i={},o={};(typeof e==="undefined"?"undefined":_typeof(e))===V&&(i.template=e,e="#=this.template(data)#"),this.template=S(g.template("<li"+n+">"+e+"</li>"),i),o.template=this.template,(typeof t==="undefined"?"undefined":_typeof(t))===V&&(o._headerTemplate=t,t="#=this._headerTemplate(data)#"),o.headerTemplate=g.template(t),this.groupTemplate=S(R,o);},_click:function _click(t){if(!(t.event.which>1||t.event.isDefaultPrevented())){var n,i=t.target,o=e(t.event.target),r=o.closest(g.roleSelector("button","detailbutton","backbutton")),a=g.widgetInstance(r,b),s=i.attr(g.attr("uid"));s&&(n=this.dataSource.getByUid(s)),this.trigger(H,{target:o,item:i,dataItem:n,button:a})&&t.preventDefault();}},_styleGroups:function _styleGroups(){var t=this.element.children();t.children("ul").addClass("km-list"),t.each(function(){var t=e(this),n=t.contents().first();t.addClass("km-group-container"),n.is("ul")||n.is("div."+D)||n.wrap(E);});},_style:function _style(){var e=this.options,t="group"===e.type,n=this.element,i="inset"===e.style;n.addClass("km-listview").toggleClass("km-list",!t).toggleClass("km-virtual-list",this.virtual).toggleClass("km-listinset",!t&&i).toggleClass("km-listgroup",t&&!i).toggleClass("km-listgroupinset",t&&i),n.parents(".km-listview")[0]||n.closest(".km-content").toggleClass("km-insetcontent",i),t&&this._styleGroups(),this.trigger(P);},_enhanceItems:function _enhanceItems(t){t.each(function(){var t,n=e(this),i=!1;n.children().each(function(){t=e(this),t.is("a")?(r(t),i=!0):t.is("label")&&(a(t),i=!0);}),i||o(n);});}}),b.plugin(m);}(window.kendo.jQuery),window.kendo;},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("kendo.mobile.navbar.min",["kendo.core.min"],e);}(function(){return function(e,t){function n(n,i){var r=i.find("["+o.attr("align")+"="+n+"]");return r[0]?e('<div class="km-'+n+'item" />').append(r).prependTo(i):t;}function i(t){var n=t.siblings(),i=!!t.children("ul")[0],r=!!n[0]&&""===e.trim(t.text()),a=!(!o.mobile.application||!o.mobile.application.element.is(".km-android"));t.prevAll().toggleClass("km-absolute",i),t.toggleClass("km-show-title",r),t.toggleClass("km-fill-title",r&&!e.trim(t.html())),t.toggleClass("km-no-title",i),t.toggleClass("km-hide-title",a&&!n.children().is(":visible"));}var o=window.kendo,r=o.mobile,a=r.ui,s=a.Widget,l=s.extend({init:function init(t,i){var o=this;s.fn.init.call(o,t,i),t=o.element,o.container().bind("show",e.proxy(this,"refresh")),t.addClass("km-navbar").wrapInner(e('<div class="km-view-title km-show-title" />')),o.leftElement=n("left",t),o.rightElement=n("right",t),o.centerElement=t.find(".km-view-title");},options:{name:"NavBar"},title:function title(e){this.element.find(o.roleSelector("view-title")).text(e),i(this.centerElement);},refresh:function refresh(e){var t=e.view;this.title(t.options.title);},destroy:function destroy(){s.fn.destroy.call(this),o.destroy(this.element);}});a.plugin(l);}(window.kendo.jQuery),window.kendo;},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("kendo.mobile.scrollview.min",["kendo.fx.min","kendo.data.min","kendo.draganddrop.min"],e);}(function(){return function(e,t){var n,i,o,r,a,s,l,c,d=window.kendo,u=d.mobile,h=u.ui,f=e.proxy,p=d.effects.Transition,m=d.ui.Pane,g=d.ui.PaneDimensions,v=h.DataBoundWidget,_=d.data.DataSource,b=d.data.Buffer,w=d.data.BatchBuffer,y=Math,k=y.abs,x=y.ceil,C=y.round,S=y.max,T=y.min,D=y.floor,A="change",E="changing",R="refresh",I="km-current-page",F="km-virtual-page",M="function",P="itemChange",z="cleanup",B=3,L=-1,H=0,N=1,O=-1,V=0,U=1,W=d.Class.extend({init:function init(t){var n=this,i=e("<ol class='km-pages'/>");t.element.append(i),this._changeProxy=f(n,"_change"),this._refreshProxy=f(n,"_refresh"),t.bind(A,this._changeProxy),t.bind(R,this._refreshProxy),e.extend(n,{element:i,scrollView:t});},items:function items(){return this.element.children();},_refresh:function _refresh(e){var t,n="";for(t=0;e.pageCount>t;t++){n+="<li/>";}this.element.html(n),this.items().eq(e.page).addClass(I);},_change:function _change(e){this.items().removeClass(I).eq(e.page).addClass(I);},destroy:function destroy(){this.scrollView.unbind(A,this._changeProxy),this.scrollView.unbind(R,this._refreshProxy),this.element.remove();}});d.mobile.ui.ScrollViewPager=W,n="transitionEnd",i="dragStart",o="dragEnd",r=d.Observable.extend({init:function init(t,r){var a,s,l,c,u,h,f=this;d.Observable.fn.init.call(this),this.element=t,this.container=t.parent(),a=new d.ui.Movable(f.element),s=new p({axis:"x",movable:a,onEnd:function onEnd(){f.trigger(n);}}),l=new d.UserEvents(t,{fastTap:!0,start:function start(e){2*k(e.x.velocity)>=k(e.y.velocity)?l.capture():l.cancel(),f.trigger(i,e),s.cancel();},allowSelection:!0,end:function end(e){f.trigger(o,e);}}),c=new g({element:f.element,container:f.container}),u=c.x,u.bind(A,function(){f.trigger(A);}),h=new m({dimensions:c,userEvents:l,movable:a,elastic:!0}),e.extend(f,{duration:r&&r.duration||1,movable:a,transition:s,userEvents:l,dimensions:c,dimension:u,pane:h}),this.bind([n,i,o,A],r);},size:function size(){return{width:this.dimensions.x.getSize(),height:this.dimensions.y.getSize()};},total:function total(){return this.dimension.getTotal();},offset:function offset(){return-this.movable.x;},updateDimension:function updateDimension(){this.dimension.update(!0);},refresh:function refresh(){this.dimensions.refresh();},moveTo:function moveTo(e){this.movable.moveAxis("x",-e);},transitionTo:function transitionTo(e,t,n){n?this.moveTo(-e):this.transition.moveTo({location:e,duration:this.duration,ease:t});}}),d.mobile.ui.ScrollViewElasticPane=r,a=d.Observable.extend({init:function init(e,t,n){var i=this;d.Observable.fn.init.call(this),i.element=e,i.pane=t,i._getPages(),this.page=0,this.pageSize=n.pageSize||1,this.contentHeight=n.contentHeight,this.enablePager=n.enablePager,this.pagerOverlay=n.pagerOverlay;},scrollTo:function scrollTo(e,t){this.page=e,this.pane.transitionTo(-e*this.pane.size().width,p.easeOutExpo,t);},paneMoved:function paneMoved(e,t,n,i){var o,r,a=this,s=a.pane,l=s.size().width*a.pageSize,c=C,d=t?p.easeOutBack:p.easeOutExpo;e===O?c=x:e===U&&(c=D),r=c(s.offset()/l),o=S(a.minSnap,T(-r*l,a.maxSnap)),r!=a.page&&n&&n({currentPage:a.page,nextPage:r})&&(o=-a.page*s.size().width),s.transitionTo(o,d,i);},updatePage:function updatePage(){var e=this.pane,t=C(e.offset()/e.size().width);return t!=this.page?(this.page=t,!0):!1;},forcePageUpdate:function forcePageUpdate(){return this.updatePage();},resizeTo:function resizeTo(e){var t,n,i=this.pane,o=e.width;this.pageElements.width(o),"100%"===this.contentHeight&&(t=this.element.parent().height(),this.enablePager===!0&&(n=this.element.parent().find("ol.km-pages"),!this.pagerOverlay&&n.length&&(t-=n.outerHeight(!0))),this.element.css("height",t),this.pageElements.css("height",t)),i.updateDimension(),this._paged||(this.page=D(i.offset()/o)),this.scrollTo(this.page,!0),this.pageCount=x(i.total()/o),this.minSnap=-(this.pageCount-1)*o,this.maxSnap=0;},_getPages:function _getPages(){this.pageElements=this.element.find(d.roleSelector("page")),this._paged=this.pageElements.length>0;}}),d.mobile.ui.ScrollViewContent=a,s=d.Observable.extend({init:function init(e,t,n){var i=this;d.Observable.fn.init.call(this),i.element=e,i.pane=t,i.options=n,i._templates(),i.page=n.page||0,i.pages=[],i._initPages(),i.resizeTo(i.pane.size()),i.pane.dimension.forceEnabled();},setDataSource:function setDataSource(e){this.dataSource=_.create(e),this._buffer(),this._pendingPageRefresh=!1,this._pendingWidgetRefresh=!1;},_viewShow:function _viewShow(){var e=this;e._pendingWidgetRefresh&&(setTimeout(function(){e._resetPages();},0),e._pendingWidgetRefresh=!1);},_buffer:function _buffer(){var e=this.options.itemsPerPage;this.buffer&&this.buffer.destroy(),this.buffer=e>1?new w(this.dataSource,e):new b(this.dataSource,3*e),this._resizeProxy=f(this,"_onResize"),this._resetProxy=f(this,"_onReset"),this._endReachedProxy=f(this,"_onEndReached"),this.buffer.bind({resize:this._resizeProxy,reset:this._resetProxy,endreached:this._endReachedProxy});},_templates:function _templates(){var e=this.options.template,t=this.options.emptyTemplate,n={},i={};(typeof e==="undefined"?"undefined":_typeof(e))===M&&(n.template=e,e="#=this.template(data)#"),this.template=f(d.template(e),n),(typeof t==="undefined"?"undefined":_typeof(t))===M&&(i.emptyTemplate=t,t="#=this.emptyTemplate(data)#"),this.emptyTemplate=f(d.template(t),i);},_initPages:function _initPages(){var e,t,n=this.pages,i=this.element;for(t=0;B>t;t++){e=new l(i),n.push(e);}this.pane.updateDimension();},resizeTo:function resizeTo(e){var t,n,i,o=this.pages,r=this.pane;for(t=0;o.length>t;t++){o[t].setWidth(e.width);}"auto"===this.options.contentHeight?this.element.css("height",this.pages[1].element.height()):"100%"===this.options.contentHeight&&(n=this.element.parent().height(),this.options.enablePager===!0&&(i=this.element.parent().find("ol.km-pages"),!this.options.pagerOverlay&&i.length&&(n-=i.outerHeight(!0))),this.element.css("height",n),o[0].element.css("height",n),o[1].element.css("height",n),o[2].element.css("height",n)),r.updateDimension(),this._repositionPages(),this.width=e.width;},scrollTo:function scrollTo(e){var t,n=this.buffer;n.syncDataSource(),t=n.at(e),t&&(this._updatePagesContent(e),this.page=e);},paneMoved:function paneMoved(e,t,n,i){var o,r=this,a=r.pane,s=a.size().width,l=a.offset(),c=Math.abs(l)>=s/3,u=t?d.effects.Transition.easeOutBack:d.effects.Transition.easeOutExpo,h=r.page+2>r.buffer.total(),f=0;e===U?0!==r.page&&(f=-1):e!==O||h?l>0&&c&&!h?f=1:0>l&&c&&0!==r.page&&(f=-1):f=1,o=r.page,f&&(o=f>0?o+1:o-1),n&&n({currentPage:r.page,nextPage:o})&&(f=0),0===f?r._cancelMove(u,i):-1===f?r._moveBackward(i):1===f&&r._moveForward(i);},updatePage:function updatePage(){var e=this.pages;return 0===this.pane.offset()?!1:(this.pane.offset()>0?(e.push(this.pages.shift()),this.page++,this.setPageContent(e[2],this.page+1)):(e.unshift(this.pages.pop()),this.page--,this.setPageContent(e[0],this.page-1)),this._repositionPages(),this._resetMovable(),!0);},forcePageUpdate:function forcePageUpdate(){var e=this.pane.offset(),t=3*this.pane.size().width/4;return k(e)>t?this.updatePage():!1;},_resetMovable:function _resetMovable(){this.pane.moveTo(0);},_moveForward:function _moveForward(e){this.pane.transitionTo(-this.width,d.effects.Transition.easeOutExpo,e);},_moveBackward:function _moveBackward(e){this.pane.transitionTo(this.width,d.effects.Transition.easeOutExpo,e);},_cancelMove:function _cancelMove(e,t){this.pane.transitionTo(0,e,t);},_resetPages:function _resetPages(){this.page=this.options.page||0,this._updatePagesContent(this.page),this._repositionPages(),this.trigger("reset");},_onResize:function _onResize(){this.pageCount=x(this.dataSource.total()/this.options.itemsPerPage),this._pendingPageRefresh&&(this._updatePagesContent(this.page),this._pendingPageRefresh=!1),this.trigger("resize");},_onReset:function _onReset(){this.pageCount=x(this.dataSource.total()/this.options.itemsPerPage),this._resetPages();},_onEndReached:function _onEndReached(){this._pendingPageRefresh=!0;},_repositionPages:function _repositionPages(){var e=this.pages;e[0].position(L),e[1].position(H),e[2].position(N);},_updatePagesContent:function _updatePagesContent(e){var t=this.pages,n=e||0;this.setPageContent(t[0],n-1),this.setPageContent(t[1],n),this.setPageContent(t[2],n+1);},setPageContent:function setPageContent(t,n){var i=this.buffer,o=this.template,r=this.emptyTemplate,a=null;n>=0&&(a=i.at(n),e.isArray(a)&&!a.length&&(a=null)),this.trigger(z,{item:t.element}),t.content(null!==a?o(a):r({})),d.mobile.init(t.element),this.trigger(P,{item:t.element,data:a,ns:d.mobile.ui});}}),d.mobile.ui.VirtualScrollViewContent=s,l=d.Class.extend({init:function init(t){this.element=e("<div class='"+F+"'></div>"),this.width=t.width(),this.element.width(this.width),t.append(this.element);},content:function content(e){this.element.html(e);},position:function position(e){this.element.css("transform","translate3d("+this.width*e+"px, 0, 0)");},setWidth:function setWidth(e){this.width=e,this.element.width(e);}}),d.mobile.ui.VirtualPage=l,c=v.extend({init:function init(e,t){var n,i,o,l=this;v.fn.init.call(l,e,t),t=l.options,e=l.element,d.stripWhitespace(e[0]),e.wrapInner("<div/>").addClass("km-scrollview"),this.options.enablePager&&(this.pager=new W(this),this.options.pagerOverlay&&e.addClass("km-scrollview-overlay")),l.inner=e.children().first(),l.page=0,l.inner.css("height",t.contentHeight),l.pane=new r(l.inner,{duration:this.options.duration,transitionEnd:f(this,"_transitionEnd"),dragStart:f(this,"_dragStart"),dragEnd:f(this,"_dragEnd"),change:f(this,R)}),l.bind("resize",function(){l.pane.refresh();}),l.page=t.page,n=0===this.inner.children().length,i=n?new s(l.inner,l.pane,t):new a(l.inner,l.pane,t),i.page=l.page,i.bind("reset",function(){this._pendingPageRefresh=!1,l._syncWithContent(),l.trigger(R,{pageCount:i.pageCount,page:i.page});}),i.bind("resize",function(){l.trigger(R,{pageCount:i.pageCount,page:i.page});}),i.bind(P,function(e){l.trigger(P,e),l.angular("compile",function(){return{elements:e.item,data:[{dataItem:e.data}]};});}),i.bind(z,function(e){l.angular("cleanup",function(){return{elements:e.item};});}),l._content=i,l.setDataSource(t.dataSource),o=l.container(),o.nullObject?(l.viewInit(),l.viewShow()):o.bind("show",f(this,"viewShow")).bind("init",f(this,"viewInit"));},options:{name:"ScrollView",page:0,duration:400,velocityThreshold:.8,contentHeight:"auto",pageSize:1,itemsPerPage:1,bounceVelocityThreshold:1.6,enablePager:!0,pagerOverlay:!1,autoBind:!0,template:"",emptyTemplate:""},events:[E,A,R],destroy:function destroy(){v.fn.destroy.call(this),d.destroy(this.element);},viewInit:function viewInit(){this.options.autoBind&&this._content.scrollTo(this._content.page,!0);},viewShow:function viewShow(){this.pane.refresh();},refresh:function refresh(){var e=this._content;e.resizeTo(this.pane.size()),this.page=e.page,this.trigger(R,{pageCount:e.pageCount,page:e.page});},content:function content(e){this.element.children().first().html(e),this._content._getPages(),this.pane.refresh();},value:function value(e){var n=this.dataSource;return e?(this.scrollTo(n.indexOf(e),!0),t):n.at(this.page);},scrollTo:function scrollTo(e,t){this._content.scrollTo(e,t),this._syncWithContent();},prev:function prev(){var e=this,n=e.page-1;e._content instanceof s?e._content.paneMoved(U,t,function(t){return e.trigger(E,t);}):n>-1&&e.scrollTo(n);},next:function next(){var e=this,n=e.page+1;e._content instanceof s?e._content.paneMoved(O,t,function(t){return e.trigger(E,t);}):e._content.pageCount>n&&e.scrollTo(n);},setDataSource:function setDataSource(e){if(this._content instanceof s){var t=!e;this.dataSource=_.create(e),this._content.setDataSource(this.dataSource),this.options.autoBind&&!t&&this.dataSource.fetch();}},items:function items(){return this.element.find("."+F);},_syncWithContent:function _syncWithContent(){var e,n,i=this._content.pages,o=this._content.buffer;this.page=this._content.page,e=o?o.at(this.page):t,e instanceof Array||(e=[e]),n=i?i[1].element:t,this.trigger(A,{page:this.page,element:n,data:e});},_dragStart:function _dragStart(){this._content.forcePageUpdate()&&this._syncWithContent();},_dragEnd:function _dragEnd(e){var t=this,n=e.x.velocity,i=this.options.velocityThreshold,o=V,r=k(n)>this.options.bounceVelocityThreshold;n>i?o=U:-i>n&&(o=O),this._content.paneMoved(o,r,function(e){return t.trigger(E,e);});},_transitionEnd:function _transitionEnd(){this._content.updatePage()&&this._syncWithContent();}}),h.plugin(c);}(window.kendo.jQuery),window.kendo;},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("kendo.mobile.switch.min",["kendo.fx.min","kendo.userevents.min"],e);}(function(){return function(e,t){function n(e,t,n){return Math.max(t,Math.min(n,e));}var i=window.kendo,o=i.mobile.ui,r=o.Widget,a=i.support,s="change",l="km-switch-on",c="km-switch-off",d="margin-left",u="km-state-active",h="km-state-disabled",f="disabled",p=a.transitions.css+"transform",m=e.proxy,g='<span class="km-switch km-widget">        <span class="km-switch-wrapper"><span class="km-switch-background"></span></span>         <span class="km-switch-container"><span class="km-switch-handle" >             <span class="km-switch-label-on">{0}</span>             <span class="km-switch-label-off">{1}</span>         </span>     </span>',v=r.extend({init:function init(t,n){var o,a=this;r.fn.init.call(a,t,n),n=a.options,a.wrapper=e(i.format(g,n.onLabel,n.offLabel)),a.handle=a.wrapper.find(".km-switch-handle"),a.background=a.wrapper.find(".km-switch-background"),a.wrapper.insertBefore(a.element).prepend(a.element),a._drag(),a.origin=parseInt(a.background.css(d),10),a.constrain=0,a.snapPoint=0,t=a.element[0],t.type="checkbox",a._animateBackground=!0,o=a.options.checked,null===o&&(o=t.checked),a.check(o),a.options.enable=a.options.enable&&!a.element.attr(f),a.enable(a.options.enable),a.refresh(),i.notify(a,i.mobile.ui);},refresh:function refresh(){var e=this,t=e.handle.outerWidth(!0);e.width=e.wrapper.width(),e.constrain=e.width-t,e.snapPoint=e.constrain/2,"number"!=typeof e.origin&&(e.origin=parseInt(e.background.css(d),10)),e.background.data("origin",e.origin),e.check(e.element[0].checked);},events:[s],options:{name:"Switch",onLabel:"on",offLabel:"off",checked:null,enable:!0},check:function check(e){var n=this,i=n.element[0];return e===t?i.checked:(n._position(e?n.constrain:0),i.checked=e,n.wrapper.toggleClass(l,e).toggleClass(c,!e),t);},value:function value(){return this.check.apply(this,arguments);},destroy:function destroy(){r.fn.destroy.call(this),this.userEvents.destroy();},toggle:function toggle(){var e=this;e.check(!e.element[0].checked);},enable:function enable(e){var n=this.element,i=this.wrapper;t===e&&(e=!0),this.options.enable=e,e?n.removeAttr(f):n.attr(f,f),i.toggleClass(h,!e);},_resize:function _resize(){this.refresh();},_move:function _move(e){var t=this;e.preventDefault(),t._position(n(t.position+e.x.delta,0,t.width-t.handle.outerWidth(!0)));},_position:function _position(e){var t=this;t.position=e,t.handle.css(p,"translatex("+e+"px)"),t._animateBackground&&t.background.css(d,t.origin+e);},_start:function _start(){this.options.enable?(this.userEvents.capture(),this.handle.addClass(u)):this.userEvents.cancel();},_stop:function _stop(){var e=this;e.handle.removeClass(u),e._toggle(e.position>e.snapPoint);},_toggle:function _toggle(e){var t,n=this,o=n.handle,r=n.element[0],a=r.checked,d=i.mobile.application&&i.mobile.application.os.wp?100:200;n.wrapper.toggleClass(l,e).toggleClass(c,!e),n.position=t=e*n.constrain,n._animateBackground&&n.background.kendoStop(!0,!0).kendoAnimate({effects:"slideMargin",offset:t,reset:!0,reverse:!e,axis:"left",duration:d}),o.kendoStop(!0,!0).kendoAnimate({effects:"slideTo",duration:d,offset:t+"px,0",reset:!0,complete:function complete(){a!==e&&(r.checked=e,n.trigger(s,{checked:e}));}});},_drag:function _drag(){var e=this;e.userEvents=new i.UserEvents(e.wrapper,{fastTap:!0,tap:function tap(){e.options.enable&&e._toggle(!e.element[0].checked);},start:m(e._start,e),move:m(e._move,e),end:m(e._stop,e)});}});o.plugin(v);}(window.kendo.jQuery),window.kendo;},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("kendo.mobile.tabstrip.min",["kendo.core.min"],e);}(function(){return function(e,t){function n(t){return e('<span class="km-badge">'+t+"</span>");}var i=window.kendo,o=i.mobile.ui,r=o.Widget,a="km-state-active",s="select",l=r.extend({init:function init(t,n){var i=this;r.fn.init.call(i,t,n),i.container().bind("show",e.proxy(this,"refresh")),i.element.addClass("km-tabstrip").find("a").each(i._buildButton).eq(i.options.selectedIndex).addClass(a),i.element.on("down","a","_release");},events:[s],switchTo:function switchTo(t){var n,i,o=this.element.find("a"),r=0,a=o.length;if(!isNaN(t))return this._setActiveItem(o.eq(t)),!0;for(;a>r;r++){if(n=o[r],i=n.href.replace(/(\#.+)(\?.+)$/,"$1"),-1!==i.indexOf(t,i.length-t.length))return this._setActiveItem(e(n)),!0;}return!1;},switchByFullUrl:function switchByFullUrl(e){var t;t=this.element.find("a[href$='"+e+"']"),this._setActiveItem(t);},clear:function clear(){this.currentItem().removeClass(a);},currentItem:function currentItem(){return this.element.children("."+a);},badge:function badge(t,i){var o,r=this.element;return isNaN(t)||(t=r.children().get(t)),t=r.find(t),o=e(t.find(".km-badge")[0]||n(i).insertAfter(t.children(".km-icon"))),i||0===i?(o.html(i),this):i===!1?(o.empty().remove(),this):o.html();},_release:function _release(t){if(!(t.which>1)){var n=this,i=e(t.currentTarget);i[0]!==n.currentItem()[0]&&(n.trigger(s,{item:i})?t.preventDefault():n._setActiveItem(i));}},_setActiveItem:function _setActiveItem(e){e[0]&&(this.clear(),e.addClass(a));},_buildButton:function _buildButton(){var t=e(this),o=i.attrValue(t,"icon"),r=i.attrValue(t,"badge"),a=t.find("img"),s=e('<span class="km-icon"/>');t.addClass("km-button").attr(i.attr("role"),"tab").contents().not(a).wrapAll('<span class="km-text"/>'),a[0]?a.addClass("km-image").prependTo(t):(t.prepend(s),o&&(s.addClass("km-"+o),(r||0===r)&&n(r).insertAfter(s)));},refresh:function refresh(e){var t=e.view.id;t&&!this.switchTo(e.view.id)&&this.switchTo(t);},options:{name:"TabStrip",selectedIndex:0,enable:!0}});o.plugin(l);}(window.kendo.jQuery),window.kendo;},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("kendo.mobile.min",["kendo.core.min","kendo.fx.min","kendo.data.odata.min","kendo.data.xml.min","kendo.data.min","kendo.data.signalr.min","kendo.binder.min","kendo.validator.min","kendo.router.min","kendo.view.min","kendo.userevents.min","kendo.draganddrop.min","kendo.popup.min","kendo.touch.min","kendo.mobile.popover.min","kendo.mobile.loader.min","kendo.mobile.scroller.min","kendo.mobile.shim.min","kendo.mobile.view.min","kendo.mobile.modalview.min","kendo.mobile.drawer.min","kendo.mobile.splitview.min","kendo.mobile.pane.min","kendo.mobile.application.min","kendo.mobile.actionsheet.min","kendo.mobile.button.min","kendo.mobile.buttongroup.min","kendo.mobile.collapsible.min","kendo.mobile.listview.min","kendo.mobile.navbar.min","kendo.mobile.scrollview.min","kendo.mobile.switch.min","kendo.mobile.tabstrip.min","kendo.angular.min","kendo.webcomponents.min","kendo.angular2.min"],e);}(function(){"bundle all";return window.kendo;},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();}),function(e,define){define("kendo.all.min",["kendo.web.min","kendo.dataviz.min","kendo.mobile.min","kendo.drawing.min","kendo.dom.min"],e);}(function(){"bundle all";return window.kendo;},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)();});//# sourceMappingURL=kendo.all.min.js.map
//# sourceMappingURL=kendo.all.min.js.map

"use strict";

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

/* pako 1.0.1 nodeca/pako */
!function (t) {
  if ("object" == (typeof exports === "undefined" ? "undefined" : _typeof(exports)) && "undefined" != typeof module) module.exports = t();else if ("function" == typeof define && define.amd) define([], t);else {
    var e;e = "undefined" != typeof window ? window : "undefined" != typeof global ? global : "undefined" != typeof self ? self : this, e.pako = t();
  }
}(function () {
  return function t(e, a, n) {
    function r(s, h) {
      if (!a[s]) {
        if (!e[s]) {
          var l = "function" == typeof require && require;if (!h && l) return l(s, !0);if (i) return i(s, !0);var o = new Error("Cannot find module '" + s + "'");throw o.code = "MODULE_NOT_FOUND", o;
        }var _ = a[s] = { exports: {} };e[s][0].call(_.exports, function (t) {
          var a = e[s][1][t];return r(a ? a : t);
        }, _, _.exports, t, e, a, n);
      }return a[s].exports;
    }for (var i = "function" == typeof require && require, s = 0; s < n.length; s++) {
      r(n[s]);
    }return r;
  }({ 1: [function (t, e, a) {
      "use strict";
      var n = "undefined" != typeof Uint8Array && "undefined" != typeof Uint16Array && "undefined" != typeof Int32Array;a.assign = function (t) {
        for (var e = Array.prototype.slice.call(arguments, 1); e.length;) {
          var a = e.shift();if (a) {
            if ("object" != (typeof a === "undefined" ? "undefined" : _typeof(a))) throw new TypeError(a + "must be non-object");for (var n in a) {
              a.hasOwnProperty(n) && (t[n] = a[n]);
            }
          }
        }return t;
      }, a.shrinkBuf = function (t, e) {
        return t.length === e ? t : t.subarray ? t.subarray(0, e) : (t.length = e, t);
      };var r = { arraySet: function arraySet(t, e, a, n, r) {
          if (e.subarray && t.subarray) return void t.set(e.subarray(a, a + n), r);for (var i = 0; n > i; i++) {
            t[r + i] = e[a + i];
          }
        }, flattenChunks: function flattenChunks(t) {
          var e, a, n, r, i, s;for (n = 0, e = 0, a = t.length; a > e; e++) {
            n += t[e].length;
          }for (s = new Uint8Array(n), r = 0, e = 0, a = t.length; a > e; e++) {
            i = t[e], s.set(i, r), r += i.length;
          }return s;
        } },
          i = { arraySet: function arraySet(t, e, a, n, r) {
          for (var i = 0; n > i; i++) {
            t[r + i] = e[a + i];
          }
        }, flattenChunks: function flattenChunks(t) {
          return [].concat.apply([], t);
        } };a.setTyped = function (t) {
        t ? (a.Buf8 = Uint8Array, a.Buf16 = Uint16Array, a.Buf32 = Int32Array, a.assign(a, r)) : (a.Buf8 = Array, a.Buf16 = Array, a.Buf32 = Array, a.assign(a, i));
      }, a.setTyped(n);
    }, {}], 2: [function (t, e, a) {
      "use strict";
      function n(t, e) {
        if (65537 > e && (t.subarray && s || !t.subarray && i)) return String.fromCharCode.apply(null, r.shrinkBuf(t, e));for (var a = "", n = 0; e > n; n++) {
          a += String.fromCharCode(t[n]);
        }return a;
      }var r = t("./common"),
          i = !0,
          s = !0;try {
        String.fromCharCode.apply(null, [0]);
      } catch (h) {
        i = !1;
      }try {
        String.fromCharCode.apply(null, new Uint8Array(1));
      } catch (h) {
        s = !1;
      }for (var l = new r.Buf8(256), o = 0; 256 > o; o++) {
        l[o] = o >= 252 ? 6 : o >= 248 ? 5 : o >= 240 ? 4 : o >= 224 ? 3 : o >= 192 ? 2 : 1;
      }l[254] = l[254] = 1, a.string2buf = function (t) {
        var e,
            a,
            n,
            i,
            s,
            h = t.length,
            l = 0;for (i = 0; h > i; i++) {
          a = t.charCodeAt(i), 55296 === (64512 & a) && h > i + 1 && (n = t.charCodeAt(i + 1), 56320 === (64512 & n) && (a = 65536 + (a - 55296 << 10) + (n - 56320), i++)), l += 128 > a ? 1 : 2048 > a ? 2 : 65536 > a ? 3 : 4;
        }for (e = new r.Buf8(l), s = 0, i = 0; l > s; i++) {
          a = t.charCodeAt(i), 55296 === (64512 & a) && h > i + 1 && (n = t.charCodeAt(i + 1), 56320 === (64512 & n) && (a = 65536 + (a - 55296 << 10) + (n - 56320), i++)), 128 > a ? e[s++] = a : 2048 > a ? (e[s++] = 192 | a >>> 6, e[s++] = 128 | 63 & a) : 65536 > a ? (e[s++] = 224 | a >>> 12, e[s++] = 128 | a >>> 6 & 63, e[s++] = 128 | 63 & a) : (e[s++] = 240 | a >>> 18, e[s++] = 128 | a >>> 12 & 63, e[s++] = 128 | a >>> 6 & 63, e[s++] = 128 | 63 & a);
        }return e;
      }, a.buf2binstring = function (t) {
        return n(t, t.length);
      }, a.binstring2buf = function (t) {
        for (var e = new r.Buf8(t.length), a = 0, n = e.length; n > a; a++) {
          e[a] = t.charCodeAt(a);
        }return e;
      }, a.buf2string = function (t, e) {
        var a,
            r,
            i,
            s,
            h = e || t.length,
            o = new Array(2 * h);for (r = 0, a = 0; h > a;) {
          if (i = t[a++], 128 > i) o[r++] = i;else if (s = l[i], s > 4) o[r++] = 65533, a += s - 1;else {
            for (i &= 2 === s ? 31 : 3 === s ? 15 : 7; s > 1 && h > a;) {
              i = i << 6 | 63 & t[a++], s--;
            }s > 1 ? o[r++] = 65533 : 65536 > i ? o[r++] = i : (i -= 65536, o[r++] = 55296 | i >> 10 & 1023, o[r++] = 56320 | 1023 & i);
          }
        }return n(o, r);
      }, a.utf8border = function (t, e) {
        var a;for (e = e || t.length, e > t.length && (e = t.length), a = e - 1; a >= 0 && 128 === (192 & t[a]);) {
          a--;
        }return 0 > a ? e : 0 === a ? e : a + l[t[a]] > e ? a : e;
      };
    }, { "./common": 1 }], 3: [function (t, e, a) {
      "use strict";
      function n(t, e, a, n) {
        for (var r = 65535 & t | 0, i = t >>> 16 & 65535 | 0, s = 0; 0 !== a;) {
          s = a > 2e3 ? 2e3 : a, a -= s;do {
            r = r + e[n++] | 0, i = i + r | 0;
          } while (--s);r %= 65521, i %= 65521;
        }return r | i << 16 | 0;
      }e.exports = n;
    }, {}], 4: [function (t, e, a) {
      "use strict";
      function n() {
        for (var t, e = [], a = 0; 256 > a; a++) {
          t = a;for (var n = 0; 8 > n; n++) {
            t = 1 & t ? 3988292384 ^ t >>> 1 : t >>> 1;
          }e[a] = t;
        }return e;
      }function r(t, e, a, n) {
        var r = i,
            s = n + a;t ^= -1;for (var h = n; s > h; h++) {
          t = t >>> 8 ^ r[255 & (t ^ e[h])];
        }return -1 ^ t;
      }var i = n();e.exports = r;
    }, {}], 5: [function (t, e, a) {
      "use strict";
      function n(t, e) {
        return t.msg = O[e], e;
      }function r(t) {
        return (t << 1) - (t > 4 ? 9 : 0);
      }function i(t) {
        for (var e = t.length; --e >= 0;) {
          t[e] = 0;
        }
      }function s(t) {
        var e = t.state,
            a = e.pending;a > t.avail_out && (a = t.avail_out), 0 !== a && (j.arraySet(t.output, e.pending_buf, e.pending_out, a, t.next_out), t.next_out += a, e.pending_out += a, t.total_out += a, t.avail_out -= a, e.pending -= a, 0 === e.pending && (e.pending_out = 0));
      }function h(t, e) {
        U._tr_flush_block(t, t.block_start >= 0 ? t.block_start : -1, t.strstart - t.block_start, e), t.block_start = t.strstart, s(t.strm);
      }function l(t, e) {
        t.pending_buf[t.pending++] = e;
      }function o(t, e) {
        t.pending_buf[t.pending++] = e >>> 8 & 255, t.pending_buf[t.pending++] = 255 & e;
      }function _(t, e, a, n) {
        var r = t.avail_in;return r > n && (r = n), 0 === r ? 0 : (t.avail_in -= r, j.arraySet(e, t.input, t.next_in, r, a), 1 === t.state.wrap ? t.adler = D(t.adler, e, r, a) : 2 === t.state.wrap && (t.adler = I(t.adler, e, r, a)), t.next_in += r, t.total_in += r, r);
      }function d(t, e) {
        var a,
            n,
            r = t.max_chain_length,
            i = t.strstart,
            s = t.prev_length,
            h = t.nice_match,
            l = t.strstart > t.w_size - dt ? t.strstart - (t.w_size - dt) : 0,
            o = t.window,
            _ = t.w_mask,
            d = t.prev,
            u = t.strstart + _t,
            f = o[i + s - 1],
            c = o[i + s];t.prev_length >= t.good_match && (r >>= 2), h > t.lookahead && (h = t.lookahead);do {
          if (a = e, o[a + s] === c && o[a + s - 1] === f && o[a] === o[i] && o[++a] === o[i + 1]) {
            i += 2, a++;do {} while (o[++i] === o[++a] && o[++i] === o[++a] && o[++i] === o[++a] && o[++i] === o[++a] && o[++i] === o[++a] && o[++i] === o[++a] && o[++i] === o[++a] && o[++i] === o[++a] && u > i);if (n = _t - (u - i), i = u - _t, n > s) {
              if (t.match_start = e, s = n, n >= h) break;f = o[i + s - 1], c = o[i + s];
            }
          }
        } while ((e = d[e & _]) > l && 0 !== --r);return s <= t.lookahead ? s : t.lookahead;
      }function u(t) {
        var e,
            a,
            n,
            r,
            i,
            s = t.w_size;do {
          if (r = t.window_size - t.lookahead - t.strstart, t.strstart >= s + (s - dt)) {
            j.arraySet(t.window, t.window, s, s, 0), t.match_start -= s, t.strstart -= s, t.block_start -= s, a = t.hash_size, e = a;do {
              n = t.head[--e], t.head[e] = n >= s ? n - s : 0;
            } while (--a);a = s, e = a;do {
              n = t.prev[--e], t.prev[e] = n >= s ? n - s : 0;
            } while (--a);r += s;
          }if (0 === t.strm.avail_in) break;if (a = _(t.strm, t.window, t.strstart + t.lookahead, r), t.lookahead += a, t.lookahead + t.insert >= ot) for (i = t.strstart - t.insert, t.ins_h = t.window[i], t.ins_h = (t.ins_h << t.hash_shift ^ t.window[i + 1]) & t.hash_mask; t.insert && (t.ins_h = (t.ins_h << t.hash_shift ^ t.window[i + ot - 1]) & t.hash_mask, t.prev[i & t.w_mask] = t.head[t.ins_h], t.head[t.ins_h] = i, i++, t.insert--, !(t.lookahead + t.insert < ot));) {}
        } while (t.lookahead < dt && 0 !== t.strm.avail_in);
      }function f(t, e) {
        var a = 65535;for (a > t.pending_buf_size - 5 && (a = t.pending_buf_size - 5);;) {
          if (t.lookahead <= 1) {
            if (u(t), 0 === t.lookahead && e === q) return vt;if (0 === t.lookahead) break;
          }t.strstart += t.lookahead, t.lookahead = 0;var n = t.block_start + a;if ((0 === t.strstart || t.strstart >= n) && (t.lookahead = t.strstart - n, t.strstart = n, h(t, !1), 0 === t.strm.avail_out)) return vt;if (t.strstart - t.block_start >= t.w_size - dt && (h(t, !1), 0 === t.strm.avail_out)) return vt;
        }return t.insert = 0, e === N ? (h(t, !0), 0 === t.strm.avail_out ? kt : zt) : t.strstart > t.block_start && (h(t, !1), 0 === t.strm.avail_out) ? vt : vt;
      }function c(t, e) {
        for (var a, n;;) {
          if (t.lookahead < dt) {
            if (u(t), t.lookahead < dt && e === q) return vt;if (0 === t.lookahead) break;
          }if (a = 0, t.lookahead >= ot && (t.ins_h = (t.ins_h << t.hash_shift ^ t.window[t.strstart + ot - 1]) & t.hash_mask, a = t.prev[t.strstart & t.w_mask] = t.head[t.ins_h], t.head[t.ins_h] = t.strstart), 0 !== a && t.strstart - a <= t.w_size - dt && (t.match_length = d(t, a)), t.match_length >= ot) {
            if (n = U._tr_tally(t, t.strstart - t.match_start, t.match_length - ot), t.lookahead -= t.match_length, t.match_length <= t.max_lazy_match && t.lookahead >= ot) {
              t.match_length--;do {
                t.strstart++, t.ins_h = (t.ins_h << t.hash_shift ^ t.window[t.strstart + ot - 1]) & t.hash_mask, a = t.prev[t.strstart & t.w_mask] = t.head[t.ins_h], t.head[t.ins_h] = t.strstart;
              } while (0 !== --t.match_length);t.strstart++;
            } else t.strstart += t.match_length, t.match_length = 0, t.ins_h = t.window[t.strstart], t.ins_h = (t.ins_h << t.hash_shift ^ t.window[t.strstart + 1]) & t.hash_mask;
          } else n = U._tr_tally(t, 0, t.window[t.strstart]), t.lookahead--, t.strstart++;if (n && (h(t, !1), 0 === t.strm.avail_out)) return vt;
        }return t.insert = t.strstart < ot - 1 ? t.strstart : ot - 1, e === N ? (h(t, !0), 0 === t.strm.avail_out ? kt : zt) : t.last_lit && (h(t, !1), 0 === t.strm.avail_out) ? vt : yt;
      }function p(t, e) {
        for (var a, n, r;;) {
          if (t.lookahead < dt) {
            if (u(t), t.lookahead < dt && e === q) return vt;if (0 === t.lookahead) break;
          }if (a = 0, t.lookahead >= ot && (t.ins_h = (t.ins_h << t.hash_shift ^ t.window[t.strstart + ot - 1]) & t.hash_mask, a = t.prev[t.strstart & t.w_mask] = t.head[t.ins_h], t.head[t.ins_h] = t.strstart), t.prev_length = t.match_length, t.prev_match = t.match_start, t.match_length = ot - 1, 0 !== a && t.prev_length < t.max_lazy_match && t.strstart - a <= t.w_size - dt && (t.match_length = d(t, a), t.match_length <= 5 && (t.strategy === J || t.match_length === ot && t.strstart - t.match_start > 4096) && (t.match_length = ot - 1)), t.prev_length >= ot && t.match_length <= t.prev_length) {
            r = t.strstart + t.lookahead - ot, n = U._tr_tally(t, t.strstart - 1 - t.prev_match, t.prev_length - ot), t.lookahead -= t.prev_length - 1, t.prev_length -= 2;do {
              ++t.strstart <= r && (t.ins_h = (t.ins_h << t.hash_shift ^ t.window[t.strstart + ot - 1]) & t.hash_mask, a = t.prev[t.strstart & t.w_mask] = t.head[t.ins_h], t.head[t.ins_h] = t.strstart);
            } while (0 !== --t.prev_length);if (t.match_available = 0, t.match_length = ot - 1, t.strstart++, n && (h(t, !1), 0 === t.strm.avail_out)) return vt;
          } else if (t.match_available) {
            if (n = U._tr_tally(t, 0, t.window[t.strstart - 1]), n && h(t, !1), t.strstart++, t.lookahead--, 0 === t.strm.avail_out) return vt;
          } else t.match_available = 1, t.strstart++, t.lookahead--;
        }return t.match_available && (n = U._tr_tally(t, 0, t.window[t.strstart - 1]), t.match_available = 0), t.insert = t.strstart < ot - 1 ? t.strstart : ot - 1, e === N ? (h(t, !0), 0 === t.strm.avail_out ? kt : zt) : t.last_lit && (h(t, !1), 0 === t.strm.avail_out) ? vt : yt;
      }function g(t, e) {
        for (var a, n, r, i, s = t.window;;) {
          if (t.lookahead <= _t) {
            if (u(t), t.lookahead <= _t && e === q) return vt;if (0 === t.lookahead) break;
          }if (t.match_length = 0, t.lookahead >= ot && t.strstart > 0 && (r = t.strstart - 1, n = s[r], n === s[++r] && n === s[++r] && n === s[++r])) {
            i = t.strstart + _t;do {} while (n === s[++r] && n === s[++r] && n === s[++r] && n === s[++r] && n === s[++r] && n === s[++r] && n === s[++r] && n === s[++r] && i > r);t.match_length = _t - (i - r), t.match_length > t.lookahead && (t.match_length = t.lookahead);
          }if (t.match_length >= ot ? (a = U._tr_tally(t, 1, t.match_length - ot), t.lookahead -= t.match_length, t.strstart += t.match_length, t.match_length = 0) : (a = U._tr_tally(t, 0, t.window[t.strstart]), t.lookahead--, t.strstart++), a && (h(t, !1), 0 === t.strm.avail_out)) return vt;
        }return t.insert = 0, e === N ? (h(t, !0), 0 === t.strm.avail_out ? kt : zt) : t.last_lit && (h(t, !1), 0 === t.strm.avail_out) ? vt : yt;
      }function m(t, e) {
        for (var a;;) {
          if (0 === t.lookahead && (u(t), 0 === t.lookahead)) {
            if (e === q) return vt;break;
          }if (t.match_length = 0, a = U._tr_tally(t, 0, t.window[t.strstart]), t.lookahead--, t.strstart++, a && (h(t, !1), 0 === t.strm.avail_out)) return vt;
        }return t.insert = 0, e === N ? (h(t, !0), 0 === t.strm.avail_out ? kt : zt) : t.last_lit && (h(t, !1), 0 === t.strm.avail_out) ? vt : yt;
      }function b(t, e, a, n, r) {
        this.good_length = t, this.max_lazy = e, this.nice_length = a, this.max_chain = n, this.func = r;
      }function w(t) {
        t.window_size = 2 * t.w_size, i(t.head), t.max_lazy_match = E[t.level].max_lazy, t.good_match = E[t.level].good_length, t.nice_match = E[t.level].nice_length, t.max_chain_length = E[t.level].max_chain, t.strstart = 0, t.block_start = 0, t.lookahead = 0, t.insert = 0, t.match_length = t.prev_length = ot - 1, t.match_available = 0, t.ins_h = 0;
      }function v() {
        this.strm = null, this.status = 0, this.pending_buf = null, this.pending_buf_size = 0, this.pending_out = 0, this.pending = 0, this.wrap = 0, this.gzhead = null, this.gzindex = 0, this.method = Z, this.last_flush = -1, this.w_size = 0, this.w_bits = 0, this.w_mask = 0, this.window = null, this.window_size = 0, this.prev = null, this.head = null, this.ins_h = 0, this.hash_size = 0, this.hash_bits = 0, this.hash_mask = 0, this.hash_shift = 0, this.block_start = 0, this.match_length = 0, this.prev_match = 0, this.match_available = 0, this.strstart = 0, this.match_start = 0, this.lookahead = 0, this.prev_length = 0, this.max_chain_length = 0, this.max_lazy_match = 0, this.level = 0, this.strategy = 0, this.good_match = 0, this.nice_match = 0, this.dyn_ltree = new j.Buf16(2 * ht), this.dyn_dtree = new j.Buf16(2 * (2 * it + 1)), this.bl_tree = new j.Buf16(2 * (2 * st + 1)), i(this.dyn_ltree), i(this.dyn_dtree), i(this.bl_tree), this.l_desc = null, this.d_desc = null, this.bl_desc = null, this.bl_count = new j.Buf16(lt + 1), this.heap = new j.Buf16(2 * rt + 1), i(this.heap), this.heap_len = 0, this.heap_max = 0, this.depth = new j.Buf16(2 * rt + 1), i(this.depth), this.l_buf = 0, this.lit_bufsize = 0, this.last_lit = 0, this.d_buf = 0, this.opt_len = 0, this.static_len = 0, this.matches = 0, this.insert = 0, this.bi_buf = 0, this.bi_valid = 0;
      }function y(t) {
        var e;return t && t.state ? (t.total_in = t.total_out = 0, t.data_type = Y, e = t.state, e.pending = 0, e.pending_out = 0, e.wrap < 0 && (e.wrap = -e.wrap), e.status = e.wrap ? ft : bt, t.adler = 2 === e.wrap ? 0 : 1, e.last_flush = q, U._tr_init(e), H) : n(t, K);
      }function k(t) {
        var e = y(t);return e === H && w(t.state), e;
      }function z(t, e) {
        return t && t.state ? 2 !== t.state.wrap ? K : (t.state.gzhead = e, H) : K;
      }function x(t, e, a, r, i, s) {
        if (!t) return K;var h = 1;if (e === G && (e = 6), 0 > r ? (h = 0, r = -r) : r > 15 && (h = 2, r -= 16), 1 > i || i > $ || a !== Z || 8 > r || r > 15 || 0 > e || e > 9 || 0 > s || s > W) return n(t, K);8 === r && (r = 9);var l = new v();return t.state = l, l.strm = t, l.wrap = h, l.gzhead = null, l.w_bits = r, l.w_size = 1 << l.w_bits, l.w_mask = l.w_size - 1, l.hash_bits = i + 7, l.hash_size = 1 << l.hash_bits, l.hash_mask = l.hash_size - 1, l.hash_shift = ~~((l.hash_bits + ot - 1) / ot), l.window = new j.Buf8(2 * l.w_size), l.head = new j.Buf16(l.hash_size), l.prev = new j.Buf16(l.w_size), l.lit_bufsize = 1 << i + 6, l.pending_buf_size = 4 * l.lit_bufsize, l.pending_buf = new j.Buf8(l.pending_buf_size), l.d_buf = l.lit_bufsize >> 1, l.l_buf = 3 * l.lit_bufsize, l.level = e, l.strategy = s, l.method = a, k(t);
      }function B(t, e) {
        return x(t, e, Z, tt, et, X);
      }function A(t, e) {
        var a, h, _, d;if (!t || !t.state || e > R || 0 > e) return t ? n(t, K) : K;if (h = t.state, !t.output || !t.input && 0 !== t.avail_in || h.status === wt && e !== N) return n(t, 0 === t.avail_out ? P : K);if (h.strm = t, a = h.last_flush, h.last_flush = e, h.status === ft) if (2 === h.wrap) t.adler = 0, l(h, 31), l(h, 139), l(h, 8), h.gzhead ? (l(h, (h.gzhead.text ? 1 : 0) + (h.gzhead.hcrc ? 2 : 0) + (h.gzhead.extra ? 4 : 0) + (h.gzhead.name ? 8 : 0) + (h.gzhead.comment ? 16 : 0)), l(h, 255 & h.gzhead.time), l(h, h.gzhead.time >> 8 & 255), l(h, h.gzhead.time >> 16 & 255), l(h, h.gzhead.time >> 24 & 255), l(h, 9 === h.level ? 2 : h.strategy >= Q || h.level < 2 ? 4 : 0), l(h, 255 & h.gzhead.os), h.gzhead.extra && h.gzhead.extra.length && (l(h, 255 & h.gzhead.extra.length), l(h, h.gzhead.extra.length >> 8 & 255)), h.gzhead.hcrc && (t.adler = I(t.adler, h.pending_buf, h.pending, 0)), h.gzindex = 0, h.status = ct) : (l(h, 0), l(h, 0), l(h, 0), l(h, 0), l(h, 0), l(h, 9 === h.level ? 2 : h.strategy >= Q || h.level < 2 ? 4 : 0), l(h, xt), h.status = bt);else {
          var u = Z + (h.w_bits - 8 << 4) << 8,
              f = -1;f = h.strategy >= Q || h.level < 2 ? 0 : h.level < 6 ? 1 : 6 === h.level ? 2 : 3, u |= f << 6, 0 !== h.strstart && (u |= ut), u += 31 - u % 31, h.status = bt, o(h, u), 0 !== h.strstart && (o(h, t.adler >>> 16), o(h, 65535 & t.adler)), t.adler = 1;
        }if (h.status === ct) if (h.gzhead.extra) {
          for (_ = h.pending; h.gzindex < (65535 & h.gzhead.extra.length) && (h.pending !== h.pending_buf_size || (h.gzhead.hcrc && h.pending > _ && (t.adler = I(t.adler, h.pending_buf, h.pending - _, _)), s(t), _ = h.pending, h.pending !== h.pending_buf_size));) {
            l(h, 255 & h.gzhead.extra[h.gzindex]), h.gzindex++;
          }h.gzhead.hcrc && h.pending > _ && (t.adler = I(t.adler, h.pending_buf, h.pending - _, _)), h.gzindex === h.gzhead.extra.length && (h.gzindex = 0, h.status = pt);
        } else h.status = pt;if (h.status === pt) if (h.gzhead.name) {
          _ = h.pending;do {
            if (h.pending === h.pending_buf_size && (h.gzhead.hcrc && h.pending > _ && (t.adler = I(t.adler, h.pending_buf, h.pending - _, _)), s(t), _ = h.pending, h.pending === h.pending_buf_size)) {
              d = 1;break;
            }d = h.gzindex < h.gzhead.name.length ? 255 & h.gzhead.name.charCodeAt(h.gzindex++) : 0, l(h, d);
          } while (0 !== d);h.gzhead.hcrc && h.pending > _ && (t.adler = I(t.adler, h.pending_buf, h.pending - _, _)), 0 === d && (h.gzindex = 0, h.status = gt);
        } else h.status = gt;if (h.status === gt) if (h.gzhead.comment) {
          _ = h.pending;do {
            if (h.pending === h.pending_buf_size && (h.gzhead.hcrc && h.pending > _ && (t.adler = I(t.adler, h.pending_buf, h.pending - _, _)), s(t), _ = h.pending, h.pending === h.pending_buf_size)) {
              d = 1;break;
            }d = h.gzindex < h.gzhead.comment.length ? 255 & h.gzhead.comment.charCodeAt(h.gzindex++) : 0, l(h, d);
          } while (0 !== d);h.gzhead.hcrc && h.pending > _ && (t.adler = I(t.adler, h.pending_buf, h.pending - _, _)), 0 === d && (h.status = mt);
        } else h.status = mt;if (h.status === mt && (h.gzhead.hcrc ? (h.pending + 2 > h.pending_buf_size && s(t), h.pending + 2 <= h.pending_buf_size && (l(h, 255 & t.adler), l(h, t.adler >> 8 & 255), t.adler = 0, h.status = bt)) : h.status = bt), 0 !== h.pending) {
          if (s(t), 0 === t.avail_out) return h.last_flush = -1, H;
        } else if (0 === t.avail_in && r(e) <= r(a) && e !== N) return n(t, P);if (h.status === wt && 0 !== t.avail_in) return n(t, P);if (0 !== t.avail_in || 0 !== h.lookahead || e !== q && h.status !== wt) {
          var c = h.strategy === Q ? m(h, e) : h.strategy === V ? g(h, e) : E[h.level].func(h, e);if (c !== kt && c !== zt || (h.status = wt), c === vt || c === kt) return 0 === t.avail_out && (h.last_flush = -1), H;if (c === yt && (e === T ? U._tr_align(h) : e !== R && (U._tr_stored_block(h, 0, 0, !1), e === L && (i(h.head), 0 === h.lookahead && (h.strstart = 0, h.block_start = 0, h.insert = 0))), s(t), 0 === t.avail_out)) return h.last_flush = -1, H;
        }return e !== N ? H : h.wrap <= 0 ? F : (2 === h.wrap ? (l(h, 255 & t.adler), l(h, t.adler >> 8 & 255), l(h, t.adler >> 16 & 255), l(h, t.adler >> 24 & 255), l(h, 255 & t.total_in), l(h, t.total_in >> 8 & 255), l(h, t.total_in >> 16 & 255), l(h, t.total_in >> 24 & 255)) : (o(h, t.adler >>> 16), o(h, 65535 & t.adler)), s(t), h.wrap > 0 && (h.wrap = -h.wrap), 0 !== h.pending ? H : F);
      }function C(t) {
        var e;return t && t.state ? (e = t.state.status, e !== ft && e !== ct && e !== pt && e !== gt && e !== mt && e !== bt && e !== wt ? n(t, K) : (t.state = null, e === bt ? n(t, M) : H)) : K;
      }function S(t, e) {
        var a,
            n,
            r,
            s,
            h,
            l,
            o,
            _,
            d = e.length;if (!t || !t.state) return K;if (a = t.state, s = a.wrap, 2 === s || 1 === s && a.status !== ft || a.lookahead) return K;for (1 === s && (t.adler = D(t.adler, e, d, 0)), a.wrap = 0, d >= a.w_size && (0 === s && (i(a.head), a.strstart = 0, a.block_start = 0, a.insert = 0), _ = new j.Buf8(a.w_size), j.arraySet(_, e, d - a.w_size, a.w_size, 0), e = _, d = a.w_size), h = t.avail_in, l = t.next_in, o = t.input, t.avail_in = d, t.next_in = 0, t.input = e, u(a); a.lookahead >= ot;) {
          n = a.strstart, r = a.lookahead - (ot - 1);do {
            a.ins_h = (a.ins_h << a.hash_shift ^ a.window[n + ot - 1]) & a.hash_mask, a.prev[n & a.w_mask] = a.head[a.ins_h], a.head[a.ins_h] = n, n++;
          } while (--r);a.strstart = n, a.lookahead = ot - 1, u(a);
        }return a.strstart += a.lookahead, a.block_start = a.strstart, a.insert = a.lookahead, a.lookahead = 0, a.match_length = a.prev_length = ot - 1, a.match_available = 0, t.next_in = l, t.input = o, t.avail_in = h, a.wrap = s, H;
      }var E,
          j = t("../utils/common"),
          U = t("./trees"),
          D = t("./adler32"),
          I = t("./crc32"),
          O = t("./messages"),
          q = 0,
          T = 1,
          L = 3,
          N = 4,
          R = 5,
          H = 0,
          F = 1,
          K = -2,
          M = -3,
          P = -5,
          G = -1,
          J = 1,
          Q = 2,
          V = 3,
          W = 4,
          X = 0,
          Y = 2,
          Z = 8,
          $ = 9,
          tt = 15,
          et = 8,
          at = 29,
          nt = 256,
          rt = nt + 1 + at,
          it = 30,
          st = 19,
          ht = 2 * rt + 1,
          lt = 15,
          ot = 3,
          _t = 258,
          dt = _t + ot + 1,
          ut = 32,
          ft = 42,
          ct = 69,
          pt = 73,
          gt = 91,
          mt = 103,
          bt = 113,
          wt = 666,
          vt = 1,
          yt = 2,
          kt = 3,
          zt = 4,
          xt = 3;E = [new b(0, 0, 0, 0, f), new b(4, 4, 8, 4, c), new b(4, 5, 16, 8, c), new b(4, 6, 32, 32, c), new b(4, 4, 16, 16, p), new b(8, 16, 32, 32, p), new b(8, 16, 128, 128, p), new b(8, 32, 128, 256, p), new b(32, 128, 258, 1024, p), new b(32, 258, 258, 4096, p)], a.deflateInit = B, a.deflateInit2 = x, a.deflateReset = k, a.deflateResetKeep = y, a.deflateSetHeader = z, a.deflate = A, a.deflateEnd = C, a.deflateSetDictionary = S, a.deflateInfo = "pako deflate (from Nodeca project)";
    }, { "../utils/common": 1, "./adler32": 3, "./crc32": 4, "./messages": 6, "./trees": 7 }], 6: [function (t, e, a) {
      "use strict";
      e.exports = { 2: "need dictionary", 1: "stream end", 0: "", "-1": "file error", "-2": "stream error", "-3": "data error", "-4": "insufficient memory", "-5": "buffer error", "-6": "incompatible version" };
    }, {}], 7: [function (t, e, a) {
      "use strict";
      function n(t) {
        for (var e = t.length; --e >= 0;) {
          t[e] = 0;
        }
      }function r(t, e, a, n, r) {
        this.static_tree = t, this.extra_bits = e, this.extra_base = a, this.elems = n, this.max_length = r, this.has_stree = t && t.length;
      }function i(t, e) {
        this.dyn_tree = t, this.max_code = 0, this.stat_desc = e;
      }function s(t) {
        return 256 > t ? lt[t] : lt[256 + (t >>> 7)];
      }function h(t, e) {
        t.pending_buf[t.pending++] = 255 & e, t.pending_buf[t.pending++] = e >>> 8 & 255;
      }function l(t, e, a) {
        t.bi_valid > W - a ? (t.bi_buf |= e << t.bi_valid & 65535, h(t, t.bi_buf), t.bi_buf = e >> W - t.bi_valid, t.bi_valid += a - W) : (t.bi_buf |= e << t.bi_valid & 65535, t.bi_valid += a);
      }function o(t, e, a) {
        l(t, a[2 * e], a[2 * e + 1]);
      }function _(t, e) {
        var a = 0;do {
          a |= 1 & t, t >>>= 1, a <<= 1;
        } while (--e > 0);return a >>> 1;
      }function d(t) {
        16 === t.bi_valid ? (h(t, t.bi_buf), t.bi_buf = 0, t.bi_valid = 0) : t.bi_valid >= 8 && (t.pending_buf[t.pending++] = 255 & t.bi_buf, t.bi_buf >>= 8, t.bi_valid -= 8);
      }function u(t, e) {
        var a,
            n,
            r,
            i,
            s,
            h,
            l = e.dyn_tree,
            o = e.max_code,
            _ = e.stat_desc.static_tree,
            d = e.stat_desc.has_stree,
            u = e.stat_desc.extra_bits,
            f = e.stat_desc.extra_base,
            c = e.stat_desc.max_length,
            p = 0;for (i = 0; V >= i; i++) {
          t.bl_count[i] = 0;
        }for (l[2 * t.heap[t.heap_max] + 1] = 0, a = t.heap_max + 1; Q > a; a++) {
          n = t.heap[a], i = l[2 * l[2 * n + 1] + 1] + 1, i > c && (i = c, p++), l[2 * n + 1] = i, n > o || (t.bl_count[i]++, s = 0, n >= f && (s = u[n - f]), h = l[2 * n], t.opt_len += h * (i + s), d && (t.static_len += h * (_[2 * n + 1] + s)));
        }if (0 !== p) {
          do {
            for (i = c - 1; 0 === t.bl_count[i];) {
              i--;
            }t.bl_count[i]--, t.bl_count[i + 1] += 2, t.bl_count[c]--, p -= 2;
          } while (p > 0);for (i = c; 0 !== i; i--) {
            for (n = t.bl_count[i]; 0 !== n;) {
              r = t.heap[--a], r > o || (l[2 * r + 1] !== i && (t.opt_len += (i - l[2 * r + 1]) * l[2 * r], l[2 * r + 1] = i), n--);
            }
          }
        }
      }function f(t, e, a) {
        var n,
            r,
            i = new Array(V + 1),
            s = 0;for (n = 1; V >= n; n++) {
          i[n] = s = s + a[n - 1] << 1;
        }for (r = 0; e >= r; r++) {
          var h = t[2 * r + 1];0 !== h && (t[2 * r] = _(i[h]++, h));
        }
      }function c() {
        var t,
            e,
            a,
            n,
            i,
            s = new Array(V + 1);for (a = 0, n = 0; K - 1 > n; n++) {
          for (_t[n] = a, t = 0; t < 1 << et[n]; t++) {
            ot[a++] = n;
          }
        }for (ot[a - 1] = n, i = 0, n = 0; 16 > n; n++) {
          for (dt[n] = i, t = 0; t < 1 << at[n]; t++) {
            lt[i++] = n;
          }
        }for (i >>= 7; G > n; n++) {
          for (dt[n] = i << 7, t = 0; t < 1 << at[n] - 7; t++) {
            lt[256 + i++] = n;
          }
        }for (e = 0; V >= e; e++) {
          s[e] = 0;
        }for (t = 0; 143 >= t;) {
          st[2 * t + 1] = 8, t++, s[8]++;
        }for (; 255 >= t;) {
          st[2 * t + 1] = 9, t++, s[9]++;
        }for (; 279 >= t;) {
          st[2 * t + 1] = 7, t++, s[7]++;
        }for (; 287 >= t;) {
          st[2 * t + 1] = 8, t++, s[8]++;
        }for (f(st, P + 1, s), t = 0; G > t; t++) {
          ht[2 * t + 1] = 5, ht[2 * t] = _(t, 5);
        }ut = new r(st, et, M + 1, P, V), ft = new r(ht, at, 0, G, V), ct = new r(new Array(0), nt, 0, J, X);
      }function p(t) {
        var e;for (e = 0; P > e; e++) {
          t.dyn_ltree[2 * e] = 0;
        }for (e = 0; G > e; e++) {
          t.dyn_dtree[2 * e] = 0;
        }for (e = 0; J > e; e++) {
          t.bl_tree[2 * e] = 0;
        }t.dyn_ltree[2 * Y] = 1, t.opt_len = t.static_len = 0, t.last_lit = t.matches = 0;
      }function g(t) {
        t.bi_valid > 8 ? h(t, t.bi_buf) : t.bi_valid > 0 && (t.pending_buf[t.pending++] = t.bi_buf), t.bi_buf = 0, t.bi_valid = 0;
      }function m(t, e, a, n) {
        g(t), n && (h(t, a), h(t, ~a)), D.arraySet(t.pending_buf, t.window, e, a, t.pending), t.pending += a;
      }function b(t, e, a, n) {
        var r = 2 * e,
            i = 2 * a;return t[r] < t[i] || t[r] === t[i] && n[e] <= n[a];
      }function w(t, e, a) {
        for (var n = t.heap[a], r = a << 1; r <= t.heap_len && (r < t.heap_len && b(e, t.heap[r + 1], t.heap[r], t.depth) && r++, !b(e, n, t.heap[r], t.depth));) {
          t.heap[a] = t.heap[r], a = r, r <<= 1;
        }t.heap[a] = n;
      }function v(t, e, a) {
        var n,
            r,
            i,
            h,
            _ = 0;if (0 !== t.last_lit) do {
          n = t.pending_buf[t.d_buf + 2 * _] << 8 | t.pending_buf[t.d_buf + 2 * _ + 1], r = t.pending_buf[t.l_buf + _], _++, 0 === n ? o(t, r, e) : (i = ot[r], o(t, i + M + 1, e), h = et[i], 0 !== h && (r -= _t[i], l(t, r, h)), n--, i = s(n), o(t, i, a), h = at[i], 0 !== h && (n -= dt[i], l(t, n, h)));
        } while (_ < t.last_lit);o(t, Y, e);
      }function y(t, e) {
        var a,
            n,
            r,
            i = e.dyn_tree,
            s = e.stat_desc.static_tree,
            h = e.stat_desc.has_stree,
            l = e.stat_desc.elems,
            o = -1;for (t.heap_len = 0, t.heap_max = Q, a = 0; l > a; a++) {
          0 !== i[2 * a] ? (t.heap[++t.heap_len] = o = a, t.depth[a] = 0) : i[2 * a + 1] = 0;
        }for (; t.heap_len < 2;) {
          r = t.heap[++t.heap_len] = 2 > o ? ++o : 0, i[2 * r] = 1, t.depth[r] = 0, t.opt_len--, h && (t.static_len -= s[2 * r + 1]);
        }for (e.max_code = o, a = t.heap_len >> 1; a >= 1; a--) {
          w(t, i, a);
        }r = l;do {
          a = t.heap[1], t.heap[1] = t.heap[t.heap_len--], w(t, i, 1), n = t.heap[1], t.heap[--t.heap_max] = a, t.heap[--t.heap_max] = n, i[2 * r] = i[2 * a] + i[2 * n], t.depth[r] = (t.depth[a] >= t.depth[n] ? t.depth[a] : t.depth[n]) + 1, i[2 * a + 1] = i[2 * n + 1] = r, t.heap[1] = r++, w(t, i, 1);
        } while (t.heap_len >= 2);t.heap[--t.heap_max] = t.heap[1], u(t, e), f(i, o, t.bl_count);
      }function k(t, e, a) {
        var n,
            r,
            i = -1,
            s = e[1],
            h = 0,
            l = 7,
            o = 4;for (0 === s && (l = 138, o = 3), e[2 * (a + 1) + 1] = 65535, n = 0; a >= n; n++) {
          r = s, s = e[2 * (n + 1) + 1], ++h < l && r === s || (o > h ? t.bl_tree[2 * r] += h : 0 !== r ? (r !== i && t.bl_tree[2 * r]++, t.bl_tree[2 * Z]++) : 10 >= h ? t.bl_tree[2 * $]++ : t.bl_tree[2 * tt]++, h = 0, i = r, 0 === s ? (l = 138, o = 3) : r === s ? (l = 6, o = 3) : (l = 7, o = 4));
        }
      }function z(t, e, a) {
        var n,
            r,
            i = -1,
            s = e[1],
            h = 0,
            _ = 7,
            d = 4;for (0 === s && (_ = 138, d = 3), n = 0; a >= n; n++) {
          if (r = s, s = e[2 * (n + 1) + 1], !(++h < _ && r === s)) {
            if (d > h) {
              do {
                o(t, r, t.bl_tree);
              } while (0 !== --h);
            } else 0 !== r ? (r !== i && (o(t, r, t.bl_tree), h--), o(t, Z, t.bl_tree), l(t, h - 3, 2)) : 10 >= h ? (o(t, $, t.bl_tree), l(t, h - 3, 3)) : (o(t, tt, t.bl_tree), l(t, h - 11, 7));h = 0, i = r, 0 === s ? (_ = 138, d = 3) : r === s ? (_ = 6, d = 3) : (_ = 7, d = 4);
          }
        }
      }function x(t) {
        var e;for (k(t, t.dyn_ltree, t.l_desc.max_code), k(t, t.dyn_dtree, t.d_desc.max_code), y(t, t.bl_desc), e = J - 1; e >= 3 && 0 === t.bl_tree[2 * rt[e] + 1]; e--) {}return t.opt_len += 3 * (e + 1) + 5 + 5 + 4, e;
      }function B(t, e, a, n) {
        var r;for (l(t, e - 257, 5), l(t, a - 1, 5), l(t, n - 4, 4), r = 0; n > r; r++) {
          l(t, t.bl_tree[2 * rt[r] + 1], 3);
        }z(t, t.dyn_ltree, e - 1), z(t, t.dyn_dtree, a - 1);
      }function A(t) {
        var e,
            a = 4093624447;for (e = 0; 31 >= e; e++, a >>>= 1) {
          if (1 & a && 0 !== t.dyn_ltree[2 * e]) return O;
        }if (0 !== t.dyn_ltree[18] || 0 !== t.dyn_ltree[20] || 0 !== t.dyn_ltree[26]) return q;for (e = 32; M > e; e++) {
          if (0 !== t.dyn_ltree[2 * e]) return q;
        }return O;
      }function C(t) {
        pt || (c(), pt = !0), t.l_desc = new i(t.dyn_ltree, ut), t.d_desc = new i(t.dyn_dtree, ft), t.bl_desc = new i(t.bl_tree, ct), t.bi_buf = 0, t.bi_valid = 0, p(t);
      }function S(t, e, a, n) {
        l(t, (L << 1) + (n ? 1 : 0), 3), m(t, e, a, !0);
      }function E(t) {
        l(t, N << 1, 3), o(t, Y, st), d(t);
      }function j(t, e, a, n) {
        var r,
            i,
            s = 0;t.level > 0 ? (t.strm.data_type === T && (t.strm.data_type = A(t)), y(t, t.l_desc), y(t, t.d_desc), s = x(t), r = t.opt_len + 3 + 7 >>> 3, i = t.static_len + 3 + 7 >>> 3, r >= i && (r = i)) : r = i = a + 5, r >= a + 4 && -1 !== e ? S(t, e, a, n) : t.strategy === I || i === r ? (l(t, (N << 1) + (n ? 1 : 0), 3), v(t, st, ht)) : (l(t, (R << 1) + (n ? 1 : 0), 3), B(t, t.l_desc.max_code + 1, t.d_desc.max_code + 1, s + 1), v(t, t.dyn_ltree, t.dyn_dtree)), p(t), n && g(t);
      }function U(t, e, a) {
        return t.pending_buf[t.d_buf + 2 * t.last_lit] = e >>> 8 & 255, t.pending_buf[t.d_buf + 2 * t.last_lit + 1] = 255 & e, t.pending_buf[t.l_buf + t.last_lit] = 255 & a, t.last_lit++, 0 === e ? t.dyn_ltree[2 * a]++ : (t.matches++, e--, t.dyn_ltree[2 * (ot[a] + M + 1)]++, t.dyn_dtree[2 * s(e)]++), t.last_lit === t.lit_bufsize - 1;
      }var D = t("../utils/common"),
          I = 4,
          O = 0,
          q = 1,
          T = 2,
          L = 0,
          N = 1,
          R = 2,
          H = 3,
          F = 258,
          K = 29,
          M = 256,
          P = M + 1 + K,
          G = 30,
          J = 19,
          Q = 2 * P + 1,
          V = 15,
          W = 16,
          X = 7,
          Y = 256,
          Z = 16,
          $ = 17,
          tt = 18,
          et = [0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 2, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4, 4, 5, 5, 5, 5, 0],
          at = [0, 0, 0, 0, 1, 1, 2, 2, 3, 3, 4, 4, 5, 5, 6, 6, 7, 7, 8, 8, 9, 9, 10, 10, 11, 11, 12, 12, 13, 13],
          nt = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 3, 7],
          rt = [16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15],
          it = 512,
          st = new Array(2 * (P + 2));n(st);var ht = new Array(2 * G);n(ht);var lt = new Array(it);n(lt);var ot = new Array(F - H + 1);n(ot);var _t = new Array(K);n(_t);var dt = new Array(G);n(dt);var ut,
          ft,
          ct,
          pt = !1;a._tr_init = C, a._tr_stored_block = S, a._tr_flush_block = j, a._tr_tally = U, a._tr_align = E;
    }, { "../utils/common": 1 }], 8: [function (t, e, a) {
      "use strict";
      function n() {
        this.input = null, this.next_in = 0, this.avail_in = 0, this.total_in = 0, this.output = null, this.next_out = 0, this.avail_out = 0, this.total_out = 0, this.msg = "", this.state = null, this.data_type = 2, this.adler = 0;
      }e.exports = n;
    }, {}], "/lib/deflate.js": [function (t, e, a) {
      "use strict";
      function n(t) {
        if (!(this instanceof n)) return new n(t);this.options = l.assign({ level: b, method: v, chunkSize: 16384, windowBits: 15, memLevel: 8, strategy: w, to: "" }, t || {});var e = this.options;e.raw && e.windowBits > 0 ? e.windowBits = -e.windowBits : e.gzip && e.windowBits > 0 && e.windowBits < 16 && (e.windowBits += 16), this.err = 0, this.msg = "", this.ended = !1, this.chunks = [], this.strm = new d(), this.strm.avail_out = 0;var a = h.deflateInit2(this.strm, e.level, e.method, e.windowBits, e.memLevel, e.strategy);if (a !== p) throw new Error(_[a]);if (e.header && h.deflateSetHeader(this.strm, e.header), e.dictionary) {
          var r;if (r = "string" == typeof e.dictionary ? o.string2buf(e.dictionary) : "[object ArrayBuffer]" === u.call(e.dictionary) ? new Uint8Array(e.dictionary) : e.dictionary, a = h.deflateSetDictionary(this.strm, r), a !== p) throw new Error(_[a]);this._dict_set = !0;
        }
      }function r(t, e) {
        var a = new n(e);if (a.push(t, !0), a.err) throw a.msg;return a.result;
      }function i(t, e) {
        return e = e || {}, e.raw = !0, r(t, e);
      }function s(t, e) {
        return e = e || {}, e.gzip = !0, r(t, e);
      }var h = t("./zlib/deflate"),
          l = t("./utils/common"),
          o = t("./utils/strings"),
          _ = t("./zlib/messages"),
          d = t("./zlib/zstream"),
          u = Object.prototype.toString,
          f = 0,
          c = 4,
          p = 0,
          g = 1,
          m = 2,
          b = -1,
          w = 0,
          v = 8;n.prototype.push = function (t, e) {
        var a,
            n,
            r = this.strm,
            i = this.options.chunkSize;if (this.ended) return !1;n = e === ~~e ? e : e === !0 ? c : f, "string" == typeof t ? r.input = o.string2buf(t) : "[object ArrayBuffer]" === u.call(t) ? r.input = new Uint8Array(t) : r.input = t, r.next_in = 0, r.avail_in = r.input.length;do {
          if (0 === r.avail_out && (r.output = new l.Buf8(i), r.next_out = 0, r.avail_out = i), a = h.deflate(r, n), a !== g && a !== p) return this.onEnd(a), this.ended = !0, !1;0 !== r.avail_out && (0 !== r.avail_in || n !== c && n !== m) || ("string" === this.options.to ? this.onData(o.buf2binstring(l.shrinkBuf(r.output, r.next_out))) : this.onData(l.shrinkBuf(r.output, r.next_out)));
        } while ((r.avail_in > 0 || 0 === r.avail_out) && a !== g);return n === c ? (a = h.deflateEnd(this.strm), this.onEnd(a), this.ended = !0, a === p) : n === m ? (this.onEnd(p), r.avail_out = 0, !0) : !0;
      }, n.prototype.onData = function (t) {
        this.chunks.push(t);
      }, n.prototype.onEnd = function (t) {
        t === p && ("string" === this.options.to ? this.result = this.chunks.join("") : this.result = l.flattenChunks(this.chunks)), this.chunks = [], this.err = t, this.msg = this.strm.msg;
      }, a.Deflate = n, a.deflate = r, a.deflateRaw = i, a.gzip = s;
    }, { "./utils/common": 1, "./utils/strings": 2, "./zlib/deflate": 5, "./zlib/messages": 6, "./zlib/zstream": 8 }] }, {}, [])("/lib/deflate.js");
});
//# sourceMappingURL=pako_deflate.min.js.map

'use strict';

(function () {
	'use strict';

	angular.module('mediaboxApp').controller('LeftMenuController', LeftMenuController);

	LeftMenuController.$inject = ['Auth', '$mdSidenav', '$log', '$timeout', '$scope', 'Settings', '$mdMedia'];

	function LeftMenuController(Auth, $mdSidenav, $log, $timeout, $scope, Settings, $mdMedia) {
		var vm = this;
		// $scope.$watch(function() { return $mdMedia('lg'); }, function(big) {
		//   vm.bigScreen = big;
		// });

		vm.logout = Auth.logout;
		vm.isLoggedIn = Auth.isLoggedIn;
		vm.currentUser = Auth.getCurrentUser();
		vm.hasRole = Auth.hasRole;
		vm.menu = Settings.menu;
		vm.toggleLeft = buildDelayedToggler('left');
		vm.toggleRight = buildToggler('right');
		vm.isOpenLeft = function () {
			return $mdSidenav('left').isOpen();
		};
		vm.isOpenRight = function () {
			return $mdSidenav('right').isOpen();
		};
		/**
   * Supplies a function that will continue to operate until the
   * time is up.
   */
		function debounce(func, wait, context) {
			var timer;
			return function debounced() {
				var context = $scope,
				    args = Array.prototype.slice.call(arguments);
				$timeout.cancel(timer);
				timer = $timeout(function () {
					timer = undefined;
					func.apply(context, args);
				}, wait || 10);
			};
		}
		/**
   * Build handler to open/close a SideNav; when animation finishes
   * report completion in console
   */
		function buildDelayedToggler(navID) {
			return debounce(function () {
				$mdSidenav(navID).toggle().then(function () {
					$log.debug('toggle ' + navID + ' is done');
				});
			}, 200);
		}
		function buildToggler(navID) {
			return function () {
				$mdSidenav(navID).toggle().then(function () {
					$log.debug('toggle ' + navID + ' is done');
				});
			};
		}
	}
})();
//# sourceMappingURL=left-menu.controller.js.map

'use strict';

angular.module('mediaboxApp').directive('leftMenu', function () {
  return {
    templateUrl: 'components/left-menu/left-menu.html',
    restrict: 'EA',
    controller: 'LeftMenuController as left',
    link: function link(scope, element, attrs) {}
  };
});
//# sourceMappingURL=left-menu.directive.js.map

'use strict';

(function () {
	'use strict';

	angular.module('mediaboxApp').factory('PageOptions', PageOptions);

	function PageOptions() {
		var obj = {};
		obj.leftmenu = false;
		return obj;
	}
})();
//# sourceMappingURL=left-menu.service.js.map

'use strict';

(function () {
	'use strict';

	angular.module('mediaboxApp').factory('AlphabetColor', function AlphabetColor() {
		var colors = ['#f9a43e', '#59a2be', '#67bf74', '#f58559', '#e4c62e', '#f16364', '#2093cd', '#ad62a7'];
		var numberOfColors = colors.length;

		return getColor;

		function hashCode(str) {
			var hash = 0,
			    length = str.length,
			    i,
			    chr;

			if (length === 0) {
				return hash;
			}

			for (i = 0; i < length; i++) {
				chr = str.charCodeAt(i);
				hash = (hash << 5) - hash + chr;
				hash |= 0; // Convert to 32bit integer
			}

			return hash;
		}

		function getColor(string) {
			var color = Math.abs(hashCode(string.charAt(0))) % numberOfColors;
			return colors[color];
		}
	}).directive('listImage', listImage);

	// AlphabetColor.$inject = ['_'];


	listImage.$inject = ['$mdTheming', 'AlphabetColor'];

	function listImage($mdTheming, AlphabetColor) {
		var templateString = ['<div ng-style="{background: bgColor}">', '<span>{{::firstLetter}}</span>', '</div>'].join('');

		return {
			restrict: 'E',

			template: templateString,

			link: function link($scope, element, attrs) {
				$mdTheming(element);
				$scope.firstLetter = attrs.string.charAt(0);
				$scope.bgColor = AlphabetColor($scope.firstLetter);
			}
		};
	}
})();
//# sourceMappingURL=list-image.directive.js.map

'use strict';

angular.module('mediaboxApp').factory('lodash', function () {

  // add LodashService dependencies to inject
  LodashService.$inject = ['$window'];

  /**
  	 * LodashService constructor
   *
   * @param $window
   * @returns {exports._|*}
   * @constructor
   */
  function LodashService($window) {
    // remove lodash from global object
    var _ = $window._;
    delete $window._;

    // mixin functions
    _.mixin({ 'groupFilter': groupFilter });

    return _;

    /**
     * Group an array of objects into several arrays by the given
     * criteria, each group sorted by groupSort, each group consists
     * of items named groupItemsName.
     *
     * @param data
     * @param criteria
     * @param groupSort
     * @param groupItemsName
     * @returns {*}
     */
    function groupFilter(data, criteria, groupSort, groupItemsName) {
      if (!data || !data.length) {
        return data;
      }

      groupItemsName = groupItemsName || 'items';

      return _.chain(data).sortBy(groupSort).groupBy(criteria).pairs().map(function (currentItem) {
        return _.object(_.zip(['key', groupItemsName], currentItem));
      }).sortBy('key').value();
    }
  }
});
//# sourceMappingURL=lodash.service.js.map

'use strict';

(function () {
    'use strict';

    angular.module('mediaboxApp').factory('LoginModal', LoginModal).factory('CpModal', CpModal).controller('LoginModalController', LoginModalController).controller('SignUpModalController', SignUpModalController).controller('CpModalController', CpModalController).controller('tabsCtrl', tabsCtrl);

    function tabsCtrl($scope) {
        this.onTabSelected = function (tab) {
            this.tab = tab;
        };
    }
    function CpModal($mdDialog) {
        var obj = {};
        obj.show = function () {
            $mdDialog.show({
                controller: 'CpModalController as cp',
                templateUrl: 'components/login-modal/cp.html',
                clickOutsideToClose: false,
                parent: angular.element(document.body)
            }).then(function (answer) {
                // this.status = 'You closed the dialog.';
            }, function () {
                // this.status = 'You cancelled the dialog.';
            });
        };
        return obj;
    }

    function LoginModal($mdDialog, $state) {
        var obj = {};
        obj.show = function (nextRoute, reload) {
            $mdDialog.show({
                // controller: 'LoginModalController as login',
                templateUrl: 'components/login-modal/index.html',
                clickOutsideToClose: false,
                parent: angular.element(document.body),
                openFrom: { top: 500, width: 30, height: 80 },
                closeTo: { left: 1500 }
            }).then(function (answer) {
                $state.go(nextRoute, null, { reload: reload }); // Should be refreshed, else the user info will not be attached
            }, function () {
                // $scope.status = 'You cancelled the dialog.';
            });
        };
        return obj;
    }

    function CpModalController($mdDialog, Toast, Auth, Settings) {
        this.errors = {};
        this.submitted = false;
        this.Settings = Settings;
        this.Toast = Toast;
        this.Auth = Auth;
        this.close = function () {
            $mdDialog.cancel();
        };
        this.changePassword = function (form) {
            var _this = this;

            var vm = this;
            this.loading = true;
            this.submitted = true;
            if (form.$valid) {
                this.Auth.changePassword(this.user.oldPassword, this.user.newPassword).then(function () {
                    _this.message = 'Password successfully changed.';
                    $mdDialog.hide();
                    _this.loading = false;
                }).catch(function () {
                    form.password.$setValidity('mongoose', false);
                    _this.errors.other = 'Incorrect password';
                    _this.message = '';
                    _this.loading = false;
                });
            } else {
                this.Toast.show({ type: 'error', text: 'Error occured while changing password' });
            }
        };
    }
    function SignUpModalController($mdDialog, Auth) {
        this.errors = {};
        this.signupSelected = true;
        this.submitted = false;
        this.Auth = Auth;
        this.close = close;
        this.register = register;
        function close() {
            $mdDialog.cancel();
        }
        function register(form) {
            var _this2 = this;

            this.submitted = true;
            if (form.$valid) {
                this.loading = true;
                this.Auth.createUser({
                    name: this.user.name,
                    email: this.user.email,
                    phone: this.user.phone,
                    company: this.user.company,
                    website: this.user.website,
                    role: this.user.role,
                    password: this.user.password
                }).then(function () {
                    _this2.loading = false;
                    $mdDialog.hide();
                }).catch(function (err) {
                    err = err.data;
                    _this2.errors = {};
                    _this2.loading = false;
                    // Update validity of form fields that match the sequelize errors
                    if (err.name) {
                        angular.forEach(err.errors, function (field) {
                            form[field.path].$setValidity('mongoose', false);
                            _this2.errors[field.path] = field.message;
                        });
                    }
                });
            }
        }
    }
    function LoginModalController($mdDialog, Auth, $state) {
        var vm = this;
        vm.create = createUser;
        vm.login = login;
        vm.close = close;
        vm.goForgot = goForgot;
        vm.user = {};
        vm.errors = {};
        vm.submitted = false;
        vm.Auth = Auth;

        function goForgot(params) {
            close();
            $state.go('forgot', params);
        }
        function close() {
            $mdDialog.cancel();
        }
        function createUser(form) {}
        function login(form) {
            var _this3 = this;

            this.submitted = true;
            if (form.$valid) {
                this.loading = true;
                this.Auth.login({
                    email: this.user.email,
                    password: this.user.password
                }).then(function () {
                    _this3.loading = false;
                    $mdDialog.hide();
                }).catch(function (err) {
                    _this3.errors.other = err.message;
                    _this3.loading = false;
                });
            }
        }
    }
})();
//# sourceMappingURL=modal.service.js.map

"use strict";

(function () {
    "use strict";
    /* global moment, angular */

    var module = angular.module("mdPickers", ["ngMaterial", "ngAnimate", "ngAria"]);

    module.config(["$mdIconProvider", "mdpIconsRegistry", function ($mdIconProvider, mdpIconsRegistry) {
        angular.forEach(mdpIconsRegistry, function (icon, index) {
            $mdIconProvider.icon(icon.id, icon.url);
        });
    }]);

    module.run(["$templateCache", "mdpIconsRegistry", function ($templateCache, mdpIconsRegistry) {
        angular.forEach(mdpIconsRegistry, function (icon, index) {
            $templateCache.put(icon.url, icon.svg);
        });
    }]);
    module.constant("mdpIconsRegistry", [{
        id: 'mdp-chevron-left',
        url: 'mdp-chevron-left.svg',
        svg: '<svg height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"/><path d="M0 0h24v24H0z" fill="none"/></svg>'
    }, {
        id: 'mdp-chevron-right',
        url: 'mdp-chevron-right.svg',
        svg: '<svg height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"/><path d="M0 0h24v24H0z" fill="none"/></svg>'
    }, {
        id: 'mdp-access-time',
        url: 'mdp-access-time.svg',
        svg: '<svg height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"/><path d="M0 0h24v24H0z" fill="none"/><path d="M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"/></svg>'
    }, {
        id: 'mdp-event',
        url: 'mdp-event.svg',
        svg: '<svg height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M17 12h-5v5h5v-5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1h-2zm3 18H5V8h14v11z"/><path d="M0 0h24v24H0z" fill="none"/></svg>'
    }]);
    module.directive("ngMessage", ["$mdUtil", function ($mdUtil) {
        return {
            restrict: "EA",
            priority: 101,
            compile: function compile(element) {
                var inputContainer = $mdUtil.getClosest(element, "mdp-time-picker", true) || $mdUtil.getClosest(element, "mdp-date-picker", true);

                // If we are not a child of an input container, don't do anything
                if (!inputContainer) return;

                // Add our animation class
                element.toggleClass('md-input-message-animation', true);

                return {};
            }
        };
    }]);
    /* global moment, angular */

    function DatePickerCtrl($scope, $mdDialog, $mdMedia, $timeout, currentDate, options) {
        var self = this;

        this.date = moment(currentDate);
        this.minDate = options.minDate && moment(options.minDate).isValid() ? moment(options.minDate) : null;
        this.maxDate = options.maxDate && moment(options.maxDate).isValid() ? moment(options.maxDate) : null;
        this.displayFormat = options.displayFormat || "ddd, MMM DD";
        this.dateFilter = angular.isFunction(options.dateFilter) ? options.dateFilter : null;
        this.selectingYear = false;

        // validate min and max date
        if (this.minDate && this.maxDate) {
            if (this.maxDate.isBefore(this.minDate)) {
                this.maxDate = moment(this.minDate).add(1, 'days');
            }
        }

        if (this.date) {
            // check min date
            if (this.minDate && this.date.isBefore(this.minDate)) {
                this.date = moment(this.minDate);
            }

            // check max date
            if (this.maxDate && this.date.isAfter(this.maxDate)) {
                this.date = moment(this.maxDate);
            }
        }

        this.yearItems = {
            currentIndex_: 0,
            PAGE_SIZE: 5,
            START: self.minDate ? self.minDate.year() : 1900,
            END: self.maxDate ? self.maxDate.year() : 0,
            getItemAtIndex: function getItemAtIndex(index) {
                if (this.currentIndex_ < index) this.currentIndex_ = index;

                return this.START + index;
            },
            getLength: function getLength() {
                return Math.min(this.currentIndex_ + Math.floor(this.PAGE_SIZE / 2), Math.abs(this.START - this.END) + 1);
            }
        };

        $scope.$mdMedia = $mdMedia;
        $scope.year = this.date.year();

        this.selectYear = function (year) {
            self.date.year(year);
            $scope.year = year;
            self.selectingYear = false;
            self.animate();
        };

        this.showYear = function () {
            self.yearTopIndex = self.date.year() - self.yearItems.START + Math.floor(self.yearItems.PAGE_SIZE / 2);
            self.yearItems.currentIndex_ = self.date.year() - self.yearItems.START + 1;
            self.selectingYear = true;
        };

        this.showCalendar = function () {
            self.selectingYear = false;
        };

        this.cancel = function () {
            $mdDialog.cancel();
        };

        this.confirm = function () {
            var date = this.date;

            if (this.minDate && this.date.isBefore(this.minDate)) {
                date = moment(this.minDate);
            }

            if (this.maxDate && this.date.isAfter(this.maxDate)) {
                date = moment(this.maxDate);
            }

            $mdDialog.hide(date.toDate());
        };

        this.animate = function () {
            self.animating = true;
            $timeout(angular.noop).then(function () {
                self.animating = false;
            });
        };
    }

    module.provider("$mdpDatePicker", function () {
        var LABEL_OK = "OK",
            LABEL_CANCEL = "Cancel",
            DISPLAY_FORMAT = "ddd, MMM DD";

        this.setDisplayFormat = function (format) {
            DISPLAY_FORMAT = format;
        };

        this.setOKButtonLabel = function (label) {
            LABEL_OK = label;
        };

        this.setCancelButtonLabel = function (label) {
            LABEL_CANCEL = label;
        };

        this.$get = ["$mdDialog", function ($mdDialog) {
            var datePicker = function datePicker(currentDate, options) {
                if (!angular.isDate(currentDate)) currentDate = Date.now();
                if (!angular.isObject(options)) options = {};

                options.displayFormat = DISPLAY_FORMAT;

                return $mdDialog.show({
                    controller: ['$scope', '$mdDialog', '$mdMedia', '$timeout', 'currentDate', 'options', DatePickerCtrl],
                    controllerAs: 'datepicker',
                    clickOutsideToClose: true,
                    template: '<md-dialog aria-label="" class="mdp-datepicker" ng-class="{ \'portrait\': !$mdMedia(\'gt-xs\') }">' + '<md-dialog-content layout="row" layout-wrap>' + '<div layout="column" layout-align="start center">' + '<md-toolbar layout-align="start start" flex class="mdp-datepicker-date-wrapper md-hue-1 md-primary" layout="column">' + '<span class="mdp-datepicker-year" ng-click="datepicker.showYear()" ng-class="{ \'active\': datepicker.selectingYear }">{{ datepicker.date.format(\'YYYY\') }}</span>' + '<span class="mdp-datepicker-date" ng-click="datepicker.showCalendar()" ng-class="{ \'active\': !datepicker.selectingYear }">{{ datepicker.date.format(datepicker.displayFormat) }}</span> ' + '</md-toolbar>' + '</div>' + '<div>' + '<div class="mdp-datepicker-select-year mdp-animation-zoom" layout="column" layout-align="center start" ng-if="datepicker.selectingYear">' + '<md-virtual-repeat-container md-auto-shrink md-top-index="datepicker.yearTopIndex">' + '<div flex md-virtual-repeat="item in datepicker.yearItems" md-on-demand class="repeated-year">' + '<span class="md-button" ng-click="datepicker.selectYear(item)" md-ink-ripple ng-class="{ \'md-primary current\': item == year }">{{ item }}</span>' + '</div>' + '</md-virtual-repeat-container>' + '</div>' + '<mdp-calendar ng-if="!datepicker.selectingYear" class="mdp-animation-zoom" date="datepicker.date" min-date="datepicker.minDate" date-filter="datepicker.dateFilter" max-date="datepicker.maxDate"></mdp-calendar>' + '<md-dialog-actions layout="row">' + '<span flex></span>' + '<md-button ng-click="datepicker.cancel()" aria-label="' + LABEL_CANCEL + '">' + LABEL_CANCEL + '</md-button>' + '<md-button ng-click="datepicker.confirm()" class="md-primary" aria-label="' + LABEL_OK + '">' + LABEL_OK + '</md-button>' + '</md-dialog-actions>' + '</div>' + '</md-dialog-content>' + '</md-dialog>',
                    targetEvent: options.targetEvent,
                    locals: {
                        currentDate: currentDate,
                        options: options
                    },
                    skipHide: true
                });
            };

            return datePicker;
        }];
    });

    function CalendarCtrl($scope) {
        var self = this;
        this.dow = moment.localeData().firstDayOfWeek();

        this.weekDays = [].concat(moment.weekdaysMin().slice(this.dow), moment.weekdaysMin().slice(0, this.dow));

        this.daysInMonth = [];

        this.getDaysInMonth = function () {
            var days = self.date.daysInMonth(),
                firstDay = moment(self.date).date(1).day() - this.dow;

            if (firstDay < 0) firstDay = this.weekDays.length - 1;

            var arr = [];
            for (var i = 1; i <= firstDay + days; i++) {
                var day = null;
                if (i > firstDay) {
                    day = {
                        value: i - firstDay,
                        enabled: self.isDayEnabled(moment(self.date).date(i - firstDay).toDate())
                    };
                }
                arr.push(day);
            }

            return arr;
        };

        this.isDayEnabled = function (day) {
            return (!this.minDate || this.minDate <= day) && (!this.maxDate || this.maxDate >= day) && (!self.dateFilter || !self.dateFilter(day));
        };

        this.selectDate = function (dom) {
            self.date.date(dom);
        };

        this.nextMonth = function () {
            self.date.add(1, 'months');
        };

        this.prevMonth = function () {
            self.date.subtract(1, 'months');
        };

        this.updateDaysInMonth = function () {
            self.daysInMonth = self.getDaysInMonth();
        };

        $scope.$watch(function () {
            return self.date.unix();
        }, function (newValue, oldValue) {
            if (newValue && newValue !== oldValue) self.updateDaysInMonth();
        });

        self.updateDaysInMonth();
    }

    module.directive("mdpCalendar", ["$animate", function ($animate) {
        return {
            restrict: 'E',
            bindToController: {
                "date": "=",
                "minDate": "=",
                "maxDate": "=",
                "dateFilter": "="
            },
            template: '<div class="mdp-calendar">' + '<div layout="row" layout-align="space-between center">' + '<md-button aria-label="previous month" class="md-icon-button" ng-click="calendar.prevMonth()"><md-icon md-svg-icon="mdp-chevron-left"></md-icon></md-button>' + '<div class="mdp-calendar-monthyear" ng-show="!calendar.animating">{{ calendar.date.format("MMMM YYYY") }}</div>' + '<md-button aria-label="next month" class="md-icon-button" ng-click="calendar.nextMonth()"><md-icon md-svg-icon="mdp-chevron-right"></md-icon></md-button>' + '</div>' + '<div layout="row" layout-align="space-around center" class="mdp-calendar-week-days" ng-show="!calendar.animating">' + '<div layout layout-align="center center" ng-repeat="d in calendar.weekDays track by $index">{{ d }}</div>' + '</div>' + '<div layout="row" layout-align="start center" layout-wrap class="mdp-calendar-days" ng-class="{ \'mdp-animate-next\': calendar.animating }" ng-show="!calendar.animating" md-swipe-left="calendar.nextMonth()" md-swipe-right="calendar.prevMonth()">' + '<div layout layout-align="center center" ng-repeat-start="day in calendar.daysInMonth track by $index" ng-class="{ \'mdp-day-placeholder\': !day }">' + '<md-button class="md-icon-button md-raised" aria-label="Select day" ng-if="day" ng-class="{ \'md-accent\': calendar.date.date() == day.value }" ng-click="calendar.selectDate(day.value)" ng-disabled="!day.enabled">{{ day.value }}</md-button>' + '</div>' + '<div flex="100" ng-if="($index + 1) % 7 == 0" ng-repeat-end></div>' + '</div>' + '</div>',
            controller: ["$scope", CalendarCtrl],
            controllerAs: "calendar",
            link: function link(scope, element, attrs, ctrl) {
                var animElements = [element[0].querySelector(".mdp-calendar-week-days"), element[0].querySelector('.mdp-calendar-days'), element[0].querySelector('.mdp-calendar-monthyear')].map(function (a) {
                    return angular.element(a);
                });

                scope.$watch(function () {
                    return ctrl.date.format("YYYYMM");
                }, function (newValue, oldValue) {
                    var direction = null;

                    if (newValue > oldValue) direction = "mdp-animate-next";else if (newValue < oldValue) direction = "mdp-animate-prev";

                    if (direction) {
                        for (var i in animElements) {
                            animElements[i].addClass(direction);
                            $animate.removeClass(animElements[i], direction);
                        }
                    }
                });
            }
        };
    }]);

    function formatValidator(value, format) {
        return !value || angular.isDate(value) || moment(value, format, true).isValid();
    }

    function minDateValidator(value, format, minDate) {
        var minDate = moment(minDate, "YYYY-MM-DD", true);
        var date = angular.isDate(value) ? moment(value) : moment(value, format, true);

        return !value || angular.isDate(value) || !minDate.isValid() || date.isSameOrAfter(minDate);
    }

    function maxDateValidator(value, format, maxDate) {
        var maxDate = moment(maxDate, "YYYY-MM-DD", true);
        var date = angular.isDate(value) ? moment(value) : moment(value, format, true);

        return !value || angular.isDate(value) || !maxDate.isValid() || date.isSameOrBefore(maxDate);
    }

    function filterValidator(value, format, filter) {
        var date = angular.isDate(value) ? moment(value) : moment(value, format, true);

        return !value || angular.isDate(value) || !angular.isFunction(filter) || !filter(date);
    }

    function requiredValidator(value, ngModel) {
        return value;
    }

    module.directive("mdpDatePicker", ["$mdpDatePicker", "$timeout", function ($mdpDatePicker, $timeout) {
        return {
            restrict: 'E',
            require: 'ngModel',
            transclude: true,
            template: function template(element, attrs) {
                var noFloat = angular.isDefined(attrs.mdpNoFloat),
                    placeholder = angular.isDefined(attrs.mdpPlaceholder) ? attrs.mdpPlaceholder : "",
                    openOnClick = angular.isDefined(attrs.mdpOpenOnClick) ? true : false;

                return '<div layout layout-align="start start">' + '<md-button' + (angular.isDefined(attrs.mdpDisabled) ? ' ng-disabled="disabled"' : '') + ' class="md-icon-button" ng-click="showPicker($event)">' + '<md-icon md-svg-icon="mdp-event"></md-icon>' + '</md-button>' + '<md-input-container' + (noFloat ? ' md-no-float' : '') + ' md-is-error="isError()">' + '<input type="{{ ::type }}"' + (angular.isDefined(attrs.mdpDisabled) ? ' ng-disabled="disabled"' : '') + ' aria-label="' + placeholder + '" placeholder="' + placeholder + '"' + (openOnClick ? ' ng-click="showPicker($event)" ' : '') + ' />' + '</md-input-container>' + '</div>';
            },
            scope: {
                "minDate": "=mdpMinDate",
                "maxDate": "=mdpMaxDate",
                "dateFilter": "=mdpDateFilter",
                "dateFormat": "@mdpFormat",
                "placeholder": "@mdpPlaceholder",
                "noFloat": "=mdpNoFloat",
                "openOnClick": "=mdpOpenOnClick",
                "disabled": "=?mdpDisabled"
            },
            link: {
                pre: function pre(scope, element, attrs, ngModel, $transclude) {},
                post: function post(scope, element, attrs, ngModel, $transclude) {
                    var inputElement = angular.element(element[0].querySelector('input')),
                        inputContainer = angular.element(element[0].querySelector('md-input-container')),
                        inputContainerCtrl = inputContainer.controller("mdInputContainer");

                    $transclude(function (clone) {
                        inputContainer.append(clone);
                    });

                    var messages = angular.element(inputContainer[0].querySelector("[ng-messages]"));

                    scope.type = scope.dateFormat ? "text" : "date";
                    scope.dateFormat = scope.dateFormat || "YYYY-MM-DD";
                    scope.model = ngModel;

                    scope.isError = function () {
                        return !ngModel.$pristine && !!ngModel.$invalid;
                    };

                    // update input element if model has changed
                    ngModel.$formatters.unshift(function (value) {
                        var date = angular.isDate(value) && moment(value);
                        if (date && date.isValid()) updateInputElement(date.format(scope.dateFormat));else updateInputElement(null);
                    });

                    ngModel.$validators.format = function (modelValue, viewValue) {
                        return formatValidator(viewValue, scope.dateFormat);
                    };

                    ngModel.$validators.minDate = function (modelValue, viewValue) {
                        return minDateValidator(viewValue, scope.dateFormat, scope.minDate);
                    };

                    ngModel.$validators.maxDate = function (modelValue, viewValue) {
                        return maxDateValidator(viewValue, scope.dateFormat, scope.maxDate);
                    };

                    ngModel.$validators.filter = function (modelValue, viewValue) {
                        return filterValidator(viewValue, scope.dateFormat, scope.dateFilter);
                    };

                    ngModel.$validators.required = function (modelValue, viewValue) {
                        return angular.isUndefined(attrs.required) || !ngModel.$isEmpty(modelValue) || !ngModel.$isEmpty(viewValue);
                    };

                    ngModel.$parsers.unshift(function (value) {
                        var parsed = moment(value, scope.dateFormat, true);
                        if (parsed.isValid()) {
                            if (angular.isDate(ngModel.$modelValue)) {
                                var originalModel = moment(ngModel.$modelValue);
                                originalModel.year(parsed.year());
                                originalModel.month(parsed.month());
                                originalModel.date(parsed.date());

                                parsed = originalModel;
                            }
                            return parsed.toDate();
                        } else return null;
                    });

                    // update input element value
                    function updateInputElement(value) {
                        inputElement[0].value = value;
                        inputContainerCtrl.setHasValue(!ngModel.$isEmpty(value));
                    }

                    function updateDate(date) {
                        var value = moment(date, angular.isDate(date) ? null : scope.dateFormat, true),
                            strValue = value.format(scope.dateFormat);

                        if (value.isValid()) {
                            updateInputElement(strValue);
                            ngModel.$setViewValue(strValue);
                        } else {
                            updateInputElement(date);
                            ngModel.$setViewValue(date);
                        }

                        if (!ngModel.$pristine && messages.hasClass("md-auto-hide") && inputContainer.hasClass("md-input-invalid")) messages.removeClass("md-auto-hide");

                        ngModel.$render();
                    }

                    scope.showPicker = function (ev) {
                        $mdpDatePicker(ngModel.$modelValue, {
                            minDate: scope.minDate,
                            maxDate: scope.maxDate,
                            dateFilter: scope.dateFilter,
                            targetEvent: ev
                        }).then(updateDate);
                    };

                    function onInputElementEvents(event) {
                        if (event.target.value !== ngModel.$viewVaue) updateDate(event.target.value);
                    }

                    inputElement.on("reset input blur", onInputElementEvents);

                    scope.$on("$destroy", function () {
                        inputElement.off("reset input blur", onInputElementEvents);
                    });
                }
            }
        };
    }]);

    module.directive("mdpDatePicker", ["$mdpDatePicker", "$timeout", function ($mdpDatePicker, $timeout) {
        return {
            restrict: 'A',
            require: 'ngModel',
            scope: {
                "minDate": "@min",
                "maxDate": "@max",
                "dateFilter": "=mdpDateFilter",
                "dateFormat": "@mdpFormat"
            },
            link: function link(scope, element, attrs, ngModel, $transclude) {
                scope.dateFormat = scope.dateFormat || "YYYY-MM-DD";

                ngModel.$validators.format = function (modelValue, viewValue) {
                    return formatValidator(viewValue, scope.format);
                };

                ngModel.$validators.minDate = function (modelValue, viewValue) {
                    return minDateValidator(viewValue, scope.format, scope.minDate);
                };

                ngModel.$validators.maxDate = function (modelValue, viewValue) {
                    return maxDateValidator(viewValue, scope.format, scope.maxDate);
                };

                ngModel.$validators.filter = function (modelValue, viewValue) {
                    return filterValidator(viewValue, scope.format, scope.dateFilter);
                };

                function showPicker(ev) {
                    $mdpDatePicker(ngModel.$modelValue, {
                        minDate: scope.minDate,
                        maxDate: scope.maxDate,
                        dateFilter: scope.dateFilter,
                        targetEvent: ev
                    }).then(function (time) {
                        ngModel.$setViewValue(moment(time).format(scope.format));
                        ngModel.$render();
                    });
                };

                element.on("click", showPicker);

                scope.$on("$destroy", function () {
                    element.off("click", showPicker);
                });
            }
        };
    }]);
    /* global moment, angular */

    function TimePickerCtrl($scope, $mdDialog, time, autoSwitch, $mdMedia) {
        var self = this;
        this.VIEW_HOURS = 1;
        this.VIEW_MINUTES = 2;
        this.currentView = this.VIEW_HOURS;
        this.time = moment(time);
        this.autoSwitch = !!autoSwitch;

        this.clockHours = parseInt(this.time.format("h"));
        this.clockMinutes = parseInt(this.time.minutes());

        $scope.$mdMedia = $mdMedia;

        this.switchView = function () {
            self.currentView = self.currentView == self.VIEW_HOURS ? self.VIEW_MINUTES : self.VIEW_HOURS;
        };

        this.setAM = function () {
            if (self.time.hours() >= 12) self.time.hour(self.time.hour() - 12);
        };

        this.setPM = function () {
            if (self.time.hours() < 12) self.time.hour(self.time.hour() + 12);
        };

        this.cancel = function () {
            $mdDialog.cancel();
        };

        this.confirm = function () {
            $mdDialog.hide(this.time.toDate());
        };
    }

    function ClockCtrl($scope) {
        var TYPE_HOURS = "hours";
        var TYPE_MINUTES = "minutes";
        var self = this;

        this.STEP_DEG = 360 / 12;
        this.steps = [];

        this.CLOCK_TYPES = {
            "hours": {
                range: 12
            },
            "minutes": {
                range: 60
            }
        };

        this.getPointerStyle = function () {
            var divider = 1;
            switch (self.type) {
                case TYPE_HOURS:
                    divider = 12;
                    break;
                case TYPE_MINUTES:
                    divider = 60;
                    break;
            }
            var degrees = Math.round(self.selected * (360 / divider)) - 180;
            return {
                "-webkit-transform": "rotate(" + degrees + "deg)",
                "-ms-transform": "rotate(" + degrees + "deg)",
                "transform": "rotate(" + degrees + "deg)"
            };
        };

        this.setTimeByDeg = function (deg) {
            deg = deg >= 360 ? 0 : deg;
            var divider = 0;
            switch (self.type) {
                case TYPE_HOURS:
                    divider = 12;
                    break;
                case TYPE_MINUTES:
                    divider = 60;
                    break;
            }

            self.setTime(Math.round(divider / 360 * deg));
        };

        this.setTime = function (time, type) {
            this.selected = time;

            switch (self.type) {
                case TYPE_HOURS:
                    if (self.time.format("A") == "PM") time += 12;
                    this.time.hours(time);
                    break;
                case TYPE_MINUTES:
                    if (time > 59) time -= 60;
                    this.time.minutes(time);
                    break;
            }
        };

        this.init = function () {
            self.type = self.type || "hours";
            switch (self.type) {
                case TYPE_HOURS:
                    for (var i = 1; i <= 12; i++) {
                        self.steps.push(i);
                    }self.selected = self.time.hours() || 0;
                    if (self.selected > 12) self.selected -= 12;

                    break;
                case TYPE_MINUTES:
                    for (var i = 5; i <= 55; i += 5) {
                        self.steps.push(i);
                    }self.steps.push(0);
                    self.selected = self.time.minutes() || 0;

                    break;
            }
        };

        this.init();
    }

    module.directive("mdpClock", ["$animate", "$timeout", function ($animate, $timeout) {
        return {
            restrict: 'E',
            bindToController: {
                'type': '@?',
                'time': '=',
                'autoSwitch': '=?'
            },
            replace: true,
            template: '<div class="mdp-clock">' + '<div class="mdp-clock-container">' + '<md-toolbar class="mdp-clock-center md-primary"></md-toolbar>' + '<md-toolbar ng-style="clock.getPointerStyle()" class="mdp-pointer md-primary">' + '<span class="mdp-clock-selected md-button md-raised md-primary"></span>' + '</md-toolbar>' + '<md-button ng-class="{ \'md-primary\': clock.selected == step }" class="md-icon-button md-raised mdp-clock-deg{{ ::(clock.STEP_DEG * ($index + 1)) }}" ng-repeat="step in clock.steps" ng-click="clock.setTime(step)">{{ step }}</md-button>' + '</div>' + '</div>',
            controller: ["$scope", ClockCtrl],
            controllerAs: "clock",
            link: function link(scope, element, attrs, ctrl) {
                var pointer = angular.element(element[0].querySelector(".mdp-pointer")),
                    timepickerCtrl = scope.$parent.timepicker;

                var onEvent = function onEvent(event) {
                    var containerCoords = event.currentTarget.getClientRects()[0];
                    var x = event.currentTarget.offsetWidth / 2 - (event.pageX - containerCoords.left),
                        y = event.pageY - containerCoords.top - event.currentTarget.offsetHeight / 2;

                    var deg = Math.round(Math.atan2(x, y) * (180 / Math.PI));
                    $timeout(function () {
                        ctrl.setTimeByDeg(deg + 180);
                        if (ctrl.autoSwitch && ["mouseup", "click"].indexOf(event.type) !== -1 && timepickerCtrl) timepickerCtrl.switchView();
                    });
                };

                element.on("mousedown", function () {
                    element.on("mousemove", onEvent);
                });

                element.on("mouseup", function (e) {
                    element.off("mousemove");
                });

                element.on("click", onEvent);
                scope.$on("$destroy", function () {
                    element.off("click", onEvent);
                    element.off("mousemove", onEvent);
                });
            }
        };
    }]);

    module.provider("$mdpTimePicker", function () {
        var LABEL_OK = "OK",
            LABEL_CANCEL = "Cancel";

        this.setOKButtonLabel = function (label) {
            LABEL_OK = label;
        };

        this.setCancelButtonLabel = function (label) {
            LABEL_CANCEL = label;
        };

        this.$get = ["$mdDialog", function ($mdDialog) {
            var timePicker = function timePicker(time, options) {
                if (!angular.isDate(time)) time = Date.now();
                if (!angular.isObject(options)) options = {};

                return $mdDialog.show({
                    controller: ['$scope', '$mdDialog', 'time', 'autoSwitch', '$mdMedia', TimePickerCtrl],
                    controllerAs: 'timepicker',
                    clickOutsideToClose: true,
                    template: '<md-dialog aria-label="" class="mdp-timepicker" ng-class="{ \'portrait\': !$mdMedia(\'gt-xs\') }">' + '<md-dialog-content layout-gt-xs="row" layout-wrap>' + '<md-toolbar layout-gt-xs="column" layout-xs="row" layout-align="center center" flex class="mdp-timepicker-time md-hue-1 md-primary">' + '<div class="mdp-timepicker-selected-time">' + '<span ng-class="{ \'active\': timepicker.currentView == timepicker.VIEW_HOURS }" ng-click="timepicker.currentView = timepicker.VIEW_HOURS">{{ timepicker.time.format("h") }}</span>:' + '<span ng-class="{ \'active\': timepicker.currentView == timepicker.VIEW_MINUTES }" ng-click="timepicker.currentView = timepicker.VIEW_MINUTES">{{ timepicker.time.format("mm") }}</span>' + '</div>' + '<div layout="column" class="mdp-timepicker-selected-ampm">' + '<span ng-click="timepicker.setAM()" ng-class="{ \'active\': timepicker.time.hours() < 12 }">AM</span>' + '<span ng-click="timepicker.setPM()" ng-class="{ \'active\': timepicker.time.hours() >= 12 }">PM</span>' + '</div>' + '</md-toolbar>' + '<div>' + '<div class="mdp-clock-switch-container" ng-switch="timepicker.currentView" layout layout-align="center center">' + '<mdp-clock class="mdp-animation-zoom" auto-switch="timepicker.autoSwitch" time="timepicker.time" type="hours" ng-switch-when="1"></mdp-clock>' + '<mdp-clock class="mdp-animation-zoom" auto-switch="timepicker.autoSwitch" time="timepicker.time" type="minutes" ng-switch-when="2"></mdp-clock>' + '</div>' + '<md-dialog-actions layout="row">' + '<span flex></span>' + '<md-button ng-click="timepicker.cancel()" aria-label="' + LABEL_CANCEL + '">' + LABEL_CANCEL + '</md-button>' + '<md-button ng-click="timepicker.confirm()" class="md-primary" aria-label="' + LABEL_OK + '">' + LABEL_OK + '</md-button>' + '</md-dialog-actions>' + '</div>' + '</md-dialog-content>' + '</md-dialog>',
                    targetEvent: options.targetEvent,
                    locals: {
                        time: time,
                        autoSwitch: options.autoSwitch
                    },
                    skipHide: true
                });
            };

            return timePicker;
        }];
    });

    module.directive("mdpTimePicker", ["$mdpTimePicker", "$timeout", function ($mdpTimePicker, $timeout) {
        return {
            restrict: 'E',
            require: 'ngModel',
            transclude: true,
            template: function template(element, attrs) {
                var noFloat = angular.isDefined(attrs.mdpNoFloat),
                    placeholder = angular.isDefined(attrs.mdpPlaceholder) ? attrs.mdpPlaceholder : "",
                    openOnClick = angular.isDefined(attrs.mdpOpenOnClick) ? true : false;

                return '<div layout layout-align="start start">' + '<md-button class="md-icon-button" ng-click="showPicker($event)"' + (angular.isDefined(attrs.mdpDisabled) ? ' ng-disabled="disabled"' : '') + '>' + '<md-icon md-svg-icon="mdp-access-time"></md-icon>' + '</md-button>' + '<md-input-container' + (noFloat ? ' md-no-float' : '') + ' md-is-error="isError()">' + '<input type="{{ ::type }}"' + (angular.isDefined(attrs.mdpDisabled) ? ' ng-disabled="disabled"' : '') + ' aria-label="' + placeholder + '" placeholder="' + placeholder + '"' + (openOnClick ? ' ng-click="showPicker($event)" ' : '') + ' />' + '</md-input-container>' + '</div>';
            },
            scope: {
                "timeFormat": "@mdpFormat",
                "placeholder": "@mdpPlaceholder",
                "autoSwitch": "=?mdpAutoSwitch",
                "disabled": "=?mdpDisabled"
            },
            link: function link(scope, element, attrs, ngModel, $transclude) {
                var inputElement = angular.element(element[0].querySelector('input')),
                    inputContainer = angular.element(element[0].querySelector('md-input-container')),
                    inputContainerCtrl = inputContainer.controller("mdInputContainer");

                $transclude(function (clone) {
                    inputContainer.append(clone);
                });

                var messages = angular.element(inputContainer[0].querySelector("[ng-messages]"));

                scope.type = scope.timeFormat ? "text" : "time";
                scope.timeFormat = scope.timeFormat || "HH:mm";
                scope.autoSwitch = scope.autoSwitch || false;

                scope.$watch(function () {
                    return ngModel.$error;
                }, function (newValue, oldValue) {
                    inputContainerCtrl.setInvalid(!ngModel.$pristine && !!Object.keys(ngModel.$error).length);
                }, true);

                // update input element if model has changed
                ngModel.$formatters.unshift(function (value) {
                    var time = angular.isDate(value) && moment(value);
                    if (time && time.isValid()) updateInputElement(time.format(scope.timeFormat));else updateInputElement(null);
                });

                ngModel.$validators.format = function (modelValue, viewValue) {
                    return !viewValue || angular.isDate(viewValue) || moment(viewValue, scope.timeFormat, true).isValid();
                };

                ngModel.$validators.required = function (modelValue, viewValue) {
                    return angular.isUndefined(attrs.required) || !ngModel.$isEmpty(modelValue) || !ngModel.$isEmpty(viewValue);
                };

                ngModel.$parsers.unshift(function (value) {
                    var parsed = moment(value, scope.timeFormat, true);
                    if (parsed.isValid()) {
                        if (angular.isDate(ngModel.$modelValue)) {
                            var originalModel = moment(ngModel.$modelValue);
                            originalModel.minutes(parsed.minutes());
                            originalModel.hours(parsed.hours());
                            originalModel.seconds(parsed.seconds());

                            parsed = originalModel;
                        }
                        return parsed.toDate();
                    } else return null;
                });

                // update input element value
                function updateInputElement(value) {
                    inputElement[0].value = value;
                    inputContainerCtrl.setHasValue(!ngModel.$isEmpty(value));
                }

                function updateTime(time) {
                    var value = moment(time, angular.isDate(time) ? null : scope.timeFormat, true),
                        strValue = value.format(scope.timeFormat);

                    if (value.isValid()) {
                        updateInputElement(strValue);
                        ngModel.$setViewValue(strValue);
                    } else {
                        updateInputElement(time);
                        ngModel.$setViewValue(time);
                    }

                    if (!ngModel.$pristine && messages.hasClass("md-auto-hide") && inputContainer.hasClass("md-input-invalid")) messages.removeClass("md-auto-hide");

                    ngModel.$render();
                }

                scope.showPicker = function (ev) {
                    $mdpTimePicker(ngModel.$modelValue, {
                        targetEvent: ev,
                        autoSwitch: scope.autoSwitch
                    }).then(function (time) {
                        updateTime(time, true);
                    });
                };

                function onInputElementEvents(event) {
                    if (event.target.value !== ngModel.$viewVaue) updateTime(event.target.value);
                }

                inputElement.on("reset input blur", onInputElementEvents);

                scope.$on("$destroy", function () {
                    inputElement.off("reset input blur", onInputElementEvents);
                });
            }
        };
    }]);

    module.directive("mdpTimePicker", ["$mdpTimePicker", "$timeout", function ($mdpTimePicker, $timeout) {
        return {
            restrict: 'A',
            require: 'ngModel',
            scope: {
                "timeFormat": "@mdpFormat",
                "autoSwitch": "=?mdpAutoSwitch"
            },
            link: function link(scope, element, attrs, ngModel, $transclude) {
                scope.format = scope.format || "HH:mm";
                function showPicker(ev) {
                    $mdpTimePicker(ngModel.$modelValue, {
                        targetEvent: ev,
                        autoSwitch: scope.autoSwitch
                    }).then(function (time) {
                        ngModel.$setViewValue(moment(time).format(scope.format));
                        ngModel.$render();
                    });
                };

                element.on("click", showPicker);

                scope.$on("$destroy", function () {
                    element.off("click", showPicker);
                });
            }
        };
    }]);
})();
//# sourceMappingURL=mdPickers.js.map

"use strict";

!function () {
  "use strict";
  function t(t, e, a, i, n, r) {
    var o = this;this.date = moment(n), this.minDate = r.minDate && moment(r.minDate).isValid() ? moment(r.minDate) : null, this.maxDate = r.maxDate && moment(r.maxDate).isValid() ? moment(r.maxDate) : null, this.displayFormat = r.displayFormat || "ddd, MMM DD", this.dateFilter = angular.isFunction(r.dateFilter) ? r.dateFilter : null, this.selectingYear = !1, this.minDate && this.maxDate && this.maxDate.isBefore(this.minDate) && (this.maxDate = moment(this.minDate).add(1, "days")), this.date && (this.minDate && this.date.isBefore(this.minDate) && (this.date = moment(this.minDate)), this.maxDate && this.date.isAfter(this.maxDate) && (this.date = moment(this.maxDate))), this.yearItems = { currentIndex_: 0, PAGE_SIZE: 5, START: o.minDate ? o.minDate.year() : 1900, END: o.maxDate ? o.maxDate.year() : 0, getItemAtIndex: function getItemAtIndex(t) {
        return this.currentIndex_ < t && (this.currentIndex_ = t), this.START + t;
      }, getLength: function getLength() {
        return Math.min(this.currentIndex_ + Math.floor(this.PAGE_SIZE / 2), Math.abs(this.START - this.END) + 1);
      } }, t.$mdMedia = a, t.year = this.date.year(), this.selectYear = function (e) {
      o.date.year(e), t.year = e, o.selectingYear = !1, o.animate();
    }, this.showYear = function () {
      o.yearTopIndex = o.date.year() - o.yearItems.START + Math.floor(o.yearItems.PAGE_SIZE / 2), o.yearItems.currentIndex_ = o.date.year() - o.yearItems.START + 1, o.selectingYear = !0;
    }, this.showCalendar = function () {
      o.selectingYear = !1;
    }, this.cancel = function () {
      e.cancel();
    }, this.confirm = function () {
      var t = this.date;this.minDate && this.date.isBefore(this.minDate) && (t = moment(this.minDate)), this.maxDate && this.date.isAfter(this.maxDate) && (t = moment(this.maxDate)), e.hide(t.toDate());
    }, this.animate = function () {
      o.animating = !0, i(angular.noop).then(function () {
        o.animating = !1;
      });
    };
  }function e(t) {
    var e = this;this.dow = moment.localeData().firstDayOfWeek(), this.weekDays = [].concat(moment.weekdaysMin().slice(this.dow), moment.weekdaysMin().slice(0, this.dow)), this.daysInMonth = [], this.getDaysInMonth = function () {
      var t = e.date.daysInMonth(),
          a = moment(e.date).date(1).day() - this.dow;0 > a && (a = this.weekDays.length - 1);for (var i = [], n = 1; a + t >= n; n++) {
        var r = null;n > a && (r = { value: n - a, enabled: e.isDayEnabled(moment(e.date).date(n - a).toDate()) }), i.push(r);
      }return i;
    }, this.isDayEnabled = function (t) {
      return !(this.minDate && !(this.minDate <= t) || this.maxDate && !(this.maxDate >= t) || e.dateFilter && e.dateFilter(t));
    }, this.selectDate = function (t) {
      e.date.date(t);
    }, this.nextMonth = function () {
      e.date.add(1, "months");
    }, this.prevMonth = function () {
      e.date.subtract(1, "months");
    }, this.updateDaysInMonth = function () {
      e.daysInMonth = e.getDaysInMonth();
    }, t.$watch(function () {
      return e.date.unix();
    }, function (t, a) {
      t && t !== a && e.updateDaysInMonth();
    }), e.updateDaysInMonth();
  }function a(t, e) {
    return !t || angular.isDate(t) || moment(t, e, !0).isValid();
  }function i(t, e, a) {
    var a = moment(a, "YYYY-MM-DD", !0),
        i = angular.isDate(t) ? moment(t) : moment(t, e, !0);return !t || angular.isDate(t) || !a.isValid() || i.isSameOrAfter(a);
  }function n(t, e, a) {
    var a = moment(a, "YYYY-MM-DD", !0),
        i = angular.isDate(t) ? moment(t) : moment(t, e, !0);return !t || angular.isDate(t) || !a.isValid() || i.isSameOrBefore(a);
  }function r(t, e, a) {
    var i = angular.isDate(t) ? moment(t) : moment(t, e, !0);return !t || angular.isDate(t) || !angular.isFunction(a) || !a(i);
  }function o(t, e, a, i, n) {
    var r = this;this.VIEW_HOURS = 1, this.VIEW_MINUTES = 2, this.currentView = this.VIEW_HOURS, this.time = moment(a), this.autoSwitch = !!i, this.clockHours = parseInt(this.time.format("h")), this.clockMinutes = parseInt(this.time.minutes()), t.$mdMedia = n, this.switchView = function () {
      r.currentView = r.currentView == r.VIEW_HOURS ? r.VIEW_MINUTES : r.VIEW_HOURS;
    }, this.setAM = function () {
      r.time.hours() >= 12 && r.time.hour(r.time.hour() - 12);
    }, this.setPM = function () {
      r.time.hours() < 12 && r.time.hour(r.time.hour() + 12);
    }, this.cancel = function () {
      e.cancel();
    }, this.confirm = function () {
      e.hide(this.time.toDate());
    };
  }function s(t) {
    var e = "hours",
        a = "minutes",
        i = this;this.STEP_DEG = 30, this.steps = [], this.CLOCK_TYPES = { hours: { range: 12 }, minutes: { range: 60 } }, this.getPointerStyle = function () {
      var t = 1;switch (i.type) {case e:
          t = 12;break;case a:
          t = 60;}var n = Math.round(i.selected * (360 / t)) - 180;return { "-webkit-transform": "rotate(" + n + "deg)", "-ms-transform": "rotate(" + n + "deg)", transform: "rotate(" + n + "deg)" };
    }, this.setTimeByDeg = function (t) {
      t = t >= 360 ? 0 : t;var n = 0;switch (i.type) {case e:
          n = 12;break;case a:
          n = 60;}i.setTime(Math.round(n / 360 * t));
    }, this.setTime = function (t, n) {
      switch (this.selected = t, i.type) {case e:
          "PM" == i.time.format("A") && (t += 12), this.time.hours(t);break;case a:
          t > 59 && (t -= 60), this.time.minutes(t);}
    }, this.init = function () {
      switch (i.type = i.type || "hours", i.type) {case e:
          for (var t = 1; 12 >= t; t++) {
            i.steps.push(t);
          }i.selected = i.time.hours() || 0, i.selected > 12 && (i.selected -= 12);break;case a:
          for (var t = 5; 55 >= t; t += 5) {
            i.steps.push(t);
          }i.steps.push(0), i.selected = i.time.minutes() || 0;}
    }, this.init();
  }var d = angular.module("mdPickers", ["ngMaterial", "ngAnimate", "ngAria"]);d.config(["$mdIconProvider", "mdpIconsRegistry", function (t, e) {
    angular.forEach(e, function (e, a) {
      t.icon(e.id, e.url);
    });
  }]), d.run(["$templateCache", "mdpIconsRegistry", function (t, e) {
    angular.forEach(e, function (e, a) {
      t.put(e.url, e.svg);
    });
  }]), d.constant("mdpIconsRegistry", [{ id: "mdp-chevron-left", url: "mdp-chevron-left.svg", svg: '<svg height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"/><path d="M0 0h24v24H0z" fill="none"/></svg>' }, { id: "mdp-chevron-right", url: "mdp-chevron-right.svg", svg: '<svg height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"/><path d="M0 0h24v24H0z" fill="none"/></svg>' }, { id: "mdp-access-time", url: "mdp-access-time.svg", svg: '<svg height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"/><path d="M0 0h24v24H0z" fill="none"/><path d="M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"/></svg>' }, { id: "mdp-event", url: "mdp-event.svg", svg: '<svg height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M17 12h-5v5h5v-5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1h-2zm3 18H5V8h14v11z"/><path d="M0 0h24v24H0z" fill="none"/></svg>' }]), d.directive("ngMessage", ["$mdUtil", function (t) {
    return { restrict: "EA", priority: 101, compile: function compile(e) {
        var a = t.getClosest(e, "mdp-time-picker", !0) || t.getClosest(e, "mdp-date-picker", !0);if (a) return e.toggleClass("md-input-message-animation", !0), {};
      } };
  }]), d.provider("$mdpDatePicker", function () {
    var e = "OK",
        a = "Cancel",
        i = "ddd, MMM DD";this.setDisplayFormat = function (t) {
      i = t;
    }, this.setOKButtonLabel = function (t) {
      e = t;
    }, this.setCancelButtonLabel = function (t) {
      a = t;
    }, this.$get = ["$mdDialog", function (n) {
      var r = function r(_r, o) {
        return angular.isDate(_r) || (_r = Date.now()), angular.isObject(o) || (o = {}), o.displayFormat = i, n.show({ controller: ["$scope", "$mdDialog", "$mdMedia", "$timeout", "currentDate", "options", t], controllerAs: "datepicker", clickOutsideToClose: !0, template: '<md-dialog aria-label="" class="mdp-datepicker" ng-class="{ \'portrait\': !$mdMedia(\'gt-xs\') }"><md-dialog-content layout="row" layout-wrap><div layout="column" layout-align="start center"><md-toolbar layout-align="start start" flex class="mdp-datepicker-date-wrapper md-hue-1 md-primary" layout="column"><span class="mdp-datepicker-year" ng-click="datepicker.showYear()" ng-class="{ \'active\': datepicker.selectingYear }">{{ datepicker.date.format(\'YYYY\') }}</span><span class="mdp-datepicker-date" ng-click="datepicker.showCalendar()" ng-class="{ \'active\': !datepicker.selectingYear }">{{ datepicker.date.format(datepicker.displayFormat) }}</span> </md-toolbar></div><div><div class="mdp-datepicker-select-year mdp-animation-zoom" layout="column" layout-align="center start" ng-if="datepicker.selectingYear"><md-virtual-repeat-container md-auto-shrink md-top-index="datepicker.yearTopIndex"><div flex md-virtual-repeat="item in datepicker.yearItems" md-on-demand class="repeated-year"><span class="md-button" ng-click="datepicker.selectYear(item)" md-ink-ripple ng-class="{ \'md-primary current\': item == year }">{{ item }}</span></div></md-virtual-repeat-container></div><mdp-calendar ng-if="!datepicker.selectingYear" class="mdp-animation-zoom" date="datepicker.date" min-date="datepicker.minDate" date-filter="datepicker.dateFilter" max-date="datepicker.maxDate"></mdp-calendar><md-dialog-actions layout="row"><span flex></span><md-button ng-click="datepicker.cancel()" aria-label="' + a + '">' + a + '</md-button><md-button ng-click="datepicker.confirm()" class="md-primary" aria-label="' + e + '">' + e + "</md-button></md-dialog-actions></div></md-dialog-content></md-dialog>", targetEvent: o.targetEvent, locals: { currentDate: _r, options: o }, skipHide: !0 });
      };return r;
    }];
  }), d.directive("mdpCalendar", ["$animate", function (t) {
    return { restrict: "E", bindToController: { date: "=", minDate: "=", maxDate: "=", dateFilter: "=" }, template: '<div class="mdp-calendar"><div layout="row" layout-align="space-between center"><md-button aria-label="previous month" class="md-icon-button" ng-click="calendar.prevMonth()"><md-icon md-svg-icon="mdp-chevron-left"></md-icon></md-button><div class="mdp-calendar-monthyear" ng-show="!calendar.animating">{{ calendar.date.format("MMMM YYYY") }}</div><md-button aria-label="next month" class="md-icon-button" ng-click="calendar.nextMonth()"><md-icon md-svg-icon="mdp-chevron-right"></md-icon></md-button></div><div layout="row" layout-align="space-around center" class="mdp-calendar-week-days" ng-show="!calendar.animating"><div layout layout-align="center center" ng-repeat="d in calendar.weekDays track by $index">{{ d }}</div></div><div layout="row" layout-align="start center" layout-wrap class="mdp-calendar-days" ng-class="{ \'mdp-animate-next\': calendar.animating }" ng-show="!calendar.animating" md-swipe-left="calendar.nextMonth()" md-swipe-right="calendar.prevMonth()"><div layout layout-align="center center" ng-repeat-start="day in calendar.daysInMonth track by $index" ng-class="{ \'mdp-day-placeholder\': !day }"><md-button class="md-icon-button md-raised" aria-label="Select day" ng-if="day" ng-class="{ \'md-accent\': calendar.date.date() == day.value }" ng-click="calendar.selectDate(day.value)" ng-disabled="!day.enabled">{{ day.value }}</md-button></div><div flex="100" ng-if="($index + 1) % 7 == 0" ng-repeat-end></div></div></div>', controller: ["$scope", e], controllerAs: "calendar", link: function link(e, a, i, n) {
        var r = [a[0].querySelector(".mdp-calendar-week-days"), a[0].querySelector(".mdp-calendar-days"), a[0].querySelector(".mdp-calendar-monthyear")].map(function (t) {
          return angular.element(t);
        });e.$watch(function () {
          return n.date.format("YYYYMM");
        }, function (e, a) {
          var i = null;if (e > a ? i = "mdp-animate-next" : a > e && (i = "mdp-animate-prev"), i) for (var n in r) {
            r[n].addClass(i), t.removeClass(r[n], i);
          }
        });
      } };
  }]), d.directive("mdpDatePicker", ["$mdpDatePicker", "$timeout", function (t, e) {
    return { restrict: "E", require: "ngModel", transclude: !0, template: function template(t, e) {
        var a = angular.isDefined(e.mdpNoFloat),
            i = angular.isDefined(e.mdpPlaceholder) ? e.mdpPlaceholder : "",
            n = angular.isDefined(e.mdpOpenOnClick) ? !0 : !1;return '<div layout layout-align="start start"><md-button' + (angular.isDefined(e.mdpDisabled) ? ' ng-disabled="disabled"' : "") + ' class="md-icon-button" ng-click="showPicker($event)"><md-icon md-svg-icon="mdp-event"></md-icon></md-button><md-input-container' + (a ? " md-no-float" : "") + ' md-is-error="isError()"><input type="{{ ::type }}"' + (angular.isDefined(e.mdpDisabled) ? ' ng-disabled="disabled"' : "") + ' aria-label="' + i + '" placeholder="' + i + '"' + (n ? ' ng-click="showPicker($event)" ' : "") + " /></md-input-container></div>";
      }, scope: { minDate: "=mdpMinDate", maxDate: "=mdpMaxDate", dateFilter: "=mdpDateFilter", dateFormat: "@mdpFormat", placeholder: "@mdpPlaceholder", noFloat: "=mdpNoFloat", openOnClick: "=mdpOpenOnClick", disabled: "=?mdpDisabled" }, link: { pre: function pre(t, e, a, i, n) {}, post: function post(e, o, s, d, m) {
          function c(t) {
            p[0].value = t, g.setHasValue(!d.$isEmpty(t));
          }function l(t) {
            var a = moment(t, angular.isDate(t) ? null : e.dateFormat, !0),
                i = a.format(e.dateFormat);a.isValid() ? (c(i), d.$setViewValue(i)) : (c(t), d.$setViewValue(t)), !d.$pristine && f.hasClass("md-auto-hide") && h.hasClass("md-input-invalid") && f.removeClass("md-auto-hide"), d.$render();
          }function u(t) {
            t.target.value !== d.$viewVaue && l(t.target.value);
          }var p = angular.element(o[0].querySelector("input")),
              h = angular.element(o[0].querySelector("md-input-container")),
              g = h.controller("mdInputContainer");m(function (t) {
            h.append(t);
          });var f = angular.element(h[0].querySelector("[ng-messages]"));e.type = e.dateFormat ? "text" : "date", e.dateFormat = e.dateFormat || "YYYY-MM-DD", e.model = d, e.isError = function () {
            return !d.$pristine && !!d.$invalid;
          }, d.$formatters.unshift(function (t) {
            var a = angular.isDate(t) && moment(t);c(a && a.isValid() ? a.format(e.dateFormat) : null);
          }), d.$validators.format = function (t, i) {
            return a(i, e.dateFormat);
          }, d.$validators.minDate = function (t, a) {
            return i(a, e.dateFormat, e.minDate);
          }, d.$validators.maxDate = function (t, a) {
            return n(a, e.dateFormat, e.maxDate);
          }, d.$validators.filter = function (t, a) {
            return r(a, e.dateFormat, e.dateFilter);
          }, d.$validators.required = function (t, e) {
            return angular.isUndefined(s.required) || !d.$isEmpty(t) || !d.$isEmpty(e);
          }, d.$parsers.unshift(function (t) {
            var a = moment(t, e.dateFormat, !0);if (a.isValid()) {
              if (angular.isDate(d.$modelValue)) {
                var i = moment(d.$modelValue);i.year(a.year()), i.month(a.month()), i.date(a.date()), a = i;
              }return a.toDate();
            }return null;
          }), e.showPicker = function (a) {
            t(d.$modelValue, { minDate: e.minDate, maxDate: e.maxDate, dateFilter: e.dateFilter, targetEvent: a }).then(l);
          }, p.on("reset input blur", u), e.$on("$destroy", function () {
            p.off("reset input blur", u);
          });
        } } };
  }]), d.directive("mdpDatePicker", ["$mdpDatePicker", "$timeout", function (t, e) {
    return { restrict: "A", require: "ngModel", scope: { minDate: "@min", maxDate: "@max", dateFilter: "=mdpDateFilter", dateFormat: "@mdpFormat" }, link: function link(e, o, s, d, m) {
        function c(a) {
          t(d.$modelValue, { minDate: e.minDate, maxDate: e.maxDate, dateFilter: e.dateFilter, targetEvent: a }).then(function (t) {
            d.$setViewValue(moment(t).format(e.format)), d.$render();
          });
        }e.dateFormat = e.dateFormat || "YYYY-MM-DD", d.$validators.format = function (t, i) {
          return a(i, e.format);
        }, d.$validators.minDate = function (t, a) {
          return i(a, e.format, e.minDate);
        }, d.$validators.maxDate = function (t, a) {
          return n(a, e.format, e.maxDate);
        }, d.$validators.filter = function (t, a) {
          return r(a, e.format, e.dateFilter);
        }, o.on("click", c), e.$on("$destroy", function () {
          o.off("click", c);
        });
      } };
  }]), d.directive("mdpClock", ["$animate", "$timeout", function (t, e) {
    return { restrict: "E", bindToController: { type: "@?", time: "=", autoSwitch: "=?" }, replace: !0, template: '<div class="mdp-clock"><div class="mdp-clock-container"><md-toolbar class="mdp-clock-center md-primary"></md-toolbar><md-toolbar ng-style="clock.getPointerStyle()" class="mdp-pointer md-primary"><span class="mdp-clock-selected md-button md-raised md-primary"></span></md-toolbar><md-button ng-class="{ \'md-primary\': clock.selected == step }" class="md-icon-button md-raised mdp-clock-deg{{ ::(clock.STEP_DEG * ($index + 1)) }}" ng-repeat="step in clock.steps" ng-click="clock.setTime(step)">{{ step }}</md-button></div></div>', controller: ["$scope", s], controllerAs: "clock", link: function link(t, a, i, n) {
        var r = (angular.element(a[0].querySelector(".mdp-pointer")), t.$parent.timepicker),
            o = function o(t) {
          var a = t.currentTarget.getClientRects()[0],
              i = t.currentTarget.offsetWidth / 2 - (t.pageX - a.left),
              o = t.pageY - a.top - t.currentTarget.offsetHeight / 2,
              s = Math.round(Math.atan2(i, o) * (180 / Math.PI));e(function () {
            n.setTimeByDeg(s + 180), n.autoSwitch && -1 !== ["mouseup", "click"].indexOf(t.type) && r && r.switchView();
          });
        };a.on("mousedown", function () {
          a.on("mousemove", o);
        }), a.on("mouseup", function (t) {
          a.off("mousemove");
        }), a.on("click", o), t.$on("$destroy", function () {
          a.off("click", o), a.off("mousemove", o);
        });
      } };
  }]), d.provider("$mdpTimePicker", function () {
    var t = "OK",
        e = "Cancel";this.setOKButtonLabel = function (e) {
      t = e;
    }, this.setCancelButtonLabel = function (t) {
      e = t;
    }, this.$get = ["$mdDialog", function (a) {
      var i = function i(_i, n) {
        return angular.isDate(_i) || (_i = Date.now()), angular.isObject(n) || (n = {}), a.show({ controller: ["$scope", "$mdDialog", "time", "autoSwitch", "$mdMedia", o], controllerAs: "timepicker", clickOutsideToClose: !0, template: '<md-dialog aria-label="" class="mdp-timepicker" ng-class="{ \'portrait\': !$mdMedia(\'gt-xs\') }"><md-dialog-content layout-gt-xs="row" layout-wrap><md-toolbar layout-gt-xs="column" layout-xs="row" layout-align="center center" flex class="mdp-timepicker-time md-hue-1 md-primary"><div class="mdp-timepicker-selected-time"><span ng-class="{ \'active\': timepicker.currentView == timepicker.VIEW_HOURS }" ng-click="timepicker.currentView = timepicker.VIEW_HOURS">{{ timepicker.time.format("h") }}</span>:<span ng-class="{ \'active\': timepicker.currentView == timepicker.VIEW_MINUTES }" ng-click="timepicker.currentView = timepicker.VIEW_MINUTES">{{ timepicker.time.format("mm") }}</span></div><div layout="column" class="mdp-timepicker-selected-ampm"><span ng-click="timepicker.setAM()" ng-class="{ \'active\': timepicker.time.hours() < 12 }">AM</span><span ng-click="timepicker.setPM()" ng-class="{ \'active\': timepicker.time.hours() >= 12 }">PM</span></div></md-toolbar><div><div class="mdp-clock-switch-container" ng-switch="timepicker.currentView" layout layout-align="center center"><mdp-clock class="mdp-animation-zoom" auto-switch="timepicker.autoSwitch" time="timepicker.time" type="hours" ng-switch-when="1"></mdp-clock><mdp-clock class="mdp-animation-zoom" auto-switch="timepicker.autoSwitch" time="timepicker.time" type="minutes" ng-switch-when="2"></mdp-clock></div><md-dialog-actions layout="row"><span flex></span><md-button ng-click="timepicker.cancel()" aria-label="' + e + '">' + e + '</md-button><md-button ng-click="timepicker.confirm()" class="md-primary" aria-label="' + t + '">' + t + "</md-button></md-dialog-actions></div></md-dialog-content></md-dialog>", targetEvent: n.targetEvent, locals: { time: _i, autoSwitch: n.autoSwitch }, skipHide: !0 });
      };return i;
    }];
  }), d.directive("mdpTimePicker", ["$mdpTimePicker", "$timeout", function (t, e) {
    return { restrict: "E", require: "ngModel", transclude: !0, template: function template(t, e) {
        var a = angular.isDefined(e.mdpNoFloat),
            i = angular.isDefined(e.mdpPlaceholder) ? e.mdpPlaceholder : "",
            n = angular.isDefined(e.mdpOpenOnClick) ? !0 : !1;return '<div layout layout-align="start start"><md-button class="md-icon-button" ng-click="showPicker($event)"' + (angular.isDefined(e.mdpDisabled) ? ' ng-disabled="disabled"' : "") + '><md-icon md-svg-icon="mdp-access-time"></md-icon></md-button><md-input-container' + (a ? " md-no-float" : "") + ' md-is-error="isError()"><input type="{{ ::type }}"' + (angular.isDefined(e.mdpDisabled) ? ' ng-disabled="disabled"' : "") + ' aria-label="' + i + '" placeholder="' + i + '"' + (n ? ' ng-click="showPicker($event)" ' : "") + " /></md-input-container></div>";
      }, scope: { timeFormat: "@mdpFormat", placeholder: "@mdpPlaceholder", autoSwitch: "=?mdpAutoSwitch", disabled: "=?mdpDisabled" }, link: function link(e, a, i, n, r) {
        function o(t) {
          m[0].value = t, l.setHasValue(!n.$isEmpty(t));
        }function s(t) {
          var a = moment(t, angular.isDate(t) ? null : e.timeFormat, !0),
              i = a.format(e.timeFormat);a.isValid() ? (o(i), n.$setViewValue(i)) : (o(t), n.$setViewValue(t)), !n.$pristine && u.hasClass("md-auto-hide") && c.hasClass("md-input-invalid") && u.removeClass("md-auto-hide"), n.$render();
        }function d(t) {
          t.target.value !== n.$viewVaue && s(t.target.value);
        }var m = angular.element(a[0].querySelector("input")),
            c = angular.element(a[0].querySelector("md-input-container")),
            l = c.controller("mdInputContainer");r(function (t) {
          c.append(t);
        });var u = angular.element(c[0].querySelector("[ng-messages]"));e.type = e.timeFormat ? "text" : "time", e.timeFormat = e.timeFormat || "HH:mm", e.autoSwitch = e.autoSwitch || !1, e.$watch(function () {
          return n.$error;
        }, function (t, e) {
          l.setInvalid(!n.$pristine && !!Object.keys(n.$error).length);
        }, !0), n.$formatters.unshift(function (t) {
          var a = angular.isDate(t) && moment(t);o(a && a.isValid() ? a.format(e.timeFormat) : null);
        }), n.$validators.format = function (t, a) {
          return !a || angular.isDate(a) || moment(a, e.timeFormat, !0).isValid();
        }, n.$validators.required = function (t, e) {
          return angular.isUndefined(i.required) || !n.$isEmpty(t) || !n.$isEmpty(e);
        }, n.$parsers.unshift(function (t) {
          var a = moment(t, e.timeFormat, !0);if (a.isValid()) {
            if (angular.isDate(n.$modelValue)) {
              var i = moment(n.$modelValue);i.minutes(a.minutes()), i.hours(a.hours()), i.seconds(a.seconds()), a = i;
            }return a.toDate();
          }return null;
        }), e.showPicker = function (a) {
          t(n.$modelValue, { targetEvent: a, autoSwitch: e.autoSwitch }).then(function (t) {
            s(t, !0);
          });
        }, m.on("reset input blur", d), e.$on("$destroy", function () {
          m.off("reset input blur", d);
        });
      } };
  }]), d.directive("mdpTimePicker", ["$mdpTimePicker", "$timeout", function (t, e) {
    return { restrict: "A", require: "ngModel", scope: { timeFormat: "@mdpFormat", autoSwitch: "=?mdpAutoSwitch" }, link: function link(e, a, i, n, r) {
        function o(a) {
          t(n.$modelValue, { targetEvent: a, autoSwitch: e.autoSwitch }).then(function (t) {
            n.$setViewValue(moment(t).format(e.format)), n.$render();
          });
        }e.format = e.format || "HH:mm", a.on("click", o), e.$on("$destroy", function () {
          a.off("click", o);
        });
      } };
  }]);
}();
//# sourceMappingURL=mdPickers.min.js.map
//# sourceMappingURL=mdPickers.min.js.map

'use strict';

(function () {
	'use strict';

	angular.module('mediaboxApp').factory('Modal', Modal).controller('ModalController', ModalController);

	// Modal.$inject = ['$mdDialog', '$state'];
	// ModalController.$inject = ['$mdDialog', 'Toast', '$http', 'options', 'cols', 'Settings', '$filter'];

	function Modal($mdDialog, $state) {

		var obj = {};
		obj.show = function (cols, options) {
			$mdDialog.show({
				controller: 'ModalController as create',
				templateUrl: 'components/modal/create.html',
				clickOutsideToClose: false,
				locals: { cols: cols, options: options }
			}).then(transitionTo, transitionTo);
		};

		return obj;
	}

	function transitionTo(answer) {
		// return $state.go('detail', { location: false });
	}

	function ModalController($mdDialog, Toast, $http, options, cols, Settings, $filter) {
		var vm = this;
		vm.create = createUser;
		vm.close = hideDialog;
		vm.cancel = cancelDialog;
		vm.options = options;
		vm.options.columns = cols;
		vm.title = options.api;
		function createUser(form) {
			// refuse to work with invalid cols
			if (vm.item._id || form && !form.$valid) {
				return;
			}
			// 
			// $http.post('/api/sendmail', {
			// 	from: 'Biri.in <codenxg@gmail.com>',
			//   to: '2lessons@gmail.com',
			//   subject: 'Message from Biri.in',
			//   text: vm.item.title
			// });

			$http.post('/api/' + $filter('pluralize')(options.api), vm.item).then(createUserSuccess).catch(createUserCatch);
			function createUserSuccess(response) {
				var item = vm.item = response.data;
				Toast.show({
					type: 'success',
					text: 'New ' + options.api + ' saved successfully.'
				});
				vm.close();
			}

			function createUserCatch(err) {
				// if (form && err) {
				// 	form.setResponseErrors(err);
				// }

				Toast.show({
					type: 'warn',
					text: 'Error while creating new ' + options.api
				});
			}
		}

		function hideDialog() {
			$mdDialog.hide();
		}

		function cancelDialog() {
			$mdDialog.cancel();
		}
	}
})();
//# sourceMappingURL=modal.service.js.map

'use strict';

/**
 * Removes server error when user updates input
 */

angular.module('mediaboxApp').directive('mongooseError', function () {
  return {
    restrict: 'A',
    require: 'ngModel',
    link: function link(scope, element, attrs, ngModel) {
      element.on('keydown', function () {
        return ngModel.$setValidity('mongoose', true);
      });
    }
  };
});
//# sourceMappingURL=mongoose-error.directive.js.map

'use strict';

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var NavbarPublicController = function NavbarPublicController(ToggleComponent, Auth, $attrs, Settings, $scope, $rootScope, $location, Cart, Category, Brand, $q, Product, $state, $timeout, $log) {
  _classCallCheck(this, NavbarPublicController);

  var vm = this;

  /* autocomplete */
  vm.simulateQuery = true;
  vm.isDisabled = false;
  vm.products = [];
  vm.querySearch = querySearch;
  vm.selectedItemChange = selectedItemChange;
  vm.searchTextChange = searchTextChange;
  vm.cart = Cart.cart;

  // ******************************
  // Internal methods
  // ******************************
  /**
   * Search for products... use $timeout to simulate
   * remote dataservice call.
   */
  vm.categories = Category();
  vm.Settings = Settings;
  vm.cart.getBestShipper(Settings.country).$promise.then(function (data) {
    vm.shipping = data[0];
    vm.totalPriceAfterShipping = vm.cartTotal + data[0].charge;
  });

  function querySearch(input) {
    var data = [];
    if (input) {
      input = input.toLowerCase();
      data = Product.query({ where: { nameLower: { '$regex': input }, active: true }, limit: 10, skip: 0, select: { id: 1, name: 1, slug: 1 } });
    }
    return data;
  }
  function searchTextChange(text) {
    //   $log.info('Text changed to ' + text);
  }

  function selectedItemChange(item) {
    $state.go('single-product', { id: item._id, slug: item.slug }, { reload: false });
  }

  /**
   * Create filter function for a query string
   */

  vm.isLoggedIn = Auth.isLoggedIn;
  vm.openFilter = function () {
    ToggleComponent('filtermenu').open();
  };
  vm.openCart = function () {
    ToggleComponent('cart').open();
  };
  var originatorEv;
  vm.openMenu = function ($mdOpenMenu, ev) {
    originatorEv = ev;
    $mdOpenMenu(ev);
  };

  vm.menu = [{
    'title': 'Home',
    'link': '/'
  }];

  vm.brands = Brand.query({ active: true });

  vm.isCollapsed = true;
  vm.isCollapsed1 = true;
  vm.getCurrentUser = Auth.getCurrentUser;

  vm.getQuantity = function (sku) {
    for (var i = 0; i < vm.cart.items.length; i++) {
      if (vm.cart.items[i].sku === sku) {
        return vm.cart.items[i].quantity;
      }
    }
  };

  vm.getQuantity = function (sku) {
    for (var i = 0; i < vm.cart.items.length; i++) {
      if (vm.cart.items[i].sku === sku) {
        return vm.cart.items[i].quantity;
      }
    }
  };
  vm.toggle = function (item, list) {
    if (angular.isUndefined(list)) list = [];
    var idx = list.indexOf(item);
    if (idx > -1) list.splice(idx, 1);else list.push(item);
    vm.filter();
  };

  vm.categories = Category.query();

  vm.close = function () {
    ToggleComponent('cart').close();
  };
};

angular.module('mediaboxApp').controller('NavbarPublicController', NavbarPublicController);
//# sourceMappingURL=navbar-public.controller.js.map

'use strict';

angular.module('mediaboxApp').directive('navbarPublic', function () {
  return {
    templateUrl: 'components/navbar-public/navbar-public.html',
    restrict: 'E',
    controller: 'NavbarPublicController',
    controllerAs: 'vm'
  };
});
//# sourceMappingURL=navbar-public.directive.js.map

'use strict';

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var NavbarController = function NavbarController(ToggleComponent, Auth, Settings, Cart, Category, Brand, Product, $state, $stateParams, $mdMedia) {
  _classCallCheck(this, NavbarController);

  var vm = this;

  /* autocomplete */
  vm.simulateQuery = true;
  vm.querySearch = querySearch;
  vm.selectedItemChange = selectedItemChange;
  vm.searchTextChange = searchTextChange;
  vm.products = [];
  vm.cart = Cart.cart;
  vm.Settings = Settings;
  vm.$mdMedia = $mdMedia;

  //console.log(vm.cart);
  // var productId = localStorage !== null ? localStorage.productId : null;

  if ($stateParams.search) // When searched print the search text inside search textbox 
    vm.searchText = $stateParams.name;

  vm.cart.getBestShipper().$promise.then(function (data) {
    vm.shipping = data[0];
    vm.totalPriceAfterShipping = vm.cartTotal + data[0].charge;
  });
  function querySearch(input) {
    var data = [];
    if (input) {
      input = input.toLowerCase();
      data = Product.query({ where: { nameLower: { '$regex': input }, active: true }, limit: 10, skip: 0, select: { id: 1, name: 1, slug: 1, 'variants.image': 1 } });
    }
    return data;
  }

  function selectedItemChange(item) {
    $state.go('single-product', { id: item._id, slug: item.slug, search: true, name: item.name }, { reload: false });
  }
  function searchTextChange() {}
  /**
   * Create filter function for a query string
   */

  vm.isLoggedIn = Auth.isLoggedIn;
  vm.openFilter = function () {
    ToggleComponent('filtermenu').open();
  };
  vm.openCart = function () {
    ToggleComponent('cart').open();
    vm.cart.getBestShipper().$promise.then(function (data) {
      vm.shipping = data[0];
      vm.totalPriceAfterShipping = vm.cartTotal + data[0].charge;
    });
  };
  var originatorEv;
  vm.openMenu = function ($mdOpenMenu, ev) {
    originatorEv = ev;
    $mdOpenMenu(ev);
  };

  vm.menu = [{
    'title': 'Home',
    'link': '/'
  }];

  vm.brands = Brand.query({ active: true });

  vm.isCollapsed = true;
  vm.isCollapsed1 = true;
  vm.getCurrentUser = Auth.getCurrentUser;

  vm.gotoDetail = function (params) {
    $state.go('single-product', { id: params.sku, slug: params.slug }, { reload: false });
  };

  vm.getQuantity = function (sku) {
    for (var i = 0; i < vm.cart.items.length; i++) {
      if (vm.cart.items[i].sku === sku) {
        return vm.cart.items[i].quantity;
      }
    }
  };

  vm.getQuantity = function (sku) {
    for (var i = 0; i < vm.cart.items.length; i++) {
      if (vm.cart.items[i].sku === sku) {
        return vm.cart.items[i].quantity;
      }
    }
  };
  vm.toggle = function (item, list) {
    //   console.log(item,list);
    if (angular.isUndefined(list)) list = [];
    var idx = list.indexOf(item);
    if (idx > -1) list.splice(idx, 1);else list.push(item);
    vm.filter();
  };

  vm.categories = Category.loaded.query();

  console.log(vm.categories);

  vm.close = function () {
    ToggleComponent('cart').close();
  };
};

angular.module('mediaboxApp').controller('NavbarController', NavbarController);
//# sourceMappingURL=navbar.controller.js.map

'use strict';

angular.module('mediaboxApp').directive('navbar', function () {
  return {
    templateUrl: 'components/navbar/navbar.html',
    restrict: 'E',
    controller: 'NavbarController',
    controllerAs: 'vm'
  };
});
//# sourceMappingURL=navbar.directive.js.map

'use strict';

angular.module('mediaboxApp').controller('OauthButtonsCtrl', function ($window) {
  this.loginOauth = function (provider) {
    if (provider === 'facebook') this.facebookLoading = true;
    if (provider === 'google') this.googleLoading = true;
    if (provider === 'twitter') this.twitterLoading = true;
    $window.location.href = '/auth/' + provider;
  };
});
//# sourceMappingURL=oauth-buttons.controller.js.map

'use strict';

angular.module('mediaboxApp').directive('oauthButtons', function () {
  return {
    templateUrl: 'components/oauth-buttons/oauth-buttons.html',
    restrict: 'EA',
    controller: 'OauthButtonsCtrl',
    controllerAs: 'OauthButtons',
    scope: {
      classes: '@'
    }
  };
});
//# sourceMappingURL=oauth-buttons.directive.js.map

'use strict';

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

(function () {
  var ratingComponent =
  /*@ngInject*/
  function ratingComponent($timeout) {
    _classCallCheck(this, ratingComponent);

    var vm = this;
    // if (vm.readOnly === undefined) vm.readOnly = false
    var starsArray = [];
    // Initialize to 5 stars 
    for (var index = 0; index < 5; index++) {
      var starItem = {
        index: index,
        class: 'star-off'
      };
      starsArray.push(starItem);
    }
    vm.starsArray = starsArray;

    // On mousover
    vm.setMouseOverRating = function (rating) {
      if (vm.readOnly) {
        return;
      }
      vm.validateStars(rating);
    };
    // Highlight stars
    vm.validateStars = function (rating) {
      if (!vm.starsArray || vm.starsArray.length === 0) {
        return;
      }
      for (var index = 0; index < vm.starsArray.length; index++) {
        var starItem = vm.starsArray[index];
        if (index <= rating - 1) {
          starItem.class = 'star-on';
        } else {
          starItem.class = 'star-off';
        }
      }
    };

    // On click select star
    vm.setRating = function (rating) {
      if (vm.readOnly) return;
      vm.rating = rating;
      vm.validateStars(vm.rating);
      $timeout(function () {
        vm.onRating({
          rating: vm.rating
        });
      });
    };
  };

  angular.module('mediaboxApp').component('rating', {
    template: '\n    <div class="angular-material-rating" layout="row">  \n      <a class="button star-button" ng-class="item.class"    ng-mouseover="$ctrl.setMouseOverRating($index + 1)"    ng-mouseleave="$ctrl.setMouseOverRating($ctrl.rating)"    ng-click="$ctrl.setRating($index + 1)" ng-repeat="item in $ctrl.starsArray">\n        <ng-md-icon icon="star"></ng-md-icon>  \n      </a>\n    </div>\n    ',
    bindings: {
      message: '<', // Read only
      max: '@?', // String
      rating: '=?', // 2way
      readOnly: '=?', // 2way
      onRating: '&' // Callback
    },
    controller: ratingComponent
  });
})();
//# sourceMappingURL=rating.component.js.map

'use strict';

angular.module('mediaboxApp').directive('remoteUnique', function () {
  return {
    template: '<div></div>',
    restrict: 'EA',
    link: function link(scope, element, attrs) {
      element.text('this is the remoteUnique directive');
    }
  };
});
//# sourceMappingURL=remote-unique.directive.js.map

'use strict';

(function () {
	'use strict';

	// register the service as RepeatInput

	angular.module('mediaboxApp').directive('repeatInput', RepeatInput);

	// add RepeatInput dependencies to inject
	// RepeatInput.$inject = [''];

	/**
  * RepeatInput directive
  */
	function RepeatInput() {
		// directive definition members
		var directive = {
			link: link,
			restrict: 'A',
			require: 'ngModel'
		};

		return directive;

		// directives link definition
		function link(scope, elem, attrs, model) {
			if (!attrs.repeatInput) {
				console.error('repeatInput expects a model as an argument!');
				return;
			}

			scope.$watch(attrs.repeatInput, function (value) {
				// Only compare values if the second ctrl has a value.
				if (model.$viewValue !== undefined && model.$viewValue !== '') {
					model.$setValidity('repeat-input', value === model.$viewValue);
				}
			});

			model.$parsers.push(function (value) {
				// Mute the repeatInput error if the second ctrl is empty.
				if (value === undefined || value === '') {
					model.$setValidity('repeat-input', true);
					return value;
				}

				var isValid = value === scope.$eval(attrs.repeatInput);
				model.$setValidity('repeat-input', isValid);
				return isValid ? value : undefined;
			});
		}
	}
})();
//# sourceMappingURL=repeat-input.directive.js.map

'use strict';

angular.module('mediaboxApp').controller('RightMenuCtrl', function () {});
//# sourceMappingURL=right-menu.controller.js.map

'use strict';

angular.module('mediaboxApp').config(function ($stateProvider) {
  $stateProvider.state('right-menu', {
    url: '/right-menu',
    templateUrl: 'components/right-menu/right-menu.html',
    controller: 'RightMenuCtrl'
  });
});
//# sourceMappingURL=right-menu.js.map

/* global io */
'use strict';

angular.module('mediaboxApp').factory('socket', function (socketFactory) {
  // socket.io now auto-configures its connection when we ommit a connection url
  var ioSocket = io('', {
    // Send auth token on connection, you will need to DI the Auth service above
    // 'query': 'token=' + Auth.getToken()
    path: '/socket.io-client'
  });

  var socket = socketFactory({ ioSocket: ioSocket });

  return {
    socket: socket,

    /**
     * Register listeners to sync an array with updates on a model
     *
     * Takes the array we want to sync, the model name that socket updates are sent from,
     * and an optional callback function after new items are updated.
     *
     * @param {String} modelName
     * @param {Array} array
     * @param {Function} cb
     */
    syncUpdates: function syncUpdates(modelName, array, cb) {
      cb = cb || angular.noop;

      /**
       * Syncs item creation/updates on 'model:save'
       */
      socket.on(modelName + ':save', function (item) {
        var oldItem = _.find(array, { _id: item._id });
        var index = array.indexOf(oldItem);
        var event = 'created';

        // replace oldItem if it exists
        // otherwise just add item to the collection
        if (oldItem) {
          array.splice(index, 1, item);
          event = 'updated';
        } else {
          array.push(item);
        }

        cb(event, item, array);
      });

      /**
       * Syncs removed items on 'model:remove'
       */
      socket.on(modelName + ':remove', function (item) {
        var event = 'deleted';
        _.remove(array, { _id: item._id });
        cb(event, item, array);
      });
    },


    /**
     * Removes listeners for a models updates on the socket
     *
     * @param modelName
     */
    unsyncUpdates: function unsyncUpdates(modelName) {
      socket.removeAllListeners(modelName + ':save');
      socket.removeAllListeners(modelName + ':remove');
    }
  };
});
//# sourceMappingURL=socket.service.js.map

'use strict';

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

(function () {
  var submitButtonComponent =
  /*@ngInject*/
  function submitButtonComponent($timeout) {
    _classCallCheck(this, submitButtonComponent);
  };

  angular.module('mediaboxApp').component('submitButton', {
    template: '\n    <div layout="column" layout-align="center stretch">\n\t    <md-button type="submit" class="md-raised circular-progress-button md-primary" ng-disabled="!$ctrl.form.$valid || $ctrl.loading" aria-label="{{$ctrl.text}}">\n\t\t\t\t<span  layout="row" layout-align="center center">\n\t\t\t\t\t<ng-md-icon icon="lock" ng-hide="$ctrl.loading"></ng-md-icon>\n\t\t\t\t\t<md-progress-circular md-mode="indeterminate" md-diameter="25" ng-show="$ctrl.loading" class="md-accent md-hue-1"></md-progress-circular>\n\t\t\t\t\t<span flex>{{$ctrl.text}}</span>\n\t\t\t\t</span>\n\t    </md-button>\n\t\t</div>\n    ',
    bindings: {
      loading: '<', // Read only
      form: '<', // String
      text: '@?' // 2way
    },
    controller: submitButtonComponent
  });
})();
//# sourceMappingURL=submit-button.component.js.map

'use strict';

/**
 * @ngdoc overview
 * @name toast
 * @requires ui.router
 * @requires ngMaterial
 * @description
 * The materialApp.toast module
 */

/**
 * @ngdoc service
 * @name toast.service:Toast
 * @description
 * Service which wraps $mdToast to simplify usage thereof
 */

(function () {
	'use strict';

	angular.module('mediaboxApp').service('Toast', ToastService).controller('ToastController', ToastController);

	/**
  * @ngdoc function
  * @name toast.service:ToastService
  * @description
  * Provider for the {@link toast.service:Toast Toast-service}
  *
  * AngularJS will instantiate a singleton by calling "new" on this function
  *
  * @param {$mdToast} $mdToast The toast service to use
  * @returns {Object} The service definition for the Toast Service
  */

	ToastService.$inject = ['$mdToast'];

	function ToastService($mdToast) {

		return {
			show: showToast,
			hide: hideToast
		};

		/**
   * @ngdoc function
   * @name showToast
   * @methodOf toast.service:Toast
   * @description
   * Display a toast with the given content. If the content is falsy
   * use vm.message.text instead.
   *
   * @param {String|Object} content The toasts content or message object.
   * If an object, the text property will be used as the toast content.
   *
   * @param {Object} [options] Options object passed to the toast service
   * @returns {Promise} The mdToast promise
   */
		function showToast(content, options) {
			if (!options) {
				options = {
					hideDelay: 3000,
					parent: '.toast-container',
					position: 'bottom',
					controller: 'ToastController',
					controllerAs: 'vm',
					templateUrl: 'components/toast/toast.html',
					locals: {
						type: content.type || 'info',
						text: content.text || content,
						link: content.link || false
					}
				};

				// set defaults for content.type warn
				if (content.type && content.type === 'warn') {
					options.hideDelay = 0;
				} else if (content.type && content.type === 'success') {
					options.hideDelay = 5000;
				}
			}

			return $mdToast.show(options);
		}

		/**
   * @ngdoc function
   * @name hideToast
   * @methodOf toast.service:Toast
   * @description
   * Hide the current toast
   * @returns {Promise} The mdToast promise
   */
		function hideToast() {
			return $mdToast.hide();
		}
	}

	/**
  * @ngdoc controller
  * @name toast.controller:ToastController
  * @description
  * ToastController
  *
  * Controller for the custom toast template
  *
  * @param {$mdToast} $mdToast - The toast service to use
  * @param {$state} $state - The state service to use
  * @param {String} type - Type of the information
  * @param {String} text - The toast message
  * @param {String|Object} link - The link or state config object to navigate to
  * @returns {Object} The service definition for the Toast Service
  */

	ToastController.$inject = ['$mdToast', '$state', 'type', 'text', 'link'];

	function ToastController($mdToast, $state, type, text, link) {
		var vm = this;

		/**
   * @ngdoc property
   * @name text
   * @description
   * Some awesome text
   * @propertyOf toast.controller:ToastController
   */
		vm.text = text;

		/**
   * @ngdoc property
   * @name link
   * @description
   * Some awesome link
   * @propertyOf toast.controller:ToastController
   */
		vm.link = link;

		/**
   * @ngdoc property
   * @name type
   * @description
   * Some awesome type
   * @propertyOf toast.controller:ToastController
   */
		vm.type = type;

		// functions (documented below)
		vm.showItem = showItem;
		vm.close = closeToast;

		/**
   * @ngdoc function
   * @name showItem
   * @description
   * Navigate to the injected state
   * @methodOf toast.controller:ToastController
   * @api private
   */
		function showItem() {
			vm.close();
			$state.go(vm.link.state, vm.link.params);
		}

		/**
   * @ngdoc function
   * @name closeToast
   * @description
   * Close the current toast
   * @methodOf toast.controller:ToastController
   * @api private
   */
		function closeToast() {
			$mdToast.hide();
		}
	}
})();
//# sourceMappingURL=toast.service.js.map

'use strict';

(function () {
	'use strict';

	/**
  * Register the ToggleComponentDirective directive as toggleComponent.
  * Register the directive controller as ToggleComponentController
  * @module materialApp.toggleComponent
  * @name ToggleComponent
  */

	angular.module('mediaboxApp').directive('toggleComponent', ToggleComponentDirective).controller('ToggleComponentController', ToggleComponentController);

	// inject dependencies for the ToggleComponentDirective
	ToggleComponentDirective.$inject = ['$timeout', '$animate', '$parse', '$mdMedia', '$mdConstant', '$q', '$document'];

	/**
  * Directive for components that can be toggled.
  *
  * @ngdoc directive
  * @name ToggleComponentDirective
  * @module materialApp.toggleComponent
  *
  * @param $timeout
  * @param $animate
  * @param $parse
  * @param $mdMedia
  * @param $mdConstant
  * @param $q
  * @param $document
  * @returns {{restrict: string, scope: {isOpen: string}, controller: string, compile: Function}}
  * @constructor
  */
	function ToggleComponentDirective($timeout, $animate, $parse, $mdMedia, $mdConstant, $q, $document) {
		return {
			restrict: 'A',

			scope: {
				isOpen: '=?toggleComponentIsOpen',
				keyDown: '=?toggleComponentOnKeydown'
			},

			controller: 'ToggleComponentController',

			compile: function compile(element) {
				element.addClass('toggle-component-closed');
				element.attr('tabIndex', '-1');
				return postLink;
			}
		};

		/**
   * Directive Post Link function
   */
		function postLink(scope, element, attr, toggleComponentCtrl) {
			var triggeringElement = null;
			var promise = $q.when(true);
			var isLockedOpenParsed = $parse(attr.toggleComponentIsOpen);
			var isLocked = function isLocked() {
				return isLockedOpenParsed(scope.$parent, { $media: $mdMedia });
			};

			element.on('$destroy', toggleComponentCtrl.destroy);
			scope.$watch(isLocked, updateIsLocked);
			scope.$watch('isOpen', updateIsOpen);

			// Publish special accessor for the Controller instance
			toggleComponentCtrl.$toggleOpen = toggleOpen;

			/**
    * Toggle the DOM classes to indicate `locked`
    * @param isLocked
    */
			function updateIsLocked(isLocked, oldValue) {
				if (isLocked === oldValue) {
					element.toggleClass('toggle-component-locked-open', !!isLocked);
				} else {
					$animate[isLocked ? 'addClass' : 'removeClass'](element, 'toggle-component-locked-open');
				}
			}

			/**
    * Toggle the toggleComponent view and attach/detach listeners
    * @param isOpen
    */
			function updateIsOpen(isOpen) {
				var parent = element.parent();

				if (scope.keyDown) {
					parent[isOpen ? 'on' : 'off']('keydown', onKeyDown);
				}

				if (isOpen) {
					triggeringElement = $document[0].activeElement;
				}

				return promise = $q.all([$animate[isOpen ? 'removeClass' : 'addClass'](element, 'toggle-component-closed').then(function setElementFocus() {
					if (scope.isOpen) {
						element.focus();
					}
				})]);
			}

			/**
    * Toggle the toggleComponent view and publish a promise to be resolved when
    * the view animation finishes.
    *
    * @param isOpen
    * @returns {*}
    */
			function toggleOpen(isOpen) {
				if (scope.isOpen === isOpen) {
					return $q.when(true);
				}
				var deferred = $q.defer();
				// Toggle value to force an async `updateIsOpen()` to run
				scope.isOpen = isOpen;
				$timeout(setElementFocus, 0, false);

				return deferred.promise;

				function setElementFocus() {
					// When the current `updateIsOpen()` animation finishes
					promise.then(function (result) {
						if (!scope.isOpen) {
							// reset focus to originating element (if available) upon close
							triggeringElement && triggeringElement.focus();
							triggeringElement = null;
						}

						deferred.resolve(result);
					});
				}
			}

			/**
    * Auto-close toggleComponent when the `escape` key is pressed.
    * @param evt
    */
			function onKeyDown(ev) {
				var isEscape = ev.keyCode === $mdConstant.KEY_CODE.ESCAPE;
				return isEscape ? close(ev) : $q.when(true);
			}

			/**
    * With backdrop `clicks` or `escape` key-press, immediately
    * apply the CSS close transition... Then notify the controller
    * to close() and perform its own actions.
   function close(ev) {
   	ev.preventDefault();
   	ev.stopPropagation();
   	return toggleComponentCtrl.close();
   }
    */
		}
	}

	// inject dependencies for the ToggleComponentController
	ToggleComponentController.$inject = ['$scope', '$element', '$attrs', '$q', '$mdComponentRegistry'];

	/**
  * @private
  * @ngdoc controller
  * @name ToggleComponentController
  * @module materialApp.toggleComponent
  *
  */
	function ToggleComponentController($scope, $element, $attrs, $q, $mdComponentRegistry) {
		var self = this;

		// Use Default internal method until overridden by directive postLink

		self.toggleOpen = function () {
			return $q.when($scope.isOpen);
		};

		self.isOpen = function () {
			return !!$scope.isOpen;
		};

		self.open = function () {
			return self.$toggleOpen(true);
		};

		self.close = function () {
			return self.$toggleOpen(false);
		};

		self.toggle = function () {
			return self.$toggleOpen(!$scope.isOpen);
		};

		self.destroy = $mdComponentRegistry.register(self, $attrs.mdComponentId);
	}
})();
//# sourceMappingURL=toggle-component.directive.js.map

'use strict';

(function () {
	'use strict';

	/**
  * Register the service as ToggleComponent
  * @module materialApp.toggleComponent
  * @name ToggleComponent
  */

	angular.module('mediaboxApp').service('ToggleComponent', ToggleComponentService);

	// add ToggleComponent dependencies to inject
	ToggleComponentService.$inject = ['$mdComponentRegistry', '$log', '$q'];

	/**
  * ToggleComponent constructor
  * AngularJS will instantiate a singleton by calling "new" on this function
  *
  * @ngdoc controller
  * @name ToggleComponentService
  * @module materialApp.toggleComponent
  * @returns {Object} The service definition for the ToggleComponent Service
  */
	function ToggleComponentService($mdComponentRegistry, $log, $q) {
		return function (contentHandle) {
			var errorMsg = "ToggleComponent '" + contentHandle + "' is not available!";
			var instance = $mdComponentRegistry.get(contentHandle);

			if (!instance) {
				$log.error('No content-switch found for handle ' + contentHandle);
			}

			return {
				isOpen: isOpen,
				toggle: toggle,
				open: open,
				close: close
			};

			function isOpen() {
				return instance && instance.isOpen();
			}

			function toggle() {
				return instance ? instance.toggle() : $q.reject(errorMsg);
			}

			function open() {
				return instance ? instance.open() : $q.reject(errorMsg);
			}

			function close() {
				return instance ? instance.close() : $q.reject(errorMsg);
			}
		};
	}
})();
//# sourceMappingURL=toggle-component.service.js.map

'use strict';

angular.module('mediaboxApp').directive('topMenu', function () {
  return {
    templateUrl: 'components/top-menu/top-menu.html',
    restrict: 'E',
    controller: 'TopMenuController',
    controllerAs: 'topmenu'
  };
});
//# sourceMappingURL=top-menu.directive.js.map

'use strict';

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var TopMenuController = function TopMenuController(ToggleComponent, Auth, $attrs, Settings, Category, LoginModal, CpModal, $state, $scope, $mdMedia) {
  _classCallCheck(this, TopMenuController);

  var vm = this;
  vm.Auth = Auth;
  vm.showDropdownMenu = false;
  vm.hasRole = Auth.hasRole;
  vm.isLoggedIn = Auth.isLoggedIn;
  vm.isAdmin = Auth.isAdmin;
  vm.$mdMedia = $mdMedia;
  vm.menu = Settings.menu;
  vm.categories = Category();
  var originatorEv;
  vm.openMenu = function ($mdOpenMenu, ev) {
    originatorEv = ev;
    $mdOpenMenu(ev);
  };
  vm.showLogin = function () {
    LoginModal.show($state.current.name);
  };
  vm.showCp = function () {
    CpModal.show();
  };
};

angular.module('mediaboxApp').controller('TopMenuController', TopMenuController);
//# sourceMappingURL=topmenu.controller.js.map

'use strict';

angular.module('mediaboxApp').directive('userAvatar', function () {
  return {
    replace: true,
    template: '<svg class="user-avatar" viewBox="0 0 128 128" height="64" width="64" pointer-events="none" display="block" > <path fill="#FF8A80" d="M0 0h128v128H0z"/> <path fill="#FFE0B2" d="M36.3 94.8c6.4 7.3 16.2 12.1 27.3 12.4 10.7-.3 20.3-4.7 26.7-11.6l.2.1c-17-13.3-12.9-23.4-8.5-28.6 1.3-1.2 2.8-2.5 4.4-3.9l13.1-11c1.5-1.2 2.6-3 2.9-5.1.6-4.4-2.5-8.4-6.9-9.1-1.5-.2-3 0-4.3.6-.3-1.3-.4-2.7-1.6-3.5-1.4-.9-2.8-1.7-4.2-2.5-7.1-3.9-14.9-6.6-23-7.9-5.4-.9-11-1.2-16.1.7-3.3 1.2-6.1 3.2-8.7 5.6-1.3 1.2-2.5 2.4-3.7 3.7l-1.8 1.9c-.3.3-.5.6-.8.8-.1.1-.2 0-.4.2.1.2.1.5.1.6-1-.3-2.1-.4-3.2-.2-4.4.6-7.5 4.7-6.9 9.1.3 2.1 1.3 3.8 2.8 5.1l11 9.3c1.8 1.5 3.3 3.8 4.6 5.7 1.5 2.3 2.8 4.9 3.5 7.6 1.7 6.8-.8 13.4-5.4 18.4-.5.6-1.1 1-1.4 1.7-.2.6-.4 1.3-.6 2-.4 1.5-.5 3.1-.3 4.6.4 3.1 1.8 6.1 4.1 8.2 3.3 3 8 4 12.4 4.5 5.2.6 10.5.7 15.7.2 4.5-.4 9.1-1.2 13-3.4 5.6-3.1 9.6-8.9 10.5-15.2M76.4 46c.9 0 1.6.7 1.6 1.6 0 .9-.7 1.6-1.6 1.6-.9 0-1.6-.7-1.6-1.6-.1-.9.7-1.6 1.6-1.6zm-25.7 0c.9 0 1.6.7 1.6 1.6 0 .9-.7 1.6-1.6 1.6-.9 0-1.6-.7-1.6-1.6-.1-.9.7-1.6 1.6-1.6z"/> <path fill="#E0F7FA" d="M105.3 106.1c-.9-1.3-1.3-1.9-1.3-1.9l-.2-.3c-.6-.9-1.2-1.7-1.9-2.4-3.2-3.5-7.3-5.4-11.4-5.7 0 0 .1 0 .1.1l-.2-.1c-6.4 6.9-16 11.3-26.7 11.6-11.2-.3-21.1-5.1-27.5-12.6-.1.2-.2.4-.2.5-3.1.9-6 2.7-8.4 5.4l-.2.2s-.5.6-1.5 1.7c-.9 1.1-2.2 2.6-3.7 4.5-3.1 3.9-7.2 9.5-11.7 16.6-.9 1.4-1.7 2.8-2.6 4.3h109.6c-3.4-7.1-6.5-12.8-8.9-16.9-1.5-2.2-2.6-3.8-3.3-5z"/> <circle fill="#444" cx="76.3" cy="47.5" r="2"/> <circle fill="#444" cx="50.7" cy="47.6" r="2"/> <path fill="#444" d="M48.1 27.4c4.5 5.9 15.5 12.1 42.4 8.4-2.2-6.9-6.8-12.6-12.6-16.4C95.1 20.9 92 10 92 10c-1.4 5.5-11.1 4.4-11.1 4.4H62.1c-1.7-.1-3.4 0-5.2.3-12.8 1.8-22.6 11.1-25.7 22.9 10.6-1.9 15.3-7.6 16.9-10.2z"/> </svg>'
  };
});
//# sourceMappingURL=user-avatar.directive.js.map

'use strict';

(function () {

  /**
   * The Util service is for thin, globally reusable, utility functions
   */
  function UtilService($window) {
    var Util = {
      /**
       * Return a callback or noop function
       *
       * @param  {Function|*} cb - a 'potential' function
       * @return {Function}
       */
      safeCb: function safeCb(cb) {
        return angular.isFunction(cb) ? cb : angular.noop;
      },


      /**
       * Parse a given url with the use of an anchor element
       *
       * @param  {String} url - the url to parse
       * @return {Object}     - the parsed url, anchor element
       */
      urlParse: function urlParse(url) {
        var a = document.createElement('a');
        a.href = url;

        // Special treatment for IE, see http://stackoverflow.com/a/13405933 for details
        if (a.host === '') {
          a.href = a.href;
        }

        return a;
      },


      /**
       * Test whether or not a given url is same origin
       *
       * @param  {String}           url       - url to test
       * @param  {String|String[]}  [origins] - additional origins to test against
       * @return {Boolean}                    - true if url is same origin
       */
      isSameOrigin: function isSameOrigin(url, origins) {
        url = Util.urlParse(url);
        origins = origins && [].concat(origins) || [];
        origins = origins.map(Util.urlParse);
        origins.push($window.location);
        origins = origins.filter(function (o) {
          return url.hostname === o.hostname && url.port === o.port && url.protocol === o.protocol;
        });
        return origins.length >= 1;
      }
    };

    return Util;
  }

  angular.module('mediaboxApp.util').factory('Util', UtilService);
})();
//# sourceMappingURL=util.service.js.map

'use strict';

/*! Backstretch - v2.0.4 - 2013-06-19
* http://srobbin.com/jquery-plugins/backstretch/
* Copyright (c) 2013 Scott Robbin; Licensed MIT */

;(function ($, window, undefined) {
  'use strict';

  /* PLUGIN DEFINITION
   * ========================= */

  $.fn.backstretch = function (images, options) {
    // We need at least one image or method name
    if (images === undefined || images.length === 0) {
      $.error("No images were supplied for Backstretch");
    }

    /*
     * Scroll the page one pixel to get the right window height on iOS
     * Pretty harmless for everyone else
    */
    if ($(window).scrollTop() === 0) {
      window.scrollTo(0, 0);
    }

    return this.each(function () {
      var $this = $(this),
          obj = $this.data('backstretch');

      // Do we already have an instance attached to this element?
      if (obj) {

        // Is this a method they're trying to execute?
        if (typeof images == 'string' && typeof obj[images] == 'function') {
          // Call the method
          obj[images](options);

          // No need to do anything further
          return;
        }

        // Merge the old options with the new
        options = $.extend(obj.options, options);

        // Remove the old instance
        obj.destroy(true);
      }

      obj = new Backstretch(this, images, options);
      $this.data('backstretch', obj);
    });
  };

  // If no element is supplied, we'll attach to body
  $.backstretch = function (images, options) {
    // Return the instance
    return $('body').backstretch(images, options).data('backstretch');
  };

  // Custom selector
  $.expr[':'].backstretch = function (elem) {
    return $(elem).data('backstretch') !== undefined;
  };

  /* DEFAULTS
   * ========================= */

  $.fn.backstretch.defaults = {
    centeredX: true // Should we center the image on the X axis?
    , centeredY: true // Should we center the image on the Y axis?
    , duration: 5000 // Amount of time in between slides (if slideshow)
    , fade: 0 // Speed of fade transition between slides
  };

  /* STYLES
   * 
   * Baked-in styles that we'll apply to our elements.
   * In an effort to keep the plugin simple, these are not exposed as options.
   * That said, anyone can override these in their own stylesheet.
   * ========================= */
  var styles = {
    wrap: {
      left: 0,
      top: 0,
      overflow: 'hidden',
      margin: 0,
      padding: 0,
      height: '100%',
      width: '100%',
      zIndex: -999999
    },
    img: {
      position: 'absolute',
      display: 'none',
      margin: 0,
      padding: 0,
      border: 'none',
      width: 'auto',
      height: 'auto',
      maxHeight: 'none',
      maxWidth: 'none',
      zIndex: -999999
    }
  };

  /* CLASS DEFINITION
   * ========================= */
  var Backstretch = function Backstretch(container, images, options) {
    this.options = $.extend({}, $.fn.backstretch.defaults, options || {});

    /* In its simplest form, we allow Backstretch to be called on an image path.
     * e.g. $.backstretch('/path/to/image-f6a7d67423.jpg')
     * So, we need to turn this back into an array.
     */
    this.images = $.isArray(images) ? images : [images];

    // Preload images
    $.each(this.images, function () {
      $('<img />')[0].src = this;
    });

    // Convenience reference to know if the container is body.
    this.isBody = container === document.body;

    /* We're keeping track of a few different elements
     *
     * Container: the element that Backstretch was called on.
     * Wrap: a DIV that we place the image into, so we can hide the overflow.
     * Root: Convenience reference to help calculate the correct height.
     */
    this.$container = $(container);
    this.$root = this.isBody ? supportsFixedPosition ? $(window) : $(document) : this.$container;

    // Don't create a new wrap if one already exists (from a previous instance of Backstretch)
    var $existing = this.$container.children(".backstretch").first();
    this.$wrap = $existing.length ? $existing : $('<div class="backstretch"></div>').css(styles.wrap).appendTo(this.$container);

    // Non-body elements need some style adjustments
    if (!this.isBody) {
      // If the container is statically positioned, we need to make it relative,
      // and if no zIndex is defined, we should set it to zero.
      var position = this.$container.css('position'),
          zIndex = this.$container.css('zIndex');

      this.$container.css({
        position: position === 'static' ? 'relative' : position,
        zIndex: zIndex === 'auto' ? 0 : zIndex,
        background: 'none'
      });

      // Needs a higher z-index
      this.$wrap.css({ zIndex: -999998 });
    }

    // Fixed or absolute positioning?
    this.$wrap.css({
      position: this.isBody && supportsFixedPosition ? 'fixed' : 'absolute'
    });

    // Set the first image
    this.index = 0;
    this.show(this.index);

    // Listen for resize
    $(window).on('resize.backstretch', $.proxy(this.resize, this)).on('orientationchange.backstretch', $.proxy(function () {
      // Need to do this in order to get the right window height
      if (this.isBody && window.pageYOffset === 0) {
        window.scrollTo(0, 1);
        this.resize();
      }
    }, this));
  };

  /* PUBLIC METHODS
   * ========================= */
  Backstretch.prototype = {
    resize: function resize() {
      try {
        var bgCSS = { left: 0, top: 0 },
            rootWidth = this.isBody ? this.$root.width() : this.$root.innerWidth(),
            bgWidth = rootWidth,
            rootHeight = this.isBody ? window.innerHeight ? window.innerHeight : this.$root.height() : this.$root.innerHeight(),
            bgHeight = bgWidth / this.$img.data('ratio'),
            bgOffset;

        // Make adjustments based on image ratio
        if (bgHeight >= rootHeight) {
          bgOffset = (bgHeight - rootHeight) / 2;
          if (this.options.centeredY) {
            bgCSS.top = '-' + bgOffset + 'px';
          }
        } else {
          bgHeight = rootHeight;
          bgWidth = bgHeight * this.$img.data('ratio');
          bgOffset = (bgWidth - rootWidth) / 2;
          if (this.options.centeredX) {
            bgCSS.left = '-' + bgOffset + 'px';
          }
        }

        this.$wrap.css({ width: rootWidth, height: rootHeight }).find('img:not(.deleteable)').css({ width: bgWidth, height: bgHeight }).css(bgCSS);
      } catch (err) {
        // IE7 seems to trigger resize before the image is loaded.
        // This try/catch block is a hack to let it fail gracefully.
      }

      return this;
    }

    // Show the slide at a certain position
    , show: function show(newIndex) {

      // Validate index
      if (Math.abs(newIndex) > this.images.length - 1) {
        return;
      }

      // Vars
      var self = this,
          oldImage = self.$wrap.find('img').addClass('deleteable'),
          evtOptions = { relatedTarget: self.$container[0] };

      // Trigger the "before" event
      self.$container.trigger($.Event('backstretch.before', evtOptions), [self, newIndex]);

      // Set the new index
      this.index = newIndex;

      // Pause the slideshow
      clearInterval(self.interval);

      // New image
      self.$img = $('<img />').css(styles.img).bind('load', function (e) {
        var imgWidth = this.width || $(e.target).width(),
            imgHeight = this.height || $(e.target).height();

        // Save the ratio
        $(this).data('ratio', imgWidth / imgHeight);

        // Show the image, then delete the old one
        // "speed" option has been deprecated, but we want backwards compatibilty
        $(this).fadeIn(self.options.speed || self.options.fade, function () {
          oldImage.remove();

          // Resume the slideshow
          if (!self.paused) {
            self.cycle();
          }

          // Trigger the "after" and "show" events
          // "show" is being deprecated
          $(['after', 'show']).each(function () {
            self.$container.trigger($.Event('backstretch.' + this, evtOptions), [self, newIndex]);
          });
        });

        // Resize
        self.resize();
      }).appendTo(self.$wrap);

      // Hack for IE img onload event
      self.$img.attr('src', self.images[newIndex]);
      return self;
    },

    next: function next() {
      // Next slide
      return this.show(this.index < this.images.length - 1 ? this.index + 1 : 0);
    },

    prev: function prev() {
      // Previous slide
      return this.show(this.index === 0 ? this.images.length - 1 : this.index - 1);
    },

    pause: function pause() {
      // Pause the slideshow
      this.paused = true;
      return this;
    },

    resume: function resume() {
      // Resume the slideshow
      this.paused = false;
      this.next();
      return this;
    },

    cycle: function cycle() {
      // Start/resume the slideshow
      if (this.images.length > 1) {
        // Clear the interval, just in case
        clearInterval(this.interval);

        this.interval = setInterval($.proxy(function () {
          // Check for paused slideshow
          if (!this.paused) {
            this.next();
          }
        }, this), this.options.duration);
      }
      return this;
    },

    destroy: function destroy(preserveBackground) {
      // Stop the resize events
      $(window).off('resize.backstretch orientationchange.backstretch');

      // Clear the interval
      clearInterval(this.interval);

      // Remove Backstretch
      if (!preserveBackground) {
        this.$wrap.remove();
      }
      this.$container.removeData('backstretch');
    }
  };

  /* SUPPORTS FIXED POSITION?
   *
   * Based on code from jQuery Mobile 1.1.0
   * http://jquerymobile.com/
   *
   * In a nutshell, we need to figure out if fixed positioning is supported.
   * Unfortunately, this is very difficult to do on iOS, and usually involves
   * injecting content, scrolling the page, etc.. It's ugly.
   * jQuery Mobile uses this workaround. It's not ideal, but works.
   *
   * Modified to detect IE6
   * ========================= */

  var supportsFixedPosition = function () {
    var ua = navigator.userAgent,
        platform = navigator.platform
    // Rendering engine is Webkit, and capture major version
    ,
        wkmatch = ua.match(/AppleWebKit\/([0-9]+)/),
        wkversion = !!wkmatch && wkmatch[1],
        ffmatch = ua.match(/Fennec\/([0-9]+)/),
        ffversion = !!ffmatch && ffmatch[1],
        operammobilematch = ua.match(/Opera Mobi\/([0-9]+)/),
        omversion = !!operammobilematch && operammobilematch[1],
        iematch = ua.match(/MSIE ([0-9]+)/),
        ieversion = !!iematch && iematch[1];

    return !(
    // iOS 4.3 and older : Platform is iPhone/Pad/Touch and Webkit version is less than 534 (ios5)
    (platform.indexOf("iPhone") > -1 || platform.indexOf("iPad") > -1 || platform.indexOf("iPod") > -1) && wkversion && wkversion < 534 ||

    // Opera Mini
    window.operamini && {}.toString.call(window.operamini) === "[object OperaMini]" || operammobilematch && omversion < 7458 ||

    //Android lte 2.1: Platform is Android and Webkit version is less than 533 (Android 2.2)
    ua.indexOf("Android") > -1 && wkversion && wkversion < 533 ||

    // Firefox Mobile before 6.0 -
    ffversion && ffversion < 6 ||

    // WebOS less than 3
    "palmGetResource" in window && wkversion && wkversion < 534 ||

    // MeeGo
    ua.indexOf("MeeGo") > -1 && ua.indexOf("NokiaBrowser/8.5.0") > -1 ||

    // IE6
    ieversion && ieversion <= 6);
  }();
})(jQuery, window);
//# sourceMappingURL=jquery.backstretch.js.map

"use strict";

/*! Backstretch - v2.0.4 - 2013-06-19
* http://srobbin.com/jquery-plugins/backstretch/
* Copyright (c) 2013 Scott Robbin; Licensed MIT */
(function (a, d, p) {
  a.fn.backstretch = function (c, b) {
    (c === p || 0 === c.length) && a.error("No images were supplied for Backstretch");0 === a(d).scrollTop() && d.scrollTo(0, 0);return this.each(function () {
      var d = a(this),
          g = d.data("backstretch");if (g) {
        if ("string" == typeof c && "function" == typeof g[c]) {
          g[c](b);return;
        }b = a.extend(g.options, b);g.destroy(!0);
      }g = new q(this, c, b);d.data("backstretch", g);
    });
  };a.backstretch = function (c, b) {
    return a("body").backstretch(c, b).data("backstretch");
  };a.expr[":"].backstretch = function (c) {
    return a(c).data("backstretch") !== p;
  };a.fn.backstretch.defaults = { centeredX: !0, centeredY: !0, duration: 5E3, fade: 0 };var r = { left: 0, top: 0, overflow: "hidden", margin: 0, padding: 0, height: "100%", width: "100%", zIndex: -999999 },
      s = { position: "absolute", display: "none", margin: 0, padding: 0, border: "none", width: "auto", height: "auto", maxHeight: "none", maxWidth: "none", zIndex: -999999 },
      q = function q(c, b, e) {
    this.options = a.extend({}, a.fn.backstretch.defaults, e || {});this.images = a.isArray(b) ? b : [b];a.each(this.images, function () {
      a("<img />")[0].src = this;
    });this.isBody = c === document.body;this.$container = a(c);this.$root = this.isBody ? l ? a(d) : a(document) : this.$container;c = this.$container.children(".backstretch").first();this.$wrap = c.length ? c : a('<div class="backstretch"></div>').css(r).appendTo(this.$container);this.isBody || (c = this.$container.css("position"), b = this.$container.css("zIndex"), this.$container.css({ position: "static" === c ? "relative" : c, zIndex: "auto" === b ? 0 : b, background: "none" }), this.$wrap.css({ zIndex: -999998 }));this.$wrap.css({ position: this.isBody && l ? "fixed" : "absolute" });this.index = 0;this.show(this.index);a(d).on("resize.backstretch", a.proxy(this.resize, this)).on("orientationchange.backstretch", a.proxy(function () {
      this.isBody && 0 === d.pageYOffset && (d.scrollTo(0, 1), this.resize());
    }, this));
  };q.prototype = { resize: function resize() {
      try {
        var a = { left: 0, top: 0 },
            b = this.isBody ? this.$root.width() : this.$root.innerWidth(),
            e = b,
            g = this.isBody ? d.innerHeight ? d.innerHeight : this.$root.height() : this.$root.innerHeight(),
            j = e / this.$img.data("ratio"),
            f;j >= g ? (f = (j - g) / 2, this.options.centeredY && (a.top = "-" + f + "px")) : (j = g, e = j * this.$img.data("ratio"), f = (e - b) / 2, this.options.centeredX && (a.left = "-" + f + "px"));this.$wrap.css({ width: b, height: g }).find("img:not(.deleteable)").css({ width: e, height: j }).css(a);
      } catch (h) {}return this;
    }, show: function show(c) {
      if (!(Math.abs(c) > this.images.length - 1)) {
        var b = this,
            e = b.$wrap.find("img").addClass("deleteable"),
            d = { relatedTarget: b.$container[0] };b.$container.trigger(a.Event("backstretch.before", d), [b, c]);this.index = c;clearInterval(b.interval);b.$img = a("<img />").css(s).bind("load", function (f) {
          var h = this.width || a(f.target).width();f = this.height || a(f.target).height();a(this).data("ratio", h / f);a(this).fadeIn(b.options.speed || b.options.fade, function () {
            e.remove();b.paused || b.cycle();a(["after", "show"]).each(function () {
              b.$container.trigger(a.Event("backstretch." + this, d), [b, c]);
            });
          });b.resize();
        }).appendTo(b.$wrap);b.$img.attr("src", b.images[c]);return b;
      }
    }, next: function next() {
      return this.show(this.index < this.images.length - 1 ? this.index + 1 : 0);
    }, prev: function prev() {
      return this.show(0 === this.index ? this.images.length - 1 : this.index - 1);
    }, pause: function pause() {
      this.paused = !0;return this;
    }, resume: function resume() {
      this.paused = !1;this.next();return this;
    }, cycle: function cycle() {
      1 < this.images.length && (clearInterval(this.interval), this.interval = setInterval(a.proxy(function () {
        this.paused || this.next();
      }, this), this.options.duration));return this;
    }, destroy: function destroy(c) {
      a(d).off("resize.backstretch orientationchange.backstretch");clearInterval(this.interval);c || this.$wrap.remove();this.$container.removeData("backstretch");
    } };var l,
      f = navigator.userAgent,
      m = navigator.platform,
      e = f.match(/AppleWebKit\/([0-9]+)/),
      e = !!e && e[1],
      h = f.match(/Fennec\/([0-9]+)/),
      h = !!h && h[1],
      n = f.match(/Opera Mobi\/([0-9]+)/),
      t = !!n && n[1],
      k = f.match(/MSIE ([0-9]+)/),
      k = !!k && k[1];l = !((-1 < m.indexOf("iPhone") || -1 < m.indexOf("iPad") || -1 < m.indexOf("iPod")) && e && 534 > e || d.operamini && "[object OperaMini]" === {}.toString.call(d.operamini) || n && 7458 > t || -1 < f.indexOf("Android") && e && 533 > e || h && 6 > h || "palmGetResource" in d && e && 534 > e || -1 < f.indexOf("MeeGo") && -1 < f.indexOf("NokiaBrowser/8.5.0") || k && 6 >= k);
})(jQuery, window);
//# sourceMappingURL=jquery.backstretch.min.js.map

"use strict";
//# sourceMappingURL=scripts.js.map

'use strict';

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

(function () {
  var wishComponent =
  /*@ngInject*/
  function wishComponent(Wishlist, Toast, Auth, LoginModal) {
    _classCallCheck(this, wishComponent);

    var vm = this;
    var product = {};
    var variant = {};
    vm.$onChanges = function (changesObj) {
      if (changesObj.product) product = changesObj.product.currentValue;
      if (changesObj.variant) variant = changesObj.variant.currentValue;else variant = '~~~~~~~~~~~~~~~';
      if (product && variant) {
        var q = { where: { 'product._id': product._id, 'variant._id': variant._id } };
        vm.cls = 'md-primary';
        var wishlist = Wishlist.my.query(q, function (data) {
          if (data[0]) vm.cls = 'md-accent';
        });
      }
    };

    // On click select star
    vm.toggleWishlist = function () {
      if (vm.readOnly) return;
      if (!Auth.getCurrentUser().name) {
        LoginModal.show('single-product', true); // Reload = true
        return;
      }
      var p = { product: this.product, variant: this.variant };
      // pid: vm.product._id,
      // pname: vm.product.name,
      // slug: vm.product.slug,
      // image:vm.product.variants[0].image,
      // price:vm.product.variants[0].price,
      // mrp:vm.product.variants[0].mrp,
      // keyFeatures: vm.product.keyFeatures
      // }
      Wishlist.save(p, function (data) {
        if (data._id) {
          Toast.show({ type: 'success', text: 'Added to your wishlist' });
          vm.cls = 'md-accent';
        } else vm.cls = 'md-primary';
      });
    };
  };

  angular.module('mediaboxApp').component('wish', {
    template: '\n    <md-button class="wishlist-component md-mini" aria-label="Add to wishlist" ng-class="$ctrl.cls"\n    ng-click="$ctrl.toggleWishlist()">\n        <ng-md-icon icon="favorite"></ng-md-icon>&nbsp;<span ng-if="$ctrl.cls === \'md-accent\'">Wished</span><span ng-if="$ctrl.cls !== \'md-accent\'">Add To Wishlist</span>\n    </md-button>\n    ',
    bindings: {
      product: '<', // Read only
      variant: '<', // Read only
      pid: '<', // Product ID passed because initially the whole product object will not be ready
      readOnly: '@?' // String value
    },
    controller: wishComponent
  });
})();
//# sourceMappingURL=wish.component.js.map

angular.module("mediaboxApp").run(["$templateCache", function($templateCache) {$templateCache.put("components/calendar/calendar.html","<script type=\"text/ng-template\" id=\"/modal.datepicker.html\">\n\n<md-dialog aria-label=\"\" class=\"md-datepicker\" ng-class=\"{ \'portrait\': !$mdMedia(\'gt-md\') }\">\n  <md-dialog-content layout=\"row\" layout-wrap>\n\n    <div layout=\"column\" layout-align=\"start center\">\n      <md-toolbar layout-align=\"center center\" class=\"md-datepicker-dow md-primary\"><span>{{ datepicker.currentMoment.format(\"dddd\") }}</span></md-toolbar>\n      <md-toolbar layout-align=\"center center\" class=\"md-datepicker-date md-hue-1 md-primary\" layout=\"column\">\n        <div class=\"md-datepicker-month\">{{ datepicker.currentMoment.format(\"MMM\") }}</div>\n        <div class=\"md-datepicker-day\">{{ datepicker.currentMoment.format(\"DD\") }}</div>\n        <md-select class=\"md-datepicker-year\" placeholder=\"{{ datepicker.currentMoment.format(\'YYYY\') }}\" ng-model=\"year\" ng-change=\"datepicker.setYear()\">\n          <md-option ng-value=\"year\" ng-repeat=\"year in yearsOptions\">{{ year }}</md-option>\n        </md-select>\n      </md-toolbar>\n    </div>\n\n    <div layout=\"column\" layout-align=\"start center\" class=\"md-datepicker-calendar\">\n      <div layout=\"row\" layout-align=\"space-between center\" class=\"md-datepicker-monthyear\">\n        <md-button aria-label=\"mese precedente\" class=\"md-icon-button\" ng-click=\"datepicker.prevMonth()\">\n          <ng-md-icon icon=\"chevron_left\"></ng-md-icon>\n        </md-button>\n        {{ datepicker.currentMoment.format(\"MMMM YYYY\") }}\n        <md-button aria-label=\"mese successivo\" class=\"md-icon-button\" ng-click=\"datepicker.nextMonth()\">\n          <ng-md-icon icon=\"chevron_right\"></ng-md-icon>\n        </md-button>\n      </div>\n      <div layout=\"row\" layout-align=\"space-around center\" class=\"md-datepicker-week-days\">\n        <div layout layout-align=\"center center\" ng-repeat=\"d in datepicker.weekDays track by $index\">{{ d }}</div>\n      </div>\n\n      <div layout=\"row\" layout-wrap class=\"md-datepicker-days\">\n        <div layout layout-align=\"center center\" ng-repeat-start=\"n in datepicker.getDaysInMonth() track by $index\">\n          <md-button aria-label=\"seleziona giorno\" ng-if=\"n !== false\" ng-class=\"{\'md-accent\': datepicker.currentMoment.date() == n}\" ng-click=\"datepicker.selectDate(n)\">{{ n }}</md-button>\n        </div>\n        <div flex ng-if=\"($index + 1) % 7 == 0\" ng-repeat-end></div>\n      </div>\n    </div>\n  </md-dialog-content>\n  <div class=\"md-actions\" layout=\"row\">\n    <md-button ng-click=\"datepicker.cancel()\" aria-label=\"cancel\">Cancel</md-button>\n    <md-button ng-click=\"datepicker.confirm()\" aria-label=\"ok\">Select</md-button>\n  </div>\n</md-dialog>\n</script>\n");
$templateCache.put("components/login-modal/cp.html","<md-dialog aria-label=\"Create a new user\" id=\"admin-user-create\" layout=\"column\" \nflex-xs=\"100\" \nflex-sm = \"75\" \nflex-md=\"50\" \nflex-lg=\"33\" \nflex-gt-lg=\"25\" \nmd-whiteframe=\"24\">\n    <md-toolbar class=\"md-accent\" layout=\"row\" layout-align=\"space-between center\">\n      <h3 class=\"md-toolbar-tools\">Change Password</h3>\n        <md-button class=\"md-icon-button\" ng-click=\"cp.close()\" aria-label=\"Close Change Password\"><ng-md-icon icon=\"close\" aria-label=\"Close dialog\"></ng-md-icon></md-button>\n    </md-toolbar>\n<md-content flex layout=\"row\" class=\"content\" layout-align=\"start center\">\n<section layout=\"column\" layout-align=\"start center\" flex>\n	<form name=\"form\" ng-submit=\"cp.changePassword(form)\" novalidate autocomplete=\"off\">\n		<section class=\"section\" layout=\"column\">\n			<md-input-container md-is-error=\"form.password.$error.required && form.password.$dirty\">\n				<label>Current Password</label>\n				<input name=\"password\" type=\"password\" ng-model=\"cp.user.oldPassword\" required md-autofocus mongoose-error ng-minlength=\"3\"/>\n				<div ng-messages=\"form.password.$error\" ng-if=\"form.password.$dirty\">\n					<div ng-message=\"required\">Password is required</div>\n					<div ng-message=\"mongoose\">Password is incorrect</div>\n					<div ng-message=\"minlength\">Password must be at least 3 characters.</div>\n				</div>\n			</md-input-container>\n\n			<md-input-container flex class=\"last\">\n				<label>New Password</label>\n				<input name=\"newPassword\" type=\"password\"  ng-model=\"cp.user.newPassword\" required ng-minlength=\"3\">\n				<div ng-messages=\"form.newPassword.$error\" ng-if=\"form.newPassword.$dirty\">\n					<div ng-message=\"required\">Please repeat the new password</div>\n					<div ng-message=\"minlength\">Password must be at least 3 characters.</div>\n				</div>\n			</md-input-container>\n\n			<p class=\"help-block\" ng-if=\"cp.submitted\"> {{cp.message}} </p>\n		</section>\n		<md-dialog-actions>\n			<submit-button loading=\"vm.loading\" form=\"form\" text=\"Change Password\"></submit-button>\n		</md-dialog-actions>\n\n	</form>\n  </section>\n </md-content>\n</md-dialog>");
$templateCache.put("components/login-modal/index.html","<md-dialog aria-label=\"Create a new user\" id=\"admin-user-create\" layout=\"column\" \nflex-xs=\"100\" \nflex-sm = \"75\" \nflex-md=\"75\" \nflex-lg=\"66\" \nflex-gt-lg=\"50\" \nmd-whiteframe=\"24\">\n<div ng-cloak ng-controller=\"tabsCtrl as tabs\">\n  <md-content layout=\"row\" layout-align=\"end start\">\n    <md-tabs md-dynamic-height md-border-bottom flex md-selected=\"selectedIndex\">\n      <md-tab label=\"Login\" ng-click=\"tabs.onTabSelected(\'login\')\">\n        <md-content ng-controller=\"LoginModalController as vm\" ng-include=\"\'components/login-modal/login.html\'\" class=\"md-padding\" flex></md-content>\n      </md-tab>\n      <md-tab label=\"Signup\" ng-click=\"tabs.onTabSelected(\'signup\')\">\n        <md-content ng-controller=\"SignUpModalController as signup\" class=\"md-padding\" flex> \n          <div ng-if=\"tabs.tab==\'signup\'\" ng-include=\"\'components/login-modal/signup.html\'\"></div>\n        </md-content>\n      </md-tab>\n      <md-tab></md-tab> <!--This is necessary to maintain the Login and Signup alignment-->\n    </md-tabs>\n    <a aria-label=\"Cancel Login\" ng-click=\"vm.close()\" ng-controller=\"LoginModalController as vm\">\n        <ng-md-icon icon=\"close\" aria-label=\"Close dialog\"></ng-md-icon>\n    </a>\n  </md-content>\n</div>\n<oauth-buttons></oauth-buttons>\n</md-dialog>");
$templateCache.put("components/login-modal/login.html","<section layout=\"column\" layout-align=\"start center\">\n	\n  <div class=\"row\">\n    <div class=\"col-md-6\">\n      <div class=\"box\">\n       <p class=\"lead\">Already our customer?</p>\n            <p class=\"text-muted\" translate>\n              Be a master of effiency with the all in one platform for all your advertising content.\n              </p>\n            </p>\n      </div>\n    </div>\n\n    \n    <div class=\"col-md-6\">\n        <div style=\"width: 80%\">\n\n           <p ng-show=\"vm.error\" class=\"md-warn\">{{vm.error.message}}</p>\n\n				<form name=\"form\" ng-submit=\"vm.login(form)\" autocomplete=\"off\" novalidate flex>\n				<section class=\"section\" layout=\"column\">\n					<md-input-container md-is-error=\"(form.email.$error.required || form.email.$error.email) && form.email.$dirty\">\n						<label>Email</label>\n						<input name=\"email\" type=\"email\" ng-model=\"vm.user.email\" required md-autofocus/>\n						<div ng-messages=\"form.email.$error\" ng-if=\"form.email.$dirty\">\n							<div ng-message=\"required\">Email ID is required</div>\n							<div ng-message=\"email\">Please enter valid email address.</div>\n						</div>\n					</md-input-container>\n\n					<md-input-container md-is-error=\"form.password.$error.required && form.password.$dirty\">\n						<label>Password</label>\n						<input name=\"password\" type=\"password\" ng-model=\"vm.user.password\" required/>\n						<div ng-messages=\"form.password.$error\">\n							<div ng-message=\"required\">Password is required</div>\n							\n						</div>\n					</md-input-container>\n\n			    <div class=\"form-group has-error\">\n			    <p class=\"help-block\" ng-show=\"form.email.$error.required && form.password.$error.required && vm.submitted\">\n			       Please enter your email and password.\n			    </p>\n\n			    </div>\n			</section>\n\n			<submit-button loading=\"vm.loading\" form=\"form\" text=\"Secure Login\"></submit-button>\n			<div class=\"err\">{{ vm.errors.other }}<br/>\n			+<a ng-click=\"vm.goForgot({ email: vm.user.email})\" href=\"#\">Forgot Password</a></div>\n				\n	</form>\n        </div>\n    </div>\n    \n  </div>\n\n</section>\n");
$templateCache.put("components/login-modal/signup.html","<section layout=\"column\" layout-align=\"start center\">\n	\n  <div class=\"row\">\n    <div class=\"col-md-6\">\n      <div class=\"box\">\n       <p class=\"lead\">Already our customer?</p>\n            <p class=\"text-muted\" translate>\n              Be a master of effiency with the all in one platform for all your advertising content.\n              </p>\n            </p>\n      </div>\n    </div>\n\n    \n    <div class=\"col-md-6\">\n        <div style=\"width: 80%\">\n<form name=\"form\" ng-submit=\"signup.register(form)\" autocomplete=\"off\" novalidate flex>\n\n			<section class=\"section\" layout=\"column\">\n				<md-input-container md-is-error=\"form.name.$error.required && form.name.$dirty\">\n					<label>Full Name</label>\n					<input name=\"name\" ng-model=\"signup.user.name\" required md-autofocus/>\n					<div ng-messages=\"form.name.$error\" ng-if=\"form.name.$dirty\">\n						<div ng-message=\"required\">Full Name is required</div>\n					</div>\n				</md-input-container>\n\n				<md-input-container flex md-is-error=\"(form.email.$error.email || form.email.$error.required || form.email.$error.mongoose || form.email.$error.remote-unique) && form.email.$dirty\">\n					<label>Email ID</label>\n					<input type=\"email\" name=\"email\" ng-model=\"signup.user.email\"\n								 ng-model-options=\"{updateOn: \'default blur\', debounce: {\'default\': 500, \'blur\': 0}}\"\n								 required mongoose-error>\n					<div ng-messages=\"form.email.$error\" ng-if=\"form.email.$dirty\">\n						<div ng-message=\"email\">Please enter a valid email address.</div>\n						<div ng-message=\"required\">Email is required</div>\n						<div ng-message=\"mongoose\">Email already in use</div>\n					</div>\n				</md-input-container>\n\n				<md-input-container md-is-error=\"form.phone.$error.required && form.phone.$dirty\">\n					<label>Phone</label>\n					<input name=\"phone\" ng-model=\"signup.user.phone\" required md-autofocus/>\n					<div ng-messages=\"form.phone.$error\" ng-if=\"form.phone.$dirty\">\n						<div ng-message=\"required\">Phone is required</div>\n					</div>\n				</md-input-container>\n\n				<md-input-container md-is-error=\"form.company.$error.required && form.company.$dirty\">\n					<label>Company</label>\n					<input name=\"company\" ng-model=\"signup.user.company\" required md-autofocus/>\n					<div ng-messages=\"form.company.$error\" ng-if=\"form.company.$dirty\">\n						<div ng-message=\"required\">Company is required</div>\n					</div>\n				</md-input-container>\n\n				<md-input-container md-is-error=\"form.website.$error.required && form.website.$dirty\">\n					<label>Website</label>\n					<input name=\"website\" ng-model=\"signup.user.website\" required md-autofocus/>\n					<div ng-messages=\"form.website.$error\" ng-if=\"form.website.$dirty\">\n						<div ng-message=\"required\">Website is required</div>\n					</div>\n				</md-input-container>\n				<md-input-container md-is-error=\"form.website.$error.required && form.website.$dirty\">\n				<md-checkbox value=\"user\">\n                    Advertiser\n                </md-checkbox>\n                <md-checkbox  value=\"admin\" ng-model=\"signup.user.role\">\n                    Publisher\n                </md-checkbox>\n				</md-input-container>\n \n\n				<md-input-container md-is-error=\"(form.password.$error.required ||  form.password.$error.mongoose || form.password.$error.minlength) && form.password.$dirty\">\n					<label>Password</label>\n					<input name=\"password\" type=\"password\" ng-model=\"signup.user.password\" required mongoose-error ng-minlength=\"3\"/>\n					<div ng-messages=\"form.password.$error\" ng-if=\"form.password.$dirty\">\n						<div ng-message=\"required\">Password is required</div>\n						<div ng-message=\"mongoose\">{{ errors.password }}</div>\n						<div ng-message=\"minlength\">Password must be at least 3 characters.</div>\n					</div>\n				</md-input-container>\n\n				<md-input-container flex class=\"last\" md-is-error=\"(form.passwordRepeat.$error.required ||  form.passwordRepeat.$error.minlength || form.passwordRepeat.$error.repeat-input) && form.passwordRepeat.$dirty\">\n					<label>Repeat Password</label>\n					<input name=\"passwordRepeat\" type=\"password\"  ng-model=\"signup.user.passwordRepeat\" required repeat-input=\"signup.user.password\" ng-minlength=\"3\">\n					<div ng-messages=\"form.passwordRepeat.$error\" ng-if=\"form.passwordRepeat.$dirty\">\n						<div ng-message=\"required\">Please repeat the new password</div>\n						<div ng-message=\"minlength\">Password must be at least 3 characters.</div>\n						<div ng-message=\"repeat-input\">The passwords do not match</div>\n					</div>\n				</md-input-container>\n\n			</section>\n		<submit-button loading=\"signup.loading\" form=\"form\" text=\"Create your account\"></submit-button>\n	</form>\n        </div>\n    </div>\n    \n  </div>\n\n</section>\n");
$templateCache.put("components/crud-table/detail.html","<md-toolbar class=\"md-hue-1\" id=\"user-detail-toolbar\">\n	<span layout=\"row\" layout-align=\"space-between\" class=\"md-toolbar-tools md-toolbar-tools-top\">\n		<md-button ng-click=\"detail.goBack();\" aria-label=\"Close detail view\">\n			<ng-md-icon icon=\"close\" aria-label=\"Close dialog\"></ng-md-icon>\n		</md-button>\n		<h3>Edit {{detail.header | labelCase}} - {{detail.item._id}}</h3>\n		<md-button aria-label=\"-\">\n		</md-button>\n	</span>\n</md-toolbar>\n<md-content class=\"md-padding\" flex id=\"user-detail-content\">\n	<section class=\"section\" layout=\"column\">\n\n		<span class=\"section-title\">Edit</span>\n\n<form name=\"detailForm\" layout=\"column\" layout-fill layout-align=\"space-between\" ng-submit=\"detail.edit(detail.item);detail.goBack();\" novalidate autocomplete=\"off\">\n		<span layout=\"row\" layout-sm=\"column\" ng-repeat=\"i in detail.columns\" ng-if=\"detail.columns\" ng-switch=\"i.dataType\">\n\n			<md-input-container flex ng-switch-when=\"parseFloat\">\n				<label>{{i.heading | labelCase}}</label>\n				<input name=\"{{i.field}}\" ng-model=\"detail.item[i.field]\" ng-disabled=\"i.noEdit\" only-numbers md-autofocus=\"$index === 0\">\n			</md-input-container>\n\n			<md-input-container md-no-float class=\"md-block\" flex ng-switch-when=\"image\">\n				<label>{{i.heading | labelCase}} URL</label>\n				<input name=\"{{i.field}}\" ng-model=\"detail.item[i.field]\" ng-disabled=\"i.noEdit\" md-autofocus=\"$index === 0\">\n				<ng-md-icon icon=\"insert_photo\" ng-click=\"detail.mediaLibrary()\"></ng-md-icon>\n			</md-input-container>\n\n			<md-input-container flex ng-switch-when=\"boolean\">\n				<section class=\"section slim\" layout=\"column\">\n					<span layout=\"row\" layout-align=\"start center\">\n						<span flex=\"33\"><label>{{i.heading | labelCase}}</label></span>\n						<md-switch name=\"{{i.field}}\" aria-label=\"active\" ng-model=\"detail.item[i.field]\"\n						ng-disabled=\"i.noEdit\"></md-switch>\n					</span>\n				</section>\n				<span flex=\"33\"></span>\n			</md-input-container>\n			<md-input-container flex ng-switch-when=\"date\">\n				<label>{{i.heading | labelCase}}</label>\n				<input name=\"{{i.field}}\" ng-model=\"detail.item[i.field]\" type=\'calendar\' ng-disabled=\"i.noEdit\"/>\n\n			</md-input-container>\n\n			<md-input-container flex ng-switch-when=\"dropdown\" class=\"dropdown\">\n        <label>{{i.heading | labelCase}}</label>\n        <md-select ng-model=\"detail.item[i.field]\">\n          <md-option ng-repeat=\"o in i.options\" value=\"{{o}}\">\n            {{o}}\n          </md-option>\n        </md-select>\n      </md-input-container>\n\n			<md-input-container flex ng-switch-when=\"textarea\">\n        <label>{{i.heading | labelCase}}</label>\n        <textarea name=\"{{i.field}}\" ng-model=\"detail.item[i.field]\" ng-disabled=\"i.field==\'_id\' || i.noEdit\" md-autofocus=\"$index === 0\"></textarea>\n      </md-input-container>\n\n			<md-input-container flex ng-switch-default>\n				<label>{{i.heading | labelCase}}</label>\n				<input name=\"{{i.field}}\" ng-model=\"detail.item[i.field]\" ng-disabled=\"i.field==\'_id\' || i.noEdit\" md-autofocus=\"$index === 0\">\n			</md-input-container>\n\n		</span>\n\n		<md-dialog-actions layout=\"row\">\n			<span flex></span>\n			<md-button ng-disabled=\"detailForm.$invalid\" type=\"submit\" class=\"md-primary md-raised\" aria-label=\"Save changes\">Save</md-button>\n		</md-dialog-actions>\n		</form>\n\n	</section>\n\n	<section class=\"section\" layout=\"column\" ng-hide=\"detail.isRoot\">\n\n		<span class=\"section-title\">Record Information</span>\n		<span layout=\"row\" layout-sm=\"column\" class=\"detail-info\">\n			<span flex=\"45\">Modified</span>\n			<span flex ng-show=\"detail.item.updatedAt\" class=\"subtitle\">\n				<span am-time-ago=\"detail.item.updatedAt\"></span>\n				<md-tooltip>{{detail.item.updatedAt | date:\'dd. MMMM yyyy H:mm\'}}</md-tooltip>\n				{{detail.item.modifiedBy && \'by \' + detail.item.modifiedBy}}\n			</span>\n		</span>\n\n		<span layout=\"row\" layout-sm=\"column\" class=\"detail-info\">\n			<span flex=\"45\">Created</span>\n			<span flex ng-show=\"detail.item.createdAt\" class=\"subtitle\">{{detail.item.createdAt | date:\'dd. MMMM yyyy H:mm\'}}</span>\n		</span>\n\n	</section>\n\n</md-content>\n");
$templateCache.put("components/crud-table/list.html","<a ng-click=\"main.create();\">\n	<md-button  show-gt-xs class=\"md-fab md-accent md-fab-top-left fab-overlap md-button ng-scope md-blue-theme\" aria-label=\"Create a new  {{list.header}}\" ng-if=\"!list.no.add\">\n		<md-tooltip>Add new {{list.header | labelCase}}</md-tooltip>\n        <ng-md-icon icon=\"add\"></ng-md-icon>\n	</md-button>\n</a>\n<md-progress-linear md-mode=\"indeterminate\" ng-show=\"list.loading\"></md-progress-linear>\n\n <!-- Add div For infinite scroll -->\n	<md-card infinite-scroll=\'list.loadMore()\' infinite-scroll-disabled=\'list.busy\' infinite-scroll-distance=\'1\' ng-if=\"list.data.length\">\n		<md-toolbar class=\"md-table-toolbar md-default\" aria-hidden=\"false\"\n		ng-hide=\"list.selected.length || filter.show || list.data.search\">\n      <div class=\"md-toolbar-tools\">\n				<h2 class=\"md-title\">List of {{list.header | labelCase | pluralize}}</h2>\n			  <div flex></div>\n			  <md-button tabindex=\"0\" ng-click=\"filter.show = true;\" class=\"md-icon-button md-button md-default-theme\" ng-show=\"!list.no.filter\"\n				aria-label=\"Open filter box for {{list.header | labelCase  | pluralize}} table\">\n		        <md-tooltip md-direction=\"left\">Filter {{list.header | labelCase | pluralize}}</md-tooltip>\n			    <ng-md-icon icon=\"filter_list\"></ng-md-icon>\n			  </md-button>\n				<md-menu md-position-mode=\"target-right target\" ng-if=\"!list.no.export\">\n	      <md-button aria-label=\"Open options menu\" class=\"md-icon-button\" ng-click=\"list.openMenu($mdOpenMenu, $event)\">\n		    <md-tooltip md-direction=\"left\">Export all {{list.header | labelCase | pluralize}}</md-tooltip>\n	        <ng-md-icon icon=\"inbox\"></ng-md-icon>\n	      </md-button>\n	      <md-menu-content width=\"4\">\n	        <md-menu-item>\n	          <md-button\n							ng-click=\"list.exportData(\'xls\');\"\n							aria-label=\"Export {{list.header | labelCase  | pluralize}} table as Excel\">\n	            <ng-md-icon icon=\"receipt\"></ng-md-icon>\n	            Excel\n	          </md-button>\n	        </md-menu-item>\n					<md-menu-divider></md-menu-divider>\n	        <md-menu-item>\n	          <md-button ng-click=\"list.exportData(\'json\');\" aria-label=\"Export {{list.header | labelCase  | pluralize}} table in JSON format\">\n	            <ng-md-icon icon=\"account_balance_wallet\"></ng-md-icon>\n	            JSON\n	          </md-button>\n	        </md-menu-item>\n	        <md-menu-divider></md-menu-divider>\n	        <md-menu-item>\n	          <md-button ng-click=\"list.exportData(\'txt\');\" aria-label=\"Export {{list.header | labelCase  | pluralize}} table in Text format\">\n	            <ng-md-icon icon=\"text_format\"></ng-md-icon>\n	            Text\n	          </md-button>\n	        </md-menu-item>\n	        <md-menu-divider></md-menu-divider>\n\n	      </md-menu-content>\n	    </md-menu>\n      </div>\n    </md-toolbar>\n\n		<md-toolbar class=\"md-table-toolbar md-default\"\n			ng-show=\"filter.show || list.data.search\"\n			aria-hidden=\"false\">\n      <div class=\"md-toolbar-tools\">\n				<ng-md-icon icon=\"search\"></ng-md-icon>\n				<md-input-container flex class=\"mgt30\">\n		      <label>Filter {{list.header | labelCase  | pluralize}}</label>\n		      <input ng-model=\"list.data.search\" focus-me=\"filter.show\">\n		    </md-input-container>\n				<ng-md-icon icon=\"close\" ng-click=\"filter.show = false; list.data.search = \'\';\" class=\"link\"></ng-md-icon>\n			</div>\n		</md-toolbar>\n\n<div class=\"md-table-container\">\n	<table md-colresize=\"md-colresize\" class=\"md-table\" id=\"exportable\">\n		<thead>\n			<tr class=\"md-table-headers-row\">\n				<th class=\"md-table-header\"></th>\n				<th ng-repeat=\"h in list.cols track by $index\" class=\"md-table-header\">\n					<a href=\"#\" ng-click=\"reverse=!reverse;list.order(h.field)\" ng-if=\"!list.no.sort && !h.noSort\">\n						{{h.heading | labelCase}}\n		    <md-tooltip md-direction=\"top\">Sort by {{h.field | labelCase | pluralize}}</md-tooltip>\n<ng-md-icon 	icon=\"arrow_downward\"\n					options=\'{\"rotation\": \"counterclock\"}\'\n					ng-show=\"reverse && h.field === list.sort.predicate\"\n					class=\"s18\"></ng-md-icon>\n<ng-md-icon 	icon=\"arrow_upwards\"\n					ng-show=\"!reverse && h.field === list.sort.predicate\"\n					options=\'{\"rotation\": \"counterclock\"}\'></ng-md-icon>\n					</a>\n					<a href=\"#\" ng-if=\"list.no.sort || h.noSort\">\n						{{h.heading | labelCase}}\n					</a>\n				</th>\n				<th class=\"md-table-header\"></th>\n				<th class=\"md-table-header\"></th>\n\n			</tr>\n\n		</thead>\n\n		<tbody>\n\n			<tr ng-repeat=\"p in filtered = ((list.data | orderBy:list.sort.predicate:list.sort.reverse) | filter:q | filter:list.data.search | limitTo: list.l) track by p._id\" id=\"{{p._id}}\"\n					class=\"md-table-content-row\"\n					ng-class=\"{\'selected\': list.isSelected(p)}\">\n				<td>\n                    <md-button class=\"md-icon-button\" aria-label=\"More\" ng-click=\"list.showInDetails(p);\" ng-if=\"!list.no.edit\">\n                            <md-tooltip>Edit {{list.header | labelCase}} info</md-tooltip>\n                            <ng-md-icon icon=\"edit\"></ng-md-icon>\n                    </md-button>\n				</td>\n				<td ng-repeat=\"c in list.cols track by $index\" ng-switch=\"c.dataType\">\n					{{c.sort}}\n				<span ng-switch-when=\"boolean\">\n					<md-switch class=\"md-secondary\" ng-model=\"p[c.field]\" ng-change=\"list.changeStatus(p)\" aria-label=\"p[c.field]\"></md-switch>\n				</span>\n				<span ng-switch-when=\"date\">\n					{{p[c.field] | date:\'mediumDate\'}}\n				</span>\n				<span ng-switch-when=\"currency\">\n					{{p[c.field] | currency}}\n				</span>\n				<span ng-switch-when=\"image\">\n					<span ng-if=\"!p[c.field]\"><list-image string=\"{{p.name}}\"></list-image></span>\n					<img ng-if=\"p[c.field]\" ng-src=\"{{p[c.field]}}\" err-SRC=\"/assets/images/material-shop-e3ca5c21c4.jpg\" />\n				</span>\n				<span ng-switch-default>\n					{{p[c.field]}}\n				</span>\n			</td>\n\n				<td></td>\n				<td>\n          <md-button class=\"md-icon-button\" aria-label=\"Copy Record\" ng-click=\"list.copy(p);\" ng-if=\"!list.no.copy\">\n          <md-tooltip>Duplicate this {{list.header | labelCase}}</md-tooltip>\n              <ng-md-icon icon=\"content_copy\"></ng-md-icon>\n					</md-button>\n					<md-button class=\"md-icon-button\" aria-label=\"Delete\" ng-click=\"list.delete(p);\" ng-if=\"!list.no.delete\">\n	        	      <md-tooltip>Delete this {{list.header | labelCase}}</md-tooltip>\n                      <ng-md-icon icon=\"delete\"></ng-md-icon>\n					</md-button>\n			</td>\n			</tr>\n		</tbody>\n\n	</table>\n</div>\n <div class=\"md-table-pagination\">\n		<span>Found {{filtered.length}} of {{list.data.length}} {{list.header | labelCase  | pluralize}}</span>\n	</div>\n</md-card>\n<a ng-click=\"main.create();\" ng-if=\"!list.no.add\">\n	<md-button hide-gt-xs ui-sref=\"list.create\" class=\"md-fab md-accent md-fab-bottom-right\" aria-label=\"Create a new {{list.header}}\" ng-if=\"!list.no.add\">\n		<md-tooltip md-direction=\"left\">Add new {{list.header | labelCase}}</md-tooltip>\n		<ng-md-icon icon=\"add\"></ng-md-icon>\n	</md-button>\n</a>\n	<md-card ng-if=\"list.data.length===0 && !list.loading\">\n	  <md-card-content>\n	    <h2>No {{list.header | labelCase}} found</h2>\n	    <p class=\"mgl\" hide-xs ng-if=\"!list.no.add\">\n				There is no {{list.header | labelCase}}!\n	      <a ng-click=\"main.create();\" href=\"\">Create one!</a>\n	    </p>\n	    <p hide-gt-xs ng-if=\"!list.no.add\">\n				There is no {{list.header | labelCase}}!\n	      <a ng-click=\"main.create();\" href=\"\">Create one!</a>\n	    </p>\n	  </md-card-content>\n	</md-card>\n");
$templateCache.put("components/crud-table/main.html","<navbar leftmenu=\"true\"></navbar>\n<left-menu></left-menu>\n<md-content flex layout=\"column\">\n<section layout=\"row\" layout-fill flex>\n\n		<div ui-view=\"content\" layout=\"column\" flex></div>\n\n		<md-content\n			ui-view=\"detail\"\n			id=\"detail-content\"\n			toggle-component\n			md-component-id=\"crud-table.detailView\"\n			layout=\"column\"\n			flex-xs=\"100\"\n			flex-sm = \"50\"\n			flex-md=\"50\"\n			flex-lg=\"33\"\n			flex-gt-lg=\"33\"\n			class=\"md-whiteframe-z1\">\n		</md-content>\n</section>\n\n</md-content>\n<footer></footer>\n");
$templateCache.put("components/crud-table/media-library.html","<md-dialog aria-label=\"Media Library\" ng-cloak flex=\"95\">\n  <md-toolbar class=\"md-warn\">\n    <div class=\"md-toolbar-tools\">\n      <h2>Media Library</h2>\n      <span flex></span>\n      <md-button class=\"md-icon-button\" ng-click=\"cancel()\">\n        <ng-md-icon icon=\"close\" aria-label=\"Close dialog\"></ng-md-icon>\n      </md-button>\n    </div>\n  </md-toolbar>\n\n  <md-dialog-content>\n      <div class=\"md-dialog-content\"  class=\"md-whiteframe-z2\">\n          <md-grid-list class=\"media-list\" md-cols-xs =\"3\" md-cols-sm=\"4\" md-cols-md=\"5\" md-cols-lg=\"7\" md-cols-gt-lg=\"10\" md-row-height-gt-md=\"1:1\" md-row-height=\"4:3\" md-gutter=\"12px\" md-gutter-gt-sm=\"8px\" layout=\"row\" layout-align=\"center center\">\n            <md-grid-tile ng-repeat=\"i in media\" class=\"md-whiteframe-z2\" ng-click=\"ok(i.path)\">\n          		<div class=\"thumbnail\">\n          				<img ng-src=\"{{i.path}}\" draggable=\"false\" alt=\"{{i.name}}\">\n          		</div>\n              <md-grid-tile-footer><h3>{{i.name}}</h3></md-grid-tile-footer>\n            </md-grid-tile>\n          </md-grid-list>\n    </div>\n  </md-dialog-content>\n  <md-dialog-actions layout=\"row\">\n    <span flex></span>\n    <md-button ng-click=\"addNewImage()\" class=\"md-warn md-raised\">\n     Add new Image\n    </md-button>\n  </md-dialog-actions>\n</md-dialog>\n");
$templateCache.put("components/modal/create.html","<md-dialog aria-label=\"Create a new user\" id=\"admin-user-create\" layout=\"column\" \nflex-xs=\"100\" \nflex-sm = \"50\" \nflex-md=\"50\" \nflex-lg=\"33\" \nflex-gt-lg=\"33\" \nclass=\"md-whiteframe-z1\">\n\n	<md-toolbar class=\"md-accent\">\n		<h3 class=\"md-toolbar-tools\">\n			Create a new {{create.title}}\n		</h3>\n	</md-toolbar>\n		<form name=\"createForm\" layout=\"column\" layout-fill layout-align=\"space-between\" ng-submit=\"create.create(createForm)\" novalidate  autocomplete=\"off\">\n\n	<md-content layout-padding class=\"md-blue-theme\">\n			<section class=\"section\" layout=\"column\">\n				<span layout=\"row\" layout-sm=\"column\" ng-repeat=\"i in create.options.columns\" ng-if=\"create.options.columns\" ng-switch=\"i.dataType\" >\n					<!-- When the field is Integer type restrict it only to float values -->\n					<md-input-container ng-cloak flex ng-switch-when=\"parseFloat\" >\n						<label>{{i.heading | labelCase}}</label>\n						<input name=\"{{i.field}}\" ng-model=\"create.item[i.field]\" ng-disabled=\"i.noAdd\" only-numbers md-autofocus=\"$index===0\">\n					</md-input-container>\n\n					<!-- When the field is Image type add URL postfix to labels -->\n					<md-input-container ng-cloak flex ng-switch-when=\"image\" >\n						<label>{{i.heading | labelCase}} URL</label>\n						<input name=\"{{i.field}}\" ng-model=\"create.item[i.field]\" ng-disabled=\"i.noAdd\" md-autofocus=\"$index===0\">\n					</md-input-container>\n\n					<!-- When boolean type add an switch -->\n					<md-input-container ng-cloak flex ng-switch-when=\"boolean\">\n							<section class=\"section slim\" layout=\"column\">\n								<span layout=\"row\" layout-align=\"start center\">\n									<span flex=\"33\"><label>{{i.heading | labelCase}}</label></span>\n									<md-switch name=\"{{i.field}}\" aria-label=\"active\" ng-model=\"create.item[i.field]\"\n									ng-disabled=\"i.noAdd\"\n									class=\"no-label\"></md-switch>\n								</span>\n							</section>\n							<span flex=\"33\"></span>\n\n					</md-input-container>\n\n					<!-- When datatype is date, integrate an calendar into it -->\n					<div ng-switch-when=\"date\" ng-cloak class=\"full-width\">\n						<mb-datepicker element-id=\'date1\'\n										 input-class=\"testClass\"\n										 input-name=\"testName\"\n										 arrows=\"arrows\"\n										 calendar-header=\"header\"\n										 date=\"date\"\n										 date-format=\"YYYY-MM-DD\"\n										 placeholder=\"{{i.heading | labelCase}}\"\n										 ></mb-datepicker>\n					</div>\n\n					<!-- When the required type is dropdown, add an dropdown menu with select options -->\n					<md-input-container ng-cloak flex ng-switch-when=\"dropdown\" class=\"dropdown\">\n		        <label>{{i.heading | labelCase}}</label>\n		        <md-select ng-model=\"create.item[i.field]\">\n		          <md-option ng-repeat=\"o in i.options\" value=\"{{o}}\">\n		            {{o}}\n		          </md-option>\n		        </md-select>\n		      </md-input-container>\n\n					<!-- When textarea type add an multiline input -->\n					<md-input-container ng-cloak flex ng-switch-when=\"textarea\">\n						<label>{{i.heading | labelCase}}</label>\n						<textarea name=\"{{i.field}}\" ng-model=\"create.item[i.field]\" ng-disabled=\"i.field==\'_id\' || i.noAdd\" md-autofocus=\"$index === 0\"></textarea>\n					</md-input-container>\n\n					<!-- When datatype of field is not defined add textbox instead -->\n					<md-input-container ng-cloak flex ng-switch-default>\n						<label>{{i.heading | labelCase}}</label>\n						<input name=\"{{i.field}}\" ng-model=\"create.item[i.field]\" ng-disabled=\"i.field==\'_id\' || i.noAdd\" md-autofocus=\"$index === 0\">\n					</md-input-container>\n\n			</span>\n			</section>\n	</md-content>\n\n	<md-dialog-actions layout=\"row\">\n		<md-button ng-click=\"create.close()\" aria-label=\"Close Add Modal\">Cancel</md-button>\n		<md-button ng-disabled=\"createForm.$invalid\" type=\"submit\" class=\"md-primary md-raised\" aria-label=\"Insert a new {{create.title}}\"> Create </md-button>\n	</md-dialog-actions>\n		</form>\n\n</md-dialog>\n");
$templateCache.put("components/navbar/cart.html","<md-sidenav class=\"md-sidenav-right md-whiteframe-z2\" md-component-id=\"cart\" style=\"width: 500px\">\n  <md-toolbar class=\"md-theme-light\">\n    <h1 class=\"md-toolbar-tools\">Cart Details</h1>\n  </md-toolbar>\n  <md-content class=\"cart-content\">\n    <form>\n      <div layout=\"row\" layout-align=\"space-between start\" ng-repeat=\"item in vm.cart.items\" class=\"cart-item md-whiteframe-z1\">\n            <img  class=\"md-whiteframe-z1\" width=\"80px\" height=\"100%\" data-ng-src=\"data:image/png;base64,{{item.image}}\" err-SRC=\"/assets/images/50x50-1ed563a3dc.png\"  alt=\"{{item.name}}\" />\n            <div layout=\"column\" flex style=\"margin: 7px\">\n                <div >{{ item.name }} <span ng-if=\"item.size\">(Size: {{item.size}})</span></div>\n                <div ng-if=\"item.price\">{{ item.price | currency:vm.Settings.currency.symbol }} * {{item.quantity}} = \n                <strong>{{item.price * item.quantity | currency:vm.Settings.currency.symbol}}</strong></div>\n                <div layout=\"row\" layout-align=\"center center\">\n <!--Cart buttons-->\n        <md-button class=\"md-raised md-primary small-button md-icon-button\" \n              ng-click=\"vm.cart.addItem({sku:item.sku, name:item.name, slug:item.slug, mrp:item.mrp, price:item.price, weight:item.weight, vid:item.vid}, -1)\" \n              aria-label=\"Remove from cart\">\n                  <ng-md-icon icon=\"remove\"></ng-md-icon>\n        </md-button>\n        <div class=\"md-raised\"  ng-disabled=\"true\" aria-label=\"Cart quantity\">{{vm.cart.getQuantity(item.sku, item.vid)}}</div>\n        <md-button class=\"md-raised md-primary small-button md-icon-button\" ng-click=\"vm.cart.addItem({sku:item.sku, name:item.name, slug:item.slug, mrp:item.mrp, price:item.price, weight:item.weight, vid:item.vid}, +1)\" aria-label=\"Add to cart\">\n                  <ng-md-icon icon=\"add\"></ng-md-icon>\n        </md-button>\n <!--Cart buttons-->\n\n      </div>\n            </div>\n            <a aria-label=\"Remove {{item.name}} from cart\" ng-click=\"vm.cart.addItem({sku:item.sku, vid: item.vid}, -10000000);vm.openCart()\">\n                <ng-md-icon icon=\"close\" aria-label=\"Close dialog\"></ng-md-icon>\n            </a>\n      </div>\n    </form>\n    <div layout=\"column\" flex style=\"margin: 7px\" ng-if=\"vm.cart.getTotalPrice()>0\"><b>Handling Fee:</b> \n      \n      <span >{{vm.cart.getHandlingFee() | currency:vm.Settings.currency.symbol}}</span>\n    </div>\n    <div layout=\"column\" flex style=\"margin: 7px\" ng-if=\"vm.cart.getTotalPrice()>0\"><b>Sub Total:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</b> {{vm.cart.getTotalPrice()  | currency:vm.Settings.currency.symbol}}</div>\n    <div class=\"md-dialog-actions\" layout=\"row\" layout-align=\"space-between center\">\n        <md-button  ng-hide=\"vm.cart.flag\" ui-sref=\"cart\" class=\"md-raised circular-progress-button md-primary\" aria-label=\"Checkout\" ng-disabled=\"vm.cart.items.length <= 0\">\n            <span ng-show=\"!vm.loading\"><ng-md-icon icon=\"local_grocery_store\" hide-xs></ng-md-icon>Configure Campaign </span>\n            <md-progress-circular md-mode=\"indeterminate\" md-diameter=\"25\" ng-show=\"vm.loading\" class=\"md-accent md-hue-1\"></md-progress-circular><span ng-show=\"vm.loading\">Loading...</span>\n        </md-button>\n        <md-button  ng-show=\"vm.cart.flag\" ui-sref=\"checkout\" class=\"md-raised circular-progress-button md-primary\" aria-label=\"Checkout\" ng-disabled=\"vm.cart.items.length <= 0\">\n            <span ng-show=\"!vm.loading\"><ng-md-icon icon=\"local_grocery_store\" hide-xs></ng-md-icon>Proceed To Payment </span>\n            <md-progress-circular md-mode=\"indeterminate\" md-diameter=\"25\" ng-show=\"vm.loading\" class=\"md-accent md-hue-1\"></md-progress-circular><span ng-show=\"vm.loading\">Loading...</span>\n        </md-button>\n        <md-button class=\"btn btn-default btn-lg btn-register\" ng-click=\"vm.close()\"  aria-label=\"Cancel Cart Menu\"> Close </md-button>\n    </div>\n  </md-content>\n</md-sidenav>\n\n\n");
$templateCache.put("components/navbar/navbar.html","<div ng-include=\"\'components/navbar/cart.html\'\"></div>\n<div >\n<!-- *** TOPBAR ***\n_________________________________________________________ -->\n<div id=\"top\">\n    <div class=\"container\">\n        <div class=\"col-md-1\">\n            <a  href=\"index.html\">\n                <img src=\"/assets/img/logo.png\"  class=\"hidden-xs\">\n                <img src=\"/assets/img/logo.png\"  class=\"visible-xs\"><span class=\"sr-only\"></span>\n            </a>\n        </div>\n         <div class=\"col-md-9 offer\" style=\"padding-top:  10px\" data-animate=\"fadeInDown\">\n            \n             Choose from hundreds of media options listed on Mediabox. Smart filters and Recommendations help you choose the right media option for you.</a>\n        </div>\n        <div class=\"col-md-2 pull-right\" data-animate=\"fadeInDown\">\n           <top-menu ng-if=\"!search.show\"></top-menu> \n        </div>\n    </div>\n   </div>\n\n<!-- *** TOP BAR END *** -->\n\n<!-- *** NAVBAR ***\n_________________________________________________________ -->\n\n<div class=\"navbar navbar-default yamm\" role=\"navigation\" id=\"navbar\">\n    <div class=\"container\">\n  <div class=\"col-md-12\">\n        <div class=\"navbar-header\">\n\n            \n            <div class=\"navbar-buttons\">\n                <button type=\"button\" class=\"navbar-toggle\" data-toggle=\"collapse\" data-target=\"#navigation\" ng-click=\"isCollapsed1 = !isCollapsed1\">\n                    <span class=\"sr-only\">Toggle navigation</span>\n                    <i class=\"fa fa-align-justify\"></i>\n                </button>\n                \n               \n\n            </div>\n        </div>\n        <!--/.navbar-header -->\n\n        <div class=\"navbar-collapse collapse navbar-static-top megamenu pull-left\" id=\"navigation\">\n          <div collapse=\"isCollapsed1\" class=\"navbar-collapse collapse\" id=\"navbar-main2\">\n            <ul class=\"nav navbar-nav navbar-left pull-right\" ng-hide=\"isAdmin()\">\n                <li class=\"dropdown yamm-fw\" ng-repeat=\"p in vm.categories\">\n                    <a href=\"#\" class=\"dropdown-toggle\" data-toggle=\"dropdown\" data-hover=\"dropdown\" data-delay=\"200\">{{p.name}} <b class=\"caret\"></b></a>\n                    <ul class=\"dropdown-menu\">\n                        <li>\n                            <div class=\"yamm-content\">\n                                <div class=\"row\">\n                                    <div class=\"col-sm-3\" ng-repeat=\"h in p.child\">\n                                        <!-- <h5>All</h5> -->\n                                        <ul>\n                                            <div>\n                                                 <li ><a href=\"/Category/{{h.slug}}/{{h._id}}\"><ng-md-icon icon=\"{{h.icon}}\" md-menu-align-target></ng-md-icon>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{{h.name}}</a>\n                                                 </li>  \n                                            </div>\n                                      \n\n                                        </ul>\n                                    </div>\n                                </div>\n                            </div>\n                            <!-- /.yamm-content -->\n                        </li>\n                    </ul>\n                </li>\n            </ul>\n\n          </div>\n        </div>\n        <!--/.nav-collapse -->\n\n        <div class=\"navbar-buttons pull-right\">\n             <md-button ng-click=\"vm.openCart()\" class=\"md-raised cart\" ng-if=\"!search.show\">\n                    <ng-md-icon icon=\"shopping_cart\"></ng-md-icon>\n                    <span  show-gt-sm>Cart {{vm.cart.getTotalCount()}} Items  </span>\n                    <span hide show-gt-sm odometer=\"vm.cart.getTotalPrice()\">\n                  </md-button>\n            <!--/.nav-collapse -->\n\n            <div class=\"navbar-collapse collapse right\" id=\"search-not-mobile\">\n                <button type=\"button\" class=\"btn navbar-btn btn-danger\" data-toggle=\"collapse\" data-target=\"#search\">\n                    <span class=\"sr-only\">Toggle search</span>\n                     <ng-md-icon icon=\"search\"></ng-md-icon>\n                </button>\n            </div>\n\n        </div>\n\n        <div class=\"collapse clearfix\" id=\"search\">\n           <div class=\"search\" layout=\"row\" layout-align=\"center center\" flex ng-if=\"search.show || vm.$mdMedia(\'gt-xs\')\">\n        <div class=\"searchbox\" layout=\"row\" layout-align=\"center center\" flex>\n            <form ng-submit=\"$event.preventDefault()\" flex>\n                <md-autocomplete\n                    ng-cloak\n                    md-selected-item=\"vm.selectedItem\"\n                    md-search-text-change=\"vm.searchTextChange(vm.searchText)\"\n                    md-search-text=\"vm.searchText\"\n                    md-selected-item-change=\"vm.selectedItemChange(item)\"\n                    md-items=\"item in vm.querySearch(vm.searchText)\"\n                    md-item-text=\"item.name\"\n                    md-min-length=\"1\"\n                    placeholder=\"Search for publishers here\"\n                    md-menu-class=\"navbar-autocomplete\">\n                    <md-item-template>\n                        <img ng-if=\"item.variants[0].image\" \n                        ng-src=\"{{item.variants[0].image}}\" err-SRC=\"/assets/images/material-shop-e3ca5c21c4.jpg\"/>\n            <span md-highlight-text=\"vm.searchText\">{{item.name}}</span>\n                    </md-item-template>\n          <md-not-found>\n            No item matching \"{{vm.searchText}}\" were found.\n          </md-not-found>\n                </md-autocomplete>\n            </form>\n\n        </div>\n    </div>\n        </div>\n        <!--/.nav-collapse -->\n\n    </div>\n    <!-- /.container -->\n</div>\n<!-- /#navbar -->\n</div>\n<!-- *** NAVBAR END *** -->\n</div>\n");
$templateCache.put("components/navbar-public/navbar-public.html","<div ng-include=\"\'components/navbar/cart.html\'\"></div>\n<md-toolbar ng-show=\"!showSearch\" class=\"md-whiteframe-2dp\">\n  <div class=\"md-toolbar-tools navbar\" layout=\"row\" layout-align=\"space-between center\">\n    <md-button ng-click=\"vm.openFilter()\" aria-label=\"Left Menu\" ng-hide=\"vm.hideLeftMenu\" hide-gt-md>\n      <ng-md-icon icon=\"menu\"></ng-md-icon>\n    </md-button>\n    <h3><a ui-sref=\"/\">Mediabox</a></h3>\n    <div class=\"search\" hide-xs>\n        <div class=\"searchbox\">\n            <form ng-submit=\"$event.preventDefault()\" flex>\n                <md-autocomplete\n                    md-selected-item=\"vm.selectedItem\"\n                    md-search-text-change=\"vm.searchTextChange(vm.searchText)\"\n                    md-search-text=\"vm.searchText\"\n                    md-selected-item-change=\"vm.selectedItemChange(item)\"\n                    md-items=\"item in vm.querySearch(vm.searchText)\"\n                    md-item-text=\"item.name\"\n                    md-min-length=\"1\"\n                    placeholder=\"Search for anything here\"\n                    md-menu-class=\"navbar-autocomplete\">\n                    <md-item-template>\n                        <img ng-if=\"item.variants[0].image\" \n                        ng-src=\"{{item.variants[0].image}}\" err-SRC=\"/assets/images/material-shop-e3ca5c21c4.jpg\"/>\n						<span md-highlight-text=\"ctrl.searchText\" md-highlight-flags=\"^i\">{{item.name}}</span>\n                    </md-item-template>\n					<md-not-found>\n						No item matching \"{{vm.searchText}}\" were found.\n					</md-not-found>\n                </md-autocomplete>\n            </form>\n\n            <md-button aria-label=\"Search\" ng-click=\"showSearch = !showSearch\" class=\"md-raised md-warn\">\n                <ng-md-icon icon=\"search\"></ng-md-icon> Search\n            </md-button>\n        </div>\n    </div>\n    <md-button ng-click=\"vm.openCart()\" aria-label=\"Left Menu\" class=\"md-raised cart\">\n      <ng-md-icon icon=\"shopping_cart\"></ng-md-icon>\n      <span hide-xs>Cart ({{vm.cart.getTotalCount()}}) -</span> {{vm.cart.getTotalPrice() | currency:vm.Settings.currency.symbol}}  \n    </md-button>\n <top-menu></top-menu> \n  </div>\n</md-toolbar>\n\n<div id=\"wrapper\">\n\n	<!-- begin nav -->\n	<nav>\n		<ul id=\"menu\">\n			<li ng-repeat=\"c in vm.categories\"><a href=\"#\">{{c.name}}</a>\n				<div id=\"mega\" style=\"z-index:10000\">\n					\n					<ul ng-repeat=\"h in c.child\">\n						<li><a href=\"/Category/{{h.slug}}/{{h._id}}\" class=\"header\">{{h.name}}</a>\n							\n							<ul>\n								<li ng-repeat=\"i in h.child\"><a href=\"/Category/{{i.slug}}/{{i._id}}\">{{i.name}}</a></li>\n							</ul>\n						\n						</li>\n						<!--<li ng-repeat=\"i in h.subcat\"><a href=\"#\">{{i.name}}</a></li>-->\n						\n					</ul>\n				\n				</div>\n			</li>\n		</ul>\n\n	</nav><!-- /nav -->\n	\n</div><!-- /wrapper -->\n");
$templateCache.put("components/oauth-buttons/oauth-buttons.html","<div flex layout=\"row\" layout-align=\"center\">\n<md-button class=\"md-raised md-primary md-hue-2\" aria-label=\"Connect with Facebook\" ng-click=\"OauthButtons.loginOauth(\'facebook\')\" ng-disabled=\"OauthButtons.facebookLoading\">\n    <span  layout=\"row\" layout-align=\"center center\">\n        <ng-md-icon icon=\"facebook\" ng-hide=\"OauthButtons.facebookLoading\"></ng-md-icon> \n        <md-progress-circular md-mode=\"indeterminate\" md-diameter=\"25\" ng-show=\"OauthButtons.facebookLoading\" class=\"md-accent md-hue-1\"></md-progress-circular>\n        <span hide show-gt-sm>&nbsp;Connect with Facebook</span>\n    </span>\n</md-button>\n<md-button class=\"md-raised md-warn md-hue-2\" aria-label=\"Connect with Google\" ng-click=\"OauthButtons.loginOauth(\'google\')\" ng-disabled=\"OauthButtons.googleLoading\">\n    <span  layout=\"row\" layout-align=\"center center\">\n        <ng-md-icon icon=\"google-plus\" ng-hide=\"OauthButtons.googleLoading\"></ng-md-icon> \n        <md-progress-circular md-mode=\"indeterminate\" md-diameter=\"25\" ng-show=\"OauthButtons.googleLoading\" class=\"md-accent md-hue-1\"></md-progress-circular>\n        <span hide show-gt-sm>&nbsp;Connect with Google</span>\n    </span>\n</md-button>\n<md-button class=\"md-raised md-primary\" aria-label=\"Connect with Twitter\" ng-click=\"OauthButtons.loginOauth(\'twitter\')\" ng-disabled=\"OauthButtons.twitterLoading\">\n    <span  layout=\"row\" layout-align=\"center center\">\n        <ng-md-icon icon=\"twitter\" ng-hide=\"OauthButtons.twitterLoading\"></ng-md-icon>\n        <md-progress-circular md-mode=\"indeterminate\" md-diameter=\"25\" ng-show=\"OauthButtons.twitterLoading\" class=\"md-accent md-hue-1\"></md-progress-circular>\n        <span hide show-gt-sm>&nbsp;Connect with Twitter</span>\n    </span>\n</md-button>\n</div>\n");
$templateCache.put("components/repeat-input/repeat-input.html","<div>this is the repeatInput directive</div>\n");
$templateCache.put("components/footer/contact-form.html","<div layout=\"row\">\n<md-content flex layout=\"column\">\n<section layout=\"column\" flex layout-align=\"center center\">\n  <h1>Write to us</h1>\n  <form name=\"form\" ng-submit=\"send(contact)\" novalidate>\n  <section class=\"section\" layout=\"column\">\n    <md-input-container md-is-error=\"(form.message.$error.required || form.message.$error.message) && form.message.$dirty\">\n      <label>Message</label>\n      <textarea name=\"contact\" ng-model=\"contact.message\" required md-autofocus></textarea>\n      <div ng-messages=\"form.message.$error\" ng-if=\"form.message.$dirty\">\n        <div ng-message=\"required\">Message required</div>\n      </div>\n    </md-input-container>\n  </section>\n  <div class=\"md-dialog-actions\" layout=\"row\">\n    <md-button type=\"submit\" class=\"md-raised circular-progress-button md-primary\" ng-disabled=\"!form.$valid || vm.loading\" aria-label=\"Send Message\">\n      <span ng-show=\"!vm.loading\"><ng-md-icon icon=\"send\"></ng-md-icon>Send</span>\n      <md-progress-circular md-mode=\"indeterminate\" md-diameter=\"25\" ng-show=\"vm.loading\" class=\"md-accent md-hue-1\"></md-progress-circular><span ng-show=\"vm.loading\">Loading...</span>\n    </md-button>\n    <md-button class=\"btn btn-default btn-lg btn-register\" ng-click=\"cancel()\" aria-label=\"Cancel Send\"> Cancel </md-button>\n  </div>\n  </form>\n</section>\n</md-content>\n</div>\n");
$templateCache.put("components/footer/footer.html","<div  id=\"top\">\n<div class=\"footer site-footer\" >\n\n	<div  class=\"row\" style=\"padding-left:50px;padding-right: 50px\">\n		\n        	<div  class=\"col-xs-3 stats-graph\">\n        \n               <ul class=\"gd_col fw-1-5 md-1-1\">\n                <li>\n               &nbsp;\n              </li>\n              <li>\n                <a class=\"no-ajax ssl-radio-keepalive\" ng-click=\"topmenu.showLogin()\" ng-if=\"!topmenu.isLoggedIn()\" style=\"color:#fff\">Sign in</a>\n              </li>\n              <li>\n                <a class=\"no-ajax ssl-radio-keepalive\" href=\"/subscribe/\">Subscribe to our newsletter</a>\n              </li>\n              <li>\n                <a href=\"/about/jobs/\">Jobs</a>\n              </li>\n              <li>\n                <a href=\"/index\">About Us</a>\n              </li>\n                   \n                                  \n                                 \n                                \n    	</div>\n    	<div  class=\"col-xs-3 stats-graph\">\n        \n                \n               <ul class=\"gd_col fw-1-5 md-1-1\">\n          		 <li>\n               &nbsp;\n              </li>\n              <li>\n                <a href=\"/index/faq\">FAQs</a>\n              </li>\n              <li>\n                <a href=\"/contributors\">Verified Publishers</a>\n              </li>\n              <li>\n                <a href=\"/about/cookie-policy\">Cookie Policy</a>\n              </li>\n              <li>\n                <a href=\"/index/terms\">Terms &amp; Conditions</a>\n              </li>\n              <li>\n                <a href=\"/site-map/\">Site Map</a>\n              </li>\n            </ul>                          \n                                  \n                                 \n                                \n    	</div>\n\n    	<div  class=\"col-xs-3 stats-graph\">\n    	<h4>Find Us</h4>\n        	<address>8 Impala Road <br>Borrowdale West <br>Harare<br>Zimbabwe</address>    \n                                  \n                                 \n                                \n    	</div>\n\n\n    	<div  class=\"col-xs-3 stats-graph\">\n    	<h4>Contact Us</h4>\n        	<i>Phone:+263773 4392 46</i>   <br> \n        	<i>Email: info@mediabox.co.zw</i>  <br> \n        	<i> <a ng-click=\"addDialog()\" href=\"#\">Quick Contact</a></div></i>\n                                  \n                                 \n                                \n    	</div>\n\n		\n	</div>\n\n\n  <div class=\"footer-content\" layout=\"row\" layout-align=\"center center\">\n    <div layout-align=\"start center\"> 2016 <strong>MediaBox </strong>  <a href=\"\" target=\"_blank\"></a> \n    |\n  </div>\n</div>\n<!--Container for md-toast-->\n<div class=\"fixed-bottom\"> <div class=\"toast-container\" ng-if=\"screenIsBig\">&nbsp;</div> </div>\n</div>");
$templateCache.put("components/right-menu/right-menu.html","<md-sidenav class=\"md-sidenav-right md-whiteframe-z2\" md-component-id=\"right\">\n  <md-toolbar class=\"md-theme-light\">\n    <h1 class=\"md-toolbar-tools\">Sidenav Right</h1>\n  </md-toolbar>\n  <md-content layout-padding>\n    <form>\n      <md-input-container>\n        <label for=\"testInput\">Test input</label>\n        <input type=\"text\" id=\"testInput\"\n               ng-model=\"data\" md-autofocus>\n      </md-input-container>\n    </form>\n    <md-button ng-click=\"close()\" class=\"md-primary\" aria-label=\"Right Menu\">\n      Close Sidenav Right\n    </md-button>\n  </md-content>\n</md-sidenav>\n");
$templateCache.put("components/left-menu/left-menu.html","<md-sidenav layout=\"column\" class=\"md-sidenav-left md-whiteframe-z2\" md-component-id=\"left\" ng-cloak ng-if=\"nav.isLoggedIn()\">\n  <!-- md-is-locked-open=\"$mdMedia(\'gt-md\')\" -->\n      <md-toolbar class=\"md-tall md-hue-2 md-whiteframe-z2\">\n        <span flex></span>\n        <md-list>\n          <md-list-item class=\"md-2-line md-toolbar-tools-bottom\">\n            <user-avatar></user-avatar>\n            <div class=\"md-list-item-text\" layout=\"column\">\n              <span></span>\n              <div>{{left.currentUser.name}}</div>\n              <div>{{left.currentUser.email}}</div>\n            </div>\n          </md-list-item>\n        </md-list>\n      </md-toolbar>\n      <md-list>\n      </md-toolbar>\n      <md-list ng-if=\"left.menu\">\n      <md-item ng-repeat=\"item in left.menu.auth\" ui-sref-active=\"active\" ng-if=\"!left.isLoggedIn()\" ui-sref=\"{{item.url}}\" ng-click=\"left.toggleLeft();\" class=\" md-whiteframe-z2\">\n          <md-item-content md-ink-ripple layout=\"row\" layout-align=\"start center\" >\n            <div class=\"inset\">\n              <ng-md-icon icon=\"{{item.icon}}\"></ng-md-icon>\n            </div>\n            <div class=\"inset\">{{item.text}}</div>\n          </md-item-content>\n        <md-divider ng-if=\"!$last\"></md-divider>\n      </md-item>\n\n<!-- User Pages -->\n      <md-subheader ng-if=\"left.isLoggedIn()\">Pages</md-subheader>\n      <md-item ng-repeat=\"item in left.menu.pages\" ui-sref-active=\"active\" ng-if=\"left.isLoggedIn() && item.authenticate && left.hasRole(item.role)\" ui-sref=\"{{item.url}}\" class=\" md-whiteframe-z2\">\n          <md-item-content md-ink-ripple layout=\"row\" layout-align=\"start center\" >\n            <md-button>\n                <ng-md-icon icon=\"{{item.icon}}\"></ng-md-icon>\n                {{item.text}}\n            </md-button>\n          </md-item-content>\n        <md-divider ng-if=\"!$last || !$first\"></md-divider>\n      </md-item>\n\n<!-- Public Pages -->\n      <md-item ng-repeat=\"item in left.menu.pages\" ui-sref-active=\"active\" ng-if=\"!item.authenticate\" ui-sref=\"{{item.url}}\" class=\" md-whiteframe-z2\">\n          <md-item-content md-ink-ripple layout=\"row\" layout-align=\"start center\" >\n            <md-button>\n                <ng-md-icon icon=\"{{item.icon}}\"></ng-md-icon>\n                {{item.text}}\n            </md-button>\n          </md-item-content>\n        <md-divider ng-if=\"!$last || !$first\"></md-divider>\n      </md-item>\n\n      <md-subheader ng-if=\"left.isLoggedIn()\">Settings</md-subheader>\n      <md-item ng-repeat=\"item in left.menu.admin\" ui-sref-active=\"active\" ng-if=\"left.isLoggedIn()\" ui-sref=\"{{item.url}}\">\n          <md-item-content md-ink-ripple layout=\"row\" layout-align=\"start center\" >\n            <div class=\"inset\">\n              <ng-md-icon icon=\"{{item.icon}}\"></ng-md-icon>\n            </div>\n            <div class=\"inset\">{{item.text}}</div>\n          </md-item-content>\n        <md-divider ng-if=\"!$last\"></md-divider>\n      </md-item>\n    </md-list>\n    </md-sidenav>\n");
$templateCache.put("components/messages/airline.html","Airline Advertising\nTravelling inspires people and removes them from the distractions of their everyday routine. This is the perfect moment for brands to reach and engage with a real audience when they have the time, focus and mind-set to respond. Airline passengers tend to spend money and make decisions in their local community.  A high level of this highly desirable captive audience are the business decision makers because corporate executives often fly out regardless of the ticket cost  it is a matter of convenience because time is money!\nAirport Advertising\nAirport is positioned as a unique and unrivalled platform for advertisers to reach out to a premium audience. The MediaBox offers exciting advertising opportunities at prime locations across all terminals, including award-winning landmarks, digital networks, and dynamic static sites.\nAirport advertising delivers your message to business and leisure travelers. Whether youre trying to raise awareness about your brand, product or service, or encourage point-of-sale, Airport ads are the way to go. Choose from a variety of traditional and experiential displays and locations that are best suited for your campaign.\nPlace your ad throughout terminals in arrival and departure areas, ticketing areas, baggage claim, gates, concourses and VIP lounges.\n\n");
$templateCache.put("components/messages/cinema.html","Cinema advertising is an excellent medium for premium audience targeting. Today, people are in full control of what they watch. As advertisers, you are constantly battling fragmented audience, declining reach, and ad-skipping technology. Who\'s even watching your ads anymore? That\'s where cinema comes in. Its audience is in full show me what you got mode - staring up at a giant screen in a dark, comfortable movie theater.\nRestaurants, bars and retail outlets surrounding cinema can appeal to consumers with special offers valid directly after the movie, and nearby service providers can connect with people who they know are active participants in the economy.\n\n");
$templateCache.put("components/messages/email.html","Non-traditional marketing strategies rely on new and unorthodox marketing methods. Anything that falls outside the categories of traditional marketing can be considered non-traditional, but the term has typically referred to a more specific range of marketing tactics.\nThe goal of non-traditional advertising is to create striking advertising experiences that capture interest through their creativity and unpredictably. Much of non-traditional marketing involves putting ads in unusual places, or displaying ads in unusual ways, hoping to command the attention of unassuming viewers.\nNon traditional advertising can encompass a variety of efforts and methods of getting your message seen.  Non-traditional advertising works well for people with a limited budget and an audience that could be easily. Its an effective method of displaying your message and making it more memorable because of the unusual way in which it may be shown. It is useful for a very targeted audience\n");
$templateCache.put("components/messages/magazines.html","Magazine advertising has a wide range of pricing. Smaller regional and local magazines charge less than national magazines with millions of subscribers and may be a better bet for your small business, depending on your industry\nMagazine advertising doesn\'t just vary in size, but also in type. It includes display ads, advertorials, classified and special promotions.\nWhy You Should Advertise In Magazines\n<ul>\n<li>Magazines and magazine ads capture focused attention: the focused process of magazine reading leads to less media multi-tasking, ensuring single minded attention to advertising.</li>\n<li>Magazine status: some magazine titles are well respected in their field, so an advertisement in these will increase your product/services prestige by association.</li>\n<li>Magazine advertising is targeted: magazines engage readers in very personal ways. Theres a magazine for every passion and a passion for every magazine. Use magazines to reach your target audience in a meaningful way.</li>\n<li>Magazine advertising is relevant and welcomed: consumers value magazine advertising, reading it almost as much as the editorial itself. The ads are accepted as an essential part of the magazine mix.</li>\n<li>Magazines are credible: consumers trust magazines so much that they are the leading sources of information that readers recommend by word-of-mouth to others.</li>\n<li>Magazines offer a lasting message: ads keep working 24/7. They provide a lasting, durable message with time to study a brands benefits. Consumers clip and save magazine ads for future reference.</li>\n<li>Tell The Entire Brand Story - Magazines allow in-depth, detailed communication of the entire brand story.</li>\n<li>Flexibility - Magazines provide opportunities for inserts, supplements, advertorials and a variety of size and positioning options to meet any advertisers specific creative needs.\nWays In Which Magazines Deliver Engagement</li>\n<li>The intimacy between reader and Magazines benefits advertisers. Also the strong positive brand values of the Magazines can transfer onto the advertisements.</li>\n<li>Because advertisements are relevant and valued, ad clutter is not a problem in Magazines.</li>\n<li>Readers take action as a result of seeing advertising in Magazines.</li>\n<li>Targeting with precision and without wastage is a key strength of Magazines.</li>\n<li>Creative formats such as gatefolds, textures, special papers, samples, sponsorship, advertisement features (advertorials), and so on can create additional impact and interaction.</li>\n<li>Advertising in Magazines is a great, cost-effective way to reach an exclusive group of affluent and highly educated managers, owners, professionals and executives.</li>\nEffectiveness Of Magazine Advertising<br>\nThe effectiveness of magazine advertising depends on your advertising and promotion objectives, as well as the budget you have for advertising. Magazine advertising has strengths and weaknesses relative to other ad media. In general, you want to use media that reach your target audience and allow you to present effective messages affordably.\n\n");
$templateCache.put("components/messages/newspapers.html","<p>Advertising in Newspapers gives you an opportunity to reach out to your target audience. In order to get your brands advertising message out, you need to reach your consumers a number of times (i.e. frequency). Too little exposure and audiences will fail to notice the advertising. Too much, and recipients will be saturated. The Media Box is uniquely positioned to help you grow your business with highly effective, targeted print media buying.\nNewspapers are the top traditional media source to influence purchase decisions. Newspapers advertising can span across multiple columns - and can even cover full page, half page, quarter page or other custom sizes. They are designed in high resolution colored and black/white formats providing higher visibility for the mass audiences of Newspapers.</p>\n<p>The Journal of Advertising Research found sound experimental evidence that newspaper advertising can stimulate an immediate response observable in purchasing terms. In a study of 1200, one and a half days after ads for various brands ran in the newspaper:\n<ul>\n<li>14% more purchases of the brands advertised in the newspaper<li>\n<li>10% greater brand share for the brands advertised in the newspaper</li>\n</ul>\n	\n	\n");
$templateCache.put("components/messages/nontraditional.html","Non-traditional marketing strategies rely on new and unorthodox marketing methods. Anything that falls outside the categories of traditional marketing can be considered non-traditional, but the term has typically referred to a more specific range of marketing tactics.\nThe goal of non-traditional advertising is to create striking advertising experiences that capture interest through their creativity and unpredictably. Much of non-traditional marketing involves putting ads in unusual places, or displaying ads in unusual ways, hoping to command the attention of unassuming viewers.\nNon traditional advertising can encompass a variety of efforts and methods of getting your message seen.  Non-traditional advertising works well for people with a limited budget and an audience that could be easily. Its an effective method of displaying your message and making it more memorable because of the unusual way in which it may be shown. It is useful for a very targeted audience\n");
$templateCache.put("components/messages/outdoor.html","If you need to make a big impact in your local area, outdoor advertising can raise your company\'s profile and deliver results. Outdoor ads put your message right in front of your potential customers.<nr>\nWhy Outdoor Advertising Works<br>\nOutdoor advertising is highly prominent and does not require the consumer to do anything to access it. You don\'t have to tune in or click onto it or turn a page. At the same time, most people regard it as less intrusive than other methods of advertising. Indeed, a lot of outdoor advertising engages the consumer, providing colour, humour and insight. In locations where it sits in front of a captive audience  on public transport or at waiting places, for instance  it can even be seen as a welcome distraction.<br>\nWhere To Advertise Outdoors<br>\nOutdoor promotion is not just about massive hoardings, pole kiosks, bus shelters etc on the side of the road. There are poster sites and sizes to suit all budgets. Your choice will be driven by how well you understand your target market. If your target market is largely defined by geographical location, a few well-chosen spots and advertising signs in your area could raise your company\'s profile and drive sales.\nOutdoor advertising on the high street catches your potential customers while they are in shopping mode. A good poster campaign can prompt shoppers to buy your products there and then, especially if you are running a promotion as an incentive.\n");
$templateCache.put("components/messages/radio.html","Busy, people are particularly strong radio listeners because of its accessibility while they are on the go  at work, driving, relaxing at home or using the internet.\nAdvantages Of Using Radio Advertising \n<ul><li>Radios cost-efficiency allows advertisers to be heard every day and multiple times throughout the day.</li>\n<li>	This average frequency is critically important for delivering rapid advertising response, such as  web visits, store traffic, sales, brand recall and intent-to-purchase.</li>\n<li>	Radio has strong reach across reions and each week attracts a large number of engaged listeners.</li>\n<li>	Busy, mobile people are particularly strong radio listeners because of its accessibility while they are on the go  at work, driving, walking, relaxing at home or using the internet.</li>\n<li>	Radios reach provides advertisers with cut through, campaign extension, frequency and message reinforcement.</li>\n\n\n");
$templateCache.put("components/messages/tv.html","When Should You Use TV Advertising\n<ul>\n<li>	Repositioning Your Brand: changing perceptions about a brand is a difficult task.  A strong branding effort is required to change the current association, beliefs and feelings about a brand </li>\n<li>	Changing Behavior: not all advertising is about consumption.  Sometimes its about trying to persuade people to change what they do. </li>\n<li>	Generate Response: your Brands can use TV\'s ability to drive people to buy directly online or offline.</li>\n<li>	Demonstration: one of TVs greatest strength is its ability to demonstrate. Sometimes a viewer needs to see a product in action in order to understand fully its benefits.  It is the power of the moving image accompanied by sound that makes TV advertising so powerful.  Demonstration shows viewers how to consume a new product.</li>\n<li>	Customer Retention: it is much easier to retain existing customers than to find new customers. Therefore, it is really important to remind your existing customers why they love your brand. A television campaign is capable of making a customer feel proud of their brand, remind them why they bought into the brand in the first place and of all the positive elements of the brand and keep them feeling positive and warm about their choice of brand.  Most of all it protects them against the advances of all those other brands who want to get their hands on your customers.<li>\n<li>	Launching Brands: TV is without doubt the most effective medium for launching brands.  It combines the scale and reach that a new brand needs with impact and persuasiveness.  No other medium can offer both these qualities.</li>\nWhat Environment Should Your TV Ad Be In?<br>\nPart of the planning process is determining which channels give you access to the right programmes and, ultimately, are most effective at reaching your audience.\nIn order to meet your communication objectives efficiently, it is essential that the right mix of channels is bought.\nThere are three measures that are used to describe a channels profile:\n<ul><li>	Age</li>\n<li>	Gender</li>\n<li>	Class</li>\nThese can be compared to either the population as a whole, or the overall profile of commercial TV\n\n");
$templateCache.put("components/toast/toast.html","<md-toast>\n	<span flex>{{::vm.text}}</span>\n\n	<md-button class=\"md-primary\"\n						 ng-class=\"{\'md-accent\': vm.type === \'warn\'}\"\n						 ng-if=\"::vm.link\"\n						 ng-click=\"vm.showItem()\"\n						 aria-label=\"{{::vm.text}}\">\n		Show\n	</md-button>\n\n	<span ng-if=\"::vm.link\">|</span>\n\n	<md-button ng-click=\"vm.close()\" aria-label=\"OK\">OK</md-button>\n</md-toast>\n");
$templateCache.put("components/top-menu/top-menu.html","<md-button aria-label=\"Login / Signup\" ng-click=\"topmenu.showLogin()\" ng-if=\"!topmenu.isLoggedIn()\" style=\"color:#fff\">\n    <ng-md-icon icon=\"person\" md-menu-align-target></ng-md-icon>\n    <span hide-xs>Login / Signup</span>\n</md-button>\n\n<!-- Dropdown Menu Starts here -->\n   <md-menu style=\"color:#fff\">\n    <md-button ng-click=\"topmenu.openMenu($mdOpenMenu, $event)\"  ng-show=\"topmenu.isLoggedIn()\">\n      <ng-md-icon icon=\"face\" md-menu-align-target></ng-md-icon>\n      <!--<md-icon class=\"avatar-icon\" md-svg-icon=\"avatar:svg-{{ (0 + 1) % 11 }}\"></md-icon>-->\n      <span hide-xs>{{topmenu.Auth.getCurrentUser().name | labelCase}}</span>\n      <ng-md-icon icon=\"more_vert\"></ng-md-icon>\n    </md-button>\n    <md-menu-content width=\"4\" class=\"navMenu\" ng-show=\"topmenu.menu\">\n<!-- // Auth items -->\n      <md-menu-item ng-repeat=\"item in topmenu.menu.auth\" ui-sref-active=\"active\" ng-if=\"!topmenu.isLoggedIn()\" ui-sref=\"{{item.url}}\">\n        <md-button aria-label=\"{{item.text}}\">\n          <ng-md-icon icon=\"{{item.icon}}\" md-menu-align-target></ng-md-icon>\n          {{item.text}}\n        </md-button>\n      </md-menu-item>\n\n<!-- // Admin Pages -->\n      <md-subheader ng-if=\"topmenu.isLoggedIn()\">Pages</md-subheader>\n      <md-menu-item ng-repeat=\"item in topmenu.menu.pages\" ui-sref-active=\"active\" ng-if=\"topmenu.isLoggedIn() && item.authenticate && topmenu.hasRole(item.role)\" ui-sref=\"{{item.url}}\">\n        <md-button aria-label=\"{{item.text}}\">\n          <ng-md-icon icon=\"{{item.icon}}\" md-menu-align-target></ng-md-icon>\n          {{item.text}}\n        </md-button>\n      </md-menu-item>\n\n<!-- // Public Pages -->\n      <md-menu-item ng-repeat=\"item in topmenu.menu.pages\" ui-sref-active=\"active\" ng-if=\"!item.authenticate\" ui-sref=\"{{item.url}}\">\n        <md-button aria-label=\"{{item.text}}\">\n          <ng-md-icon icon=\"{{item.icon}}\" md-menu-align-target></ng-md-icon>\n          {{item.text}}\n        </md-button>\n      </md-menu-item>\n\n<!-- // User Management -->\n      <md-subheader ng-if=\"topmenu.isLoggedIn()\"> User</md-subheader>\n      <md-menu-item ng-repeat=\"item in topmenu.menu.user\" ui-sref-active=\"active\" ng-if=\"topmenu.isLoggedIn() && topmenu.hasRole(item.role)\" ui-sref=\"{{item.url}}\">\n        <md-button aria-label=\"{{item.text}}\">\n          <ng-md-icon icon=\"{{item.icon}}\" md-menu-align-target></ng-md-icon>\n          {{item.text}}\n        </md-button>\n      </md-menu-item>\n\n    </md-menu-content>\n  </md-menu>\n");
$templateCache.put("components/user-avatar/user-avatar.html","<div>this is the userAvatar directive</div>\n");
$templateCache.put("app/address/address.html","<navbar></navbar>\n<div flex layout=\"column\" layout-gt-xs=\"row\" layout-align=\"center stretch\">\n\n<div layout=\"column\" layout-gt-sm=\"<column></column>\">\n<!--Address box-->\n<md-card ng-show=\"address.showAddressForm\">\n    <md-card-content>\n	<p ng-show=\"address.error\" class=\"md-warn\">{{address.error.message}}</p>\n	<h3>SELECTED ADDRESS</h3>\n	<form name=\"form\" ng-submit=\"address.saveAddress(address.addr);new.address=false;address.addr = address.address[0];\" novalidate layout=\"column\">\n		<md-input-container md-is-error=\"(form.name.$error.required || form.name.$error.name) && form.name.$dirty\">\n			<label>Name</label>\n			<input name=\"name\" type=\"name\" ng-model=\"address.addr.name\" required autofocus>\n			<div ng-messages=\"form.name.$error\" ng-if=\"form.name.$dirty\">\n				<div ng-message=\"required\">Name is required</div>\n			</div>\n		</md-input-container>\n        \n        <md-input-container md-is-error=\"(form.addr.$error.required || form.addr.$error.addr) && form.addr.$dirty\">\n			<label>Address</label>\n			<input name=\"address\" type=\"address\" ng-model=\"address.addr.address\" required/>\n			<div ng-messages=\"form.address.$error\" ng-if=\"form.address.$dirty\">\n				<div ng-message=\"required\">Address is required</div>\n			</div>\n		</md-input-container>\n        \n        <md-input-container md-is-error=\"(form.city.$error.required || form.city.$error.city) && form.city.$dirty\">\n			<label>City</label>\n			<input name=\"city\" type=\"city\" ng-model=\"address.addr.city\" required/>\n			<div ng-messages=\"form.city.$error\" ng-if=\"form.city.$dirty\">\n				<div ng-message=\"required\">City is required</div>\n			</div>\n		</md-input-container>\n\n        <md-input-container md-is-error=\"(form.zip.$error.required || form.zip.$error.zip) && form.zip.$dirty\">\n			<label>Zip</label>\n			<input name=\"zip\" type=\"zip\" ng-model=\"address.addr.zip\" required only-numbers/>\n			<div ng-messages=\"form.zip.$error\" ng-if=\"form.zip.$dirty\">\n				<div ng-message=\"required\">Zip code is required</div>\n			</div>\n		</md-input-container>\n        \n        <md-input-container md-is-error=\"(form.state.$error.required || form.state.$error.state) && form.state.$dirty\">\n			<label>State</label>\n			<input name=\"state\" type=\"state\" ng-model=\"address.addr.state\" required/>\n			<div ng-messages=\"form.state.$error\" ng-if=\"form.state.$dirty\">\n				<div ng-message=\"required\">State is required</div>\n			</div>\n		</md-input-container>\n        \n        <md-input-container md-is-error=\"(form.phone.$error.required || form.phone.$error.phone) && form.phone.$dirty\">\n			<label>Phone</label>\n			<input name=\"phone\" type=\"phone\" ng-model=\"address.addr.phone\" required/>\n			<div ng-messages=\"form.phone.$error\" ng-if=\"form.phone.$dirty\">\n				<div ng-message=\"required\">Phone number is required</div>\n			</div>\n		</md-input-container>\n\n        <!--<md-input-container md-is-error=\"(form.country.$error.required || form.country.$error.country) && form.country.$dirty\">\n            <label>Country</label>\n            <input ng-model=\"address.addr.country\" ng-value=\"address.Settings.country.name\" disabled/>\n            <div ng-messages=\"form.country.$error\" ng-if=\"form.country.$dirty\">\n				<div ng-message=\"required\">Country required</div>\n			</div>\n		</md-input-container>-->\n\n        <div layout=\"row\">\n            <md-button type=\"submit\" class=\"md-raised md-primary\" \n            ng-disabled=\"!form.$valid || address.loadingAddress\" aria-label=\"Save Address\" layout=\"row\">\n                <ng-md-icon icon=\"save\" ng-hide=\"address.loadingAddress\"></ng-md-icon>\n                <md-progress-circular md-mode=\"indeterminate\" md-diameter=\"25\" ng-show=\"address.loadingAddress\" class=\"md-accent md-hue-1\"></md-progress-circular>\n                Save <span hide show-gt-xs>as Primary Address</span>\n            </md-button>\n            <md-button ng-click=\"address.cancelForm(address.addr);new.address=false;\">Cancel</md-button>\n	   </div>\n       </form>\n    </md-card-content>\n</md-card>\n<div layout=\"column\">\n<md-button class=\"md-raised\" ng-click=\"address.addressForm(true);address.new.address=true; address.addr={country: address.Settings.country.name}\">\n    <ng-md-icon icon=\"location_on\"></ng-md-icon>Add New Address\n</md-button>\n<div layout=\"row\" layout-align=\"start start\" layout-wrap>\n\n<md-card  \nng-repeat=\"a in address.address\" \nng-click=\"new.address=false; address.addressForm(true);address.switchAddress(a)\" \nstyle=\"min-width:300px\" \nng-class=\"{\'selected\':(a==address.addr)} \"\n>\n      <md-card-header layout=\"row\" layout-align=\"space-between start\">\n          <md-card-header-text>\n            <h3>ADDRESS - {{$index+1}}</h3>\n          </md-card-header-text>\n          	<div>\n				  <md-button ng-click=\"address.delete(a)\" aria-label=\"Delete Address\"><ng-md-icon icon=\"delete\"></ng-md-icon></md-button>  \n			</div>				  \n      </md-card-header>\n	  \n      <md-card-content layout=\"column\" layout-align=\"start start\">\n			{{a.name}}<br/>\n            {{a.address}}<br/>\n            {{a.city}}<br/>\n            {{a.state}}<br/>\n            {{a.zip}}<br/>\n            {{a.phone}}\n      </md-card-content>\n      \n</md-card>\n</div><!--Address box-->\n</div>\n</div>\n\n</div>\n<footer></footer>\n");
$templateCache.put("app/admin/admin.html","<crud-table api=\'user\' options=\'admin.options\' noAdd noCopy></crud-table>\n");
$templateCache.put("app/book/book.html","<crud-table api=\'book\' options=\'options\'></crud-table>\n");
$templateCache.put("app/campaign/campaign.html","<navbar leftmenu=\"true\"></navbar>\n<left-menu></left-menu>\n\n<link rel=\"stylesheet\" href=\"bower_components/angular-loading/angular-loading.css\"/>\n\n\n<div ng-cloak>\n<div class=\"container\" >\n<div class=\"row\">\n  <div class=\"col-md-4\"><h3>Campaigns</h3> </div>\n\n  <div class=\"col-md-8\"><!-- <div   class=\"alert alert-danger\" >New Requests/ Proposals will expire in 7 days if not responded to</div> -->\n\n  </div>\n</div>\n\n <!--When No Campaigns-->\n      <section ng-if=\"campaign.campaigns.totalCampaign.length===0\" class=\"header\" layout=\"column\" layout-align=\"center stretch\">\n        <h1>You have not purchased anything yet</h1>\n        <md-button ui-sref=\"/\" class=\"md-primary md-raised\">\n        <ng-md-icon icon=\"shopping_cart\"></ng-md-icon>Shop Now\n\n        </md-buton>\n      </section>\n\n  <div class=\"box\" ng-controller=\"CampaignController as vm\">\n        <div class=\"row\">\n        \n              <div class=\"col-sm-2\" style=\"border-right: bold\">\n                <h3 >Total :<br> &nbsp;<br><div  style=\"margin-left:30px;color:red\">{{vm.campaignsAll.totalCampaign}}</div></h3>\n              </div>\n              <div class=\"col-sm-2\"><h3>Pending<br> &nbsp;<br><div  style=\"margin-left:30px;color:red\">{{vm.campaignsPending.totalCampaign}}</div></h3></div>\n              <div class=\"col-sm-2\"><h3>Scheduled<br> &nbsp;<br><div  style=\"margin-left:30px;color:red\">{{vm.campaignsScheduled.totalCampaign}}</div></h3></div>\n               <div class=\"col-sm-2\"><h3>Running<br> &nbsp;<br><div  style=\"margin-left:30px;color:red\">{{vm.campaignsRunning.totalCampaign}}</div></h3></div>\n               <div class=\"col-sm-2\"><h3>Completed<br> &nbsp;<br><div  style=\"margin-left:30px;color:red\">{{vm.campaignsCompleted.totalCampaign}}</div></h3></div>\n               <div class=\"col-sm-2\"></div>\n          \n        </div>\n </div>\n\n\n   \n</div>\n\n   <md-content class=\"container\" layout=\"column\">\n    <md-tabs md-dynamic-height md-border-bottom>\n      <md-tab label=\"PENDING\">\n        <md-content >\n          \n            <section >\n   \n          <md-content >\n            <div >\n              <div class=\"col-md-12\" ng-controller=\"CampaignController as vm\">\n                  \n            <!-- <h3  class=\"bg-info well text-center\">Total Spent: {{campaigns.total | currency}}</h3> -->\n               <div style=\"margin-top:20px\" class=\"small\" dw-loading=\"campaigns\" dw-loading-options=\"{active: true, text: \'\', className: \'custom-loading\', spinnerOptions: {lines: 12, length: 20, width: 6, radius: 20, color: \'#d9534f\', direction: -1, speed: 3}}\"></div>\n\n               <kendo-grid options=\"vm.mainGridOptions\">\n\n                <div k-detail-template>\n\n\n                    <kendo-tab-strip>\n                    <ul>\n                        <li class=\"k-state-active\">PRODUCTS/SITES</li>\n                        <li>PUBLISHER DETAILS </li>\n                    </ul>\n                    <div>\n                        <div kendo-grid k-options=\"vm.detailGridOptions(dataItem)\"></div>\n                    </div>\n                    <div>\n                        <ul class=\"contact-info-form\">\n                    \n                            <li><label>Name:</label> {{dataItem.items[0].publisher}}</li>\n                           \n                        </ul>\n                    </div>\n                    </kendo-tab-strip>\n                </div>\n            </kendo-grid>\n\n          </div>\n          \n              \n            </div>\n\n            <div flex></div>\n          </md-content>\n            <md-sidenav class=\"md-sidenav-right md-whiteframe-4dp\" md-component-id=\"right\">\n              <md-toolbar style= \"background-color:#555555\">\n                <h1 class=\"md-toolbar-tools\">Edit Request</h1>\n              </md-toolbar>\n            \n            </md-sidenav>\n        </section>\n        </p>\n      </md-content>\n      </md-tab>\n       <md-tab label=\"SCHEDULED\">\n        <md-content >\n           <section >\n   \n            <md-content >\n            <div >\n              <div class=\"col-md-12\" ng-controller=\"CampaignScheduledController as vm\">\n                  \n            <!-- <h3  class=\"bg-info well text-center\">Total Spent: {{campaigns.total | currency}}</h3> -->\n               <div style=\"margin-top:20px\" class=\"small\" dw-loading=\"campaigns\" dw-loading-options=\"{active: true, text: \'\', className: \'custom-loading\', spinnerOptions: {lines: 12, length: 20, width: 6, radius: 20, color: \'#d9534f\', direction: -1, speed: 3}}\"></div>\n\n               <kendo-grid options=\"vm.mainGridOptions\">\n\n                <div k-detail-template>\n\n\n                    <kendo-tab-strip>\n                    <ul>\n                        <li class=\"k-state-active\">PRODUCTS/SITES</li>\n                        <li>PUBLISHER </li>\n                    </ul>\n                    <div>\n                        <div kendo-grid k-options=\"vm.detailGridOptions(dataItem)\"></div>\n                    </div>\n                    <div>\n                        <ul class=\"contact-info-form\">\n                    \n                            <li><label>Name:</label> {{dataItem.items[0].publisher}}</li>\n                            \n                        </ul>\n                    </div>\n                    </kendo-tab-strip>\n                </div>\n            </kendo-grid>\n\n          </div>\n          \n              \n            </div>\n\n            <div flex></div>\n          </md-content>\n                <md-sidenav class=\"md-sidenav-right md-whiteframe-4dp\" md-component-id=\"right\">\n                  <md-toolbar style= \"background-color:#555555\">\n                    <h1 class=\"md-toolbar-tools\">Preview Request</h1>\n                  </md-toolbar>\n                  \n                </md-sidenav>\n        </section>\n        </md-content>\n      </md-tab>\n\n         <md-tab label=\"RUNNING\">\n        <md-content >\n          \n            <section >\n   \n          <md-content >\n            <div >\n              <div class=\"col-md-12\" ng-controller=\"CampaignRunningController as vm\">\n                  \n            <!-- <h3  class=\"bg-info well text-center\">Total Spent: {{campaigns.total | currency}}</h3> -->\n               <div style=\"margin-top:20px\" class=\"small\" dw-loading=\"campaigns\" dw-loading-options=\"{active: true, text: \'\', className: \'custom-loading\', spinnerOptions: {lines: 12, length: 20, width: 6, radius: 20, color: \'#d9534f\', direction: -1, speed: 3}}\"></div>\n\n               <kendo-grid options=\"vm.mainGridOptions\">\n\n                <div k-detail-template>\n\n\n                <kendo-tab-strip>\n                    <ul>\n                        <li class=\"k-state-active\">PRODUCTS/SITES</li>\n                        <li>PUBLISHER </li>\n                    </ul>\n                    <div>\n                        <div kendo-grid k-options=\"vm.detailGridOptions(dataItem)\"></div>\n                    </div>\n                    <div>\n                        <ul class=\"contact-info-form\">\n                    \n                            <li><label>Name:</label> {{dataItem.items[0].publisher}}</li>\n                            \n                        </ul>\n                    </div>\n                    </kendo-tab-strip>                </div>\n            </kendo-grid>\n\n          </div>\n          \n              \n            </div>\n\n            <div flex></div>\n          </md-content>\n            <md-sidenav class=\"md-sidenav-right md-whiteframe-4dp\" md-component-id=\"right\">\n              <md-toolbar style= \"background-color:#555555\">\n                <h1 class=\"md-toolbar-tools\">Edit Request</h1>\n              </md-toolbar>\n              \n            </md-sidenav>\n        </section>\n        </p>\n      </md-content>\n      </md-tab>\n      <!--running to be inseterd gere-->\n      <md-tab label=\"COMPLETED\">\n        <md-content >\n            <div >\n              <div class=\"col-md-12\" ng-controller=\"CampaignCompletedController as vm\">\n                  \n            <!-- <h3  class=\"bg-info well text-center\">Total Spent: {{campaigns.total | currency}}</h3> -->\n               <div style=\"margin-top:20px\" class=\"small\" dw-loading=\"campaigns\" dw-loading-options=\"{active: true, text: \'\', className: \'custom-loading\', spinnerOptions: {lines: 12, length: 20, width: 6, radius: 20, color: \'#d9534f\', direction: -1, speed: 3}}\"></div>\n\n               <kendo-grid options=\"vm.mainGridOptions\">\n\n                <div k-detail-template>\n\n\n                    <kendo-tab-strip>\n                    <ul>\n                        <li class=\"k-state-active\">PRODUCTS/SITES</li>\n                        <li>PUBLISHER </li>\n                    </ul>\n                    <div>\n                        <div kendo-grid k-options=\"vm.detailGridOptions(dataItem)\"></div>\n                    </div>\n                    <div>\n                        <ul class=\"contact-info-form\">\n                    \n                            <li><label>Name:</label> {{dataItem.items[0].publisher}}</li>\n                            \n                        </ul>\n                    </div>\n                    </kendo-tab-strip>\n                </div>\n            </kendo-grid>\n\n          </div>\n          \n              \n            </div>\n\n            <div flex></div>\n          </md-content>\n              <md-sidenav class=\"md-sidenav-right md-whiteframe-4dp\" md-component-id=\"right\">\n                <md-toolbar style= \"background-color:#555555\">\n                  <h1 class=\"md-toolbar-tools\">Preview Request</h1>\n                </md-toolbar>\n                \n              </md-sidenav>\n          </section>\n        </md-content>\n      </md-tab>\n    </md-tabs>\n  </md-content>\n</div>\n<footer></footer>\n<script>\n        /*\n            This demo renders the grid in \"DejaVu Sans\" font family, which is\n            declared in kendo.common.css. It also declares the paths to the\n            fonts below using <tt>kendo.pdf.defineFont</tt>, because the\n            stylesheet is hosted on a different domain.\n        */\n        kendo.pdf.defineFont({\n            \"DejaVu Sans\"             : \"//kendo.cdn.telerik.com/2016.2.607/styles/fonts/DejaVu/DejaVuSans.ttf\",\n            \"DejaVu Sans|Bold\"        : \"//kendo.cdn.telerik.com/2016.2.607/styles/fonts/DejaVu/DejaVuSans-Bold.ttf\",\n            \"DejaVu Sans|Bold|Italic\" : \"//kendo.cdn.telerik.com/2016.2.607/styles/fonts/DejaVu/DejaVuSans-Oblique.ttf\",\n            \"DejaVu Sans|Italic\"      : \"//kendo.cdn.telerik.com/2016.2.607/styles/fonts/DejaVu/DejaVuSans-Oblique.ttf\"\n        });\n    </script>\n    <script type=\"text/x-kendo-template\" id=\"template\">\n        <div class=\"toolbar\">\n            <label class=\"category-label\" for=\"category\">Show products by category:</label>\n            <input type=\"search\" id=\"category\" style=\"width: 150px\"/>\n        </div>\n    </script>\n\n    <script type=\"x/kendo-template\" id=\"page-template\">\n      <div class=\"page-template\">\n        <div class=\"header\">\n          <div style=\"float: right\">Page #: pageNum # of #: totalPages #</div>\n          Bringing Back Life To The Advertising Industry\n        </div>\n        <div class=\"watermark\">MEDIABOX</div>\n        <div class=\"footer\">\n          Page #: pageNum # of #: totalPages #\n        </div>\n      </div>\n    </script>\n");
$templateCache.put("app/brand/brand.html","<crud-table api=\'brand\' options=\'options\'></crud-table>\n");
$templateCache.put("app/brandtv/brandtv.html","<crud-table api=\'BrandTV\' options=\'options\'></crud-table>\n");
$templateCache.put("app/brandmg/brandmg.html","<crud-table api=\'BrandMG\' options=\'options\'></crud-table>\n");
$templateCache.put("app/campaigns/campaigns.html","<navbar leftmenu=\"true\"></navbar>\n<left-menu></left-menu>\n\n<link rel=\"stylesheet\" href=\"bower_components/angular-loading/angular-loading.css\"/>\n\n\n<div ng-cloak>\n<div class=\"container\" >\n<div class=\"row\">\n  <div class=\"col-md-4\"><h3>Campaigns</h3> </div>\n\n  <div class=\"col-md-8\"><div   class=\"alert alert-danger\" >New Requests/ Proposals will expire in 7 days if not responded to</div>\n\n  </div>\n</div>\n  <div class=\"box\" ng-controller=\"CampaignsController as vm\">\n        <div class=\"row\">\n        \n              <div class=\"col-sm-2\" style=\"border-right: bold\">\n                <h3 >Total :<br> &nbsp;<br><div  style=\"margin-left:30px;color:red\">{{vm.campaigns.totalCampaign}}</div></h3>\n              </div>\n              <div class=\"col-sm-2\"><h3>Pending<br> &nbsp;<br><div  style=\"margin-left:30px;color:red\">{{vm.campaignsPending.totalCampaign}}</div></h3></div>\n              <div class=\"col-sm-2\"><h3>Scheduled<br> &nbsp;<br><div  style=\"margin-left:30px;color:red\">{{vm.campaignsScheduled.totalCampaign}}</div></h3></div>\n               <div class=\"col-sm-2\"><h3>Running<br> &nbsp;<br><div  style=\"margin-left:30px;color:red\">{{vm.campaignsRunning.totalCampaign}}</div></h3></div>\n               <div class=\"col-sm-2\"><h3>Completed<br> &nbsp;<br><div  style=\"margin-left:30px;color:red\">{{vm.campaignsCompleted.totalCampaign}}</div></h3></div>\n               <div class=\"col-sm-2\"></div>\n          \n        </div>\n </div>\n\n   \n</div>\n\n  <md-content class=\"container\" layout=\"column\">\n    <md-tabs md-dynamic-height md-border-bottom>\n      <md-tab label=\"PENDING\">\n        <md-content >\n          \n            <section >\n   \n          <md-content >\n            <div >\n              <div class=\"col-md-12\" ng-controller=\"CampaignsController as vm\">\n                  \n            <!-- <h3  class=\"bg-info well text-center\">Total Spent: {{campaigns.total | currency}}</h3> -->\n               <div style=\"margin-top:20px\" class=\"small\" dw-loading=\"campaigns\" dw-loading-options=\"{active: true, text: \'\', className: \'custom-loading\', spinnerOptions: {lines: 12, length: 20, width: 6, radius: 20, color: \'#d9534f\', direction: -1, speed: 3}}\"></div>\n\n               <kendo-grid options=\"vm.mainGridOptions\">\n\n                <div k-detail-template>\n\n\n                    <kendo-tab-strip>\n                    <ul>\n                        <li class=\"k-state-active\">PRODUCTS/SITES</li>\n                        <li>ADVERTISER DETAILS </li>\n                    </ul>\n                    <div>\n                        <div kendo-grid k-options=\"vm.detailGridOptions(dataItem)\"></div>\n                    </div>\n                    <div>\n                        <ul class=\"contact-info-form\">\n                    \n                            <li><label>Name:</label> {{dataItem.items[0].advertiser.company}}</li>\n                            <!--<li><label>Address:</label>{{dataItem.items[0].advertiser.address}}</li>-->\n                            <li><label>Email:</label> {{dataItem.items[0].advertiser.email}}</li>\n                            <li><label>Phone:</label> {{dataItem.items[0].advertiser.phone}}</li>\n                        </ul>\n                    </div>\n                    </kendo-tab-strip>\n                </div>\n            </kendo-grid>\n\n          </div>\n          \n              \n            </div>\n\n            <div flex></div>\n          </md-content>\n       \n        </section>\n        </p>\n      </md-content>\n      </md-tab>\n       <md-tab label=\"SCHEDULED\">\n        <md-content >\n           <section >\n   \n            <md-content >\n            <div >\n              <div class=\"col-md-12\" ng-controller=\"CampaignsScheduledController as vm\">\n                  \n            <!-- <h3  class=\"bg-info well text-center\">Total Spent: {{campaigns.total | currency}}</h3> -->\n               <div style=\"margin-top:20px\" class=\"small\" dw-loading=\"campaigns\" dw-loading-options=\"{active: true, text: \'\', className: \'custom-loading\', spinnerOptions: {lines: 12, length: 20, width: 6, radius: 20, color: \'#d9534f\', direction: -1, speed: 3}}\"></div>\n\n               <kendo-grid options=\"vm.mainGridOptions\">\n\n                <div k-detail-template>\n\n\n                    <kendo-tab-strip>\n                    <ul>\n                        <li class=\"k-state-active\">PRODUCTS/SITES</li>\n                        <li>ADVERTISER DETAILS </li>\n                    </ul>\n                    <div>\n                        <div kendo-grid k-options=\"vm.detailGridOptions(dataItem)\"></div>\n                    </div>\n                    <div>\n                        <u++l class=\"contact-info-form\">\n                    \n                            <li><label>Name:</label> {{dataItem.items[0].advertiser.company}}</li>\n                             <li><label>Email:</label> {{dataItem.items[0].advertiser.email}}</li>\n                            <li><label>Phone:</label> {{dataItem.items[0].advertiser.phone}}</li>\n                        </ul>\n                    </div>\n                    </kendo-tab-strip>\n                </div>\n            </kendo-grid>\n\n          </div>\n          \n              \n            </div>\n\n            <div flex></div>\n          </md-content>\n            \n        </section>\n        </md-content>\n      </md-tab>\n\n         <md-tab label=\"RUNNING\">\n        <md-content >\n          \n            <section >\n   \n          <md-content >\n            <div >\n              <div class=\"col-md-12\" ng-controller=\"CampaignsRunningController as vm\">\n                  \n            <!-- <h3  class=\"bg-info well text-center\">Total Spent: {{campaigns.total | currency}}</h3> -->\n               <div style=\"margin-top:20px\" class=\"small\" dw-loading=\"campaigns\" dw-loading-options=\"{active: true, text: \'\', className: \'custom-loading\', spinnerOptions: {lines: 12, length: 20, width: 6, radius: 20, color: \'#d9534f\', direction: -1, speed: 3}}\"></div>\n\n               <kendo-grid options=\"vm.mainGridOptions\">\n\n                <div k-detail-template>\n\n\n                    <kendo-tab-strip>\n                    <ul>\n                        <li class=\"k-state-active\">PRODUCTS/SITES</li>\n                        <li>ADVERTISER DETAILS </li>\n                    </ul>\n                    <div>\n                        <div kendo-grid k-options=\"vm.detailGridOptions(dataItem)\"></div>\n                    </div>\n                    <div>\n                        <ul class=\"contact-info-form\">\n                    \n                            <li><label>Name:</label> {{dataItem.items[0].advertiser.company}}</li>\n                             <li><label>Email:</label> {{dataItem.items[0].advertiser.email}}</li>\n                            <li><label>Phone:</label> {{dataItem.items[0].advertiser.phone}}</li>\n                        </ul>\n                    </div>\n                    </kendo-tab-strip>\n                </div>\n            </kendo-grid>\n\n          </div>\n          \n              \n            </div>\n\n            <div flex></div>\n          </md-content>\n            \n        </section>\n        </p>\n      </md-content>\n      </md-tab>\n      <!--running to be inseterd gere-->\n      <md-tab label=\"COMPLETED\">\n        <md-content >\n            <div >\n              <div class=\"col-md-12\" ng-controller=\"CampaignsCompletedController as vm\">\n                  \n            <!-- <h3  class=\"bg-info well text-center\">Total Spent: {{campaigns.total | currency}}</h3> -->\n               <div style=\"margin-top:20px\" class=\"small\" dw-loading=\"campaigns\" dw-loading-options=\"{active: true, text: \'\', className: \'custom-loading\', spinnerOptions: {lines: 12, length: 20, width: 6, radius: 20, color: \'#d9534f\', direction: -1, speed: 3}}\"></div>\n\n               <kendo-grid options=\"vm.mainGridOptions\">\n\n                <div k-detail-template>\n\n\n                    <kendo-tab-strip>\n                    <ul>\n                        <li class=\"k-state-active\">PRODUCTS/SITES</li>\n                        <li>ADVERTISER DETAILS </li>\n                    </ul>\n                    <div>\n                        <div kendo-grid k-options=\"vm.detailGridOptions(dataItem)\"></div>\n                    </div>\n                    <div>\n                        <ul class=\"contact-info-form\">\n                    \n                            <li><label>Name:</label> {{dataItem.items[0].advertiser.company}}</li>\n                            <!--<li><label>Address:</label>{{dataItem.items[0].advertiser.address}}</li>-->\n                            <li><label>Email:</label> {{dataItem.items[0].advertiser.email}}</li>\n                            <li><label>Phone:</label> {{dataItem.items[0].advertiser.phone}}</li>\n                        </ul>\n                    </div>\n                    </kendo-tab-strip>\n                </div>\n            </kendo-grid>\n\n          </div>\n          \n              \n            </div>\n\n            <div flex></div>\n          </md-content>\n              </section>\n        </md-content>\n      </md-tab>\n    </md-tabs>\n  </md-content>\n</div>\n<footer></footer>\n<script>\n        /*\n            This demo renders the grid in \"DejaVu Sans\" font family, which is\n            declared in kendo.common.css. It also declares the paths to the\n            fonts below using <tt>kendo.pdf.defineFont</tt>, because the\n            stylesheet is hosted on a different domain.\n        */\n        kendo.pdf.defineFont({\n            \"DejaVu Sans\"             : \"//kendo.cdn.telerik.com/2016.2.607/styles/fonts/DejaVu/DejaVuSans.ttf\",\n            \"DejaVu Sans|Bold\"        : \"//kendo.cdn.telerik.com/2016.2.607/styles/fonts/DejaVu/DejaVuSans-Bold.ttf\",\n            \"DejaVu Sans|Bold|Italic\" : \"//kendo.cdn.telerik.com/2016.2.607/styles/fonts/DejaVu/DejaVuSans-Oblique.ttf\",\n            \"DejaVu Sans|Italic\"      : \"//kendo.cdn.telerik.com/2016.2.607/styles/fonts/DejaVu/DejaVuSans-Oblique.ttf\"\n        });\n    </script>\n    <script type=\"text/x-kendo-template\" id=\"template\">\n        <div class=\"toolbar\">\n            <label class=\"category-label\" for=\"category\">Show products by category:</label>\n            <input type=\"search\" id=\"category\" style=\"width: 150px\"/>\n        </div>\n    </script>\n\n    <script type=\"x/kendo-template\" id=\"page-template\">\n      <div class=\"page-template\">\n        <div class=\"header\">\n          <div style=\"float: right\">Page #: pageNum # of #: totalPages #</div>\n          Bringing Back Life To The Advertising Industry\n        </div>\n        <div class=\"watermark\">MEDIABOX</div>\n        <div class=\"footer\">\n          Page #: pageNum # of #: totalPages #\n        </div>\n      </div>\n    </script>\n\n<script type=\"text/javascript\">\n$(function() {\n    $(\'input[name=\"daterange2\"]\').daterange2picker();\n});\n</script>\n");
$templateCache.put("app/checkout/checkout.html","<navbar></navbar>\n<md-card ng-if=\"checkout.payment.msg\">\n      <md-card-header style=\"background:pink\">\n          <md-card-header-text>\n            <h3 ng-if=\"\">Payment Failed </h3>\n            <span class=\"md-subhead\" >\n                <div ng-if=\"checkout.payment.id\">ID: {{checkout.payment.id}}</div>\n                <b>Error:</b> \n                    <div ng-repeat=\"m in checkout.payment.msg\">{{m.field}} {{m.issue}} </div>\n            </span>\n          </md-card-header-text>\n          \n      </md-card-header>\n</md-card>\n\n<div flex layout=\"column\" layout-gt-xs=\"row\" layout-align=\"center stretch\" class=\"checkout\">\n\n<md-card>\n      <md-card-header>\n          <md-card-header-text>\n            <h3>PROCESS ORDER</h3>\n            \n            <span class=\"md-subhead\" ></span>\n          </md-card-header-text>\n          \n      </md-card-header>\n      <md-card-content>\n  <div class=\"md-table-container\">\n      <form name=\"orderForm\" ng-submit=\"checkout.checkout(checkout.addr,checkout.options,true);\" novalidate>\n      \n	<table md-colresize=\"md-colresize\" class=\"md-table\" id=\"exportable\">\n		<tbody>\n\n			<tr class=\"md-table-content-row\" >\n				<td>Order Total:</td>\n			    <td>{{checkout.Cart.cart.getTotalPrice() | currency : checkout.Settings.currency.symbol}}</td>\n			</tr>\n            <tr class=\"md-table-content-row\">\n				<td>Handling Fee: </td>\n			    <td >\n                    {{checkout.Cart.cart.getHandlingFee()| currency : checkout.Settings.currency.symbol}}\n                </td>\n			</tr>\n            <tr class=\"md-table-content-row\">\n				<td>Total Amount:&nbsp;&nbsp;&nbsp;</td>\n			    <td>{{checkout.Cart.cart.getTotalPrice() + checkout.Cart.cart.getHandlingFee() - checkout.coupon.amount | currency : checkout.Settings.currency.symbol}}</td>\n			</tr>\n            <tr>\n                <td>&nbsp;</td>\n                <td>&nbsp;</td>\n            </tr>\n            <tr class=\"md-table-content-row\">\n\n				\n			    <td colspan=\"2\"><h4>Select Payment Method</h4>\n                       <div class=\"row\">\n                            <div class=\"col-md-6 short\">\n                                <div class=\"payment-logo\">\n                                  <img width=\"200px\"  height=\"60px\" data-ng-src=\"./assets/images/paypal-e9dccdb656.png\" alt=\"\">\n                                </div>\n                                <label class=\"payment-label\" for=\"r1\">\n                                                          \n                                    <div class=\"payment-selector\" id=\"isNotMasterCard\">\n                                        <input type=\"radio\" name=\"payment_method_id\"   ng-model=\"checkout.options.paymentMethod.name\" value=\"PayPal\" id=\"r1\"> \n                                    </div>\n                                    <span class=\"payment-type-name\">PayPal</span>\n                                                  \n                                                          \n                                </label>\n\n                            </div>\n                        <div class=\"col-md-6 short\">\n                            <div class=\"payment-logo\">\n                              <img width=\"200px\"  height=\"60px\" data-ng-src=\"./assets/images/paynow-e7bc602c34.png\" alt=\"\">\n                            </div>\n                              <label class=\"payment-label\" for=\"r1\">\n                                                          \n                                  <div class=\"payment-selector\" id=\"isNotMasterCard\">\n                                      <input type=\"radio\" name=\"payment_method_id\"   ng-model=\"checkout.options.paymentMethod.name\" value=\"PayNow\" id=\"r1\"> \n                                  </div>\n                                  <span class=\"payment-type-name\">PayNow</span>\n                                                  \n                                                          \n                             </label>\n                        </div>\n                       </div>\n                        <div class=\"row\">\n                        <div class=\"col-md-6 short\">\n                            <div class=\"payment-logo\">\n                              <img width=\"200px\"  height=\"60px\" data-ng-src=\"./assets/images/flocash-943b9bd0fd.png\" alt=\"\">\n                            </div>\n                           <label class=\"payment-label\" for=\"r1\">\n                                                      \n                                <div class=\"payment-selector\" id=\"isNotMasterCard\">\n                                    <!--<input type=\"radio\" name=\"payment_method_id\"   ng-model=\"checkout.options.paymentMethod.name\" value=\"FloCash\" id=\"r1\">--> \n                                </div>\n                                <span class=\"payment-type-name\">FloCash(coming soon)</span>\n                                              \n                                                      \n                              </label>\n                        </div>\n                        <div class=\"col-md-6 short\">\n                            <div class=\"payment-logo\">\n                              <img width=\"200px\"  height=\"60px\" data-ng-src=\"./assets/images/Stripe.png\" alt=\"\">\n                            </div>\n                            <label class=\"payment-label\" for=\"r1\">\n                                                        \n                                <div class=\"payment-selector\" id=\"isNotMasterCard\">\n                                   <!-- <input type=\"radio\" name=\"payment_method_id\"  ng-model=\"checkout.options.paymentMethod.name\"  value=\"Stripe\" id=\"r1\">--> \n                                </div>\n                                <span class=\"payment-type-name\">Stripe(coming soon)</span>\n                                                \n                                                        \n                            </label>\n                        </div>\n                       </div>\n                \n                    </div><div ng-messages=\"orderForm.paymentMethod.name.$error\" ng-if=\"orderForm.paymentMethod.name.$dirty\">\n                        <div ng-message=\"required\">Payment Method is required</div>\n                    </div>\n</td>\n			</tr>\n            <tr class=\"md-table-content-row\" ng-if=\"checkout.options.paymentMethod.name===\'Stripe\'\">\n				<td>Card No:</td>\n			    <td>\n                    <md-input-container md-is-error=\"(form.number.$error.required || form.number.$error.number) && form.number.$dirty\" md-no-float>\n                        <input name=\"number\" type=\"text\" ng-model=\"checkout.stripeToken.number\"\n                        placeholder=\"Credit Card Number\"\n                        autocomplete=\"off\"\n                        ng-minlength=\"16\"\n                        ng-maxlength=\"16\"/>\n                        <small class=\"errorMessage\" ng-show=\"orderForm.number.$dirty && orderForm.number.$invalid\"> Credit Card number is invalid.\n                        </small>\n                        <div ng-messages=\"orderForm.number.$error\" ng-if=\"orderForm.number.$dirty\">\n                            <div ng-message=\"required\">Number is required</div>\n                        </div>\n                    </md-input-container>\n                </td>\n			</tr>\n            <tr class=\"md-table-content-row\" ng-if=\"checkout.options.paymentMethod.name===\'Stripe\'\">\n				<td>CVC:</td>\n			    <td>\n                    <md-input-container md-is-error=\"(form.cvc.$error.required || form.cvc.$error.cvc) && form.cvc.$dirty\" md-no-float>\n                        <input name=\"cvc\" type=\"text\" ng-model=\"checkout.stripeToken.cvc\"\n                        placeholder=\"Credit Card CVC\"\n                        autocomplete=\"off\"\n                        ng-minlength=\"3\"\n                        ng-maxlength=\"3\"/>\n                        <small class=\"errorMessage\" ng-show=\"orderForm.cvc.$dirty && orderForm.cvc.$invalid\"> Credit Card cvc is invalid.\n                        </small>\n                        <div ng-messages=\"orderForm.cvc.$error\" ng-if=\"orderForm.cvc.$dirty\">\n                            <div ng-message=\"required\">CVC is required</div>\n                        </div>\n                    </md-input-container>\n                </td>\n			</tr>\n            <tr class=\"md-table-content-row\" ng-if=\"checkout.options.paymentMethod.name===\'Stripe\'\">\n				<td>Expiry Month:</td>\n			    <td>\n                    <md-input-container md-is-error=\"(form.exp_month.$error.required || form.exp_month.$error.exp_month) && form.exp_month.$dirty\" md-no-float>\n                        <input name=\"exp_month\" type=\"text\" ng-model=\"checkout.stripeToken.exp_month\"\n                        placeholder=\"Credit Card Expiry Month\"\n                        autocomplete=\"off\"\n                        ng-pattern=\"\'(0[1-9]|1[012])\'\" />\n                        <small class=\"errorMessage\" ng-show=\"orderForm.exp_month.$dirty && orderForm.exp_month.$invalid\"> Credit Card exp_month is invalid.\n                        </small>\n                        <div ng-messages=\"orderForm.exp_month.$error\" ng-if=\"orderForm.exp_month.$dirty\">\n                            <div ng-message=\"required\">Expiry Month is required</div>\n                        </div>\n                    </md-input-container>\n                </td>\n			</tr>\n            <tr class=\"md-table-content-row\" ng-if=\"checkout.options.paymentMethod.name===\'Stripe\'\">\n				<td>Expiry Year:</td>\n			    <td>\n                    <md-input-container md-is-error=\"(form.exp_year.$error.required || form.exp_year.$error.exp_year) && form.exp_year.$dirty\" md-no-float>\n                        <input name=\"exp_year\" type=\"text\" ng-model=\"checkout.stripeToken.exp_year\"\n                        placeholder=\"Credit Card Expiry Month\"\n                        autocomplete=\"off\"\n                        ng-pattern=\"\'^(20)\\\\d{2}$\'\"/>\n                        <small class=\"errorMessage\" ng-show=\"orderForm.exp_year.$dirty && orderForm.exp_year.$invalid\"> Credit Card exp_year is invalid.\n                        </small>\n                        <div ng-messages=\"orderForm.exp_year.$error\" ng-if=\"orderForm.exp_year.$dirty\">\n                            <div ng-message=\"required\">Expiry Year is required</div>\n                        </div>\n                    </md-input-container>\n                </td>\n			</tr>\n            <tr class=\"md-table-content-row\">\n	\n				<td><h3>Discount Coupon:</h3></td>\n			    <td>\n                    <md-input-container md-is-error=\"(form.name.$error.required || form.name.$error.name) && form.name.$dirty\" md-no-float>\n                        <input name=\"coupon\" type=\"text\" ng-model=\"checkout.options.coupon\" ng-change=\"checkout.checkCoupon(checkout.options.coupon, checkout.Cart.cart.getTotalPrice())\"\n                        placeholder=\"Discount Coupon\"\n                        autocomplete=\"off\"/>\n                        <span class=\"text-muted text-success\" ng-if=\"checkout.coupon.code\">{{checkout.coupon.type}} of {{checkout.coupon.amount | currency : checkout.Settings.currency.symbol}} was applied to the cart</span>\n                        <small class=\"errorMessage\" ng-show=\"orderForm.coupon.$dirty && orderForm.coupon.$invalid\"> Discount coupon was expired.\n                        </small>\n                        <div ng-messages=\"orderForm.coupon.$error\" ng-if=\"orderForm.coupon.$dirty\">\n                            <div ng-message=\"required\">Coupon is expired</div>\n                        </div>\n                    </md-input-container>\n                    <input type=\"hidden\" ng-model=\"checkout.cartValid\" validate-cart>\n                    <div class=\"hidden\">{{orderForm.$valid = !(vm.shipping.best[\'charge\'] === undefined)}}</div>\n                </td>\n			</tr>\n		</tbody>\n\n	</table>\n      <br/>\n\n    <div layout=\"column\" layout-align=\"center stretch\">\n        <md-button type=\"submit\" class=\"md-raised circular-progress-button md-primary\" \n        ng-disabled=\"orderForm.number.$invalid || orderForm.exp_month.$invalid || orderForm.exp_year.$invalid || orderForm.cvc.$invalid || checkout.loading || checkout.Cart.cart.getTotalPrice()===0 || !checkout.addr\" aria-label=\"Place Order\" layout=\"row\" layout-align=\"center center\"> \n            <div flex></div>\n            <ng-md-icon icon=\"local_shipping\" ng-hide=\"checkout.loading\"></ng-md-icon>\n            <md-progress-circular md-mode=\"indeterminate\" md-diameter=\"25\" ng-show=\"checkout.loading\" class=\"md-accent md-hue-1\"></md-progress-circular>\n            <span>&nbsp;Place Order</span>\n            <div flex></div>\n        </md-button>\n    </div>\n\n	</form>\n</div>\n</md-card-content>\n</md-card>\n\n<div layout=\"column\" layout-gt-sm=\"row\">\n<!--Address box-->\n\n<md-card ng-show=\"checkout.showAddressForm\">\n    <md-card-content>\n	<p ng-show=\"checkout.error\" class=\"md-warn\">{{checkout.error.message}}</p>\n	<h3>SELECTED ADDRESS</h3>\n	<form name=\"form\" ng-submit=\"checkout.saveAddress(checkout.addr);new.address=false;checkout.addr = checkout.address[0];\" novalidate layout=\"column\">\n		<md-input-container md-is-error=\"(form.name.$error.required || form.name.$error.name) && form.name.$dirty\">\n			<label>Company Name</label>\n			<input name=\"name\" type=\"name\" ng-model=\"checkout.addr.name\" required autofocus>\n			<div ng-messages=\"form.name.$error\" ng-if=\"form.name.$dirty\">\n				<div ng-message=\"required\">Company Name is required</div>\n			</div>\n		</md-input-container>\n        \n        <md-input-container md-is-error=\"(form.addr.$error.required || form.addr.$error.addr) && form.addr.$dirty\">\n			<label>Company Address</label>\n			<input name=\"address\" type=\"address\" ng-model=\"checkout.addr.address\" required/>\n			<div ng-messages=\"form.address.$error\" ng-if=\"form.address.$dirty\">\n				<div ng-message=\"required\">Address is required</div>\n			</div>\n		</md-input-container>\n        \n        <md-input-container md-is-error=\"(form.city.$error.required || form.city.$error.city) && form.city.$dirty\">\n			<label>City</label>\n			<input name=\"city\" type=\"city\" ng-model=\"checkout.addr.city\" required/>\n			<div ng-messages=\"form.city.$error\" ng-if=\"form.city.$dirty\">\n				<div ng-message=\"required\">City is required</div>\n			</div>\n		</md-input-container>\n\n        <md-input-container md-is-error=\"(form.zip.$error.required || form.zip.$error.zip) && form.zip.$dirty\">\n			<label>Zip</label>\n			<input name=\"zip\" type=\"zip\" ng-model=\"checkout.addr.zip\" required only-numbers/>\n			<div ng-messages=\"form.zip.$error\" ng-if=\"form.zip.$dirty\">\n				<div ng-message=\"required\">Zip code is required</div>\n			</div>\n		</md-input-container>\n        \n        <md-input-container md-is-error=\"(form.state.$error.required || form.state.$error.state) && form.state.$dirty\">\n			<label>State</label>\n			<input name=\"state\" type=\"state\" ng-model=\"checkout.addr.state\" required/>\n			<div ng-messages=\"form.state.$error\" ng-if=\"form.state.$dirty\">\n				<div ng-message=\"required\">State is required</div>\n			</div>\n		</md-input-container>\n        \n        <md-input-container md-is-error=\"(form.phone.$error.required || form.phone.$error.phone) && form.phone.$dirty\">\n			<label>Phone</label>\n			<input name=\"phone\" type=\"phone\" ng-model=\"checkout.addr.phone\" required/>\n			<div ng-messages=\"form.phone.$error\" ng-if=\"form.phone.$dirty\">\n				<div ng-message=\"required\">Phone number is required</div>\n			</div>\n		</md-input-container>\n\n        <!--<md-input-container md-is-error=\"(form.country.$error.required || form.country.$error.country) && form.country.$dirty\">\n            <label>Country</label>\n            <input ng-model=\"checkout.addr.country\" ng-value=\"checkout.Settings.country.name\" disabled/>\n            <div ng-messages=\"form.country.$error\" ng-if=\"form.country.$dirty\">\n				<div ng-message=\"required\">Country required</div>\n			</div>\n		</md-input-container>-->\n        <div layout=\"row\">\n            <md-button type=\"submit\" class=\"md-raised md-primary\" \n            ng-disabled=\"!form.$valid || checkout.loadingAddress\" aria-label=\"Save Address\" layout=\"row\">\n                <ng-md-icon icon=\"save\" ng-hide=\"checkout.loadingAddress\"></ng-md-icon>\n                <md-progress-circular md-mode=\"indeterminate\" md-diameter=\"25\" ng-show=\"checkout.loadingAddress\" class=\"md-accent md-hue-1\"></md-progress-circular>\n                Save <span hide show-gt-xs>as Primary Address</span>\n            </md-button>\n            <md-button ng-click=\"checkout.cancelForm(checkout.addr);new.address=false;\">Cancel</md-button>\n	   </div>\n       </form>\n    </md-card-content>\n</md-card>\n<div layout=\"column\">\n<md-button class=\"md-raised\" ng-click=\"checkout.addressForm(true);checkout.new.address=true; checkout.addr={country: checkout.Settings.country.name}\">\n    <ng-md-icon icon=\"location_on\"></ng-md-icon>Add New Address\n</md-button>\n\n<md-card  \nng-repeat=\"a in checkout.address\" \nng-click=\"new.address=false; checkout.addressForm(true);checkout.switchAddress(a)\" \nstyle=\"min-width:300px\" \nng-class=\"{\'selected\':(a==checkout.addr)} \"\n>\n      <md-card-header layout=\"row\" layout-align=\"space-between start\">\n          <md-card-header-text>\n            <h3>BILLING ADDRESS - {{$index+1}}</h3>\n          </md-card-header-text>\n          	<div>\n				  <md-button ng-click=\"checkout.delete(a)\" aria-label=\"Delete Address\"><ng-md-icon icon=\"delete\"></ng-md-icon></md-button>  \n			</div>				  \n      </md-card-header>\n	  \n      <md-card-content layout=\"column\" layout-align=\"start start\">\n			{{a.name}}<br/>\n            {{a.address}}<br/>\n            {{a.city}}<br/>\n            {{a.state}}<br/>\n            {{a.zip}}<br/>\n            {{a.phone}}\n      </md-card-content>\n      \n</md-card>\n</div><!--Address box-->\n</div>\n\n\n</div>\n<footer></footer>\n");
$templateCache.put("app/cart/cart.html","<navbar leftmenu=\"true\"></navbar>\n<left-menu></left-menu>\n<md-content  class=\"container \" layout=\"column\">\n<section class=\"header\" layout=\"column\" >\n<div class=\"col-sm-12 \">\n<div class=\"box\">\n<div class=\"row\">\n  <div  class=\"col-xs-3 stats-graph\">\n   <md-input-container>\n    <label>Campaign Name</label>\n     <input   value=\"{{vm.cart.campaignName}}\" ng-model= \"vm.cart.campaignName\"\\>\n      </md-input-container>\n  \n  </div>\n  <div  class=\"col-xs-6 stats-graph\">\n  <h4 class=\"section-header\"></h4>\n      <div class=\"row\">\n        <div class\"col-md-12\">\n          <md-input-container>\n              <label>Campaign Objective</label>\n              <textarea name=\"objectives\" cols=\"50\" rows=\"2\" ng-model=\"vm.cart.objectives\" md-maxlength=\"150\"></textarea>\n              <div ng-messages=\"userForm.bio.$error\" ng-show=\"userForm.bio.$dirty\">\n                <div ng-message=\"required\">This is required!</div>\n                <div ng-message=\"md-maxlength\">That\'s too long!</div>\n              </div>\n            </md-input-container>\n        </div>\n       \n      </div>\n  \n  </div>\n \n  <div id=\"totalContainer\" class=\"col-xs-3 stats-graph\">\n      <h4 class=\"section-header\">Total Spend</h4>\n        {{vm.cart.getTotalPrice() | currency}} - ({{vm.cart.getTotalCount()}} items)\n</div>\n     \n  </div>\n</div>\n\n</div>\n</section>\n  <section class=\"header\" layout=\"column\" padding>\n   \n   <div>\n              <p>\n\n                    <div >\n                    <div class=\"actions-continue\">                   \n\n                        <input type=\"text\" placeholder=\"Filter ...\" class=\"form-control col-md-4\" style=\"width:250px;margin-left:20px;\" ng-model=\"filterCart\" autofocus/>\n\n                         <button value=\"Proceed to Checkout \" name=\"proceed\" class=\"btn btn-danger pull-right\" ng-click=\"cart.createCampaign(vm.cart);\" ng-disabled=\"vm.cart.getTotalCount() <= 0\" >Create Campaign </button>\n\n          \n\n                        <div class=\"clearfix\"></div>\n                    </div><br/>\n\n                    <table class=\"cart table table-striped\">\n                        <thead>\n                            <tr>\n                                <th>#</th>\n                                <th>Publisher</th>\n                                <th>Media Option </th>\n                                <th>Start and End Date</th>\n                                <th style=\"width: 150px\">Upload Advert</th>\n                                <th>Price</th>\n                                <th >Inserts</th>\n                                <th>Total</th>\n                                <th>Remove</th>\n                            </tr>\n                        </thead>\n                        <tbody>\n                            <!-- empty cart message -->\n                            <tr ng-hide=\"vm.cart.getTotalCount() > 0\" >\n                                <td class=\"tdCenter\" colspan=\"7\">\n                                    Your MediaCart is empty. &nbsp;&nbsp;<a class=\"btn btn-primary\" href=\"/\" ng-click=\"vm.cancel();\">Build Campaign</a>\n                                </td>\n                            </tr>\n\n                            <tr ng-repeat=\"item in vm.cart.items track by $index \">\n                                <td>{{$index+1}}</td>\n                                <td class=\"product-thumbnail\">\n                                       {{item.publisher}}<br>\n                                    <a>\n                                        <img data-ng-src=\"data:image/png;base64,{{item.image}}\"  alt=\"{{item.publisher}}\" style=\"width: 100px;\">\n                                    </a>\n\n\n                                </td>\n\n                                                                \n                                  <td class=\"product-name\">\n                                  {{item.name}}\n                                </td>\n                                <td class=\"product-name\">\n                                  \n                                <div class=\"col-md-12 demo\">\n                                  \n                                  <div class=\"form-group has-feedback\">\n                                    <label class=\"control-label\">&nbsp;</label>\n                                    <input type=\"text\" class=\"form-control\"  id=\"config-demo\" name=\"daterange\" value=\"\" ng-model=\"item.category\" placeholder=\"Start and End Date\" />\n                                    <i class=\"glyphicon glyphicon-calendar form-control-feedback\"></i>\n                                  </div>\n                                 \n                                </td>\n                                <td>\n                                <md-input-container flex>\n                                <img  style=\"width: 100px;\" ng-src=\"{{item.creative}}\"  err-SRC=\"/assets/images/material-shop-e3ca5c21c4.jpg\">\n                               </md-input-container>\n                                <div ng-hide=\"item.creative\">\n                                 <button  class=\"btn btn-danger\" ng-hide=\"isAdmin()\" ng-click=\"cart.mediaLibrary($index)\"><i class=\"fa fa-image\"></i><span class=\"glyphicon glyphicon-upload\"></span></button>\n\n                                </div>\n\n                                <div ng-show=\"item.creative\">\n                                   <button  class=\"btn btn-success\" ng-hide=\"isAdmin()\" ng-click=\"cart.mediaLibrary($index)\"><i class=\"fa fa-image\"></i><span class=\"glyphicon glyphicon-upload\"></span></button>\n                                </div>\n\n                                  \n                                 \n                                  \n                                </td>\n\n                                <td>{{item.price | currency}}</td>\n\n                                <td >\n                                   \n                                \n                                \n                                <md-button class=\"md-raised md-primary small-button md-icon-button\" ng-click=\"vm.cart.addItem({sku:item.sku, name:item.name, slug:item.slug, mrp:item.mrp, price:item.price, weight:item.weight, vid:item.vid}, +1)\" aria-label=\"Add to cart\">\n                                          <ng-md-icon icon=\"add\"></ng-md-icon>\n                                </md-button>\n                                <div class=\"md-raised\"  ng-disabled=\"true\" aria-label=\"Cart quantity\">{{vm.cart.getQuantity(item.sku, item.vid)}}</div>\n                                 <md-button class=\"md-raised md-primary small-button md-icon-button\" \n                                      ng-click=\"vm.cart.addItem({sku:item.sku, name:item.name, slug:item.slug, mrp:item.mrp, price:item.price, weight:item.weight, vid:item.vid}, -1)\" \n                                      aria-label=\"Remove from cart\">\n                                          <ng-md-icon icon=\"remove\"></ng-md-icon>\n                                          </md-button>\n                                </td>\n\n                                <td><span><strong>{{item.price * item.quantity | currency}}</strong></span></td>\n\n                                <td class=\"product-actions\">\n                                    <a aria-label=\"Remove {{item.name}} from cart\" ng-click=\"vm.cart.addItem({sku:item.sku, vid: item.vid}, -10000000);\">\n                <ng-md-icon icon=\"close\" aria-label=\"Close dialog\"></ng-md-icon>\n            </a>\n                                </td>\n                            </tr>\n                        </tbody>\n                    </table>\n                </div>\n\n                  <hr>\n               \n          </div>\n   \n  </md-content>\n  </section>\n</md-content>\n<footer></footer>\n\n<script type=\"text/javascript\">\n$(function() {\n    $(\'input[name=\"daterange\"]\').daterangepicker();\n});\n</script>");
$templateCache.put("app/cart/media-library.html","<md-dialog aria-label=\"Media Library\" ng-cloak flex=\"95\">\n  <md-toolbar class=\"md-warn\">\n    <div class=\"md-toolbar-tools\">\n      <h2>Media Library</h2>\n      <span flex></span>\n      <md-button class=\"md-icon-button\" ng-click=\"cancel()\">\n        <ng-md-icon icon=\"close\" aria-label=\"Close dialog\"></ng-md-icon>\n      </md-button>\n    </div>\n  </md-toolbar>\n\n  <md-dialog-content>\n      <div class=\"md-dialog-content\"  class=\"md-whiteframe-z2\">\n          <md-grid-list class=\"media-list\" md-cols-xs =\"3\" md-cols-sm=\"4\" md-cols-md=\"5\" md-cols-lg=\"7\" md-cols-gt-lg=\"10\" md-row-height-gt-md=\"1:1\" md-row-height=\"4:3\" md-gutter=\"12px\" md-gutter-gt-sm=\"8px\" layout=\"row\" layout-align=\"center center\">\n            <md-grid-tile ng-repeat=\"i in media\" class=\"md-whiteframe-z2\" ng-click=\"ok(i.path)\">\n          		<div class=\"thumbnail\">\n          				<img ng-src=\"{{i.path}}\" draggable=\"false\" alt=\"{{i.name}}\">\n          		</div>\n              <md-grid-tile-footer><h3>{{i.name}}</h3></md-grid-tile-footer>\n            </md-grid-tile>\n          </md-grid-list>\n    </div>\n  </md-dialog-content>\n  <md-dialog-actions layout=\"row\">\n    <span flex></span>\n    <md-button ng-click=\"addNewImage()\" class=\"md-warn md-raised\">\n     Add new Image\n    </md-button>\n  </md-dialog-actions>\n</md-dialog>\n");
$templateCache.put("app/category/detail.html","<md-toolbar class=\"md-hue-1\" id=\"user-detail-toolbar\">\n	<span layout=\"row\" layout-align=\"space-between\" class=\"md-toolbar-tools md-toolbar-tools-top\">\n		<md-button ng-click=\"detail.goBack();\" aria-label=\"Close detail view\">\n			<ng-md-icon icon=\"close\" aria-label=\"Close dialog\"></ng-md-icon>\n		</md-button>\n		<h3>Edit {{detail.header | labelCase}} - {{detail.category._id}}</h3>\n		<md-button aria-label=\"-\">\n		</md-button>\n	</span>\n</md-toolbar>\n\n<md-content class=\"md-padding\" flex layout-fill ng-cloak id=\"user-detail-content\">\n  <section layout=\"column\">\n      <span layout=\"row\">\n        <md-input-container flex>\n          <label>Name</label>\n          <input name=\"name\" ng-model=\"detail.category.name\" md-autofocus>\n        </md-input-container>\n\n        <md-input-container flex>\n          <label>Slug</label>\n          <input name=\"slug\" ng-model=\"detail.category.slug\"/>\n        </md-input-container>\n        <md-input-container flex>\n          <label>Category</label>\n          <input name=\"category\" ng-model=\"detail.category.category\"/>\n        </md-input-container>\n      </span>\n  </section>\n	<section class=\"section\" layout=\"row\">\n<form name=\"form\" layout=\"column\" layout-fill layout-align=\"space-between\" ng-submit=\"detail.save(detail.cat);\" novalidate autocomplete=\"off\">\n		<span layout=\"column\" layout-sm=\"column\">\n		  <md-content>\n			    <section>\n			      <md-subheader class=\"md-accent\">Sub Categories </md-subheader>\n\n						<table md-colresize=\"md-colresize\" class=\"md-table\" id=\"exportable\">\n							<thead>\n								<tr class=\"md-table-headers-row\">\n									<th class=\"md-table-header\">#</th>\n									<th class=\"md-table-header\">Name</th>\n									<th class=\"md-table-header\">Active</th>\n									<th class=\"md-table-header\"></th>\n								</tr>\n							</thead>\n\n							<tbody>\n								<tr ng-repeat=\"v in detail.category.child track by $index\" id=\"{{v._id}}\"\n										class=\"md-table-content-row\"\n										ng-class=\"{\'selected\': detail.isSelected(v)}\">\n									<td>{{$index+1}}</td>\n									<td>\n										<md-input-container flex>\n											<input name=\"name\" ng-model=\"v.name\" aria-label=\"Name\"/>\n										</md-input-container>\n									</td>\n                  <td>\n										<md-input-container flex>\n											<md-switch class=\"md-secondary\" ng-model=\"v.active\" aria-label=\"Activate Category\"></md-switch>\n										</md-input-container>\n									</td>\n									<td>\n										<md-button class=\"md-icon-button\" aria-label=\"Delete Feature\"   ng-click=\"detail.deleteVariants($index,cat);\"><ng-md-icon icon=\"delete\"></ng-md-icon></md-button>\n									</td>\n								</tr>\n								<tr class=\"md-table-content-row\"\n										ng-class=\"{\'selected\': detail.isSelected(p)}\">\n									<td>{{$index}}</td>\n									<td>\n										<md-input-container flex>\n											<input name=\"name\" ng-model=\"detail.category.newSubCat.name\" aria-label=\"Variant Weight\" placeholder=\"New Name\"/>\n										</md-input-container>\n									</td>\n									<td>\n									</td>\n								</tr>\n							</tbody>\n			      </table>\n			    </section>\n\n			  </md-content>\n\n		<md-dialog-actions layout=\"row\">\n			<span flex></span>\n			<md-button ng-disabled=\"detailForm.$invalid\" type=\"submit\" class=\"md-primary md-raised\" aria-label=\"Save changes\">Save</md-button>\n		</md-dialog-actions>\n		</form>\n\n	</section>\n\n	<section class=\"section\" layout=\"column\" ng-hide=\"detail.isRoot\">\n\n		<span class=\"section-title\">Record Information</span>\n		<span layout=\"row\" layout-sm=\"column\" class=\"detail-info\">\n			<span flex=\"45\">Modified</span>\n			<span flex ng-show=\"detail.category.updatedAt\" class=\"subtitle\">\n				<span am-time-ago=\"detail.category.updatedAt\"></span>\n				<md-tooltip>{{detail.category.updatedAt | date:\'dd. MMMM yyyy H:mm\'}}</md-tooltip>\n				{{detail.category.modifiedBy && \'by \' + detail.category.modifiedBy}}\n			</span>\n		</span>\n\n		<span layout=\"row\" layout-sm=\"column\" class=\"detail-info\">\n			<span flex=\"45\">Created</span>\n			<span flex ng-show=\"detail.category.createdAt\" class=\"subtitle\">{{detail.category.createdAt | date:\'dd. MMMM yyyy H:mm\'}}</span>\n		</span>\n\n	</section>\n\n</md-content>\n\n<md-button class=\"md-fab md-accent md-fab-bottom-right fab-overlap md-button ng-scope md-blue-theme\" aria-label=\"Save Category\" ng-if=\"form.$dirty\" ng-click=\"detail.save(detail.cat);\">\n	<ng-md-icon icon=\"save\"></ng-md-icon>\n</md-button>\n");
$templateCache.put("app/category/list.html","<style>\n	.b { flex: 1; text-align: center; }\n	.pull-right{\n		margin-left:auto;\n	}\n</style>\n<md-progress-linear md-mode=\"indeterminate\" ng-show=\"list.loading\"></md-progress-linear>\n\n<!-- Nested node template -->\n<script type=\"text/ng-template\" id=\"nodes_renderer.html\">\n  <div ui-tree-handle class=\"tree-node tree-node-content\" layout=\"row\">\n    <a class=\"btn btn-success btn-xs\" ng-if=\"node.child && node.child.length > 0\" data-nodrag ng-click=\"list.toggle(this)\">\n      <ng-md-icon icon=\"chevron_right\" ng-if=\"collapsed\"></ng-md-icon>\n      <ng-md-icon icon=\"expand_more\" ng-if=\"!collapsed\"></ng-md-icon>\n    </a>\n    <div flex>{{node.name}}</div>\n		<a class=\"pull-right btn btn-danger btn-xs\" data-nodrag ng-click=\"list.remove(this,node)\">\n			<ng-md-icon icon=\"delete\"></ng-md-icon>\n		</a>\n  </div>\n  <ol ui-tree-nodes=\"\" ng-model=\"node.child\" ng-class=\"{hidden: collapsed}\">\n    <li ng-repeat=\"node in node.child\" ui-tree-node ng-include=\"\'nodes_renderer.html\'\" ng-show=\"visible(node)\">\n    </li>\n  </ol>\n</script>\n\n\n <!-- Add div For infinite scroll -->\n	<md-card infinite-scroll=\'list.loadMore()\' infinite-scroll-disabled=\'list.busy\' infinite-scroll-distance=\'1\'>\n		<md-toolbar class=\"md-table-toolbar md-default\" aria-hidden=\"false\"\n		ng-hide=\"list.selected.length || filter.show || list.data.search\">\n      <div class=\"md-toolbar-tools\">\n				<h2 class=\"md-title\">List of Categories</h2>\n			  <div flex></div>\n\n\n				<form layout layout-align=\"center\" layout-padding ng-submit=\"list.addTab(category)\" class=\"categoryAddForm\">\n					<div layout=\"row\" flex>\n							<md-input-container class=\"md-block\" layout=\"row\" layout-align=\"center end\">\n							<label >Add New Category</label>\n							<input type=\"text\" ng-model=\"category.name\">\n						</md-input-container>\n							<div>\n								<md-button class=\"md-primary md-raised\" ng-disabled=\"!category\" type=\"submit\">Add</md-button>\n							</div>\n					</div>  \n			</form>\n\n			  <md-button tabindex=\"0\" ng-click=\"filter.show = true;\" class=\"md-icon-button md-button md-default-theme\" ng-show=\"!list.no.filter\"\n				aria-label=\"Open filter box for {{list.header}}s table\">\n			    <ng-md-icon icon=\"filter_list\"></ng-md-icon>\n			  </md-button>\n				<md-menu md-position-mode=\"target-right target\" ng-if=\"!list.no.export\">\n	      <md-button aria-label=\"Open options menu\" class=\"md-icon-button\" ng-click=\"list.openMenu($mdOpenMenu, $event)\">\n	        <ng-md-icon icon=\"inbox\"></ng-md-icon>\n	      </md-button>\n	      <md-menu-content width=\"4\">\n	        <md-menu-item>\n	          <md-button\n							ng-click=\"list.exportData(\'xls\');\"\n							aria-label=\"Export {{list.header}}s table as Excel\">\n	            <ng-md-icon icon=\"receipt\"></ng-md-icon>\n	            Excel\n	          </md-button>\n	        </md-menu-item>\n					<md-menu-divider></md-menu-divider>\n	        <md-menu-item>\n	          <md-button ng-click=\"list.exportData(\'json\');\" aria-label=\"Export {{list.header}}s table in JSON format\">\n	            <ng-md-icon icon=\"account_balance_wallet\"></ng-md-icon>\n	            JSON\n	          </md-button>\n	        </md-menu-item>\n	        <md-menu-divider></md-menu-divider>\n	        <md-menu-item>\n	          <md-button ng-click=\"list.exportData(\'txt\');\" aria-label=\"Export {{list.header}}s table in Text format\">\n	            <ng-md-icon icon=\"text_format\"></ng-md-icon>\n	            Text\n	          </md-button>\n	        </md-menu-item>\n	        <md-menu-divider></md-menu-divider>\n\n	      </md-menu-content>\n	    </md-menu>\n      </div>\n    </md-toolbar>\n\n		<md-toolbar class=\"md-table-toolbar md-default\"\n			ng-show=\"filter.show || list.data.search\"\n			aria-hidden=\"false\">\n      <div class=\"md-toolbar-tools\">\n				<ng-md-icon icon=\"search\"></ng-md-icon>\n				<md-input-container flex class=\"mgt30\">\n		      <label>Filter {{list.header}}</label>\n		      <input ng-model=\"list.data.search\" focus-me=\"filter.show\" ng-change=\"findNodes()\">\n		    </md-input-container>\n				<ng-md-icon icon=\"close\" ng-click=\"filter.show = false; list.data.search = \'\';\" class=\"link\"></ng-md-icon>\n			</div>\n		</md-toolbar>\n\n<div layout=\"row\">\n    <div ui-tree=\"treeOptions\" id=\"tree-root\" flex>\n      <ol ui-tree-nodes=\"\" ng-model=\"list.data\">\n        <li ng-repeat=\"node in list.data\" ui-tree-node ng-include=\"\'nodes_renderer.html\'\" ng-show=\"visible(node)\">{{node}}</li>\n      </ol>\n    </div>\n</div>\n\n<a id=\"bottom\"></a><!--When a new category added, page should scroll to this point-->\n \n <div class=\"md-table-pagination\">\n		<span>Filtered {{filtered.length}} of {{list.data.length}} {{list.header}}s</span>\n	</div>\n</md-card>\n\n<md-card ng-if=\"!list.data.length && !list.loading\">\n	  <md-card-content>\n	    <h2>No {{list.header | labelCase}}s found</h2>\n	    <p class=\"mgl\" hide-xs>\n				There are no {{list.header | labelCase}}s!\n	      <a ng-click=\"main.create();\" href=\"\">Create one!</a>\n	    </p>\n	    <p hide-gt-xs>\n				There are no {{list.header | labelCase}}s!\n	      <a ng-click=\"main.create();\" href=\"\">Create one!</a>\n	    </p>\n	  </md-card-content>\n	</md-card>\n");
$templateCache.put("app/category/main.html","<navbar leftmenu=\"true\"></navbar>\n<left-menu></left-menu>\n<md-content flex layout=\"column\" class=\"content\">\n<section layout=\"row\">\n\n		<div ui-view=\"content\" layout=\"column\" flex></div>\n\n		<md-content\n			ui-view=\"detail\"\n			id=\"detail-content\"\n			toggle-component\n			md-component-id=\"categories.detailView\"\n			layout=\"column\"\n			flex-xs=\"100\"\n			flex-sm = \"90\"\n			flex-md=\"90\"\n			flex-lg=\"50\"\n			flex-gt-lg=\"50\"\n			class=\"md-whiteframe-z1\">\n		</md-content>\n</section>\n</md-content>\n<footer></footer>\n");
$templateCache.put("app/contact/contact.html","<crud-table api=\'contact\' options=\'options\'></crud-table>\n");
$templateCache.put("app/country/country.html","<crud-table api=\'country\' options=\'options\'></crud-table>\n");
$templateCache.put("app/customer/customer.html","<crud-table api=\'customer\' options=\'options\'></crud-table>\n");
$templateCache.put("app/coupon/coupon.html","<crud-table api=\'coupon\' options=\'options\'></crud-table>\n");
$templateCache.put("app/dashboard/dashboard.html","<navbar leftmenu=\"true\"></navbar>\n<left-menu></left-menu>\n<div layout-align=\"start center\" layout=\"column\">\n<h2 class=\"md-title\">Examples</h2>\n</div>\n<md-grid-list class=\"things-list\" md-cols-xs =\"1\" md-cols-sm=\"2\" md-cols-md=\"3\" md-cols-lg=\"5\" md-cols-gt-lg=\"5\" md-row-height-gt-md=\"1:1\" md-row-height=\"4:3\" md-gutter=\"12px\" md-gutter-gt-sm=\"8px\" layout=\"row\" layout-align=\"center center\">\n  <md-grid-tile ng-repeat=\"p in dashboard.pages\" ng-class=\"dashboard.getColor($index)\" class=\"md-whiteframe-z2\" ui-sref=\"{{p.url}}\">\n    <ng-md-icon icon=\"{{p.icon}}\" size=\"128\"></ng-md-icon>\n    <md-grid-tile-footer><h3>{{p.text}}</h3></md-grid-tile-footer>\n  </md-grid-tile>\n</md-grid-list>\n<footer></footer>\n");
$templateCache.put("app/main/campaign.html","<navbar leftmenu=\"true\"></navbar>\r\n<left-menu></left-menu>\r\n\r\n<md-content class=\"content md-padding\" layout=\"column\" layout-align=\"start center\">\r\n      <section ng-if=\"campaign.campaigns.length >0\" class=\"header\" layout=\"column\" layout-align=\"center center\">\r\n        <h1>Your Campaigns</h1>\r\n        <md-input-container flex>\r\n          <label>Search Campaigns</label>\r\n          <input name=\"search\" type=\"text\" ng-model=\"campaign.search\" md-autofocus/>\r\n        </md-input-container>\r\n      </section>\r\n\r\n      <!--When No Campaigns-->\r\n      <section ng-if=\"campaign.Campaigns.length===0\" class=\"header\" layout=\"column\" layout-align=\"center stretch\">\r\n        <h1>You have not run anything yet .Start using Mediabox to launch advertising campaigns anywhere .No back and forth</h1>\r\n        <md-button ui-sref=\"/\" class=\"md-primary md-raised\">\r\n        <ng-md-icon icon=\"shopping_cart\"></ng-md-icon>Start Now\r\n\r\n        </md-buton>\r\n      </section>\r\n\r\n  <section layout=\"column\" class=\"campaigns\">\r\n  <md-card ng-repeat=\"o in campaign.campaigns | orderBy : \'campaignDate\' : \'reverse\' | filter:order.search\">\r\n      <md-card-header>\r\n          <md-card-header-text>\r\n            <span class=\"\">Campaign PLACED</span>\r\n            <span class=\"md-subhead\">{{o.created_at | amCalendar}}</span>\r\n          </md-card-header-text>\r\n          <md-card-header-text>\r\n            <span class=\"\">TOTAL</span>\r\n            <span class=\"md-subhead\">{{o.amount.total | localPrice}}</span>\r\n          </md-card-header-text>\r\n          <md-card-header-text hide show-gt-sm>\r\n            <span class=\"\">SHIP TO</span>\r\n            <span class=\"md-subhead\">{{o.address.recipient_name}}</span>\r\n          </md-card-header-text>\r\n          <md-card-header-text>\r\n            <span class=\"\">Campaign # </span>\r\n            <span class=\"md-subhead\">{{o.campaignNo}}</span>\r\n          </md-card-header-text>\r\n      </md-card-header>\r\n      <md-card-content layout=\"column\" layout-gt-sm=\"row\" layout-align=\"space-between\">\r\n          <md-list flex=40>\r\n            <div layout=\"row\" ng-repeat=\"i in o.items\">\r\n              <md-card-avatar>\r\n                  <img ng-src=\"{{i.url}}\" err-SRC=\"/assets/images/150x150-02a04eb9d5.png\" alt=\"{{i.name}}\" width=\"100px\" hide show-gt-xs>\r\n              </md-card-avatar>\r\n              <div class=\"content\">\r\n              <a >{{i.name}}</a><br/><br/>\r\n              <b>Amount:&nbsp;&nbsp;</b> {{i.price | currency}} * {{i.quantity}}&nbsp;=&nbsp;{{i.price * i.quantity | currency}}\r\n              \r\n              <br/>\r\n                <cart-buttons variant=\"i\" product=\"o\">\r\n              </div>\r\n            </div>\r\n          </md-list>\r\n            <md-list class=\"campaign-address\" flex=30>\r\n                  <ng-md-icon icon=\"local_shipping\"></ng-md-icon>&nbsp;Status\r\n                  <hr>\r\n                \r\n                  <p class=\"md-subhead\">Campaign Status: &nbsp;{{o.status}}</p>\r\n                  \r\n           </md-list>\r\n      </md-card-content>\r\n  </md-card>\r\n  </section>\r\n</md-content>\r\n<footer></footer>\r\n");
$templateCache.put("app/main/filter-menu.html","<md-sidenav ng-cloak md-is-locked-open=\"$mdMedia(\'gt-md\')\" md-component-id=\"filtermenu\" class=\"filter-menu\">\n    <md-content>\n        <form>\n\n        <div layout-align=\"space-between top\" class=\"md-whiteframe-z1\" layout-padding>\n            <md-card >\n                <h4>Price Range</h4>\n            <md-content>\n                <rzslider \n                rz-slider-model=\"main.priceSlider.min\"\n                rz-slider-high=\"main.priceSlider.max\" \n                rz-slider-options=\"main.priceSlider.options\"\n                ></rzslider>\n\n            </md-content>\n            </md-card>\n            \n            <md-card style=\"height: 500px;\" ng-if=\"main.brands\">\n                <md-input-container>\n                    <input ng-model=\"filterBrands\" placeholder=\"Categories\"/>\n                </md-input-container>\n                <md-content style=\"height: 500px\">\n                <div   ng-repeat=\"item in main.brands | filter:filterBrands\">\n                <md-checkbox\n                    ng-checked=\"main.exists(item, main.fl.brands)\"\n                    ng-click=\"main.toggle(item, main.fl.brands)\">\n                    {{ item.name }}\n                </md-checkbox>\n                </div>\n                </md-content>\n            </md-card>\n                <md-card ng-repeat=\"k in main.features | filter:filterFeatures\">\n                    <md-input-container>\n                        <input ng-model=\"filterFeatures\" placeholder=\"{{k.key}}\"/>\n                    </md-input-container>\n            <md-content>\n                <input ng-init=\"main.fl.features[k.key] = []\" type=\"hidden\"/>\n                <div flex=\"50\" ng-repeat=\"f in k.v | filter:filterFeatures\">\n                    <md-checkbox\n                    ng-checked=\"main.exists(f, main.fl.features[k.key])\"\n                    ng-click=\"main.toggle(f, main.fl.features[k.key])\">\n                        {{ f }}\n                    </md-checkbox>\n                </div>\n            </md-content>\n            </md-card>\n        </div>\n        </form>\n    </md-content>\n  \n    \n    \n</md-sidenav>\n");
$templateCache.put("app/main/main.html","<navbar leftmenu=\"true\"></navbar>\n<div class=\"container\">\n<div layout=\"row\">\n  <div ng-include=\"\'app/main/filter-menu.html\'\"></div>\n  <!--<md-content flex layout=\"column\">-->\n  <section layout=\"column\" layout-fill flex>\n    <div class=\"sort-products md-whiteframe-z2\">\n        <div class=\"products-list-meta\" ng-if=\"main.$mdMedia(\'gt-md\')\" flex>\n            Showing {{main.products.items.length}} products of {{main.products.count}} in: {{vm.Settings.currency.symbol}}<strong>{{main.priceSlider.min}}</strong> &nbsp;-&nbsp; {{vm.Settings.currency.symbol}}<strong>{{main.priceSlider.max}}</strong>\n        </div>\n\n        <section layout=\"row\" layout-align=\"center center\">\n          <div>Sort: &nbsp;</div> \n          <md-button class=\"groupX left\" ng-click=\"main.sortNow(\'variants.price\')\">{{main.Settings.currency.symbol}}<ng-md-icon icon=\"arrow_downward\" style=\"fill:#888\"></ng-md-icon></md-button>\n          <md-button class=\"groupX middle\" ng-click=\"main.sortNow(\'-variants.price\')\">{{main.Settings.currency.symbol}}<ng-md-icon icon=\"arrow_upwards\" style=\"fill:#888\"></ng-md-icon></md-button>\n          <md-button class=\"groupX middle\" ng-click=\"main.sortNow(\'name\')\">A-Z<ng-md-icon icon=\"arrow_downward\" style=\"fill:#888\"></ng-md-icon></md-button>\n          <md-button class=\"groupX right\" ng-click=\"main.sortNow(\'-name\')\">Z-A<ng-md-icon icon=\"arrow_upwards\" style=\"fill:#888\"></ng-md-icon></md-button>\n        </section>\n\n\n    </div>\n\n    <div layout=\"row\">\n      <div ng-repeat=\"b in main.fl.brands\">\n        <md-button class=\"md-raised\" ng-click=\"main.removeBrand(b);\" aria-label=\"Remove Brand Filter\">\n          <ng-md-icon icon=\"verified_user\" md-menu-align-target></ng-md-icon>\n          {{b.name}}\n          <ng-md-icon icon=\"close\" aria-label=\"Close dialog\"></ng-md-icon>\n        </md-button>\n      </div>\n      <md-button ng-show=\"main.fl.categories.length > 0\" class=\"md-raised\">\n        <ng-md-icon icon=\"subject\" md-menu-align-target></ng-md-icon>\n        {{main.fl.categories[0].name}}\n      </md-button>\n    <div ng-repeat=\"(k,features) in main.fl.features\">\n      <md-button ng-show=\"features\" ng-repeat=\"f in features\" class=\"md-raised\" ng-click=\"main.removeFeatures(features,k,f);\" aria-label=\"Remove {{f}} Filter\">\n          <ng-md-icon icon=\"format_shapes\" md-menu-align-target></ng-md-icon>\n          {{f}}\n          <ng-md-icon icon=\"close\" aria-label=\"Close dialog\"></ng-md-icon>\n      </md-button>\n    </div>\n    </div>\n\n      <div style=\"margin-top: 10px\" infinite-scroll=\'main.scroll()\' infinite-scroll-disabled=\'main.products.busy\' infinite-scroll-distance=\'1\' layout-align=\"center center\">\n          <div dw-loading=\"products\" dw-loading-options=\"{text: \'\'}\"></div>\n          <div layout=\"row\" layout-wrap layout-align=\"start start\">\n            <div class=\"col-md-4 col-sm-6\" ng-repeat=\"product in main.products.items\" layout=\"column\" layout-align=\"space-between center\" >\n              <div class=\"product\" style=\"height: 400px\" >\n                   <div class=\"img-logo\"  style=\"margin: 15px\">\n                      <center>\n                  \n                            <img ng-click=\"main.gotoDetail(product)\"   width=\"150px\" height=\"130px\" data-ng-src=\"data:image/png;base64,{{product.logo[0].base64}}\" data-err-src=\"images/png/avatar.png\"/>\n                      \n\n                      </center>\n                   </div>\n                              \n                  <div class=\"text text-center\" style=\"margin-top: 10px;height: 250px\">\n                        <a  href=\"\" ng-click=\"main.gotoDetail(product)\"><h5>{{product.name}}</h5></a><br><a ng-href=\"http://{{product.website}}\"> {{product.website}}</a>\n                              <div style=\"margin: 7px\">\n                                <ol class=\"rounded-list\">\n                                     <li ng-repeat=\"f in product.stats\"><a href=\"#\">{{f.key}} : {{f.val}}</a></li>                    \n                                </ol>\n                              </div>\n                  </div>\n                  <div style=\"text-align:bottom;vertical-align: bottom;text-align: center;margin-bottom: 0px\">\n                     <span><small>Category:<a href=\"/Category/{{product.category.slug}}/{{product.category._id}}\">{{product.category.name}}</a></small>\n                      \n                     </span> \n\n                  </div>\n                                      <!-- /.text -->\n              </div>\n                            <!-- /.product -->\n              \n            </div>\n          </div>\n        </div>\n    </section>\n<!--</md-content>-->\n</div>\n</div>\n<footer></footer>\n");
$templateCache.put("app/main/review-form.html","<div layout=\"row\">\n<md-content flex layout=\"column\">\n<section layout=\"column\" flex layout-align=\"center center\">\n  <h1>Rating & Review</h1>\n  <form name=\"form\" ng-submit=\"save(review)\" novalidate>\n  <section class=\"section\" layout=\"column\">\n    <rating rating=\"review.rating\"></rating><br/>\n    <md-input-container md-is-error=\"(form.message.$error.required || form.message.$error.message) && form.message.$dirty\">\n      <label>Message</label>\n      <textarea name=\"review\" ng-model=\"review.message\" md-autofocus></textarea>\n      <div ng-messages=\"form.message.$error\" ng-if=\"form.message.$dirty\">\n        <div ng-message=\"required\">Message required</div>\n      </div>\n    </md-input-container>\n  </section>\n  <div class=\"md-dialog-actions\" layout=\"column\" layout-align=\"center center\">\n    <div class=\"error\" layout-align=\"center center\">{{message}}</div>\n    <div layout=\"row\">\n      <md-button type=\"submit\" class=\"md-raised circular-progress-button md-primary\" ng-disabled=\"!form.$valid || vm.loading\" aria-label=\"Save Review\">\n        <span ng-show=\"!vm.loading\"><ng-md-icon icon=\"save\"></ng-md-icon>Save</span>\n        <md-progress-circular md-mode=\"indeterminate\" md-diameter=\"25\" ng-show=\"vm.loading\" class=\"md-accent md-hue-1\"></md-progress-circular><span ng-show=\"vm.loading\">Loading...</span>\n      </md-button>\n      <md-button class=\"btn btn-default btn-lg btn-register\" ng-click=\"cancel()\" aria-label=\"Cancel Review\"> Cancel </md-button>\n    </div>\n  </div>\n  </form>\n</section>\n</md-content>\n</div>");
$templateCache.put("app/main/single-product.html","<navbar leftmenu=\"true\"></navbar>\n<div class=\"container\">\n<div layout=\"row\" class=\"wrapper\">\n  <div ng-include=\"\'components/navbar/cart.html\'\"></div>\n  <md-content flex layout=\"column\">\n  <section layout=\"column\" layout-fill flex>\n    <div class=\"sort-products md-whiteframe-z2\">\n        <div>\n            Home > <a ui-sref=\"/\">Publishers</a> > {{single.product.name}}\n        </div>\n    </div>\n    \n    <div class=\"container\">\n    <div class=\"row\">\n      \n\n      <div class=\"col-md-12\" style=\"margin-top: 10px\">\n          <div class=\"row\" id=\"productMain\">\n              <div class=\"col-sm-3\">\n                  <div id=\"mainImage\" style=\"height: 60%\" class=\"md-whiteframe-z1\">\n                      <img  data-ng-src=\"data:image/png;base64,{{single.product.logo[0].base64}}\" err-SRC=\"/assets/images/486x325-fed2667202.png\" alt=\"{{single.product.name}}\" class=\"img-responsive\">\n                  </div>\n\n                  <md-divider md-inset></md-divider>\n\n                  <md-button ng-click=\"single.reviewForm()\" class=\"md-raised md-primary\">Review this publisher</md-button>\n                  <md-card ng-repeat=\"review in single.reviews | orderBy: \'-created\'|limitTo:\'1\'\">\n                  <md-card-header>\n                      <md-card-avatar>\n                          <list-image string=\"{{review.message || review.rating}}\"></list-image>\n                      </md-card-avatar>\n                      <md-card-header-text>\n                          <span class=\"md-subhead\" ng-if=\"review.rating\">\n                              <div class=\"rating-button\">{{review.rating}} <ng-md-icon icon=\"star\" size=\"20\"></ng-md-icon></div>\n                          </span>\n                          <span class=\"md-title\" style=\"white-space: pre;margin-left: 10px;\"><p>{{review.message}}</p></span>\n                      </md-card-header-text>\n                  </md-card-header>\n                  <!--<md-card-content>Good product within 7000</md-card-content>-->\n                  <md-card-actions layout=\"row\" layout-align=\"space-between center\">\n                      <span layout=\"row\" layout-align=\"start center\">\n                          <ng-md-icon icon=\"person\" size=\"15\"></ng-md-icon>&nbsp;{{review.reviewer}}&nbsp;\n                          <ng-md-icon icon=\"access_time\" size=\"15\"></ng-md-icon>&nbsp;{{review.created | amCalendar}}\n                      </span>\n                          <md-button ng-if=\"single.myReview(review)\" class=\"md-icon-button\" ng-click=\"single.deleteReview(review)\" aria-label=\"Delete Review\">\n                              <ng-md-icon icon=\"delete\" style=\"fill: #aaa\"></ng-md-icon>&nbsp;\n                          </md-button>\n                  </md-card-actions>\n              </md-card>\n\n                  \n\n              </div>\n              <div class=\"col-sm-9\">\n                  <div class=\"box\">\n                      <h3 class=\"text-center\">{{single.product.name}} </h3>\n                     \n                    <div ng-if=\"single.product.info\">\n                     <h4>Details</h4>\n                     <blockquote>\n                    <p>{{single.product.info }}</p>\n                  </blockquote> \n                   \n                  <div ng-if=\"single.product.stats.length>0\">\n                 \n\n                  <div class=\"row\">\n                    <div class=\"col-xs-6 col-md-2\" ng-repeat=\"f in single.product.stats\">\n                      <div  class=\"mythumbnail\">\n                     <p><h6><center>{{f.key}}</h6></center>  <div><center><h4>{{f.val}}</h4></center></div></p>\n                    </div>\n                  </div>\n                  </div>\n                 \n                  </div>\n\n                  <div class=\"row\">\n                 <md-list layout-gt-xs=\"row\" layout=\"column\">\n                          <md-list-item class=\"md-2-line\" ng-if=\"single.product.brand\">\n                          <ng-md-icon icon=\"verified_user\" md-menu-align-target></ng-md-icon>\n                          <div class=\"md-list-item-text\">\n                          <h3> Category </h3>\n                          <p> {{single.product.brand.name}} </p>\n                          </div>\n                      </md-list-item>\n\n                      <md-list-item class=\"md-2-line\" ng-if=\"single.product.category\">\n                          <ng-md-icon icon=\"subject\" md-menu-align-target></ng-md-icon>\n                          <div class=\"md-list-item-text\">\n                          <h3> Platform </h3>\n                          <p> {{single.product.category.name}} </p>\n                          </div>\n                      </md-list-item>\n                      <md-list-item class=\"md-2-line\" ng-if=\"single.product.category\">\n                         \n                          <div class=\"md-list-item-text\">\n                          <h3>Contact Details</h3>\n                              <p style=\"margin: 10px\"><span > <ng-md-icon icon=\"email\" md-menu-align-target></ng-md-icon>{{single.product.email}}<br></span></p>\n                               <p style=\"margin: 10px\"><span > <ng-md-icon icon=\"perm_phone_msg\" md-menu-align-target></ng-md-icon></span>{{single.product.phone}}</p>\n                          </div>\n                      </md-list-item>\n\n                  </md-list>\n                   </div>\n                  </div>\n\n                   <div class=\"row\">\n                    <div class=\"col-xs-6 col-md-3\" ng-repeat=\"f in single.product.keyFeatures\">\n                      <div >\n                     <p><h6><center>{{f.key}}</h6></center>  <div><center><h6 style= \"color:red\">{{f.val}}</h6></center></div></p>\n                    </div>\n                  </div>\n                  </div>\n\n                      <p class=\"goToDescription\">\n                    <a href=\"#div\" class=\"scroll-to\">Scroll to publisher media options</a>\n                      </p>\n                      \n\n                  </div>\n\n              </div>\n\n          </div>\n\n\n          <div class=\"box\" id=\"div\">\n           <div class=\"row\">\n            <div class=\"col-md-5\">\n            <summary ng-if=\"single.name\"><small>{{single.name}} &nbsp; {{single.formart}} &nbsp;{{single.size}}</small></summary>\n            <div  style=\"height: 450px\">\n            <img ng-hide=\"single.image\" src=\"/assets/img/preview.png\" width=\"100%\" >\n            <div  ng-if=\"single.image\" style=\"height: 330px\">\n\n              <div ng-if=\"single.image.progress &amp;&amp; single.image.progress &lt; 1\" class=\"progress\">\n            <div role=\"progressbar\" aria-valuenow=\"{{single.image.progress}}\" aria-valuemin=\"0\" aria-valuemax=\"1\" style=\"width:{{single.image.progress*100}}%\" class=\"progress-bar\"></div>\n          </div>\n          <ng-pintura ngp-src=\"single.image.src\" ngp-scaling=\"single.image.scaling\" ngp-position=\"single.image.position\" ngp-max-scaling=\"single.image.maxScaling\" ngp-scale-step=\"single.image.scaleStep\" ngp-move-step=\"single.image.moveStep\" ngp-mw-scale-step=\"single.image.mwScaleStep\" ngp-fit-inview = \"single.image.fitInview\" ngp-fit-onload=\"single.image.fitOnload\" ngp-progress=\"single.image.progress\">\n            <div id=\"zoomslider\">\n              <input ng-model=\"slider.value\" ng-change=\"sliderChange()\" orient=\"vertical\" type=\"range\" min=\"0\" max=\"100\" step=\"1\" ng-disabled=\"scalingDisabled\">\n            </div>\n            <button id=\"zoomin\" ng-click=\"zoomIn()\" ng-disabled=\"scalingDisabled\" class=\"btn btn-default\"><span class=\"glyphicon glyphicon-plus\"></span></button>\n            <button id=\"zoomout\" ng-click=\"zoomOut()\" ng-disabled=\"scalingDisabled\" class=\"btn btn-default\"><span class=\"glyphicon glyphicon-minus\"></span></button>\n            <button id=\"moveup\" ng-click=\"moveUp()\" class=\"btn btn-default\"><span class=\"glyphicon glyphicon-chevron-up\"></span></button>\n            <button id=\"movedown\" ng-click=\"moveDown()\" class=\"btn btn-default\"><span class=\"glyphicon glyphicon-chevron-down\"></span></button>\n            <button id=\"moveleft\" ng-click=\"moveLeft()\" class=\"btn btn-default\"><span class=\"glyphicon glyphicon-chevron-left\"></span></button>\n            <button id=\"moveright\" ng-click=\"moveRight()\" class=\"btn btn-default\"><span class=\"glyphicon glyphicon-chevron-right\"></span></button>\n            <button id=\"movecenter\" ng-click =\"fitInView()\" class=\"btn btn-default\"><span class=\"glyphicon glyphicon-screenshot\"></span></button>\n          </ng-pintura>\n             </div><br>\n            <p><br/>\n            </p>\n\n            </div>\n            </div>\n            <div class=\"col-md-7\" style=\"height: 420px;overflow:scroll\">\n              <p>\n\n                  <table  class=\"table table-striped\">\n                              <thead>\n                              <tr> \n                                  <th></th>\n                                  <th>Media Options </th>\n                                  <th>Pricing</th>\n                                  <th></th>\n                                  \n                              </tr>\n                              </thead>\n                              <tbody>\n                              <tr data-ng-repeat=\"adspace in single.product.variants\"  ng-click=\"single.preview(adspace)\">\n                                  <td>{{$index+1}}</td>\n                                  <td>{{adspace.name}}<br><span><small>{{adspace.size}} &nbsp;{{adspace.maxSize}}<br/> &nbsp;{{adspace.formart}}</small></span></td>\n                                  <td> {{adspace.price | currency}}<br><small>{{adspace.model}}</small></td>\n                                  <td><small> \n                                  <div layout=\"row\" layout-align=\"start center\">\n                                  <cart-buttons variant=\"adspace\" product=\"single.product\"></cart-buttons>\n                                  \n                              </div>\n                         \n                        </small></td>\n                                  \n                              </tr>\n                              \n                              </tbody>\n                          </table>\n                 </p>\n            </div>\n           </div>\n              \n                  <hr>\n                  \n          </div>\n\n\n          <!--div-->\n          <div >\n          <div class=\"col-md-12\">\n          <div class=\"col-md-4\">\n            <div layout=\"rows\" layout-align=\"center center\" ng-if=\"single.reviews.length==0 \">\n            <br/><md-divider></md-divider><br/>\n            <md-button ng-click=\"single.reviewForm()\" class=\"md-raised md-primary\">Be the first to review this publisher</md-button>\n        </div>\n        <div class=\"reviews\" ng-if=\"single.reviews.length>0 \">\n            <!--<h3>Reviews</h3>-->\n            <div class=\"reviews-header\" layout=\"column\" >\n                <div layout=\"column\" >\n                    <div class=\"total-rating\" layout=\"column\"  layout-align=\"space-between\"> \n                        <p>\n                        <div layout=\"row\" layout-align=\"start start\" class=\"total\"> {{single.rating.avg}}<ng-md-icon icon=\"star\"></ng-md-icon></div>\n                        <div>{{single.rating.count}} Ratings</div>\n                        <div>{{single.reviewCount}} Reviews</div></p>\n                    </div>\n                    <div class=\"rating-signal\">\n                        <div layout=\"row\" layout-align=\"start center\">5&nbsp;<ng-md-icon icon=\"star\" style=\"fill:rgb(33,150,243)\"></ng-md-icon> <md-progress-linear md-mode=\"determinate\" value=\"{{single.rating.r5*100 / single.rating.count}}\"></md-progress-linear>{{single.rating.r5}}</div>\n                        <div layout=\"row\" layout-align=\"start center\">4&nbsp;<ng-md-icon icon=\"star\" style=\"fill:rgb(33,150,243)\"></ng-md-icon> <md-progress-linear md-mode=\"determinate\" value=\"{{single.rating.r4*100 / single.rating.count}}\"></md-progress-linear>{{single.rating.r4}}</div>\n                        <div layout=\"row\" layout-align=\"start center\">3&nbsp;<ng-md-icon icon=\"star\" style=\"fill:rgb(33,150,243)\"></ng-md-icon> <md-progress-linear md-mode=\"determinate\" value=\"{{single.rating.r3*100 / single.rating.count}}\"></md-progress-linear>{{single.rating.r3}}</div>\n                        <div layout=\"row\" layout-align=\"start center\">2&nbsp;<ng-md-icon icon=\"star\" style=\"fill:rgb(255,87,34)\"></ng-md-icon> <md-progress-linear class=\"md-warn\" md-mode=\"determinate\" value=\"{{single.rating.r2*100 / single.rating.count}}\"></md-progress-linear>{{single.rating.r2}}</div>\n                        <div layout=\"row\" layout-align=\"start center\">1&nbsp;<ng-md-icon icon=\"star\" style=\"fill:rgb(255,87,34)\"></ng-md-icon> <md-progress-linear class=\"md-warn\" md-mode=\"determinate\" value=\"{{single.rating.r1*100 / single.rating.count}}\"></md-progress-linear>{{single.rating.r1}}</div>\n                    </div>\n                </div>\n                <div flex layout=\"row\" layout-align=\"center center\">\n                    <md-button ng-click=\"single.reviewForm()\" class=\"md-primary md-raised\">Rate & Review</md-button>\n                </div>\n            </div>\n            \n              <md-card ng-repeat=\"review in single.reviews | orderBy: \'-created\'\">\n                  <md-card-header>\n                      <md-card-avatar>\n                          <list-image string=\"{{review.message || review.rating}}\"></list-image>\n                      </md-card-avatar>\n                      <md-card-header-text>\n                          <span class=\"md-subhead\" ng-if=\"review.rating\">\n                              <div class=\"rating-button\">{{review.rating}} <ng-md-icon icon=\"star\" size=\"15\"></ng-md-icon></div>\n                          </span>\n                          <span class=\"md-title\" style=\"white-space: pre;margin-left: 10px;\">{{review.message}}</span>\n                      </md-card-header-text>\n                  </md-card-header>\n                  <!--<md-card-content>Good product within 7000</md-card-content>-->\n                  <md-card-actions layout=\"row\" layout-align=\"space-between center\">\n                      <span layout=\"row\" layout-align=\"start center\">\n                          <ng-md-icon icon=\"person\" size=\"15\"></ng-md-icon>&nbsp;{{review.reviewer}}&nbsp;\n                          <ng-md-icon icon=\"access_time\" size=\"15\"></ng-md-icon>&nbsp;{{review.created | amCalendar}}\n                      </span>\n                          <md-button ng-if=\"single.myReview(review)\" class=\"md-icon-button\" ng-click=\"single.deleteReview(review)\" aria-label=\"Delete Review\">\n                              <ng-md-icon icon=\"delete\" style=\"fill: #aaa\"></ng-md-icon>&nbsp;\n                          </md-button>\n                  </md-card-actions>\n              </md-card>\n        </div>\n        </div>\n        <div class=\"col-md-8\">\n\n          <div class=\"row\">\n             <h3 class=\"col-md-2\">Learn</h3> <img style=\"width:150px;height:100px\" src=\"assets/img/learn.png\" class=\"responsive-img col-md-4\">\n          </div>\n         \n            <div ng-if=\"single.magazines\">\n              <div ng-include=\"\'components/messages/magazines.html\'\" ></div>\n             \n            </div>\n            <div ng-if=\"single.airline\">\n              <div ng-include=\"\'components/messages/airline.html\'\" ></div>\n             \n            </div>\n            <div ng-if=\"single.emailMarketing\">\n              <div ng-include=\"\'components/messages/email.html\'\" ></div>\n             \n            </div>\n            <div ng-if=\"single.cinema\">\n              <div ng-include=\"\'components/messages/cinema.html\'\" ></div>\n             \n            </div>\n            <div ng-if=\"single.newspapers\">\n              <div ng-include=\"\'components/messages/newspapers.html\'\" ></div>\n             \n            </div>\n            <div ng-if=\"single.radio\">\n              <div ng-include=\"\'components/messages/radio.html\'\" ></div>\n             \n            </div>\n\n            <div ng-if=\"single.television\">\n              <div ng-include=\"\'components/messages/tv.html\'\" ></div>\n             \n            </div>\n\n            <div ng-if=\"single.default\">\n              <div ng-include=\"\'components/messages/nontraditional.html\'\" ></div>\n             \n            </div>\n            <div ng-if=\"single.billboards\">\n              <div ng-include=\"\'components/messages/outdoor.html\'\" ></div>\n             \n            </div>\n            <div ng-if=\"single.banner\">\n              <div ng-include=\"\'components/messages/nontraditional.html\'\" ></div>\n             \n            </div>\n            <div ng-if=\"single.socialMedia\">\n              <div ng-include=\"\'components/messages/nontraditional.html\'\" ></div>\n             \n            </div>\n            </div>\n          </div>\n          </div>\n\n    </div>\n</div>\n\n</section>\n</md-content>\n</div>\n</div>\n<footer></footer>\n");
$templateCache.put("app/documentation/back.html","<doc-menu></doc-menu>\n\n<md-content flex layout-padding layout=\"row\">\n<section class=\"doc\" flex>\n\n<h3>::::::::::::::: Store Administration ::::::::::::::</h3>\n<blockquote>\n  <em>Only administrators, managers can access the pages</em>\n</blockquote>\n    <div class=\"post\">\n    <h2 id=\"add-brands\">Manage Brands</h2>\n    <p>Administrators can add, edit, delete, filter brands of their store from this view</p>\n    <div class=\"image\"><a><img src=\"/assets/img/brands.jpg\" class=\"img-responsive\" alt=\"Manage Brands\"></a></div>\n    <hr>\n    </div>\n\n    <div class=\"post\">\n    <h2 id=\"add-categories\">Manage Categories</h2>\n    <p>\n      <ul>\n        <li>Categories are presented in Parent-Child manner in this store for better organisation of products.</li>\n        <li>Store\'s navigation bar at top contains all the categories arranged in parent-child fashion.</li>\n        <div class=\"image\"><a><img src=\"/assets/img/navbar.jpg\" class=\"img-responsive\" alt=\"Manage Categories\"></a></div>\n\n        <li>This view provides facility to add both parent and child categories, edit them, re-arrange category association according to their requirement.</li>\n      </ul>\n     </p>\n    <div class=\"image\"><a><img src=\"/assets/img/categories.jpg\" class=\"img-responsive\" alt=\"Manage Categories\"></a></div>\n    <hr>\n    </div>\n\n    <div class=\"post\">\n    <h2 id=\"add-products\">Manage Products</h2>\n    <p><em>This is the main page for administrators to manage products at store.</em>\n    <ul>\n      <li>The right sidebar lists all the available products with a search box to filter the list.</li>\n      <li>Clicking on a product at the product list will populate the details of the product at the left sidebar</li>\n      <li>The left sidebar has option to change product name, details, brand, category</li>\n      <li>This left sidebar also contains a module to manage product variants which has facility for Size, MRP, Price and Image for that perticular variant</li>\n    </ul>\n    </p>\n    <div class=\"image\"><a><img src=\"/assets/img/products.jpg\" class=\"img-responsive\" alt=\"Add Products\"></a></div>\n    <hr>\n    </div>\n\n    <div class=\"post\">\n    <h2 id=\"manage-users\">Manage Users (Customers)</h2>\n    <p>Using this view administrators can add, remove or edit users of their shopping web application</p>\n    <div class=\"image\"><a><img src=\"/assets/img/customers.jpg\" class=\"img-responsive\" alt=\"Manage customers\"></a></div>\n    <hr>\n    </div>\n</section>\n</md-content>");
$templateCache.put("app/documentation/features.html","<navbar leftmenu=\"true\"></navbar>\n<left-menu></left-menu>\n<div class=\"col-md-12\">\n    <ul class=\"breadcrumb\">\n        <li><a href=\"/\">Home</a>\n        </li>\n        <li>FAQ\'s</li>\n       \n    </ul>\n</div>\n<div class=\"row\">\n<div class=\"col-md-2\">\n\n</div>\n\n<div class=\"col-md-8\">\n\n\n    <div class=\"box\" id=\"contact\">\n\n<h1>Top 10 Questions </h1>\n\n<h3>How do I get started </h3>\n<p>What should I do after I register? Once you sign up as an advertiser, you can immediately start building and launching campaigns with any publisher  that is set up in the system.</p>\n\n\n<h3>How does MediaBox make money?</h3>\n <p>MediaBox charges advertisers a 20%, 10%, or 5% service fee depending on the total amount theyve billed with a publisher. We also offer publishers optional premium memberships and subscription services.</p>\n <h3>How do payments work ,how are payments and invoices handled? </h3> \n <p>Using our automated billing system, Once you review and approve your campaigns and both parties have engaged Mediabox charges your payment method or per transaction  and releases funds to the publisher  .</p>\n\n<h3>What methods of payment do you accept and what do they cost? </h3>\n<p>You can pay using MasterCard, Visa,PayNow, or PayPal. Any payments are subject to a 2.75% processing fee. Or 3 % for PayNow</p>\n\n<h3>How do i benefit from using Mediabox</h3>\n<p>We provide you with the technology that will help you in managing your advertising content\nThis automation translates to significant benefits for both advertisers and publishers in the form of<br>\nREDUCTION IN OPERATION COSTS<br>\nPublishers can free their sales teams to spend more time establishing high value relationships, whilst advertisers can access a market of known publishers, known price and known availability, further more to advertise with any publisher on Mediabox you need not have to visit their offices as everything is done through the platform from creative submission to payments </p>\n\n<h3>How do I find the best publisher for my advertising campaign?</h3>\n<p>Our Smart filters will also help you discover the best publishers that match your budget and or campaign objectives. Advertisers can filter publishers based on location (region and country),budget ,target audience(income levels ,age group ,gender) ,reach ,platform (newspapers ,magazines fliers ,newsletters ,websites ,social media ,billboards ,inflight ,in-store ,cinema ).</p>\n\n<h3>Does Mediabox screen publishers  </h3>\n<p>At MediaBox we strive to provide a fair and trusted marketplace. This includes working diligently to verify that publishers are representing themselves correctly. We begin by authenticating the email address of registered users. We then provide many forms of screening for publishers  to use. Ultimately however, it is your responsibility to do the final screening to help ensure that the Publisher is a great match for you and your advertising requirements. We do have features in place to help facilitate the screening process, from MediaBox Messages  for real-time communication with publishers to custom screening questions to assist you in identifying the best matches.</p>\n\n<h3>What publishers can I find on Mediabox</h3>\n<p>Anywhere you can put your product  or service to be seen by your potential customers from traditional publishers (Magazines ,Newspapers ,Billboards ) to unorthodox methods such as  Vehicle in Transit ,Air advertising .Big or small   you will find best ways to advertise your products or services on Mediabox</p>\n\n\n</div>\n\n\n</div>\n\n<!-- /.col-md-8 -->\n<div class=\"col-md-2\">\n\n</div>\n</div>\n<footer></footer>\n\n");
$templateCache.put("app/documentation/index.html","<style type=\"text/css\">\n\n\n/*\nBootstrap Image Carousel Slider with Animate.css\nCode snippet by Hashif (http://hashif.com) for Bootsnipp.com\nImage credits: unsplash.com\n*/\n@import url(https://fonts.googleapis.com/css?family=Quicksand:400,700);\n\nbody {\n    font-family: \'Quicksand\', sans-serif;\n    font-weight:700;\n}\n\n\n\n\n\n/********************************/\n/*          Main CSS     */\n/********************************/\n\n\n#first-slider .main-container {\n  padding: 0;\n}\n\n\n#first-slider .slide1 h3, #first-slider .slide2 h3, #first-slider .slide3 h3, #first-slider .slide4 h3{\n    color: #fff;\n    font-size: 30px;\n      text-transform: uppercase;\n      font-weight:700;\n}\n\n#first-slider .slide1 h4,#first-slider .slide2 h4,#first-slider .slide3 h4,#first-slider .slide4 h4{\n    color: #fff;\n    font-size: 30px;\n      text-transform: uppercase;\n      font-weight:700;\n}\n#first-slider .slide1 .text-left ,#first-slider .slide3 .text-left{\n    padding-left: 40px;\n}\n\n\n#first-slider .carousel-indicators {\n  bottom: 0;\n}\n#first-slider .carousel-control.right,\n#first-slider .carousel-control.left {\n  background-image: none;\n}\n#first-slider .carousel .item {\n  min-height: 425px; \n  height: 100%;\n  width:100%;\n}\n\n.carousel-inner .item .container {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    position: absolute;\n    bottom: 0;\n    top: 0;\n    left: 0;\n    right: 0;\n}\n\n\n#first-slider h3{\n  animation-delay: 1s;\n}\n#first-slider h4 {\n  animation-delay: 2s;\n}\n#first-slider h2 {\n  animation-delay: 3s;\n}\n\n\n#first-slider .carousel-control {\n    width: 6%;\n        text-shadow: none;\n}\n\n\n#first-slider h1 {\n  text-align: center;  \n  margin-bottom: 30px;\n  font-size: 30px;\n  font-weight: bold;\n}\n\n#first-slider .p {\n  padding-top: 125px;\n  text-align: center;\n}\n\n#first-slider .p a {\n  text-decoration: underline;\n}\n#first-slider .carousel-indicators li {\n    width: 14px;\n    height: 14px;\n    background-color: rgba(255,255,255,.4);\n  border:none;\n}\n#first-slider .carousel-indicators .active{\n    width: 16px;\n    height: 16px;\n    background-color: #fff;\n  border:none;\n}\n\n\n.carousel-fade .carousel-inner .item {\n  -webkit-transition-property: opacity;\n  transition-property: opacity;\n}\n.carousel-fade .carousel-inner .item,\n.carousel-fade .carousel-inner .active.left,\n.carousel-fade .carousel-inner .active.right {\n  opacity: 0;\n}\n.carousel-fade .carousel-inner .active,\n.carousel-fade .carousel-inner .next.left,\n.carousel-fade .carousel-inner .prev.right {\n  opacity: 1;\n}\n.carousel-fade .carousel-inner .next,\n.carousel-fade .carousel-inner .prev,\n.carousel-fade .carousel-inner .active.left,\n.carousel-fade .carousel-inner .active.right {\n  left: 0;\n  -webkit-transform: translate3d(0, 0, 0);\n          transform: translate3d(0, 0, 0);\n}\n.carousel-fade .carousel-control {\n  z-index: 2;\n}\n\n.carousel-control .fa-angle-right, .carousel-control .fa-angle-left {\n    position: absolute;\n    top: 50%;\n    z-index: 5;\n    display: inline-block;\n}\n.carousel-control .fa-angle-left{\n    left: 50%;\n    width: 38px;\n    height: 38px;\n    margin-top: -15px;\n    font-size: 30px;\n    color: #fff;\n    border: 3px solid #ffffff;\n    -webkit-border-radius: 23px;\n    -moz-border-radius: 23px;\n    border-radius: 53px;\n}\n.carousel-control .fa-angle-right{\n    right: 50%;\n    width: 38px;\n    height: 38px;\n    margin-top: -15px;\n    font-size: 30px;\n    color: #fff;\n    border: 3px solid #ffffff;\n    -webkit-border-radius: 23px;\n    -moz-border-radius: 23px;\n    border-radius: 53px;\n}\n.carousel-control {\n    opacity: 1;\n    filter: alpha(opacity=100);\n}\n\n\n/********************************/\n/*       Slides backgrounds     */\n/********************************/\n#first-slider .slide1 {\n    background-image: url(\"../../assets/images/main-slider-3-b11ce1eff5.jpg\");\n      background-size: cover;\n    background-repeat: no-repeat;\n}\n#first-slider .slide2 {\n  background-image: url(\"../../assets/images/main-slider-3-b11ce1eff5.jpg\");\n      background-size: cover;\n    background-repeat: no-repeat;\n}\n#first-slider .slide3 {\n  background-image: url(\"../../assets/images/main-slider-3-b11ce1eff5.jpg\");\n      background-size: cover;\n    background-repeat: no-repeat;\n}\n#first-slider .slide4 {\n  background-image: url(\"../../assets/images/main-slider-3-b11ce1eff5.jpg\");\n      background-size: cover;\n    background-repeat: no-repeat;\n}\n\n\n\n\n/********************************/\n/*          Media Queries       */\n/********************************/\n@media screen and (min-width: 980px){\n      \n}\n@media screen and (max-width: 640px){\n      \n}\n\n    \n    body,\nh1,\nh2,\nh3,\nh4,\nh5,\nh6 {\n    font-family: \"Lato\",\"Helvetica Neue\",Helvetica,Arial,sans-serif;\n    font-weight: 500;\n}\n.material-icons.md-18 { font-size: 18px; }\n.material-icons.md-24 { font-size: 24px; }\n.material-icons.md-36 { font-size: 36px; }\n.material-icons.md-48 { font-size: 48px; }\n.material-icons.md-96 { font-size: 96px; }\n.material-icons.orange600 {color: #d9534f}\n\n.topnav {\n    font-size: 14px; \n}\n\n.lead {\n    font-size: 16px;\n    font-weight: 400;\n}\n\n.intro-header {\n    padding-top: 50px; /* If you\'re making other pages, make sure there is 50px of padding to make sure the navbar doesn\'t overlap content! */\n    padding-bottom: 50px;\n    text-align: center;\n    color: #f8f8f8;\n   \n    background-size: cover;\n}\n\n.intro-message {\n    position: relative;\n    color: #333333;\n    padding-bottom: 5%;\n}\n\n.intro-message > h1 {\n    margin: 0;\n   \n    font-size: 5em;\n}\n\n.intro-divider {\n    width: 400px;\n    border-top: 1px solid #f8f8f8;\n    border-bottom: 1px solid rgba(0,0,0,0.2);\n}\n\n.intro-message > h3 {\n\n}\n\n@media(max-width:767px) {\n    .intro-message {\n        padding-bottom: 15%;\n    }\n\n    .intro-message > h1 {\n        font-size: 3em;\n    }\n\n    ul.intro-social-buttons > li {\n        display: block;\n        margin-bottom: 20px;\n        padding: 0;\n    }\n\n    ul.intro-social-buttons > li:last-child {\n        margin-bottom: 0;\n    }\n\n    .intro-divider {\n        width: 100%;\n    }\n}\n\n.network-name {\n    text-transform: uppercase;\n    font-size: 14px;\n    font-weight: 400;\n    letter-spacing: 2px;\n}\n\n.content-section-a {\n    padding: 50px 0;\n    background-color: #f8f8f8;\n}\n\n.content-section-b {\n    padding: 50px 0;\n    border-top: 1px solid #e7e7e7;\n    border-bottom: 1px solid #e7e7e7;\n}\n\n.section-heading {\n    margin-bottom: 30px;\n    font-weight: 700;\n}\n\n.section-heading-spacer {\n    float: left;\n    width: 200px;\n    border-top: 3px solid #e7e7e7;\n}\n\n.banner {\n    padding: 100px 0;\n    color: #f8f8f8;\n    background: url(../img/banner-bg.jpg) no-repeat center center;\n    background-size: cover;\n}\n\n.banner h2 {\n    margin: 0;\n    text-shadow: 2px 2px 3px rgba(0,0,0,0.6);\n    font-size: 3em;\n}\n\n.banner ul {\n    margin-bottom: 0;\n}\n\n.banner-social-buttons {\n    float: right;\n    margin-top: 0;\n}\n\n@media(max-width:1199px) {\n    ul.banner-social-buttons {\n        float: left;\n        margin-top: 15px;\n    }\n}\n\n@media(max-width:767px) {\n    .banner h2 {\n        margin: 0;\n        text-shadow: 2px 2px 3px rgba(0,0,0,0.6);\n        font-size: 3em;\n    }\n\n    ul.banner-social-buttons > li {\n        display: block;\n        margin-bottom: 20px;\n        padding: 0;\n    }\n\n    ul.banner-social-buttons > li:last-child {\n        margin-bottom: 0;\n    }\n}\n\n\nfooter {\n    padding: 50px 0;\n    background-color: #f8f8f8;\n}\n\np.copyright {\n    margin: 15px 0 0;\n} \n\n.white-bg {\n    background-color: #fff;\n}\n\n\n\n@media (max-width: 767px)\n.space-80, .space-100 {\n    padding-bottom: 50px;\n    padding-top: 50px;\n}\n@media (max-width: 767px)\n.video-bg {\n    min-height: auto;\n}\n\n@media (max-width: 1200px)\n.theme-container {\n    padding-left: 15px;\n    padding-right: 15px;\n}\n\n@media (max-width: 479px)\n.section-title, .caption-text .extra-bold-font {\n    font-size: 16px;\n    margin-bottom: 10px;\n}\n\n.mask-overlay {\n    background: rgba(0, 0, 0, 0.5) none repeat scroll 0 0;\n}\n.mask-overlay, .theme-color-mask, .white-mask {\n    bottom: 0;\n    left: 0;\n    position: absolute;\n    right: 0;\n    top: 0;\n    z-index: 0;\n}\n.theme-container {\n    padding-left: 0;\n    padding-right: 0;\n}\n\n.white-color {\n    color: #fff;\n}\n.title-wrap {\n    display: inline-block;\n    width: 100%;\n    vertical-align: middle;\n    text-align: center;\n}\n\n.relative-div {\n    position: relative;\n}\n.slider-title-1 {\n    text-transform: uppercase;\n    font-size: 14px;\n}\nsecondery-font, .section-title, .title-1, .title-2, .title-3, .article-title > h2, .comment-reply-title, .comment-author .fn, .comment-metadata a, .theme-btn, .theme-btn-1, .theme-btn-2, .form-submit > input[type=\"submit\"], .primary-navbar li a, .form-control, .countdown-amount, .countdown-period {\n    font-family: \'Montserrat\', sans-serif;\n}\nwhite-color .section-title, .white-color p {\n    color: #fff;\n}\n\n.space-top-15 {\n    padding-top: 15px;\n}\n.section-title {\n    font-size: 54px;\n}\n.section-title, .title-1, .title-2, .title-3, .article-title > h2, .comment-reply-title, .comment-author .fn, .comment-metadata a {\n    color: #3c3d41;\n    text-transform: capitalize;\n    letter-spacing: 1px;\n}\n.devices-wrap .fa {\n    font-size: 35px;\n    margin-bottom: 5px;\n}\n\n\n.space-50 {\n    padding-bottom: 50px;\n    padding-top: 50px;\n}\n.block-inline {\n    display: inline-block;\n    width: 100%;\n    vertical-align: middle;\n}\n\n.theme-color, .hover-color:hover, .hover-color:focus, .navigation .dropdown-menu li a:hover, .navigation .dropdown-menu li a:focus, .breadcrumb-menubar > li > a:hover, .breadcrumb-menubar > li > a:focus {\n    color: #d80018;\n}\n\n.slider-form .submit-btn, .video-icon.fa, .price-box:hover .theme-btn-2, .price-box:focus .theme-btn-2, .title-devider .line-1, .theme-btn-1:hover, .theme-btn-1:focus, .widget-wrap.tag-cloud a:hover, .widget-wrap.tag-cloud a:focus, .pagination > .active > a, .pagination > .active > a:focus, .pagination > .active > a:hover, .pagination > .active > span, .pagination > .active > span:focus, .pagination > .active > span:hover, .pagination > li > a:focus, .pagination > li > a:hover, .pagination > li > span:focus, .pagination > li > span:hover, .post-next:hover, .post-previous:hover, .post-next:focus, .post-previous:focus, .form-submit > input[type=\"submit\"] {\n    border-color: #d80018;\n}\ntrong { font-weight: 500; }\n\na, a:hover, a:focus {\n    color: #e89a3e;\n    text-decoration: none;\n    -o-transition: all .3s; -moz-transition: all .3s; -webkit-transition: all .3s; -ms-transition: all .3s; transition: all .3s;\n}\n\nh1 {\n    margin-top: 10px;\n    font-size: 38px;\n    font-weight: 100;\n    color: #555;\n    line-height: 50px;\n}\n\n.medium-paragraph {\n    font-size: 18px;\n    line-height: 32px;\n}\n\n::-moz-selection { background: #e89a3e; color: #fff; text-shadow: none; }\n::selection { background: #e89a3e; color: #fff; text-shadow: none; }\n\n\n/***** Modal *****/\n\n.modal-backdrop.in {\n    filter: alpha(opacity=7);\n    opacity: 0.7;\n}\n\n.modal-content {\n    background: none;\n    border: 0;\n    -moz-border-radius: 0; -webkit-border-radius: 0; border-radius: 0;\n    -moz-box-shadow: none; -webkit-box-shadow: none; box-shadow: none;\n}\n\n.modal-body {\n    padding: 0 25px 25px 25px;\n}\n\n.modal-header {\n    padding: 25px 25px 15px 25px;\n    text-align: right;\n}\n\n.modal-header, .modal-footer {\n    border: 0;\n}\n\n.modal-header .close {\n    float: none;\n    margin: 0;\n    font-size: 36px;\n    color: #fff;\n    font-weight: 300;\n    text-shadow: none;\n    opacity: 1;\n}\n\n\n/***** Top content *****/\n\n.top-content {\n    height: 100%;\n    min-height: 100%;\n    padding: 120px 0;\n}\n\n.top-content .text,\n.top-content .text h1 {\n    color: #fff;\n}\n\n.top-content .text p {\n    margin: 20px 0 10px 0;\n    opacity: 0.8;\n}\n\n.top-content .text p a {\n    color: #fff;\n    border-bottom: 1px dotted #fff;\n}\n\n.top-content .text p a:hover,\n.top-content .text p a:focus {\n    color: #fff;\n    border: 0;\n}\n\n.video-link {\n    padding-top: 70px;\n}\n\n.video-link a:hover,\n.video-link a:focus {\n    outline: 0;\n}\n\na .video-link-text {\n    color: #fff;\n    opacity: 0.8;\n    -o-transition: all .3s; -moz-transition: all .3s; -webkit-transition: all .3s; -ms-transition: all .3s; transition: all .3s;\n}\n\na:hover .video-link-text, \na:focus .video-link-text {\n    outline: 0;\n    color: #fff;\n    opacity: 1;\n    border-bottom: 1px dotted #fff;\n}\n\na .video-link-icon {\n    position: relative;\n    display: inline-block;\n    width: 50px;\n    height: 50px;\n    margin-right: 10px;\n    background: #e89a3e;\n    color: #fff;\n    line-height: 50px;\n    -moz-border-radius: 50%; -webkit-border-radius: 50%; border-radius: 50%;\n    -o-transition: all .3s; -moz-transition: all .3s; -webkit-transition: all .3s; -ms-transition: all .3s; transition: all .3s;\n}\na .video-link-icon:after {\n    position: absolute;\n    content: \"\";\n    top: -6px;\n    left: -6px;\n    width: 66px;\n    height: 66px;\n    background: #444;\n    background: rgba(0, 0, 0, 0.1);\n    z-index: -99;\n    -moz-border-radius: 50%; -webkit-border-radius: 50%; border-radius: 50%;\n}\n\na:hover .video-link-icon,\na:focus .video-link-icon {\n    outline: 0;\n    background: #fff;\n    color: #e89a3e;\n}\n\n.social {\n    padding-top: 100px;\n    font-size: 28px;\n    line-height: 38px;\n}\n\n.social a {\n    margin: 5px 15px;\n    color: #fff;\n    color: rgba(255, 255, 255, 0.6);\n    vertical-align: middle;\n}\n\n.social a:hover,\n.social a:focus {\n    outline: 0;\n    color: #fff;\n}\n\n.social .divider-2 {\n    display: inline-block;\n    width: 1px;\n    height: 14px;\n    background: #fff;\n    background: rgba(255, 255, 255, 0.4);\n    vertical-align: middle;\n}\n\n\n/***** Media Queries *****/\n\n@media (min-width: 992px) and (max-width: 1199px) { }\n\n@media (min-width: 768px) and (max-width: 991px) {\n    \n    .top-content { padding-top: 60px; }\n    .social { padding-top: 80px; }\n\n}\n\n@media (max-width: 767px) {\n\n    .top-content { padding: 20px 0 20px 0; }\n    .video-link { padding-top: 40px; }\n    .social { padding-top: 50px; }\n\n}\n\n@media (max-width: 415px) {\n    \n    h1 { font-size: 32px; }\n    \n    .social .divider-2 { display: none; }\n\n}\n</style>\n<link rel=\"stylesheet\" href=\"https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css\">\n<link rel=\"stylesheet\" href=\"http://cdn.bootcss.com/animate.css/3.5.1/animate.min.css\">\n<div id=\"top\">\n    <div class=\"container\">\n        <div class=\"col-md-1\">\n            <a  href=\"index.html\">\n                <img src=\"/assets/img/logo.png\"  class=\"hidden-xs\">\n                <img src=\"/assets/img/logo.png\"  class=\"visible-xs\"><span class=\"sr-only\"></span>\n            </a>\n        </div>\n         <div class=\"col-md-9 offer\" style=\"padding-top:  15px\" data-animate=\"fadeInDown\">\n            \n             &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;We provide advertising inventory ? <a href=\"/\">Get it here .</a>\n        </div>\n        <div class=\"col-md-2 pull-right\" data-animate=\"fadeInDown\">\n           <top-menu ng-if=\"!search.show\"></top-menu> \n        </div>\n    </div>\n   </div>\n\n<div id=\"first-slider\">\n    <div id=\"carousel-example-generic\" class=\"carousel slide carousel-fade\">\n        <!-- Indicators -->\n        <ol class=\"carousel-indicators\">\n            <li data-target=\"#carousel-example-generic\" data-slide-to=\"0\" class=\"active\"></li>\n            <li data-target=\"#carousel-example-generic\" data-slide-to=\"1\"></li>\n            <li data-target=\"#carousel-example-generic\" data-slide-to=\"2\"></li>\n            <li data-target=\"#carousel-example-generic\" data-slide-to=\"3\"></li>\n        </ol>\n        <!-- Wrapper for slides -->\n        <div class=\"carousel-inner\" role=\"listbox\">\n            <!-- Item 1 -->\n            <div class=\"item active slide1\">\n                <div class=\"row\"><div class=\"container\">\n                    <div class=\"col-md-3 text-right\">\n                        <img style=\"max-width: 200px;\"  data-animation=\"animated zoomInLeft\" src=\"http://s20.postimg.org/pfmmo6qj1/window_domain.png\">\n                    </div>\n                    <div class=\"col-md-9 text-left\">\n                        <h3  style=\"color:#333333;\" data-animation=\"animated bounceInDown\">Africa\'s first Online Market Place For Advertising Media!</h3>\n                        <h4 data-animation=\"animated bounceInUp\"> </h4>             \n                     </div>\n                </div></div>\n             </div> \n            <!-- Item 2 -->\n            <div class=\"item slide2\">\n                <div class=\"row\"><div class=\"container\">\n                    <div class=\"col-md-7 text-left\">\n                        <h3 style=\"color:#333333;\"data-animation=\"animated bounceInDown\"> Our Smart filters and Recommendations help you choose the right media option for you.</h3>\n                        \n                     </div>\n                    <div class=\"col-md-5 text-right\">\n                        <img style=\"max-width: 200px;\"  data-animation=\"animated zoomInLeft\" src=\"http://s20.postimg.org/sp11uneml/rack_server_unlock.png\">\n                    </div>\n                </div></div>\n            </div>\n            <!-- Item 3 -->\n            <div class=\"item slide3\">\n                <div class=\"row\"><div class=\"container\">\n                    <div class=\"col-md-7 text-left\">\n                        <h3 style=\"color:#333333;\" data-animation=\"animated bounceInDown\">Access Global Publishers</h3>\n                        <h4 style=\"color:#333333;\" data-animation=\"animated bounceInUp\">Do not be limited by border boundaries advertise anywhere , any time with MediaBox</h4>\n                     </div>\n                    <div class=\"col-md-5 text-right\">\n                        <img style=\"max-width: 200px;\"  data-animation=\"animated zoomInLeft\" src=\"http://s20.postimg.org/eq8xvxeq5/globe_network.png\">\n                    </div>     \n                </div></div>\n            </div>\n            <!-- Item 4 -->\n            <div class=\"item slide4\">\n                <div class=\"row\"><div class=\"container\">\n                    <div class=\"col-md-7 text-left\">\n                        <h3 style=\"color:#333333;\" data-animation=\"animated bounceInDown\">Plan</h3>\n                        <h4 style=\"color:#333333;\" data-animation=\"animated bounceInUp\">Build </h4>\n                        <h4 style=\"color:#333333;\" data-animation=\"animated bounceInDown\">Launch advertising campaigns anywhere ,anytime with Mediabox</h4>\n                     </div>\n                    <div class=\"col-md-5 text-right\">\n                        <img style=\"max-width: 200px;\"  data-animation=\"animated zoomInLeft\" src=\"http://s20.postimg.org/9vf8xngel/internet_speed.png\">\n                    </div>  \n                </div></div>\n            </div>\n            <!-- End Item 4 -->\n    \n        </div>\n        <!-- End Wrapper for slides-->\n        <a class=\"left carousel-control\" href=\"#carousel-example-generic\" role=\"button\" data-slide=\"prev\">\n            <i class=\"fa fa-angle-left\"></i><span class=\"sr-only\">Previous</span>\n        </a>\n        <a class=\"right carousel-control\" href=\"#carousel-example-generic\" role=\"button\" data-slide=\"next\">\n            <i class=\"fa fa-angle-right\"></i><span class=\"sr-only\">Next</span>\n        </a>\n    </div>\n</div>\n\n<!--emd slider-->\n<div class=\"intro-header\">\n        <div class=\"container\">\n\n            <div class=\"row\">\n                <div class=\"col-lg-12\">\n                    <div class=\"intro-message\">\n                        <h2 class=\"section-heading\">We provide advertising inventory across Africa</h2>\n                        <h4 class=\"section-heading\">by bringing together Advertisers and Publishers</h4>\n                        <hr class=\"intro-divider\">\n                        <ul class=\"list-inline intro-social-buttons\">\n                            <li>\n                                <a href=\"/\" class=\"btn btn-danger btn-lg\"></i> <span class=\"network-name\">Start Using Mediabox -></span></a>\n                            </li>\n                            \n                        </ul>\n                    </div>\n                </div>\n            </div>\n\n        </div>\n        <!-- /.container -->\n\n    </div>\n    <!-- /.intro-header -->\n\n    <!-- Page Content -->\n\n    <a  name=\"services\"></a>\n    <div class=\"content-section-a\">\n\n        <div class=\"container\">\n            <div class=\"row\">\n                <div class=\"col-lg-12 col-sm-12\">\n                    <hr class=\"section-heading-spacer\">\n                    <div class=\"clearfix\"></div>\n                    <h2 class=\"section-heading\"><center>How Advertisers Benefit :</center></h2>\n                   <div class=\"row lead\">\n                                <div class=\"hidden-xs space-top-15\"></div>\n                                <div class=\"devices-wrap col-sm-6 space-top-30\">\n                                    <ng-md-icon icon=\"swap_horiz\" class=\"material-icons md-48 orange600\"></ng-md-icon>\n                                    <h3 class=\"title-2\">BUY DIRECTLY !</h3>\n                                    <p>Discover and buy advertising space through our platform .Orders and creative are submitted directly to publisher</p>\n                                </div>\n                                <div class=\"devices-wrap col-sm-6 space-top-30\">\n                                    <ng-md-icon icon=\"language\" class=\"material-icons md-48 orange600\" style=\"font-size: 48px\"></ng-md-icon>\n                                      <h3 class=\"title-2\">ACCESS GLOBAL PUBLISHERS!</h3>\n                                       <p> Do not be limited by border boundaries  advertise  anywhere , any time with MediaBox </p>\n                                 </div>\n                                <div class=\"devices-wrap col-sm-6 space-top-30\">\n                                       <ng-md-icon icon=\"alarm\" class=\"material-icons md-48 orange600\"></ng-md-icon>\n                                    <h3 class=\"title-2\">SAVE TIME!</h3>\n                              <p>Plan ,negotiate and buy advertising space  at the comfort of your home or workplace ,No Back and Fourth</p>\n                                </div>\n                                <div class=\"devices-wrap col-sm-6 space-top-30\">\n                                      <ng-md-icon icon=\"thump_up\" class=\"material-icons md-48 orange600\"></ng-md-icon>\n                                     <h3 class=\"title-2\">RECOMMENDATIONS </h3>\n                <p>Help you to plan by giving you appropriate publishers that match your campaign objectives or budget</p>\n                                </div>\n                            </div>\n                </div>\n               \n            </div>\n\n        </div>\n        <!-- /.container -->\n\n    </div>\n    <!-- /.content-section-a -->\n\n    <div class=\"content-section-b\">\n\n        <div class=\"container\">\n\n            <div class=\"row\">\n                <div >\n                    <hr class=\"section-heading-spacer\">\n                    <div class=\"clearfix\"></div>\n                    <h2 class=\"section-heading\"><center>How Publishers benefit</center></h2>\n                     <div class=\"row lead \">\n                                <div class=\"hidden-xs space-top-15\"></div>\n                                <div class=\"devices-wrap col-sm-6 space-top-30\">\n                                <ng-md-icon icon=\"monetization_on\" class=\"material-icons md-48 orange600\"></ng-md-icon>\n                                  \n                                         <h3 class=\"title-2\">INCREASE REVENUE !</h3>\n                                         <p>Access competition from around the globe</p>\n                                </div>\n                                <div class=\"devices-wrap col-sm-6 space-top-30\">\n        \n                                    <ng-md-icon icon=\"language\" class=\"material-icons md-48 orange600\"></ng-md-icon>\n                                    <h3 class=\"title-2\">ACCESS GLOBAL DEMAND!</h3>\n                                    <p>Do not be limited by border boundaries  advertise  anywhere any time with MediaBox </p>\n                                 </div>\n                                <div class=\"devices-wrap col-sm-6 space-top-30\">\n                                      <ng-md-icon icon=\"alarm\" class=\"material-icons md-48 orange600\"></ng-md-icon>\n                                <h3 class=\"title-2\">SAVE TIME!</h3>\n                                <p>Approve proposals and recieve orders directly from  advertisers through the platform\n</p>\n                                </div>\n                                <div class=\"devices-wrap col-sm-6 space-top-30\">\n                                        <ng-md-icon icon=\"trending_up\" class=\"material-icons md-48 orange600\"></ng-md-icon>\n                                        <h3 class=\"title-2\">EASY TRACKING AND REPORTING </h3>\n                                        <p>Analyzing sales and consumer data</p>\n                                </div>\n                            </div>\n                </div>\n             \n            </div>\n\n        </div>\n        <!-- /.container -->\n\n    </div>\n    <!-- /.content-section-b -->\n\n\n    \n    <div class=\"content-section-a\">\n\n               <section class=\"lead\" style=\"margin:20px\">\n                \n                    <div class=\"title-wrap space-bottom-45\">\n                        <h3 class=\"section-heading\">We provide you with the technology that will help you in managing your advertising content </h3><p>This automation translates to significant benefits for both advertisers and publishers in the form of </p>\n                    </div>\n                    <div class=\"row\">\n                        <div class=\"col-sm-4 col-xs-12 text-center feature-list\">\n                            <div class=\"feature-wrap space-bottom-30\">\n                                <i  style=\"font-size: 35px;\" class=\"fa fa-dollar theme-color\"></i>\n                    <h3 class=\"title-2\">REDUCTION IN OPERATION COSTS </h3>\n                    <p>Publishers can free their sales teams to spend more time establishing high value relationships, whilst buyers can access a market of known publishers, known price and known availability, </p>\n                            </div>\n                        </div>\n                        <div class=\"col-sm-4 col-xs-12 text-center feature-list\">\n                            <div class=\"feature-wrap space-bottom-30\">\n                                <i  style=\"font-size: 35px;\"  class=\"fa fa-calculator theme-color\"></i>\n                    <h3 class=\"title-2\">MATERIAL EFFICIENCY GAINS</h3>\n                    <p>Be a master of effiency with the all in one platform for all your advertising content.</p>\n                            </div>\n                        </div>\n                        <div class=\"col-sm-4 col-xs-12 text-center feature-list\">\n                            <div class=\"feature-wrap space-bottom-30\">\n                                 <i   style=\"font-size: 35px;\"  class=\"fa fa-clock-o theme-color\"></i>\n                    <h3 class=\"title-2\">CONVINIENCE!</h3>\n                    <p>The only platform that manages the full advertising cycle, end to end.Media trading at the click of a button.</p>\n                            </div>\n                        </div>                    \n                    </div>\n                    \n                \n            </section>\n     \n        <!-- /.container -->\n\n    </div>\n    <!-- /.content-section-a -->\n\n     </div>\n\n      <!--how it works video-->\n\n         <section id=\"work-video\" class=\"white-bg\">\n                 <div class=\"top-content\">\n            <div class=\"container\">\n            \n                <div class=\"row\">\n                    <div class=\"col-sm-8 col-sm-offset-2 text\">\n                        <h1><center>Mediabox How It Works</center></h1>\n                        <p>\n                            Find out how  Mediabox can help you discover where to put your ad \n                        </p>\n                    </div>\n                </div>\n                <div class=\"row\">\n                    <div class=\"col-sm-9 col-sm-offset-4 video-link medium-paragraph\">\n                        <a href=\"#\" class=\"launch-modal\" data-modal-id=\"modal-video\">\n                            <span class=\"video-link-icon\"><i class=\"fa fa-play\"></i></span>\n                            <span class=\"video-link-text\">Launch  video</span>\n                        </a>\n                    </div>\n                </div>\n                <div class=\"row\">\n                    <div class=\"col-sm-12 social\">\n                        <a href=\"http://www.facebook.com/mediaboxzw\"><i class=\"fa fa-facebook\"></i></a> <span class=\"divider-2\"></span>\n                        <a href=\"http://twitter.com/mediaboxzw\"><i class=\"fa fa-twitter\"></i></a> <span class=\"divider-2\"></span>\n                        <a href=\"https://plus.google.com/mediaboxzw\"><i class=\"fa fa-google-plus\"></i></a>\n                    </div>\n                </div>\n                \n            </div>\n        </div>\n            </section>\n    <!-- /.banner -->\n\n    <!-- Popup: Video Player -->\n           <!-- MODAL: How it works -->\n        <div class=\"modal fade\" id=\"modal-video\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"modal-video-label\">\n            <div class=\"modal-dialog\" role=\"document\">\n                <div class=\"modal-content\">\n                  \n                    <div class=\"modal-body\">\n                        <div class=\"modal-video\">\n                            <div class=\"embed-responsive embed-responsive-16by9\">\n                                <iframe class=\"embed-responsive-item\" src=\"https://player.vimeo.com/video/196655771?title=0&amp;byline=0&amp;portrait=0&amp;badge=0&amp;color=e89a3e\" \n                                            webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n        \n\n<script type=\"text/javascript\">\n    \n\njQuery(document).ready(function() {\n    \n    /*\n        Background slideshow\n    */\n    $(\'.top-content\').backstretch(\"../../assets/images/1-e9b0d78203.jpg\");\n    \n    /*\n        Modals\n    */\n    $(\'.launch-modal\').on(\'click\', function(e){\n        e.preventDefault();\n        $( \'#\' + $(this).data(\'modal-id\') ).modal();\n    });\n    \n});\n\n\n(function( $ ) {\n\n    //Function to animate slider captions \n    function doAnimations( elems ) {\n        //Cache the animationend event in a variable\n        var animEndEv = \'webkitAnimationEnd animationend\';\n        \n        elems.each(function () {\n            var $this = $(this),\n                $animationType = $this.data(\'animation\');\n            $this.addClass($animationType).one(animEndEv, function () {\n                $this.removeClass($animationType);\n            });\n        });\n    }\n    \n    //Variables on page load \n    var $myCarousel = $(\'#carousel-example-generic\'),\n        $firstAnimatingElems = $myCarousel.find(\'.item:first\').find(\"[data-animation ^= \'animated\']\");\n        \n    //Initialize carousel \n    $myCarousel.carousel();\n    \n    //Animate captions in first slide on page load \n    doAnimations($firstAnimatingElems);\n    \n    //Pause carousel  \n    $myCarousel.carousel(\'pause\');\n    \n    \n    //Other slides to be animated on carousel slide event \n    $myCarousel.on(\'slide.bs.carousel\', function (e) {\n        var $animatingElems = $(e.relatedTarget).find(\"[data-animation ^= \'animated\']\");\n        doAnimations($animatingElems);\n    });  \n    $(\'#carousel-example-generic\').carousel({\n        interval:3000,\n        pause: \"false\"\n    });\n    \n})(jQuery); \n\n\n</script>\n\n\n    ");
$templateCache.put("app/documentation/install.html","<navbar leftmenu=\"true\"></navbar>\n<left-menu></left-menu>\n<div class=\"col-md-12\">\n    <ul class=\"breadcrumb\">\n        <li><a href=\"/\">Home</a>\n        </li>\n        <li>Legal</li>\n        <li>Terms</li>\n    </ul>\n</div>\n<div class=\"row\">\n<div class=\"col-md-2\">\n\n</div>\n\n<div class=\"col-md-8\">\n\n\n    <div class=\"box\" id=\"contact\">\n        <h1>Terms and Conditions</h1>\n        Effective Date: August 1, 2016</br>\nIn order to maintain a safe and trusted marketplace www.mediabox.co.zw and all related and affiliated websites (the Site) and to avoid use of the Site for unauthorized or unintended purposes, we require you and all other users of the Site (each, a User) to agree to and comply with these Terms of Use (the Terms). These Terms set forth the acceptable and prohibited uses of our Site .By accessing the Site or using any of the Site Services after the effective date, you agree to these Terms. You are also independently responsible for complying with all applicable laws related to your use of the Site or the Site Services whether or not covered by the Terms.</br>\n1. PROHIBITED SITE USE</br>\nThe uses described in these Terms are prohibited regardless of where on the Site they occur. For example, the activities are prohibited in campaign creation, proposals, in app messages, communications with customer service or disputes, the community forum, and Advertiser or Publisher feedback.</br>\n1.1 ILLEGAL, FRAUDULENT, HARMFUL, OR OFFENSIVE USES</br>\nYou may not use, or encourage, promote, facilitate, or instructor induce others to use, the Site or Services for any activities that violate any law, statute, ordinance or regulation; for any other illegal, fraudulent, harmful, or offensive purpose; or to transmit, store, trade ,display, distribute or otherwise make available content or material that is illegal, harmful, or offensive.\nExamples of prohibited uses of the Site or Site Services include:</br>\n Seeking, offering, trading ,or approving illegal, obscene, or pornographic material (i) that would violate the intellectual property rights, including copyrights, of another person, entity, service, product, or website or \n(ii) that would involve the creation , review,  editing  and trading of pornographic, erotic, obscene, or sexually explicit material;</br>\n Posting content/material that is offensive, defamatory, profane, vulgar, obscene, threatening, discriminatory, illegal, pornographic, obscene or sexually explicit in nature;</br>\n Seeking, offering, or approving any material that would violate MediaBoxs Terms of Service or the terms of service of another website or any other contractual obligations;\n Seeking, offering, or  approving any material that violate the academic policies of any educational institution;</br>\n Fraudulently billing or attempting to fraudulently bill any advertiser, including by (i) falsifying or manipulating or attempting to falsify or manipulate the reach /statistics (ii) reporting, or otherwise billing advertisers for campaigns that was not actually worked</br>\n Expressing a preference in a media or proposal or otherwise unlawfully discriminating on the basis of race, religion, color, national origin, ancestry, physical or mental disability, medical condition, genetic information, marital status, sex, gender, gender identity, gender expression, age, sexual orientation, military/veteran status or any basis protected by applicable law;</br>\n Posting or exchanging material that is harassing towards another person or violates the rights of a third party;</br>\n Posting identifying information concerning another person;</br>\n Making or demanding bribes;</br>\n Making or demanding payments without the intention of providing or receiving services in exchange for the payment; and</br>\n Spamming other Users.</br>\n\n1.2 ILLEGAL, FRAUDULENT, HARMFUL, OR OFFENSIVE USES</br>\nMediaBox makes the Site and Services available for advertisers and publishers to find one another, enter into service relationships, make and receive payments, receive and perform Media Trading Services. Users are expected to use the Site and Services for their intended purposes and Users may not use the Site and Services in contravention of their intended purposes. The following are examples of prohibited use of the Site:\n Posting the same product/site  multiple times so that more than one version remains active at a given time ;</br>\n Duplicating or sharing accounts;</br>\n Selling, trading, or giving an account to another person without  MediaBoxs consent;</br>\n Soliciting or processing payment outside of MediaBox in violation of the Terms of Service;</br>\n Listing products or services that are outside or beyond the scope of the MediaBox marketplace; </br>\n1.3 USING THE SITE TO POST FALSE OR MISLEADING CONTENT</br>\nAll profiles, proposals, and other content/material posted to the Site must be truthful and not misleading. Here are examples of uses that are prohibited:</br>\n Misrepresenting a Publishers reach or statistics , or information;</br>\n Allowing another person to use your account, which is misleading to other Users;</br>\n Falsely stating or implying a relationship with MediaBox or with another company with whom you do not have a relationship;</br>\n Falsely stating or implying a relationship with another User, including a user  continuing to use a MediaBoxs profile or information after the user no longer works with the Agency/Advertiser/Publisher; </br>\n2. ENFORCEMENT</br>\nWe reserve the right, but do not assume the obligation, to investigate any violation of these Terms. We may investigate violations and may remove, disable access to, or modify any content that violates these Terms.\nWe may report any activity that we suspect violates any law or regulation to appropriate law enforcement officials, regulators, or other appropriate third parties. Our reporting may include disclosing appropriate User information. We also may cooperate with appropriate law enforcement agencies, regulators, or other appropriate third parties to help with the investigation and prosecution of illegal conduct by providing network and systems information related to alleged violations of these Terms.</br>\n3. REPORTING AND CORRECTING VIOLATIONS</br>\nIf you become aware of any violation of these Terms, you must immediately report it to Customer Service. You agree to assist us with any investigation we undertake and to take any remedial steps we require in order to correct a violation of these Terms.</br>\n\n\n\n\n\n\n    </div>\n\n\n</div>\n\n<!-- /.col-md-8 -->\n<div class=\"col-md-2\">\n\n</div>\n</div>\n<footer></footer>\n");
$templateCache.put("app/documentation/use.html","<doc-menu></doc-menu>\n\n<div flex layout-padding layout=\"row\">\n<section class=\"doc\" flex>\n\n<h2>Home</h2>\n<hr>\nThis is the main page of our AngularJS e-commerce store.\nHere we get \n<ul>\n  <li>- List of all products</li>\n  <li>- Filter Products: based on `Price (Price Slider), Brand, Features (Color, Type, Fit, Fabric, Neck)`</li>\n  <li>- Sort: Based on Price and Name</li>\n</ul> \n\n\n\nEach product contains a add to cart button.\nOnce the product is added into the cart, we get the increase or decrease cart quantity option\n\nBy clicking each product we arrive at the product detail page\n\n<h2>Product Details</h2>\nThis page presents the complete details of the product\n<ol>\n  <li>Product name</li>\n  <li>Description</li>\n  <li>Price, MRP</li>\n  <li>Product Image (Including additional images)</li>\n  <li>Brand</li>\n  <li>Category</li>\n  <li>Quantity in cart</li>\n  <li>Size</li>\n  <li>Features</li>\n</ol>\n\n<h2>Search</h2>\n<hr>\n\nThe top navigation bar of the website has a search box which autocompletes with product info while user starts typing. By clicking a suggested item in the search bar, the page navigates to the product details page of the selected product.\n\n<h2>Category</h2>\n<hr>\n\nGet the current category name with all products under it<br/>\nThis page also has all the filter and sort options.\n\n    <h2 id=\"shopping-cart\">Shopping Cart</h2>\n    <p>This store is featured with a shopping cart facility which is easy to use and fast.\n    <ul>\n      <li>Get quick summary of what is there in Cart</li>\n      <li>Modify the cart quantity</li>\n      <li>Checkout using Paypal</li>\n    </ul>\n    </p>\n    <!--<div class=\"image\"><a><img src=\"/assets/images/cart.png\" class=\"img-responsive\" alt=\"Shopping Cart\"></a></div>-->\n    <hr>\n\n<h2>Login / Signup</h2>\n<hr>\n <p>Features like Signup / SignIn / Change Password / Logout is integrated into this application already with high level of security, so that you no longer need to be worry about implementing all those features into the application</p>\n\nA user need <b>not</b> have to navigate to a separate page to login or signup. It comes as a popup which is a huge ui improvement.\n\nThis login popup has a advantage of poping out for any route when a guest user tries to access a restricted page\n\nBoth the login and signup page has the option for connect using facebook, twitter, google as well\n\n<h2>Checkout</h2>\n<hr>\n<ul>\n  <li>The checkout page Displays the Order Amount + Shipping Charge</li>\n  <li>This also has an option discount coupons which is applied if valid.</li>\n  <li>Here the user can choose the Payment options (Cash On Delivery, Paypal)</li>\n  <li>This page automatically choose the best available Shipping Options based on the total order weight and the shipper availability.</li>\n  <li>While checkout the user can choose from any saved address.</li>\n</ul> \n\n\n\n\n\n<h2>Address Management</h2>\n<hr>\nThe address management is integrated into the checkout page to make the checkout experience single view and easy.\nHere the user can store and manage different addresses.\n\n<h2>Order Management</h2>\n<hr>\nThe user has the facility to view the order history.\nAdministrators can change order status + payment status\n<p><em>Users:</em> All the orders placed by the logged in user is available in this view. </p>\n      <p><em>Administrators:</em>  This view presents all orders placed by users with the option to change order status and shipping</p>\n    <!--<div class=\"image\"><a><img src=\"/assets/images/order.png\" class=\"img-responsive\" alt=\"Orders History\"></a></div>-->\n    <hr>\n\n<h2>User Management</h2>\n<hr>\n<em>Users: </em><br/>\nChange Password<br/>\nForgot Password<br/>\n<em>Administrators: </em>User role management \n\n<h2>Media Library</h2>\n<hr>\n<ul>\n  <li>Now the shop has a new media library where the shop managers can upload any image that is to be used in the shopping application</li>\n  <li>Clicking on each image displays the details about it as well as an option to delete it</li>\n</ul> \n\n\n<h2>Products (Role: Managers, Administrators)</h2>\n<hr>\nProduct details can be added, modified and deleted using this page. \nEach product can be associated into a single Brand, Category \nA product can have\n<ul>\n  <li>+ Multiple features</li>\n  <li>+ Multiple key features</li>\n  <li>+ Multiple product images</li>\n</ul>\n<ul>\n  <li>The list contains all the available products with a search box to filter the list.</li>\n  <li>Clicking on a product at the product list will populate the details of the product at the right sidebar</li>\n  <li>The right sidebar has option to change product name, details, brand, category</li>\n  <li>This sidebar also contains a module to manage product images</li>\n</ul>\n\n<h2>Manage Brands</h2>\n<p>Administrators can add, edit, delete, filter brands of their store from this view</p>\n\n<h2>Manage Categories</h2>\n<ul>\n  <li>Categories are presented in Parent-Child manner in this store for better organisation of products.</li>\n  <li>Store\'s navigation bar at top contains all the categories arranged in parent-child fashion.</li>\n  <li>This view provides facility to add both parent and child categories, re-arrange category association according to their requirement.</li>\n</ul>\n    <!--<div class=\"image\"><a><img src=\"/assets/images/store.png\" class=\"img-responsive\" alt=\"Store Front\"></a></div>-->\n    <hr>\n    </div>\n</section>\n</div>");
$templateCache.put("app/feature/feature.html","<crud-table api=\'feature\' options=\'options\'></crud-table>\n");
$templateCache.put("app/keyfeature/keyfeature.html","<crud-table api=\'keyfeature\' options=\'options\'></crud-table>\n");
$templateCache.put("app/media/media.html","<navbar leftmenu=\"true\"></navbar>\n<left-menu></left-menu>\n<div class=\"container\">\n<div layout-align=\"start center\" layout=\"column\">\n<h2 class=\"md-title\">Media Library</h2>\n<md-progress-linear md-mode=\"determinate\" value=\"{{progress}}\" class=\"md-warn\" ng-show=\"progress >= 0\"></md-progress-linear>\n<!-- <span class=\"progress\">\n	<div style=\"width:{{progress}}%\" ng-bind=\"progress + \'%\'\"></div>\n</span> -->\n</div>\n<div layout=\"column\">\n	<div ngf-drop ngf-select ng-model=\"files\" class=\"drop-box\"\n			ngf-drag-over-class=\"\'dragover\'\" ngf-multiple=\"true\" ngf-allow-dir=\"true\"\n			accept=\"image/*\"\n			ngf-pattern=\"\'image/*\'\">Drop images here to upload<br/>\n			or <br/>\n		<md-button tabindex=\"0\"\n		class=\"md-button md-default-theme md-warn md-raised\"\n		ngf-multiple=\"true\"\n		aria-label=\"Open file select panel\"\n		ngf-select=\"upload($files)\">\n			<ng-md-icon icon=\"cloud\"></ng-md-icon> Select Files\n		</md-button>\n	</div>\n\n	<div ngf-no-file-drop>File Drag/Drop is not supported for this browser</div>\n\n	<md-grid-list md-cols-xs =\"1\" md-cols-sm=\"3\" md-cols-md=\"5\" md-cols-lg=\"6\" md-cols-gt-lg=\"10\" md-row-height-gt-md=\"1:1\" md-row-height=\"4:3\" md-gutter=\"12px\" md-gutter-gt-sm=\"8px\">\n\n		<md-grid-tile ng-repeat=\"i in data\" class=\"md-whiteframe-z2\" ng-click=\"imageDetails(i)\">\n\n			<div class=\"thumbnail\">\n					<img ng-src=\"{{i.path}}\" draggable=\"false\" alt=\"{{i.name}}\">\n			</div>\n			<md-grid-tile-footer><h3>{{i.name}}</h3></md-grid-tile-footer>\n		</md-grid-tile>\n	</md-grid-list>\n\n	<pre ng-if=\"files[0].$error\">Upload Log: {{f.$error}} {{f.$errorParam}}</pre>\n</div>\n</div>\n<footer></footer>\n");
$templateCache.put("app/order/order.html","<navbar leftmenu=\"true\"></navbar>\n<left-menu></left-menu>\n<md-card>\n      <md-card-header style=\"background:#e2ee22\" ng-if=\"order.payment.id\">\n          <md-card-header-text>\n            <h3>Order placed successfully</h3>\n            <span class=\"md-subhead\" >\n                <span ng-if=\"order.payment.id\">Payment ID: {{order.payment.id}}</span><br/>\n            </span>\n          </md-card-header-text>\n          \n      </md-card-header>\n</md-card>\n<md-content class=\"content md-padding\" layout=\"column\" layout-align=\"start center\">\n     \n      <!--When No Orders-->\n      <section ng-if=\"order.orders.length===0\" class=\"header\" layout=\"column\" layout-align=\"center stretch\">\n        <h1>You have not purchased anything yet</h1>\n        <md-button ui-sref=\"/\" class=\"md-primary md-raised\">\n        <ng-md-icon icon=\"shopping_cart\"></ng-md-icon>Shop Now\n\n        </md-buton>\n      </section>\n\n \n      <div class=\"container\"  ng-if=\"order.orders.length >0\">\n<h3>Transaction History</h3>\n<div class=\"box\" >\n        <div class=\"row\">\n        \n              <div class=\"col-sm-4\" style=\"border-right: bold\">\n                <h3 >Total Spent:<br> &nbsp;<br>{{order.orders.total | currency}}</h3>\n              </div>\n              <div class=\"col-sm-4\"><h3>How you pay</h3><br><small>manage</small></div>\n              <div class=\"col-sm-4\"><h3><a href=\"/address\">Advertising Profile</a></h3><br><p>Company:{{order.Auth.getCurrentUser().company}}<br>Contact Name:{{order.Auth.getCurrentUser().name}}<b/><br>Phone :{{order.Auth.getCurrentUser().phone}}<br>Email: {{order.Auth.getCurrentUser().email}}</div>\n          \n        </div>\n </div>\n<div class=\"box\">\n  <div class=\"row\">\n<div class=\"col-md-12\">\n   <div style=\"margin-top:20px\" class=\"small\" dw-loading=\"orders\" dw-loading-options=\"{active: true, text: \'\', className: \'custom-loading\', spinnerOptions: {lines: 12, length: 20, width: 6, radius: 20, color: \'#d9534f\', direction: -1, speed: 3}}\"></div>\n  <div ng-controller = \"OrderController as vm\">\n    <kendo-grid options=\"vm.mainGridOptions\">\n\n    <div k-detail-template>\n\n\n        <kendo-tab-strip>\n        <ul>\n            <li class=\"k-state-active\">ORDER DETAILS</li>\n           <!-- <li>PUBLISHER </li>-->\n        </ul>\n        <div>\n            <div kendo-grid k-options=\"vm.detailGridOptions(dataItem)\"></div>\n        </div>\n        <div>\n            <ul class=\"contact-info-form\">\n               <li><label>Name:</label> {{dataItem.items[0].publisher}}</li>\n                <<!-- li><label>City:</label> {{dataItem.City}}</li>\n                <li><label>Email:</label> {{dataItem.Address}}</li>\n                <li><label>Home phone:</label> {{dataItem.HomePhone}}</li> -->\n            </ul>\n        </div>\n        </kendo-tab-strip>\n    </div>\n</kendo-grid>\n</div>\n</div>\n</div>\n</div>\n</div>\n\n</md-content>\n<footer></footer>\n\n<script>\n        /*\n            This demo renders the grid in \"DejaVu Sans\" font family, which is\n            declared in kendo.common.css. It also declares the paths to the\n            fonts below using <tt>kendo.pdf.defineFont</tt>, because the\n            stylesheet is hosted on a different domain.\n        */\n        kendo.pdf.defineFont({\n            \"DejaVu Sans\"             : \"//kendo.cdn.telerik.com/2016.2.607/styles/fonts/DejaVu/DejaVuSans.ttf\",\n            \"DejaVu Sans|Bold\"        : \"//kendo.cdn.telerik.com/2016.2.607/styles/fonts/DejaVu/DejaVuSans-Bold.ttf\",\n            \"DejaVu Sans|Bold|Italic\" : \"//kendo.cdn.telerik.com/2016.2.607/styles/fonts/DejaVu/DejaVuSans-Oblique.ttf\",\n            \"DejaVu Sans|Italic\"      : \"//kendo.cdn.telerik.com/2016.2.607/styles/fonts/DejaVu/DejaVuSans-Oblique.ttf\"\n        });\n    </script>\n    <script type=\"text/x-kendo-template\" id=\"template\">\n                <div class=\"toolbar\">\n                    <label class=\"category-label\" for=\"category\">Show products by category:</label>\n                    <input type=\"search\" id=\"category\" style=\"width: 150px\"/>\n                </div>\n            </script>\n\n    <script type=\"x/kendo-template\" id=\"page-template\">\n      <div class=\"page-template\">\n        <div class=\"header\">\n          <div style=\"float: right\">Page #: pageNum # of #: totalPages #</div>\n          A Taste for convinience\n        </div>\n        <div class=\"watermark\">MEDIABOX</div>\n        <div class=\"footer\">\n          Page #: pageNum # of #: totalPages #\n        </div>\n      </div>\n    </script>");
$templateCache.put("app/medias/medias.html","<navbar leftmenu=\"true\"></navbar>\n<left-menu></left-menu>\n<div class=\"container\">\n<div layout-align=\"start center\" layout=\"column\">\n<h2 class=\"md-title\">Media Library</h2>\n<md-progress-linear md-mode=\"determinate\" value=\"{{progress}}\" class=\"md-warn\" ng-show=\"progress >= 0\"></md-progress-linear>\n<!-- <span class=\"progress\">\n	<div style=\"width:{{progress}}%\" ng-bind=\"progress + \'%\'\"></div>\n</span> -->\n</div>\n<div layout=\"column\">\n	<!-- <div ngf-drop ngf-select ng-model=\"files\" class=\"drop-box\"\n			ngf-drag-over-class=\"\'dragover\'\" ngf-multiple=\"true\" ngf-allow-dir=\"true\"\n			accept=\"image/*\"\n			ngf-pattern=\"\'image/*\'\">Drop images here to upload<br/>\n			or <br/>\n		<md-button tabindex=\"0\"\n		class=\"md-button md-default-theme md-warn md-raised\"\n		ngf-multiple=\"true\"\n		aria-label=\"Open file select panel\"\n		ngf-select=\"upload($files)\">\n			<ng-md-icon icon=\"cloud\"></ng-md-icon> Select Files\n		</md-button>\n	</div>\n\n	<div ngf-no-file-drop>File Drag/Drop is not supported for this browser</div> -->\n\n	<md-grid-list md-cols-xs =\"1\" md-cols-sm=\"3\" md-cols-md=\"5\" md-cols-lg=\"6\" md-cols-gt-lg=\"10\" md-row-height-gt-md=\"1:1\" md-row-height=\"4:3\" md-gutter=\"12px\" md-gutter-gt-sm=\"8px\">\n\n		<md-grid-tile ng-repeat=\"i in data\" class=\"md-whiteframe-z2\" ng-click=\"imageDetails(i)\">\n\n			<div class=\"thumbnail\">\n					<img ng-src=\"{{i.path}}\" draggable=\"false\" alt=\"{{i.name}}\">\n			</div>\n			<md-grid-tile-footer><h3>{{i.name}}</h3></md-grid-tile-footer>\n		</md-grid-tile>\n	</md-grid-list>\n\n	<pre ng-if=\"files[0].$error\">Upload Log: {{f.$error}} {{f.$errorParam}}</pre>\n</div>\n</div>\n<footer></footer>\n");
$templateCache.put("app/orders/orders.html","<navbar leftmenu=\"true\"></navbar>\n<left-menu></left-menu>\n<div class=\"container\">\n <!--When No Orders-->\n      <section ng-if=\"order.orders.total===0\" class=\"header\" layout=\"column\" layout-align=\"center stretch\">\n        <h1>You have not recieved any payments yet</h1>\n        <md-button ui-sref=\"/\" class=\"md-primary md-raised\">\n        <ng-md-icon icon=\"shopping_cart\"></ng-md-icon>Shop Now\n\n        </md-buton>\n      </section>\n<div class=\"box\">\n        <div class=\"row\">\n        \n              <div class=\"col-sm-4\" style=\"border-right: bold\">\n                <h3 >Orders Total :<br> &nbsp;<br>{{orders.orders.total | currency}}</h3>\n              </div>\n              <div class=\"col-sm-4\"><h3>How You get paid</h3><br><small><a href=\"/profile\">manage</a></small></div>\n               <div class=\"col-sm-4\"><h3><a href=\"/profile\">Advertising Profile</a></h3><br><p>Company:{{orders.Auth.getCurrentUser().company}}<br>Contact Name:{{user.name}}<b/><br>Phone :{{orders.Auth.getCurrentUser().phone}}<br>Email: {{orders.Auth.getCurrentUser().email}}</div>\n          \n        </div>\n </div>\n<div class=\"box\">\n  <div style=\"margin-top:20px\" class=\"small\" dw-loading=\"orders\" dw-loading-options=\"{active: true, text: \'\', className: \'custom-loading\', spinnerOptions: {lines: 12, length: 20, width: 6, radius: 20, color: \'#d9534f\', direction: -1, speed: 3}}\"></div>\n    \n      <div ng-controller = \"OrdersController as vm\">\n    <kendo-grid options=\"vm.mainGridOptions\">\n\n    <div k-detail-template>\n\n\n        <kendo-tab-strip>\n        <ul>\n            <li class=\"k-state-active\">ORDER DETAILS</li>\n            <li>ADVERTISER</li>\n        </ul>\n        <div>\n            <div kendo-grid k-options=\"vm.detailGridOptions(dataItem)\"></div>\n        </div>\n        <div>\n            <ul class=\"contact-info-form\">\n            <li><label>Name:</label> {{dataItem.address.recipient_name}}</li>\n                <li><label>Address:</label>{{dataItem.address.line1}}</li>\n                 <li><label>&nbsp;</label>{{dataItem.address.city}}</li>\n                 <li><label>&nbsp;</label>{{dataItem.address.country_code}}</li>\n                <li><label>Email:</label> {{dataItem.email}}</li>\n                <li><label>Phone:</label> {{dataItem.phone}}</li>\n                          \n            </ul>\n        </div>\n        </kendo-tab-strip>\n    </div>\n</kendo-grid>\n</div>\n\n \n</div>\n</div>\n\n\n<footer></footer>\n\n<script>\n        /*\n            This demo renders the grid in \"DejaVu Sans\" font family, which is\n            declared in kendo.common.css. It also declares the paths to the\n            fonts below using <tt>kendo.pdf.defineFont</tt>, because the\n            stylesheet is hosted on a different domain.\n        */\n        kendo.pdf.defineFont({\n            \"DejaVu Sans\"             : \"//kendo.cdn.telerik.com/2016.2.607/styles/fonts/DejaVu/DejaVuSans.ttf\",\n            \"DejaVu Sans|Bold\"        : \"//kendo.cdn.telerik.com/2016.2.607/styles/fonts/DejaVu/DejaVuSans-Bold.ttf\",\n            \"DejaVu Sans|Bold|Italic\" : \"//kendo.cdn.telerik.com/2016.2.607/styles/fonts/DejaVu/DejaVuSans-Oblique.ttf\",\n            \"DejaVu Sans|Italic\"      : \"//kendo.cdn.telerik.com/2016.2.607/styles/fonts/DejaVu/DejaVuSans-Oblique.ttf\"\n        });\n    </script>\n    <script type=\"text/x-kendo-template\" id=\"template\">\n                <div class=\"toolbar\">\n                    <label class=\"category-label\" for=\"category\">Show products by category:</label>\n                    <input type=\"search\" id=\"category\" style=\"width: 150px\"/>\n                </div>\n            </script>\n\n    <script type=\"x/kendo-template\" id=\"page-template\">\n      <div class=\"page-template\">\n        <div class=\"header\">\n          <div style=\"float: right\">Page #: pageNum # of #: totalPages #</div>\n          A Taste for convinience\n        </div>\n        <div class=\"watermark\">MEDIABOX</div>\n        <div class=\"footer\">\n          Page #: pageNum # of #: totalPages #\n        </div>\n      </div>\n    </script>\n\n");
$templateCache.put("app/review/review.html","<crud-table api=\'review\' options=\'review.options\' sort=\"created\" noAdd noEdit noCopy></crud-table>\n\n");
$templateCache.put("app/reviews/reviews.html","<crud-table api=\'review\' options=\'reviews.options\' sort=\"created\"></crud-table>\n\n");
$templateCache.put("app/product/detail.html","<md-toolbar class=\"md-hue-1\" id=\"user-detail-toolbar\">\n	<span layout=\"row\" layout-align=\"space-between\" class=\"md-toolbar-tools md-toolbar-tools-top\">\n		<md-button ng-click=\"detail.goBack();\" aria-label=\"Close detail view\">\n			<ng-md-icon icon=\"close\" aria-label=\"Close dialog\"></ng-md-icon>\n		</md-button>\n		<h3 style=\"margin-top: 15px\">Edit {{ detail.product.name | labelCase}}</h3>\n		<md-button aria-label=\"-\">\n		</md-button>\n	</span>\n</md-toolbar>\n<md-content class=\"md-padding\" flex layout-fill ng-cloak id=\"user-detail-content\">\n	<section class=\"section\" layout=\"row\">\n    \n<form name=\"form\" layout=\"column\" layout-fill layout-align=\"space-between\" ng-submit=\"detail.save(detail.product);detail.goBack();\" novalidate autocomplete=\"off\">\n		<span layout=\"column\" layout-sm=\"column\">\n		  <!--<md-content>-->\n				<br/>\n			    <section layout=\"column\">\n							<span layout=\"row\">\n								<!--<md-input-container flex>\n									<label>SKU</label>\n									<input name=\"sku\" ng-model=\"detail.product.sku\" md-autofocus>\n								</md-input-container>-->\n\n								<md-input-container flex>\n									<label>Name</label>\n									<input name=\"name\" ng-model=\"detail.product.name\"/>\n								</md-input-container>\n							</span>\n								<md-input-container flex>\n									<label>Description</label>\n									<textarea name=\"description\" ng-model=\"detail.product.info\" rows=\"2\"></textarea>\n								</md-input-container>\n								<span layout=\"row\">\n									<md-input-container flex>\n										<label>Platform</label>\n										<md-select ng-model=\"detail.product.category\" ng-change=\"detail.changeCategory(o.name)\">\n											<md-option ng-repeat=\"o in detail.options.categories\" value=\"{{o._id}}\">\n												{{o.name}} - <b>{{o.parent.name}}</b>\n											</md-option>\n										</md-select>\n										<md-button ui-sref=\"category\"><ng-md-icon icon=\"subject\"></ng-md-icon>New Platform</md-button>\n									</md-input-container>\n									<md-input-container flex>\n										<label>Category</label>\n										<md-select ng-model=\"detail.product.brand\">\n											<md-option ng-repeat=\"o in detail.options.brands\" value=\"{{o._id}}\">\n												{{o.name}}\n											</md-option>\n										</md-select>\n										<md-button ui-sref=\"brand\"><ng-md-icon icon=\"verified_user\"></ng-md-icon>New Category</md-button>\n									</md-input-container>\n								</span>\n								\n\n							<span layout=\"row\">\n								<!-- <md-input-container flex>\n									<label>SKU</label>\n									<input name=\"sku\" ng-model=\"detail.product.sku\" md-autofocus>\n								</md-input-container> -->\n\n								<md-input-container flex>\n									<label>Website</label>\n									<input name=\"sku\" ng-model=\"detail.product.website\" md-autofocus>\n								\n								</md-input-container>\n\n								<md-input-container flex>\n									<label>Logo</label>\n									<input class=\"inputfile\" type=\"file\" ng-model=\"detail.product.logo\" name=\"inputFile\" base-sixty-four-input  maxsize=\"500\" accept=\"image/*\"/>\n											\n\n								</md-input-container>\n\n								<div class=\"product-thumbnail\">\n                                      \n	                           	   <a>\n	                                    <img data-ng-src=\"data:image/png;base64,{{detail.product.logo.base64}}\"  alt=\"{{item.publisher}}\" style=\"width: 50px;\">\n	                                </a>\n\n\n                                </div>\n								\n							</span>\n							<span layout=\"row\">\n								<md-input-container flex>\n									<label>Phone</label>\n									<input name=\"sku\" ng-model=\"detail.product.phone\" md-autofocus>\n								</md-input-container>\n\n								<md-input-container flex>\n									<label>Email</label>\n									<input name=\"sku\" ng-model=\"detail.product.email\" md-autofocus>\n								\n								</md-input-container>\n								\n							</span>\n\n							<md-input-container flex>\n									<label>Terms Of Use</label>\n									<textarea name=\"description\" ng-model=\"detail.product.terms\" rows=\"2\"></textarea>\n								</md-input-container>\n			    </section>\n			    <section>\n			      <md-subheader class=\"md-warn\">General Features</md-subheader> \n						<md-button ui-sref=\"feature\"><ng-md-icon icon=\"spellcheck\"></ng-md-icon>New Feature</md-button>\n						<table md-colresize=\"md-colresize\" class=\"md-table\" id=\"exportable\">\n							<thead>\n								<tr class=\"md-table-headers-row\">\n									<th class=\"md-table-header\">#</th>\n									<th class=\"md-table-header\">Key</th>\n									<th class=\"md-table-header\">Value</th>\n									<th class=\"md-table-header\"></th>\n								</tr>\n							</thead>\n\n							<tbody>\n\n								<tr ng-repeat=\"feature in detail.product.features track by $index\" id=\"{{feature._id}}\"\n										class=\"md-table-content-row\"\n										ng-class=\"{\'selected\': detail.isSelected(p)}\">\n									<td>{{$index+1}}</td>\n									<td>\n										<md-input-container flex>\n											<md-select ng-model=\"feature.key\" aria-label=\"Features Key\">\n												<md-option ng-repeat=\"o in detail.options.features | unique: \'key\'\" value=\"{{o.key}}\">\n													{{o.key}}\n												</md-option>\n											</md-select>\n										</md-input-container>\n									</td>\n									<td>\n										<md-input-container flex>\n											<md-select ng-model=\"feature.val\" aria-label=\"Features Value\">\n												<md-option ng-repeat=\"o in detail.options.features | filter: feature.key | unique: \'val\'\" value=\"{{o.val}}\">\n													{{o.val}}\n												</md-option>\n											</md-select>\n										</md-input-container>\n									</td>\n									<td>\n										<md-button class=\"md-icon-button\" aria-label=\"Delete Feature\" ng-click=\"detail.deleteFeature($index,detail.product);\"><ng-md-icon icon=\"delete\"></ng-md-icon></md-button>\n									</td>\n								</tr>\n								<tr>\n									<td></td>\n									<td>\n										<md-input-container flex>\n											<md-select ng-model=\"detail.product.features[detail.product.features.length].key\" aria-label=\"Features Key\">\n												<md-option ng-repeat=\"o in detail.options.features | unique: \'key\'\" value=\"{{o.key}}\">\n													{{o.key}}\n												</md-option>\n											</md-select>\n										</md-input-container>\n									</td>\n									<td>\n										<md-input-container flex>\n											<md-select ng-model=\"detail.product.features[detail.product.features.length].val\" aria-label=\"Features Value\">\n												<md-option ng-repeat=\"o in detail.options.features | filter: feature.key | unique: \'val\'\" value=\"{{o.val}}\">\n													{{o.val}}\n												</md-option>\n											</md-select>\n										</md-input-container>\n									</td>\n									<td></td>\n								</tr>\n							</tbody>\n			      </table>\n			    </section>\n			    <section>\n			      <md-subheader class=\"md-warn\">Key Features</md-subheader>\n						<a href=\"/keyfeature\" class=\"pull-right\">Create New</a>\n						<table md-colresize=\"md-colresize\" class=\"md-table\" id=\"exportable\">\n							<thead>\n								<tr class=\"md-table-headers-row\">\n									<th class=\"md-table-header\">#</th>\n									<th class=\"md-table-header\">Key</th>\n									<th class=\"md-table-header\">Value</th>\n									<th class=\"md-table-header\"></th>\n								</tr>\n							</thead>\n\n							<tbody>\n\n								<tr ng-repeat=\"keyfeature in detail.product.keyFeatures track by $index\" id=\"{{keyfeature._id}}\"\n										class=\"md-table-content-row\"\n										ng-class=\"{\'selected\': detail.isSelected(p)}\">\n									<td>{{$index+1}}</td>\n									<td>\n										<md-input-container flex>\n											<md-select ng-model=\"keyfeature.key\" aria-label=\"KeyFeatures Key\">\n												<md-option ng-repeat=\"o in detail.options.keyfeatures | unique: \'key\'\" value=\"{{o.key}}\">\n													{{o.key}}\n												</md-option>\n											</md-select>\n										</md-input-container>\n									</td>\n									<td>\n										<md-input-container flex>\n											<input name=\"size\" ng-model=\"keyfeature.val\"  aria-label=\"Features Value\"/>\n\n											\n										</md-input-container>\n									</td>\n									<td>\n										<md-button class=\"md-icon-button\" aria-label=\"Delete Key Feature\" ng-click=\"detail.deleteKeyFeature($index,detail.product);\"><ng-md-icon icon=\"delete\"></ng-md-icon></md-button>\n									</td>\n								</tr>\n								<tr>\n									<td></td>\n									<td>\n										<md-input-container flex>\n											<md-select ng-model=\"detail.product.keyFeatures[detail.product.keyFeatures.length].key\" aria-label=\"KeyFeatures Key\">\n												<md-option ng-repeat=\"o in detail.options.keyfeatures | unique: \'key\'\" value=\"{{o.key}}\">\n													{{o.key}}\n												</md-option>\n											</md-select>\n										</md-input-container>\n									</td>\n									<td>\n										<md-input-container flex>\n										<input name=\"size\" ng-model=\"detail.product.keyFeatures[detail.product.keyFeatures.length].val\"  aria-label=\"KeyFeatures Value\"/>\n											\n										</md-input-container>\n									</td>\n									<td></td>\n								</tr>\n							</tbody>\n			      </table>\n			    </section>\n\n			    <section>\n			      <md-subheader class=\"md-warn\">General Statistics</md-subheader> \n						<md-button ui-sref=\"stat\"><ng-md-icon icon=\"spellcheck\"></ng-md-icon>New entry</md-button>\n						<table md-colresize=\"md-colresize\" class=\"md-table\" id=\"exportable\">\n							<thead>\n								<tr class=\"md-table-headers-row\">\n									<th class=\"md-table-header\">#</th>\n									<th class=\"md-table-header\">Key</th>\n									<th class=\"md-table-header\">Value</th>\n									<th class=\"md-table-header\"></th>\n								</tr>\n							</thead>\n\n							<tbody>\n\n								<tr ng-repeat=\"stat in detail.product.stats track by $index\" id=\"{{stat._id}}\"\n										class=\"md-table-content-row\"\n										ng-class=\"{\'selected\': detail.isSelected(p)}\">\n									<td>{{$index+1}}</td>\n									<td>\n										<md-input-container flex>\n											<md-select ng-model=\"stat.key\" aria-label=\"stats Key\">\n												<md-option ng-repeat=\"o in detail.options.statistics | unique: \'key\'\" value=\"{{o.key}}\">\n													{{o.key}}\n												</md-option>\n											</md-select>\n										</md-input-container>\n									</td>\n									<td>\n										<md-input-container flex>\n										<input name=\"size\" ng-model=\"stat.val\" aria-label=\"Statistics\"/>\n											\n										</md-input-container>\n									</td>\n									<td>\n										<md-button class=\"md-icon-button\" aria-label=\"Delete stat\" ng-click=\"detail.deleteStat($index,detail.product);\"><ng-md-icon icon=\"delete\"></ng-md-icon></md-button>\n									</td>\n								</tr>\n								<tr>\n									<td></td>\n									<td>\n										<md-input-container flex>\n											<md-select ng-model=\"detail.product.stats[detail.product.stats.length].key\" aria-label=\"stats Key\">\n												<md-option ng-repeat=\"o in detail.options.statistics | unique: \'key\'\" value=\"{{o.key}}\">\n													{{o.key}}\n												</md-option>\n											</md-select>\n										</md-input-container>\n									</td>\n									<td>\n										<md-input-container flex>\n\n											<input name=\"statistics\"  ng-model=\"detail.product.stats[detail.product.statistics.length].val\" aria-label=\"Statistics\"/>\n											\n										</md-input-container>\n									</td>\n									<td></td>\n								</tr>\n							</tbody>\n			      </table>\n			    </section>\n			    <section>\n			      <md-subheader class=\"md-accent\">Media Options</md-subheader>\n\n			   						<table md-colresize=\"md-colresize\" class=\"md-table\" id=\"exportable\">\n							<thead>\n								<tr class=\"md-table-headers-row\">\n									<th class=\"md-table-header\">#</th>\n									<th class=\"md-table-header\">Preview</th>\n									<th class=\"md-table-header\">Name</th>\n									<th class=\"md-table-header\">Dimensions</th>\n									<th class=\"md-table-header\">Fomart</th>\n									<th class=\"md-table-header\">Model</th>\n									<th class=\"md-table-header\">Price</th>\n									<th class=\"md-table-header\" width=\"10px\">Image</th>\n									<th class=\"md-table-header\"></th>\n								</tr>\n							</thead>\n\n							<tbody>\n\n								<tr ng-repeat=\"v in detail.product.variants track by $index\" id=\"{{v._id}}\"\n										class=\"md-table-content-row\"\n										ng-class=\"{\'selected\': detail.isSelected(p)}\">\n									<td>{{$index+1}}</td>\n									<td>\n										<md-input-container flex>\n											<img ng-hide=\"v.image\" src=\"/assets/img/preview.png\" style=\"height:50px\" >\n											<img ng-if=\"v.image\" ng-src=\"{{v.image}}\" src=\"/assets/img/preview.png\" style=\"height:50px\">\n										</md-input-container>\n									</td>\n									<td>\n										<md-input-container flex>\n											<input name=\"size\" ng-model=\"v.name\" aria-label=\"Media Name\"/>\n\n										</md-input-container>\n									</td>\n									<td>\n										<md-input-container flex>\n											<input name=\"size\" ng-model=\"v.size\" aria-label=\"Dimensions\"/>\n										</md-input-container>\n									</td>\n									<td>\n										<md-input-container flex>\n											<input name=\"weight\" ng-model=\"v.formart\" aria-label=\"Media Formart\"/>\n										</md-input-container>\n									</td>\n									<td>\n										<md-input-container flex>\n											<input name=\"mrp\" ng-model=\"v.model\" aria-label=\"Pricing Model\" />\n										</md-input-container>\n									</td>\n									<td>\n										<md-input-container flex>\n											<input name=\"price\" ng-model=\"v.price\" aria-label=\"Media Selling Price\" only-numbers/>\n										</md-input-container>\n									</td>\n									<td>\n										<md-input-container flex>\n											<input name=\"image\" hidden ng-model=\"v.image\" aria-label=\"Media Preview\"/>\n											<ng-md-icon class=\"orange600\" ng-hide=\"v.image\" icon=\"insert_photo\" ng-click=\"detail.mediaLibrary($index)\"></ng-md-icon>\n											<ng-md-icon ng-show=\"v.image\" icon=\"insert_photo\" ng-click=\"detail.mediaLibrary($index)\"></ng-md-icon>\n										</md-input-container>\n									</td>\n									<td>\n										<md-button class=\"md-icon-button\" aria-label=\"Delete Feature\"   ng-click=\"detail.deleteVariants($index,product);\"><ng-md-icon icon=\"delete\"></ng-md-icon></md-button>\n									</td>\n								</tr>\n								<tr class=\"md-table-content-row\"\n										ng-class=\"{\'selected\': detail.isSelected(p)}\">\n									<td>&nbsp;</td>\n									<td>New</td>\n									<td>\n										<md-input-container flex>\n											<input name=\"size\" ng-model=\"detail.product.newVariant.name\" aria-label=\"Media Name\"/>\n										</md-input-container>\n									</td>\n									<td>\n										<md-input-container flex>\n											<input name=\"size\" ng-model=\"detail.product.newVariant.size\" aria-label=\"Media Dimensions\"/>\n										</md-input-container>\n									</td>\n									<td>\n										<md-input-container flex>\n											<input name=\"weight\" ng-model=\"detail.product.newVariant.formart\" aria-label=\"Media Formart\"/>\n										</md-input-container>\n									</td>\n									<td>\n										<md-input-container flex>\n											<input name=\"mrp\" ng-model=\"detail.product.newVariant.model\" aria-label=\"Pricing Model\"/>\n										</md-input-container>\n									</td>\n									<td>\n										<md-input-container flex>\n											<input name=\"price\" ng-model=\"detail.product.newVariant.price\" aria-label=\"Media Selling Price\" only-numbers/>\n										</md-input-container>\n									</td>\n									<td>\n										<md-input-container flex>\n											<input name=\"image\" hidden ng-model=\"detail.product.newVariant.image\"  width=\"10px\" aria-label=\"Variant Image\"/>\n											<ng-md-icon class=\"orange600\" ng-hide=\"v.image\" icon=\"insert_photo\" ng-click=\"detail.mediaLibrary(1000000)\"></ng-md-icon>\n											<ng-md-icon ng-show=\"v.image\" icon=\"insert_photo\" ng-click=\"detail.mediaLibrary(1000000)\"></ng-md-icon>\n										</md-input-container>\n									</td>\n									<td>\n									</td>\n								</tr>\n							</tbody>\n			      </table>\n			    </section>\n\n			  </md-content>\n\n		<md-dialog-actions layout=\"row\">\n			<span flex></span>\n			<md-button ng-disabled=\"detailForm.$invalid\" type=\"submit\" class=\"md-primary md-raised\" aria-label=\"Save changes\">Save</md-button>\n		</md-dialog-actions>\n		</form>\n\n	</section>\n\n	<section class=\"section\" layout=\"column\" ng-hide=\"detail.isRoot\">\n\n		<span class=\"section-title\">Record Information</span>\n		<span layout=\"row\" layout-sm=\"column\" class=\"detail-info\">\n			<span flex>Modified\n				<span am-time-ago=\"detail.product.updated_at\"></span>\n				{{detail.product.updated_at && \'by \' + detail.product.uid}}\n				<md-tooltip>{{detail.product.updated_at | date:\'dd. MMMM yyyy H:mm\'}}</md-tooltip>\n			</span>\n		</span>\n\n		<span layout=\"row\" layout-sm=\"column\" class=\"detail-info\" ng-show=\"detail.product.created_at\">\n			<span flex=\"25\">Created</span>\n			<span flex>{{detail.product.created_at | date:\'dd. MMMM yyyy H:mm\'}}</span>\n		</span>\n\n	</section>\n\n<!--</md-content>-->\n\n<md-button class=\"md-fab md-accent md-fab-bottom-right fab-overlap md-button ng-scope md-blue-theme\" aria-label=\"Save Product\" ng-if=\"form.$dirty\" ng-click=\"detail.save(detail.product);\">\n	<ng-md-icon icon=\"save\"></ng-md-icon>\n</md-button>\n<script type=\"text/javascript\">\n	var inputs = document.querySelectorAll( \'.inputfile\' );\nArray.prototype.forEach.call( inputs, function( input )\n{\n	var label	 = input.nextElementSibling,\n		labelVal = label.innerHTML;\n\n	input.addEventListener( \'change\', function( e )\n	{\n		var fileName = \'\';\n		if( this.files && this.files.length > 1 )\n			fileName = ( this.getAttribute( \'data-multiple-caption\' ) || \'\' ).replace( \'{count}\', this.files.length );\n		else\n			fileName = e.target.value.split( \'\\\\\' ).pop();\n\n		if( fileName )\n			label.querySelector( \'span\' ).innerHTML = fileName;\n		else\n			label.innerHTML = labelVal;\n	});\n});\n</script>\n");
$templateCache.put("app/product/list.html","<a ng-click=\"main.create();\">\n	<md-button  show-gt-xs class=\"md-fab md-accent md-fab-top-left fab-overlap md-button ng-scope md-blue-theme\" aria-label=\"Create a new  {{list.header}}\" ng-if=\"!list.no.add\">\n		<ng-md-icon icon=\"add\"></ng-md-icon>\n	</md-button>\n</a>\n<md-progress-linear md-mode=\"indeterminate\" ng-show=\"list.loading\"></md-progress-linear>\n\n <!-- Add div For infinite scroll -->\n <md-content class=\"scroll products\">\n	<md-card infinite-scroll=\'list.loadMore()\' infinite-scroll-disabled=\'list.busy\' infinite-scroll-distance=\'1\' ng-if=\"list.data.length\">\n		<md-toolbar class=\"md-table-toolbar md-default\" aria-hidden=\"false\"\n		ng-hide=\"list.selected.length || filter.show || list.data.search\">\n      <div class=\"md-toolbar-tools\">\n				<h2 class=\"md-title\">List of {{list.header | labelCase}}s</h2>\n			  <div flex></div>\n			  <md-button tabindex=\"0\" ng-click=\"filter.show = true;\" class=\"md-icon-button md-button md-default-theme\" ng-show=\"!list.no.filter\"\n				aria-label=\"Open filter box for {{list.header}}s table\">\n			    <ng-md-icon icon=\"filter_list\"></ng-md-icon>\n			  </md-button>\n				<md-menu md-position-mode=\"target-right target\" ng-if=\"!list.no.export\">\n	      <md-button aria-label=\"Open options menu\" class=\"md-icon-button\" ng-click=\"list.openMenu($mdOpenMenu, $event)\">\n	        <ng-md-icon icon=\"inbox\"></ng-md-icon>\n	      </md-button>\n	      <md-menu-content width=\"4\">\n	        <md-menu-item>\n	          <md-button\n							ng-click=\"list.exportData(\'xls\');\"\n							aria-label=\"Export {{list.header}}s table as Excel\">\n	            <ng-md-icon icon=\"receipt\"></ng-md-icon>\n	            Excel\n	          </md-button>\n	        </md-menu-item>\n					<md-menu-divider></md-menu-divider>\n	        <md-menu-item>\n	          <md-button ng-click=\"list.exportData(\'json\');\" aria-label=\"Export {{list.header}}s table in JSON format\">\n	            <ng-md-icon icon=\"account_balance_wallet\"></ng-md-icon>\n	            JSON\n	          </md-button>\n	        </md-menu-item>\n	        <md-menu-divider></md-menu-divider>\n	        <md-menu-item>\n	          <md-button ng-click=\"list.exportData(\'txt\');\" aria-label=\"Export {{list.header}}s table in Text format\">\n	            <ng-md-icon icon=\"text_format\"></ng-md-icon>\n	            Text\n	          </md-button>\n	        </md-menu-item>\n	        <md-menu-divider></md-menu-divider>\n\n	      </md-menu-content>\n	    </md-menu>\n      </div>\n    </md-toolbar>\n\n		<md-toolbar class=\"md-table-toolbar md-default\"\n			ng-show=\"filter.show || list.data.search\"\n			aria-hidden=\"false\">\n      <div class=\"md-toolbar-tools\">\n				<ng-md-icon icon=\"search\"></ng-md-icon>\n				<md-input-container flex class=\"mgt30\">\n		      <label>Filter {{list.header}}s</label>\n		      <input ng-model=\"list.data.search\" focus-me=\"filter.show\">\n		    </md-input-container>\n				<ng-md-icon icon=\"close\" ng-click=\"filter.show = false; list.data.search = \'\';\" class=\"link\"></ng-md-icon>\n			</div>\n		</md-toolbar>\n\n<div class=\"md-table-container\">\n	<table md-colresize=\"md-colresize\" class=\"md-table\" id=\"exportable\">\n		<thead>\n			<tr class=\"md-table-headers-row\">\n				<th class=\"md-table-header\"></th>\n				<th ng-repeat=\"h in list.cols track by $index\" class=\"md-table-header\">\n					<a href=\"#\" ng-click=\"reverse=!reverse;list.order(h.field)\" ng-if=\"!list.no.sort && !h.noSort\">\n						{{h.heading | labelCase}}\n<ng-md-icon 	icon=\"arrow_downward\"\n					options=\'{\"rotation\": \"counterclock\"}\'\n					ng-show=\"reverse && h.field === list.sort.predicate\"\n					class=\"s18\"></ng-md-icon>\n<ng-md-icon 	icon=\"arrow_upwards\"\n					ng-show=\"!reverse && h.field === list.sort.predicate\"\n					options=\'{\"rotation\": \"counterclock\"}\'></ng-md-icon>\n					</a>\n					<a href=\"#\" ng-if=\"list.no.sort || h.noSort\">\n						{{h.heading | labelCase}}\n					</a>\n				</th>\n				<th class=\"md-table-header\"></th>\n\n			</tr>\n\n		</thead>\n\n		<tbody>\n\n			<tr ng-repeat=\"p in filtered = ((list.data | orderBy:list.sort.predicate:list.sort.reverse) | filter:q | filter:list.data.search | limitTo: list.l) track by p._id\" id=\"{{p._id}}\"\n					class=\"md-table-content-row\"\n					ng-class=\"{\'selected\': list.isSelected(p)}\">\n				<td>\n					<md-button class=\"md-icon-button\" aria-label=\"More\" ng-click=\"list.showInDetails(p);\" ng-if=\"!list.no.edit\">\n	      	  <ng-md-icon icon=\"edit\"></ng-md-icon>\n	    	  </md-button>\n				</td>\n				<td>\n					<list-image ng-if=\"!p.logo.base64\" string=\"{{p.name}}\"></list-image>\n					<img ng-if=\"p.logo.base64\" data-ng-src=\"data:image/png;base64,{{p.logo.base64}}\" err-SRC=\"/assets/images/material-shop-e3ca5c21c4.jpg\" />\n				</td>\n				<td>\n					<a ng-click=\"list.gotoDetail(p)\">{{p.name}}</a>\n				</td>\n\n				<td>\n					<md-switch class=\"md-secondary\" ng-model=\"p.active\" ng-change=\"list.changeStatus(p)\" aria-label=\"p.active\"></md-switch>\n				</td>\n				<td>\n					<md-button class=\"md-icon-button\" aria-label=\"Delete\" ng-click=\"list.delete(p);\" ng-if=\"!list.no.delete\">\n	        	<ng-md-icon icon=\"delete\"></ng-md-icon>\n					</md-button>\n				</td>\n			</tr>\n		</tbody>\n\n	</table>\n</div>\n <div class=\"md-table-pagination\">\n		<span>Filtered {{filtered.length}} of {{list.data.length}} {{list.header}}s</span>\n	</div>\n</md-card>\n </md-content>\n\n<a ng-click=\"main.create();\" ng-if=\"!list.no.add\"> \n	<md-button hide-gt-xs ui-sref=\"list.create\" class=\"md-fab md-accent md-fab-bottom-left\" aria-label=\"Create a new {{list.header}}\" ng-if=\"!list.no.add\">\n		<ng-md-icon icon=\"add\"></ng-md-icon>\n	</md-button>\n</a>\n	<md-card ng-if=\"list.data.length===0 && !list.loading\">\n	  <md-card-content>\n	    <h2>No {{list.header | labelCase}}s found</h2>\n	    <p class=\"mgl\" hide-xs>\n				There are no {{list.header | labelCase}}s!\n	      <a ng-click=\"main.create();\" href=\"\">Create one!</a>\n	    </p>\n	    <p hide-gt-xs>\n				There are no {{list.header | labelCase}}s!\n	      <a ng-click=\"main.create();\" href=\"\">Create one!</a>\n	    </p>\n	  </md-card-content>\n	</md-card>\n");
$templateCache.put("app/product/main.html","<navbar leftmenu=\"true\"></navbar>\n<left-menu></left-menu>\n<md-content flex layout=\"column\" class=\"content\">\n<section layout=\"row\">\n\n		<div ui-view=\"content\" layout=\"column\" flex></div>\n\n		<md-content\n			ui-view=\"detail\"\n			id=\"detail-content\"\n			toggle-component\n			md-component-id=\"products.detailView\"\n			layout=\"column\"\n			flex-xs=\"100\"\n			flex-sm = \"90\"\n			flex-md=\"90\"\n			flex-lg=\"66\"\n			flex-gt-lg=\"66\"\n			class=\"md-whiteframe-z1\">\n		</md-content>\n</section>\n</md-content>\n<footer></footer>\n\n");
$templateCache.put("app/product/media-library.html","<md-dialog aria-label=\"Media Library\" ng-cloak flex=\"95\">\n  <md-toolbar class=\"md-warn\">\n    <div class=\"md-toolbar-tools\">\n      <h2>Media Library</h2>\n      <span flex></span>\n      <md-button class=\"md-icon-button\" ng-click=\"cancel()\">\n        <ng-md-icon icon=\"close\" aria-label=\"Close dialog\"></ng-md-icon>\n      </md-button>\n    </div>\n  </md-toolbar>\n\n  <md-dialog-content>\n      <div class=\"md-dialog-content\"  class=\"md-whiteframe-z2\">\n          <md-grid-list class=\"media-list\" md-cols-xs =\"3\" md-cols-sm=\"4\" md-cols-md=\"5\" md-cols-lg=\"7\" md-cols-gt-lg=\"10\" md-row-height-gt-md=\"1:1\" md-row-height=\"4:3\" md-gutter=\"12px\" md-gutter-gt-sm=\"8px\" layout=\"row\" layout-align=\"center center\">\n            <md-grid-tile ng-repeat=\"i in media\" class=\"md-whiteframe-z2\" ng-click=\"ok(i.path)\">\n          		<div class=\"thumbnail\">\n          				<img ng-src=\"{{i.path}}\" draggable=\"false\" alt=\"{{i.name}}\">\n          		</div>\n              <md-grid-tile-footer><h3>{{i.name}}</h3></md-grid-tile-footer>\n            </md-grid-tile>\n          </md-grid-list>\n    </div>\n  </md-dialog-content>\n  <md-dialog-actions layout=\"row\">\n    <span flex></span>\n    <md-button ng-click=\"addNewImage()\" class=\"md-warn md-raised\">\n     Add new Image\n    </md-button>\n  </md-dialog-actions>\n</md-dialog>\n");
$templateCache.put("app/product/product.html","<products api=\'product\' options=\'summary\' details=\'details\'></products>\n");
$templateCache.put("app/payment-method/payment-method.html","<crud-table api=\'PaymentMethod\' options=\'options\'></crud-table>\n");
$templateCache.put("app/payment/cancel.html","<navbar leftmenu=\"true\"></navbar>\n<left-menu></left-menu>\n<md-content flex class=\"content md-padding\" layout=\"column\" layout-align=\"start center\">\n      <section class=\"header\" layout=\"column\" layout-align=\"center center\">\n        <h2>Payment Process Cancelled</h2>\n      </section>\n</md-content>\n<footer></footer>\n");
$templateCache.put("app/payment/error.html","<navbar leftmenu=\"true\"></navbar>\n<left-menu></left-menu>\n<md-content flex class=\"content md-padding\" layout=\"column\" layout-align=\"start center\">\n      <section class=\"header\" layout=\"column\" layout-align=\"center center\">\n        <h2>Payment Error Occured</h2>\n          <label>Here is more details about the error</label>\n      </section>\n</md-content>\n<footer></footer>\n");
$templateCache.put("app/payment/success.html","<navbar leftmenu=\"true\"></navbar>\n<left-menu></left-menu>\n<md-content flex class=\"content md-padding\" layout=\"column\" layout-align=\"start center\">\n      <section class=\"header\" layout=\"column\" layout-align=\"center center\">\n        <h2>Payment Successful</h2>\n        <md-input-container flex>\n          <label>Search Payments</label>\n          <input name=\"search\" type=\"text\" ng-model=\"payment.search\" md-autofocus/>\n        </md-input-container>\n      </section>\n  <section layout=\"column\" class=\"orders\">\n  <md-card ng-repeat=\"o in payment.orders | orderBy : \'orderDate\' : \'reverse\' | filter:payment.search\">\n      <md-card-header>\n          <md-card-header-text>\n            <span class=\"\">ORDER PLACED</span>\n            <span class=\"md-subhead\">{{o.created_at | amCalendar}}</span>\n          </md-card-header-text>\n          <md-card-header-text>\n            <span class=\"\">TOTAL</span>\n            <span class=\"md-subhead\">{{o.total | currency}}</span>\n          </md-card-header-text>\n          <md-card-header-text>\n            <span class=\"\">SHIP TO</span>\n            <span class=\"md-subhead\">{{o.name}}</span>\n          </md-card-header-text>\n          <md-card-header-text>\n            <span class=\"\">Order # </span>\n            <span class=\"md-subhead\">{{o.orderNo}}</span>\n          </md-card-header-text>\n      </md-card-header>\n      <md-card-content layout=\"row\" layout-align=\"space-between\">\n          <div flex>\n            <div layout=\"row\" ng-repeat=\"i in o.items\">\n              <md-card-avatar>\n                  <img ng-src=\"{{i.image}}\" class=\"md-card-image\" alt=\"i.name\" width=\"100px\">\n              </md-card-avatar>\n              \n              <div class=\"content\">\n              <a ng-click=\"payment.navigate(i)\">{{i.name}}</a><br/>\n              Size: <b>{{i.size}}</b><br/>\n              Amount: <b>{{i.price}} * {{i.quantity}}&nbsp;=&nbsp;{{i.price * i.quantity | currency: payment.Settings.currency.symbol}}</b>\n              <del ng-if=\"i.price!=i.mrp\">{{i.mrp}}</del><br/>\n              <br/>\n                \n              </div>\n            </div>\n          </div>\n          <md-card-actions layout=\"column\" class=\"content\">\n            <md-list flex>\n              <md-list-item class=\"md-2-line\">\n                <div class=\"md-list-item-text\">\n                  <h2 class=\"md-subhead\"><ng-md-icon icon=\"local_shipping\"></ng-md-icon>&nbsp;Address</h2>\n                  <hr>\n                  {{o.address}}<br/>\n                  {{o.city}}<br/>\n                  {{o.zip}}<br/>\n                  {{o.phone}}<br/>\n                </div>\n              </md-list-item>\n\n              <!--<md-list-item>\n                <div class=\"md-list-item-text\">\n                  <p class=\"md-subhead\">Payment Status: &nbsp;</p>\n                </div>\n                  <md-select ng-model=\"o.payment\" placeholder=\"Payment Status\" ng-change=\"payment.changeStatus(o)\">\n                    <md-option ng-value=\"o\" ng-repeat=\"o in payment.Settings.paymentStatus\">{{o}}</md-option>\n                  </md-select>\n              </md-list-item>-->\n\n              <md-list-item>\n                <div class=\"md-list-item-text\">\n                  <p  class=\"md-subhead\">Order Status: &nbsp;</p>\n                </div>\n                  <md-select ng-model=\"o.status\" placeholder=\"Order Status\" ng-change=\"payment.changeStatus(o)\" flex>\n                    <md-option ng-value=\"o\" ng-repeat=\"o in payment.Settings.orderStatus\">{{o}}</md-option>\n                  </md-select>\n              </md-list-item>\n           </md-list>\n          </md-card-actions>\n      </md-card-content>\n  </md-card>\n  </section>\n</md-content>\n<footer></footer>\n");
$templateCache.put("app/shipping/shipping.html","<crud-table api=\'shipping\' options=\'options\'></crud-table>\n");
$templateCache.put("app/wish/wish.html","<navbar></navbar>\n<div layout=\"column\" layout-align=\"center center\">\n<div layout=\"column\" layout-align=\"center stretch\" flex-xs=\"100\" flex-gt-xs=\"75\" flex-gt-md=\"50\">\n<md-card ng-repeat=\"w in wish.wishes\" class=\"wishlist\" layout=\"row\" layout-align=\"space-between top\">\n    \n    <md-card-title>\n        <md-card-title-media>\n            <div class=\"md-media-lg card-media\">\n                <img src=\"{{w.variant.image}}\" alt=\"{{w.product.name}}\">\n            </div>\n        </md-card-title-media>\n        <md-card-title-text>\n            <div class=\"product-description\">\n                <h2 class=\"name\" ng-click=\"wish.gotoDetail(w)\">{{w.product.name}}</a></h2>\n                <md-divider></md-divider><br/>\n            </div>\n            <div layout=\"row\" class=\"wish-content\">\n                <div class=\"price\" flex=50>\n                    <div class=\"price\">Price: <span class=\"text-muted\">{{w.variant.price | currency : vm.Settings.currency.symbol}}</span></div>\n                    <del ng-if=\"w.variant.price!=w.variant.mrp\">\n                        MRP: {{w.variant.mrp | currency : vm.Settings.currency.symbol}}\n                    </del>   (Size: {{w.variant.size}})\n                    <br/>\n                    <div layout=\"row\" layout-align=\"start center\">    \n                        <cart-buttons pid= \"w.product._id\" variant=\"w.variant\" product=\"w.product\"></cart-buttons>\n                    </div>\n                </div>\n                <div flex>\n                    <div ng-if=\"w.product.keyFeatures.length>0\">\n                        <b>Key Features:</b>\n                        <ul>\n                            <li ng-repeat=\"k in w.product.keyFeatures\"><b>{{k.key}}</b> : {{k.val}}</li>\n                        </ul>\n                    </div>\n                </div>\n            </div>\n        </md-card-title-text>\n    </md-card-title>\n    <a aria-label=\"Remove {{w.product.name}} from wishlist\" ng-click=\"wish.remove(w)\">\n        <ng-md-icon icon=\"close\"></ng-md-icon>\n    </a>\n</md-card>\n</div>\n</div>\n<footer></footer>");
$templateCache.put("app/statistic/statistic.html","<crud-table api=\'statistic\' options=\'options\'></crud-table>\n");
$templateCache.put("app/account/cp/cp.html","<navbar leftmenu=\"true\"></navbar>\n<left-menu></left-menu>\n<md-content flex layout=\"column\" class=\"content\" layout-align=\"start center\">\n<section layout=\"column\" layout-align=\"start center\">\n	<h1>Change Password</h1>\n	<form name=\"form\" ng-submit=\"cp.changePassword(form)\" novalidate autocomplete=\"off\" autocomplete=\"off\">\n		<section class=\"section\" layout=\"column\">\n			<md-input-container md-is-error=\"form.password.$error.required && form.password.$dirty\">\n				<label>Current Password</label>\n				<input name=\"password\" type=\"password\" ng-model=\"cp.user.oldPassword\" required md-autofocus mongoose-error ng-minlength=\"3\"/>\n				<div ng-if=\"form.password.$error.mongoose\" class=\"err\">Password is incorrect</div>\n				<div ng-messages=\"form.password.$error\" ng-if=\"form.password.$dirty\">\n					<div ng-message=\"required\">Password is required</div>\n					<div ng-message=\"mongoose\">Password is incorrect</div>\n					<div ng-message=\"minlength\">Password must be at least 3 characters.</div>\n				</div>\n			</md-input-container>\n\n			<md-input-container flex class=\"last\">\n				<label>New Password</label>\n				<input name=\"newPassword\" type=\"password\"  ng-model=\"cp.user.newPassword\" required ng-minlength=\"3\">\n				<div ng-messages=\"form.newPassword.$error\" ng-if=\"form.newPassword.$dirty\">\n					<div ng-message=\"required\">Please repeat the new password</div>\n					<div ng-message=\"minlength\">Password must be at least 3 characters.</div>\n				</div>\n			</md-input-container>\n\n			<p class=\"help-block success\" ng-if=\"cp.submitted && cp.message\"> {{cp.message}} </p>\n		</section>\n		<submit-button loading=\"cp.loading\" form=\"form\" text=\"Change Password\"></submit-button>\n	</form>\n</section>\n</md-content>\n<footer></footer>");
$templateCache.put("app/account/login/login.html","<navbar></navbar>\n<md-content flex layout=\"column\" class=\"content\" layout-align=\"start center\">\n<section layout=\"column\" layout-align=\"start center\">\n\n	<h1>Login</h1>\n\n	<p ng-show=\"login.error\" class=\"md-warn\">{{login.error.message}}</p>\n\n	<form name=\"form\" ng-submit=\"login.login(form)\" novalidate>\n	<section class=\"section\" layout=\"column\">\n		<md-input-container md-is-error=\"(form.email.$error.required || form.email.$error.email) && form.email.$dirty\">\n			<label>Email</label>\n			<input name=\"email\" type=\"email\" ng-model=\"login.user.email\" required md-autofocus/>\n			<div ng-messages=\"form.email.$error\" ng-if=\"form.email.$dirty\">\n				<div ng-message=\"required\">Email ID is required</div>\n				<div ng-message=\"email\">Please enter valid email address.</div>\n			</div>\n		</md-input-container>\n\n		<md-input-container md-is-error=\"form.password.$error.required && form.password.$dirty\">\n			<label>Password</label>\n			<input name=\"password\" type=\"password\" ng-model=\"login.user.password\" required/>\n			<div ng-messages=\"form.password.$error\">\n				<div ng-message=\"required\">Password is required</div>\n				<div class=\"err\">{{ login.errors.other }}<br/>\n+					<a ui-sref=\"forgot({ email: login.user.email})\" href=\"#\">Forgot Password</a></div>\n			</div>\n		</md-input-container>\n\n    <div class=\"form-group has-error\">\n    <p class=\"help-block\" ng-show=\"form.email.$error.required && form.password.$error.required && login.submitted\">\n       Please enter your email and password.\n    </p>\n\n    </div>\n</section>\n		<div class=\"md-dialog-actions\" layout=\"row\">\n	    <md-button type=\"submit\" class=\"md-raised circular-progress-button md-primary\" ng-disabled=\"!form.$valid || login.loading\" aria-label=\"Login\">\n	      <span ng-show=\"!login.loading\"><ng-md-icon icon=\"perm_identity\"></ng-md-icon>Login</span>\n	      <md-progress-circular md-mode=\"indeterminate\" md-diameter=\"25\" ng-show=\"login.loading\" class=\"md-accent md-hue-1\"></md-progress-circular><span ng-show=\"login.loading\">Loading...</span>\n	    </md-button>\n			<md-button class=\"btn btn-default btn-lg btn-register\" ui-sref=\"signup\" aria-label=\"SignUp\"> Signup </md-button>\n	  </div>\n\n	</form>\n\n</section>\n</md-content>\n<footer></footer>");
$templateCache.put("app/account/password/forgot.html","<navbar></navbar>\n<md-content flex layout=\"column\">\n<section layout=\"column\" flex layout-align=\"center center\">\n	<h1>Forgot Password</h1>\n\n	<p class=\"md-warn message\" ng-show=\"forgot.errors.message\">{{forgot.errors.message}}</p>\n\n	<form name=\"form\" ng-submit=\"forgot.forgot(form)\" novalidate>\n		<section class=\"section\" layout=\"column\">\n			<md-input-container md-is-error=\"(form.email.$error.required || form.email.$error.email || forgot.errors.other) && form.email.$dirty\">\n				<label>Email</label>\n				<input name=\"email\" type=\"email\" ng-model=\"forgot.user.email\" required md-autofocus/>\n				<div ng-messages=\"form.email.$error\" ng-if=\"form.email.$dirty\">\n					<div ng-message=\"required\">Email ID is required</div>\n					<div ng-message=\"email\">Please enter valid email address.</div>\n					<div ng-if=\"forgot.errors.email\">{{forgot.errors.email}}</div>\n				</div>\n			</md-input-container>\n		</section>\n		<div layout=\"column\" layout-align=\"center center\">\n			<md-button type=\"submit\" class=\"md-raised circular-progress-button md-primary\" ng-disabled=\"forgot.loading\" aria-label=\"Forgot password\" layout=\"row\" layout-align=\"center center\">\n				<ng-md-icon icon=\"email\" ng-hide=\"forgot.loading\"></ng-md-icon> \n				<md-progress-circular md-mode=\"indeterminate\" md-diameter=\"25\" ng-show=\"forgot.loading\" class=\"md-accent md-hue-1\"></md-progress-circular>\n				<span>&nbsp;Reset Password</span>\n			</md-button>\n		</div>\n	</form>\n\n</section>\n</md-content>\n<footer></footer>\n");
$templateCache.put("app/account/password/reset.html","<navbar></navbar>\n<md-content flex layout=\"column\">\n<section layout=\"column\" flex layout-align=\"center center\">\n	<h1>Enter New Password</h1>\n\n	<p class=\"md-warn message\" ng-show=\"reset.errors.message\">{{reset.errors.message}}</p>\n\n	<form name=\"form\" ng-submit=\"reset.reset(form)\" novalidate flex>\n	<section class=\"section\" layout=\"column\">\n\n		<md-input-container md-is-error=\"(form.password.$error.required ||  form.password.$error.mongoose || form.password.$error.minlength) && form.password.$dirty\">\n			<label>Password</label>\n			<input name=\"password\" type=\"password\" ng-model=\"reset.user.password\" required mongoose-error ng-minlength=\"3\"/>\n			<div ng-messages=\"form.password.$error\" ng-if=\"form.password.$dirty\">\n				<div ng-message=\"required\">Password is required</div>\n				<div ng-message=\"mongoose\">{{ errors.password }}</div>\n				<div ng-message=\"minlength\">Password must be at least 3 characters.</div>\n			</div>\n		</md-input-container>\n\n		<md-input-container flex class=\"last\" md-is-error=\"(form.passwordRepeat.$error.required ||  form.passwordRepeat.$error.minlength || form.passwordRepeat.$error.repeat-input) && form.passwordRepeat.$dirty\">\n			<label>Repeat Password</label>\n			<input name=\"passwordRepeat\" type=\"password\"  ng-model=\"reset.user.passwordRepeat\" required repeat-input=\"reset.user.password\" ng-minlength=\"3\">\n			<div ng-messages=\"form.passwordRepeat.$error\" ng-if=\"form.passwordRepeat.$dirty\">\n				<div ng-message=\"required\">Please repeat the new password</div>\n				<div ng-message=\"minlength\">Password must be at least 3 characters.</div>\n				<div ng-message=\"repeat-input\">The passwords do not match</div>\n				<div ng-if=\"reset.errors.email\">{{reset.errors.email}}</div>\n			</div>\n		</md-input-container>\n\n    <div class=\"form-group has-error\">\n    <p class=\"help-block\" ng-show=\"form.password.$error.required && form.password.$error.required && reset.submitted\">\n       Please enter your password.\n    </p>\n\n    </div>\n</section>\n\n		<div layout=\"column\" layout-align=\"center center\">\n	    <md-button type=\"submit\" class=\"md-raised circular-progress-button md-primary\" ng-disabled=\"!form.$valid || reset.loading\" aria-label=\"Login\" layout=\"row\" layout-align=\"center center\">\n	      <ng-md-icon icon=\"lock\" ng-show=\"!reset.loading\"></ng-md-icon>\n	      <md-progress-circular md-mode=\"indeterminate\" md-diameter=\"25\" ng-show=\"reset.loading\" class=\"md-accent md-hue-1\"></md-progress-circular>\n		  &nbsp;Save New Password\n	    </md-button>\n	  </div>\n\n	</form>\n\n</section>\n</md-content>\n<footer></footer>\n");
$templateCache.put("app/account/signup/signup.html","<navbar></navbar>\n<md-content flex layout=\"column\" class=\"content\" layout-align=\"start center\">\n<section layout=\"column\" layout-align=\"start center\">\n<h1>Signup</h1>\n\n		<form name=\"form\" ng-submit=\"signup.register(form)\" novalidate>\n\n			<section class=\"section\" layout=\"column\">\n				<md-input-container md-is-error=\"form.name.$error.required && form.name.$dirty\">\n					<label>Name</label>\n					<input name=\"name\" ng-model=\"signup.user.name\" required md-autofocus/>\n					<div ng-messages=\"form.name.$error\" ng-if=\"form.name.$dirty\">\n						<div ng-message=\"required\">Name is required</div>\n					</div>\n				</md-input-container>\n\n				<md-input-container flex md-is-error=\"(form.email.$error.email || form.email.$error.required || form.email.$error.mongoose || form.email.$error.remote-unique) && form.email.$dirty\">\n					<label>Email ID</label>\n					<input type=\"email\" name=\"email\" ng-model=\"signup.user.email\"\n								 ng-model-options=\"{updateOn: \'default blur\', debounce: {\'default\': 500, \'blur\': 0}}\"\n								 required mongoose-error>\n					<div ng-messages=\"form.email.$error\" ng-if=\"form.email.$dirty\">\n						<div ng-message=\"email\">Please enter a valid email address.</div>\n						<div ng-message=\"required\">Email is required</div>\n						<div ng-message=\"mongoose\">Email already in use</div>\n					</div>\n				</md-input-container>\n\n\n				<md-input-container md-is-error=\"(form.password.$error.required ||  form.password.$error.mongoose || form.password.$error.minlength) && form.password.$dirty\">\n					<label>Password</label>\n					<input name=\"password\" type=\"password\" ng-model=\"signup.user.password\" required mongoose-error ng-minlength=\"3\"/>\n					<div ng-messages=\"form.password.$error\" ng-if=\"form.password.$dirty\">\n						<div ng-message=\"required\">Password is required</div>\n						<div ng-message=\"mongoose\">{{ errors.password }}</div>\n						<div ng-message=\"minlength\">Password must be at least 3 characters.</div>\n					</div>\n				</md-input-container>\n\n				<md-input-container flex class=\"last\" md-is-error=\"(form.passwordRepeat.$error.required ||  form.passwordRepeat.$error.minlength || form.passwordRepeat.$error.repeat-input) && form.passwordRepeat.$dirty\">\n					<label>Repeat Password</label>\n					<input name=\"passwordRepeat\" type=\"password\"  ng-model=\"signup.user.passwordRepeat\" required repeat-input=\"signup.user.password\" ng-minlength=\"3\">\n					<div ng-messages=\"form.passwordRepeat.$error\" ng-if=\"form.passwordRepeat.$dirty\">\n						<div ng-message=\"required\">Please repeat the new password</div>\n						<div ng-message=\"minlength\">Password must be at least 3 characters.</div>\n						<div ng-message=\"repeat-input\">The passwords do not match</div>\n					</div>\n				</md-input-container>\n\n			</section>\n\n\n			<div class=\"md-dialog-actions\" layout=\"row\">\n				<span flex></span>\n				<md-button ng-disabled=\"form.$invalid || signup.loading\" class=\"md-primary md-raised circular-progress-button\" type=\"submit\" aria-label=\"SignUp\">\n					<span ng-show=\"!signup.loading\"><ng-md-icon icon=\"input\"></ng-md-icon> Signup</span>\n					<md-progress-circular md-mode=\"indeterminate\" md-diameter=\"25\" ng-show=\"signup.loading\" class=\"md-accent md-hue-1\"></md-progress-circular><span ng-show=\"signup.loading\">Loading...</span>\n				</md-button>\n				<md-button ng-click=\"signup.cancel();\" aria-label=\"Cancel SignUp\">Cancel</md-button>\n			</div>\n</form>\n</section>\n<oauth-buttons></oauth-buttons>\n</md-content>\n<footer></footer>");}]);